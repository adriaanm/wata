var __BUNDLE_START_TIME__=globalThis.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=globalThis.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(e){"use strict";e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(r.has(n))return;var i={dependencyMap:o,factory:e,hasError:!1,importedAll:t,importedDefault:t,isInitialized:!1,publicModule:{exports:{}}};r.set(n,i)},e.__c=o,e.__registerSegment=function(e,t,n){s[e]=t,n&&n.forEach(function(t){r.has(t)||v.has(t)||v.set(t,e)})};var r=o(),t={},n={}.hasOwnProperty;function o(){return r=new Map}function i(e,t){if(null===e)throw new Error("Cannot find module");var n=e,o=r.get(n);return o&&o.isInitialized?o.publicModule.exports:d(n,o)}function l(e){var n=e,o=r.get(n);if(o&&o.importedDefault!==t)return o.importedDefault;var l=i(n),a=l&&l.__esModule?l.default:l;return r.get(n).importedDefault=a}function a(e){var o=e,l=r.get(o);if(l&&l.importedAll!==t)return l.importedAll;var a,u=i(o);if(u&&u.__esModule)a=u;else{if(a={},u)for(var d in u)n.call(u,d)&&(a[d]=u[d]);a.default=u}return r.get(o).importedAll=a}i.importDefault=l,i.importAll=a,i.context=function(){throw new Error("The experimental Metro feature `require.context` is not enabled in your project.")},i.resolveWeak=function(){throw new Error("require.resolveWeak cannot be called dynamically.")};var u=!1;function d(r,t){if(!u&&e.ErrorUtils){var n;u=!0;try{n=h(r,t)}catch(r){e.ErrorUtils.reportFatalError(r)}return u=!1,n}return h(r,t)}var f=16,c=65535;function p(e){return{segmentId:e>>>f,localId:e&c}}i.unpackModuleId=p,i.packModuleId=function(e){return(e.segmentId<<f)+e.localId};var s=[],v=new Map;function h(t,n){if(!n&&s.length>0){var o,u=null!=(o=v.get(t))?o:0,d=s[u];null!=d&&(d(t),n=r.get(t),v.delete(t))}var f=e.nativeRequire;if(!n&&f){var c=p(t),h=c.segmentId;f(c.localId,h),n=r.get(t)}if(!n)throw Error('Requiring unknown module "'+t+'".');if(n.hasError)throw n.error;n.isInitialized=!0;var g=n,m=g.factory,_=g.dependencyMap;try{var w=n.publicModule;return w.id=t,m(e,i,l,a,w,w.exports,_),n.factory=void 0,n.dependencyMap=void 0,w.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var e=(function(){function n(n,e){return n}function e(n){var e={};return n.forEach(function(n,r){e[n]=!0}),e}function r(n,r,u){if(n.formatValueCalls++,n.formatValueCalls>200)return`[TOO BIG formatValueCalls ${n.formatValueCalls} exceeded limit of 200]`;var c=t(n,r);if(c)return c;var f=Object.keys(r),s=e(f);if(d(r)&&(f.indexOf('message')>=0||f.indexOf('description')>=0))return o(r);if(0===f.length){if(v(r)){var g=r.name?': '+r.name:'';return n.stylize('[Function'+g+']','special')}if(p(r))return n.stylize(RegExp.prototype.toString.call(r),'regexp');if(y(r))return n.stylize(Date.prototype.toString.call(r),'date');if(d(r))return o(r)}var h,m,b='',j=!1,E=['{','}'];(h=r,Array.isArray(h)&&(j=!0,E=['[',']']),v(r))&&(b=' [Function'+(r.name?': '+r.name:'')+']');return p(r)&&(b=' '+RegExp.prototype.toString.call(r)),y(r)&&(b=' '+Date.prototype.toUTCString.call(r)),d(r)&&(b=' '+o(r)),0!==f.length||j&&0!=r.length?u<0?p(r)?n.stylize(RegExp.prototype.toString.call(r),'regexp'):n.stylize('[Object]','special'):(n.seen.push(r),m=j?i(n,r,u,s,f):f.map(function(e){return a(n,r,u,s,e,j)}),n.seen.pop(),l(m,b,E)):E[0]+b+E[1]}function t(n,e){if(s(e))return n.stylize('undefined','undefined');if('string'==typeof e){var r="'"+JSON.stringify(e).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(r,'string')}return f(e)?n.stylize(''+e,'number'):u(e)?n.stylize(''+e,'boolean'):c(e)?n.stylize('null','null'):void 0}function o(n){return'['+Error.prototype.toString.call(n)+']'}function i(n,e,r,t,o){for(var i=[],l=0,u=e.length;l<u;++l)m(e,String(l))?i.push(a(n,e,r,t,String(l),!0)):i.push('');return o.forEach(function(o){o.match(/^\d+$/)||i.push(a(n,e,r,t,o,!0))}),i}function a(n,e,t,o,i,a){var l,u,f;if((f=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=f.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):f.set&&(u=n.stylize('[Setter]','special')),m(o,i)||(l='['+i+']'),u||(n.seen.indexOf(f.value)<0?(u=c(t)?r(n,f.value,null):r(n,f.value,t-1)).indexOf('\n')>-1&&(u=a?u.split('\n').map(function(n){return'  '+n}).join('\n').slice(2):'\n'+u.split('\n').map(function(n){return'   '+n}).join('\n')):u=n.stylize('[Circular]','special')),s(l)){if(a&&i.match(/^\d+$/))return u;(l=JSON.stringify(''+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.slice(1,l.length-1),l=n.stylize(l,'name')):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),l=n.stylize(l,'string'))}return l+': '+u}function l(n,e,r){return n.reduce(function(n,e){return e.indexOf('\n')>=0&&0,n+e.replace(/\u001b\[\d\d?m/g,'').length+1},0)>60?r[0]+(''===e?'':e+'\n ')+' '+n.join(',\n  ')+' '+r[1]:r[0]+e+' '+n.join(', ')+' '+r[1]}function u(n){return'boolean'==typeof n}function c(n){return null===n}function f(n){return'number'==typeof n}function s(n){return void 0===n}function p(n){return g(n)&&'[object RegExp]'===h(n)}function g(n){return'object'==typeof n&&null!==n}function y(n){return g(n)&&'[object Date]'===h(n)}function d(n){return g(n)&&('[object Error]'===h(n)||n instanceof Error)}function v(n){return'function'==typeof n}function h(n){return Object.prototype.toString.call(n)}function m(n,e){return Object.prototype.hasOwnProperty.call(n,e)}return function(e,t){return r({seen:[],formatValueCalls:0,stylize:n},e,t.depth)}})(),r='(index)',t=0,o=1,i=2,a=3;function l(r){return function(){var t;t=1===arguments.length&&'string'==typeof arguments[0]?arguments[0]:Array.prototype.map.call(arguments,function(n){return e(n,{depth:10})}).join(', ');var o=arguments[0],l=r;'string'==typeof o&&'Warning: '===o.slice(0,9)&&l>=a&&(l=i),f.length&&(t=s('',t)),n.nativeLoggingHook(t,l)}}function u(n,e){return Array.apply(null,Array(e)).map(function(){return n})}function c(n,e){if(e===r)return n[e];if(n.hasOwnProperty(e)){var t=n[e];switch(typeof t){case'function':return'\u0192';case'string':return"'"+t+"'";case'object':return null==t?'null':'{\u2026}'}return String(t)}return''}var f=[];function s(n,e){return f.join('')+n+' '+(e||'')}function p(){}if(n.nativeLoggingHook){var g=n.console;if(n.console=Object.assign({time:p,timeEnd:p,timeStamp:p,count:p,countReset:p},null!=g?g:{},{error:l(a),info:l(o),log:l(o),warn:l(i),trace:l(t),debug:l(t),table:function(e,t){var i;if(Array.isArray(e))i=e.map(function(n,e){var t={};return t[r]=String(e),Object.assign(t,n),t});else for(var a in i=[],e)if(e.hasOwnProperty(a)){var l={};l[r]=a,Object.assign(l,e[a]),i.push(l)}if(0!==i.length){t=Array.isArray(t)?[r].concat(t):Array.from(i.reduce(function(n,e){return Object.keys(e).forEach(function(e){return n.add(e)}),n},new Set));var f=[],s=[];t.forEach(function(n,e){s[e]=n.length;for(var r=0;r<i.length;r++){var t=c(i[r],n);f[r]=f[r]||[],f[r][e]=t,s[e]=Math.max(s[e],t.length)}});for(var p=d(s.map(function(n){return u('-',n).join('')})),g=[d(t),p],y=0;y<i.length;y++)g.push(d(f[y]));n.nativeLoggingHook('\n'+g.join('\n'),o)}else n.nativeLoggingHook('',o);function d(n,e){var r=n.map(function(n,e){return n+u(' ',s[e]-n.length).join('')});return e=e||' ','| '+r.join(e+'|'+e)+' |'}},group:function(e){n.nativeLoggingHook(s("\u2510",e),o),f.push("\u2502")},groupEnd:function(){f.pop(),n.nativeLoggingHook(s("\u2518"),o)},groupCollapsed:function(e){n.nativeLoggingHook(s("\u2518",e),o),f.push("\u2502")},assert:function(e,r){e||n.nativeLoggingHook('Assertion failed: '+r,a)}}),!0===n.RN$useAlwaysAvailableJSErrorHandling){var y=function(n){return e(n,{depth:10}).replace(/\n\s*/g,' ')},d=console.error;console.reportErrorsAsExceptions=!0,console.error=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(d.apply(this,r),console.reportErrorsAsExceptions&&(null==n.RN$inExceptionHandler||!n.RN$inExceptionHandler())){var o,i=r[0];if(null!=i&&i.stack)o=i;else{if('string'==typeof i&&i.startsWith('Warning: '))return;var a=r.map(function(n){return'string'==typeof n?n:y(n)}).join(' ');(o=new Error(a)).name='console.error'}n.RN$handleException(o,!1,!1)}}}Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}else if(!n.console){var v=n.print||p;n.console={debug:v,error:v,info:v,log:v,trace:v,warn:v,assert:function(n,e){n||v('Assertion failed: '+e)},clear:p,count:p,countReset:p,dir:p,dirxml:p,group:p,groupCollapsed:p,groupEnd:p,profile:p,profileEnd:p,table:p,time:p,timeEnd:p,timeStamp:p},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var r=0,t=!0===n.RN$useAlwaysAvailableJSErrorHandling?n.RN$handleException:function(n,r){throw n},l={setGlobalHandler:function(n){t=n},getGlobalHandler:function(){return t},reportError:function(n){t&&t(n,!1)},reportFatalError:function(n){t&&t(n,!0)},applyWithGuard:function(n,t,u,a,e){try{return r++,n.apply(t,u)}catch(n){l.reportError(n)}finally{r--}return null},applyWithGuardIfNeeded:function(n,r,t){return l.inGuard()?n.apply(r,t):(l.applyWithGuard(n,r,t),null)},inGuard:function(){return!!r},guard:function(n,r,t){var u;if('function'!=typeof n)return console.warn('A function must be passed to ErrorUtils.guard, got ',n),null;var a=null!=(u=null!=r?r:n.name)?u:'<generated guard>';return function(){for(var r=arguments.length,u=new Array(r),e=0;e<r;e++)u[e]=arguments[e];return l.applyWithGuard(n,null!=t?t:this,u,null,a)}}};n.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),f=r(d[1]),t=n(r(d[2]));g.Buffer=r(d[3]).Buffer,f.AppRegistry.registerComponent(r(d[4]).name,function(){return t.default})},0,[1,2,500,1006,1033]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){return e&&e.__esModule?e:{default:e}},m.exports.__esModule=!0,m.exports.default=m.exports},1,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={get ActivityIndicator(){return r(d[0]).default},get Button(){return r(d[1]).default},get DrawerLayoutAndroid(){return r(d[2]).default},get FlatList(){return r(d[3]).default},get Image(){return r(d[4]).default},get ImageBackground(){return r(d[5]).default},get InputAccessoryView(){return r(d[6]).default},get KeyboardAvoidingView(){return r(d[7]).default},get experimental_LayoutConformance(){return r(d[8]).default},get Modal(){return r(d[9]).default},get unstable_NativeText(){return r(d[10]).NativeText},get unstable_NativeView(){return r(d[11]).default},get Pressable(){return r(d[12]).default},get ProgressBarAndroid(){return r(d[13]).default('progress-bar-android-moved',"ProgressBarAndroid has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-bar-android' instead of 'react-native'. See https://github.com/react-native-progress-view/progress-bar-android"),r(d[14]).default},get RefreshControl(){return r(d[15]).default},get SafeAreaView(){return r(d[13]).default('safe-area-view-deprecated',"SafeAreaView has been deprecated and will be removed in a future release. Please use 'react-native-safe-area-context' instead. See https://github.com/AppAndFlow/react-native-safe-area-context"),r(d[16]).default},get ScrollView(){return r(d[17]).default},get SectionList(){return r(d[18]).default},get StatusBar(){return r(d[19]).default},get Switch(){return r(d[20]).default},get Text(){return r(d[21]).default},get unstable_TextAncestorContext(){return r(d[22]).default},get TextInput(){return r(d[23]).default},get Touchable(){return r(d[24]).default},get TouchableHighlight(){return r(d[25]).default},get TouchableNativeFeedback(){return r(d[26]).default},get TouchableOpacity(){return r(d[27]).default},get TouchableWithoutFeedback(){return r(d[28]).default},get View(){return r(d[29]).default},get VirtualizedList(){return r(d[30]).default},get VirtualizedSectionList(){return r(d[31]).default},get unstable_VirtualView(){return r(d[32]).default},get AccessibilityInfo(){return r(d[33]).default},get ActionSheetIOS(){return r(d[34]).default},get Alert(){return r(d[35]).default},get Animated(){return r(d[36]).default},get Appearance(){return r(d[37])},get AppRegistry(){return r(d[38]).AppRegistry},get AppState(){return r(d[39]).default},get BackHandler(){return r(d[40]).default},get Clipboard(){return r(d[13]).default('clipboard-moved',"Clipboard has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-clipboard/clipboard' instead of 'react-native'. See https://github.com/react-native-clipboard/clipboard"),r(d[41]).default},get codegenNativeCommands(){return r(d[42]).default},get codegenNativeComponent(){return r(d[43]).default},get DeviceEventEmitter(){return r(d[44]).default},get DeviceInfo(){return r(d[45]).default},get DevMenu(){return r(d[46]).default},get DevSettings(){return r(d[47]).default},get Dimensions(){return r(d[48]).default},get DynamicColorIOS(){return r(d[49]).DynamicColorIOS},get Easing(){return r(d[50]).default},get findNodeHandle(){return r(d[51]).findNodeHandle},get I18nManager(){return r(d[52]).default},get InteractionManager(){return r(d[13]).default('interaction-manager-deprecated',"InteractionManager has been deprecated and will be removed in a future release. Please refactor long tasks into smaller ones, and  use 'requestIdleCallback' instead."),r(d[53]).default},get Keyboard(){return r(d[54]).default},get LayoutAnimation(){return r(d[55]).default},get Linking(){return r(d[56]).default},get LogBox(){return r(d[57]).default},get NativeAppEventEmitter(){return r(d[58]).default},get NativeComponentRegistry(){return r(d[59])},get NativeDialogManagerAndroid(){return r(d[60]).default},get NativeEventEmitter(){return r(d[61]).default},get NativeModules(){return r(d[62]).default},get Networking(){return r(d[63]).default},get PanResponder(){return r(d[64]).default},get PermissionsAndroid(){return r(d[65]).default},get PixelRatio(){return r(d[66]).default},get Platform(){return r(d[67]).default},get PlatformColor(){return r(d[68]).PlatformColor},get PushNotificationIOS(){return r(d[13]).default('pushNotificationIOS-moved',"PushNotificationIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/push-notification-ios' instead of 'react-native'. See https://github.com/react-native-push-notification/ios"),r(d[69]).default},get processColor(){return r(d[70]).default},get registerCallableModule(){return r(d[71]).default},get requireNativeComponent(){return r(d[72]).default},get ReactNativeVersion(){return r(d[73]).default},get RootTagContext(){return r(d[74]).RootTagContext},get Settings(){return r(d[75]).default},get Share(){return r(d[76]).default},get StyleSheet(){return r(d[77]).default},get Systrace(){return r(d[78])},get ToastAndroid(){return r(d[79]).default},get TurboModuleRegistry(){return r(d[80])},get UIManager(){return r(d[81]).default},get unstable_batchedUpdates(){return r(d[51]).unstable_batchedUpdates},get useAnimatedValue(){return r(d[82]).default},get useColorScheme(){return r(d[83]).default},get useWindowDimensions(){return r(d[84]).default},get UTFSequence(){return r(d[85]).default},get Vibration(){return r(d[86]).default},get VirtualViewMode(){return r(d[32]).VirtualViewMode}}},2,[3,280,396,337,355,404,405,412,418,420,291,77,428,155,272,366,406,371,393,397,430,281,74,435,439,443,292,293,444,72,445,446,447,413,450,223,294,453,236,456,249,460,106,275,17,463,464,466,16,469,314,107,425,470,377,378,471,476,231,78,224,201,33,200,477,479,10,69,58,482,55,229,276,485,246,486,488,6,28,491,31,80,494,495,409,496,497]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),i=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),o=((function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?n:i){if(r.has(e))return r.get(e);r.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?r(l,s,o):l[s]=e[s])})(e,t)})(_r(d[5])),_r(d[6])),l=["ref","animating","color","hidesWhenStopped","onLayout","size","style"];var s='android'===n.default.OS?_r(d[7]).default:_r(d[8]).default,f=function(e){var f,c,p=e.ref,h=e.animating,y=void 0===h||h,v=e.color,j=void 0===v?'ios'===n.default.OS?"#999999":null:v,O=e.hidesWhenStopped,_=void 0===O||O,b=e.onLayout,w=e.size,S=void 0===w?'small':w,z=e.style,W=(0,t.default)(e,l);switch(S){case'small':f=u.sizeSmall,c='small';break;case'large':f=u.sizeLarge,c='large';break;default:f={height:S,width:S}}var k=Object.assign({animating:y,color:j,hidesWhenStopped:_},W,{ref:p,style:f,size:c});return(0,o.jsx)(r.default,{onLayout:b,style:i.default.compose(u.container,z),children:'android'===n.default.OS?(0,o.jsx)(s,Object.assign({},k,{styleAttr:'Normal',indeterminate:!0})):(0,o.jsx)(s,Object.assign({},k))})};f.displayName='ActivityIndicator';var u=i.default.create({container:{alignItems:'center',justifyContent:'center'},sizeSmall:{width:20,height:20},sizeLarge:{width:36,height:36}});_e.default=f},3,[1,4,6,69,72,75,244,272,278]);
__d(function(g,_r,_i,a,m,_e,d){m.exports=function(e,r){if(null==e)return{};var t,o,n=_r(d[0])(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n},m.exports.__esModule=!0,m.exports.default=m.exports},4,[5]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(r,e){if(null==r)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(-1!==e.indexOf(t))continue;n[t]=r[t]}return n},m.exports.__esModule=!0,m.exports.default=m.exports},5,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=r(d[0]).default},6,[7]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),l=t(r(d[2])),u=r(d[3]).default.roundToNearestPixel(.4);0===u&&(u=1/r(d[3]).default.get());var s={position:'absolute',left:0,right:0,top:0,bottom:0};e.default={hairlineWidth:u,absoluteFill:s,absoluteFillObject:s,compose:o.default,flatten:l.default,setStyleAttributePreprocessor:function(t,o){var l;if(!0===r(d[4]).default[t])l={process:o};else{if('object'!=typeof r(d[4]).default[t])return void console.error(`${t} is not a valid style attribute`);l=Object.assign({},r(d[4]).default[t],{process:o})}r(d[4]).default[t]=l},create:function(t){return t}}},7,[1,8,9,10,49]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u){if(null==n)return u;if(null==u)return n;return[n,u]}},8,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function t(f){if(null!==f&&'object'==typeof f){if(!Array.isArray(f))return f;for(var i={},n=0,u=f.length;n<u;++n){var o=t(f[n]);if(o)for(var l in o)i[l]=o[l]}return i}}},9,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),o=(function(){function t(){(0,u.default)(this,t)}return(0,n.default)(t,null,[{key:"get",value:function(){return r(d[3]).default.get('window').scale}},{key:"getFontScale",value:function(){return r(d[3]).default.get('window').fontScale||t.get()}},{key:"getPixelSizeForLayoutSize",value:function(u){return Math.round(u*t.get())}},{key:"roundToNearestPixel",value:function(u){var n=t.get();return Math.round(u*n)/n}},{key:"startDetecting",value:function(){}}])})();e.default=o},10,[1,11,12,16]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")},m.exports.__esModule=!0,m.exports.default=m.exports},11,[]);
__d(function(g,_r,i,a,m,_e,d){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_r(d[0])(o.key),o)}}m.exports=function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r},m.exports.__esModule=!0,m.exports.default=m.exports},12,[13]);
__d(function(g,r,_i,a,m,e,d){m.exports=function(t){var o=r(d[0])(t,"string");return"symbol"==r(d[1]).default(o)?o:o+""},m.exports.__esModule=!0,m.exports.default=m.exports},13,[14,15]);
__d(function(g,_r,_i,a,m,_e,d){m.exports=function(t,r){if("object"!=_r(d[0]).default(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_r(d[0]).default(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)},m.exports.__esModule=!0,m.exports.default=m.exports},14,[15]);
__d(function(g,r,i,a,m,e,d){function o(t){return m.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},m.exports.__esModule=!0,m.exports.default=m.exports,o(t)}m.exports=o,m.exports.__esModule=!0,m.exports.default=m.exports},15,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=t(r(d[1])),s=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),o=t(r(d[5])),f=t(r(d[6])),h=new u.default,w=!1,v=(function(){return(0,s.default)(function t(){(0,l.default)(this,t)},null,[{key:"get",value:function(t){return(0,f.default)(n[t],'No dimension set for key '+t),n[t]}},{key:"set",value:function(t){var l=t.screen,s=t.window,c=t.windowPhysicalPixels;c&&(s={width:c.width/c.scale,height:c.height/c.scale,scale:c.scale,fontScale:c.fontScale});var u=t.screenPhysicalPixels;u?l={width:u.width/u.scale,height:u.height/u.scale,scale:u.scale,fontScale:u.fontScale}:null==l&&(l=s),n={window:s,screen:l},w?h.emit('change',n):w=!0}},{key:"addEventListener",value:function(t,n){return(0,f.default)('change'===t,'Trying to subscribe to unknown event: "%s"',t),h.addListener(t,n)}}])})();c.default.addListener('didUpdateDimensions',function(t){v.set(t)}),v.set(o.default.getConstants().Dimensions);e.default=v},16,[1,11,12,17,25,29,32]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),u=t(_r(d[4])),f=t(_r(d[5])),o=t(_r(d[6]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}var l=(function(t){function l(){return(0,e.default)(this,l),t=this,n=l,f=arguments,n=(0,u.default)(n),(0,r.default)(t,c()?Reflect.construct(n,f||[],(0,u.default)(t).constructor):n.apply(t,f));var t,n,f}return(0,o.default)(l,t),(0,n.default)(l,[{key:"emit",value:function(t){(0,_r(d[8]).beginEvent)(function(){return`RCTDeviceEventEmitter.emit#${t}`});try{for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(o=l,c="emit",v=this,y=3,p=(0,f.default)((0,u.default)(1&y?o.prototype:o),c,v),2&y&&"function"==typeof p?function(t){return p.apply(v,t)}:p)([t].concat(n))}finally{(0,_r(d[8]).endEvent)()}var o,c,v,y,p}}])})(t(_r(d[7])).default),v=new l;Object.defineProperty(g,'__rctDeviceEventEmitter',{configurable:!0,value:v});_e.default=v},17,[1,11,12,18,20,21,23,25,28]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e,o){if(o&&("object"==r(d[0]).default(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return r(d[1])(e)},m.exports.__esModule=!0,m.exports.default=m.exports},18,[15,19]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},m.exports.__esModule=!0,m.exports.default=m.exports},19,[]);
__d(function(g,r,i,a,m,e,d){function t(o){return m.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m.exports.__esModule=!0,m.exports.default=m.exports,t(o)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},20,[]);
__d(function(g,_r,i,a,m,_e,d){function e(){return m.exports=e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=_r(d[0])(e,t);if(o){var l=Object.getOwnPropertyDescriptor(o,t);return l.get?l.get.call(arguments.length<3?e:r):l.value}},m.exports.__esModule=!0,m.exports.default=m.exports,e.apply(null,arguments)}m.exports=e,m.exports.__esModule=!0,m.exports.default=m.exports},21,[22]);
__d(function(g,r,i,a,m,e,d){m.exports=function(o,t){for(;!{}.hasOwnProperty.call(o,t)&&null!==(o=r(d[0])(o)););return o},m.exports.__esModule=!0,m.exports.default=m.exports},22,[20]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(d[0])(e,t)},m.exports.__esModule=!0,m.exports.default=m.exports},23,[24]);
__d(function(g,r,i,a,m,_e,d){function t(e,o){return m.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m.exports.__esModule=!0,m.exports.default=m.exports,t(e,o)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},24,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),f=(0,t(r(d[4])).default)("registry");e.default=(function(){return(0,u.default)(function t(){(0,n.default)(this,t),Object.defineProperty(this,f,{writable:!0,value:void 0}),(0,l.default)(this,f)[f]={}},[{key:"addListener",value:function(t,n,u){if('function'!=typeof n)throw new TypeError('EventEmitter.addListener(...): 2nd argument must be a function.');var s=o((0,l.default)(this,f)[f],t),v={context:u,listener:n,remove:function(){s.delete(v)}};return s.add(v),v}},{key:"emit",value:function(t){var n=(0,l.default)(this,f)[f][t];if(null!=n){for(var u=arguments.length,o=new Array(u>1?u-1:0),s=1;s<u;s++)o[s-1]=arguments[s];for(var v of Array.from(n))v.listener.apply(v.context,o)}}},{key:"removeAllListeners",value:function(t){null==t?(0,l.default)(this,f)[f]={}:delete(0,l.default)(this,f)[f][t]}},{key:"listenerCount",value:function(t){var n=(0,l.default)(this,f)[f][t];return null==n?0:n.size}}])})();function o(t,n){var u=t[n];return null==u&&(u=new Set,t[n]=u),u}},25,[1,11,12,26,27]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e},m.exports.__esModule=!0,m.exports.default=m.exports},26,[]);
__d(function(g,r,i,a,m,_e,d){var e=0;m.exports=function(t){return"__private_"+e+++"_"+t},m.exports.__esModule=!0,m.exports.default=m.exports},27,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.beginAsyncEvent=function(o,f){var v=t;if(c()){t++;var u='function'==typeof o?o():o;g.nativeTraceBeginAsyncSection(n,u,v,f)}return v},e.beginEvent=function(t,o){if(c()){var f='function'==typeof t?t():t;g.nativeTraceBeginSection(n,f,o)}},e.counterEvent=function(t,o){if(c()){var f='function'==typeof t?t():t;g.nativeTraceCounter&&g.nativeTraceCounter(n,f,o)}},e.endAsyncEvent=function(t,o,f){if(c()){var v='function'==typeof t?t():t;g.nativeTraceEndAsyncSection(n,v,o,f)}},e.endEvent=function(t){c()&&g.nativeTraceEndSection(n,t)},e.isEnabled=c,e.setEnabled=function(n){};var n=8192,t=0;function c(){return g.nativeTraceIsTracing?g.nativeTraceIsTracing(n):Boolean(g.__RCTProfileIsProfiling)}},28,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},29,[30]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0])).getEnforcing('DeviceInfo'),t=null,n={getConstants:function(){return null==t&&(t=e.getConstants()),t}};_e.default=n},30,[31]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(n){return l(n)},e.getEnforcing=function(n){var u=l(n);return(0,t.default)(null!=u,`TurboModuleRegistry.getEnforcing(...): '${n}' could not be found. Verify that a module by this name is registered in the native binary.`),u};var t=n(r(d[1])),u=g.__turboModuleProxy;function l(n){if(null!=u){var t=u(n);if(null!=t)return t}var l=r(d[2]).default[n];return null!=l?l:null}},31,[1,32,33]);
__d(function(g,r,i,_a,m,_e,_d){'use strict';m.exports=function(e,n,o,t,a,f,s,d){if(!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,t,a,f,s,d],l=0;(u=new Error(n.replace(/%s/g,function(){return c[l++]}))).name='Invariant Violation'}throw u.framesToPop=1,u}}},32,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1]));function o(n,o){if(!n)return null;var u=(0,t.default)(n,5),s=u[0],c=u[1],v=u[2],h=u[3],y=u[4];if(r(d[2])(!s.startsWith('RCT')&&!s.startsWith('RK'),"Module name prefixes should've been stripped by the native side but wasn't for "+s),!c&&!v)return{name:s};var C={};return v&&v.forEach(function(n,t){var u=h&&f(h,t)||!1,s=y&&f(y,t)||!1;r(d[2])(!u||!s,'Cannot have a method that is both async and a sync hook');var c=u?'promise':s?'sync':'async';C[n]=l(o,t,c)}),Object.assign(C,c),null==C.getConstants?C.getConstants=function(){return c||Object.freeze({})}:console.warn(`Unable to define method 'getConstants()' on NativeModule '${s}'. NativeModule '${s}' already has a constant or method called 'getConstants'. Please remove it.`),{name:s,module:C}}function u(n,t){r(d[2])(g.nativeRequireModuleConfig,"Can't lazily create module without nativeRequireModuleConfig");var u=o(g.nativeRequireModuleConfig(n),t);return u&&u.module}function l(n,t,o){var u=null;return u='promise'===o?function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];var f=new Error;return new Promise(function(o,l){r(d[3]).default.enqueueNativeCall(n,t,u,function(n){return o(n)},function(n){return l(s(n,f))})})}:function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var s=l.length>0?l[l.length-1]:null,c=l.length>1?l[l.length-2]:null,v='function'==typeof s,h='function'==typeof c;h&&r(d[2])(v,'Cannot have a non-function arg after a function arg.');var y=v?s:null,C=h?c:null,b=v+h,M=l.slice(0,l.length-b);if('sync'===o)return r(d[3]).default.callNativeSyncHook(n,t,M,C,y);r(d[3]).default.enqueueNativeCall(n,t,M,C,y)},u.type=o,u}function f(n,t){return-1!==n.indexOf(t)}function s(n,t){return Object.assign(t,n||{})}g.__fbGenNativeModule=o;var c={};if(g.nativeModuleProxy)c=g.nativeModuleProxy;else{var v=g.__fbBatchedBridgeConfig;r(d[2])(v,'__fbBatchedBridgeConfig is not set, cannot invoke native modules');var h=r(d[4]).default;(v.remoteModuleConfig||[]).forEach(function(n,t){var l=o(n,t);l&&(l.module?c[l.name]=l.module:h(c,l.name,{get:function(){return u(l.name,t)}}))})}e.default=c},33,[1,34,32,40,48]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(e,t){return _r(d[0])(e)||_r(d[1])(e,t)||_r(d[2])(e,t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},34,[35,36,37,39]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(r){if(Array.isArray(r))return r},m.exports.__esModule=!0,m.exports.default=m.exports},35,[]);
__d(function(g,_r,_i,_a,m,_e,d){m.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l,n,u,o,f=[],i=!0,a=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(l=u.call(r)).done)&&(f.push(l.value),f.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{if(!i&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(a)throw n}}return f}},m.exports.__esModule=!0,m.exports.default=m.exports},36,[]);
__d(function(g,_r,i,_a,m,e,d){m.exports=function(t,r){if(t){if("string"==typeof t)return _r(d[0])(t,r);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_r(d[0])(t,r):void 0}},m.exports.__esModule=!0,m.exports.default=m.exports},37,[38]);
__d(function(g,_r,i,_a,m,_e,d){m.exports=function(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n},m.exports.__esModule=!0,m.exports.default=m.exports},38,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},39,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new(r(d[0]).default);Object.defineProperty(g,'__fbBatchedBridge',{configurable:!0,value:t});e.default=t},40,[41]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),n=(function(){function t(){(0,u.default)(this,t),this._lazyCallableModules={},this._queue=[[],[],[],0],this._successCallbacks=new Map,this._failureCallbacks=new Map,this._callID=0,this._lastFlush=0,this._eventLoopStartTime=Date.now(),this._reactNativeMicrotasksCallback=null,this.callFunctionReturnFlushedQueue=this.callFunctionReturnFlushedQueue.bind(this),this.flushedQueue=this.flushedQueue.bind(this),this.invokeCallbackAndReturnFlushedQueue=this.invokeCallbackAndReturnFlushedQueue.bind(this)}return(0,s.default)(t,[{key:"callFunctionReturnFlushedQueue",value:function(t,l,u){var s=this;return this.__guard(function(){s.__callFunction(t,l,u)}),this.flushedQueue()}},{key:"invokeCallbackAndReturnFlushedQueue",value:function(t,l){var u=this;return this.__guard(function(){u.__invokeCallback(t,l)}),this.flushedQueue()}},{key:"flushedQueue",value:function(){var t=this;this.__guard(function(){t.__callReactNativeMicrotasks()});var l=this._queue;return this._queue=[[],[],[],this._callID],l[0].length?l:null}},{key:"getEventLoopRunningTime",value:function(){return Date.now()-this._eventLoopStartTime}},{key:"registerCallableModule",value:function(t,l){this._lazyCallableModules[t]=function(){return l}}},{key:"registerLazyCallableModule",value:function(t,l){var u,s=l;this._lazyCallableModules[t]=function(){return s&&(u=s(),s=null),u}}},{key:"getCallableModule",value:function(t){var l=this._lazyCallableModules[t];return l?l():null}},{key:"callNativeSyncHook",value:function(t,l,u,s,n){return this.processCallbacks(t,l,u,s,n),g.nativeCallSyncHook(t,l,u)}},{key:"processCallbacks",value:function(t,l,u,s,n){(s||n)&&(s&&u.push(this._callID<<1),n&&u.push(this._callID<<1|1),this._successCallbacks.set(this._callID,n),this._failureCallbacks.set(this._callID,s)),this._callID++}},{key:"enqueueNativeCall",value:function(t,l,u,s,n){this.processCallbacks(t,l,u,s,n),this._queue[0].push(t),this._queue[1].push(l),this._queue[2].push(u);var o=Date.now();if(g.nativeFlushQueueImmediate&&o-this._lastFlush>=5){var h=this._queue;this._queue=[[],[],[],this._callID],this._lastFlush=o,g.nativeFlushQueueImmediate(h)}r(d[4]).counterEvent('pending_js_to_native_queue',this._queue[0].length),this.__spy&&this.__spy({type:1,module:t+'',method:l,args:u})}},{key:"createDebugLookup",value:function(t,l,u){}},{key:"setReactNativeMicrotasksCallback",value:function(t){this._reactNativeMicrotasksCallback=t}},{key:"__guard",value:function(t){if(this.__shouldPauseOnThrow())t();else try{t()}catch(t){r(d[5]).default.reportFatalError(t)}}},{key:"__shouldPauseOnThrow",value:function(){return'undefined'!=typeof DebuggerInternal&&!0===DebuggerInternal.shouldPauseOnThrow}},{key:"__callReactNativeMicrotasks",value:function(){r(d[4]).beginEvent('JSTimers.callReactNativeMicrotasks()');try{null!=this._reactNativeMicrotasksCallback&&this._reactNativeMicrotasksCallback()}finally{r(d[4]).endEvent()}}},{key:"__callFunction",value:function(t,l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush,this.__spy?r(d[4]).beginEvent(`${t}.${l}(${r(d[6]).default(u)})`):r(d[4]).beginEvent(`${t}.${l}(...)`);try{this.__spy&&this.__spy({type:0,module:t,method:l,args:u});var s=this.getCallableModule(t);if(!s){var n=Object.keys(this._lazyCallableModules),o=n.length,h=n.join(', '),c=!0===g.RN$Bridgeless?'true':'false';r(d[7])(!1,`Failed to call into JavaScript module method ${t}.${l}(). Module has not been registered as callable. Bridgeless Mode: ${c}. Registered callable JavaScript modules (n = ${o}): ${h}.\n          A frequent cause of the error is that the application entry file path is incorrect. This can also happen when the JS bundle is corrupt or there is an early initialization error when loading React Native.`)}s[l]||r(d[7])(!1,`Failed to call into JavaScript module method ${t}.${l}(). Module exists, but the method is undefined.`),s[l].apply(s,u)}finally{r(d[4]).endEvent()}}},{key:"__invokeCallback",value:function(t,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush;var s=t>>>1,n=1&t?this._successCallbacks.get(s):this._failureCallbacks.get(s);try{if(!n)return;this._successCallbacks.delete(s),this._failureCallbacks.delete(s),n.apply(void 0,(0,l.default)(u))}finally{}}}],[{key:"spy",value:function(l){t.prototype.__spy=!0===l?function(t){console.log((0===t.type?'N->JS':'JS->N')+" : "+`${null!=t.module?t.module+'.':''}${t.method}`+`(${JSON.stringify(t.args)})`)}:!1===l?null:l}}])})();e.default=n},41,[1,42,11,12,28,46,47,32]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(t){return _r(d[0])(t)||_r(d[1])(t)||_r(d[2])(t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},42,[43,44,37,45]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(r){if(Array.isArray(r))return _r(d[0])(r)},m.exports.__esModule=!0,m.exports.default=m.exports},43,[38]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)},m.exports.__esModule=!0,m.exports.default=m.exports},44,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},45,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=g.ErrorUtils},46,[]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createStringifySafeWithLimits=n,_e.default=void 0;var e=t(r(d[1]));function n(t){var n=t.maxDepth,f=void 0===n?Number.POSITIVE_INFINITY:n,u=t.maxStringLimit,o=void 0===u?Number.POSITIVE_INFINITY:u,l=t.maxArrayLimit,c=void 0===l?Number.POSITIVE_INFINITY:l,s=t.maxObjectKeysLimit,y=void 0===s?Number.POSITIVE_INFINITY:s,h=[];function I(t,n){for(;h.length&&this!==h[0];)h.shift();if('string'==typeof n){var u='...(truncated)...';return n.length>o+17?n.substring(0,o)+u:n}if('object'!=typeof n||null===n)return n;var l=n;if(Array.isArray(n))h.length>=f?l=`[ ... array with ${n.length} values ... ]`:n.length>c&&(l=n.slice(0,c).concat([`... extra ${n.length-c} values truncated ...`]));else{(0,e.default)('object'==typeof n,'This was already found earlier');var s=Object.keys(n);if(h.length>=f)l=`{ ... object with ${s.length} keys ... }`;else if(s.length>y){for(var I of(l={},s.slice(0,y)))l[I]=n[I];l['...(truncated keys)...']=s.length-y}}return h.unshift(l),l}return function(t){if(void 0===t)return'undefined';if(null===t)return'null';if('function'==typeof t)try{return t.toString()}catch(t){return'[function unknown]'}else{if(t instanceof Error)return t.name+': '+t.message;try{var e=JSON.stringify(t,I);return void 0===e?'["'+typeof t+'" failed to stringify]':e}catch(e){if('function'==typeof t.toString)try{return t.toString()}catch(t){}}}return'["'+typeof t+'" failed to stringify]'}}var f=n({maxDepth:10,maxStringLimit:100,maxArrayLimit:50,maxObjectKeysLimit:50});_e.default=f},47,[1,32]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t,n,u){var l,f=u.get,o=!1!==u.enumerable,b=!1!==u.writable,c=!1;function s(u){l=u,c=!0,Object.defineProperty(t,n,{value:u,configurable:!0,enumerable:o,writable:b})}Object.defineProperty(t,n,{get:function(){return c||(c=!0,s(f())),l},set:s,configurable:!0,enumerable:o})}},48,[]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(t,e){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,n,l={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return l;if(i=e?r:o){if(i.has(t))return i.get(t);i.set(t,l)}for(var s in t)"default"!==s&&{}.hasOwnProperty.call(t,s)&&((n=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,s))&&(n.get||n.set)?i(l,s,n):l[s]=t[s]);return l})(t,e)})(_r(d[1])),o=t(_r(d[2])),r=t(_r(d[3])),i=t(_r(d[4])),n=t(_r(d[5])),l=t(_r(d[6])),s=t(_r(d[7])),f=t(_r(d[8])),p=t(_r(d[9])),c=t(_r(d[10])),u=t(_r(d[11])),b=t(_r(d[12])),S=t(_r(d[13]));var h={process:f.default},x={alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:{process:o.default},borderBottomWidth:!0,borderEndWidth:!0,borderLeftWidth:!0,borderRightWidth:!0,borderStartWidth:!0,borderTopWidth:!0,boxSizing:!0,columnGap:!0,borderWidth:!0,bottom:!0,direction:!0,display:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,gap:!0,height:!0,inset:!0,insetBlock:!0,insetBlockEnd:!0,insetBlockStart:!0,insetInline:!0,insetInlineEnd:!0,insetInlineStart:!0,justifyContent:!0,left:!0,margin:!0,marginBlock:!0,marginBlockEnd:!0,marginBlockStart:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginInline:!0,marginInlineEnd:!0,marginInlineStart:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,overflow:!0,padding:!0,paddingBlock:!0,paddingBlockEnd:!0,paddingBlockStart:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingInline:!0,paddingInlineEnd:!0,paddingInlineStart:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,position:!0,right:!0,rowGap:!0,start:!0,top:!0,width:!0,zIndex:!0,elevation:!0,shadowColor:h,shadowOffset:{diff:S.default},shadowOpacity:!0,shadowRadius:!0,transform:{process:u.default},transformOrigin:{process:b.default},filter:!!e.enableNativeCSSParsing()||{process:p.default},mixBlendMode:!0,isolation:!0,boxShadow:!!e.enableNativeCSSParsing()||{process:s.default},experimental_backgroundImage:{process:r.default},experimental_backgroundSize:{process:l.default},experimental_backgroundPosition:{process:i.default},experimental_backgroundRepeat:{process:n.default},backfaceVisibility:!0,backgroundColor:h,borderBlockColor:h,borderBlockEndColor:h,borderBlockStartColor:h,borderBottomColor:h,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderColor:h,borderCurve:!0,borderEndColor:h,borderEndEndRadius:!0,borderEndStartRadius:!0,borderLeftColor:h,borderRadius:!0,borderRightColor:h,borderStartColor:h,borderStartEndRadius:!0,borderStartStartRadius:!0,borderStyle:!0,borderTopColor:h,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,cursor:!0,opacity:!0,outlineColor:h,outlineOffset:!0,outlineStyle:!0,outlineWidth:!0,pointerEvents:!0,color:h,fontFamily:!0,fontSize:!0,fontStyle:!0,fontVariant:{process:c.default},fontWeight:!0,includeFontPadding:!0,letterSpacing:!0,lineHeight:!0,textAlign:!0,textAlignVertical:!0,textDecorationColor:h,textDecorationLine:!0,textDecorationStyle:!0,textShadowColor:h,textShadowOffset:!0,textShadowRadius:!0,textTransform:!0,userSelect:!0,verticalAlign:!0,writingDirection:!0,overlayColor:h,resizeMode:!0,tintColor:h,objectFit:!0};_e.default=x},49,[1,50,53,54,59,60,61,62,55,63,64,65,67,68]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.virtualViewActivityBehavior=e.viewCullingOutsetRatio=e.useTurboModules=e.useTurboModuleInterop=e.useTraitHiddenOnAndroid=e.useSharedAnimatedBackend=e.useShadowNodeStateOnClone=e.useRawPropsJsiValue=e.useOptimizedEventBatchingOnAndroid=e.useNativeViewConfigsInBridgelessMode=e.useNativeTransformHelperAndroid=e.useNativeEqualsInNativeReadableArrayAndroid=e.useFabricInterop=e.useAlwaysAvailableJSErrorHandling=e.updateRuntimeShadowNodeReferencesOnCommit=e.traceTurboModulePromiseRejectionsOnAndroid=e.sweepActiveTouchOnChildNativeGesturesAndroid=e.skipActivityIdentityAssertionOnHostPause=e.shouldUseSetNativePropsInFabric=e.shouldUseRemoveClippedSubviewsAsDefaultOnIOS=e.shouldUseAnimatedObjectForTransform=e.shouldTriggerResponderTransferOnScrollAndroid=e.shouldPressibilityUseW3CPointerEventsForHover=e.reduceDefaultPropsInText=e.reduceDefaultPropsInImage=e.preventShadowTreeCommitExhaustion=e.preparedTextCacheSize=e.perfMonitorV2Enabled=e.perfIssuesEnabled=e.overrideBySynchronousMountPropsAtMountingAndroid=e.override=e.jsOnlyTestFlag=e.isLayoutAnimationEnabled=e.hideOffscreenVirtualViewsOnIOS=e.fuseboxNetworkInspectionEnabled=e.fuseboxEnabledRelease=e.fuseboxAssertSingleHostState=e.fixVirtualizeListCollapseWindowSize=e.fixMappingOfEventPrioritiesBetweenFabricAndReact=e.enableWebPerformanceAPIsByDefault=e.enableVirtualViewWindowFocusDetection=e.enableVirtualViewRenderState=e.enableVirtualViewExperimental=e.enableVirtualViewDebugFeatures=e.enableVirtualViewContainerStateExperimental=e.enableVirtualViewClippingWithoutScrollViewClipping=e.enableViewRecyclingForView=e.enableViewRecyclingForText=e.enableViewRecyclingForScrollView=e.enableViewRecyclingForImage=e.enableViewRecycling=e.enableViewCulling=e.enableSwiftUIBasedFilters=e.enableResourceTimingAPI=e.enablePropsUpdateReconciliationAndroid=e.enablePreparedTextLayout=e.enableNetworkEventReporting=e.enableNativeCSSParsing=e.enableModuleArgumentNSNullConversionIOS=e.enableMainQueueCoordinatorOnIOS=e.enableLayoutAnimationsOnIOS=e.enableLayoutAnimationsOnAndroid=e.enableKeyEvents=e.enableIntersectionObserverByDefault=e.enableInteropViewManagerClassLookUpOptimizationIOS=e.enableImperativeFocus=e.enableImmediateUpdateModeForContentOffsetChanges=e.enableImagePrefetchingOnUiThreadAndroid=e.enableImagePrefetchingAndroid=e.enableIOSViewClipToPaddingBox=e.enableIOSTextBaselineOffsetPerLine=e.enableFontScaleChangesUpdatingLayout=e.enableFabricRenderer=e.enableFabricLogs=e.enableEagerRootViewAttachment=e.enableEagerMainQueueModulesOnIOS=e.enableDoubleMeasurementFixAndroid=e.enableDestroyShadowTreeRevisionAsync=e.enableCustomFocusSearchOnClippedElementsAndroid=e.enableCppPropsIteratorSetter=e.enableBridgelessArchitecture=e.enableAndroidTextMeasurementOptimizations=e.enableAndroidLinearText=e.enableAccumulatedUpdatesInRawPropsAndroid=e.enableAccessibilityOrder=e.disableTextLayoutManagerCacheAndroid=e.disableOldAndroidAttachmentMetricsWorkarounds=e.disableMountItemReorderingAndroid=e.disableMaintainVisibleContentPosition=e.disableFabricCommitInCXXAnimated=e.disableEarlyViewCommandExecution=e.deferFlatListFocusChangeRenderUpdate=e.cxxNativeAnimatedRemoveJsSync=e.cxxNativeAnimatedEnabled=e.configurePressabilityDuringInsertion=e.commonTestFlagWithoutNativeImplementation=e.commonTestFlag=e.cdpInteractionMetricsEnabled=e.animatedShouldUseSingleOp=e.animatedShouldDebounceQueueFlush=void 0,e.virtualViewPrerenderRatio=e.virtualViewHysteresisRatio=void 0;e.jsOnlyTestFlag=(0,r(d[0]).createJavaScriptFlagGetter)('jsOnlyTestFlag',!1),e.animatedShouldDebounceQueueFlush=(0,r(d[0]).createJavaScriptFlagGetter)('animatedShouldDebounceQueueFlush',!1),e.animatedShouldUseSingleOp=(0,r(d[0]).createJavaScriptFlagGetter)('animatedShouldUseSingleOp',!1),e.configurePressabilityDuringInsertion=(0,r(d[0]).createJavaScriptFlagGetter)('configurePressabilityDuringInsertion',!1),e.deferFlatListFocusChangeRenderUpdate=(0,r(d[0]).createJavaScriptFlagGetter)('deferFlatListFocusChangeRenderUpdate',!1),e.disableMaintainVisibleContentPosition=(0,r(d[0]).createJavaScriptFlagGetter)('disableMaintainVisibleContentPosition',!1),e.enableVirtualViewExperimental=(0,r(d[0]).createJavaScriptFlagGetter)('enableVirtualViewExperimental',!1),e.fixVirtualizeListCollapseWindowSize=(0,r(d[0]).createJavaScriptFlagGetter)('fixVirtualizeListCollapseWindowSize',!1),e.isLayoutAnimationEnabled=(0,r(d[0]).createJavaScriptFlagGetter)('isLayoutAnimationEnabled',!0),e.reduceDefaultPropsInImage=(0,r(d[0]).createJavaScriptFlagGetter)('reduceDefaultPropsInImage',!1),e.reduceDefaultPropsInText=(0,r(d[0]).createJavaScriptFlagGetter)('reduceDefaultPropsInText',!1),e.shouldUseAnimatedObjectForTransform=(0,r(d[0]).createJavaScriptFlagGetter)('shouldUseAnimatedObjectForTransform',!1),e.shouldUseRemoveClippedSubviewsAsDefaultOnIOS=(0,r(d[0]).createJavaScriptFlagGetter)('shouldUseRemoveClippedSubviewsAsDefaultOnIOS',!1),e.shouldUseSetNativePropsInFabric=(0,r(d[0]).createJavaScriptFlagGetter)('shouldUseSetNativePropsInFabric',!0),e.virtualViewActivityBehavior=(0,r(d[0]).createJavaScriptFlagGetter)('virtualViewActivityBehavior',"no-activity"),e.commonTestFlag=(0,r(d[0]).createNativeFlagGetter)('commonTestFlag',!1),e.commonTestFlagWithoutNativeImplementation=(0,r(d[0]).createNativeFlagGetter)('commonTestFlagWithoutNativeImplementation',!1),e.cdpInteractionMetricsEnabled=(0,r(d[0]).createNativeFlagGetter)('cdpInteractionMetricsEnabled',!1),e.cxxNativeAnimatedEnabled=(0,r(d[0]).createNativeFlagGetter)('cxxNativeAnimatedEnabled',!1),e.cxxNativeAnimatedRemoveJsSync=(0,r(d[0]).createNativeFlagGetter)('cxxNativeAnimatedRemoveJsSync',!1),e.disableEarlyViewCommandExecution=(0,r(d[0]).createNativeFlagGetter)('disableEarlyViewCommandExecution',!1),e.disableFabricCommitInCXXAnimated=(0,r(d[0]).createNativeFlagGetter)('disableFabricCommitInCXXAnimated',!1),e.disableMountItemReorderingAndroid=(0,r(d[0]).createNativeFlagGetter)('disableMountItemReorderingAndroid',!1),e.disableOldAndroidAttachmentMetricsWorkarounds=(0,r(d[0]).createNativeFlagGetter)('disableOldAndroidAttachmentMetricsWorkarounds',!0),e.disableTextLayoutManagerCacheAndroid=(0,r(d[0]).createNativeFlagGetter)('disableTextLayoutManagerCacheAndroid',!1),e.enableAccessibilityOrder=(0,r(d[0]).createNativeFlagGetter)('enableAccessibilityOrder',!1),e.enableAccumulatedUpdatesInRawPropsAndroid=(0,r(d[0]).createNativeFlagGetter)('enableAccumulatedUpdatesInRawPropsAndroid',!1),e.enableAndroidLinearText=(0,r(d[0]).createNativeFlagGetter)('enableAndroidLinearText',!1),e.enableAndroidTextMeasurementOptimizations=(0,r(d[0]).createNativeFlagGetter)('enableAndroidTextMeasurementOptimizations',!1),e.enableBridgelessArchitecture=(0,r(d[0]).createNativeFlagGetter)('enableBridgelessArchitecture',!1),e.enableCppPropsIteratorSetter=(0,r(d[0]).createNativeFlagGetter)('enableCppPropsIteratorSetter',!1),e.enableCustomFocusSearchOnClippedElementsAndroid=(0,r(d[0]).createNativeFlagGetter)('enableCustomFocusSearchOnClippedElementsAndroid',!0),e.enableDestroyShadowTreeRevisionAsync=(0,r(d[0]).createNativeFlagGetter)('enableDestroyShadowTreeRevisionAsync',!1),e.enableDoubleMeasurementFixAndroid=(0,r(d[0]).createNativeFlagGetter)('enableDoubleMeasurementFixAndroid',!1),e.enableEagerMainQueueModulesOnIOS=(0,r(d[0]).createNativeFlagGetter)('enableEagerMainQueueModulesOnIOS',!1),e.enableEagerRootViewAttachment=(0,r(d[0]).createNativeFlagGetter)('enableEagerRootViewAttachment',!1),e.enableFabricLogs=(0,r(d[0]).createNativeFlagGetter)('enableFabricLogs',!1),e.enableFabricRenderer=(0,r(d[0]).createNativeFlagGetter)('enableFabricRenderer',!1),e.enableFontScaleChangesUpdatingLayout=(0,r(d[0]).createNativeFlagGetter)('enableFontScaleChangesUpdatingLayout',!0),e.enableIOSTextBaselineOffsetPerLine=(0,r(d[0]).createNativeFlagGetter)('enableIOSTextBaselineOffsetPerLine',!1),e.enableIOSViewClipToPaddingBox=(0,r(d[0]).createNativeFlagGetter)('enableIOSViewClipToPaddingBox',!1),e.enableImagePrefetchingAndroid=(0,r(d[0]).createNativeFlagGetter)('enableImagePrefetchingAndroid',!1),e.enableImagePrefetchingOnUiThreadAndroid=(0,r(d[0]).createNativeFlagGetter)('enableImagePrefetchingOnUiThreadAndroid',!1),e.enableImmediateUpdateModeForContentOffsetChanges=(0,r(d[0]).createNativeFlagGetter)('enableImmediateUpdateModeForContentOffsetChanges',!1),e.enableImperativeFocus=(0,r(d[0]).createNativeFlagGetter)('enableImperativeFocus',!1),e.enableInteropViewManagerClassLookUpOptimizationIOS=(0,r(d[0]).createNativeFlagGetter)('enableInteropViewManagerClassLookUpOptimizationIOS',!1),e.enableIntersectionObserverByDefault=(0,r(d[0]).createNativeFlagGetter)('enableIntersectionObserverByDefault',!1),e.enableKeyEvents=(0,r(d[0]).createNativeFlagGetter)('enableKeyEvents',!1),e.enableLayoutAnimationsOnAndroid=(0,r(d[0]).createNativeFlagGetter)('enableLayoutAnimationsOnAndroid',!1),e.enableLayoutAnimationsOnIOS=(0,r(d[0]).createNativeFlagGetter)('enableLayoutAnimationsOnIOS',!0),e.enableMainQueueCoordinatorOnIOS=(0,r(d[0]).createNativeFlagGetter)('enableMainQueueCoordinatorOnIOS',!1),e.enableModuleArgumentNSNullConversionIOS=(0,r(d[0]).createNativeFlagGetter)('enableModuleArgumentNSNullConversionIOS',!1),e.enableNativeCSSParsing=(0,r(d[0]).createNativeFlagGetter)('enableNativeCSSParsing',!1),e.enableNetworkEventReporting=(0,r(d[0]).createNativeFlagGetter)('enableNetworkEventReporting',!0),e.enablePreparedTextLayout=(0,r(d[0]).createNativeFlagGetter)('enablePreparedTextLayout',!1),e.enablePropsUpdateReconciliationAndroid=(0,r(d[0]).createNativeFlagGetter)('enablePropsUpdateReconciliationAndroid',!1),e.enableResourceTimingAPI=(0,r(d[0]).createNativeFlagGetter)('enableResourceTimingAPI',!0),e.enableSwiftUIBasedFilters=(0,r(d[0]).createNativeFlagGetter)('enableSwiftUIBasedFilters',!1),e.enableViewCulling=(0,r(d[0]).createNativeFlagGetter)('enableViewCulling',!1),e.enableViewRecycling=(0,r(d[0]).createNativeFlagGetter)('enableViewRecycling',!1),e.enableViewRecyclingForImage=(0,r(d[0]).createNativeFlagGetter)('enableViewRecyclingForImage',!0),e.enableViewRecyclingForScrollView=(0,r(d[0]).createNativeFlagGetter)('enableViewRecyclingForScrollView',!1),e.enableViewRecyclingForText=(0,r(d[0]).createNativeFlagGetter)('enableViewRecyclingForText',!0),e.enableViewRecyclingForView=(0,r(d[0]).createNativeFlagGetter)('enableViewRecyclingForView',!0),e.enableVirtualViewClippingWithoutScrollViewClipping=(0,r(d[0]).createNativeFlagGetter)('enableVirtualViewClippingWithoutScrollViewClipping',!0),e.enableVirtualViewContainerStateExperimental=(0,r(d[0]).createNativeFlagGetter)('enableVirtualViewContainerStateExperimental',!1),e.enableVirtualViewDebugFeatures=(0,r(d[0]).createNativeFlagGetter)('enableVirtualViewDebugFeatures',!1),e.enableVirtualViewRenderState=(0,r(d[0]).createNativeFlagGetter)('enableVirtualViewRenderState',!0),e.enableVirtualViewWindowFocusDetection=(0,r(d[0]).createNativeFlagGetter)('enableVirtualViewWindowFocusDetection',!1),e.enableWebPerformanceAPIsByDefault=(0,r(d[0]).createNativeFlagGetter)('enableWebPerformanceAPIsByDefault',!0),e.fixMappingOfEventPrioritiesBetweenFabricAndReact=(0,r(d[0]).createNativeFlagGetter)('fixMappingOfEventPrioritiesBetweenFabricAndReact',!1),e.fuseboxAssertSingleHostState=(0,r(d[0]).createNativeFlagGetter)('fuseboxAssertSingleHostState',!0),e.fuseboxEnabledRelease=(0,r(d[0]).createNativeFlagGetter)('fuseboxEnabledRelease',!1),e.fuseboxNetworkInspectionEnabled=(0,r(d[0]).createNativeFlagGetter)('fuseboxNetworkInspectionEnabled',!0),e.hideOffscreenVirtualViewsOnIOS=(0,r(d[0]).createNativeFlagGetter)('hideOffscreenVirtualViewsOnIOS',!1),e.overrideBySynchronousMountPropsAtMountingAndroid=(0,r(d[0]).createNativeFlagGetter)('overrideBySynchronousMountPropsAtMountingAndroid',!1),e.perfIssuesEnabled=(0,r(d[0]).createNativeFlagGetter)('perfIssuesEnabled',!1),e.perfMonitorV2Enabled=(0,r(d[0]).createNativeFlagGetter)('perfMonitorV2Enabled',!1),e.preparedTextCacheSize=(0,r(d[0]).createNativeFlagGetter)('preparedTextCacheSize',200),e.preventShadowTreeCommitExhaustion=(0,r(d[0]).createNativeFlagGetter)('preventShadowTreeCommitExhaustion',!1),e.shouldPressibilityUseW3CPointerEventsForHover=(0,r(d[0]).createNativeFlagGetter)('shouldPressibilityUseW3CPointerEventsForHover',!1),e.shouldTriggerResponderTransferOnScrollAndroid=(0,r(d[0]).createNativeFlagGetter)('shouldTriggerResponderTransferOnScrollAndroid',!1),e.skipActivityIdentityAssertionOnHostPause=(0,r(d[0]).createNativeFlagGetter)('skipActivityIdentityAssertionOnHostPause',!1),e.sweepActiveTouchOnChildNativeGesturesAndroid=(0,r(d[0]).createNativeFlagGetter)('sweepActiveTouchOnChildNativeGesturesAndroid',!0),e.traceTurboModulePromiseRejectionsOnAndroid=(0,r(d[0]).createNativeFlagGetter)('traceTurboModulePromiseRejectionsOnAndroid',!1),e.updateRuntimeShadowNodeReferencesOnCommit=(0,r(d[0]).createNativeFlagGetter)('updateRuntimeShadowNodeReferencesOnCommit',!1),e.useAlwaysAvailableJSErrorHandling=(0,r(d[0]).createNativeFlagGetter)('useAlwaysAvailableJSErrorHandling',!1),e.useFabricInterop=(0,r(d[0]).createNativeFlagGetter)('useFabricInterop',!0),e.useNativeEqualsInNativeReadableArrayAndroid=(0,r(d[0]).createNativeFlagGetter)('useNativeEqualsInNativeReadableArrayAndroid',!0),e.useNativeTransformHelperAndroid=(0,r(d[0]).createNativeFlagGetter)('useNativeTransformHelperAndroid',!0),e.useNativeViewConfigsInBridgelessMode=(0,r(d[0]).createNativeFlagGetter)('useNativeViewConfigsInBridgelessMode',!1),e.useOptimizedEventBatchingOnAndroid=(0,r(d[0]).createNativeFlagGetter)('useOptimizedEventBatchingOnAndroid',!1),e.useRawPropsJsiValue=(0,r(d[0]).createNativeFlagGetter)('useRawPropsJsiValue',!0),e.useShadowNodeStateOnClone=(0,r(d[0]).createNativeFlagGetter)('useShadowNodeStateOnClone',!1),e.useSharedAnimatedBackend=(0,r(d[0]).createNativeFlagGetter)('useSharedAnimatedBackend',!1),e.useTraitHiddenOnAndroid=(0,r(d[0]).createNativeFlagGetter)('useTraitHiddenOnAndroid',!1),e.useTurboModuleInterop=(0,r(d[0]).createNativeFlagGetter)('useTurboModuleInterop',!1),e.useTurboModules=(0,r(d[0]).createNativeFlagGetter)('useTurboModules',!1),e.viewCullingOutsetRatio=(0,r(d[0]).createNativeFlagGetter)('viewCullingOutsetRatio',0),e.virtualViewHysteresisRatio=(0,r(d[0]).createNativeFlagGetter)('virtualViewHysteresisRatio',0),e.virtualViewPrerenderRatio=(0,r(d[0]).createNativeFlagGetter)('virtualViewPrerenderRatio',5),e.override=r(d[0]).setOverrides},50,[51]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createJavaScriptFlagGetter=function(n,u){return l(n,function(){var u,l;return o.add(n),null==(u=t)||null==(l=u[n])?void 0:l.call(u)},u)},e.createNativeFlagGetter=function(n,t){return l(n,function(){var t;return s(n),null==u.default||null==(t=u.default[n])?void 0:t.call(u.default)},t)},e.dangerouslyResetForTesting=function(){},e.getOverrides=function(){return t},e.setOverrides=function(n){if(null!=t)throw new Error('Feature flags cannot be overridden more than once');if(o.size>0){var u=Array.from(o).join(', ');throw new Error(`Feature flags were accessed before being overridden: ${u}`)}t=n};var t,u=n(r(d[1])),o=new Set;function l(n,t,u){var o;return function(){var n;null==o&&(o=null!=(n=t())?n:u);return o}}var c=new Set,f=!0===g.RN$Bridgeless||null!=g.__turboModuleProxy;function s(n){u.default||c.has(n)||!f||(c.add(n),console.error(`Could not access feature flag '${n}' because native module method was not available`))}},51,[1,52]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0])).get('NativeReactNativeFeatureFlagsCxx');_e.default=e},52,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){if('number'==typeof t)return t;if('string'==typeof t){var u=t.split('/').map(function(t){return t.trim()});if(!u.includes('auto'))if(!u.some(function(t){return Number.isNaN(Number(t))}))return 2===u.length?Number(u[0])/Number(u[1]):Number(u[0])}}},53,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var l=[];if(null==t)return l;if('string'==typeof t)l=h(t.replace(/\n/g,' '));else if(Array.isArray(t))for(var n of t){var v=c(n);if(null==v)return[];if('linear-gradient'===n.type){var y=u,b=null!=n.direction?n.direction.toLowerCase():null;if(null!=b)if(o.test(b)){var L=C(b);if(null==L)return[];y={type:'angle',value:L}}else{if(!i.test(b))return[];var z=w(b);if(null==z)return[];y=z}l=l.concat({type:'linear-gradient',direction:y,colorStops:v})}else if('radial-gradient'===n.type){var W=s,x=f,S=Object.assign({},p);if(null!=n.shape){if('circle'!==n.shape&&'ellipse'!==n.shape)return[];W=n.shape}if(null!=n.size)if('string'!=typeof n.size||'closest-side'!==n.size&&'closest-corner'!==n.size&&'farthest-side'!==n.size&&'farthest-corner'!==n.size){if('object'!=typeof n.size||null==n.size.x||null==n.size.y)return[];x={x:n.size.x,y:n.size.y}}else x=n.size;null!=n.position&&(S=n.position),l=l.concat({type:'radial-gradient',shape:W,size:x,position:S,colorStops:v})}}return l};var l=t(r(d[1])),n=t(r(d[2])),i=/^to\s+(?:top|bottom|left|right)(?:\s+(?:top|bottom|left|right))?/i,o=/^([+-]?\d*\.?\d+)(deg|grad|rad|turn)$/i,u={type:'angle',value:180},s='ellipse',f='farthest-corner',p={top:'50%',left:'50%'};function c(t){for(var l=[],n=0;n<t.colorStops.length;n++){var i=t.colorStops[n],o=i.positions;if(null==i.color&&Array.isArray(o)&&1===o.length){var u=o[0];if(!('number'==typeof u||'string'==typeof u&&u.endsWith('%')))return null;l.push({color:null,position:u})}else{var s=r(d[3]).default(i.color);if(null==s)return null;if(null!=o&&o.length>0)for(var f of o){if(!('number'==typeof f||'string'==typeof f&&f.endsWith('%')))return null;l.push({color:s,position:f})}else l.push({color:s,position:null})}}return l}function h(t){var l=[],i=z(t);for(var o of i){var u=o.toLowerCase(),s=/^(linear|radial)-gradient\(((?:\([^)]*\)|[^()])*)\)/.exec(u);if(s){var f=(0,n.default)(s,3),p=f[1],c=f[2],h='radial'===p.toLowerCase()?v(c):y(c);null!=h&&l.push(h)}}return l}function v(t){for(var n=s,i=f,o=Object.assign({},p),u=t.split(/,(?![^(]*\))/),c=u[0].trim(),h=(0,l.default)(u),v=!1,y=!1,w=!1,C=c.split(/\s+/);C.length>0;){var z=C.shift();if(null!=z){var W=z.toLowerCase().trim();if('circle'===W||'ellipse'===W)n='circle'===W?'circle':'ellipse',v=!0,w=!0;else if('closest-corner'===W||'farthest-corner'===W||'closest-side'===W||'farthest-side'===W)i=W,v=!0;else if(W.endsWith('px')||W.endsWith('%')){var x=L(W);if(null==x)return null;if('number'==typeof x&&x<0)return null;if(v=!0,i={x:x,y:x},null==(z=C.shift())){y=!0;continue}if((W=z.toLowerCase().trim()).endsWith('px')||W.endsWith('%')){var S=L(W);if(null==S)return null;if('number'==typeof S&&S<0)return null;i={x:x,y:S}}else y=!0}else if('at'===W){var k=void 0,j=void 0,A=void 0,_=void 0;if(v=!0,0===C.length)return null;if(1===C.length){if(null==(z=C.shift()))return null;if('left'===(W=z.toLowerCase().trim()))j='0%',k='50%';else if('center'===W)j='50%',k='50%';else if('right'===W)j='100%',k='50%';else if('top'===W)j='50%',k='0%';else if('bottom'===W)j='50%',k='100%';else if(W.endsWith('px')||W.endsWith('%')){var O=L(W);if(null==O)return null;j=O,k='50%'}}if(2===C.length){var F=C.shift(),M=C.shift();if(null==F||null==M)return null;var P=F.toLowerCase().trim(),I=M.toLowerCase().trim(),$=['left','center','right'],q=['top','center','bottom'];if($.includes(P)&&q.includes(I))j='left'===P?'0%':'center'===P?'50%':'100%',k='top'===I?'0%':'center'===I?'50%':'100%';else if(q.includes(P)&&$.includes(I))j='left'===I?'0%':'center'===I?'50%':'100%',k='top'===P?'0%':'center'===P?'50%':'100%';else{if('left'===P)j='0%';else if('center'===P)j='50%';else if('right'===P)j='100%';else{if(!P.endsWith('px')&&!P.endsWith('%'))return null;var B=L(P);if(null==B)return null;j=B}if('top'===I)k='0%';else if('center'===I)k='50%';else if('bottom'===I)k='100%';else{if(!I.endsWith('px')&&!I.endsWith('%'))return null;var D=L(I);if(null==D)return null;k=D}}}if(4===C.length){var E=C.shift(),G=C.shift(),H=C.shift(),J=C.shift();if(null==E||null==G||null==H||null==J)return null;var K=E.toLowerCase().trim(),N=G.toLowerCase().trim(),Q=H.toLowerCase().trim(),R=J.toLowerCase().trim(),T=K,U=L(N),V=Q,X=L(R);if(null==U||null==X)return null;if('left'===T)j=U;else if('right'===T)A=U;else if('top'===T)k=U;else{if('bottom'!==T)return null;_=U}if('left'===V)j=X;else if('right'===V)A=X;else if('top'===V)k=X;else{if('bottom'!==V)return null;_=X}}if(null!=k&&null!=j)o={top:k,left:j};else if(null!=_&&null!=A)o={bottom:_,right:A};else if(null!=k&&null!=A)o={top:k,right:A};else{if(null==_||null==j)return null;o={bottom:_,left:j}}break}if(!v)break}}if(v&&(h.shift(),!w&&y&&(n='circle'),y&&w&&'ellipse'===n))return null;var Y=b(h);return null==Y?null:{type:'radial-gradient',shape:n,size:i,position:o,colorStops:Y}}function y(t){var l=t.split(','),n=u,s=l[0].trim().toLowerCase();if(o.test(s)){var f=C(s);if(null==f)return null;n={type:'angle',value:f},l.shift()}else if(i.test(s)){var p=w(s);if(null==p)return null;n=p,l.shift()}var c=b(l);return null==c?null:{type:'linear-gradient',direction:n,colorStops:c}}function b(t){for(var l=[],n=t.join(',').split(/,(?![^(]*\))/),i=null,o=0;o<n.length;o++){var u=n[o].trim().toLowerCase().match(/\S+\([^)]*\)|\S+/g);if(null==u)return null;if(3===u.length){var s=u[0],f=L(u[1]),p=L(u[2]),c=r(d[3]).default(s);if(null==c)return null;if(null==f||null==p)return null;l.push({color:c,position:f}),l.push({color:c,position:p})}else if(2===u.length){var h=u[0],v=L(u[1]),y=r(d[3]).default(h);if(null==y)return null;if(null==v)return null;l.push({color:y,position:v})}else{if(1!==u.length)return null;var b=L(u[0]);if(null!=b){if(null!=i&&1===i.length&&null!=L(i[0])||o===n.length-1||0===o)return null;l.push({color:null,position:b})}else{var w=r(d[3]).default(u[0]);if(null==w)return null;l.push({color:w,position:null})}}i=u}return l}function w(t){if(null==t)return null;switch(t.replace(/\s+/g,' ').toLowerCase()){case'to top':return{type:'angle',value:0};case'to right':return{type:'angle',value:90};case'to bottom':return{type:'angle',value:180};case'to left':return{type:'angle',value:270};case'to top right':case'to right top':return{type:'keyword',value:'to top right'};case'to bottom right':case'to right bottom':return{type:'keyword',value:'to bottom right'};case'to top left':case'to left top':return{type:'keyword',value:'to top left'};case'to bottom left':case'to left bottom':return{type:'keyword',value:'to bottom left'};default:return null}}function C(t){if(null==t)return null;var l=t.match(o);if(!l)return null;var i=(0,n.default)(l,3),u=i[1],s=i[2],f=parseFloat(u);switch(s){case'deg':return f;case'grad':return.9*f;case'rad':return 180*f/Math.PI;case'turn':return 360*f;default:return null}}function L(t){return t.endsWith('px')?parseFloat(t):t.endsWith('%')?t:void 0}function z(t){for(var l=[],n='',i=0,o=0;o<t.length;o++){var u=t[o];if('('===u)i++;else if(')'===u)i--;else if(','===u&&0===i){l.push(n.trim()),n='';continue}n+=u}return''!==n.trim()&&l.push(n.trim()),l}},54,[1,42,34,55]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){if(null==t)return t;var u=r(d[0]).default(t);if(null!=u){if('object'==typeof u){var l=(0,r(d[1]).processColorObject)(u);if(null!=l)return l}return'number'!=typeof u?null:(u=(u<<24|u>>>8)>>>0,u|=0)}}},55,[56,58]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=t(r(d[1]));e.default=function(t){if('object'==typeof t&&null!=t){var n=(0,r(d[2]).normalizeColorObject)(t);if(null!=n)return n}if('string'==typeof t||'number'==typeof t)return(0,f.default)(t)}},56,[1,57,58]);
__d(function(_g,_r,i,a,m,e,d){'use strict';function r(r,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?r+6*(n-r)*t:t<.5?n:t<.6666666666666666?r+(n-r)*(.6666666666666666-t)*6:r}function n(n,t,u){var s=u<.5?u*(1+t):u+t-u*t,c=2*u-s,l=r(c,s,n+.3333333333333333),o=r(c,s,n),g=r(c,s,n-.3333333333333333);return Math.round(255*l)<<24|Math.round(255*o)<<16|Math.round(255*g)<<8}function t(n,t,u){if(t+u>=1){var s=Math.round(255*t/(t+u));return s<<24|s<<16|s<<8}var c=r(0,1,n+.3333333333333333)*(1-t-u)+t,l=r(0,1,n)*(1-t-u)+t,o=r(0,1,n-.3333333333333333)*(1-t-u)+t;return Math.round(255*c)<<24|Math.round(255*l)<<16|Math.round(255*o)<<8}var u,s='[-+]?\\d*\\.?\\d+',c="[-+]?\\d*\\.?\\d+%";function l(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return'\\(\\s*('+n.join(')\\s*,?\\s*(')+')\\s*\\)'}function o(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return'\\(\\s*('+n.join(')\\s*(')+')\\s*\\)'}function g(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return'\\(\\s*('+n.slice(0,n.length-1).join(')\\s*,?\\s*(')+')\\s*/\\s*('+n[n.length-1]+')\\s*\\)'}function h(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return'\\(\\s*('+n.join(')\\s*,\\s*(')+')\\s*\\)'}function f(){if(void 0===u){var r=l(s,s,s)+'|'+h(s,s,s,s)+'|'+g(s,s,s,s);u={rgb:new RegExp('rgb('+r+')'),rgba:new RegExp('rgba('+r+')'),hsl:new RegExp('hsl'+l(s,c,c)),hsla:new RegExp('hsla('+h(s,c,c,s)+'|'+g(s,c,c,s)+')'),hwb:new RegExp('hwb('+o(s,c,c)+'|'+g(s,c,c,s)+')'),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}}return u}function b(r){var n=parseInt(r,10);return n<0?0:n>255?255:n}function p(r){return(parseFloat(r)%360+360)%360/360}function y(r){var n=parseFloat(r);return n<0?0:n>1?255:Math.round(255*n)}function w(r){var n=parseFloat(r);return n<0?0:n>100?1:n/100}function k(r){switch(r){case'transparent':return 0;case'aliceblue':return 4042850303;case'antiquewhite':return 4209760255;case'aqua':case'cyan':return 16777215;case'aquamarine':return 2147472639;case'azure':return 4043309055;case'beige':return 4126530815;case'bisque':return 4293182719;case'black':return 255;case'blanchedalmond':return 4293643775;case'blue':return 65535;case'blueviolet':return 2318131967;case'brown':return 2771004159;case'burlywood':return 3736635391;case'burntsienna':return 3934150143;case'cadetblue':return 1604231423;case'chartreuse':return 2147418367;case'chocolate':return 3530104575;case'coral':return 4286533887;case'cornflowerblue':return 1687547391;case'cornsilk':return 4294499583;case'crimson':return 3692313855;case'darkblue':return 35839;case'darkcyan':return 9145343;case'darkgoldenrod':return 3095792639;case'darkgray':case'darkgrey':return 2846468607;case'darkgreen':return 6553855;case'darkkhaki':return 3182914559;case'darkmagenta':return 2332068863;case'darkolivegreen':return 1433087999;case'darkorange':return 4287365375;case'darkorchid':return 2570243327;case'darkred':return 2332033279;case'darksalmon':return 3918953215;case'darkseagreen':return 2411499519;case'darkslateblue':return 1211993087;case'darkslategray':case'darkslategrey':return 793726975;case'darkturquoise':return 13554175;case'darkviolet':return 2483082239;case'deeppink':return 4279538687;case'deepskyblue':return 12582911;case'dimgray':case'dimgrey':return 1768516095;case'dodgerblue':return 512819199;case'firebrick':return 2988581631;case'floralwhite':return 4294635775;case'forestgreen':return 579543807;case'fuchsia':case'magenta':return 4278255615;case'gainsboro':return 3705462015;case'ghostwhite':return 4177068031;case'gold':return 4292280575;case'goldenrod':return 3668254975;case'gray':case'grey':return 2155905279;case'green':return 8388863;case'greenyellow':return 2919182335;case'honeydew':return 4043305215;case'hotpink':return 4285117695;case'indianred':return 3445382399;case'indigo':return 1258324735;case'ivory':return 4294963455;case'khaki':return 4041641215;case'lavender':return 3873897215;case'lavenderblush':return 4293981695;case'lawngreen':return 2096890111;case'lemonchiffon':return 4294626815;case'lightblue':return 2916673279;case'lightcoral':return 4034953471;case'lightcyan':return 3774873599;case'lightgoldenrodyellow':return 4210742015;case'lightgray':case'lightgrey':return 3553874943;case'lightgreen':return 2431553791;case'lightpink':return 4290167295;case'lightsalmon':return 4288707327;case'lightseagreen':return 548580095;case'lightskyblue':return 2278488831;case'lightslategray':case'lightslategrey':return 2005441023;case'lightsteelblue':return 2965692159;case'lightyellow':return 4294959359;case'lime':return 16711935;case'limegreen':return 852308735;case'linen':return 4210091775;case'maroon':return 2147483903;case'mediumaquamarine':return 1724754687;case'mediumblue':return 52735;case'mediumorchid':return 3126187007;case'mediumpurple':return 2473647103;case'mediumseagreen':return 1018393087;case'mediumslateblue':return 2070474495;case'mediumspringgreen':return 16423679;case'mediumturquoise':return 1221709055;case'mediumvioletred':return 3340076543;case'midnightblue':return 421097727;case'mintcream':return 4127193855;case'mistyrose':return 4293190143;case'moccasin':return 4293178879;case'navajowhite':return 4292783615;case'navy':return 33023;case'oldlace':return 4260751103;case'olive':return 2155872511;case'olivedrab':return 1804477439;case'orange':return 4289003775;case'orangered':return 4282712319;case'orchid':return 3664828159;case'palegoldenrod':return 4008225535;case'palegreen':return 2566625535;case'paleturquoise':return 2951671551;case'palevioletred':return 3681588223;case'papayawhip':return 4293907967;case'peachpuff':return 4292524543;case'peru':return 3448061951;case'pink':return 4290825215;case'plum':return 3718307327;case'powderblue':return 2967529215;case'purple':return 2147516671;case'rebeccapurple':return 1714657791;case'red':return 4278190335;case'rosybrown':return 3163525119;case'royalblue':return 1097458175;case'saddlebrown':return 2336560127;case'salmon':return 4202722047;case'sandybrown':return 4104413439;case'seagreen':return 780883967;case'seashell':return 4294307583;case'sienna':return 2689740287;case'silver':return 3233857791;case'skyblue':return 2278484991;case'slateblue':return 1784335871;case'slategray':case'slategrey':return 1887473919;case'snow':return 4294638335;case'springgreen':return 16744447;case'steelblue':return 1182971135;case'tan':return 3535047935;case'teal':return 8421631;case'thistle':return 3636451583;case'tomato':return 4284696575;case'turquoise':return 1088475391;case'violet':return 4001558271;case'wheat':return 4125012991;case'white':return 4294967295;case'whitesmoke':return 4126537215;case'yellow':return 4294902015;case'yellowgreen':return 2597139199}return null}m.exports=function(r){if('number'==typeof r)return r>>>0===r&&r>=0&&r<=4294967295?r:null;if('string'!=typeof r)return null;var u,s=f();if(u=s.hex6.exec(r))return parseInt(u[1]+'ff',16)>>>0;var c=k(r);return null!=c?c:(u=s.rgba.exec(r)||s.rgb.exec(r))?void 0!==u[9]?(b(u[9])<<24|b(u[10])<<16|b(u[11])<<8|y(u[12]))>>>0:void 0!==u[5]?(b(u[5])<<24|b(u[6])<<16|b(u[7])<<8|y(u[8]))>>>0:(b(u[2])<<24|b(u[3])<<16|b(u[4])<<8|255)>>>0:(u=s.hex3.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+'ff',16)>>>0:(u=s.hex8.exec(r))?parseInt(u[1],16)>>>0:(u=s.hex4.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+u[4]+u[4],16)>>>0:(u=s.hsl.exec(r))?(255|n(p(u[1]),w(u[2]),w(u[3])))>>>0:(u=s.hsla.exec(r))?void 0!==u[6]?(n(p(u[6]),w(u[7]),w(u[8]))|y(u[9]))>>>0:(n(p(u[2]),w(u[3]),w(u[4]))|y(u[5]))>>>0:(u=s.hwb.exec(r))?void 0!==u[5]?(t(p(u[5]),w(u[6]),w(u[7]))|y(u[8]))>>>0:(255|t(p(u[2]),w(u[3]),w(u[4])))>>>0:null}},57,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.processColorObject=e.normalizeColorObject=e.PlatformColor=void 0;e.PlatformColor=function(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return{resource_paths:n}},e.normalizeColorObject=function(o){return'resource_paths'in o?o:null},e.processColorObject=function(o){return o}},58,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){var i=[];if(null==l)return[];'string'==typeof l?i=t(l.replace(/\n/g,' ')):Array.isArray(l)&&(i=l);return i};var t=function(t){var n=[],f=t.split(',').map(function(t){return t.trim()});for(var o of f){var u=void 0,s=void 0,v=void 0,h=void 0,p=o.split(/\s+/).filter(function(t){return t.length>0});if(1===p.length){var c=p[0];if(null==c)return[];var b=c.toLowerCase().trim();if('left'===b)s='0%',u='50%';else if('center'===b)s='50%',u='50%';else if('right'===b)s='100%',u='50%';else if('top'===b)s='50%',u='0%';else if('bottom'===b)s='50%',u='100%';else if(i(b)){var w=l(b);if(null==w)return[];s=w,u='50%'}}if(2===p.length){var C=p[0],L=p[1];if(null==C||null==L)return[];var y=C.toLowerCase().trim();if('left'===y)s='0%';else if('center'===y)s='50%';else if('right'===y)s='100%';else if('top'===y)u='0%';else if('bottom'===y)u='100%';else if(i(y)){var W=l(y);if(null==W)return[];s=W}var _=L.toLowerCase().trim();if('top'===_)u='0%';else if('center'===_)u='50%';else if('bottom'===_)u='100%';else if('left'===_)s='0%';else if('right'===_)s='100%';else if(i(_)){var x=l(_);if(null==x)return[];u=x}}if(3===p.length){var A=p[0],j=p[1],F=p[2];if(null==A||null==j||null==F)return[];var M=A.toLowerCase().trim(),O=j.toLowerCase().trim(),P=F.toLowerCase().trim();if('center'===M){s='50%';var k=l(P);if(null==k)return[];if('top'===O)u=k;else{if('bottom'!==O)return[];h=k}}else if('center'===P){u='50%';var q=l(O);if(null==q)return[];if('left'===M)s=q;else{if('right'!==M)return[];v=q}}else for(var z=[M,O,P],B=0;B<z.length;B++){var D=z[B];if(i(D)){var E=l(D);if(null==E)return[];var G=z[B-1];'left'===G?s=E:'right'===G?v=E:'top'===G?u=E:'bottom'===G&&(h=E)}else if('left'===D)s='0%';else if('right'===D)v='0%';else if('top'===D)u='0%';else{if('bottom'!==D)return[];h='0%'}}}if(4===p.length){var H=p.shift(),I=p.shift(),J=p.shift(),K=p.shift();if(null==H||null==I||null==J||null==K)return[];var N=H.toLowerCase().trim(),Q=I.toLowerCase().trim(),R=J.toLowerCase().trim(),S=K.toLowerCase().trim(),T=N,U=l(Q),V=R,X=l(S);if(null==U||null==X)return[];'left'===T?s=U:'right'===T&&(v=U),'top'===V?u=X:'bottom'===V&&(h=X)}if(null!=u&&null!=s)n.push({top:u,left:s});else if(null!=h&&null!=v)n.push({bottom:h,right:v});else if(null!=u&&null!=v)n.push({top:u,right:v});else{if(null==h||null==s)return[];n.push({bottom:h,left:s})}}return n};function l(t){return t.endsWith('px')?parseFloat(t):t.endsWith('%')?t:'0'===t?0:void 0}function i(t){return!(!t.endsWith('px')&&!t.endsWith('%')&&'0'!==t)}},59,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){return'repeat'===t||'space'===t||'round'===t||'no-repeat'===t}function n(n){var u=[],p=n.split(',').map(function(t){return t.trim()});for(var s of p){if(0===s.length)return[];var o=s.split(/\s+/).filter(function(t){return t.length>0});if(1===o.length){var f=o[0];if(null==f)return[];var l=f.toLowerCase();if('repeat-x'===l)u.push({x:'repeat',y:'no-repeat'});else if('repeat-y'===l)u.push({x:'no-repeat',y:'repeat'});else if('repeat'===l)u.push({x:'repeat',y:'repeat'});else if('space'===l)u.push({x:'space',y:'space'});else if('round'===l)u.push({x:'round',y:'round'});else{if('no-repeat'!==l)return[];u.push({x:'no-repeat',y:'no-repeat'})}}else if(2===o.length){var c=o[0],y=o[1];if(null==c||null==y)return[];var h=c.toLowerCase(),v=y.toLowerCase();if(!t(h)||!t(v))return[];u.push({x:h,y:v})}}return u}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=[];if(null==t)return[];if(Array.isArray(t))return t;'string'==typeof t&&(u=n(t.replace(/\n/g,' ')));return u}},60,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){var u=[],l=t.split(',').map(function(t){return t.trim()});for(var o of l){if(0===o.length)return[];var f=o.split(/\s+/).filter(function(t){return t.length>0});if(2===f.length){var s=n(f[0].toLowerCase()),p=n(f[1].toLowerCase());if(null==s||null==p)return[];u.push({x:s,y:p})}else if(1===f.length){var c=f[0].toLowerCase();if('cover'===c||'contain'===c)u.push(c);else{var v=n(f[0].toLowerCase());if(null==v)return[];u.push({x:v,y:'auto'})}}}return u}function n(t){if(null==t)return null;if(t.endsWith('px')){var n=parseFloat(t);if(!Number.isNaN(n)&&n>=0)return n}return t.endsWith('%')&&parseFloat(t)>=0||'auto'===t?t:null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var u=[];if(null==n)return[];'string'==typeof n?u=t(n.replace(/\n/g,' ')):Array.isArray(n)&&(u=n);return u}},61,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=[];if(null==t)return u;var l='string'==typeof t?n(t.replace(/\n/g,' ')):t;for(var o of l){var c={offsetX:0,offsetY:0},p=void 0;for(var b in o)switch(b){case'offsetX':if(null==(p='string'==typeof o.offsetX?s(o.offsetX):o.offsetX))return[];c.offsetX=p;break;case'offsetY':if(null==(p='string'==typeof o.offsetY?s(o.offsetY):o.offsetY))return[];c.offsetY=p;break;case'spreadDistance':if(null==(p='string'==typeof o.spreadDistance?s(o.spreadDistance):o.spreadDistance))return[];c.spreadDistance=p;break;case'blurRadius':if(null==(p='string'==typeof o.blurRadius?s(o.blurRadius):o.blurRadius)||p<0)return[];c.blurRadius=p;break;case'color':var v=(0,f.default)(o.color);if(null==v)return[];c.color=v;break;case'inset':c.inset=o.inset}u.push(c)}return u};var f=t(r(d[1]));function n(t){var n=[];for(var s of t.split(/,(?![^()]*\))/).map(function(t){return t.trim()}).filter(function(t){return''!==t})){var u={offsetX:0,offsetY:0},l=void 0,o=void 0,c=!1,p=0,b=s.split(/\s+(?![^(]*\))/);for(var v of b){if(null==(0,f.default)(v))if('inset'!==v)switch(p){case 0:l=v,p++;break;case 1:if(c)return[];o=v,p++;break;case 2:if(c)return[];u.blurRadius=v,p++;break;case 3:if(c)return[];u.spreadDistance=v,p++;break;default:return[]}else{if(null!=u.inset)return[];null!=l&&(c=!0),u.inset=!0}else{if(null!=u.color)return[];null!=l&&(c=!0),u.color=v}}if(null==l||null==o)return[];u.offsetX=l,u.offsetY=o,n.push(u)}return n}function s(t){var f=/([+-]?\d*(\.\d+)?)([\w\W]+)?/g.exec(t);return!f||Number.isNaN(f[1])||null!=f[3]&&'px'!==f[3]||null==f[3]&&'0'!==f[1]?null:Number(f[1])}},62,[1,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=[];if(null==t)return u;if('string'==typeof t){t=t.replace(/\n/g,' ');for(var o,s=/([\w-]+)\(([^()]*|\([^()]*\)|[^()]*\([^()]*\)[^()]*)\)/g;o=s.exec(t);){var c=o[1].toLowerCase();if('drop-shadow'===c){var v=l(o[2]);if(null==v)return[];u.push({dropShadow:v})}else{var p='drop-shadow'===c?'dropShadow':'hue-rotate'===c?'hueRotate':c,h=f(p,o[2]);if(null==h)return[];var b={};b[p]=h,u.push(b)}}}else{if(!Array.isArray(t))throw new TypeError(typeof t+" filter is not a string or array");for(var w of t){var y=(0,n.default)(Object.entries(w)[0],2),N=y[0],X=y[1];if('dropShadow'===N){var Y=l(X);if(null==Y)return[];u.push({dropShadow:Y})}else{var k=f(N,X);if(null==k)return[];var x={};x[N]=k,u.push(x)}}}return u};var n=t(r(d[1])),u=t(r(d[2]));function f(t,n){var u,f;if('string'==typeof n){var l=new RegExp(/([+-]?\d*(\.\d+)?)([a-zA-Z%]+)?/g).exec(n);if(!l||isNaN(Number(l[1])))return;u=Number(l[1]),f=l[3]}else{if('number'!=typeof n)return;u=n}switch(t){case'hueRotate':if(0===u)return 0;if('deg'!==f&&'rad'!==f)return;return'rad'===f?180*u/Math.PI:u;case'blur':if(f&&'px'!==f||u<0)return;return u;case'brightness':case'contrast':case'grayscale':case'invert':case'opacity':case'saturate':case'sepia':if(f&&'%'!==f&&'px'!==f||u<0)return;return'%'===f&&(u/=100),u;default:return}}function l(t){var n,f,l='string'==typeof t?o(t):t,c={offsetX:0,offsetY:0};for(var v in l){var p=void 0;switch(v){case'offsetX':if(null==(p='string'==typeof l.offsetX?s(l.offsetX):l.offsetX))return null;n=p;break;case'offsetY':if(null==(p='string'==typeof l.offsetY?s(l.offsetY):l.offsetY))return null;f=p;break;case'standardDeviation':if(null==(p='string'==typeof l.standardDeviation?s(l.standardDeviation):l.standardDeviation)||p<0)return null;c.standardDeviation=p;break;case'color':var h=(0,u.default)(l.color);if(null==h)return null;c.color=h;break;default:return null}}return null==n||null==f?null:(c.offsetX=n,c.offsetY=f,c)}function o(t){var n,f,l={offsetX:0,offsetY:0},o=0,s=!1;for(var c of t.split(/\s+(?![^(]*\))/)){if(null==(0,u.default)(c))switch(o){case 0:n=c,o++;break;case 1:if(s)return null;f=c,o++;break;case 2:if(s)return null;l.standardDeviation=c,o++;break;default:return null}else{if(null!=l.color)return null;null!=n&&(s=!0),l.color=c}}return null==n||null==f?null:(l.offsetX=n,l.offsetY=f,l)}function s(t){var n=/([+-]?\d*(\.\d+)?)([\w\W]+)?/g.exec(t);return!n||Number.isNaN(n[1])||null!=n[3]&&'px'!==n[3]||null==n[3]&&'0'!==n[1]?null:Number(n[1])}},63,[1,34,55]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return Array.isArray(t)?t:t.split(' ').filter(Boolean)}},64,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));var n=function(t,u){var n,l=new RegExp(/([+-]?\d+(\.\d+)?)([a-zA-Z]+|%)?/g);switch(t){case'matrix':return{key:t,value:null==(n=u.match(/[+-]?\d+(\.\d+)?/g))?void 0:n.map(Number)};case'translate':case'translate3d':for(var v,s=[];v=l.exec(u);){var c=Number(v[1]),f=v[3];0===c||f||!0,'%'===f?s.push(`${c}%`):s.push(c)}return 1===(null==s?void 0:s.length)&&s.push(0),{key:'translate',value:s};case'translateX':case'translateY':case'perspective':var o=l.exec(u);if(null==o||!o.length)return{key:t,value:void 0};var p=Number(o[1]);o[3];return{key:t,value:p};default:return{key:t,value:isNaN(u)?u:Number(u)}}};e.default=function(t){if('string'==typeof t){for(var l,v=new RegExp(/(\w+)\(([^)]+)\)/g),s=[];l=v.exec(t);){var c=n(l[1],l[2]),f=c.key,o=c.value;void 0!==o&&s.push((0,u.default)({},f,o))}t=s}return t}},65,[1,66]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(e,r,t){return(r=_r(d[0])(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},m.exports.__esModule=!0,m.exports.default=m.exports},66,[13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if('string'==typeof t){var c,l=t,u=/(top|bottom|left|right|center|\d+(?:%|px)|0)/gi,b=['50%','50%',0],p=s;e:for(;c=u.exec(l);){var k=p+1,v=c[0],h=v.toLowerCase();switch(h){case'left':case'right':(0,o.default)(p===s,'Transform-origin %s can only be used for x-position',v),b[s]='left'===h?0:'100%';break;case'top':case'bottom':if((0,o.default)(p!==f,'Transform-origin %s can only be used for y-position',v),b[n]='top'===h?0:'100%',p===s){var y=u.exec(l);if(null==y)break e;switch(y[0].toLowerCase()){case'left':b[s]=0;break;case'right':b[s]='100%';break;case'center':b[s]='50%';break;default:(0,o.default)(!1,'Could not parse transform-origin: %s',l)}k=f}break;case'center':(0,o.default)(p!==f,'Transform-origin value %s cannot be used for z-position',v),b[p]='50%';break;default:v.endsWith('%')?b[p]=v:b[p]=parseFloat(v)}p=k}t=b}return t};t(r(d[1]));var o=t(r(d[2])),s=0,n=1,f=2},67,[1,34,32]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={width:void 0,height:void 0};e.default=function(h,u){var o=h||t,n=u||t;return o!==n&&(o.width!==n.width||o.height!==n.height)}},68,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s={__constants:null,OS:'android',get Version(){return this.constants.Version},get constants(){return null==this.__constants&&(this.__constants=n.default.getConstants()),this.__constants},get isTesting(){return!1},get isDisableAnimations(){var t;return null!=(t=this.constants.isDisableAnimations)?t:this.isTesting},get isTV(){return'tv'===this.constants.uiMode},get isVision(){return!1},select:function(t){return'android'in t?t.android:'native'in t?t.native:t.default}};e.default=s},69,[1,70]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},70,[71]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('PlatformConstants')},71,[31]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var l=e(_r(d[1])),i=e(_r(d[2])),n=e(_r(d[3])),t=e(_r(d[4])),u=(function(e,l){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(e,l){if(!l&&e&&e.__esModule)return e;var t,u,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(t=l?n:i){if(t.has(e))return t.get(e);t.set(e,r)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((u=(t=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(u.get||u.set)?t(r,s,u):r[s]=e[s]);return r})(e,l)})(_r(d[5])),r=u,s=_r(d[6]),c=["accessibilityState","accessibilityValue","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-hidden","aria-label","aria-labelledby","aria-live","aria-selected","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","id","tabIndex"];var o=r.forwardRef(function(e,r){var o=Object.assign({},((0,i.default)(e),e)),v=(0,u.use)(n.default),b=o.accessibilityState,f=o.accessibilityValue,y=o['aria-busy'],p=o['aria-checked'],x=o['aria-disabled'],h=o['aria-expanded'],j=o['aria-hidden'],w=o['aria-label'],_=o['aria-labelledby'],O=o['aria-live'],k=o['aria-selected'],M=o['aria-valuemax'],P=o['aria-valuemin'],V=o['aria-valuenow'],I=o['aria-valuetext'],L=o.id,S=o.tabIndex,W=(0,l.default)(o,c),D=null==_?void 0:_.split(/\s*,\s*/g);void 0!==D&&(W.accessibilityLabelledBy=D);void 0!==w&&(W.accessibilityLabel=w);void 0!==O&&(W.accessibilityLiveRegion='off'===O?'none':O);void 0!==j&&(W.accessibilityElementsHidden=j,!0===j&&(W.importantForAccessibility='no-hide-descendants'));void 0!==L&&(W.nativeID=L);void 0!==S&&(W.focusable=!S);null==b&&null==y&&null==p&&null==x&&null==h&&null==k||(W.accessibilityState={busy:null!=y?y:null==b?void 0:b.busy,checked:null!=p?p:null==b?void 0:b.checked,disabled:null!=x?x:null==b?void 0:b.disabled,expanded:null!=h?h:null==b?void 0:b.expanded,selected:null!=k?k:null==b?void 0:b.selected});null==f&&null==M&&null==P&&null==V&&null==I||(W.accessibilityValue={max:null!=M?M:null==f?void 0:f.max,min:null!=P?P:null==f?void 0:f.min,now:null!=V?V:null==f?void 0:f.now,text:null!=I?I:null==f?void 0:f.text});var R=null==r?(0,s.jsx)(t.default,Object.assign({},W)):(0,s.jsx)(t.default,Object.assign({},W,{ref:r}));if(v)return(0,s.jsx)(n.default,{value:!1,children:R});return R});o.displayName='View';_e.default=o},72,[1,4,73,74,77,75,244]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){if(null==t)throw new TypeError("Cannot destructure "+t)},m.exports.__esModule=!0,m.exports.default=m.exports},73,[]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));var t=(0,e.createContext)(!1);_e.default=t},74,[75]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},75,[76]);
__d(function(g,r,_i,a,m,e,d){
/**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),_=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function E(t,n,o){this.props=t,this.context=n,this.refs=S,this.updater=o||v}function w(){}function H(t,n,o){this.props=t,this.context=n,this.refs=S,this.updater=o||v}E.prototype.isReactComponent={},E.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=E.prototype;var j=H.prototype=new w;j.constructor=H,b(j,E.prototype),j.isPureReactComponent=!0;var R=Array.isArray;function k(){}var C={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function T(n,o,u){var c=u.ref;return{$$typeof:t,type:n,key:o,ref:void 0!==c?c:null,props:u}}function A(n){return"object"==typeof n&&null!==n&&n.$$typeof===t}var O=/\/+/g;function x(t,n){return"object"==typeof t&&null!==t&&null!=t.key?(o=""+t.key,u={"=":"=0",":":"=2"},"$"+o.replace(/[=:]/g,function(t){return u[t]})):n.toString(36);var o,u}function I(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(k,k):(t.status="pending",t.then(function(n){"pending"===t.status&&(t.status="fulfilled",t.value=n)},function(n){"pending"===t.status&&(t.status="rejected",t.reason=n)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function P(o,u,c,i,s){var f=typeof o;"undefined"!==f&&"boolean"!==f||(o=null);var l,p,h=!1;if(null===o)h=!0;else switch(f){case"bigint":case"string":case"number":h=!0;break;case"object":switch(o.$$typeof){case t:case n:h=!0;break;case y:return P((h=o._init)(o._payload),u,c,i,s)}}if(h)return s=s(o),h=""===i?"."+x(o,0):i,R(s)?(c="",null!=h&&(c=h.replace(O,"$&/")+"/"),P(s,u,c,"",function(t){return t})):null!=s&&(A(s)&&(l=s,p=c+(null==s.key||o&&o.key===s.key?"":(""+s.key).replace(O,"$&/")+"/")+h,s=T(l.type,p,l.props)),u.push(s)),1;h=0;var v,b=""===i?".":i+":";if(R(o))for(var S=0;S<o.length;S++)h+=P(i=o[S],u,c,f=b+x(i,S),s);else if("function"==typeof(S=null===(v=o)||"object"!=typeof v?null:"function"==typeof(v=_&&v[_]||v["@@iterator"])?v:null))for(o=S.call(o),S=0;!(i=o.next()).done;)h+=P(i=i.value,u,c,f=b+x(i,S++),s);else if("object"===f){if("function"==typeof o.then)return P(I(o),u,c,i,s);throw u=String(o),Error("Objects are not valid as a React child (found: "+("[object Object]"===u?"object with keys {"+Object.keys(o).join(", ")+"}":u)+"). If you meant to render a collection of children, use an array instead.")}return h}function N(t,n,o){if(null==t)return t;var u=[],c=0;return P(t,u,"","",function(t){return n.call(o,t,c++)}),u}function U(t){if(-1===t._status){var n=t._result;(n=n()).then(function(n){0!==t._status&&-1!==t._status||(t._status=1,t._result=n)},function(n){0!==t._status&&-1!==t._status||(t._status=2,t._result=n)}),-1===t._status&&(t._status=0,t._result=n)}if(1===t._status)return t._result.default;throw t._result}var M="function"==typeof reportError?reportError:function(t){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof t&&null!==t&&"string"==typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)},V={map:N,forEach:function(t,n,o){N(t,function(){n.apply(this,arguments)},o)},count:function(t){var n=0;return N(t,function(){n++}),n},toArray:function(t){return N(t,function(t){return t})||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};e.Activity=h,e.Children=V,e.Component=E,e.Fragment=o,e.Profiler=c,e.PureComponent=H,e.StrictMode=u,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,e.__COMPILER_RUNTIME={__proto__:null,c:function(t){return C.H.useMemoCache(t)}},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(t,n,o){if(null==t)throw Error("The argument must be a React element, but you passed "+t+".");var u=b({},t.props),c=t.key;if(null!=n)for(i in void 0!==n.key&&(c=""+n.key),n)!$.call(n,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===n.ref||(u[i]=n[i]);var i=arguments.length-2;if(1===i)u.children=o;else if(1<i){for(var s=Array(i),f=0;f<i;f++)s[f]=arguments[f+2];u.children=s}return T(t.type,c,u)},e.createContext=function(t){return(t={$$typeof:s,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:i,_context:t},t},e.createElement=function(t,n,o){var u,c={},i=null;if(null!=n)for(u in void 0!==n.key&&(i=""+n.key),n)$.call(n,u)&&"key"!==u&&"__self"!==u&&"__source"!==u&&(c[u]=n[u]);var s=arguments.length-2;if(1===s)c.children=o;else if(1<s){for(var f=Array(s),l=0;l<s;l++)f[l]=arguments[l+2];c.children=f}if(t&&t.defaultProps)for(u in s=t.defaultProps)void 0===c[u]&&(c[u]=s[u]);return T(t,i,c)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:y,_payload:{_status:-1,_result:t},_init:U}},e.memo=function(t,n){return{$$typeof:p,type:t,compare:void 0===n?null:n}},e.startTransition=function(t){var n=C.T,o={};C.T=o;try{var u=t(),c=C.S;null!==c&&c(o,u),"object"==typeof u&&null!==u&&"function"==typeof u.then&&u.then(k,M)}catch(t){M(t)}finally{null!==n&&null!==o.types&&(n.types=o.types),C.T=n}},e.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},e.use=function(t){return C.H.use(t)},e.useActionState=function(t,n,o){return C.H.useActionState(t,n,o)},e.useCallback=function(t,n){return C.H.useCallback(t,n)},e.useContext=function(t){return C.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,n){return C.H.useDeferredValue(t,n)},e.useEffect=function(t,n){return C.H.useEffect(t,n)},e.useEffectEvent=function(t){return C.H.useEffectEvent(t)},e.useId=function(){return C.H.useId()},e.useImperativeHandle=function(t,n,o){return C.H.useImperativeHandle(t,n,o)},e.useInsertionEffect=function(t,n){return C.H.useInsertionEffect(t,n)},e.useLayoutEffect=function(t,n){return C.H.useLayoutEffect(t,n)},e.useMemo=function(t,n){return C.H.useMemo(t,n)},e.useOptimistic=function(t,n){return C.H.useOptimistic(t,n)},e.useReducer=function(t,n,o){return C.H.useReducer(t,n,o)},e.useRef=function(t){return C.H.useRef(t)},e.useState=function(t){return C.H.useState(t)},e.useSyncExternalStore=function(t,n,o){return C.H.useSyncExternalStore(t,n,o)},e.useTransition=function(){return C.H.useTransition()},e.version="19.2.0"},76,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.Commands=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[1])),r=e(_r(d[2]));var n=t.get('RCTView',function(){return{uiViewClassName:'RCTView'}});_e.Commands=(0,r.default)({supportedCommands:['focus','blur','hotspotUpdate','setPressed']}),_e.default=n},77,[1,78,106]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.get=f,_e.getWithFallback_DEPRECATED=function(e,t){if(null==n){if(c(e))return f(e,t)}else if(null!=n(e))return f(e,t);var i=function(e){return null};return i.displayName=`Fallback(${e})`,i},_e.setRuntimeConfigProvider=function(e){void 0===n&&(n=e)},_e.unstable_hasStaticViewConfig=function(e){var t;return!(null!=(t=null==n?void 0:n(e))?t:{native:!0}).native};var n,t=e(_r(d[1])),i=e(_r(d[2])),r=o(_r(d[3])),l=o(_r(d[4])),u=e(_r(d[5]));o(_r(d[6]));function o(e,n){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(o=function(e,n){if(!n&&e&&e.__esModule)return e;var r,l,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=n?i:t){if(r.has(e))return r.get(e);r.set(e,u)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(l.get||l.set)?r(u,o,l):u[o]=e[o]);return u})(e,n)}function f(e,i){return r.register(e,function(){var r,o,f,c,v=null!=(r=null==n?void 0:n(e))?r:{native:!g.RN$Bridgeless,verify:!1},s=v.native,p=v.verify;s?o=null!=(f=(0,t.default)(e))?f:(0,_r(d[7]).createViewConfig)(i()):o=null!=(c=(0,_r(d[7]).createViewConfig)(i()))?c:(0,t.default)(e);if((0,u.default)(null!=o,'NativeComponentRegistry.get: both static and native view config are missing for native component "%s".',e),p){var y=s?o:(0,t.default)(e);if(null==y)return o;var _=s?(0,_r(d[7]).createViewConfig)(i()):o,w=l.validate(e,y,_);'invalid'===w.type&&console.error(l.stringifyValidationResult(e,w))}return o}),e}function c(e){return(0,u.default)(null==n,'Unexpected invocation!'),null!=i.default.getViewManagerConfig(e)}},78,[1,79,80,100,101,32,75,102]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));function u(t){var n=r(d[2]).default.getConstants();n.ViewManagerNames||n.LazyViewManagersEnabled?t=s(t,r(d[4])(r(d[2]).default.getDefaultEventTypes)()):(t.bubblingEventTypes=s(t.bubblingEventTypes,n.genericBubblingEventTypes),t.directEventTypes=s(t.directEventTypes,n.genericDirectEventTypes))}function s(t,n){if(!n)return t;if(!t)return n;for(var u in n)if(n.hasOwnProperty(u)){var l=n[u];if(t.hasOwnProperty(u)){var c=t[u];'object'==typeof l&&'object'==typeof c&&(l=s(c,l))}t[u]=l}return t}function l(t){switch(t){case'CATransform3D':return r(d[5]).default;case'CGPoint':case'Point':return r(d[6]).default;case'CGSize':return r(d[7]).default;case'UIEdgeInsets':case'EdgeInsets':return r(d[8]).default}return null}function c(t){switch(t){case'CGColor':case'UIColor':case'Color':return r(d[9]).default;case'CGColorArray':case'UIColorArray':case'ColorArray':return r(d[10]).default;case'CGImage':case'UIImage':case'RCTImageSource':case'ImageSource':return r(d[11]).default;case'BoxShadowArray':case'BoxShadow':return n.default;case'FilterArray':case'Filter':return r(d[12]).default;case'BackgroundImage':return r(d[13]).default;case'BackgroundPosition':return r(d[14]).default;case'BackgroundRepeat':return r(d[15]).default;case'BackgroundSize':return r(d[16]).default}return null}e.default=function(t){var n=r(d[2]).default.getViewManagerConfig(t);if(null==n)return null;var s=n.baseModuleName,o=n.bubblingEventTypes,f=n.directEventTypes,v=n.NativeProps;for(o=null!=o?o:{},f=null!=f?f:{};s;){var b=r(d[2]).default.getViewManagerConfig(s);b?(o=Object.assign({},b.bubblingEventTypes,o),f=Object.assign({},b.directEventTypes,f),v=Object.assign({},b.NativeProps,v),s=b.baseModuleName):s=null}var y={};for(var p in v){var C=v[p],E=l(C),T=c(C);y[p]=null==E?null==T||{process:T}:null==T?{diff:E}:{diff:E,process:T}}return y.style=r(d[3]).default,Object.assign(n,{uiViewClassName:t,validAttributes:y,bubblingEventTypes:o,directEventTypes:f}),u(n),n}},79,[1,62,80,49,81,89,90,68,91,55,92,93,63,54,59,60,61]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1]));function o(n){return n%2==0}var u=!0===g.RN$Bridgeless?r(d[2]).default:r(d[3]).default,f=Object.assign({},u,{measure:function(n,f){if(o(n)){var s=(0,t.default)((0,r(d[4]).getFabricUIManager)()),l=s.findShadowNodeByTag_DEPRECATED(n);l?s.measure(l,f):(console.warn(`measure cannot find view with tag #${n}`),f())}else u.measure(n,f)},measureInWindow:function(n,f){if(o(n)){var s=(0,t.default)((0,r(d[4]).getFabricUIManager)()),l=s.findShadowNodeByTag_DEPRECATED(n);l?s.measureInWindow(l,f):(console.warn(`measure cannot find view with tag #${n}`),f())}else u.measureInWindow(n,f)},measureLayout:function(n,f,s,l){if(o(n)){var c=(0,t.default)((0,r(d[4]).getFabricUIManager)()),w=c.findShadowNodeByTag_DEPRECATED(n),E=c.findShadowNodeByTag_DEPRECATED(f);if(!w||!E)return;c.measureLayout(w,E,s,l)}else u.measureLayout(n,f,s,l)},measureLayoutRelativeToParent:function(n,f,s){if(o(n)){console.warn('RCTUIManager.measureLayoutRelativeToParent method is deprecated and it will not be implemented in newer versions of RN (Fabric) - T47686450');var l=(0,t.default)((0,r(d[4]).getFabricUIManager)()),c=l.findShadowNodeByTag_DEPRECATED(n);c&&l.measure(c,function(n,t,o,u,f,l){s(n,t,o,u)})}else u.measureLayoutRelativeToParent(n,f,s)},dispatchViewManagerCommand:function(n,f,s){if('number'!=typeof n)throw new Error('dispatchViewManagerCommand: found null reactTag');if(o(n)){var l=(0,t.default)((0,r(d[4]).getFabricUIManager)()),c=l.findShadowNodeByTag_DEPRECATED(n);c&&(f=`${f}`,l.dispatchCommand(c,f,s))}else u.dispatchViewManagerCommand(n,f,s)}});e.default=f},80,[1,81,82,85,83]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},81,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),s=n(r(d[3]));function u(n,t){console.error(`[ReactNative Architecture][JS] '${n}' is not available in the new React Native architecture.`+(t?` ${t}`:''))}var c,f,l=g.RN$LegacyInterop_UIManager_getConstants,w=(c=!1,f={},function(){return c||(f=(0,s.default)(l)(),c=!0),f}),v=g.RN$LegacyInterop_UIManager_getConstantsForViewManager,C=g.RN$LegacyInterop_UIManager_getDefaultEventTypes,p=(function(){var n=!1,t=null;return function(){return n||(t=(0,s.default)(C)(),n=!0),t}})(),h={measure:function(n,t){u('measure')},measureInWindow:function(n,t){u('measureInWindow')},measureLayout:function(n,t,o,s){u('measureLayout')},measureLayoutRelativeToParent:function(n,t,o){u('measureLayoutRelativeToParent')},dispatchViewManagerCommand:function(n,t,o){u('dispatchViewManagerCommand')}},y={createView:function(n,t,o,s){u('createView')},updateView:function(n,t,o){u('updateView')},setChildren:function(n,t){u('setChildren')},manageChildren:function(n,t,o,s,c,f){u('manageChildren')},setJSResponder:function(n,t){u('setJSResponder')},clearJSResponder:function(){u('clearJSResponder')}},E=o.default.select({android:{}}),M=o.default.select({android:{getConstantsForViewManager:function(n){return v?v(n):(u('getConstantsForViewManager'),{})},getDefaultEventTypes:function(){return C?p():(u('getDefaultEventTypes'),[])},setLayoutAnimationEnabledExperimental:function(n){},sendAccessibilityEvent:function(n,t){var o=null;if(t===8)o='focus';else if(t===32)o='windowStateChange';else if(t===1)o='click';else{if(t!==128)return void console.error(`sendAccessibilityEvent() dropping event: Called with unsupported eventType: ${t}`);o='viewHoverEnter'}var u=(0,s.default)((0,r(d[4]).getFabricUIManager)()),c=u.findShadowNodeByTag_DEPRECATED(n);c?u.sendAccessibilityEvent(c,o):console.error(`sendAccessibilityEvent() dropping event: Cannot find view with tag #${n}`)}},ios:{lazilyLoadView:function(n){return u('lazilyLoadView'),{}},focus:function(n){var t=(0,s.default)((0,r(d[4]).getFabricUIManager)()),o=t.findShadowNodeByTag_DEPRECATED(n);o?t.dispatchCommand(o,'focus',[]):console.error(`focus() noop: Cannot find view with tag #${n}`)},blur:function(n){var t=(0,s.default)((0,r(d[4]).getFabricUIManager)()),o=t.findShadowNodeByTag_DEPRECATED(n);o?t.dispatchCommand(o,'blur',[]):console.error(`blur() noop: Cannot find view with tag #${n}`)}}}),b=Object.assign({},h,E,M,y,{getViewManagerConfig:function(n){if(l){var t=w();return!t[n]&&b.getConstantsForViewManager&&(t[n]=b.getConstantsForViewManager(n)),t[n]}return u(`getViewManagerConfig('${n}')`,`If '${n}' has a ViewManager and you want to retrieve its native ViewConfig, please turn on the native ViewConfig interop layer. If you want to see if this component is registered with React Native, please call hasViewManagerConfig('${n}') instead.`),null},hasViewManagerConfig:function(n){return(0,r(d[5]).unstable_hasComponent)(n)},getConstants:function(){return l?w():(u('getConstants'),null)},findSubviewIn:function(n,t,o){var u=(0,s.default)((0,r(d[4]).getFabricUIManager)()),c=u.findShadowNodeByTag_DEPRECATED(n);c?u.findNodeAtPoint(c,t[0],t[1],function(n){if(null!=n){var t=n,s=t.stateNode.node;if(s){var c=t.stateNode.canonical.nativeTag;u.measure(s,function(n,t,s,u,f,l){o(c,f,l,s,u)})}else console.error('findSubviewIn(): Cannot find node at point')}else console.error('findSubviewIn(): Cannot find node at point')}):console.error(`findSubviewIn() noop: Cannot find view with reactTag ${n}`)},viewIsDescendantOf:function(n,t,o){var u=(0,s.default)((0,r(d[4]).getFabricUIManager)()),c=u.findShadowNodeByTag_DEPRECATED(n);if(c){var f=u.findShadowNodeByTag_DEPRECATED(t);if(f){o([!!(16&u.compareDocumentPosition(f,c))])}else console.error(`viewIsDescendantOf() noop: Cannot find view with ancestorReactTag ${t}`)}else console.error(`viewIsDescendantOf() noop: Cannot find view with reactTag ${n}`)},configureNextLayoutAnimation:function(n,t,o){(0,s.default)((0,r(d[4]).getFabricUIManager)()).configureNextLayoutAnimation(n,t,o)}});l&&(Object.keys(w()).forEach(function(n){b[n]=w()[n]}),b.getConstants().ViewManagerNames&&b.getConstants().ViewManagerNames.forEach(function(n){(0,t.default)(b,n,{get:function(){return(0,s.default)(b.getConstantsForViewManager)(n)}})}));e.default=b},82,[1,48,69,81,83,84]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getFabricUIManager=function(){null==n&&null!=g.nativeFabricUIManager&&(n=c(g.nativeFabricUIManager,u));return n};var n,o=t(r(d[1])),u=['createNode','cloneNode','cloneNodeWithNewChildren','cloneNodeWithNewProps','cloneNodeWithNewChildrenAndProps','createChildSet','appendChild','appendChildToSet','completeRoot','measure','measureInWindow','measureLayout','configureNextLayoutAnimation','sendAccessibilityEvent','findShadowNodeByTag_DEPRECATED','setNativeProps','dispatchCommand','compareDocumentPosition','getBoundingClientRect','unstable_DefaultEventPriority','unstable_DiscreteEventPriority','unstable_ContinuousEventPriority','unstable_IdleEventPriority','unstable_getCurrentEventPriority'];function c(t,n){var u=Object.create(t),c=function(n){(0,o.default)(u,n,{get:function(){return t[n]}})};for(var l of n)c(l);return u}},83,[1,48]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.unstable_hasComponent=function(t){var o=n.get(t);if(null==o){if(!g.__nativeComponentRegistry__hasComponent)throw new Error(`unstable_hasComponent('${t}'): Global function is not registered`);o=g.__nativeComponentRegistry__hasComponent(t),n.set(t,o)}return o};var n=new Map},84,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(r(d[1])),t=e(r(d[2])),o={},f=new Set,u={},l=!1;function c(){return l||(u=n.default.getConstants(),l=!0),u}function s(e){if(void 0===o[e]&&n.default.getConstantsForViewManager)try{o[e]=n.default.getConstantsForViewManager(e)}catch(n){console.error("NativeUIManager.getConstantsForViewManager('"+e+"') threw an exception.",n),o[e]=null}var u=o[e];if(u)return u;if(!g.nativeCallSyncHook)return u;if(n.default.lazilyLoadView&&!f.has(e)){var l=(0,t.default)(n.default.lazilyLoadView)(e);f.add(e),null!=l&&null!=l.viewConfig&&(c()[e]=l.viewConfig,M(e))}return o[e]}var w=Object.assign({},n.default,{createView:function(e,t,o,f){n.default.createView(e,t,o,f)},getConstants:function(){return c()},getViewManagerConfig:function(e){return s(e)},hasViewManagerConfig:function(e){return null!=s(e)}});function M(e){var n=c()[e];o[e]=n,n.Manager&&(r(d[3]).default(n,'Constants',{get:function(){var e=r(d[4]).default[n.Manager],t={};return e&&Object.keys(e).forEach(function(n){var o=e[n];'function'!=typeof o&&(t[n]=o)}),t}}),r(d[3]).default(n,'Commands',{get:function(){var e=r(d[4]).default[n.Manager],t={},o=0;return e&&Object.keys(e).forEach(function(n){'function'==typeof e[n]&&(t[n]=o++)}),t}}))}n.default.getViewManagerConfig=w.getViewManagerConfig,c().ViewManagerNames&&n.default.getConstants().ViewManagerNames.forEach(function(e){r(d[3]).default(n.default,e,{get:function(){return(0,t.default)(n.default.getConstantsForViewManager)(e)}})}),g.nativeCallSyncHook||Object.keys(c()).forEach(function(e){r(d[5]).default.includes(e)||(o[e]||(o[e]=c()[e]),r(d[3]).default(n.default,e,{get:function(){return console.warn(`Accessing view manager configs directly off UIManager via UIManager['${e}'] is no longer supported. Use UIManager.getViewManagerConfig('${e}') instead.`),w.getViewManagerConfig(e)}}))});_e.default=w},85,[1,86,81,48,33,88]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},86,[87]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('UIManager')},87,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=['clearJSResponder','configureNextLayoutAnimation','createView','dispatchViewManagerCommand','findSubviewIn','getConstantsForViewManager','getDefaultEventTypes','manageChildren','measure','measureInWindow','measureLayout','measureLayoutRelativeToParent','removeRootView','sendAccessibilityEvent','setChildren','setJSResponder','setLayoutAnimationEnabledExperimental','updateView','viewIsDescendantOf','LazyViewManagersEnabled','ViewManagerNames','StyleConstants','AccessibilityEventTypes','UIView','getViewManagerConfig','hasViewManagerConfig','blur','focus','genericBubblingEventTypes','genericDirectEventTypes','lazilyLoadView']},88,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t,u){return t!==u&&(!t||!u||t[12]!==u[12]||t[13]!==u[13]||t[14]!==u[14]||t[5]!==u[5]||t[10]!==u[10]||t[0]!==u[0]||t[1]!==u[1]||t[2]!==u[2]||t[3]!==u[3]||t[4]!==u[4]||t[6]!==u[6]||t[7]!==u[7]||t[8]!==u[8]||t[9]!==u[9]||t[11]!==u[11]||t[15]!==u[15])}},89,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={x:void 0,y:void 0};e.default=function(u,o){return(u=u||t)!==(o=o||t)&&(u.x!==o.x||u.y!==o.y)}},90,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={top:void 0,left:void 0,right:void 0,bottom:void 0};e.default=function(o,f){return(o=o||t)!==(f=f||t)&&(o.top!==f.top||o.left!==f.left||o.right!==f.right||o.bottom!==f.bottom)}},91,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(d[1]));function u(l){var u=(0,n.default)(l);return null==u?(console.error('Invalid value in color array:',l),0):u}e.default=function(l){return null==l?null:l.map(u)}},92,[1,55]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,u,l,f=t(r(d[1])),o=[];function s(){return null!=l?l:l=f.default.getConstants().scriptURL}function c(){if(void 0===n){var t=s(),u=null==t?void 0:t.match(/^https?:\/\/.*?\//);n=u?u[0]:null}return n}function v(t){var n=t;if(null!=n){if(n.startsWith('assets://'))return null;(n=n.substring(0,n.lastIndexOf('/')+1)).includes('://')||(n='file://'+n)}return n}function p(t){if(null==t||'object'==typeof t)return t;var n=r(d[2]).getAssetByID(t);if(!n)return null;var l=new(r(d[3]).default)(c(),(void 0===u&&(u=v(s())),u),n);if(o)for(var f of o){var p=f(l);if(null!=p)return p}return l.defaultAsset()}p.pickScale=r(d[4]).pickScale,p.setCustomSourceTransformer=function(t){o=[t]},p.addCustomSourceTransformer=function(t){o.push(t)};e.default=p},93,[1,94,96,97,98]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},94,[95]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0])).getEnforcing('SourceCode'),t=null,n={getConstants:function(){return null==t&&(t=e.getConstants()),t}};_e.default=n},95,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=[];m.exports={registerAsset:function(s){return t.push(s)},getAssetByID:function(s){return t[s-1]}}},96,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),l=t(r(d[2]));function n(t){var s=r(d[3]).pickScale(t.scales,r(d[4]).default.get()),l=1===s?'':'@'+s+'x';return r(d[5]).getBasePath(t)+'/'+t.name+l+'.'+t.type}var u=(function(){return(0,l.default)(function t(l,n,u){(0,s.default)(this,t),this.serverUrl=l,this.jsbundleUrl=n,this.asset=u},[{key:"isLoadedFromServer",value:function(){return null!=this.serverUrl&&''!==this.serverUrl&&!('xml'===this.asset.type)}},{key:"isLoadedFromFileSystem",value:function(){var t;return null!=this.jsbundleUrl&&(null==(t=this.jsbundleUrl)?void 0:t.startsWith('file://'))}},{key:"defaultAsset",value:function(){return this.isLoadedFromServer()?this.assetServerURL():null!=this.asset.resolver?this.getAssetUsingResolver(this.asset.resolver):this.isLoadedFromFileSystem()?this.drawableFolderInBundle():this.resourceIdentifierWithoutScale()}},{key:"getAssetUsingResolver",value:function(t){switch(t){case'android':return this.isLoadedFromFileSystem()?this.drawableFolderInBundle():this.resourceIdentifierWithoutScale();case'generic':return this.scaledAssetURLNearBundle();default:throw new Error("Don't know how to get asset via provided resolver: "+t+'\nAsset: '+JSON.stringify(this.asset,null,'\t')+'\nPossible resolvers are:'+JSON.stringify(['android','generic'],null,'\t'))}}},{key:"assetServerURL",value:function(){return r(d[6])(null!=this.serverUrl,'need server to load from'),this.fromSource(this.serverUrl+n(this.asset)+"?platform=android&hash="+this.asset.hash)}},{key:"scaledAssetPath",value:function(){return this.fromSource(n(this.asset))}},{key:"scaledAssetURLNearBundle",value:function(){var t,s=null!=(t=this.jsbundleUrl)?t:'file://';return this.fromSource(s+n(this.asset).replace(/\.\.\//g,'_'))}},{key:"resourceIdentifierWithoutScale",value:function(){return r(d[6])(!0,'resource identifiers work on Android'),this.fromSource(r(d[5]).getAndroidResourceIdentifier(this.asset))}},{key:"drawableFolderInBundle",value:function(){var t,s,l,n=null!=(t=this.jsbundleUrl)?t:'file://';return this.fromSource(n+(s=this.asset,l=r(d[3]).pickScale(s.scales,r(d[4]).default.get()),r(d[5]).getAndroidResourceFolderName(s,l)+'/'+r(d[5]).getAndroidResourceIdentifier(s)+'.'+s.type))}},{key:"fromSource",value:function(t){return{__packager_asset:!0,width:this.asset.width,height:this.asset.height,uri:t,scale:r(d[3]).pickScale(this.asset.scales,r(d[4]).default.get())}}}])})();u.pickScale=r(d[3]).pickScale;e.default=u},97,[1,11,12,98,10,99,32]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlCacheBreaker=function(){if(null==t)return'';return t},e.pickScale=function(n,t){for(var l=null!=t?t:u.default.get(),c=0;c<n.length;c++)if(n[c]>=l)return n[c];return n[n.length-1]||1},e.setUrlCacheBreaker=function(n){t=n};var t,u=n(r(d[1]))},98,[1,10]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={.75:'ldpi',1:'mdpi',1.5:'hdpi',2:'xhdpi',3:'xxhdpi',4:'xxxhdpi'};function n(n){if(n.toString()in t)return t[n.toString()];if(Number.isFinite(n)&&n>0)return Math.round(160*n)+'dpi';throw new Error('no such scale '+n.toString())}var s=new Set(['gif','jpeg','jpg','ktx','png','webp','xml']);function o(t){var n=t.httpServerLocation;return n.startsWith('/')?n.slice(1):n}m.exports={getAndroidResourceFolderName:function(o,u){if(!s.has(o.type))return'raw';var c=n(u);if(!c)throw new Error("Don't know which android drawable suffix to use for scale: "+u+'\nAsset: '+JSON.stringify(o,null,'\t')+'\nPossible scales are:'+JSON.stringify(t,null,'\t'));return'drawable-'+c},getAndroidResourceIdentifier:function(t){return(o(t)+'/'+t.name).toLowerCase().replace(/\//g,'_').replace(/([^a-z0-9_])/g,'').replace(/^(?:assets|assetsunstable_path)_/,'')},getBasePath:o}},99,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.customDirectEventTypes=e.customBubblingEventTypes=void 0,e.get=function(t){var o=s.get(t);if(null==o){var u=l.get(t);'function'!=typeof u&&(0,n.default)(!1,'View config getter callback for component `%s` must be a function (received `%s`).%s',t,null===u?'null':typeof u,'string'==typeof t[0]&&/[a-z]/.test(t[0])?' Make sure to start component names with a capital letter.':''),o=u(),(0,n.default)(o,'View config not found for component `%s`',t),c(o),s.set(t,o),l.set(t,null)}return o},e.register=function(t,o){return(0,n.default)(!l.has(t),'Tried to register two views with the same name %s',t),(0,n.default)('function'==typeof o,'View config getter callback for component `%s` must be a function (received `%s`)',t,null===o?'null':typeof o),l.set(t,o),t};var n=t(r(d[1])),o=e.customBubblingEventTypes={},u=e.customDirectEventTypes={},l=new Map,s=new Map;function c(t){var n=t.bubblingEventTypes,l=t.directEventTypes;if(null!=n)for(var s in n)null==o[s]&&(o[s]=n[s]);if(null!=l)for(var c in l)null==u[c]&&(u[c]=l[c])}},100,[1,32]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.stringifyValidationResult=function(e,i){var n=i.differences;return[`StaticViewConfigValidator: Invalid static view config for '${e}'.`,''].concat((0,t.default)(n.map(function(e){var t=e.type,i=e.path;switch(t){case'missing':return`- '${i.join('.')}' is missing.`;case'unequal':return`- '${i.join('.')}' is the wrong value.`}})),['']).join('\n')},_e.validate=function(e,t,i){var r=[];if(n(r,[],{bubblingEventTypes:t.bubblingEventTypes,directEventTypes:t.directEventTypes,uiViewClassName:t.uiViewClassName,validAttributes:t.validAttributes},{bubblingEventTypes:i.bubblingEventTypes,directEventTypes:i.directEventTypes,uiViewClassName:i.uiViewClassName,validAttributes:i.validAttributes}),0===r.length)return{type:'valid'};return{type:'invalid',differences:r}};var t=e(_r(d[1])),i=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?n:i){if(r.has(e))return r.get(e);r.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(u.get||u.set)?r(s,l,u):s[l]=e[l]);return s})(e,t)})(_r(d[2]));function n(e,u,s,l){for(var o in s){var f=s[o];if(l.hasOwnProperty(o)){var c=l[o],p=r(f);if(null!=p){var v=r(c);if(null!=v){u.push(o),n(e,u,p,v),u.pop();continue}}f===c||i.enableNativeCSSParsing()||e.push({path:[].concat((0,t.default)(u),[o]),type:'unequal',nativeValue:f,staticValue:c})}else e.push({path:[].concat((0,t.default)(u),[o]),type:'missing',nativeValue:f})}}function r(e){return'object'!=typeof e||Array.isArray(e)?null:e}},101,[1,42,50]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createViewConfig=function(t){return{uiViewClassName:t.uiViewClassName,Commands:{},bubblingEventTypes:u(n.default.bubblingEventTypes,t.bubblingEventTypes),directEventTypes:u(n.default.directEventTypes,t.directEventTypes),validAttributes:u(n.default.validAttributes,t.validAttributes)}};var n=t(r(d[1]));function u(t,n){var u;return null==t||null==n?null!=(u=null!=t?t:n)?u:{}:Object.assign({},t,n)}},102,[1,103]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default;e.default=u},103,[1,104]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?r(s,l,i):s[l]=e[l]);return s})(e,t)})(_r(d[1])),o=e(_r(d[2]));var n={topAccessibilityAction:{registrationName:'onAccessibilityAction'},onGestureHandlerEvent:(0,_r(d[3]).DynamicallyInjectedByGestureHandler)({registrationName:'onGestureHandlerEvent'}),onGestureHandlerStateChange:(0,_r(d[3]).DynamicallyInjectedByGestureHandler)({registrationName:'onGestureHandlerStateChange'}),topContentSizeChange:{registrationName:'onContentSizeChange'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topMessage:{registrationName:'onMessage'},topSelectionChange:{registrationName:'onSelectionChange'},topLoadingFinish:{registrationName:'onLoadingFinish'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topLoadingStart:{registrationName:'onLoadingStart'},topLoadingError:{registrationName:'onLoadingError'},topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topScroll:{registrationName:'onScroll'},topLayout:{registrationName:'onLayout'}},r={backgroundColor:{process:_r(d[4]).default},transform:!0,transformOrigin:!0,experimental_backgroundImage:!!t.enableNativeCSSParsing()||{process:_r(d[5]).default},experimental_backgroundSize:{process:_r(d[6]).default},experimental_backgroundPosition:{process:_r(d[7]).default},experimental_backgroundRepeat:{process:_r(d[8]).default},boxShadow:!!t.enableNativeCSSParsing()||{process:_r(d[9]).default},filter:!!t.enableNativeCSSParsing()||{process:_r(d[10]).default},mixBlendMode:!0,isolation:!0,opacity:!0,elevation:!0,shadowColor:{process:_r(d[4]).default},zIndex:!0,renderToHardwareTextureAndroid:!0,testID:!0,nativeID:!0,accessibilityLabelledBy:!0,accessibilityLabel:!0,accessibilityHint:!0,accessibilityRole:!0,accessibilityCollection:!0,accessibilityCollectionItem:!0,accessibilityState:!0,accessibilityActions:!0,accessibilityValue:!0,experimental_accessibilityOrder:!0,importantForAccessibility:!0,screenReaderFocusable:!0,role:!0,rotation:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0,accessibilityLiveRegion:!0,width:!0,minWidth:!0,collapsable:!0,collapsableChildren:!0,maxWidth:!0,height:!0,minHeight:!0,maxHeight:!0,flex:!0,flexGrow:!0,rowGap:!0,columnGap:!0,gap:!0,flexShrink:!0,flexBasis:!0,aspectRatio:!0,flexDirection:!0,flexWrap:!0,alignSelf:!0,alignItems:!0,alignContent:!0,justifyContent:!0,overflow:!0,display:!0,boxSizing:!0,margin:!0,marginBlock:!0,marginBlockEnd:!0,marginBlockStart:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginInline:!0,marginInlineEnd:!0,marginInlineStart:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,padding:!0,paddingBlock:!0,paddingBlockEnd:!0,paddingBlockStart:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingInline:!0,paddingInlineEnd:!0,paddingInlineStart:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,borderWidth:!0,borderStartWidth:!0,borderEndWidth:!0,borderTopWidth:!0,borderBottomWidth:!0,borderLeftWidth:!0,borderRightWidth:!0,outlineColor:{process:_r(d[4]).default},outlineOffset:!0,outlineStyle:!0,outlineWidth:!0,start:!0,end:!0,left:!0,right:!0,top:!0,bottom:!0,inset:!0,insetBlock:!0,insetBlockEnd:!0,insetBlockStart:!0,insetInline:!0,insetInlineEnd:!0,insetInlineStart:!0,position:!0,style:o.default,removeClippedSubviews:!0,accessible:!0,hasTVPreferredFocus:!0,nextFocusDown:!0,nextFocusForward:!0,nextFocusLeft:!0,nextFocusRight:!0,nextFocusUp:!0,borderRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderBottomRightRadius:!0,borderBottomLeftRadius:!0,borderTopStartRadius:!0,borderTopEndRadius:!0,borderBottomStartRadius:!0,borderBottomEndRadius:!0,borderEndEndRadius:!0,borderEndStartRadius:!0,borderStartEndRadius:!0,borderStartStartRadius:!0,borderStyle:!0,hitSlop:!0,pointerEvents:!0,nativeBackgroundAndroid:!0,nativeForegroundAndroid:!0,needsOffscreenAlphaCompositing:!0,borderColor:{process:_r(d[4]).default},borderLeftColor:{process:_r(d[4]).default},borderRightColor:{process:_r(d[4]).default},borderTopColor:{process:_r(d[4]).default},borderBottomColor:{process:_r(d[4]).default},borderStartColor:{process:_r(d[4]).default},borderEndColor:{process:_r(d[4]).default},borderBlockColor:{process:_r(d[4]).default},borderBlockEndColor:{process:_r(d[4]).default},borderBlockStartColor:{process:_r(d[4]).default},focusable:!0,backfaceVisibility:!0},i={directEventTypes:n,bubblingEventTypes:{topChange:{phasedRegistrationNames:{captured:'onChangeCapture',bubbled:'onChange'}},topSelect:{phasedRegistrationNames:{captured:'onSelectCapture',bubbled:'onSelect'}},topTouchEnd:{phasedRegistrationNames:{captured:'onTouchEndCapture',bubbled:'onTouchEnd'}},topTouchCancel:{phasedRegistrationNames:{captured:'onTouchCancelCapture',bubbled:'onTouchCancel'}},topTouchStart:{phasedRegistrationNames:{captured:'onTouchStartCapture',bubbled:'onTouchStart'}},topTouchMove:{phasedRegistrationNames:{captured:'onTouchMoveCapture',bubbled:'onTouchMove'}},topPointerCancel:{phasedRegistrationNames:{captured:'onPointerCancelCapture',bubbled:'onPointerCancel'}},topPointerDown:{phasedRegistrationNames:{captured:'onPointerDownCapture',bubbled:'onPointerDown'}},topPointerEnter:{phasedRegistrationNames:{captured:'onPointerEnterCapture',bubbled:'onPointerEnter',skipBubbling:!0}},topPointerLeave:{phasedRegistrationNames:{captured:'onPointerLeaveCapture',bubbled:'onPointerLeave',skipBubbling:!0}},topPointerMove:{phasedRegistrationNames:{captured:'onPointerMoveCapture',bubbled:'onPointerMove'}},topPointerUp:{phasedRegistrationNames:{captured:'onPointerUpCapture',bubbled:'onPointerUp'}},topPointerOut:{phasedRegistrationNames:{captured:'onPointerOutCapture',bubbled:'onPointerOut'}},topPointerOver:{phasedRegistrationNames:{captured:'onPointerOverCapture',bubbled:'onPointerOver'}},topClick:{phasedRegistrationNames:{captured:'onClickCapture',bubbled:'onClick'}},topBlur:{phasedRegistrationNames:{captured:'onBlurCapture',bubbled:'onBlur'}},topFocus:{phasedRegistrationNames:{captured:'onFocusCapture',bubbled:'onFocus'}}},validAttributes:Object.assign({},r,{onLayout:!0,onMoveShouldSetResponder:!0,onMoveShouldSetResponderCapture:!0,onStartShouldSetResponder:!0,onStartShouldSetResponderCapture:!0,onResponderGrant:!0,onResponderReject:!0,onResponderStart:!0,onResponderEnd:!0,onResponderRelease:!0,onResponderMove:!0,onResponderTerminate:!0,onResponderTerminationRequest:!0,onShouldBlockNativeResponder:!0,onTouchStart:!0,onTouchMove:!0,onTouchEnd:!0,onTouchCancel:!0,onClick:!0,onClickCapture:!0,onPointerEnter:!0,onPointerEnterCapture:!0,onPointerLeave:!0,onPointerLeaveCapture:!0,onPointerMove:!0,onPointerMoveCapture:!0,onPointerOut:!0,onPointerOutCapture:!0,onPointerOver:!0,onPointerOverCapture:!0})};_e.default=i},104,[1,50,49,105,55,54,61,59,60,62,63]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ConditionallyIgnoredEventHandlers=function(n){if('ios'===t.default.OS)return n;return},e.DynamicallyInjectedByGestureHandler=function(n){return u.add(n),n},e.isIgnored=function(n){if('object'==typeof n&&null!=n)return u.has(n);return!1};var t=n(r(d[1])),u=new WeakSet},105,[1,69]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(n){var o={};return n.supportedCommands.forEach(function(n){o[n]=function(o){for(var t=arguments.length,u=new Array(t>1?t-1:0),f=1;f<t;f++)u[f-1]=arguments[f];r(d[0]).dispatchCommand(o,n,u)}}),o}},106,[107]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))})},107,[108]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.dispatchCommand=function(n,e,o){return!0===g.RN$Bridgeless?(null==u&&(u=t().dispatchCommand),u(n,e,o)):(null==c&&(c=r().dispatchCommand),c(n,e,o))},_e.isChildPublicInstance=_e.getPublicInstanceFromRootTag=_e.getPublicInstanceFromInternalInstanceHandle=_e.getNodeFromInternalInstanceHandle=_e.findNodeHandle=_e.findHostInstance_DEPRECATED=void 0,_e.isProfilingRenderer=function(){return Boolean(!1)},_e.renderElement=function(n){var e=n.element,u=n.rootTag,c=n.useFabric,i=n.useConcurrentRoot;c?(null==o&&(o=t().render),o(e,u,null,i,{onCaughtError:_r(d[3]).onCaughtError,onUncaughtError:_r(d[3]).onUncaughtError,onRecoverableError:_r(d[3]).onRecoverableError})):(null==l&&(l=r().render),l(e,u,void 0,{onCaughtError:_r(d[3]).onCaughtError,onUncaughtError:_r(d[3]).onUncaughtError,onRecoverableError:_r(d[3]).onRecoverableError}))},_e.unstable_batchedUpdates=_e.unmountComponentAtNodeAndRemoveContainer=_e.sendAccessibilityEvent=void 0;var n,e;!(function(n,e){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;(function(n,e){if(!e&&n&&n.__esModule)return n;var o,l,u={__proto__:null,default:n};if(null===n||"object"!=typeof n&&"function"!=typeof n)return u;if(o=e?r:t){if(o.has(n))return o.get(n);o.set(n,u)}for(var c in n)"default"!==c&&{}.hasOwnProperty.call(n,c)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,c))&&(l.get||l.set)?o(u,c,l):u[c]=n[c])})(n,e)})(_r(d[0]));function t(){return null==n&&(n=_r(d[1]).default),n}function r(){return null==e&&(e=_r(d[2]).default),e}var o,l,u,c,i=function(n,e){var t;return function(r,o,l,u,c,i){return null==t&&(t=n()[e]),t(r,o,l,u,c)}};function s(n){return i(t,n)}function f(n){return i(r,n)}_e.findHostInstance_DEPRECATED=f('findHostInstance_DEPRECATED'),_e.findNodeHandle=f('findNodeHandle'),_e.sendAccessibilityEvent=f('sendAccessibilityEvent'),_e.unmountComponentAtNodeAndRemoveContainer=f('unmountComponentAtNodeAndRemoveContainer'),_e.unstable_batchedUpdates=f('unstable_batchedUpdates'),_e.isChildPublicInstance=f('isChildPublicInstance'),_e.getNodeFromInternalInstanceHandle=s('getNodeFromInternalInstanceHandle'),_e.getPublicInstanceFromInternalInstanceHandle=s('getPublicInstanceFromInternalInstanceHandle'),_e.getPublicInstanceFromRootTag=s('getPublicInstanceFromRootTag')},108,[75,109,269,271]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=r(d[0]),g.RN$stopSurface=t.stopSurface,!0!==g.RN$Bridgeless&&r(d[1]).BatchedBridge.registerCallableModule('ReactFabric',t);e.default=t},109,[110,259]);
__d(function(e,n,t,l,r,a,u){"use strict";n(u[0]);var i,o,s=n(u[1]),c=Array.isArray,d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,f=Object.assign;function p(e){if(void 0===i)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);i=n&&n[1]||"",o=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+i+e+o}var h=!1;function m(e,n){if(!e||h)return"";h=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var l=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){l=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){l=e}(t=e())&&"function"==typeof t.catch&&t.catch(function(){})}}catch(e){if(e&&l&&"string"==typeof e.stack)return[e.stack,l.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=l.DetermineComponentFrameRoot(),u=a[0],i=a[1];if(u&&i){var o=u.split("\n"),s=i.split("\n");for(r=l=0;l<o.length&&!o[l].includes("DetermineComponentFrameRoot");)l++;for(;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;if(l===o.length||r===s.length)for(l=o.length-1,r=s.length-1;1<=l&&0<=r&&o[l]!==s[r];)r--;for(;1<=l&&0<=r;l--,r--)if(o[l]!==s[r]){if(1!==l||1!==r)do{if(l--,0>--r||o[l]!==s[r]){var c="\n"+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=l&&0<=r);break}}}finally{h=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?p(t):""}function g(e,n){switch(e.tag){case 26:case 27:case 5:return p(e.type);case 16:return p("Lazy");case 13:return e.child!==n&&null!==n?p("Suspense Fallback"):p("Suspense");case 19:return p("SuspenseList");case 0:case 15:return m(e.type,!1);case 11:return m(e.type.render,!1);case 1:return m(e.type,!0);case 31:return p("Activity");default:return""}}function v(e){try{var n="",t=null;do{n+=g(e,t),t=e,e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),z=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var L=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function F(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var U=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===U?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList";case _:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case S:return"Portal";case z:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case R:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(n=e.displayName||null)?n:A(e.type)||"Memo";case N:n=e._payload,e=e._init;try{return A(e(n))}catch(e){}}return null}var D=!1,Q=null,j=null,M=null,H=null;function O(e,n,t){e.currentTarget=H(t);try{n(e)}catch(e){D||(D=!0,Q=e)}e.currentTarget=null}function B(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(c(n))throw Error("Invalid `event`.");return e.currentTarget=n?H(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function W(){return!0}function V(){return!1}function $(e,n,t,l){for(var r in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(r)&&((n=e[r])?this[r]=n(t):"target"===r?this.target=l:this[r]=t[r]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?W:V,this.isPropagationStopped=V,this}function q(e,n,t,l){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,n,t,l),r}return new this(e,n,t,l)}function Y(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function X(e){e.getPooled=q,e.eventPool=[],e.release=Y}f($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=W)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=W)},persist:function(){this.isPersistent=W},isPersistent:V,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=V,this._dispatchInstances=this._dispatchListeners=null}}),$.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},$.extend=function(e){function n(){}function t(){return l.apply(this,arguments)}var l=this;n.prototype=l.prototype;var r=new n;return f(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=f({},l.Interface,e),t.extend=l.extend,X(t),t},X($);var G=$.extend({touchHistory:function(){return null}});function J(e){return"topTouchStart"===e}function K(e){return"topTouchMove"===e}var Z=["topTouchStart"],ee=["topTouchMove"],ne=["topTouchCancel","topTouchEnd"],te=[],le={touchBank:te,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function re(e){return e.timeStamp||e.timestamp}function ae(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function ue(e){var n=ae(e),t=te[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=re(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=re(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=re(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:re(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:re(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:re(e)},te[n]=t),le.mostRecentTimeStamp=re(e)}function ie(e){var n=te[ae(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=re(e),le.mostRecentTimeStamp=re(e))}function oe(e){var n=te[ae(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=re(e),le.mostRecentTimeStamp=re(e))}var se,ce={instrument:function(e){se=e},recordTouchTrack:function(e,n){if(null!=se&&se(e,n),K(e))n.changedTouches.forEach(ie);else if(J(e))n.changedTouches.forEach(ue),le.numberActiveTouches=n.touches.length,1===le.numberActiveTouches&&(le.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(oe),le.numberActiveTouches=n.touches.length,1===le.numberActiveTouches))for(e=0;e<te.length;e++)if(null!=(n=te[e])&&n.touchActive){le.indexOfSingleActiveTouch=e;break}},touchHistory:le};function de(e,n){if(null==n)throw Error("Accumulated items must not be null or undefined.");return null==e?n:c(e)?e.concat(n):c(n)?[e].concat(n):[e,n]}function fe(e,n){if(null==n)throw Error("Accumulated items must not be null or undefined.");return null==e?n:c(e)?c(n)?(e.push.apply(e,n),e):(e.push(n),e):c(n)?[e].concat(n):[e,n]}function pe(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var he=null,me=0;function ge(e,n){var t=he;he=e,null!==ze.GlobalResponderHandler&&ze.GlobalResponderHandler.onChange(t,e,n)}var ve={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:Z},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:ee},responderStart:{registrationName:"onResponderStart",dependencies:Z},responderMove:{registrationName:"onResponderMove",dependencies:ee},responderEnd:{registrationName:"onResponderEnd",dependencies:ne},responderRelease:{registrationName:"onResponderRelease",dependencies:ne},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function be(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function ye(e,n,t){for(var l=[];e;)l.push(e),e=be(e);for(e=l.length;0<e--;)n(l[e],"captured",t);for(e=0;e<l.length;e++)n(l[e],"bubbled",t)}function Se(e,n){if(null===(e=e.stateNode))return null;if(null===(e=j(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function ke(e,n,t){(n=Se(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=fe(t._dispatchListeners,n),t._dispatchInstances=fe(t._dispatchInstances,e))}function we(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Se(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=fe(e._dispatchListeners,t),e._dispatchInstances=fe(e._dispatchInstances,n))}}}function Ee(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;ye(n=n?be(n):null,ke,e)}}function Pe(e){e&&e.dispatchConfig.phasedRegistrationNames&&ye(e._targetInst,ke,e)}var ze={_getResponder:function(){return he},eventTypes:ve,extractEvents:function(e,n,t,l){if(J(e))me+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=me))return null;--me}if(ce.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<me&&"topSelectionChange"===e||J(e)||K(e))){var r=J(e)?ve.startShouldSetResponder:K(e)?ve.moveShouldSetResponder:"topSelectionChange"===e?ve.selectionChangeShouldSetResponder:ve.scrollShouldSetResponder;if(he)e:{for(var a=he,u=0,i=a;i;i=be(i))u++;i=0;for(var o=n;o;o=be(o))i++;for(;0<u-i;)a=be(a),u--;for(;0<i-u;)n=be(n),i--;for(;u--;){if(a===n||a===n.alternate)break e;a=be(a),n=be(n)}a=null}else a=n;a=(n=a)===he,(r=G.getPooled(r,n,t,l)).touchHistory=ce.touchHistory,pe(r,a?Ee:Pe);e:{if(a=r._dispatchListeners,n=r._dispatchInstances,c(a)){for(u=0;u<a.length&&!r.isPropagationStopped();u++)if(a[u](r,n[u])){a=n[u];break e}}else if(a&&a(r,n)){a=n;break e}a=null}if(r._dispatchInstances=null,r._dispatchListeners=null,r.isPersistent()||r.constructor.release(r),a&&a!==he)if((r=G.getPooled(ve.responderGrant,a,t,l)).touchHistory=ce.touchHistory,pe(r,we),n=!0===B(r),he)if((u=G.getPooled(ve.responderTerminationRequest,he,t,l)).touchHistory=ce.touchHistory,pe(u,we),i=!u._dispatchListeners||B(u),u.isPersistent()||u.constructor.release(u),i){(u=G.getPooled(ve.responderTerminate,he,t,l)).touchHistory=ce.touchHistory,pe(u,we);var s=de(s,[r,u]);ge(a,n)}else(r=G.getPooled(ve.responderReject,a,t,l)).touchHistory=ce.touchHistory,pe(r,we),s=de(s,r);else s=de(s,r),ge(a,n);else s=null}else s=null;if(r=he&&J(e),a=he&&K(e),n=he&&("topTouchEnd"===e||"topTouchCancel"===e),(r=r?ve.responderStart:a?ve.responderMove:n?ve.responderEnd:null)&&((r=G.getPooled(r,he,t,l)).touchHistory=ce.touchHistory,pe(r,we),s=de(s,r)),r=he&&"topTouchCancel"===e,e=he&&!r&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!=(n=e[a].target)&&0!==n){u=M(n);n:{for(n=he;u;){if(n===u||n===u.alternate){n=!0;break n}u=be(u)}n=!1}if(n){e=!1;break e}}e=!0}return(e=r?ve.responderTerminate:e?ve.responderRelease:null)&&((t=G.getPooled(e,he,t,l)).touchHistory=ce.touchHistory,pe(t,we),s=de(s,t),ge(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){ze.GlobalResponderHandler=e}}},Re=null,Ce={};function Te(){if(Re)for(var e in Ce){var n=Ce[e],t=Re.indexOf(e);if(-1>=t)throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!Ne[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var l in Ne[t]=n,t=n.eventTypes){var r=void 0,a=t[l];if(_e.hasOwnProperty(l))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+l+"`.");_e[l]=a;var u=a.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&xe(u[r],n);r=!0}else a.registrationName?(xe(a.registrationName,n),r=!0):r=!1;if(!r)throw Error("EventPluginRegistry: Failed to publish event `"+l+"` for plugin `"+e+"`.")}}}}function xe(e,n){if(Le[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");Le[e]=n}var Ne=[],_e={},Le={};function Ie(e,n){if(null===(e=e.stateNode))return null;if(null===(e=j(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}var Fe=n(u[2]).ReactNativeViewConfigRegistry.customBubblingEventTypes,Ue=n(u[2]).ReactNativeViewConfigRegistry.customDirectEventTypes;function Ae(e,n,t){(n=Ie(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=fe(t._dispatchListeners,n),t._dispatchInstances=fe(t._dispatchInstances,e))}function De(e,n,t,l){for(var r=[];e;){r.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=r.length;0<e--;)n(r[e],"captured",t);if(l)n(r[0],"bubbled",t);else for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function Qe(e){e&&e.dispatchConfig.phasedRegistrationNames&&De(e._targetInst,Ae,e,!1)}function je(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Ie(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=fe(e._dispatchListeners,t),e._dispatchInstances=fe(e._dispatchInstances,n))}}}if(Re)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");Re=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),Te();var Me,He={ResponderEventPlugin:ze,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,l){if(null==n)return null;var r=Fe[e],a=Ue[e];if(!r&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=$.getPooled(r||a,n,t,l),r)null!=e&&null!=e.dispatchConfig.phasedRegistrationNames&&e.dispatchConfig.phasedRegistrationNames.skipBubbling?e&&e.dispatchConfig.phasedRegistrationNames&&De(e._targetInst,Ae,e,!0):pe(e,Qe);else{if(!a)return null;pe(e,je)}return e}}},Oe=!1;for(Me in He)if(He.hasOwnProperty(Me)){var Be=He[Me];if(!Ce.hasOwnProperty(Me)||Ce[Me]!==Be){if(Ce[Me])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+Me+"`.");Ce[Me]=Be,Oe=!0}}function We(e,n){return e(n)}Oe&&Te();var Ve=!1;function $e(e,n){if(Ve)return e(n);Ve=!0;try{return We(e,n)}finally{Ve=!1}}var qe=null;function Ye(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(c(n))for(var l=0;l<n.length&&!e.isPropagationStopped();l++)O(e,n[l],t[l]);else n&&O(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var Xe=null,Ge=null;function Je(e){if("function"==typeof n(u[3]).log&&n(u[3]).unstable_setDisableYieldValue(e),Ge&&"function"==typeof Ge.setStrictMode)try{Ge.setStrictMode(Xe,e)}catch(e){}}var Ke=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ze(e)/en|0)|0},Ze=Math.log,en=Math.LN2;var nn=256,tn=262144,ln=4194304;function rn(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function an(e,n,t){var l=e.pendingLanes;if(0===l)return 0;var r=0,a=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var i=134217727&l;return 0!==i?0!==(l=i&~a)?r=rn(l):0!==(u&=i)?r=rn(u):t||0!==(t=i&~e)&&(r=rn(t)):0!==(i=l&~a)?r=rn(i):0!==u?r=rn(u):t||0!==(t=l&~e)&&(r=rn(t)),0===r?0:0!==n&&n!==r&&0===(n&a)&&((a=r&-r)>=(t=n&-n)||32===a&&4194048&t)?n:r}function un(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function on(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function sn(){var e=ln;return!(62914560&(ln<<=1))&&(ln=4194304),e}function cn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function dn(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fn(e,n,t,l,r,a){var u=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,s=e.hiddenUpdates;for(t=u&~t;0<t;){var c=31-Ke(t),d=1<<c;i[c]=0,o[c]=-1;var f=s[c];if(null!==f)for(s[c]=null,c=0;c<f.length;c++){var p=f[c];null!==p&&(p.lane&=-536870913)}t&=~d}0!==l&&pn(e,l,0),0!==a&&0===r&&(e.suspendedLanes|=a&~(u&~n))}function pn(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ke(n);e.entangledLanes|=n,e.entanglements[l]=1073741824|e.entanglements[l]|261930&t}function hn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var l=31-Ke(t),r=1<<l;r&n|e[l]&n&&(e[l]|=n),t&=~r}}function mn(e,n){var t=n&-n;if(42&t)t=1;else switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return 0!==(t&(e.suspendedLanes|n))?0:t}function gn(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function vn(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function bn(e){if(vn(e)!==e)throw Error("Unable to find node on an unmounted component.")}function yn(e){var n=e.alternate;if(!n){if(null===(n=vn(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,l=n;;){var r=t.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(l=r.return)){t=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===t)return bn(r),e;if(a===l)return bn(r),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==l.return)t=r,l=a;else{for(var u=!1,i=r.child;i;){if(i===t){u=!0,t=r,l=a;break}if(i===l){u=!0,l=r,t=a;break}i=i.sibling}if(!u){for(i=a.child;i;){if(i===t){u=!0,t=a,l=r;break}if(i===l){u=!0,l=a,t=r;break}i=i.sibling}if(!u)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==l)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function Sn(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=Sn(e)))return n;e=e.sibling}return null}var kn=[],wn=-1;function En(e){return{current:e}}function Pn(e){0>wn||(e.current=kn[wn],kn[wn]=null,wn--)}function zn(e,n){wn++,kn[wn]=e.current,e.current=n}var Rn={};var Cn="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},Tn="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},xn=Object.prototype.hasOwnProperty,Nn=new WeakMap;function _n(e,n){if("object"==typeof e&&null!==e){var t=Nn.get(e);return void 0!==t?t:(n={value:e,source:n,stack:v(n)},Nn.set(e,n),n)}return{value:e,source:n,stack:v(n)}}var Ln=En(null),In=En(null),Fn=En(null),Un=En(null);function An(e,n){zn(Fn,n),zn(In,e),zn(Ln,null),e=Qo,Pn(Ln),zn(Ln,e)}function Dn(){Pn(Ln),Pn(In),Pn(Fn)}function Qn(e){null!==e.memoizedState&&zn(Un,e);var n=Ln.current;n!=n&&(zn(In,e),zn(Ln,n))}function jn(e){In.current===e&&(Pn(Ln),Pn(In)),Un.current===e&&(Pn(Un),$o._currentValue2=null)}var Mn=null;function Hn(){var e=Mn;return null!==e&&(null===oi?oi=e:oi.push.apply(oi,e),Mn=null),e}var On=En(null),Bn=null,Wn=null;function Vn(e,n,t){zn(On,n._currentValue2),n._currentValue2=t}function $n(e){e._currentValue2=On.current,Pn(On)}function qn(e,n,t){for(;null!==e;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==l&&(l.childLanes|=n)):null!==l&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===t)break;e=e.return}}function Yn(e,n,t,l){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var u=r.child;a=a.firstContext;e:for(;null!==a;){var i=a;a=r;for(var o=0;o<n.length;o++)if(i.context===n[o]){a.lanes|=t,null!==(i=a.alternate)&&(i.lanes|=t),qn(a.return,t,e),l||(u=null);break e}a=i.next}}else if(18===r.tag){if(null===(u=r.return))throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");u.lanes|=t,null!==(a=u.alternate)&&(a.lanes|=t),qn(u,t,e),u=null}else u=r.child;if(null!==u)u.return=r;else for(u=r;null!==u;){if(u===e){u=null;break}if(null!==(r=u.sibling)){r.return=u.return,u=r;break}u=u.return}r=u}}function Xn(e,n,t,l){e=null;for(var r=n,a=!1;null!==r;){if(!a)if(524288&r.flags)a=!0;else if(262144&r.flags)break;if(10===r.tag){var u=r.alternate;if(null===u)throw Error("Should have a current fiber. This is a bug in React.");if(null!==(u=u.memoizedProps)){var i=r.type;Cn(r.pendingProps.value,u.value)||(null!==e?e.push(i):e=[i])}}else if(r===Un.current){if(null===(u=r.alternate))throw Error("Should have a current fiber. This is a bug in React.");u.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push($o):e=[$o])}r=r.return}null!==e&&Yn(n,e,t,l),n.flags|=262144}function Gn(e){for(e=e.firstContext;null!==e;){if(!Cn(e.context._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function Jn(e){Bn=e,Wn=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Kn(e){return et(Bn,e)}function Zn(e,n){return null===Bn&&Jn(e),et(e,n)}function et(e,n){var t=n._currentValue2;if(n={context:n,memoizedValue:t,next:null},null===Wn){if(null===e)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Wn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wn=Wn.next=n;return t}var nt="undefined"!=typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},tt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lt(){return{controller:new nt,data:new Map,refCount:0}}function rt(e){e.refCount--,0===e.refCount&&n(u[3]).unstable_scheduleCallback(n(u[3]).unstable_NormalPriority,function(){e.controller.abort()})}function at(){}var ut=null,it=null,ot=!1,st=!1,ct=!1,dt=0;function ft(e){e!==it&&null===e.next&&(null===it?ut=it=e:it=it.next=e),st=!0,ot||(ot=!0,qo?Yo(function(){6&Vu?n(u[3]).unstable_scheduleCallback(n(u[3]).unstable_ImmediatePriority,ht):mt()}):n(u[3]).unstable_scheduleCallback(n(u[3]).unstable_ImmediatePriority,ht))}function pt(e,n){if(!ct&&st){ct=!0;do{for(var t=!1,l=ut;null!==l;){if(!n||0===l.tag)if(0!==e){var r=l.pendingLanes;if(0===r)var a=0;else{var u=l.suspendedLanes,i=l.pingedLanes;a=(1<<31-Ke(42|e)+1)-1,a=201326741&(a&=r&~(u&~i))?201326741&a|1:a?2|a:0}0!==a&&(t=!0,bt(l,a))}else a=Yu,!(3&(a=an(l,l===$u?a:0,null!==l.cancelPendingCommit||-1!==l.timeoutHandle)))||un(l,a)||(t=!0,bt(l,a));l=l.next}}while(t);ct=!1}}function ht(){mt()}function mt(){st=ot=!1;for(var e=n(u[3]).unstable_now(),t=null,l=ut;null!==l;){var r=l.next,a=gt(l,e);0===a?(l.next=null,null===t?ut=r:t.next=r,null===r&&(it=t)):(t=l,3&a&&(st=!0)),l=r}0!==hi&&5!==hi||pt(0,!1),0!==dt&&(dt=0)}function gt(e,t){for(var l=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var o=31-Ke(i),s=1<<o,c=a[o];-1===c?0!==(s&l)&&0===(s&r)||(a[o]=on(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}if(l=Yu,l=an(e,e===(t=$u)?l:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===l||e===t&&(2===Xu||9===Xu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&n(u[3]).unstable_cancelCallback(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&l)||un(e,l)){if((t=l&-l)===e.callbackPriority)return t;switch(null!==r&&n(u[3]).unstable_cancelCallback(r),gn(l)){case 2:case 8:l=n(u[3]).unstable_UserBlockingPriority;break;case 32:default:l=n(u[3]).unstable_NormalPriority;break;case 268435456:l=n(u[3]).unstable_IdlePriority}return r=vt.bind(null,e),l=n(u[3]).unstable_scheduleCallback(l,r),e.callbackPriority=t,e.callbackNode=l,t}return null!==r&&null!==r&&n(u[3]).unstable_cancelCallback(r),e.callbackPriority=2,e.callbackNode=null,2}function vt(e,t){if(0!==hi&&5!==hi)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Gi()&&e.callbackNode!==l)return null;var r=Yu;return 0===(r=an(e,e===$u?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ri(e,r,t),gt(e,n(u[3]).unstable_now()),null!=e.callbackNode&&e.callbackNode===l?vt.bind(null,e):null)}function bt(e,n){if(Gi())return null;Ri(e,n,!0)}function yt(){if(0===dt){var e=wt;0===e&&(e=nn,!(261888&(nn<<=1))&&(nn=256)),dt=e}return dt}var St=null,kt=0,wt=0,Et=null;function Pt(e,n){if(null===St){var t=St=[];kt=0,wt=yt(),Et={status:"pending",value:void 0,then:function(e){t.push(e)}}}return kt++,n.then(zt,zt),n}function zt(){if(0===--kt&&null!==St){null!==Et&&(Et.status="fulfilled");var e=St;St=null,wt=0,Et=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var Rt=d.S;d.S=function(e,t){n(u[3]).unstable_now(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&Pt(0,t),null!==Rt&&Rt(e,t)};var Ct=En(null);function Tt(){var e=Ct.current;return null!==e?e:$u.pooledCache}function xt(e,n){zn(Ct,null===n?Ct.current:n.pool)}function Nt(){var e=Tt();return null===e?null:{parent:tt._currentValue2,pool:e}}function _t(e,n){if(Cn(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),l=Object.keys(n);if(t.length!==l.length)return!1;for(l=0;l<t.length;l++){var r=t[l];if(!xn.call(n,r)||!Cn(e[r],n[r]))return!1}return!0}var Lt=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),It=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),Ft=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),Ut={then:function(){}};function At(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Dt(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(at,at),n=t),n.status){case"fulfilled":return n.value;case"rejected":throw Ht(e=n.reason),e;default:if("string"==typeof n.status)n.then(at,at);else{if(null!==(e=$u)&&100<e.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw Ht(e=n.reason),e}throw jt=n,Lt}}function Qt(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw jt=e,Lt;throw e}}var jt=null;function Mt(){if(null===jt)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=jt;return jt=null,e}function Ht(e){if(e===Lt||e===Ft)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}var Ot=null,Bt=0;function Wt(e){var n=Bt;return Bt+=1,null===Ot&&(Ot=[]),Dt(Ot,e,n)}function Vt(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function $t(e,n){if(n.$$typeof===b)throw Error('A React Element from an older version of React was rendered. This is not supported. It can happen if:\n- Multiple copies of the "react" package is used.\n- A library pre-bundled an old copy of "react" or "react/jsx-runtime".\n- A compiler tries to "inline" JSX instead of using the runtime.');throw e=Object.prototype.toString.call(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function qt(e){function n(n,t){if(e){var l=n.deletions;null===l?(n.deletions=[t],n.flags|=16):l.push(t)}}function t(t,l){if(!e)return null;for(;null!==l;)n(t,l),l=l.sibling;return null}function l(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function r(e,n){return(e=oo(e,n)).index=0,e.sibling=null,e}function a(n,t,l){return n.index=l,e?null!==(l=n.alternate)?(l=l.index)<t?(n.flags|=67108866,t):l:(n.flags|=67108866,t):(n.flags|=1048576,t)}function u(n){return e&&null===n.alternate&&(n.flags|=67108866),n}function i(e,n,t,l){return null===n||6!==n.tag?((n=po(t,e.mode,l)).return=e,n):((n=r(n,t)).return=e,n)}function o(e,n,t,l){var a=t.type;return a===k?d(e,n,t.props.children,l,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===N&&Qt(a)===n.type)?(Vt(n=r(n,t.props),t),n.return=e,n):(Vt(n=co(t.type,t.key,t.props,null,e.mode,l),t),n.return=e,n)}function s(e,n,t,l){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=ho(t,e.mode,l)).return=e,n):((n=r(n,t.children||[])).return=e,n)}function d(e,n,t,l,a){return null===n||7!==n.tag?((n=fo(t,e.mode,l,a)).return=e,n):((n=r(n,t)).return=e,n)}function f(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return(n=po(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case y:return Vt(t=co(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case S:return(n=ho(n,e.mode,t)).return=e,n;case N:return f(e,n=Qt(n),t)}if(c(n)||F(n))return(n=fo(n,e.mode,t,null)).return=e,n;if("function"==typeof n.then)return f(e,Wt(n),t);if(n.$$typeof===z)return f(e,Zn(e,n),t);$t(e,n)}return null}function p(e,n,t,l){var r=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return null!==r?null:i(e,n,""+t,l);if("object"==typeof t&&null!==t){switch(t.$$typeof){case y:return t.key===r?o(e,n,t,l):null;case S:return t.key===r?s(e,n,t,l):null;case N:return p(e,n,t=Qt(t),l)}if(c(t)||F(t))return null!==r?null:d(e,n,t,l,null);if("function"==typeof t.then)return p(e,n,Wt(t),l);if(t.$$typeof===z)return p(e,n,Zn(e,t),l);$t(e,t)}return null}function h(e,n,t,l,r){if("string"==typeof l&&""!==l||"number"==typeof l||"bigint"==typeof l)return i(n,e=e.get(t)||null,""+l,r);if("object"==typeof l&&null!==l){switch(l.$$typeof){case y:return o(n,e=e.get(null===l.key?t:l.key)||null,l,r);case S:return s(n,e=e.get(null===l.key?t:l.key)||null,l,r);case N:return h(e,n,t,l=Qt(l),r)}if(c(l)||F(l))return d(n,e=e.get(t)||null,l,r,null);if("function"==typeof l.then)return h(e,n,t,Wt(l),r);if(l.$$typeof===z)return h(e,n,t,Zn(n,l),r);$t(n,l)}return null}function m(r,u,i,o){for(var s=null,c=null,d=u,m=u=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(r,d,i[m],o);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&n(r,d),u=a(v,u,m),null===c?s=v:c.sibling=v,c=v,d=g}if(m===i.length)return t(r,d),s;if(null===d){for(;m<i.length;m++)null!==(d=f(r,i[m],o))&&(u=a(d,u,m),null===c?s=d:c.sibling=d,c=d);return s}for(d=l(d);m<i.length;m++)null!==(g=h(d,r,m,i[m],o))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),u=a(g,u,m),null===c?s=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return n(r,e)}),s}function g(r,u,i,o){if(null==i)throw Error("An iterable object provided no iterator.");for(var s=null,c=null,d=u,m=u=0,g=null,v=i.next();null!==d&&!v.done;m++,v=i.next()){d.index>m?(g=d,d=null):g=d.sibling;var b=p(r,d,v.value,o);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&n(r,d),u=a(b,u,m),null===c?s=b:c.sibling=b,c=b,d=g}if(v.done)return t(r,d),s;if(null===d){for(;!v.done;m++,v=i.next())null!==(v=f(r,v.value,o))&&(u=a(v,u,m),null===c?s=v:c.sibling=v,c=v);return s}for(d=l(d);!v.done;m++,v=i.next())null!==(v=h(d,r,m,v.value,o))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),u=a(v,u,m),null===c?s=v:c.sibling=v,c=v);return e&&d.forEach(function(e){return n(r,e)}),s}function v(e,l,a,i){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case y:e:{for(var o=a.key;null!==l;){if(l.key===o){if((o=a.type)===k){if(7===l.tag){t(e,l.sibling),(i=r(l,a.props.children)).return=e,e=i;break e}}else if(l.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===N&&Qt(o)===l.type){t(e,l.sibling),Vt(i=r(l,a.props),a),i.return=e,e=i;break e}t(e,l);break}n(e,l),l=l.sibling}a.type===k?((i=fo(a.props.children,e.mode,i,a.key)).return=e,e=i):(Vt(i=co(a.type,a.key,a.props,null,e.mode,i),a),i.return=e,e=i)}return u(e);case S:e:{for(o=a.key;null!==l;){if(l.key===o){if(4===l.tag&&l.stateNode.containerInfo===a.containerInfo&&l.stateNode.implementation===a.implementation){t(e,l.sibling),(i=r(l,a.children||[])).return=e,e=i;break e}t(e,l);break}n(e,l),l=l.sibling}(i=ho(a,e.mode,i)).return=e,e=i}return u(e);case N:return v(e,l,a=Qt(a),i)}if(c(a))return m(e,l,a,i);if(F(a)){if("function"!=typeof(o=F(a)))throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");return g(e,l,a=o.call(a),i)}if("function"==typeof a.then)return v(e,l,Wt(a),i);if(a.$$typeof===z)return v(e,l,Zn(e,a),i);$t(e,a)}return"string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a?(a=""+a,null!==l&&6===l.tag?(t(e,l.sibling),(i=r(l,a)).return=e,e=i):(t(e,l),(i=po(a,e.mode,i)).return=e,e=i),u(e)):t(e,l)}return function(e,n,t,l){try{Bt=0;var r=v(e,n,t,l);return Ot=null,r}catch(n){if(n===Lt||n===Ft||!(1&e.mode)&&"object"==typeof n&&null!==n&&"function"==typeof n.then)throw n;var a=uo(29,n,null,e.mode);return a.lanes=l,a.return=e,a}}}var Yt=qt(!0),Xt=qt(!1),Gt=[],Jt=0,Kt=0;function Zt(){for(var e=Jt,n=Kt=Jt=0;n<e;){var t=Gt[n];Gt[n++]=null;var l=Gt[n];Gt[n++]=null;var r=Gt[n];Gt[n++]=null;var a=Gt[n];if(Gt[n++]=null,null!==l&&null!==r){var u=l.pending;null===u?r.next=r:(r.next=u.next,u.next=r),l.pending=r}0!==a&&ll(t,r,a)}}function el(e,n,t,l){Gt[Jt++]=e,Gt[Jt++]=n,Gt[Jt++]=t,Gt[Jt++]=l,Kt|=l,e.lanes|=l,null!==(e=e.alternate)&&(e.lanes|=l)}function nl(e,n,t,l){return el(e,n,t,l),rl(e)}function tl(e,n){return el(e,null,null,n),rl(e)}function ll(e,n,t){e.lanes|=t;var l=e.alternate;null!==l&&(l.lanes|=t);for(var r=!1,a=e.return;null!==a;)a.childLanes|=t,null!==(l=a.alternate)&&(l.childLanes|=t),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==n&&(r=31-Ke(t),null===(l=(e=a.hiddenUpdates)[r])?e[r]=[n]:l.push(n),n.lane=536870912|t),a):null}function rl(e){if(50<ki)throw ki=0,wi=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var al=!1;function ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function il(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ol(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sl(e,n,t){var l=e.updateQueue;if(null===l)return null;if(l=l.shared,2&Vu){var r=l.pending;return null===r?n.next=n:(n.next=r.next,r.next=n),l.pending=n,n=rl(e),ll(e,null,t),n}return el(e,l,n,t),rl(e)}function cl(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194048&t)){var l=n.lanes;t|=l&=e.pendingLanes,n.lanes=t,hn(e,t)}}function dl(e,n){var t=e.updateQueue,l=e.alternate;if(null!==l&&t===(l=l.updateQueue)){var r=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var u={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===a?r=a=u:a=a.next=u,t=t.next}while(null!==t);null===a?r=a=n:a=a.next=n}else r=a=n;return t={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,callbacks:l.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}var fl=!1;function pl(){if(fl){if(null!==Et)throw Et}}function hl(e,n,t,l){fl=!1;var r=e.updateQueue;al=!1;var a=r.firstBaseUpdate,u=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,s=o.next;o.next=null,null===u?a=s:u.next=s,u=o;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==u&&(null===i?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=o))}if(null!==a){var d=r.baseState;for(u=0,c=s=o=null,i=a;;){var p=-536870913&i.lane,h=p!==i.lane;if(h?(Yu&p)===p:(l&p)===p){0!==p&&p===wt&&(fl=!0),null!==c&&(c=c.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var m=e,g=i;p=n;var v=t;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(v,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(v,d,p):m))break e;d=f({},d,p);break e;case 2:al=!0}}null!==(p=i.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[p]:h.push(p))}else h={lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(s=c=h,o=d):c=c.next=h,u|=p;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(h=i).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===c&&(o=d),r.baseState=o,r.firstBaseUpdate=s,r.lastBaseUpdate=c,null===a&&(r.shared.lanes=0),ti|=u,e.lanes=u,e.memoizedState=d}}function ml(e,n){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(n)}function gl(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)ml(t[e],n)}var vl=En(null),bl=En(0);function yl(e,n){zn(bl,e=ei),zn(vl,n),ei=e|n.baseLanes}function Sl(){zn(bl,ei),zn(vl,vl.current)}function kl(){ei=bl.current,Pn(vl),Pn(bl)}var wl=En(null),El=null;function Pl(e){var n=e.alternate;zn(xl,1&xl.current),zn(wl,e),null===El&&(null===n||null!==vl.current||null!==n.memoizedState)&&(El=e)}function zl(e){zn(xl,xl.current),zn(wl,e),null===El&&(El=e)}function Rl(e){22===e.tag?(zn(xl,xl.current),zn(wl,e),null===El&&(El=e)):Cl()}function Cl(){zn(xl,xl.current),zn(wl,wl.current)}function Tl(e){Pn(wl),El===e&&(El=null),Pn(xl)}var xl=En(0);function Nl(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||yo()||yo()))return n}else if(19!==n.tag||"forwards"!==n.memoizedProps.revealOrder&&"backwards"!==n.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==n.memoizedProps.revealOrder&&"together"!==n.memoizedProps.revealOrder){if(null!==n.child){n.child.return=n,n=n.child;continue}}else if(128&n.flags)return n;if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _l=0,Ll=null,Il=null,Fl=null,Ul=!1,Al=!1,Dl=!1,Ql=0,jl=null,Ml=0;function Hl(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Ol(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Cn(e[t],n[t]))return!1;return!0}function Bl(e,n,t,l,r,a){return _l=a,Ll=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,d.H=null===e||null===e.memoizedState?ea:na,Dl=!1,a=t(l,r),Dl=!1,Al&&(a=Vl(n,t,l,r)),Wl(e),a}function Wl(e){d.H=Zr;var n=null!==Il&&null!==Il.next;if(_l=0,Fl=Il=Ll=null,Ul=!1,Ql=0,jl=null,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");null===e||ba||null!==(e=e.dependencies)&&Gn(e)&&(ba=!0)}function Vl(e,n,t,l){Ll=e;var r=0;do{if(Al&&(jl=null),Ql=0,Al=!1,25<=r)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(r+=1,Fl=Il=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}d.H=ta,a=n(t,l)}while(Al);return a}function $l(){var e=d.H,n=e.useState()[0];return n="function"==typeof n.then?Jl(n):n,e=e.useState()[0],(null!==Il?Il.memoizedState:null)!==e&&(Ll.flags|=1024),n}function ql(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function Yl(e){if(Ul){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}Ul=!1}_l=0,Fl=Il=Ll=null,Al=!1,Ql=0,jl=null}function Xl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fl?Ll.memoizedState=Fl=e:Fl=Fl.next=e,Fl}function Gl(){if(null===Il){var e=Ll.alternate;e=null!==e?e.memoizedState:null}else e=Il.next;var n=null===Fl?Ll.memoizedState:Fl.next;if(null!==n)Fl=n,Il=e;else{if(null===e){if(null===Ll.alternate)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}e={memoizedState:(Il=e).memoizedState,baseState:Il.baseState,baseQueue:Il.baseQueue,queue:Il.queue,next:null},null===Fl?Ll.memoizedState=Fl=e:Fl=Fl.next=e}return Fl}function Jl(e){var n=Ql;return Ql+=1,null===jl&&(jl=[]),e=Dt(jl,e,n),n=Ll,null===(null===Fl?n.memoizedState:Fl.next)&&(n=n.alternate,d.H=null===n||null===n.memoizedState?ea:na),e}function Kl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Jl(e);if(e.$$typeof===z)return Kn(e)}throw Error("An unsupported type was passed to use(): "+String(e))}function Zl(e){var n=null,t=Ll.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var l=Ll.alternate;null!==l&&(null!==(l=l.updateQueue)&&(null!=(l=l.memoCache)&&(n={data:l.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ll.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),l=0;l<e;l++)t[l]=L;return n.index++,t}function er(e,n){return"function"==typeof n?n(e):n}function nr(e){return tr(Gl(),Il,e)}function tr(e,n,t){var l=e.queue;if(null===l)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");l.lastRenderedReducer=t;var r=e.baseQueue,a=l.pending;if(null!==a){if(null!==r){var u=r.next;r.next=a.next,a.next=u}n.baseQueue=r=a,l.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var i=u=null,o=null,s=n=r.next,c=!1;do{var d=-536870913&s.lane;if(d!==s.lane?(Yu&d)===d:(_l&d)===d){var f=s.revertLane;if(0===f)null!==o&&(o=o.next={lane:0,revertLane:0,gesture:null,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),d===wt&&(c=!0);else{if((_l&f)===f){s=s.next,f===wt&&(c=!0);continue}d={lane:0,revertLane:s.revertLane,gesture:null,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===o?(i=o=d,u=a):o=o.next=d,Ll.lanes|=f,ti|=f}d=s.action,Dl&&t(a,d),a=s.hasEagerState?s.eagerState:t(a,d)}else f={lane:d,revertLane:s.revertLane,gesture:s.gesture,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===o?(i=o=f,u=a):o=o.next=f,Ll.lanes|=d,ti|=d;s=s.next}while(null!==s&&s!==n);if(null===o?u=a:o.next=i,!Cn(a,e.memoizedState)&&(ba=!0,c&&null!==(t=Et)))throw t;e.memoizedState=a,e.baseState=u,e.baseQueue=o,l.lastRenderedState=a}return null===r&&(l.lanes=0),[e.memoizedState,l.dispatch]}function lr(e){var n=Gl(),t=n.queue;if(null===t)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");t.lastRenderedReducer=e;var l=t.dispatch,r=t.pending,a=n.memoizedState;if(null!==r){t.pending=null;var u=r=r.next;do{a=e(a,u.action),u=u.next}while(u!==r);Cn(a,n.memoizedState)||(ba=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,l]}function rr(e,n){var t=Ll,l=Gl(),r=n(),a=!Cn((Il||l).memoizedState,r);if(a&&(l.memoizedState=r,ba=!0),l=l.queue,xr(ir.bind(null,t,l,e),[e]),l.getSnapshot!==n||a||null!==Fl&&1&Fl.memoizedState.tag){if(t.flags|=2048,Pr(9,{destroy:void 0},ur.bind(null,t,l,r,n),null),null===$u)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");127&_l||ar(t,n,r)}return r}function ar(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=Ll.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},Ll.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function ur(e,n,t,l){n.value=t,n.getSnapshot=l,or(n)&&sr(e)}function ir(e,n,t){return t(function(){or(n)&&sr(e)})}function or(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Cn(e,t)}catch(e){return!0}}function sr(e){var n=tl(e,2);null!==n&&zi(n,e,2)}function cr(e){var n=Xl();if("function"==typeof e){var t=e;if(e=t(),Dl){Je(!0);try{t()}finally{Je(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},n}function dr(e,n,t,l){return e.baseState=t,tr(e,Il,"function"==typeof l?l:er)}function fr(e,n,t,l,r){if(Gr(e))throw Error("Cannot update form state while rendering.");if(null!==(e=n.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==d.T?t(!0):a.isTransition=!1,l(a),null===(t=n.pending)?(a.next=n.pending=a,pr(n,a)):(a.next=t.next,n.pending=t.next=a)}}function pr(e,n){var t=n.action,l=n.payload,r=e.state;if(n.isTransition){var a=d.T,u={};d.T=u;try{var i=t(r,l),o=d.S;null!==o&&o(u,i),hr(e,n,i)}catch(t){gr(e,n,t)}finally{null!==a&&null!==u.types&&(a.types=u.types),d.T=a}}else try{hr(e,n,a=t(r,l))}catch(t){gr(e,n,t)}}function hr(e,n,t){null!==t&&"object"==typeof t&&"function"==typeof t.then?t.then(function(t){mr(e,n,t)},function(t){return gr(e,n,t)}):mr(e,n,t)}function mr(e,n,t){n.status="fulfilled",n.value=t,vr(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,pr(e,t)))}function gr(e,n,t){var l=e.pending;if(e.pending=null,null!==l){l=l.next;do{n.status="rejected",n.reason=t,vr(n),n=n.next}while(n!==l)}e.action=null}function vr(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function br(e,n){return n}function yr(e,n){var t=Xl();t.memoizedState=t.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:n};t.queue=l,t=qr.bind(null,Ll,l),l.dispatch=t,l=cr(!1);var r=Xr.bind(null,Ll,!1,l.queue),a={state:n,dispatch:null,action:e,pending:null};return(l=Xl()).queue=a,t=fr.bind(null,Ll,a,r,t),a.dispatch=t,l.memoizedState=e,[n,t,!1]}function Sr(e){return kr(Gl(),Il,e)}function kr(e,n,t){if(n=tr(e,n,br)[0],e=nr(er)[0],"object"==typeof n&&null!==n&&"function"==typeof n.then)try{var l=Jl(n)}catch(e){if(e===Lt)throw Ft;throw e}else l=n;var r=(n=Gl()).queue,a=r.dispatch;return t!==n.memoizedState&&(Ll.flags|=2048,Pr(9,{destroy:void 0},wr.bind(null,r,t),null)),[l,a,e]}function wr(e,n){e.action=n}function Er(e){var n=Gl(),t=Il;if(null!==t)return kr(n,t,e);Gl(),n=n.memoizedState;var l=(t=Gl()).queue.dispatch;return t.memoizedState=e,[n,l,!1]}function Pr(e,n,t,l){return e={tag:e,create:t,deps:l,inst:n,next:null},null===(n=Ll.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ll.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(l=t.next,t.next=e,e.next=l,n.lastEffect=e),e}function zr(){return Gl().memoizedState}function Rr(e,n,t,l){var r=Xl();Ll.flags|=e,r.memoizedState=Pr(1|n,{destroy:void 0},t,void 0===l?null:l)}function Cr(e,n,t,l){var r=Gl();l=void 0===l?null:l;var a=r.memoizedState.inst;null!==Il&&null!==l&&Ol(l,Il.memoizedState.deps)?r.memoizedState=Pr(n,a,t,l):(Ll.flags|=e,r.memoizedState=Pr(1|n,a,t,l))}function Tr(e,n){Rr(8390656,8,e,n)}function xr(e,n){Cr(2048,8,e,n)}function Nr(e){Ll.flags|=4;var n=Ll.updateQueue;if(null===n)n={lastEffect:null,events:null,stores:null,memoCache:null},Ll.updateQueue=n,n.events=[e];else{var t=n.events;null===t?n.events=[e]:t.push(e)}}function _r(e){var n=Gl().memoizedState;return Nr({ref:n,nextImpl:e}),function(){if(2&Vu)throw Error("A function wrapped in useEffectEvent can't be called during rendering.");return n.impl.apply(void 0,arguments)}}function Lr(e,n){return Cr(4,2,e,n)}function Ir(e,n){return Cr(4,4,e,n)}function Fr(e,n){if("function"==typeof n){e=e();var t=n(e);return function(){"function"==typeof t?t():n(null)}}if(null!=n)return e=e(),n.current=e,function(){n.current=null}}function Ur(e,n,t){t=null!=t?t.concat([e]):null,Cr(4,4,Fr.bind(null,n,e),t)}function Ar(){}function Dr(e,n){var t=Gl();n=void 0===n?null:n;var l=t.memoizedState;return null!==n&&Ol(n,l[1])?l[0]:(t.memoizedState=[e,n],e)}function Qr(e,n){var t=Gl();n=void 0===n?null:n;var l=t.memoizedState;if(null!==n&&Ol(n,l[1]))return l[0];if(l=e(),Dl){Je(!0);try{e()}finally{Je(!1)}}return t.memoizedState=[l,n],l}function jr(e,n,t){return void 0===t||1073741824&_l&&!(261930&Yu)?e.memoizedState=n:(e.memoizedState=t,e=Pi(),Ll.lanes|=e,ti|=e,t)}function Mr(e,n,t,l){return Cn(t,n)?t:null!==vl.current?(e=jr(e,t,l),Cn(e,n)||(ba=!0),e):42&_l&&(!(1073741824&_l)||261930&Yu)?(e=Pi(),Ll.lanes|=e,ti|=e,n):(ba=!0,e.memoizedState=t)}function Hr(e,n,t,l,r){var a=Ho;Ho=0!==a&&8>a?a:8;var u,i,o,s=d.T,c={};d.T=c,Xr(e,!1,n,t);try{var f=r(),p=d.S;if(null!==p&&p(c,f),null!==f&&"object"==typeof f&&"function"==typeof f.then)Yr(e,n,(u=l,i=[],o={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},f.then(function(){o.status="fulfilled",o.value=u;for(var e=0;e<i.length;e++)(0,i[e])(u)},function(e){for(o.status="rejected",o.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),o),Ei(e));else Yr(e,n,l,Ei(e))}catch(t){Yr(e,n,{then:function(){},status:"rejected",reason:t},Ei(e))}finally{Ho=a,null!==s&&null!==c.types&&(s.types=c.types),d.T=s}}function Or(){return Kn($o)}function Br(){return Gl().memoizedState}function Wr(){return Gl().memoizedState}function Vr(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Ei(n),l=sl(n,e=ol(t),t);return null!==l&&(zi(l,n,t),cl(l,n,t)),n={cache:lt()},void(e.payload=n)}n=n.return}}function $r(e,n,t){var l=Ei(e);t={lane:l,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},Gr(e)?Jr(n,t):null!==(t=nl(e,n,t,l))&&(zi(t,e,l),Kr(t,n,l))}function qr(e,n,t){Yr(e,n,t,Ei(e))}function Yr(e,n,t,l){var r={lane:l,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(Gr(e))Jr(n,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var u=n.lastRenderedState,i=a(u,t);if(r.hasEagerState=!0,r.eagerState=i,Cn(i,u))return el(e,n,r,0),null===$u&&Zt(),!1}catch(e){}if(null!==(t=nl(e,n,r,l)))return zi(t,e,l),Kr(t,n,l),!0}return!1}function Xr(e,n,t,l){if(l={lane:2,revertLane:yt(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gr(e)){if(n)throw Error("Cannot update optimistic state while rendering.")}else null!==(n=nl(e,t,l,2))&&zi(n,e,2)}function Gr(e){var n=e.alternate;return e===Ll||null!==n&&n===Ll}function Jr(e,n){Al=Ul=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Kr(e,n,t){if(4194048&t){var l=n.lanes;t|=l&=e.pendingLanes,n.lanes=t,hn(e,t)}}var Zr={readContext:Kn,use:Kl,useCallback:Hl,useContext:Hl,useEffect:Hl,useImperativeHandle:Hl,useLayoutEffect:Hl,useInsertionEffect:Hl,useMemo:Hl,useReducer:Hl,useRef:Hl,useState:Hl,useDebugValue:Hl,useDeferredValue:Hl,useTransition:Hl,useSyncExternalStore:Hl,useId:Hl,useHostTransitionStatus:Hl,useFormState:Hl,useActionState:Hl,useOptimistic:Hl,useMemoCache:Hl,useCacheRefresh:Hl};Zr.useEffectEvent=Hl;var ea={readContext:Kn,use:Kl,useCallback:function(e,n){return Xl().memoizedState=[e,void 0===n?null:n],e},useContext:Kn,useEffect:Tr,useImperativeHandle:function(e,n,t){t=null!=t?t.concat([e]):null,Rr(4194308,4,Fr.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Rr(4194308,4,e,n)},useInsertionEffect:function(e,n){Rr(4,2,e,n)},useMemo:function(e,n){var t=Xl();n=void 0===n?null:n;var l=e();if(Dl){Je(!0);try{e()}finally{Je(!1)}}return t.memoizedState=[l,n],l},useReducer:function(e,n,t){var l=Xl();if(void 0!==t){var r=t(n);if(Dl){Je(!0);try{t(n)}finally{Je(!1)}}}else r=n;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=$r.bind(null,Ll,e),[l.memoizedState,e]},useRef:function(e){return e={current:e},Xl().memoizedState=e},useState:function(e){var n=(e=cr(e)).queue,t=qr.bind(null,Ll,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:Ar,useDeferredValue:function(e,n){return jr(Xl(),e,n)},useTransition:function(){var e=cr(!1);return e=Hr.bind(null,Ll,e.queue,!0,!1),Xl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n){var t=Ll,l=Xl(),r=n();if(null===$u)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");127&Yu||ar(t,n,r),l.memoizedState=r;var a={value:r,getSnapshot:n};return l.queue=a,Tr(ir.bind(null,t,a,e),[e]),t.flags|=2048,Pr(9,{destroy:void 0},ur.bind(null,t,a,r,n),null),r},useId:function(){var e=Xl(),n=$u.identifierPrefix;return n="_"+n+"r_"+(Ml++).toString(32)+"_",e.memoizedState=n},useHostTransitionStatus:Or,useFormState:yr,useActionState:yr,useOptimistic:function(e){var n=Xl();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=Xr.bind(null,Ll,!0,t),t.dispatch=n,[e,n]},useMemoCache:Zl,useCacheRefresh:function(){return Xl().memoizedState=Vr.bind(null,Ll)},useEffectEvent:function(e){var n=Xl(),t={impl:e};return n.memoizedState=t,function(){if(2&Vu)throw Error("A function wrapped in useEffectEvent can't be called during rendering.");return t.impl.apply(void 0,arguments)}}},na={readContext:Kn,use:Kl,useCallback:Dr,useContext:Kn,useEffect:xr,useImperativeHandle:Ur,useInsertionEffect:Lr,useLayoutEffect:Ir,useMemo:Qr,useReducer:nr,useRef:zr,useState:function(){return nr(er)},useDebugValue:Ar,useDeferredValue:function(e,n){return Mr(Gl(),Il.memoizedState,e,n)},useTransition:function(){var e=nr(er)[0],n=Gl().memoizedState;return["boolean"==typeof e?e:Jl(e),n]},useSyncExternalStore:rr,useId:Br,useHostTransitionStatus:Or,useFormState:Sr,useActionState:Sr,useOptimistic:function(e,n){return dr(Gl(),0,e,n)},useMemoCache:Zl,useCacheRefresh:Wr};na.useEffectEvent=_r;var ta={readContext:Kn,use:Kl,useCallback:Dr,useContext:Kn,useEffect:xr,useImperativeHandle:Ur,useInsertionEffect:Lr,useLayoutEffect:Ir,useMemo:Qr,useReducer:lr,useRef:zr,useState:function(){return lr(er)},useDebugValue:Ar,useDeferredValue:function(e,n){var t=Gl();return null===Il?jr(t,e,n):Mr(t,Il.memoizedState,e,n)},useTransition:function(){var e=lr(er)[0],n=Gl().memoizedState;return["boolean"==typeof e?e:Jl(e),n]},useSyncExternalStore:rr,useId:Br,useHostTransitionStatus:Or,useFormState:Er,useActionState:Er,useOptimistic:function(e,n){var t=Gl();return null!==Il?dr(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])},useMemoCache:Zl,useCacheRefresh:Wr};function la(e,n,t,l){t=null==(t=t(l,n=e.memoizedState))?n:f({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}ta.useEffectEvent=_r;var ra={enqueueSetState:function(e,n,t){var l=Ei(e=e._reactInternals),r=ol(l);r.payload=n,null!=t&&(r.callback=t),null!==(n=sl(e,r,l))&&(zi(n,e,l),cl(n,e,l))},enqueueReplaceState:function(e,n,t){var l=Ei(e=e._reactInternals),r=ol(l);r.tag=1,r.payload=n,null!=t&&(r.callback=t),null!==(n=sl(e,r,l))&&(zi(n,e,l),cl(n,e,l))},enqueueForceUpdate:function(e,n){var t=Ei(e=e._reactInternals),l=ol(t);l.tag=2,null!=n&&(l.callback=n),null!==(n=sl(e,l,t))&&(zi(n,e,t),cl(n,e,t))}};function aa(e,n,t,l,r,a,u){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(l,a,u):!n.prototype||!n.prototype.isPureReactComponent||(!_t(t,l)||!_t(r,a))}function ua(e,n,t){var l=Rn,r=n.contextType;return"object"==typeof r&&null!==r&&(l=Kn(r)),n=new n(t,l),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=ra,e.stateNode=n,n._reactInternals=e,n}function ia(e,n,t,l){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,l),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,l),n.state!==e&&ra.enqueueReplaceState(n,n.state,null)}function oa(e,n,t,l){var r=e.stateNode;r.props=t,r.state=e.memoizedState,r.refs={},ul(e);var a=n.contextType;r.context="object"==typeof a&&null!==a?Kn(a):Rn,r.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(la(e,n,a,t),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&ra.enqueueReplaceState(r,r.state,null),hl(e,t,r,l),pl(),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function sa(e,n){var t=n;if("ref"in n)for(var l in t={},n)"ref"!==l&&(t[l]=n[l]);if(e=e.defaultProps)for(var r in t===n&&(t=f({},t)),e)void 0===t[r]&&(t[r]=e[r]);return t}function ca(e){Tn(e)}function da(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(e){setTimeout(function(){throw e})}}function fa(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function pa(e,n,t){return(t=ol(t)).tag=3,t.payload={element:null},t.callback=function(){da(e,n)},t}function ha(e){return(e=ol(e)).tag=3,e}function ma(e,n,t,l){var r=t.type.getDerivedStateFromError;if("function"==typeof r){var a=l.value;e.payload=function(){return r(a)},e.callback=function(){fa(n,t,l)}}var u=t.stateNode;null!==u&&"function"==typeof u.componentDidCatch&&(e.callback=function(){fa(n,t,l),"function"!=typeof r&&(null===pi?pi=new Set([this]):pi.add(this));var e=l.stack;this.componentDidCatch(l.value,{componentStack:null!==e?e:""})})}function ga(e,n,t,l,r){if(t.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var a=t.alternate;if(null!==a&&Xn(a,t,r,!0),a=t.tag,1&t.mode||0!==a&&11!==a&&15!==a||((a=t.alternate)?(t.updateQueue=a.updateQueue,t.memoizedState=a.memoizedState,t.lanes=a.lanes):(t.updateQueue=null,t.memoizedState=null)),null!==(a=wl.current)){switch(a.tag){case 31:case 13:return 1&t.mode&&(null===El?Ui():null===a.alternate&&0===ni&&(ni=3)),a.flags&=-257,1&a.mode?(a.flags|=65536,a.lanes=r):a===n?a.flags|=65536:(a.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag?null===t.alternate?t.tag=17:((n=ol(2)).tag=2,sl(t,n,2)):0===t.tag&&null===t.alternate&&(t.tag=28),t.lanes|=2),l===Ut?a.flags|=16384:(null===(n=a.updateQueue)?a.updateQueue=new Set([l]):n.add(l),1&a.mode&&eo(e,l,r)),!1;case 22:if(1&a.mode)return a.flags|=65536,l===Ut?a.flags|=16384:(null===(n=a.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([l]):t.add(l),eo(e,l,r)),!1}throw Error("Unexpected Suspense handler tag ("+a.tag+"). This is a bug in React.")}if(1===e.tag)return eo(e,l,r),Ui(),!1;l=Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}if(a=_n(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:l}),t),null===ii?ii=[a]:ii.push(a),4!==ni&&(ni=2),null===n)return!0;l=_n(l,t);do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,dl(n,e=pa(n.stateNode,l,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==pi&&pi.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,ma(r=ha(r),e,n,l),dl(n,r),!1}n=n.return}while(null!==n);return!1}var va=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),ba=!1;function ya(e,n,t,l){n.child=null===e?Xt(n,null,t,l):Yt(n,e.child,t,l)}function Sa(e,n,t,l,r){t=t.render;var a=n.ref;if("ref"in l){var u={};for(var i in l)"ref"!==i&&(u[i]=l[i])}else u=l;return Jn(n),l=Bl(e,n,t,u,a,r),null===e||ba?(n.flags|=1,ya(e,n,l,r),n.child):(ql(e,n,r),Wa(e,n,r))}function ka(e,n,t,l,r){if(null===e){var a=t.type;return"function"!=typeof a||io(a)||void 0!==a.defaultProps||null!==t.compare?((e=co(t.type,null,l,n,n.mode,r)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,wa(e,n,a,l,r))}if(a=e.child,!Va(e,r)){var u=a.memoizedProps;if((t=null!==(t=t.compare)?t:_t)(u,l)&&e.ref===n.ref)return Wa(e,n,r)}return n.flags|=1,(e=oo(a,l)).ref=n.ref,e.return=n,n.child=e}function wa(e,n,t,l,r){if(null!==e){var a=e.memoizedProps;if(_t(a,l)&&e.ref===n.ref){if(ba=!1,n.pendingProps=l=a,!Va(e,r))return n.lanes=e.lanes,Wa(e,n,r);131072&e.flags&&(ba=!0)}}return xa(e,n,t,l,r)}function Ea(e,n,t,l){var r=l.children,a=null!==e?e.memoizedState:null;if(null===e&&null===n.stateNode&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===l.mode){if(128&n.flags){if(a=null!==a?a.baseLanes|t:t,null!==e){for(l=n.child=e.child,r=0;null!==l;)r=r|l.lanes|l.childLanes,l=l.sibling;l=r&~a}else l=0,n.child=null;return za(e,n,a,t,l)}if(1&n.mode){if(!(536870912&t))return l=n.lanes=536870912,za(e,n,null!==a?a.baseLanes|t:t,t,l);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&xt(0,null!==a?a.cachePool:null),null!==a?yl(n,a):Sl(),Rl(n)}else n.memoizedState={baseLanes:0,cachePool:null},null!==e&&xt(0,null),Sl(),Rl(n)}else null!==a?(xt(0,a.cachePool),yl(n,a),Cl(),n.memoizedState=null):(null!==e&&xt(0,null),Sl(),Cl());return ya(e,n,r,t),n.child}function Pa(e,n){return null!==e&&22===e.tag||null!==n.stateNode||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function za(e,n,t,l,r){var a=Tt();return a=null===a?null:{parent:tt._currentValue2,pool:a},n.memoizedState={baseLanes:t,cachePool:a},null!==e&&xt(0,null),Sl(),Rl(n),null!==e&&Xn(e,n,l,!0),n.childLanes=r,null}function Ra(e,n){return(n=Qa({mode:n.mode,children:n.children},e.mode)).ref=e.ref,e.child=n,n.return=e,n}function Ca(e,n,t){return Yt(n,e.child,null,t),(e=Ra(n,n.pendingProps)).flags|=2,Tl(n),n.memoizedState=null,e}function Ta(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=4194816);else{if("function"!=typeof t&&"object"!=typeof t)throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");null!==e&&e.ref===t||(n.flags|=4194816)}}function xa(e,n,t,l,r){return Jn(n),t=Bl(e,n,t,l,void 0,r),null===e||ba?(n.flags|=1,ya(e,n,t,r),n.child):(ql(e,n,r),Wa(e,n,r))}function Na(e,n,t,l,r,a){return Jn(n),n.updateQueue=null,t=Vl(n,l,t,r),Wl(e),null===e||ba?(n.flags|=1,ya(e,n,t,a),n.child):(ql(e,n,a),Wa(e,n,a))}function _a(e,n,t,l,r){if(Jn(n),null===n.stateNode)Ba(e,n),ua(n,t,l),oa(n,t,l,r),l=!0;else if(null===e){var a=n.stateNode,u=n.memoizedProps,i=sa(t,u);a.props=i;var o=a.context,s=t.contextType,c=Rn;"object"==typeof s&&null!==s&&(c=Kn(s));var d=t.getDerivedStateFromProps;s="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,u=n.pendingProps!==u,s||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u||o!==c)&&ia(n,a,l,c),al=!1;var f=n.memoizedState;a.state=f,hl(n,l,a,r),pl(),o=n.memoizedState,u||f!==o||al?("function"==typeof d&&(la(n,t,d,l),o=n.memoizedState),(i=al||aa(n,t,i,l,f,o,c))?(s||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4194308)):("function"==typeof a.componentDidMount&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=o),a.props=l,a.state=o,a.context=c,l=i):("function"==typeof a.componentDidMount&&(n.flags|=4194308),l=!1)}else{a=n.stateNode,il(e,n),s=sa(t,c=n.memoizedProps),a.props=s,d=n.pendingProps,f=a.context,o=t.contextType,i=Rn,"object"==typeof o&&null!==o&&(i=Kn(o)),(o="function"==typeof(u=t.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==d||f!==i)&&ia(n,a,l,i),al=!1,f=n.memoizedState,a.state=f,hl(n,l,a,r),pl();var p=n.memoizedState;c!==d||f!==p||al||null!==e&&null!==e.dependencies&&Gn(e.dependencies)?("function"==typeof u&&(la(n,t,u,l),p=n.memoizedState),(s=al||aa(n,t,s,l,f,p,i)||null!==e&&null!==e.dependencies&&Gn(e.dependencies))?(o||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(l,p,i),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(l,p,i)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=p),a.props=l,a.state=p,a.context=i,l=s):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),l=!1)}return La(e,n,t,l,!1,r)}function La(e,n,t,l,r,a){return Ta(e,n),r=!!(128&n.flags),l||r?(l=n.stateNode,t=r&&"function"!=typeof t.getDerivedStateFromError?null:l.render(),n.flags|=1,null!==e&&r?(n.child=Yt(n,e.child,null,a),n.child=Yt(n,null,t,a)):ya(e,n,t,a),n.memoizedState=l.state,n.child):Wa(e,n,a)}var Ia={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fa(e){return{baseLanes:e,cachePool:Nt()}}function Ua(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=ai),e}function Aa(e,n,t){var l,r=n.pendingProps,a=!1,u=!!(128&n.flags);if((l=u)||(l=(null===e||null!==e.memoizedState)&&!!(2&xl.current)),l&&(a=!0,n.flags&=-129),l=!!(32&n.flags),n.flags&=-33,null===e){var i=r.children;return r=r.fallback,a?(Cl(),a=n.mode,u=n.child,i={mode:"hidden",children:i},1&a||null===u?u=Qa(i,a):(u.childLanes=0,u.pendingProps=i),r=fo(r,a,t,null),u.return=n,r.return=n,u.sibling=r,n.child=u,(r=n.child).memoizedState=Fa(t),r.childLanes=Ua(e,l,t),n.memoizedState=Ia,Pa(null,r)):(Pl(n),Da(n,i))}if(null!==(i=e.memoizedState)&&null!==i.dehydrated){if(u)256&n.flags?(Pl(n),n.flags&=-257,n=ja(e,n,t)):null!==n.memoizedState?(Cl(),n.child=e.child,n.flags|=128,n=null):(Cl(),a=r.fallback,i=n.mode,r=Qa({mode:"visible",children:r.children},i),(a=fo(a,i,t,null)).flags|=2,r.return=n,a.return=n,r.sibling=a,n.child=r,!!(1&n.mode)&&Yt(n,e.child,null,t),(r=n.child).memoizedState=Fa(t),r.childLanes=Ua(e,l,t),n.memoizedState=Ia,n=Pa(null,r));else if(Pl(n),yo())l=yo().digest,(r=Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.")).stack="",r.digest=l,l={value:r,source:null,stack:null},null===Mn?Mn=[l]:Mn.push(l),n=ja(e,n,t);else if(ba||Xn(e,n,t,!1),l=0!==(t&e.childLanes),ba||l){if(null!==(l=$u)&&(0!==(r=mn(l,t))&&r!==i.retryLane))throw i.retryLane=r,tl(e,r),zi(l,e,r),va;yo()||Ui(),n=ja(e,n,t)}else yo()?(n.flags|=192,n.child=e.child,n=null):(n=Da(n,r.children)).flags|=4096;return n}if(a){Cl(),a=r.fallback,i=n.mode;var o=(u=e.child).sibling,s={mode:"hidden",children:r.children};return 1&i||n.child===u?(r=oo(u,s)).subtreeFlags=65011712&u.subtreeFlags:((r=n.child).childLanes=0,r.pendingProps=s,n.deletions=null),null!==o?a=oo(o,a):(a=fo(a,i,t,null)).flags|=2,a.return=n,r.return=n,r.sibling=a,n.child=r,Pa(null,r),r=n.child,null===(a=e.child.memoizedState)?a=Fa(t):(null!==(i=a.cachePool)?(u=tt._currentValue2,i=i.parent!==u?{parent:u,pool:u}:i):i=Nt(),a={baseLanes:a.baseLanes|t,cachePool:i}),r.memoizedState=a,r.childLanes=Ua(e,l,t),n.memoizedState=Ia,Pa(e.child,r)}return Pl(n),e=(l=e.child).sibling,l=oo(l,{mode:"visible",children:r.children}),!(1&n.mode)&&(l.lanes=t),l.return=n,l.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=l,n.memoizedState=null,l}function Da(e,n){return(n=Qa({mode:"visible",children:n},e.mode)).return=e,e.child=n}function Qa(e,n){return(e=uo(22,e,null,n)).lanes=0,e}function ja(e,n,t){return Yt(n,e.child,null,t),(e=Da(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Ma(e,n,t){e.lanes|=n;var l=e.alternate;null!==l&&(l.lanes|=n),qn(e.return,n,t)}function Ha(e,n,t,l,r,a){var u=e.memoizedState;null===u?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:t,tailMode:r,treeForkCount:a}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=t,u.tailMode=r,u.treeForkCount=a)}function Oa(e,n,t){var l=n.pendingProps,r=l.revealOrder,a=l.tail;l=l.children;var u=xl.current,i=!!(2&u);if(i?(u=1&u|2,n.flags|=128):u&=1,zn(xl,u),ya(e,n,l,t),!i&&null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ma(e,t,n);else if(19===e.tag)Ma(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}if(1&n.mode)switch(r){case"forwards":for(t=n.child,r=null;null!==t;)null!==(e=t.alternate)&&null===Nl(e)&&(r=t),t=t.sibling;null===(t=r)?(r=n.child,n.child=null):(r=t.sibling,t.sibling=null),Ha(n,!1,r,t,a,0);break;case"backwards":case"unstable_legacy-backwards":for(t=null,r=n.child,n.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Nl(e)){n.child=r;break}e=r.sibling,r.sibling=t,t=r,r=e}Ha(n,!0,t,null,a,0);break;case"together":Ha(n,!1,null,null,void 0,0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function Ba(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Wa(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),ti|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(Xn(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=oo(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=oo(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Va(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!Gn(e))}function $a(e,n,t){switch(n.tag){case 3:An(n,n.stateNode.containerInfo),Vn(0,tt,e.memoizedState.cache);break;case 27:case 5:Qn(n);break;case 4:An(n,n.stateNode.containerInfo);break;case 10:Vn(0,n.type,n.memoizedProps.value);break;case 31:if(null!==n.memoizedState)return n.flags|=128,zl(n),null;break;case 13:var l=n.memoizedState;if(null!==l)return null!==l.dehydrated?(Pl(n),n.flags|=128,null):0!==(t&n.child.childLanes)?Aa(e,n,t):(Pl(n),null!==(e=Wa(e,n,t))?e.sibling:null);Pl(n);break;case 19:var r=!!(128&e.flags);if((l=0!==(t&n.childLanes))||(Xn(e,n,t,!1),l=0!==(t&n.childLanes)),r){if(l)return Oa(e,n,t);n.flags|=128}if(null!==(r=n.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),zn(xl,xl.current),l)break;return null;case 22:return n.lanes=0,Ea(e,n,t,n.pendingProps);case 24:Vn(0,tt,e.memoizedState.cache)}return Wa(e,n,t)}function qa(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)ba=!0;else{if(!(Va(e,t)||128&n.flags))return ba=!1,$a(e,n,t);ba=!!(131072&e.flags)}else ba=!1;switch(n.lanes=0,n.tag){case 16:var l=n.elementType;e:{if(Ba(e,n),e=n.pendingProps,l=Qt(l),n.type=l,"function"!=typeof l){if(null!=l){var r=l.$$typeof;if(r===R){n.tag=11,n=Sa(null,n,l,e,t);break e}if(r===x){n.tag=14,n=ka(null,n,l,e,t);break e}}throw n=A(l)||l,Error("Element type is invalid. Received a promise that resolves to: "+n+". Lazy element type must resolve to a class or function.")}io(l)?(e=sa(l,e),n.tag=1,n=_a(null,n,l,e,t)):(n.tag=0,n=xa(null,n,l,e,t))}return n;case 0:return xa(e,n,n.type,n.pendingProps,t);case 1:return _a(e,n,l=n.type,r=sa(l,n.pendingProps),t);case 3:if(An(n,n.stateNode.containerInfo),null===e)throw Error("Should have a current fiber. This is a bug in React.");var a=n.pendingProps;l=(r=n.memoizedState).element,il(e,n),hl(n,a,null,t);var u=(a=n.memoizedState).cache;return Vn(0,tt,u),u!==r.cache&&Yn(n,[tt],t,!0),pl(),(r=a.element)===l?n=Wa(e,n,t):(ya(e,n,r,t),n=n.child),n;case 26:case 27:case 5:return Qn(n),l=n.pendingProps.children,null!==n.memoizedState&&(r=Bl(e,n,$l,null,null,t),$o._currentValue2=r),Ta(e,n),ya(e,n,l,t),n.child;case 6:return null;case 13:return Aa(e,n,t);case 4:return An(n,n.stateNode.containerInfo),l=n.pendingProps,null===e?n.child=Yt(n,null,l,t):ya(e,n,l,t),n.child;case 11:return Sa(e,n,n.type,n.pendingProps,t);case 7:return ya(e,n,n.pendingProps,t),n.child;case 8:case 12:return ya(e,n,n.pendingProps.children,t),n.child;case 10:return l=n.pendingProps,Vn(0,n.type,l.value),ya(e,n,l.children,t),n.child;case 9:return r=n.type._context,l=n.pendingProps.children,Jn(n),l=l(r=Kn(r)),n.flags|=1,ya(e,n,l,t),n.child;case 14:return ka(e,n,n.type,n.pendingProps,t);case 15:return wa(e,n,n.type,n.pendingProps,t);case 17:return r=sa(l=n.type,n.pendingProps),Ba(e,n),n.tag=1,Jn(n),ua(n,l,r),oa(n,l,r,t),La(null,n,l,!0,!1,t);case 28:return r=sa(l=n.type,n.pendingProps),Ba(e,n),n.tag=0,xa(null,n,l,r,t);case 19:return Oa(e,n,t);case 31:if(r=n.pendingProps,a=!!(128&n.flags),n.flags&=-129,null===e)n=Ra(n,r);else if(null!==(l=e.memoizedState))e:{if(zl(n),a){if(256&n.flags){n.flags&=-257,n=Ca(e,n,t);break e}if(null!==n.memoizedState){n.child=e.child,n.flags|=128,n=null;break e}throw Error("Client rendering an Activity suspended it again. This is a bug in React.")}if(ba||Xn(e,n,t,!1),a=0!==(t&e.childLanes),ba||a){if(null!==(r=$u)&&(0!==(a=mn(r,t))&&a!==l.retryLane))throw l.retryLane=a,tl(e,a),zi(r,e,a),va;Ui(),n=Ca(e,n,t)}else(n=Ra(n,r)).flags|=4096}else(t=oo(e.child,{mode:r.mode,children:r.children})).ref=n.ref,n.child=t,t.return=n,n=t;return n;case 22:return Ea(e,n,t,n.pendingProps);case 24:return Jn(n),l=Kn(tt),null===e?(null===(r=Tt())&&(r=$u,a=lt(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=t),r=a),n.memoizedState={parent:l,cache:r},ul(n),Vn(0,tt,r)):(0!==(e.lanes&t)&&(il(e,n),hl(n,null,null,t),pl()),r=e.memoizedState,a=n.memoizedState,r.parent!==l?(r={parent:l,cache:l},n.memoizedState=r,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=r),Vn(0,tt,l)):(l=a.cache,Vn(0,tt,l),l!==r.cache&&Yn(n,[tt],t,!0))),ya(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Ya(e,n){if(null!==e&&e.child===n.child)return!1;if(16&n.flags)return!0;for(e=n.child;null!==e;){if(8218&e.flags||8218&e.subtreeFlags)return!0;e=e.sibling}return!1}function Xa(e,n,t,l){for(var r=n.child;null!==r;){if(5===r.tag){var a=r.stateNode;t&&l&&(a=Vo(a)),Co(e.node,a.node)}else if(6===r.tag){if(a=r.stateNode,t&&l)throw Error("Not yet implemented.");Co(e.node,a.node)}else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),Xa(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Ga(e,n,t,l){for(var r=!1,a=n.child;null!==a;){if(5===a.tag){var u=a.stateNode;t&&l&&(u=Vo(u)),To(e,u.node)}else if(6===a.tag){if(u=a.stateNode,t&&l)throw Error("Not yet implemented.");To(e,u.node)}else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(r=a.child)&&(r.return=a),Ga(e,a,!0,!0),r=!0;else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return r;a=a.return}a.sibling.return=a.return,a=a.sibling}return r}function Ja(e,n){if(Ya(e,n)){e=n.stateNode;var t=Ro();Ga(t,n,!1,!1),e.pendingChildren=t,n.flags|=4}}function Ka(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?sn():536870912,e.lanes|=n,ui|=n)}function Za(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var l=null;null!==t;)null!==t.alternate&&(l=t),t=t.sibling;null===l?n||null===e.tail?e.tail=null:e.tail.sibling=null:l.sibling=null}}function eu(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,l=0;if(n)for(var r=e.child;null!==r;)t|=r.lanes|r.childLanes,l|=65011712&r.subtreeFlags,l|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)t|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=t,n}function nu(e,t,l){var r=t.pendingProps;switch(t.tag){case 28:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:case 17:return eu(t),null;case 3:return r=t.stateNode,l=null,null!==e&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),$n(tt),Dn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Hn()),Ja(e,t),eu(t),null;case 26:case 27:case 5:jn(t);var a=t.type;if(null!==e&&null!=t.stateNode)if(l=e.stateNode,a=e.memoizedProps,(e=Ya(e,t))||a!==r){e:{if(a=n(u[2]).diffAttributePayloads(a,r,l.canonical.viewConfig.validAttributes),l.canonical.currentProps=r,r=l.node,e)r=null!==a?Po(r,a):Eo(r);else{if(null===a){r=l;break e}r=zo(r,a)}r={node:r,canonical:l.canonical}}r===l?t.stateNode=l:(t.flags|=8,t.stateNode=r,e&&Xa(r,t,!1,!1))}else t.stateNode=l;else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return eu(t),null}e=Fn.current,l=Do,Do+=2,a=Ao(a);var i=n(u[2]).createAttributePayload(r,a.validAttributes);e={node:wo(l,a.uiViewClassName,e.containerTag,i,t),canonical:{nativeTag:l,viewConfig:a,currentProps:r,internalInstanceHandle:t,publicInstance:null,publicRootInstance:e.publicInstance}},t.flags|=8,Xa(e,t,!1,!1),t.stateNode=e}return eu(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r?(e=Fn.current,l=Ln.current,t.flags|=8,t.stateNode=jo(r,e,l,t)):t.stateNode=e.stateNode;else{if("string"!=typeof r&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");e=Fn.current,l=Ln.current,t.flags|=8,t.stateNode=jo(r,e,l,t)}return eu(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(null!==r){if(null===e)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");!(128&t.flags)&&(t.memoizedState=null),t.flags|=4,eu(t),e=!1}else r=Hn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(Tl(t),t):(Tl(t),null);if(128&t.flags)throw Error("Client rendering an Activity suspended it again. This is a bug in React.")}return eu(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(null!==r&&null!==r.dehydrated){if(null===e)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");!(128&t.flags)&&(t.memoizedState=null),t.flags|=4,eu(t),a=!1}else a=Hn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Tl(t),t):(Tl(t),null)}return Tl(t),128&t.flags?(t.lanes=l,t):(r=null!==r,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(l=t.child).alternate&&null!==l.alternate.memoizedState&&null!==l.alternate.memoizedState.cachePool&&(a=l.alternate.memoizedState.cachePool.pool),i=null,null!==l.memoizedState&&null!==l.memoizedState.cachePool&&(i=l.memoizedState.cachePool.pool),i!==a&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Ka(t,t.updateQueue),eu(t),null);case 4:return Dn(),Ja(e,t),eu(t),null;case 10:return $n(t.type),eu(t),null;case 19:if(Pn(xl),null===(a=t.memoizedState))return eu(t),null;if(r=!!(128&t.flags),null===(i=a.rendering))if(r)Za(a,!1);else{if(0!==ni||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=Nl(e))){for(t.flags|=128,Za(a,!1),e=i.updateQueue,t.updateQueue=e,Ka(t,e),t.subtreeFlags=0,e=l,r=t.child;null!==r;)so(r,e),r=r.sibling;return zn(xl,1&xl.current|2),t.child}e=e.sibling}null!==a.tail&&n(u[3]).unstable_now()>di&&(t.flags|=128,r=!0,Za(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Nl(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Ka(t,e),Za(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate)return eu(t),null}else 2*n(u[3]).unstable_now()-a.renderingStartTime>di&&536870912!==l&&(t.flags|=128,r=!0,Za(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=n(u[3]).unstable_now(),t.sibling=null,e=xl.current,zn(xl,r?1&e|2:1&e),t):(eu(t),null);case 22:case 23:return Tl(t),kl(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r&&1&t.mode?!!(536870912&l)&&!(128&t.flags)&&(eu(t),6&t.subtreeFlags&&(t.flags|=8192)):eu(t),null!==(r=t.updateQueue)&&Ka(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),l=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),null!==e&&Pn(Ct),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),$n(tt),eu(t),null;case 25:case 30:case 29:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function tu(e,n){switch(n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return $n(tt),Dn(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return jn(n),null;case 31:if(null!==n.memoizedState&&(Tl(n),null===n.alternate))throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 13:if(Tl(n),null!==(e=n.memoizedState)&&null!==e.dehydrated&&null===n.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Pn(xl),null;case 4:return Dn(),null;case 10:return $n(n.type),null;case 22:case 23:return Tl(n),kl(),null!==e&&Pn(Ct),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return $n(tt),null;default:return null}}function lu(e,n){switch(n.tag){case 3:$n(tt),Dn();break;case 26:case 27:case 5:jn(n);break;case 4:Dn();break;case 31:null!==n.memoizedState&&Tl(n);break;case 13:Tl(n);break;case 19:Pn(xl);break;case 10:$n(n.type);break;case 22:case 23:Tl(n),kl(),null!==e&&Pn(Ct);break;case 24:$n(tt)}}function ru(e,n){try{var t=n.updateQueue,l=null!==t?t.lastEffect:null;if(null!==l){var r=l.next;t=r;do{if((t.tag&e)===e){l=void 0;var a=t.create,u=t.inst;l=a(),u.destroy=l}t=t.next}while(t!==r)}}catch(e){Zi(n,n.return,e)}}function au(e,n,t){try{var l=n.updateQueue,r=null!==l?l.lastEffect:null;if(null!==r){var a=r.next;l=a;do{if((l.tag&e)===e){var u=l.inst,i=u.destroy;if(void 0!==i){u.destroy=void 0,r=n;var o=t,s=i;try{s()}catch(e){Zi(r,o,e)}}}l=l.next}while(l!==a)}}catch(e){Zi(n,n.return,e)}}function uu(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{gl(n,t)}catch(n){Zi(e,e.return,n)}}}function iu(e,n,t){t.props=sa(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(t){Zi(e,n,t)}}function ou(e,n){try{var t=e.ref;if(null!==t){switch(e.tag){case 26:case 27:case 5:var l=Mo(e.stateNode);break;default:l=e.stateNode}"function"==typeof t?e.refCleanup=t(l):t.current=l}}catch(t){Zi(e,n,t)}}function su(e,n){var t=e.ref,l=e.refCleanup;if(null!==t)if("function"==typeof l)try{l()}catch(t){Zi(e,n,t)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof t)try{t(null)}catch(t){Zi(e,n,t)}else t.current=null}function cu(e){try{throw Error("The current renderer does not support mutation. This error is likely caused by a bug in React. Please file an issue.")}catch(n){Zi(e,e.return,n)}}function du(e,n,t){e=e.containerInfo;try{xo(e.containerTag,t)}catch(e){Zi(n,n.return,e)}}var fu=!1,pu=!1,hu="function"==typeof WeakSet?WeakSet:Set,mu=null;function gu(e,n){for(mu=n;null!==mu;)if(n=(e=mu).child,1028&e.subtreeFlags&&null!==n)n.return=e,mu=n;else for(;null!==mu;){var t=(e=mu).alternate;switch(n=e.flags,e.tag){case 0:if(4&n&&null!==(n=null!==(n=e.updateQueue)?n.events:null))for(var l=0;l<n.length;l++){var r=n[l];r.ref.impl=r.nextImpl}break;case 11:case 15:case 3:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&n&&null!==t){n=void 0,l=e,r=t.memoizedProps,t=t.memoizedState;var a=l.stateNode;try{var u=sa(l.type,r);n=a.getSnapshotBeforeUpdate(u,t),a.__reactInternalSnapshotBeforeUpdate=n}catch(e){Zi(l,l.return,e)}}break;default:if(1024&n)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(null!==(n=e.sibling)){n.return=e.return,mu=n;break}mu=e.return}}function vu(e,n,t){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ru(e,t),4&l&&ru(5,t);break;case 1:if(Ru(e,t),4&l)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(e){Zi(t,t.return,e)}else{var r=sa(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(r,n,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Zi(t,t.return,e)}}64&l&&uu(t),512&l&&ou(t,t.return);break;case 3:if(Ru(e,t),64&l&&null!==(l=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 27:case 5:e=Mo(t.child.stateNode);break;case 1:e=t.child.stateNode}try{gl(l,e)}catch(e){Zi(t,t.return,e)}}break;case 27:case 26:case 5:if(Ru(e,t),null===n)if(4&l)cu(t);else if(64&l){e=t.type,n=t.memoizedProps,r=t.stateNode;try{yo()}catch(e){Zi(t,t.return,e)}}512&l&&ou(t,t.return);break;case 12:case 31:default:Ru(e,t);break;case 13:Ru(e,t),64&l&&(null!==(l=t.memoizedState)&&null!==l.dehydrated&&(lo.bind(null,t),yo()));break;case 22:if(1&t.mode){if(!(l=null!==t.memoizedState||fu)){n=null!==n&&null!==n.memoizedState||pu,r=fu;var a=pu;fu=l,(pu=n)&&!a?Tu(e,t,!!(8772&t.subtreeFlags)):Ru(e,t),fu=r,pu=a}}else Ru(e,t);case 30:}}function bu(e){var n=e.alternate;null!==n&&(e.alternate=null,bu(n)),e.child=null,e.deletions=null,e.sibling=null,e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yu(e,n,t){for(t=t.child;null!==t;)Su(e,n,t),t=t.sibling}function Su(e,n,t){if(Ge&&"function"==typeof Ge.onCommitFiberUnmount)try{Ge.onCommitFiberUnmount(Xe,t)}catch(e){}switch(t.tag){case 26:case 27:case 5:pu||su(t,n);case 6:yu(e,n,t);break;case 18:break;case 4:du(t.stateNode,t,Ro()),yu(e,n,t);break;case 0:case 11:case 14:case 15:pu||au(2,t,n),pu||au(4,t,n),yu(e,n,t);break;case 1:if(!pu){su(t,n);var l=t.stateNode;"function"==typeof l.componentWillUnmount&&iu(t,n,l)}yu(e,n,t);break;case 21:yu(e,n,t);break;case 22:1&t.mode?(pu=(l=pu)||null!==t.memoizedState,yu(e,n,t),pu=l):yu(e,n,t);break;default:yu(e,n,t)}}function ku(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new hu),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new hu),n;default:throw Error("Unexpected Suspense handler tag ("+e.tag+"). This is a bug in React.")}}function wu(e,n){var t=ku(e);n.forEach(function(n){if(!t.has(n)){t.add(n);var l=ro.bind(null,e,n);n.then(l,l)}})}function Eu(e,n){var t=n.deletions;if(null!==t)for(var l=0;l<t.length;l++){var r=t[l];Su(e,n,r);var a=r.alternate;null!==a&&(a.return=null),r.return=null}if(13886&n.subtreeFlags)for(n=n.child;null!==n;)Pu(n,e),n=n.sibling}function Pu(e,t){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Eu(t,e),zu(e),4&r&&(au(3,e,e.return),ru(3,e),au(5,e,e.return));break;case 1:Eu(t,e),zu(e),512&r&&(pu||null===l||su(l,l.return)),64&r&&fu&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(t=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===t?r:t.concat(r))));break;case 26:case 27:case 5:Eu(t,e),zu(e),512&r&&(pu||null===l||su(l,l.return)),null!==e.alternate&&(e.alternate.stateNode=e.stateNode);break;case 6:case 12:default:Eu(t,e),zu(e);break;case 3:if(Eu(t,e),zu(e),4&r){r=t.containerInfo,t=t.pendingChildren;try{xo(r.containerTag,t)}catch(n){Zi(e,e.return,n)}}break;case 4:Eu(t,e),zu(e),4&r&&du(e.stateNode,e,e.stateNode.pendingChildren);break;case 31:case 19:Eu(t,e),zu(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,wu(e,r)));break;case 13:Eu(t,e),zu(e),8192&e.child.flags&&(t=null!==l&&null!==l.memoizedState,null===e.memoizedState||t||(ci=n(u[3]).unstable_now())),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,wu(e,r)));break;case 22:var a=null!==e.memoizedState,i=null!==l&&null!==l.memoizedState;if(1&e.mode){var o=fu,s=pu;fu=o||a,pu=s||i,Eu(t,e),pu=s,fu=o}else Eu(t,e);zu(e),8192&r&&((t=e.stateNode)._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===l||i||fu||pu||1&e.mode&&Cu(e))),4&r&&(null!==(r=e.updateQueue)&&(null!==(t=r.retryQueue)&&(r.retryQueue=null,wu(e,t))));case 30:case 21:}}function zu(e){var n=e.flags;2&n&&(e.flags&=-3),4096&n&&(e.flags&=-4097)}function Ru(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)vu(e,n.alternate,n),n=n.sibling}function Cu(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:au(4,n,n.return),Cu(n);break;case 1:su(n,n.return);var t=n.stateNode;"function"==typeof t.componentWillUnmount&&iu(n,n.return,t),Cu(n);break;case 27:case 26:case 5:su(n,n.return),Cu(n);break;case 22:null===n.memoizedState&&Cu(n);break;default:Cu(n)}e=e.sibling}}function Tu(e,n,t){for(t=t&&!!(8772&n.subtreeFlags),n=n.child;null!==n;){var l=n.alternate,r=e,a=n,u=a.flags;switch(a.tag){case 0:case 11:case 15:Tu(r,a,t),ru(4,a);break;case 1:if(Tu(r,a,t),"function"==typeof(r=(l=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(e){Zi(l,l.return,e)}if(null!==(r=(l=a).updateQueue)){var i=l.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)ml(o[r],i)}catch(e){Zi(l,l.return,e)}}t&&64&u&&uu(a),ou(a,a.return);break;case 27:case 26:case 5:Tu(r,a,t),t&&null===l&&4&u&&cu(a),ou(a,a.return);break;case 12:case 31:case 13:default:Tu(r,a,t);break;case 22:null===a.memoizedState&&Tu(r,a,t),ou(a,a.return);case 30:}n=n.sibling}}function xu(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&rt(t))}function Nu(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&rt(e))}function _u(e,n,t,l){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)Lu(e,n,t,l),n=n.sibling}function Lu(e,n,t,l){var r=n.flags;switch(n.tag){case 0:case 11:case 15:_u(e,n,t,l),2048&r&&ru(9,n);break;case 1:case 31:case 13:default:_u(e,n,t,l);break;case 3:_u(e,n,t,l),2048&r&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&rt(e)));break;case 12:if(2048&r){_u(e,n,t,l),e=n.stateNode;try{var a=n.memoizedProps,u=a.id,i=a.onPostCommit;"function"==typeof i&&i(u,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){Zi(n,n.return,e)}}else _u(e,n,t,l);break;case 23:break;case 22:a=n.stateNode,u=n.alternate,null!==n.memoizedState?2&a._visibility?_u(e,n,t,l):1&n.mode?Fu(e,n):(a._visibility|=2,_u(e,n,t,l)):2&a._visibility?_u(e,n,t,l):(a._visibility|=2,Iu(e,n,t,l,!!(10256&n.subtreeFlags)||!1)),2048&r&&xu(u,n);break;case 24:_u(e,n,t,l),2048&r&&Nu(n.alternate,n)}}function Iu(e,n,t,l,r){for(r=r&&(!!(10256&n.subtreeFlags)||!1),n=n.child;null!==n;){var a=e,u=n,i=t,o=l,s=u.flags;switch(u.tag){case 0:case 11:case 15:Iu(a,u,i,o,r),ru(8,u);break;case 23:break;case 22:var c=u.stateNode;null!==u.memoizedState?2&c._visibility?Iu(a,u,i,o,r):1&u.mode?Fu(a,u):(c._visibility|=2,Iu(a,u,i,o,r)):(c._visibility|=2,Iu(a,u,i,o,r)),r&&2048&s&&xu(u.alternate,u);break;case 24:Iu(a,u,i,o,r),r&&2048&s&&Nu(u.alternate,u);break;default:Iu(a,u,i,o,r)}n=n.sibling}}function Fu(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,l=n,r=l.flags;switch(l.tag){case 22:Fu(t,l),2048&r&&xu(l.alternate,l);break;case 24:Fu(t,l),2048&r&&Nu(l.alternate,l);break;default:Fu(t,l)}n=n.sibling}}var Uu=8192;function Au(e){if(e.subtreeFlags&Uu)for(e=e.child;null!==e;)Du(e),e=e.sibling}function Du(e){switch(e.tag){case 26:Au(e),e.flags&Uu&&null!==e.memoizedState&&So();break;case 5:case 3:case 4:default:Au(e);break;case 22:if(null===e.memoizedState){var n=e.alternate;null!==n&&null!==n.memoizedState?(n=Uu,Uu=16777216,Au(e),Uu=n):Au(e)}}}function Qu(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function ju(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var l=n[t];mu=l,Ou(l,e)}Qu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Mu(e),e=e.sibling}function Mu(e){switch(e.tag){case 0:case 11:case 15:ju(e),2048&e.flags&&au(9,e,e.return);break;case 3:case 12:default:ju(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&2&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-3,Hu(e)):ju(e)}}function Hu(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var l=n[t];mu=l,Ou(l,e)}Qu(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:au(8,n,n.return),Hu(n);break;case 22:2&(t=n.stateNode)._visibility&&(t._visibility&=-3,Hu(n));break;default:Hu(n)}e=e.sibling}}function Ou(e,n){for(;null!==mu;){var t=mu;switch(t.tag){case 0:case 11:case 15:au(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var l=t.memoizedState.cachePool.pool;null!=l&&l.refCount++}break;case 24:rt(t.memoizedState.cache)}if(null!==(l=t.child))l.return=t,mu=l;else e:for(t=e;null!==mu;){var r=(l=mu).sibling,a=l.return;if(bu(l),l===t){mu=null;break e}if(null!==r){r.return=a,mu=r;break e}mu=a}}}var Bu={getCacheForType:function(e){var n=Kn(tt),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t},cacheSignal:function(){return Kn(tt).controller.signal}},Wu="function"==typeof WeakMap?WeakMap:Map,Vu=0,$u=null,qu=null,Yu=0,Xu=0,Gu=null,Ju=!1,Ku=!1,Zu=!1,ei=0,ni=0,ti=0,li=0,ri=0,ai=0,ui=0,ii=null,oi=null,si=!1,ci=0,di=1/0,fi=null,pi=null,hi=0,mi=null,gi=null,vi=0,bi=0,yi=null,Si=null,ki=0,wi=null;function Ei(e){return 1&e.mode?2&Vu&&0!==Yu?Yu&-Yu:null!==d.T?yt():Oo():2}function Pi(){if(0===ai)if(536870912&Yu)ai=536870912;else{var e=tn;!(3932160&(tn<<=1))&&(tn=262144),ai=e}return null!==(e=wl.current)&&(e.flags|=32),ai}function zi(e,t,l){(e!==$u||2!==Xu&&9!==Xu)&&null===e.cancelPendingCommit||(_i(e,0),xi(e,Yu,ai,!1)),dn(e,l),2&Vu&&e===$u||(e===$u&&(!(2&Vu)&&(li|=l),4===ni&&xi(e,Yu,ai,!1)),ft(e),2===l&&0===Vu&&!(1&t.mode)&&(di=n(u[3]).unstable_now()+500,pt(0,!0)))}function Ri(e,t,l){if(6&Vu)throw Error("Should not already be working.");for(var r=!l&&!(127&t)&&0===(t&e.expiredLanes)||un(e,t),a=r?Qi(e,t):Ai(e,t,!0),i=r;;){if(0===a){Ku&&!r&&xi(e,t,0,!1);break}if(l=e.current.alternate,!i||Ti(l)){if(0!==e.tag&&2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var s=e;if(a=ii,2!==(o=Ai(s,o,!1))){if(Zu){s.errorRecoveryDisabledLanes|=i,li|=i,a=4;break e}i=oi,oi=a,null!==i&&(null===oi?oi=i:oi.push.apply(oi,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){_i(e,0),xi(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 4:if((4194048&t)!==t)break;case 6:xi(r,t,ai,!Ju);break e;case 2:oi=null;break;case 3:case 5:break;default:throw Error("Unknown root exit status.")}if((62914560&t)===t&&3===i&&10<(a=ci+300-n(u[3]).unstable_now())){if(xi(r,t,ai,!Ju),0!==an(r,0,!0))break e;vi=t,r.timeoutHandle=Bo(Ci.bind(null,r,l,oi,fi,si,t,ai,li,ui,Ju,i,"Throttled",-0,0),a)}else Ci(r,l,oi,fi,si,t,ai,li,ui)}break}a=Ai(e,t,!1),i=!1}ft(e)}function Ci(e,t,l,r,a,i,o,s,c){e.timeoutHandle=-1;var d=t.subtreeFlags;!(8192&d)&&16785408&~d||(Du(t),((62914560&i)===i||(4194048&i)===i)&&n(u[3]).unstable_now()),Vi(e,t,i,l,r,a,o,s,c)}function Ti(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var l=0;l<t.length;l++){var r=t[l],a=r.getSnapshot;r=r.value;try{if(!Cn(a(),r))return!1}catch(e){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xi(e,n,t,l){n&=~ri,n&=~li,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var r=n;0<r;){var a=31-Ke(r),u=1<<a;l[a]=-1,r&=~u}0!==t&&pn(e,t,n)}function Ni(){if(null!==qu){if(0===Xu)var e=qu.return;else Wn=Bn=null,Yl(e=qu),Ot=null,Bt=0,e=qu;for(;null!==e;)lu(e.alternate,e),e=e.return;qu=null}}function _i(e,n){var t=e.timeoutHandle;-1!==t&&(e.timeoutHandle=-1,Wo(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),vi=0,Ni(),$u=e,qu=t=oo(e.current,null),Yu=n,Xu=0,Gu=null,Ju=!1,Ku=un(e,n),Zu=!1,ui=ai=ri=li=ti=ni=0,oi=ii=null,si=!1,8&n&&(n|=32&n);var l=e.entangledLanes;if(0!==l)for(e=e.entanglements,l&=n;0<l;){var r=31-Ke(l),a=1<<r;n|=e[r],l&=~a}return ei=n,Zt(),t}function Li(e,n){Ll=null,d.H=Zr,n===Lt||n===Ft?(n=Mt(),Xu=3):n===It?(n=Mt(),Xu=4):Xu=n===va?8:null!==n&&"object"==typeof n&&"function"==typeof n.then?6:1,Gu=n,null===qu&&(ni=1,da(e,_n(n,e.current)))}function Ii(){var e=d.H;return d.H=Zr,null===e?Zr:e}function Fi(){var e=d.A;return d.A=Bu,e}function Ui(){ni=4,Ju||(4194048&Yu)!==Yu&&null!==wl.current||(Ku=!0),!(134217727&ti)&&!(134217727&li)||null===$u||xi($u,Yu,ai,!1)}function Ai(e,n,t){var l=Vu;Vu|=2;var r=Ii(),a=Fi();$u===e&&Yu===n||(fi=null,_i(e,n)),n=!1;var u=ni;e:for(;;)try{if(0!==Xu&&null!==qu){var i=qu,o=Gu;switch(Xu){case 8:Ni(),u=6;break e;case 3:case 2:case 9:case 6:null===wl.current&&(n=!0);var s=Xu;if(Xu=0,Gu=null,Oi(e,i,o,s),t&&Ku){u=0;break e}break;default:s=Xu,Xu=0,Gu=null,Oi(e,i,o,s)}}Di(),u=ni;break}catch(n){Li(e,n)}return n&&e.shellSuspendCounter++,Wn=Bn=null,Vu=l,d.H=r,d.A=a,null===qu&&($u=null,Yu=0,Zt()),u}function Di(){for(;null!==qu;)Mi(qu)}function Qi(e,t){var l=Vu;Vu|=2;var r=Ii(),a=Fi();$u!==e||Yu!==t?(fi=null,di=n(u[3]).unstable_now()+500,_i(e,t)):Ku=un(e,t);e:for(;;)try{if(0!==Xu&&null!==qu){t=qu;var i=Gu;n:switch(Xu){case 1:Xu=0,Gu=null,Oi(e,t,i,1);break;case 2:case 9:if(At(i)){Xu=0,Gu=null,Hi(t);break}t=function(){2!==Xu&&9!==Xu||$u!==e||(Xu=7),ft(e)},i.then(t,t);break e;case 3:Xu=7;break e;case 4:Xu=5;break e;case 7:At(i)?(Xu=0,Gu=null,Hi(t)):(Xu=0,Gu=null,Oi(e,t,i,7));break;case 5:var o=null;switch(qu.tag){case 26:o=qu.memoizedState;case 5:case 27:var s=qu;if(!o||So()){Xu=0,Gu=null;var c=s.sibling;if(null!==c)qu=c;else{var f=s.return;null!==f?(qu=f,Bi(f)):qu=null}break n}}Xu=0,Gu=null,Oi(e,t,i,5);break;case 6:Xu=0,Gu=null,Oi(e,t,i,6);break;case 8:Ni(),ni=6;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}}ji();break}catch(n){Li(e,n)}return Wn=Bn=null,d.H=r,d.A=a,Vu=l,null!==qu?0:($u=null,Yu=0,Zt(),ni)}function ji(){for(;null!==qu&&!n(u[3]).unstable_shouldYield();)Mi(qu)}function Mi(e){var n=qa(e.alternate,e,ei);e.memoizedProps=e.pendingProps,null===n?Bi(e):qu=n}function Hi(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=Na(t,n,n.pendingProps,n.type,void 0,Yu);break;case 11:n=Na(t,n,n.pendingProps,n.type.render,n.ref,Yu);break;case 5:Yl(n);default:lu(t,n),n=qa(t,n=qu=so(n,ei),ei)}e.memoizedProps=e.pendingProps,null===n?Bi(e):qu=n}function Oi(e,n,t,l){Wn=Bn=null,Yl(n),Ot=null,Bt=0;var r=n.return;try{if(ga(e,r,n,t,Yu))return ni=1,da(e,_n(t,e.current)),void(qu=null)}catch(n){if(null!==r)throw qu=r,n;return ni=1,da(e,_n(t,e.current)),void(qu=null)}32768&n.flags?(1===l?e=!0:Ku||536870912&Yu?e=!1:(Ju=e=!0,(2===l||9===l||3===l||6===l)&&(null!==(l=wl.current)&&13===l.tag&&(l.flags|=16384))),Wi(n,e)):Bi(n)}function Bi(e){var n=e;do{if(32768&n.flags)return void Wi(n,Ju);e=n.return;var t=nu(n.alternate,n,ei);if(null!==t)return void(qu=t);if(null!==(n=n.sibling))return void(qu=n);qu=n=e}while(null!==n);0===ni&&(ni=5)}function Wi(e,n){do{var t=tu(e.alternate,e);if(null!==t)return t.flags&=32767,void(qu=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(qu=e);qu=e=t}while(null!==e);ni=6,qu=null}function Vi(e,t,l,r,a,i,o,s,c){e.cancelPendingCommit=null;do{Gi()}while(0!==hi);if(6&Vu)throw Error("Should not already be working.");if(null!==t){if(t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(i=t.lanes|t.childLanes,fn(e,l,i|=Kt,o,s,c),e===$u&&(qu=$u=null,Yu=0),gi=t,mi=e,vi=l,bi=i,yi=a,Si=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,f=n(u[3]).unstable_NormalPriority,p=function(){return Ji(),null},n(u[3]).unstable_scheduleCallback(f,p)):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=d.T,d.T=null,a=Ho,Ho=2,o=Vu,Vu|=4;try{gu(e,t)}finally{Vu=o,Ho=a,d.T=r}}hi=1,$i(),qi(),Yi()}var f,p}function $i(){if(1===hi){hi=0;var e=mi,n=gi,t=!!(13878&n.flags);if(13878&n.subtreeFlags||t){t=d.T,d.T=null;var l=Ho;Ho=2;var r=Vu;Vu|=4;try{Pu(n,e)}finally{Vu=r,Ho=l,d.T=t}}e.current=n,hi=2}}function qi(){if(2===hi){hi=0;var e=mi,n=gi,t=!!(8772&n.flags);if(8772&n.subtreeFlags||t){t=d.T,d.T=null;var l=Ho;Ho=2;var r=Vu;Vu|=4;try{vu(e,n.alternate,n)}finally{Vu=r,Ho=l,d.T=t}}hi=3}}function Yi(){if(4===hi||3===hi){hi=0,n(u[3]).unstable_requestPaint();var e=mi,t=gi,l=vi,r=Si;10256&t.subtreeFlags||10256&t.flags?hi=5:(hi=0,gi=mi=null,Xi(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(pi=null),gn(l),t=t.stateNode,Ge&&"function"==typeof Ge.onCommitFiberRoot)try{Ge.onCommitFiberRoot(Xe,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=d.T,a=Ho,Ho=2,d.T=null;try{for(var i=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];i(s.value,{componentStack:s.stack})}}finally{d.T=t,Ho=a}}3&vi&&0!==e.tag&&Gi(),ft(e),a=e.pendingLanes,261930&l&&42&a?e===wi?ki++:(ki=0,wi=e):ki=0,pt(0,!1)}}function Xi(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,rt(n)))}function Gi(){return $i(),qi(),Yi(),Ji()}function Ji(){if(5!==hi)return!1;var e=mi,n=bi;bi=0;var t=gn(vi),l=d.T,r=Ho;try{Ho=32>t?32:t,d.T=null,t=yi,yi=null;var a=mi,u=vi;if(hi=0,gi=mi=null,vi=0,6&Vu)throw Error("Cannot flush passive effects while already rendering.");var i=Vu;if(Vu|=4,Mu(a.current),Lu(a,a.current,u,t),Vu=i,pt(0,!1),Ge&&"function"==typeof Ge.onPostCommitFiberRoot)try{Ge.onPostCommitFiberRoot(Xe,a)}catch(e){}return!0}finally{Ho=r,d.T=l,Xi(e,n)}}function Ki(e,n,t){n=_n(t,n),null!==(e=sl(e,n=pa(e.stateNode,n,2),2))&&(dn(e,2),ft(e))}function Zi(e,n,t){if(3===e.tag)Ki(e,e,t);else for(;null!==n;){if(3===n.tag){Ki(n,e,t);break}if(1===n.tag){var l=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof l.componentDidCatch&&(null===pi||!pi.has(l))){e=_n(t,e),null!==(l=sl(n,t=ha(2),2))&&(ma(t,l,n,e),dn(l,2),ft(l));break}}n=n.return}}function eo(e,n,t){var l=e.pingCache;if(null===l){l=e.pingCache=new Wu;var r=new Set;l.set(n,r)}else void 0===(r=l.get(n))&&(r=new Set,l.set(n,r));r.has(t)||(Zu=!0,r.add(t),e=no.bind(null,e,n,t),n.then(e,e))}function no(e,t,l){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,$u===e&&(Yu&l)===l&&(4===ni||3===ni&&(62914560&Yu)===Yu&&300>n(u[3]).unstable_now()-ci?!(2&Vu)&&_i(e,0):ri|=l,ui===Yu&&(ui=0)),ft(e)}function to(e,n){0===n&&(n=1&e.mode?sn():2),null!==(e=tl(e,n))&&(dn(e,n),ft(e))}function lo(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),to(e,t)}function ro(e,n){var t=0;switch(e.tag){case 31:case 13:var l=e.stateNode,r=e.memoizedState;null!==r&&(t=r.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==l&&l.delete(n),to(e,t)}function ao(e,n,t,l){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uo(e,n,t,l){return new ao(e,n,t,l)}function io(e){return!(!(e=e.prototype)||!e.isReactComponent)}function oo(e,n){var t=e.alternate;return null===t?((t=uo(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=65011712&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function so(e,n){e.flags&=65011714;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function co(e,n,t,l,r,a){var u=0;if(l=e,"function"==typeof e)io(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case _:return(e=uo(31,t,n,r)).elementType=_,e.lanes=a,e;case k:return fo(t.children,r,a,n);case w:u=8,1&(r|=8)&&(r|=16);break;case E:return(e=uo(12,t,n,2|r)).elementType=E,e.lanes=a,e;case C:return(e=uo(13,t,n,r)).elementType=C,e.lanes=a,e;case T:return(e=uo(19,t,n,r)).elementType=T,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case z:u=10;break e;case P:u=9;break e;case R:u=11;break e;case x:u=14;break e;case N:u=16,l=null;break e}u=29,t=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null===e?"null":typeof e)+"."),l=null}return(n=uo(u,t,n,r)).elementType=e,n.type=l,n.lanes=a,n}function fo(e,n,t,l){return(e=uo(7,e,l,n)).lanes=t,e}function po(e,n,t){return(e=uo(6,e,null,n)).lanes=t,e}function ho(e,n,t){return(n=uo(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function mo(e,n,t,l,r,a,u,i,o){this.tag=n,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cn(0),this.hiddenUpdates=cn(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function go(e,n,t){var l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==l?null:""+l,children:e,containerInfo:n,implementation:t}}function vo(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e)}return null===(e=null!==(e=yn(n))?Sn(e):null)?null:Mo(e.stateNode)}function bo(e,n,t,l){var r=Ei(t=n.current);return null===n.context?n.context=Rn:n.pendingContext=Rn,(n=ol(r)).payload={element:e},null!==(l=void 0===l?null:l)&&(n.callback=l),null!==(e=sl(t,n,r))&&(zi(e,t,r),cl(e,t,r)),r}function yo(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}function So(){throw Error("The current renderer does not support Resources. This error is likely caused by a bug in React. Please file an issue.")}var ko=nativeFabricUIManager,wo=ko.createNode,Eo=ko.cloneNodeWithNewChildren,Po=ko.cloneNodeWithNewChildrenAndProps,zo=ko.cloneNodeWithNewProps,Ro=ko.createChildSet,Co=ko.appendChild,To=ko.appendChildToSet,xo=ko.completeRoot,No=ko.registerEventHandler,_o=ko.unstable_DiscreteEventPriority,Lo=ko.unstable_ContinuousEventPriority,Io=ko.unstable_IdleEventPriority,Fo=ko.unstable_getCurrentEventPriority,Uo={getInspectorDataForInstance:void 0,getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}},Ao=n(u[2]).ReactNativeViewConfigRegistry.get,Do=2;No&&No(function(e,t,l){var r=null;if(null!=e){var a=e.stateNode;null!=a&&(r=Mo(a))}$e(function(){var a={eventName:t,nativeEvent:l};n(u[2]).RawEventEmitter.emit(t,a),n(u[2]).RawEventEmitter.emit("*",a),a=r;for(var i=null,o=Ne,s=0;s<o.length;s++){var c=o[s];c&&(c=c.extractEvents(t,e,l,a))&&(i=fe(i,c))}if(null!==(a=i)&&(qe=fe(qe,a)),a=qe,qe=null,a){if(pe(a,Ye),qe)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(D)throw a=Q,D=!1,Q=null,a}})});var Qo={isInAParentText:!0};function jo(e,n,t,l){return t=Do,Do+=2,{node:wo(t,"RCTRawText",n.containerTag,{text:e},l)}}function Mo(e){if(null!=e.canonical){var t;if(null==e.canonical.publicInstance)e.canonical.publicInstance=n(u[2]).createPublicInstance(e.canonical.nativeTag,e.canonical.viewConfig,e.canonical.internalInstanceHandle,null!=(t=e.canonical.publicRootInstance)?t:null),e.canonical.publicRootInstance=null;return e.canonical.publicInstance}return null!=e.containerInfo&&null!=e.containerInfo.publicInstance?e.containerInfo.publicInstance:null!=e._nativeTag?e:null}var Ho=0;function Oo(){if(0!==Ho)return Ho;var e=Fo?Fo():null;if(null!=e)switch(e){case _o:return 2;case Lo:return 8;case Io:return 268435456}return 32}var Bo=setTimeout,Wo=clearTimeout;function Vo(e){var t=e.node,l=n(u[2]).createAttributePayload({style:{display:"none"}},e.canonical.viewConfig.validAttributes);return{node:zo(t,l),canonical:e.canonical}}var $o={$$typeof:z,Provider:null,Consumer:null,_currentValue:null,_currentValue2:null,_threadCount:0},qo="undefined"!=typeof RN$enableMicrotasksInReact&&!!RN$enableMicrotasksInReact,Yo="function"==typeof queueMicrotask?queueMicrotask:Bo;if(j=function(e){return e.canonical.currentProps},M=function(e){return null!=e.canonical&&null!=e.canonical.internalInstanceHandle?e.canonical.internalInstanceHandle:e},H=function(e){if(null==(e=Mo(e.stateNode)))throw Error("Could not find host instance from fiber");return e},ze.injection.injectGlobalResponderHandler({onChange:function(e,n,t){e&&e.stateNode&&nativeFabricUIManager.setIsJSResponder(e.stateNode.node,!1,t||!1),n&&n.stateNode&&nativeFabricUIManager.setIsJSResponder(n.stateNode.node,!0,t||!1)}}),"function"!=typeof n(u[2]).ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function Xo(e,t){!1!==n(u[2]).ReactFiberErrorDialog.showErrorDialog({errorBoundary:null,error:e,componentStack:null!=t.componentStack?t.componentStack:""})&&Tn(e)}function Go(e,t){!1!==n(u[2]).ReactFiberErrorDialog.showErrorDialog({errorBoundary:t.errorBoundary,error:e,componentStack:null!=t.componentStack?t.componentStack:""})&&console.error(e)}function Jo(){}We=function(e,t){var l=Vu;Vu|=1;try{return e(t)}finally{0===(Vu=l)&&(di=n(u[3]).unstable_now()+500,pt(0,!0))}};var Ko=new Map,Zo={bundleType:0,version:"19.2.0",rendererPackageName:"react-native-renderer",currentDispatcherRef:d,reconcilerVersion:"19.2.0"};if(null!==Uo&&(Zo.rendererConfig=Uo),"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Xe=es.inject(Zo),Ge=es}catch(e){}}a.createPortal=function(e,n){return go(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,t,l){var r=null!=e._nativeTag?e._nativeTag:n(u[2]).getNativeTagFromPublicInstance(e);null!=r&&(null!=(e=n(u[2]).getNodeFromPublicInstance(e))?nativeFabricUIManager.dispatchCommand(e,t,l):n(u[2]).UIManager.dispatchViewManagerCommand(r,t,l))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e.canonical&&e.canonical.publicInstance?e.canonical.publicInstance:e._nativeTag?e:vo(e)},a.findNodeHandle=function(e){if(null==e)return null;if("number"==typeof e)return e;if(e._nativeTag)return e._nativeTag;if(null!=e.canonical&&null!=e.canonical.nativeTag)return e.canonical.nativeTag;var t=n(u[2]).getNativeTagFromPublicInstance(e);return t||(null==(e=vo(e))?e:null!=e._nativeTag?e._nativeTag:n(u[2]).getNativeTagFromPublicInstance(e))},a.getNodeFromInternalInstanceHandle=function(e){return e&&e.stateNode&&e.stateNode.node},a.getPublicInstanceFromInternalInstanceHandle=function(e){var t=e.stateNode;return null==t?null:6===e.tag?(null==t.publicInstance&&(t.publicInstance=n(u[2]).createPublicTextInstance(e)),t.publicInstance):Mo(e.stateNode)},a.getPublicInstanceFromRootTag=function(e){return(e=Ko.get(e))?e.containerInfo.publicInstance:null},a.isChildPublicInstance=function(){throw Error("isChildPublicInstance() is not available in production.")},a.render=function(e,t,l,r,a){var i=Ko.get(t);if(!i){i=Xo;var o=Go,s=ca;a&&void 0!==a.onUncaughtError&&(i=a.onUncaughtError),a&&void 0!==a.onCaughtError&&(o=a.onCaughtError),a&&void 0!==a.onRecoverableError&&(s=a.onRecoverableError),i=new mo(a={publicInstance:n(u[2]).createPublicRootInstance(t),containerTag:t},r=r?1:0,!1,"",i,o,s,Jo,null),r=uo(3,null,null,1===r?1:0),i.current=r,r.stateNode=i,(o=lt()).refCount++,i.pooledCache=o,o.refCount++,r.memoizedState={element:null,isDehydrated:!1,cache:o},ul(r),Ko.set(t,i)}bo(e,i,null,l);e:if(e=i.current,e.child)switch(e.child.tag){case 27:case 5:e=Mo(e.child.stateNode);break e;default:e=e.child.stateNode}else e=null;return e},a.sendAccessibilityEvent=function(e,t){var l=null!=e._nativeTag?e._nativeTag:n(u[2]).getNativeTagFromPublicInstance(e);null!=l&&(null!=(e=n(u[2]).getNodeFromPublicInstance(e))?nativeFabricUIManager.sendAccessibilityEvent(e,t):n(u[2]).legacySendAccessibilityEvent(l,t))},a.stopSurface=function(e){var n=Ko.get(e);n&&bo(null,n,null,function(){n.containerInfo.publicInstance=null,Ko.delete(e)})},a.unmountComponentAtNode=function(e){this.stopSurface(e)}},110,[111,75,259,267]);
__d(function(g,r,i,a,m,e,d){r(d[0])},111,[112]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Date.now();r(d[0]).default(),r(d[1]).default.markPoint('initializeCore_start',r(d[1]).default.currentTimestamp()-(Date.now()-t)),r(d[1]).default.markPoint('initializeCore_end')},112,[113,197]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(t)return;t=!0,r(d[0]),r(d[1]).default(),r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),r(d[7]),r(d[8]),r(d[9]),r(d[10]),r(d[11]),r(d[12]),r(d[13]).enableIntersectionObserverByDefault()&&r(d[14]).default()};var t=!1},113,[114,115,140,161,166,174,181,184,222,227,228,233,236,50,254]);
__d(function(g,r,i,a,m,e,d){'use strict';void 0===g.window&&(g.window=g),void 0===g.self&&(g.self=g),g.process=g.process||{},g.process.env=g.process.env||{},g.process.env.NODE_ENV||(g.process.env.NODE_ENV='production')},114,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(l)return;l=!0,(0,r(d[0]).polyfillGlobal)('DOMRect',function(){return r(d[1]).default}),(0,r(d[0]).polyfillGlobal)('DOMRectReadOnly',function(){return r(d[2]).default}),(0,r(d[0]).polyfillGlobal)('DOMRectList',function(){return r(d[3]).default}),(0,r(d[0]).polyfillGlobal)('HTMLCollection',function(){return r(d[4]).default}),(0,r(d[0]).polyfillGlobal)('NodeList',function(){return r(d[5]).default}),(0,r(d[0]).polyfillGlobal)('Node',function(){return r(d[6]).default}),(0,r(d[0]).polyfillGlobal)('Document',function(){return r(d[7]).default}),(0,r(d[0]).polyfillGlobal)('CharacterData',function(){return r(d[8]).default}),(0,r(d[0]).polyfillGlobal)('Text',function(){return r(d[9]).default}),(0,r(d[0]).polyfillGlobal)('Element',function(){return r(d[10]).default}),(0,r(d[0]).polyfillGlobal)('HTMLElement',function(){return r(d[11]).default})};var l=!1},115,[116,117,118,120,122,123,124,129,138,139,134,130]);
__d(function(g,r,i,a,m,e,d){'use strict';function l(l,o,t){var n=Object.getOwnPropertyDescriptor(l,o),c=n||{},u=c.enumerable,b=c.writable,f=c.configurable;!n||void 0!==f&&f?r(d[0]).default(l,o,{get:t,enumerable:!1!==u,writable:!1!==b}):console.error('Failed to set polyfill. '+o+' is not configurable.')}Object.defineProperty(e,"__esModule",{value:!0}),e.polyfillGlobal=function(o,t){l(g,o,t)},e.polyfillObjectProperty=l},116,[48]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),c=t(r(d[5])),f=t(r(d[6]));function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}var h=_e.default=(function(t){function f(){return(0,e.default)(this,f),t=this,n=f,c=arguments,n=(0,o.default)(n),(0,u.default)(t,l()?Reflect.construct(n,c||[],(0,o.default)(t).constructor):n.apply(t,c));var t,n,c}return(0,c.default)(f,t),(0,n.default)(f,[{key:"x",get:function(){return this.__getInternalX()},set:function(t){this.__setInternalX(t)}},{key:"y",get:function(){return this.__getInternalY()},set:function(t){this.__setInternalY(t)}},{key:"width",get:function(){return this.__getInternalWidth()},set:function(t){this.__setInternalWidth(t)}},{key:"height",get:function(){return this.__getInternalHeight()},set:function(t){this.__setInternalHeight(t)}}],[{key:"fromRect",value:function(t){return t?new f(t.x,t.y,t.width,t.height):new f}}])})(f.default);(0,r(d[7]).setPlatformObject)(h,{clone:function(t){return new h(t.x,t.y,t.width,t.height)}})},117,[1,11,12,18,20,23,118,119]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),h=t(r(d[4]));function f(t){return t?Number(t):0}var o=(0,h.default)("x"),s=(0,h.default)("y"),c=(0,h.default)("width"),y=(0,h.default)("height"),_=e.default=(function(){function t(u,l,h,f){(0,n.default)(this,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),this.__setInternalX(u),this.__setInternalY(l),this.__setInternalWidth(h),this.__setInternalHeight(f)}return(0,u.default)(t,[{key:"x",get:function(){return(0,l.default)(this,o)[o]}},{key:"y",get:function(){return(0,l.default)(this,s)[s]}},{key:"width",get:function(){return(0,l.default)(this,c)[c]}},{key:"height",get:function(){return(0,l.default)(this,y)[y]}},{key:"top",get:function(){var t=(0,l.default)(this,y)[y],n=(0,l.default)(this,s)[s];return t<0?n+t:n}},{key:"right",get:function(){var t=(0,l.default)(this,c)[c],n=(0,l.default)(this,o)[o];return t<0?n:n+t}},{key:"bottom",get:function(){var t=(0,l.default)(this,y)[y],n=(0,l.default)(this,s)[s];return t<0?n:n+t}},{key:"left",get:function(){var t=(0,l.default)(this,c)[c],n=(0,l.default)(this,o)[o];return t<0?n+t:n}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,left:this.left,bottom:this.bottom,right:this.right}}},{key:"__getInternalX",value:function(){return(0,l.default)(this,o)[o]}},{key:"__getInternalY",value:function(){return(0,l.default)(this,s)[s]}},{key:"__getInternalWidth",value:function(){return(0,l.default)(this,c)[c]}},{key:"__getInternalHeight",value:function(){return(0,l.default)(this,y)[y]}},{key:"__setInternalX",value:function(t){(0,l.default)(this,o)[o]=f(t)}},{key:"__setInternalY",value:function(t){(0,l.default)(this,s)[s]=f(t)}},{key:"__setInternalWidth",value:function(t){(0,l.default)(this,c)[c]=f(t)}},{key:"__setInternalHeight",value:function(t){(0,l.default)(this,y)[y]=f(t)}}],[{key:"fromRect",value:function(n){return n?new t(n.x,n.y,n.width,n.height):new t}}])})();(0,r(d[5]).setPlatformObject)(_,{clone:function(t){return new _(t.x,t.y,t.width,t.height)}})},118,[1,11,12,26,27,119]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatformObjectClone=function(t){return t[o]},e.isPlatformObject=function(o){return t in o},e.setPlatformObject=void 0;var t=Symbol('isPlatformObject'),o=Symbol('clonePlatformObject');e.setPlatformObject=function(n,c){'function'==typeof n?(n.prototype[t]=!0,c&&(n.prototype[o]=c.clone)):(n[t]=!0,c&&(n[o]=c.clone))}},119,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createDOMRectList=function(t){return new f(t)},e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),i=t(r(d[3])),l=(0,t(r(d[4])).default)("length"),f=e.default=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t),Object.defineProperty(this,l,{writable:!0,value:void 0});for(var f=0;f<u.length;f++)Object.defineProperty(this,f,{value:u[f],enumerable:!0,configurable:!1,writable:!1});(0,i.default)(this,l)[l]=u.length},[{key:"length",get:function(){return(0,i.default)(this,l)[l]}},{key:"item",value:function(t){if(t<0||t>=(0,i.default)(this,l)[l])return null;return this[t]}},{key:Symbol.iterator,value:function(){return(0,r(d[5]).createValueIterator)(this)}}])})();(0,r(d[6]).setPlatformObject)(f)},120,[1,11,12,26,27,121,119]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createEntriesIterator=function*(t){for(var n=0;n<t.length;n++)yield[n,t[n]]},e.createKeyIterator=function*(t){for(var n=0;n<t.length;n++)yield n},e.createValueIterator=function*(t){for(var n=0;n<t.length;n++)yield t[n]}},121,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createHTMLCollection=function(t){return new i(t)},e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l={value:{},enumerable:!0,configurable:!1,writable:!1},i=e.default=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t);for(var i=0;i<u.length;i++)l.value=u[i],Object.defineProperty(this,i,l);this._length=u.length},[{key:"length",get:function(){return this._length}},{key:"item",value:function(t){if(t<0||t>=this._length)return null;return this[t]}},{key:"namedItem",value:function(t){return null}},{key:Symbol.iterator,value:function(){return(0,r(d[3]).createValueIterator)(this)}}])})();(0,r(d[4]).setPlatformObject)(i)},122,[1,11,12,121,119]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createNodeList=function(t){return new l(t)},e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),i={value:{},writable:!1},l=e.default=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t);for(var l=0;l<u.length;l++)i.value=u[l],Object.defineProperty(this,l,i);this._length=u.length},[{key:"length",get:function(){return this._length}},{key:"item",value:function(t){if(t<0||t>=this._length)return null;return this[t]}},{key:"entries",value:function(){return(0,r(d[3]).createEntriesIterator)(this)}},{key:"forEach",value:function(t,n){for(var u=0;u<this._length;u++)null==n?t(this[u],u,this):t.call(n,this[u],u,this)}},{key:"keys",value:function(){return(0,r(d[3]).createKeyIterator)(this)}},{key:"values",value:function(){return(0,r(d[3]).createValueIterator)(this)}},{key:Symbol.iterator,value:function(){return(0,r(d[3]).createValueIterator)(this)}}])})();(0,r(d[4]).setPlatformObject)(l)},123,[1,11,12,121,119]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.getChildNodes=s;var t=n(r(d[1])),o=n(r(d[2])),u=n(r(d[3])),l=n(r(d[4])),N=e.default=(function(){function n(t,u){(0,o.default)(this,n),(0,r(d[5]).setOwnerDocument)(this,u),(0,r(d[5]).setInstanceHandle)(this,t)}return(0,u.default)(n,[{key:"childNodes",get:function(){var n=s(this);return(0,r(d[6]).createNodeList)(n)}},{key:"firstChild",get:function(){var n=s(this);return 0===n.length?null:n[0]}},{key:"isConnected",get:function(){var n=(0,r(d[5]).getNativeNodeReference)(this);return null!=n&&l.default.isConnected(n)}},{key:"lastChild",get:function(){var n=s(this);return 0===n.length?null:n[n.length-1]}},{key:"nextSibling",get:function(){var n=O(this),o=(0,t.default)(n,2),u=o[0],l=o[1];return l===u.length-1?null:u[l+1]}},{key:"nodeName",get:function(){throw new TypeError('`nodeName` is abstract and must be implemented in a subclass of `ReadOnlyNode`')}},{key:"nodeType",get:function(){throw new TypeError('`nodeType` is abstract and must be implemented in a subclass of `ReadOnlyNode`')}},{key:"nodeValue",get:function(){throw new TypeError('`nodeValue` is abstract and must be implemented in a subclass of `ReadOnlyNode`')}},{key:"ownerDocument",get:function(){return(0,r(d[5]).getOwnerDocument)(this)}},{key:"parentElement",get:function(){var t=this.parentNode;return null!=t&&t.nodeType===n.ELEMENT_NODE?t:null}},{key:"parentNode",get:function(){var n,t=(0,r(d[5]).getNativeNodeReference)(this);if(null==t)return null;var o=l.default.getParentNode(t);return null==o?null:null!=(n=(0,r(d[5]).getPublicInstanceFromInstanceHandle)(o))?n:null}},{key:"previousSibling",get:function(){var n=O(this),o=(0,t.default)(n,2),u=o[0],l=o[1];return 0===l?null:u[l-1]}},{key:"textContent",get:function(){throw new TypeError('`textContent` is abstract and must be implemented in a subclass of `ReadOnlyNode`')}},{key:"compareDocumentPosition",value:function(t){if(t===this)return 0;var o=(0,r(d[5]).getNativeNodeReference)(this),u=(0,r(d[5]).getNativeNodeReference)(t);return null==o||null==u?n.DOCUMENT_POSITION_DISCONNECTED:l.default.compareDocumentPosition(o,u)}},{key:"contains",value:function(t){return t===this||0!==(this.compareDocumentPosition(t)&n.DOCUMENT_POSITION_CONTAINED_BY)}},{key:"getRootNode",value:function(){var n;return this.isConnected&&null!=(n=this.ownerDocument)?n:this}},{key:"hasChildNodes",value:function(){return s(this).length>0}}])})();function s(n,t){var o=(0,r(d[5]).getNativeNodeReference)(n);if(null==o)return[];var u=l.default.getChildNodes(o),N=[];for(var s of u){var O=(0,r(d[5]).getPublicInstanceFromInstanceHandle)(s);null==O||null!=t&&!t(O)||N.push(O)}return N}function O(n){var t=n.parentNode;if(null==t)return[[n],0];var o=s(t),u=o.indexOf(n);if(-1===u)throw new TypeError("Missing node in parent's child node list");return[o,u]}N.ELEMENT_NODE=1,N.ATTRIBUTE_NODE=2,N.TEXT_NODE=3,N.CDATA_SECTION_NODE=4,N.ENTITY_REFERENCE_NODE=5,N.ENTITY_NODE=6,N.PROCESSING_INSTRUCTION_NODE=7,N.COMMENT_NODE=8,N.DOCUMENT_NODE=9,N.DOCUMENT_TYPE_NODE=10,N.DOCUMENT_FRAGMENT_NODE=11,N.NOTATION_NODE=12,N.DOCUMENT_POSITION_DISCONNECTED=1,N.DOCUMENT_POSITION_PRECEDING=2,N.DOCUMENT_POSITION_FOLLOWING=4,N.DOCUMENT_POSITION_CONTAINS=8,N.DOCUMENT_POSITION_CONTAINED_BY=16,N.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,(0,r(d[7]).setPlatformObject)(N)},124,[1,34,11,12,125,126,123,119]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('NativeDOMCxx')},125,[31]);
__d(function(g,r,i,a,m,e,d){var n,t;function c(t){return null==n&&(n=r(d[0]).getNodeFromInternalInstanceHandle),n(t)}function u(n){return null==t&&(t=r(d[0]).getPublicInstanceFromInternalInstanceHandle),t(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.getInstanceHandle=s,e.getNativeElementReference=function(n){var t=s(n);if((0,r(d[2]).isReactNativeDocumentElementInstanceHandle)(t))return(0,r(d[2]).getNativeElementReferenceFromReactNativeDocumentElementInstanceHandle)(t);return c(t)},e.getNativeNodeReference=function(n){var t=s(n),u=c(t);if(null!=u)return u;if((0,r(d[1]).isReactNativeDocumentInstanceHandle)(t))return(0,r(d[1]).getNativeNodeReferenceFromReactNativeDocumentInstanceHandle)(t);if((0,r(d[2]).isReactNativeDocumentElementInstanceHandle)(t))return(0,r(d[2]).getNativeElementReferenceFromReactNativeDocumentElementInstanceHandle)(t)},e.getNativeTextReference=function(n){return c(s(n))},e.getOwnerDocument=function(n){var t;return null!=(t=n[o])?t:null},e.getPublicInstanceFromInstanceHandle=function(n){var t=u(n);if(null!=t)return t;if((0,r(d[1]).isReactNativeDocumentInstanceHandle)(n))return(0,r(d[1]).getPublicInstanceFromReactNativeDocumentInstanceHandle)(n);if((0,r(d[2]).isReactNativeDocumentElementInstanceHandle)(n))return(0,r(d[2]).getPublicInstanceFromReactNativeDocumentElementInstanceHandle)(n)},e.setInstanceHandle=function(n,t){n[l]=t},e.setOwnerDocument=function(n,t){n[o]=t};var l=Symbol('internalInstanceHandle'),o=Symbol('ownerDocument');function s(n){return n[l]}},126,[107,127,128]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.createReactNativeDocumentInstanceHandle=function(e){return e},_e.getNativeNodeReferenceFromReactNativeDocumentInstanceHandle=function(e){return e},_e.getPublicInstanceFromReactNativeDocumentInstanceHandle=function(t){return e.getPublicInstanceFromRootTag(Number(t))},_e.isReactNativeDocumentInstanceHandle=function(e){return'number'==typeof e&&e%10==1};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,c,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((c=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(c.get||c.set)?o(u,i,c):u[i]=e[i]);return u})(e,t)})(_r(d[0]))},127,[107]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createReactNativeDocumentElementInstanceHandle=function(){return new u},e.getNativeElementReferenceFromReactNativeDocumentElementInstanceHandle=function(n){return n.nativeElementReference},e.getPublicInstanceFromReactNativeDocumentElementInstanceHandle=function(n){return n.publicInstance},e.isReactNativeDocumentElementInstanceHandle=function(n){return n instanceof u},e.setNativeElementReferenceForReactNativeDocumentElementInstanceHandle=function(n,t){n.nativeElementReference=t},e.setPublicInstanceForReactNativeDocumentElementInstanceHandle=function(n,t){n.publicInstance=t};var t=n(r(d[1])),c=n(r(d[2])),u=(0,t.default)(function n(){(0,c.default)(this,n)})},128,[1,12,11]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createReactNativeDocument=function(e){var t=(0,r(d[13]).createReactNativeDocumentInstanceHandle)(e);return new E(e,t)},_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5])),o=e(r(d[6])),f=e(r(d[7])),s=e(r(d[8])),v=e(r(d[9]));function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var E=_e.default=(function(e){function o(e,n){var c,f,s,v;return(0,t.default)(this,o),f=this,s=o,v=[n,null],s=(0,l.default)(s),(c=(0,u.default)(f,y()?Reflect.construct(s,v||[],(0,l.default)(f).constructor):s.apply(f,v)))._rootTag=e,c._documentElement=h(e,c),c}return(0,c.default)(o,e),(0,n.default)(o,[{key:"childElementCount",get:function(){return 1}},{key:"children",get:function(){return(0,r(d[10]).createHTMLCollection)([this.documentElement])}},{key:"documentElement",get:function(){return this._documentElement}},{key:"firstElementChild",get:function(){return this.documentElement}},{key:"lastElementChild",get:function(){return this.documentElement}},{key:"nodeName",get:function(){return'#document'}},{key:"nodeType",get:function(){return s.default.DOCUMENT_NODE}},{key:"nodeValue",get:function(){return null}},{key:"textContent",get:function(){return null}},{key:"getElementById",value:function(e){var t=v.default.getElementById(this._rootTag,e);if(null==t)return null;var n=(0,r(d[11]).getPublicInstanceFromInstanceHandle)(t);return n instanceof f.default?n:null}}])})(s.default);function h(e,t){var n=(0,r(d[12]).createReactNativeDocumentElementInstanceHandle)(),u=e,l=new o.default(u,null,n,t),c=v.default.linkRootNode(e,n);return(0,r(d[12]).setNativeElementReferenceForReactNativeDocumentElementInstanceHandle)(n,c),(0,r(d[12]).setPublicInstanceForReactNativeDocumentElementInstanceHandle)(n,l),l}},129,[1,11,12,18,20,23,130,134,124,125,122,126,128,127]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),u=e(_r(d[3])),r=e(_r(d[4])),i=e(_r(d[5])),f=e(_r(d[6])),l=(e(_r(d[7])),c(_r(d[8]))),o=c(_r(d[9])),s=e(_r(d[10]));function c(e,t){if("function"==typeof WeakMap)var n=new WeakMap,u=new WeakMap;return(c=function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(r=t?u:n){if(r.has(e))return r.get(e);r.set(e,f)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?r(f,l,i):f[l]=e[l]);return f})(e,t)}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var h=function(){},p=(function(e){function c(e,n,i,f){var l,o,s,h;return(0,t.default)(this,c),o=this,s=c,h=[i,f],s=(0,r.default)(s),(l=(0,u.default)(o,v()?Reflect.construct(s,h||[],(0,r.default)(o).constructor):s.apply(o,h))).__nativeTag=e,l.__internalInstanceHandle=i,l.__viewConfig=n,l}return(0,i.default)(c,e),(0,n.default)(c,[{key:"offsetHeight",get:function(){return Math.round((0,o.getBoundingClientRect)(this,{includeTransform:!1}).height)}},{key:"offsetLeft",get:function(){var e=(0,_r(d[11]).getNativeElementReference)(this);if(null!=e){var t=s.default.getOffset(e);return Math.round(t[2])}return 0}},{key:"offsetParent",get:function(){var e=(0,_r(d[11]).getNativeElementReference)(this);if(null!=e){var t=s.default.getOffset(e);if(null!=t[0]){var n=t[0];return(0,_r(d[11]).getPublicInstanceFromInstanceHandle)(n)}}return null}},{key:"offsetTop",get:function(){var e=(0,_r(d[11]).getNativeElementReference)(this);if(null!=e){var t=s.default.getOffset(e);return Math.round(t[1])}return 0}},{key:"offsetWidth",get:function(){return Math.round((0,o.getBoundingClientRect)(this,{includeTransform:!1}).width)}},{key:"blur",value:function(){f.default.isTextInput(this)?f.default.blurTextInput(this):l.enableImperativeFocus()&&_r(d[12]).Commands.blur(this)}},{key:"focus",value:function(){f.default.isTextInput(this)?f.default.focusTextInput(this):l.enableImperativeFocus()&&_r(d[12]).Commands.focus(this)}},{key:"measure",value:function(e){var t=(0,_r(d[11]).getNativeElementReference)(this);null!=t&&s.default.measure(t,e)}},{key:"measureInWindow",value:function(e){var t=(0,_r(d[11]).getNativeElementReference)(this);null!=t&&s.default.measureInWindow(t,e)}},{key:"measureLayout",value:function(e,t,n){if(e instanceof c){var u=(0,_r(d[11]).getNativeElementReference)(this),r=(0,_r(d[11]).getNativeElementReference)(e);null!=u&&null!=r&&s.default.measureLayout(u,r,null!=n?n:h,null!=t?t:h)}}},{key:"setNativeProps",value:function(e){var t=(0,_r(d[13]).create)(e,this.__viewConfig.validAttributes),n=(0,_r(d[11]).getNativeElementReference)(this);null!=n&&null!=t&&s.default.setNativeProps(n,t)}}])})(o.default);_e.default=(function(e){function t(e,t,n,u){(0,_r(d[11]).setOwnerDocument)(this,u),(0,_r(d[11]).setInstanceHandle)(this,n),this.__nativeTag=e,this.__internalInstanceHandle=n,this.__viewConfig=t}return t.prototype=e.prototype,t})(p)},130,[1,11,12,18,20,23,131,133,50,134,125,126,77,136]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=null,u=new Set;function t(u){n!==u&&null!=u&&(n=u)}function o(u){n===u&&null!=u&&(n=null)}var l={currentlyFocusedInput:function(){return n},focusInput:t,blurInput:o,currentlyFocusedField:function(){return r(d[0]).findNodeHandle(n)},focusField:function(n){},blurField:function(n){},focusTextInput:function(u){if('number'!=typeof u&&null!=u){var o;if(!(n!==u&&!1!==(null==(o=u.currentProps)?void 0:o.editable)))return;t(u),r(d[1]).Commands.focus(u)}},blurTextInput:function(u){'number'!=typeof u&&n===u&&null!=u&&(o(u),r(d[1]).Commands.blur(u))},registerInput:function(n){'number'!=typeof n&&u.add(n)},unregisterInput:function(n){'number'!=typeof n&&u.delete(n)},isTextInput:function(n){return'number'!=typeof n&&u.has(n)}};e.default=l},131,[107,132]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?n(l,s,i):l[s]=e[s]);return l})(e,t)})(_r(d[1])),o=e(_r(d[2]));_e.Commands=(0,o.default)({supportedCommands:['focus','blur','setTextAndSelection']});var r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'AndroidTextInput',bubblingEventTypes:{topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}}},directEventTypes:{topScroll:{registrationName:'onScroll'}},validAttributes:{acceptDragAndDropTypes:!0,maxFontSizeMultiplier:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,autoFocus:!0,placeholder:!0,inlineImagePadding:!0,contextMenuHidden:!0,textShadowColor:{process:_r(d[3]).default},maxLength:!0,selectTextOnFocus:!0,textShadowRadius:!0,underlineColorAndroid:{process:_r(d[3]).default},textDecorationLine:!0,submitBehavior:!0,textAlignVertical:!0,fontStyle:!0,textShadowOffset:!0,selectionColor:{process:_r(d[3]).default},selectionHandleColor:{process:_r(d[3]).default},placeholderTextColor:{process:_r(d[3]).default},importantForAutofill:!0,lineHeight:!0,textTransform:!0,returnKeyType:!0,keyboardType:!0,multiline:!0,color:{process:_r(d[3]).default},autoComplete:!0,numberOfLines:!0,letterSpacing:!0,returnKeyLabel:!0,fontSize:!0,onKeyPress:!0,cursorColor:{process:_r(d[3]).default},text:!0,showSoftInputOnFocus:!0,textAlign:!0,autoCapitalize:!0,autoCorrect:!0,caretHidden:!0,secureTextEntry:!0,textBreakStrategy:!0,onScroll:!0,onContentSizeChange:!0,disableFullscreenUI:!0,includeFontPadding:!0,fontWeight:!0,fontFamily:!0,allowFontScaling:!0,onSelectionChange:!0,mostRecentEventCount:!0,inlineImageLeft:!0,editable:!0,fontVariant:!0,borderBottomRightRadius:!0,borderBottomColor:{process:_r(d[3]).default},borderRadius:!0,borderRightColor:{process:_r(d[3]).default},borderColor:{process:_r(d[3]).default},borderTopRightRadius:!0,borderStyle:!0,borderBottomLeftRadius:!0,borderLeftColor:{process:_r(d[3]).default},borderTopLeftRadius:!0,borderTopColor:{process:_r(d[3]).default}}},n=t.get('AndroidTextInput',function(){return r});_e.default=n},132,[1,78,106,55]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,t){}},133,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.getBoundingClientRect=v;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),l=e(_r(d[4])),u=e(_r(d[5])),i=e(_r(d[6])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var l,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(l=t?r:n){if(l.has(e))return l.get(e);l.set(e,i)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((u=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(u.get||u.set)?l(i,o,u):i[o]=e[o]);return i})(e,t)})(_r(d[7])),f=e(_r(d[8]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}_e.default=(function(e){function i(){return(0,t.default)(this,i),e=this,n=i,u=arguments,n=(0,l.default)(n),(0,r.default)(e,c()?Reflect.construct(n,u||[],(0,l.default)(e).constructor):n.apply(e,u));var e,n,u}return(0,u.default)(i,e),(0,n.default)(i,[{key:"childElementCount",get:function(){return s(this).length}},{key:"children",get:function(){return(0,_r(d[9]).createHTMLCollection)(s(this))}},{key:"clientHeight",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getInnerSize(e)[1]:0}},{key:"clientLeft",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getBorderWidth(e)[3]:0}},{key:"clientTop",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getBorderWidth(e)[0]:0}},{key:"clientWidth",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getInnerSize(e)[0]:0}},{key:"firstElementChild",get:function(){var e=s(this);return 0===e.length?null:e[0]}},{key:"id",get:function(){var e,t,n,r=(0,_r(d[10]).getInstanceHandle)(this),l=null==r||null==(e=r.stateNode)||null==(e=e.canonical)?void 0:e.currentProps;return null!=(t=null!=(n=null==l?void 0:l.id)?n:null==l?void 0:l.nativeID)?t:''}},{key:"lastElementChild",get:function(){var e=s(this);return 0===e.length?null:e[e.length-1]}},{key:"nextElementSibling",get:function(){return(0,_r(d[11]).getElementSibling)(this,'next')}},{key:"nodeName",get:function(){return this.tagName}},{key:"nodeType",get:function(){return o.default.ELEMENT_NODE}},{key:"nodeValue",get:function(){return null},set:function(e){}},{key:"previousElementSibling",get:function(){return(0,_r(d[11]).getElementSibling)(this,'previous')}},{key:"scrollHeight",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getScrollSize(e)[1]:0}},{key:"scrollLeft",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getScrollPosition(e)[0]:0}},{key:"scrollTop",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getScrollPosition(e)[1]:0}},{key:"scrollWidth",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getScrollSize(e)[0]:0}},{key:"tagName",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getTagName(e):''}},{key:"textContent",get:function(){var e=(0,_r(d[10]).getNativeElementReference)(this);return null!=e?f.default.getTextContent(e):''}},{key:"getBoundingClientRect",value:function(){return v(this,{includeTransform:!0})}},{key:"hasPointerCapture",value:function(e){var t=(0,_r(d[10]).getNativeElementReference)(this);return null!=t&&f.default.hasPointerCapture(t,e)}},{key:"setPointerCapture",value:function(e){var t=(0,_r(d[10]).getNativeElementReference)(this);null!=t&&f.default.setPointerCapture(t,e)}},{key:"releasePointerCapture",value:function(e){var t=(0,_r(d[10]).getNativeElementReference)(this);null!=t&&f.default.releasePointerCapture(t,e)}}])})(o.default);function s(e){return(0,o.getChildNodes)(e,function(e){return e.nodeType===o.default.ELEMENT_NODE})}function v(e,t){var n=t.includeTransform,r=(0,_r(d[10]).getNativeElementReference)(e);if(null!=r){var l=f.default.getBoundingClientRect(r,n);return new i.default(l[0],l[1],l[2],l[3])}return new i.default(0,0,0,0)}},134,[1,11,12,18,20,23,117,124,125,122,126,135]);
__d(function(g,r,i,a,m,e,d){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.getElementSibling=function(l,u){var t,f=l.parentNode;if(null==f)return null;var o=(0,r(d[0]).getChildNodes)(f),v=o.indexOf(l);if(-1===v)return null;var c='next'===u?1:-1,_=v+c;null==n&&(n=r(d[1]).default);for(;null!=o[_]&&!(o[_]instanceof n);)_+=c;return null!=(t=o[_])?t:null}},135,[124,134]);
__d(function(g,r,_i,a,m,e,d){var f=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(f,n){return h(null,f,n)},e.diff=function(f,n,o){return A(null,f,n,o)};var n=f(r(d[1])),o=f(r(d[2])),t={},i=null,u=0,c={unsafelyIgnoreFunctions:!0};function l(f,n){return'object'!=typeof n||null===n||(0,o.default)(f,n,c)}function s(f,n,o){if(Array.isArray(n))for(var t=n.length;t--&&u>0;)s(f,n[t],o);else if(n&&u>0){var c=n;for(var l in i)if(i[l]){var y=c[l];if(void 0!==y){var p=o[l];if(p){if('function'==typeof y&&(y=!0),void 0===y&&(y=null),'object'!=typeof p)f[l]=y;else if('function'==typeof p.diff||'function'==typeof p.process){var v='function'==typeof p.process?p.process(y):y;f[l]=v}i[l]=!1,u--}}}}}function y(f,n,o,t){var i,u=n.length<o.length?n.length:o.length;for(i=0;i<u;i++)f=p(f,n[i],o[i],t);for(;i<n.length;i++)f=v(f,n[i],t);for(;i<o.length;i++){var c=o[i];c&&(f=h(f,c,t))}return f}function p(f,o,t,i){return f||o!==t?o&&t?Array.isArray(o)||Array.isArray(t)?Array.isArray(o)&&Array.isArray(t)?y(f,o,t,i):Array.isArray(o)?A(f,(0,n.default)(o),t,i):A(f,o,(0,n.default)(t),i):A(f,o,t,i):t?h(f,t,i):o?v(f,o,i):f:f}function v(f,n,o){if(!n)return f;if(!Array.isArray(n))return b(f,n,o);for(var t=0;t<n.length;t++)f=v(f,n[t],o);return f}function A(f,n,o,t){var c,y,A;for(var h in o)if(c=t[h]){if(A=n[h],'function'==typeof(y=o[h]))'object'==typeof c&&'function'==typeof c.process||(y=!0,'function'==typeof A&&(A=!0));if(void 0===y&&(y=null,void 0===A&&(A=null)),i&&(i[h]=!1),f&&void 0!==f[h]){if('object'!=typeof c)f[h]=y;else if('function'==typeof c.diff||'function'==typeof c.process){var b='function'==typeof c.process?c.process(y):y;f[h]=b}}else if(A!==y)if('object'!=typeof c)l(A,y)&&((f||(f={}))[h]=y);else if('function'==typeof c.diff||'function'==typeof c.process){if(void 0===A||('function'==typeof c.diff?c.diff(A,y):l(A,y))){var j='function'==typeof c.process?c.process(y):y;(f||(f={}))[h]=j}}else i=null,u=0,f=p(f,A,y,c),u>0&&f&&(s(f,y,c),i=null)}for(var _ in n)void 0===o[_]&&(c=t[_])&&(f&&void 0!==f[_]||void 0!==(A=n[_])&&('object'!=typeof c||'function'==typeof c.diff||'function'==typeof c.process?((f||(f={}))[_]=null,i||(i={}),i[_]||(i[_]=!0,u++)):f=v(f,A,c)));return f}function h(f,n,o){if(Array.isArray(n)){for(var t=0;t<n.length;t++)f=h(f,n[t],o);return f}for(var i in n){var u=n[i],c=o[i];if(null!=c){var l=void 0;if(void 0===u){if(!f||void 0===f[i])continue;l=null}else'object'==typeof c?'function'==typeof c.process?l=c.process(u):'function'==typeof c.diff&&(l=u):l='function'==typeof u||u;void 0===l?f=h(f,u,c):(f||(f={}),f[i]=l)}}return f}function b(f,n,o){return A(f,n,t,o)}},136,[1,9,137]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;function t(o,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,l='number'==typeof f?arguments.length>3?arguments[3]:void 0:f,c='number'==typeof f?f:-1;if(0===c)return!0;if(o===u)return!1;if('function'==typeof o&&'function'==typeof u){var s=null==l?void 0:l.unsafelyIgnoreFunctions;return null==s&&(!n||!n.onDifferentFunctionsIgnored||l&&'unsafelyIgnoreFunctions'in l||n.onDifferentFunctionsIgnored(o.name,u.name),s=!0),!s}if('object'!=typeof o||null===o)return o!==u;if('object'!=typeof u||null===u)return!0;if(o.constructor!==u.constructor)return!0;if(Array.isArray(o)){var v=o.length;if(u.length!==v)return!0;for(var y=0;y<v;y++)if(t(o[y],u[y],c-1,l))return!0}else{for(var p in o)if(t(o[p],u[p],c-1,l))return!0;for(var b in u)if(void 0===o[b]&&void 0!==u[b])return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t.unstable_setLogListeners=function(t){n=t};e.default=t},137,[]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5])),f=t(r(d[6])),c=t(r(d[7]));function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}_e.default=(function(t){function f(){return(0,e.default)(this,f),t=this,n=f,o=arguments,n=(0,l.default)(n),(0,u.default)(t,s()?Reflect.construct(n,o||[],(0,l.default)(t).constructor):n.apply(t,o));var t,n,o}return(0,o.default)(f,t),(0,n.default)(f,[{key:"nextElementSibling",get:function(){return(0,r(d[8]).getElementSibling)(this,'next')}},{key:"previousElementSibling",get:function(){return(0,r(d[8]).getElementSibling)(this,'previous')}},{key:"data",get:function(){var t=(0,r(d[9]).getNativeTextReference)(this);return null!=t?c.default.getTextContent(t):''}},{key:"length",get:function(){return this.data.length}},{key:"textContent",get:function(){return this.data}},{key:"nodeValue",get:function(){return this.data}},{key:"substringData",value:function(t,e){var n=this.data;if(t<0)throw new TypeError(`Failed to execute 'substringData' on 'CharacterData': The offset ${t} is negative.`);if(t>n.length)throw new TypeError(`Failed to execute 'substringData' on 'CharacterData': The offset ${t} is greater than the node's length (${n.length}).`);var u=e<0||e>n.length?n.length:e;return n.slice(t,t+u)}}])})(f.default)},138,[1,11,12,18,20,23,124,125,135,126]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6])),l=t(r(d[7]));function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}_e.default=(function(t){function c(){return(0,e.default)(this,c),t=this,n=c,f=arguments,n=(0,o.default)(n),(0,u.default)(t,v()?Reflect.construct(n,f||[],(0,o.default)(t).constructor):n.apply(t,f));var t,n,f}return(0,f.default)(c,t),(0,n.default)(c,[{key:"nodeName",get:function(){return'#text'}},{key:"nodeType",get:function(){return l.default.TEXT_NODE}}])})(c.default)},139,[1,11,12,18,20,23,138,124]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=n(r(d[1]));n(r(d[2])).default?(0,o.default)():g.performance||(g.performance={mark:function(){},clearMarks:function(){},measure:function(){},clearMeasures:function(){},now:function(){return(g.nativePerformanceNow||Date.now)()}})},140,[1,141,151]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(n)return;n=!0;var l=r(d[0]).default;g.performance=new l,(0,r(d[1]).polyfillGlobal)('EventCounts',function(){return r(d[2]).EventCounts_public}),(0,r(d[1]).polyfillGlobal)('Performance',function(){return r(d[0]).Performance_public}),(0,r(d[1]).polyfillGlobal)('PerformanceEntry',function(){return r(d[3]).PerformanceEntry_public}),(0,r(d[1]).polyfillGlobal)('PerformanceEventTiming',function(){return r(d[2]).PerformanceEventTiming_public}),(0,r(d[1]).polyfillGlobal)('PerformanceLongTaskTiming',function(){return r(d[4]).PerformanceLongTaskTiming_public}),(0,r(d[1]).polyfillGlobal)('PerformanceMark',function(){return r(d[5]).PerformanceMark}),(0,r(d[1]).polyfillGlobal)('PerformanceMeasure',function(){return r(d[5]).PerformanceMeasure_public}),(0,r(d[1]).polyfillGlobal)('PerformanceObserver',function(){return r(d[6]).PerformanceObserver}),(0,r(d[1]).polyfillGlobal)('PerformanceObserverEntryList',function(){return r(d[6]).PerformanceObserverEntryList_public}),(0,r(d[1]).polyfillGlobal)('PerformanceResourceTiming',function(){return r(d[7]).PerformanceResourceTiming_public}),(0,r(d[1]).polyfillGlobal)('TaskAttributionTiming',function(){return r(d[4]).TaskAttributionTiming_public})};var n=!1},141,[142,116,152,153,158,156,160,159]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Performance_public=void 0;var n,o=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6])),p=t(r(d[7])),y=t(r(d[8])),v=t(r(d[9])),w=t(r(d[10])),T=['mark','measure'],k=(0,w.default)(v.default),b=k.reportMark,h=k.reportMeasure,S=k.getMarkTime,P=k.clearMarks,E=k.clearMeasures,M={startTime:0,detail:void 0},x={name:'',startTime:0,duration:0,detail:void 0},F=function(t){var n=S(t);if(null==n)throw new f.default(`Failed to execute 'measure' on 'Performance': The mark '${t}' does not exist.`,'SyntaxError');return n},O=(0,l.default)("eventCounts"),C=e.default=(function(){return(0,u.default)(function t(){(0,o.default)(this,t),Object.defineProperty(this,O,{writable:!0,value:new(r(d[11]).EventCounts)}),this.now=r(d[12]).getCurrentTimeStamp},[{key:"eventCounts",get:function(){return(0,s.default)(this,O)[O]}},{key:"memory",get:function(){var t=k.getSimpleMemoryInfo();if(t.hasOwnProperty('hermes_heapSize')){var n=t.hermes_heapSize,o=t.hermes_allocatedBytes;return new p.default({jsHeapSizeLimit:null,totalJSHeapSize:n,usedJSHeapSize:o})}return new p.default}},{key:"rnStartupTiming",get:function(){var t=k.getReactNativeStartupTiming(),n=t.startTime,o=t.initializeRuntimeStart,u=t.executeJavaScriptBundleEntryPointStart,s=t.endTime;return new y.default({startTime:n,initializeRuntimeStart:o,executeJavaScriptBundleEntryPointStart:u,endTime:s})}},{key:"timeOrigin",get:function(){return null==n&&(n=k.timeOrigin?null==k?void 0:k.timeOrigin():Date.now()-(0,r(d[12]).getCurrentTimeStamp)()),n}},{key:"mark",value:function(t,n){if(void 0===t)throw new TypeError("Failed to execute 'mark' on 'Performance': 1 argument required, but only 0 present.");var o,u,s,l,f='string'==typeof t?t:String(t);if(null!=n&&(s=n.startTime,l=n.detail),void 0!==s){if((o='number'==typeof s?s:Number(s))<0)throw new TypeError(`Failed to execute 'mark' on 'Performance': '${f}' cannot have a negative start time.`);if(o!=o||o===1/0)throw new TypeError("Failed to execute 'mark' on 'Performance': Failed to read the 'startTime' property from 'PerformanceMarkOptions': The provided double value is non-finite.")}else o=(0,r(d[12]).getCurrentTimeStamp)();void 0!==l&&(u=(0,c.default)(l)),M.startTime=o,M.detail=u;var p=new(r(d[13]).PerformanceMark)(f,M);return b(f,o,p),p}},{key:"clearMarks",value:function(t){P(t)}},{key:"measure",value:function(t,n,o){var u,s,l,f;if(void 0===t)throw new TypeError("Failed to execute 'measure' on 'Performance': 1 argument required, but only 0 present.");if(u='string'==typeof t?t:String(t),null!=n)switch(typeof n){case'object':if(void 0!==o)throw new TypeError("Failed to execute 'measure' on 'Performance': If a non-empty PerformanceMeasureOptions object was passed, |end_mark| must not be passed.");var p,y=n.start,v=n.end,w=n.duration,T=n.detail;if(void 0!==y&&void 0!==v&&void 0!==w)throw new TypeError("Failed to execute 'measure' on 'Performance': If a non-empty PerformanceMeasureOptions object was passed, it must not have all of its 'start', 'duration', and 'end' properties defined");switch(typeof y){case'undefined':break;case'number':s=y;break;case'string':s=F(y);break;default:s=F(String(y))}switch(typeof v){case'undefined':break;case'number':p=v;break;case'string':p=F(v);break;default:p=F(String(v))}switch(typeof w){case'undefined':break;case'number':l=w;break;default:if(l=Number(w),!Number.isFinite(l))throw new TypeError("Failed to execute 'measure' on 'Performance': Failed to read the 'duration' property from 'PerformanceMeasureOptions': The provided double value is non-finite.")}void 0===s&&(s=void 0!==p&&void 0!==l?p-l:0),void 0===l&&(l=void 0!==s&&void 0!==p?p-s:(0,r(d[12]).getCurrentTimeStamp)()-s),void 0!==T&&(f=(0,c.default)(T));break;case'string':s=F(n),l=void 0!==o?F(o)-s:(0,r(d[12]).getCurrentTimeStamp)()-s;break;default:s=F(String(n)),l=void 0!==o?F(o)-s:(0,r(d[12]).getCurrentTimeStamp)()-s}else s=0,l=void 0!==o?F(o)-s:(0,r(d[12]).getCurrentTimeStamp)()-s;x.name=u,x.startTime=s,x.duration=l,x.detail=f;var k=new(r(d[13]).PerformanceMeasure)(x);return h(u,s,l,k),k}},{key:"clearMeasures",value:function(t){E(t)}},{key:"getEntries",value:function(){return k.getEntries().map(r(d[14]).rawToPerformanceEntry)}},{key:"getEntriesByType",value:function(t){return null==t||T.includes(t)?k.getEntriesByType((0,r(d[14]).performanceEntryTypeToRaw)(t)).map(r(d[14]).rawToPerformanceEntry):(console.warn('Deprecated API for given entry type.'),[])}},{key:"getEntriesByName",value:function(t,n){return null==n||T.includes(n)?k.getEntriesByName(t,null!=n?(0,r(d[14]).performanceEntryTypeToRaw)(n):void 0).map(r(d[14]).rawToPerformanceEntry):(console.warn('Deprecated API for given entry type.'),[])}}])})();(e.Performance_public=function(){throw new TypeError("Failed to construct 'Performance': Illegal constructor")}).prototype=C.prototype,(0,r(d[15]).setPlatformObject)(C)},142,[1,11,12,26,27,143,148,149,150,151,81,152,154,156,157,119]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),o=e(r(d[2])),E=e(r(d[3])),R=e(r(d[4])),n=e(r(d[5])),u=e(r(d[6])),_=e(r(d[7])),l=e(r(d[8]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var f={IndexSizeError:1,HierarchyRequestError:3,WrongDocumentError:4,InvalidCharacterError:5,NoModificationAllowedError:7,NotFoundError:8,NotSupportedError:9,InUseAttributeError:10,InvalidStateError:11,SyntaxError:12,InvalidModificationError:13,NamespaceError:14,InvalidAccessError:15,TypeMismatchError:17,SecurityError:18,NetworkError:19,AbortError:20,URLMismatchError:21,QuotaExceededError:22,TimeoutError:23,InvalidNodeTypeError:24,DataCloneError:25},I={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},A=(0,l.default)("name"),T=(0,l.default)("code"),N=_e.default=(function(e){function u(e,o){var n,l,I,N,O;((0,t.default)(this,u),l=this,I=u,N=[e],I=(0,R.default)(I),n=(0,E.default)(l,c()?Reflect.construct(I,N||[],(0,R.default)(l).constructor):I.apply(l,N)),Object.defineProperty(n,A,{writable:!0,value:void 0}),Object.defineProperty(n,T,{writable:!0,value:void 0}),void 0===o)?((0,_.default)(n,A)[A]='Error',(0,_.default)(n,T)[T]=0):((0,_.default)(n,A)[A]=String(o),(0,_.default)(n,T)[T]=null!=(O=f[n.name])?O:0);return n}return(0,n.default)(u,e),(0,o.default)(u,[{key:"name",get:function(){return(0,_.default)(this,A)[A]}},{key:"code",get:function(){return(0,_.default)(this,T)[T]}}])})((0,u.default)(Error));for(var O in I)Object.defineProperty(N,O,{enumerable:!0,value:I[O]}),Object.defineProperty(N.prototype,O,{enumerable:!0,value:I[O]});(0,r(d[9]).setPlatformObject)(N,{clone:function(e){return new N(e.message,e.name)}})},143,[1,11,12,18,20,23,144,26,27,119]);
__d(function(g,_r,i,a,m,e,d){function t(r){var o="function"==typeof Map?new Map:void 0;return m.exports=t=function(t){if(null===t||!_r(d[0])(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,r)}function r(){return _r(d[1])(t,arguments,_r(d[2])(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_r(d[3])(r,t)},m.exports.__esModule=!0,m.exports.default=m.exports,t(r)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},144,[145,146,20,24]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}},m.exports.__esModule=!0,m.exports.default=m.exports},145,[]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(t,e,p){if(_r(d[0])())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var n=new(t.bind.apply(t,r));return p&&_r(d[1])(n,p.prototype),n},m.exports.__esModule=!0,m.exports.default=m.exports},146,[147,24]);
__d(function(g,r,i,a,m,e,d){function t(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(o){}return(m.exports=t=function(){return!!o},m.exports.__esModule=!0,m.exports.default=m.exports)()}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},147,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){try{return l(t)}finally{u.clear()}};var n=t(r(d[1])),o=t(r(d[2])),f=new Set(['Error','EvalError','RangeError','ReferenceError','SyntaxError','TypeError','URIError']),s=[Number,String,Boolean,Date],c=Object.prototype,u=new Map;function l(t){if(null==t)return t;switch(typeof t){case'boolean':case'number':case'string':case'bigint':return t}if('object'!=typeof t)throw new o.default(`Failed to execute 'structuredClone' on 'Window': ${String(t)} could not be cloned.`,'DataCloneError');if(u.has(t))return u.get(t);if(Array.isArray(t)){var b=[];for(var y of(u.set(t,b),Object.keys(t)))b[y]=l(t[y]);return b}if(Object.getPrototypeOf(t)===c){var E={};for(var p of(u.set(t,E),Object.keys(t)))E[p]=l(t[p]);return E}for(var w of s)if(t instanceof w){var j=new w(t);return u.set(t,j),j}if(t instanceof Map){var O=new Map;for(var S of(u.set(t,O),t)){var k=(0,n.default)(S,2),h=k[0],x=k[1];O.set(l(h),l(x))}return O}if(t instanceof Set){var C=new Set;for(var M of(u.set(t,C),t))C.add(l(M));return C}if(t instanceof RegExp){var P=new RegExp(t.source,t.flags);return u.set(t,P),P}var R=(0,r(d[3]).getPlatformObjectClone)(t);if(null!=R){var W=R(t);return u.set(t,W),W}if(t instanceof Error){var _=t.cause?new Error(t.message,{cause:t.cause}):new Error(t.message);return u.set(t,_),f.has(t.name)?_.name=t.name:_.name='Error',_.stack=t.stack,_}if(v in t||(0,r(d[3]).isPlatformObject)(t))throw new o.default(`Failed to execute 'structuredClone' on 'Window': ${String(t)} could not be cloned.`,'DataCloneError');var D={};for(var A of(u.set(t,D),Object.keys(t)))D[A]=l(t[A]);return D}var v=Symbol('nonSerializableObject');function b(t){t.prototype[v]=!0}b(WeakMap),b(WeakSet),b(Promise)},148,[1,34,143,119]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),l=t(r(d[2])),f=t(r(d[3])),n=t(r(d[4])),o=(0,n.default)("jsHeapSizeLimit"),s=(0,n.default)("totalJSHeapSize"),S=(0,n.default)("usedJSHeapSize"),p=e.default=(function(){return(0,l.default)(function t(l){(0,u.default)(this,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),null!=l&&((0,f.default)(this,o)[o]=l.jsHeapSizeLimit,(0,f.default)(this,s)[s]=l.totalJSHeapSize,(0,f.default)(this,S)[S]=l.usedJSHeapSize)},[{key:"jsHeapSizeLimit",get:function(){return(0,f.default)(this,o)[o]}},{key:"totalJSHeapSize",get:function(){return(0,f.default)(this,s)[s]}},{key:"usedJSHeapSize",get:function(){return(0,f.default)(this,S)[S]}}])})();(0,r(d[5]).setPlatformObject)(p)},149,[1,11,12,26,27,119]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),f=t(r(d[4])),o=(0,f.default)("startTime"),c=(0,f.default)("initializeRuntimeStart"),s=(0,f.default)("executeJavaScriptBundleEntryPointStart"),v=(0,f.default)("endTime"),h=e.default=(function(){return(0,n.default)(function t(n){(0,u.default)(this,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),null!=n&&((0,l.default)(this,o)[o]=n.startTime,(0,l.default)(this,c)[c]=n.initializeRuntimeStart,(0,l.default)(this,s)[s]=n.executeJavaScriptBundleEntryPointStart,(0,l.default)(this,v)[v]=n.endTime)},[{key:"startTime",get:function(){return(0,l.default)(this,o)[o]}},{key:"endTime",get:function(){return(0,l.default)(this,v)[v]}},{key:"initializeRuntimeStart",get:function(){return(0,l.default)(this,c)[c]}},{key:"executeJavaScriptBundleEntryPointStart",get:function(){return(0,l.default)(this,s)[s]}}])})();(0,r(d[5]).setPlatformObject)(h)},150,[1,11,12,26,27,119]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('NativePerformanceCxx')},151,[31]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PerformanceEventTiming_public=_e.PerformanceEventTiming=_e.EventCounts_public=_e.EventCounts=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),c=t(_r(d[6])),l=t(_r(d[7])),f=t(_r(d[8])),s=t(_r(d[9]));function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}var p,y=(0,t(_r(d[10])).default)(s.default),E=(0,f.default)("processingStart"),h=(0,f.default)("processingEnd"),k=(0,f.default)("interactionId"),b=_e.PerformanceEventTiming=(function(t){function f(t){var n,o,c,s,p,y,b;return(0,e.default)(this,f),p=this,y=f,b=['event',t],y=(0,u.default)(y),s=(0,r.default)(p,v()?Reflect.construct(y,b||[],(0,u.default)(p).constructor):y.apply(p,b)),Object.defineProperty(s,E,{writable:!0,value:void 0}),Object.defineProperty(s,h,{writable:!0,value:void 0}),Object.defineProperty(s,k,{writable:!0,value:void 0}),(0,l.default)(s,E)[E]=null!=(n=t.processingStart)?n:0,(0,l.default)(s,h)[h]=null!=(o=t.processingEnd)?o:0,(0,l.default)(s,k)[k]=null!=(c=t.interactionId)?c:0,s}return(0,c.default)(f,t),(0,n.default)(f,[{key:"processingStart",get:function(){return(0,l.default)(this,E)[E]}},{key:"processingEnd",get:function(){return(0,l.default)(this,h)[h]}},{key:"interactionId",get:function(){return(0,l.default)(this,k)[k]}},{key:"toJSON",value:function(){return Object.assign({},(t=f,e="toJSON",n=this,r=3,c=(0,o.default)((0,u.default)(1&r?t.prototype:t),e,n),2&r&&"function"==typeof c?function(t){return c.apply(n,t)}:c)([]),{processingStart:(0,l.default)(this,E)[E],processingEnd:(0,l.default)(this,h)[h],interactionId:(0,l.default)(this,k)[k]});var t,e,n,r,c}}])})(_r(d[11]).PerformanceEntry);function P(){var t;if(p)return p;var e=new Map(null!=(t=y.getEventCounts())?t:[]);return p=e,g.queueMicrotask(function(){p=null}),e}(_e.PerformanceEventTiming_public=function(){throw new TypeError("Failed to construct 'PerformanceEventTiming': Illegal constructor")}).prototype=b.prototype;var w=_e.EventCounts=(function(){return(0,n.default)(function t(){(0,e.default)(this,t)},[{key:"size",get:function(){return P().size}},{key:"entries",value:function(){return P().entries()}},{key:"forEach",value:function(t){return P().forEach(t)}},{key:"get",value:function(t){return P().get(t)}},{key:"has",value:function(t){return P().has(t)}},{key:"keys",value:function(){return P().keys()}},{key:"values",value:function(){return P().values()}}])})();(_e.EventCounts_public=function(){throw new TypeError("Failed to construct 'EventCounts': Illegal constructor")}).prototype=w.prototype},152,[1,11,12,18,20,21,23,26,27,151,81,153]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceEntry_public=e.PerformanceEntry=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=e.PerformanceEntry=(function(){return(0,o.default)(function t(o,u){(0,n.default)(this,t),this.__entryType=o,this.__name=u.name,this.__startTime=u.startTime,this.__duration=u.duration},[{key:"name",get:function(){return this.__name}},{key:"entryType",get:function(){return this.__entryType}},{key:"startTime",get:function(){return this.__startTime}},{key:"duration",get:function(){return this.__duration}},{key:"toJSON",value:function(){return{name:this.__name,entryType:this.__entryType,startTime:this.__startTime,duration:this.__duration}}}])})();(e.PerformanceEntry_public=function(){throw new TypeError("Failed to construct 'PerformanceEntry': Illegal constructor")}).prototype=u.prototype,(0,r(d[3]).setPlatformObject)(u)},153,[1,11,12,119]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentTimeStamp=void 0,e.warnNoNativePerformance=function(){(0,u.default)('missing-native-performance','Missing native implementation of Performance')};var t,o,u=n(r(d[1])),f=n(r(d[2]));e.getCurrentTimeStamp=null!=(t=null!=(o=null==f.default?void 0:f.default.now)?o:g.nativePerformanceNow)?t:function(){return Date.now()}},154,[1,155,151]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={};e.default=function(n,o){t[n]||(console.warn(o),t[n]=!0)}},155,[]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PerformanceMeasure_public=_e.PerformanceMeasure=_e.PerformanceMark=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5]));function c(t,e,n){return e=(0,l.default)(e),(0,u.default)(t,f()?Reflect.construct(e,n||[],(0,l.default)(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}var s=(function(t){function u(t,n){var l,o,f;return(0,e.default)(this,u),(f=c(this,u,['mark',{name:t,startTime:null!=(l=null==n?void 0:n.startTime)?l:(0,r(d[6]).getCurrentTimeStamp)(),duration:0}])).__detail=null!=(o=null==n?void 0:n.detail)?o:null,f}return(0,o.default)(u,t),(0,n.default)(u,[{key:"detail",get:function(){return this.__detail}}])})(r(d[7]).PerformanceEntry);(_e.PerformanceMark=function(t,e){var n,u;this.__entryType='mark',this.__name=t,this.__startTime=null!=(n=null==e?void 0:e.startTime)?n:(0,r(d[6]).getCurrentTimeStamp)(),this.__duration=0,this.__detail=null!=(u=null==e?void 0:e.detail)?u:null}).prototype=s.prototype;var _=(function(t){function u(t){var n,l;return(0,e.default)(this,u),(l=c(this,u,['measure',t])).__detail=null!=(n=null==t?void 0:t.detail)?n:null,l}return(0,o.default)(u,t),(0,n.default)(u,[{key:"detail",get:function(){return this.__detail}}])})(r(d[7]).PerformanceEntry),p=_e.PerformanceMeasure=function(t){var e;this.__entryType='measure',this.__name=t.name,this.__startTime=t.startTime,this.__duration=t.duration,this.__detail=null!=(e=t.detail)?e:null};p.prototype=_.prototype,(_e.PerformanceMeasure_public=function(){throw new TypeError("Failed to construct 'PerformanceMeasure': Illegal constructor")}).prototype=p.prototype},156,[1,11,12,18,20,23,154,153]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.RawPerformanceEntryTypeValues=void 0,e.performanceEntryTypeToRaw=function(t){switch(t){case'mark':return n.MARK;case'measure':return n.MEASURE;case'event':return n.EVENT;case'longtask':return n.LONGTASK;case'resource':return n.RESOURCE;default:throw new TypeError(`performanceEntryTypeToRaw: unexpected performance entry type received: ${t}`)}},e.rawToPerformanceEntry=function(o){var c,s,u,E,T,p,y,l,S,f;switch(o.entryType){case n.EVENT:return new(r(d[0]).PerformanceEventTiming)({name:o.name,startTime:o.startTime,duration:o.duration,processingStart:o.processingStart,processingEnd:o.processingEnd,interactionId:o.interactionId});case n.LONGTASK:return new(r(d[1]).PerformanceLongTaskTiming)({name:o.name,startTime:o.startTime,duration:o.duration});case n.MARK:return new(r(d[2]).PerformanceMark)(o.name,{startTime:o.startTime});case n.MEASURE:return new(r(d[2]).PerformanceMeasure)({name:o.name,startTime:o.startTime,duration:o.duration});case n.RESOURCE:return new(r(d[3]).PerformanceResourceTiming)({name:o.name,startTime:o.startTime,duration:o.duration,fetchStart:null!=(c=o.fetchStart)?c:0,requestStart:null!=(s=o.requestStart)?s:0,connectStart:null!=(u=o.connectStart)?u:0,connectEnd:null!=(E=o.connectEnd)?E:0,responseStart:null!=(T=o.responseStart)?T:0,responseEnd:null!=(p=o.responseEnd)?p:0,responseStatus:null!=(y=o.responseStatus)?y:0,contentType:null!=(l=o.contentType)?l:'',encodedBodySize:null!=(S=o.encodedBodySize)?S:0,decodedBodySize:null!=(f=o.decodedBodySize)?f:0});default:return new(r(d[4]).PerformanceEntry)(t(o.entryType),{name:o.name,startTime:o.startTime,duration:o.duration})}},e.rawToPerformanceEntryType=t;var n=e.RawPerformanceEntryTypeValues={MARK:1,MEASURE:2,EVENT:3,LONGTASK:4,RESOURCE:5};function t(t){switch(t){case n.MARK:return'mark';case n.MEASURE:return'measure';case n.EVENT:return'event';case n.LONGTASK:return'longtask';case n.RESOURCE:return'resource';default:throw new TypeError(`rawToPerformanceEntryType: unexpected performance entry type received: ${t}`)}}},157,[152,158,156,159,153]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TaskAttributionTiming_public=_e.TaskAttributionTiming=_e.PerformanceLongTaskTiming_public=_e.PerformanceLongTaskTiming=void 0;var n=t(_r(d[1])),r=t(_r(d[2])),o=t(_r(d[3])),e=t(_r(d[4])),u=t(_r(d[5])),c=t(_r(d[6]));function f(t,n,r){return n=(0,u.default)(n),(0,e.default)(t,l()?Reflect.construct(n,r||[],(0,u.default)(t).constructor):n.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}var s=_e.TaskAttributionTiming=(function(t){function n(){return(0,o.default)(this,n),f(this,n,arguments)}return(0,c.default)(n,t),(0,r.default)(n)})(_r(d[7]).PerformanceEntry);(_e.TaskAttributionTiming_public=function(){throw new TypeError("Failed to construct 'TaskAttributionTiming': Illegal constructor")}).prototype=s.prototype;var p=Object.preventExtensions([]),T=_e.PerformanceLongTaskTiming=(function(t){function e(t){return(0,o.default)(this,e),f(this,e,['longtask',t])}return(0,c.default)(e,t),(0,r.default)(e,[{key:"attribution",get:function(){return p}},{key:"toJSON",value:function(){return Object.assign({},(t=e,r="toJSON",o=this,c=3,f=(0,n.default)((0,u.default)(1&c?t.prototype:t),r,o),2&c&&"function"==typeof f?function(t){return f.apply(o,t)}:f)([]),{attribution:this.attribution});var t,r,o,c,f}}])})(_r(d[7]).PerformanceEntry);(_e.PerformanceLongTaskTiming_public=function(){throw new TypeError("Failed to construct 'PerformanceLongTaskTiming': Illegal constructor")}).prototype=T.prototype},158,[1,21,12,11,18,20,23,153]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PerformanceResourceTiming_public=_e.PerformanceResourceTiming=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),u=e(_r(d[5])),c=e(_r(d[6])),f=e(_r(d[7])),l=e(_r(d[8]));function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}var y=(0,l.default)("fetchStart"),p=(0,l.default)("requestStart"),S=(0,l.default)("connectStart"),v=(0,l.default)("connectEnd"),h=(0,l.default)("responseStart"),b=(0,l.default)("responseEnd"),P=(0,l.default)("responseStatus"),O=(0,l.default)("contentType"),j=(0,l.default)("encodedBodySize"),w=(0,l.default)("decodedBodySize"),B=_e.PerformanceResourceTiming=(function(e){function l(e){var n,u,c,B;return(0,t.default)(this,l),u=this,c=l,B=['resource',e],c=(0,o.default)(c),n=(0,r.default)(u,s()?Reflect.construct(c,B||[],(0,o.default)(u).constructor):c.apply(u,B)),Object.defineProperty(n,y,{writable:!0,value:void 0}),Object.defineProperty(n,p,{writable:!0,value:void 0}),Object.defineProperty(n,S,{writable:!0,value:void 0}),Object.defineProperty(n,v,{writable:!0,value:void 0}),Object.defineProperty(n,h,{writable:!0,value:void 0}),Object.defineProperty(n,b,{writable:!0,value:void 0}),Object.defineProperty(n,P,{writable:!0,value:void 0}),Object.defineProperty(n,O,{writable:!0,value:void 0}),Object.defineProperty(n,j,{writable:!0,value:void 0}),Object.defineProperty(n,w,{writable:!0,value:void 0}),(0,f.default)(n,y)[y]=e.fetchStart,(0,f.default)(n,p)[p]=e.requestStart,(0,f.default)(n,S)[S]=e.connectStart,(0,f.default)(n,v)[v]=e.connectEnd,(0,f.default)(n,h)[h]=e.responseStart,(0,f.default)(n,b)[b]=e.responseEnd,(0,f.default)(n,P)[P]=e.responseStatus,(0,f.default)(n,O)[O]=e.contentType,(0,f.default)(n,j)[j]=e.encodedBodySize,(0,f.default)(n,w)[w]=e.decodedBodySize,n}return(0,c.default)(l,e),(0,n.default)(l,[{key:"fetchStart",get:function(){return(0,f.default)(this,y)[y]}},{key:"requestStart",get:function(){return(0,f.default)(this,p)[p]}},{key:"connectStart",get:function(){return(0,f.default)(this,S)[S]}},{key:"connectEnd",get:function(){return(0,f.default)(this,v)[v]}},{key:"responseStart",get:function(){return(0,f.default)(this,h)[h]}},{key:"responseEnd",get:function(){return(0,f.default)(this,b)[b]}},{key:"responseStatus",get:function(){return(0,f.default)(this,P)[P]}},{key:"contentType",get:function(){return(0,f.default)(this,O)[O]}},{key:"encodedBodySize",get:function(){return(0,f.default)(this,j)[j]}},{key:"decodedBodySize",get:function(){return(0,f.default)(this,w)[w]}},{key:"toJSON",value:function(){return Object.assign({},(e=l,t="toJSON",n=this,r=3,c=(0,u.default)((0,o.default)(1&r?e.prototype:e),t,n),2&r&&"function"==typeof c?function(e){return c.apply(n,e)}:c)([]),{fetchStart:(0,f.default)(this,y)[y],requestStart:(0,f.default)(this,p)[p],connectStart:(0,f.default)(this,S)[S],connectEnd:(0,f.default)(this,v)[v],responseStart:(0,f.default)(this,h)[h],responseEnd:(0,f.default)(this,b)[b],responseStatus:(0,f.default)(this,P)[P],contentType:this.contentType,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize});var e,t,n,r,c}}])})(_r(d[9]).PerformanceEntry);(_e.PerformanceResourceTiming_public=function(){throw new TypeError("Failed to construct 'PerformanceResourceTiming': Illegal constructor")}).prototype=B.prototype},159,[1,11,12,18,20,21,23,26,27,153]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"PerformanceEntry",{enumerable:!0,get:function(){return r(d[1]).PerformanceEntry}}),Object.defineProperty(e,"PerformanceEventTiming",{enumerable:!0,get:function(){return r(d[2]).PerformanceEventTiming}}),e.PerformanceObserverEntryList_public=e.PerformanceObserverEntryList=e.PerformanceObserver=void 0;var n=t(r(d[3])),o=t(r(d[4])),u=t(r(d[5])),s=t(r(d[6])),f=t(r(d[7])),l=t(r(d[8])),c=(0,l.default)(f.default),y=(0,s.default)("entries"),v=e.PerformanceObserverEntryList=(function(){return(0,o.default)(function t(o){(0,n.default)(this,t),Object.defineProperty(this,y,{writable:!0,value:void 0}),(0,u.default)(this,y)[y]=o},[{key:"getEntries",value:function(){return(0,u.default)(this,y)[y]}},{key:"getEntriesByType",value:function(t){return(0,u.default)(this,y)[y].filter(function(n){return n.entryType===t})}},{key:"getEntriesByName",value:function(t,n){return void 0===n?(0,u.default)(this,y)[y].filter(function(n){return n.name===t}):(0,u.default)(this,y)[y].filter(function(o){return o.name===t&&o.entryType===n})}}])})();(e.PerformanceObserverEntryList_public=function(){throw new TypeError("Failed to construct 'PerformanceObserverEntryList': Illegal constructor")}).prototype=v.prototype;var p=(0,s.default)("nativeObserverHandle"),b=(0,s.default)("callback"),h=(0,s.default)("type"),T=(0,s.default)("calledAtLeastOnce"),P=(0,s.default)("createNativeObserver"),O=(0,s.default)("validateObserveOptions");function E(){var t=this;(0,u.default)(this,T)[T]=!1;var n=c.createObserver(function(){var o=c.takeRecords(n,!0);if(o&&0!==o.length){var s=o.map(r(d[9]).rawToPerformanceEntry),f=new v(s),l=0;(0,u.default)(t,T)[T]||(l=c.getDroppedEntriesCount(n),(0,u.default)(t,T)[T]=!0),(0,u.default)(t,b)[b](f,t,{droppedEntriesCount:l})}});return n}function w(t){var n=t.type,o=t.entryTypes,s=t.durationThreshold;if(!n&&!o)throw new TypeError("Failed to execute 'observe' on 'PerformanceObserver': An observe() call must not include both entryTypes and type arguments.");if(o&&n)throw new TypeError("Failed to execute 'observe' on 'PerformanceObserver': An observe() call must include either entryTypes or type arguments.");if('multiple'===(0,u.default)(this,h)[h]&&n)throw new Error("Failed to execute 'observe' on 'PerformanceObserver': This observer has performed observe({entryTypes:...}, therefore it cannot perform observe({type:...})");if('single'===(0,u.default)(this,h)[h]&&o)throw new Error("Failed to execute 'observe' on 'PerformanceObserver': This PerformanceObserver has performed observe({type:...}, therefore it cannot perform observe({entryTypes:...})");if(o&&null!=s)throw new TypeError("Failed to execute 'observe' on 'PerformanceObserver': An observe() call must not include both entryTypes and durationThreshold arguments.")}(e.PerformanceObserver=(function(){return(0,o.default)(function t(o){(0,n.default)(this,t),Object.defineProperty(this,O,{value:w}),Object.defineProperty(this,P,{value:E}),Object.defineProperty(this,p,{writable:!0,value:null}),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:!1}),(0,u.default)(this,b)[b]=o},[{key:"observe",value:function(t){(0,u.default)(this,O)[O](t),null==(0,u.default)(this,p)[p]&&((0,u.default)(this,p)[p]=(0,u.default)(this,P)[P]());var n=(0,l.default)((0,u.default)(this,p)[p]);t.entryTypes?((0,u.default)(this,h)[h]='multiple',c.observe(n,{entryTypes:t.entryTypes.map(r(d[9]).performanceEntryTypeToRaw)})):t.type&&((0,u.default)(this,h)[h]='single',c.observe(n,{type:(0,r(d[9]).performanceEntryTypeToRaw)(t.type),buffered:t.buffered,durationThreshold:t.durationThreshold}))}},{key:"disconnect",value:function(){null!=(0,u.default)(this,p)[p]&&c.disconnect((0,u.default)(this,p)[p])}},{key:"takeRecords",value:function(){var t=[];if(null!=(0,u.default)(this,p)[p]){var n=c.takeRecords((0,u.default)(this,p)[p],!0);n&&n.length>0&&(t=n.map(r(d[9]).rawToPerformanceEntry))}return t}}])})()).supportedEntryTypes=Object.freeze(c.getSupportedPerformanceEntryTypes().map(r(d[9]).rawToPerformanceEntryType))},160,[1,153,152,11,12,26,27,151,81,157]);
__d(function(g,r,i,a,m,e,d){'use strict';var l;if(null!=(l=g)&&null!=(l=l.HermesInternal)&&null!=l.hasPromise&&l.hasPromise())g.Promise;else r(d[0]).polyfillGlobal('Promise',function(){return r(d[1]).default})},161,[116,162]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));r(d[2]);e.default=u.default},162,[1,163,165]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=r(d[0]);var n=c(!0),t=c(!1),o=c(null),f=c(void 0),u=c(0),i=c('');function c(n){var t=new(r(d[0]))(r(d[0])._D);return t._y=1,t._z=n,t}r(d[0]).resolve=function(l){if(l instanceof r(d[0]))return l;if(null===l)return o;if(void 0===l)return f;if(!0===l)return n;if(!1===l)return t;if(0===l)return u;if(''===l)return i;if('object'==typeof l||'function'==typeof l)try{var y=l.then;if('function'==typeof y)return new(r(d[0]))(y.bind(l))}catch(n){return new(r(d[0]))(function(t,o){o(n)})}return c(l)};var l=function(n){return'function'==typeof Array.from?(l=Array.from,Array.from(n)):(l=function(n){return Array.prototype.slice.call(n)},Array.prototype.slice.call(n))};function y(n){return{status:'fulfilled',value:n}}function h(n){return{status:'rejected',reason:n}}function p(n){if(n&&('object'==typeof n||'function'==typeof n)){if(n instanceof r(d[0])&&n.then===r(d[0]).prototype.then)return n.then(y,h);var t=n.then;if('function'==typeof t)return new(r(d[0]))(t.bind(n)).then(y,h)}return y(n)}function s(n){if('function'==typeof AggregateError)return new AggregateError(n,'All promises were rejected');var t=new Error('All promises were rejected');return t.name='AggregateError',t.errors=n,t}r(d[0]).all=function(n){var t=l(n);return new(r(d[0]))(function(n,o){if(0===t.length)return n([]);var f=t.length;function u(i,c){if(c&&('object'==typeof c||'function'==typeof c)){if(c instanceof r(d[0])&&c.then===r(d[0]).prototype.then){for(;3===c._y;)c=c._z;return 1===c._y?u(i,c._z):(2===c._y&&o(c._z),void c.then(function(n){u(i,n)},o))}var l=c.then;if('function'==typeof l)return void new(r(d[0]))(l.bind(c)).then(function(n){u(i,n)},o)}t[i]=c,0===--f&&n(t)}for(var i=0;i<t.length;i++)u(i,t[i])})},r(d[0]).allSettled=function(n){return r(d[0]).all(l(n).map(p))},r(d[0]).reject=function(n){return new(r(d[0]))(function(t,o){o(n)})},r(d[0]).race=function(n){return new(r(d[0]))(function(t,o){l(n).forEach(function(n){r(d[0]).resolve(n).then(t,o)})})},r(d[0]).prototype.catch=function(n){return this.then(null,n)},r(d[0]).any=function(n){return new(r(d[0]))(function(t,o){var f=l(n),u=!1,i=[];function c(n){u||(u=!0,t(n))}function y(n){i.push(n),i.length===f.length&&o(s(i))}0===f.length?o(s(i)):f.forEach(function(n){r(d[0]).resolve(n).then(c,y)})})}},163,[164]);
__d(function(g,r,_i,_a,m,e,d){'use strict';function n(){}var t=null,o={};function i(n){try{return n.then}catch(n){return t=n,o}}function u(n,i){try{return n(i)}catch(n){return t=n,o}}function f(n,i,u){try{n(i,u)}catch(n){return t=n,o}}function c(t){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');if('function'!=typeof t)throw new TypeError('Promise constructor\'s argument is not a function');this._x=0,this._y=0,this._z=null,this._A=null,t!==n&&v(t,this)}function _(t,o,i){return new t.constructor(function(u,f){var _=new c(n);_.then(u,f),s(t,new a(o,i,_))})}function s(n,t){for(;3===n._y;)n=n._z;if(c._B&&c._B(n),0===n._y)return 0===n._x?(n._x=1,void(n._A=t)):1===n._x?(n._x=2,void(n._A=[n._A,t])):void n._A.push(t);l(n,t)}function l(n,i){setImmediate(function(){var f=1===n._y?i.onFulfilled:i.onRejected;if(null!==f){var c=u(f,n._z);c===o?y(i.promise,t):h(i.promise,c)}else 1===n._y?h(i.promise,n._z):y(i.promise,n._z)})}function h(n,u){if(u===n)return y(n,new TypeError('A promise cannot be resolved with itself.'));if(u&&('object'==typeof u||'function'==typeof u)){var f=i(u);if(f===o)return y(n,t);if(f===n.then&&u instanceof c)return n._y=3,n._z=u,void p(n);if('function'==typeof f)return void v(f.bind(u),n)}n._y=1,n._z=u,p(n)}function y(n,t){n._y=2,n._z=t,c._C&&c._C(n,t),p(n)}function p(n){if(1===n._x&&(s(n,n._A),n._A=null),2===n._x){for(var t=0;t<n._A.length;t++)s(n,n._A[t]);n._A=null}}function a(n,t,o){this.onFulfilled='function'==typeof n?n:null,this.onRejected='function'==typeof t?t:null,this.promise=o}function v(n,i){var u=!1,c=f(n,function(n){u||(u=!0,h(i,n))},function(n){u||(u=!0,y(i,n))});u||c!==o||(u=!0,y(i,t))}m.exports=c,c._B=null,c._C=null,c._D=n,c.prototype.then=function(t,o){if(this.constructor!==c)return _(this,t,o);var i=new c(n);return s(this,new a(t,o,i)),i}},164,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0]),r(d[0]).prototype.finally=function(n){return this.then(function(t){return r(d[0]).resolve(n()).then(function(){return t})},function(t){return r(d[0]).resolve(n()).then(function(){throw t})})}},165,[164]);
__d(function(g,r,i,a,m,e,d){'use strict';if(!0===g.RN$Bridgeless)g.RN$enableMicrotasksInReact=!0,r(d[0]).polyfillGlobal('queueMicrotask',function(){return r(d[1]).default.queueMicrotask}),r(d[0]).polyfillGlobal('setImmediate',function(){return r(d[2]).setImmediate}),r(d[0]).polyfillGlobal('clearImmediate',function(){return r(d[2]).clearImmediate}),r(d[0]).polyfillGlobal('requestIdleCallback',function(){return r(d[3]).default.requestIdleCallback}),r(d[0]).polyfillGlobal('cancelIdleCallback',function(){return r(d[3]).default.cancelIdleCallback});else{var l=function(l){r(d[0]).polyfillGlobal(l,function(){return r(d[4]).default[l]})};l('setTimeout'),l('clearTimeout'),l('setInterval'),l('clearInterval'),l('requestAnimationFrame'),l('cancelAnimationFrame'),l('requestIdleCallback'),l('cancelIdleCallback'),r(d[0]).polyfillGlobal('queueMicrotask',function(){return r(d[5]).default}),r(d[0]).polyfillGlobal('setImmediate',function(){return r(d[4]).default.queueReactNativeMicrotask}),r(d[0]).polyfillGlobal('clearImmediate',function(){return r(d[4]).default.clearReactNativeMicrotask})}},166,[116,167,168,169,170,173]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('NativeMicrotasksCxx')},167,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.clearImmediate=function(t){n.add(t)},e.setImmediate=function(o){for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];if(arguments.length<1)throw new TypeError('setImmediate must be called with at least one argument (a function to call)');if('function'!=typeof o)throw new TypeError('The first argument to setImmediate must be a function.');var l=t++;n.has(l)&&n.delete(l);return g.queueMicrotask(function(){n.has(l)?n.delete(l):o.apply(void 0,c)}),l};var t=1,n=new Set},168,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('NativeIdleCallbacksCxx')},169,[31]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=16.666666666666668,i=[],l=[],o=[],c=[],u=[],f=[],s={},v=1,h=[],T=!1;function k(e,t){var n,u=v++,f=void 0===(n=c.pop())?o.length:n;return o[f]=u,i[f]=e,l[f]=t,u}function p(e,t,c){e>v&&console.warn('Tried to call timer with ID %s but no such timer exists.',e);var u=o.indexOf(e);if(-1!==u){var f=l[u],s=i[u];if(s&&f){'setInterval'!==f&&b(u);try{'setTimeout'===f||'setInterval'===f||'queueReactNativeMicrotask'===f?s():'requestAnimationFrame'===f?s(g.performance.now()):'requestIdleCallback'===f?s({timeRemaining:function(){return Math.max(0,n-(g.performance.now()-t))},didTimeout:!!c}):console.error('Tried to call a callback with invalid type: '+f)}catch(e){h.push(e)}}else console.error('No callback found for timerID '+e)}}function w(){if(0===u.length)return!1;var e=u;u=[];for(var t=0;t<e.length;++t)p(e[t],0);return u.length>0}function b(e){o[e]=null,i[e]=null,l[e]=null,c.push(e)}function N(e){if(null!=e){var t=o.indexOf(e);if(-1!==t){var n=l[t];b(t),'queueReactNativeMicrotask'!==n&&'requestIdleCallback'!==n&&R(e)}}}var I,M={setTimeout:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];var o=k(function(){return e.apply(void 0,i)},'setTimeout');return q(o,t||0,Date.now(),!1),o},setInterval:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];var o=k(function(){return e.apply(void 0,i)},'setInterval');return q(o,t||0,Date.now(),!0),o},queueReactNativeMicrotask:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var l=k(function(){return e.apply(void 0,n)},'queueReactNativeMicrotask');return u.push(l),l},requestAnimationFrame:function(e){var t=k(e,'requestAnimationFrame');return q(t,1,Date.now(),!1),t},requestIdleCallback:function(e,t){0===f.length&&y(!0);var n=t&&t.timeout,i=k(null!=n?function(t){var n=s[i];return n&&(M.clearTimeout(n),delete s[i]),e(t)}:e,'requestIdleCallback');if(f.push(i),null!=n){var l=M.setTimeout(function(){var e=f.indexOf(i);e>-1&&(f.splice(e,1),p(i,g.performance.now(),!0)),delete s[i],0===f.length&&y(!1)},n);s[i]=l}return i},cancelIdleCallback:function(e){N(e);var t=f.indexOf(e);-1!==t&&f.splice(t,1);var n=s[e];n&&(M.clearTimeout(n),delete s[e]),0===f.length&&y(!1)},clearTimeout:function(e){N(e)},clearInterval:function(e){N(e)},clearReactNativeMicrotask:function(e){N(e);var t=u.indexOf(e);-1!==t&&u.splice(t,1)},cancelAnimationFrame:function(e){N(e)},callTimers:function(e){r(d[2])(0!==e.length,'Cannot call `callTimers` with an empty list of IDs.'),h.length=0;for(var t=0;t<e.length;t++)p(e[t],0);var n=h.length;if(n>0){if(n>1)for(var i=1;i<n;i++)M.setTimeout(function(e){throw e}.bind(null,h[i]),0);throw h[0]}},callIdleCallbacks:function(e){if(!(n-(Date.now()-e)<1)){if(h.length=0,f.length>0){var t=f;f=[];for(var i=0;i<t.length;++i)p(t[i],e)}0===f.length&&y(!1),h.forEach(function(e){return M.setTimeout(function(){throw e},0)})}},callReactNativeMicrotasks:function(){for(h.length=0;w(););h.forEach(function(e){return M.setTimeout(function(){throw e},0)})},emitTimeDriftWarning:function(e){T||(T=!0,console.warn(e))}};function q(e,n,i,l){r(d[2])(t.default,'NativeTiming is available'),t.default.createTimer(e,n,i,l)}function R(e){r(d[2])(t.default,'NativeTiming is available'),t.default.deleteTimer(e)}function y(e){r(d[2])(t.default,'NativeTiming is available'),t.default.setSendIdleEvents(e)}t.default?I=M:(console.warn("Timing native module is not available, can't set timers."),I={callReactNativeMicrotasks:M.callReactNativeMicrotasks,queueReactNativeMicrotask:M.queueReactNativeMicrotask}),r(d[3]).default.setReactNativeMicrotasksCallback(M.callReactNativeMicrotasks);_e.default=I},170,[1,171,32,40]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},171,[172]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('Timing')},172,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){if(arguments.length<1)throw new TypeError('queueMicrotask must be called with at least one argument (a function to call)');if('function'!=typeof n)throw new TypeError('The argument to queueMicrotask must be a function.');(t||(t=Promise.resolve())).then(n).catch(function(t){return setTimeout(function(){throw t},0)})}},173,[]);
__d(function(g,r,i,a,m,_e,d){'use strict';if(!0!==g.RN$useAlwaysAvailableJSErrorHandling){var e=r(d[0]).default;if(e.installConsoleErrorReporter(),!g.__fbDisableExceptionsManager){r(d[1]).default.setGlobalHandler(function(l,o){try{e.handleException(l,o)}catch(e){throw console.log('Failed to print error: ',e.message),l}})}}},174,[175,46]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.SyntheticError=void 0;var n=e(r(d[1])),t=e(r(d[2])),o=e(r(d[3])),c=e(r(d[4])),l=e(r(d[5])),s=e(r(d[6]));function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var f,p=_e.SyntheticError=(function(e){function s(){var e,n,l,f;(0,t.default)(this,s);for(var p=arguments.length,E=new Array(p),v=0;v<p;v++)E[v]=arguments[v];return n=this,l=s,f=[].concat(E),l=(0,c.default)(l),(e=(0,o.default)(n,u()?Reflect.construct(l,f||[],(0,c.default)(n).constructor):l.apply(n,f))).name='',e}return(0,l.default)(s,e),(0,n.default)(s)})((0,s.default)(Error)),E=!1,v='RN$ErrorExtraDataKey';function y(e){if(f&&!E){E=!0;try{return f(e)}catch(e){}finally{E=!1}}return e}var h=0;function x(e,n,t){var o=(0,r(d[7]).default)(null==e?void 0:e.stack),c=++h,l=e.message||'',s=l;null!=e.componentStack&&(s+=`\n\nThis error is located at:${e.componentStack}`);var u=null==e.name||''===e.name?'':`${e.name}: `;s.startsWith(u)||(s=u+s);var f=Object.assign({},e[v],{jsEngine:e.jsEngine,rawStack:e.stack});null!=e.cause&&'object'==typeof e.cause&&(f.stackSymbols=e.cause.stackSymbols,f.stackReturnAddresses=e.cause.stackReturnAddresses,f.stackElements=e.cause.stackElements);var p=y({message:s,originalMessage:s===l?null:l,name:null==e.name||''===e.name?null:e.name,componentStack:'string'==typeof e.componentStack?e.componentStack:null,stack:o,id:c,isFatal:n,extraData:f});if(t&&console.error(e),n||'warn'!==e.type){var E=r(d[8]).default;if(E){if(n){if(null!=g.RN$hasHandledFatalException&&g.RN$hasHandledFatalException())return;null==g.RN$notifyOfFatalException||g.RN$notifyOfFatalException()}E.reportException(p)}}}var k=!1;function R(){for(var e,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];if((e=console)._errorOriginal.apply(e,t),console.reportErrorsAsExceptions&&!(k||null!=g.RN$inExceptionHandler&&g.RN$inExceptionHandler())){var c,l=t[0];if(null!=l&&l.stack)c=l;else{var s=r(d[9]).default,u=t.map(function(e){return'string'==typeof e?e:s(e)}).join(' ');(c=new p(u)).name='console.error'}var f=!1,E=!1;if(!g.RN$handleException||!g.RN$handleException(c,f,E)){if(c.message.startsWith('Warning: '))return;x(c,f,E)}}}var $={decoratedExtraDataKey:v,handleException:function(e,n){var t=!0;if(!g.RN$handleException||!g.RN$handleException(e,n,t)){var o;o=e instanceof Error?e:new p(e);try{k=!0,x(o,n,t)}finally{k=!1}}},installConsoleErrorReporter:function(){console._errorOriginal||(console._errorOriginal=console.error.bind(console),console.error=R,void 0===console.reportErrorsAsExceptions&&(console.reportErrorsAsExceptions=!0))},SyntheticError:p,unstable_setExceptionDecorator:function(e){f=e}};_e.default=$},175,[1,12,11,18,20,23,144,176,179,47]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){var t=[];for(var u of n.entries)if('FRAME'===u.type){var l=u.location,o=u.functionName;'NATIVE'!==l.type&&'INTERNAL_BYTECODE'!==l.type&&t.push({methodName:o,file:l.sourceUrl,lineNumber:l.line1Based,column:'SOURCE'===l.type?l.column1Based-1:l.virtualOffset0Based})}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(null==t)return[];var u=r(d[0]);return Array.isArray(t)?t:g.HermesInternal?n(r(d[1]).default(t)):u.parse(t).map(function(n){return Object.assign({},n,{column:null!=n.column?n.column-1:null})})}},176,[177,178]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var n='<unknown>';var l=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/;function t(t){var c=l.exec(t);if(!c)return null;var o=c[2]&&0===c[2].indexOf('native'),s=c[2]&&0===c[2].indexOf('eval'),v=u.exec(c[2]);return s&&null!=v&&(c[2]=v[1],c[3]=v[2],c[4]=v[3]),{file:o?null:c[2],methodName:c[1]||n,arguments:o?[c[2]]:[],lineNumber:c[3]?+c[3]:null,column:c[4]?+c[4]:null}}var c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function o(l){var u=c.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,v=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function f(l){var u=s.exec(l);if(!u)return null;var t=u[3]&&u[3].indexOf(' > eval')>-1,c=v.exec(u[3]);return t&&null!=c&&(u[3]=c[1],u[4]=c[2],u[5]=null),{file:u[3],methodName:u[1]||n,arguments:u[2]?u[2].split(','):[],lineNumber:u[4]?+u[4]:null,column:u[5]?+u[5]:null}}var b=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function p(l){var u=b.exec(l);return u?{file:u[3],methodName:u[1]||n,arguments:[],lineNumber:+u[4],column:u[5]?+u[5]:null}:null}var x=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function h(l){var u=x.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}e.parse=function(n){return n.split('\n').reduce(function(n,l){var u=t(l)||o(l)||f(l)||h(l)||p(l);return u&&n.push(u),n},[])}},177,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var n=t.split(/\n/),i=[],p=-1,l=0;l<n.length;++l){var o=n[l];if(o){var c=u(o);c?i.push(c):s.test(o)||(p=l,i=[])}}return{message:n.slice(0,p+1).join('\n'),entries:i}};var t=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,n=/^ {4}... skipping (\d+) frames$/,s=/^ {4}at .*$/;function u(s){var u,i=s.match(t);if(i)return{type:'FRAME',functionName:i[1],location:'native'===i[2]?{type:'NATIVE'}:'address at '===i[3]?(u=i[4],'InternalBytecode.js'===u?{type:'INTERNAL_BYTECODE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),virtualOffset0Based:Number.parseInt(i[6],10)}:{type:'BYTECODE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),virtualOffset0Based:Number.parseInt(i[6],10)}):{type:'SOURCE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),column1Based:Number.parseInt(i[6],10)}};var p=s.match(n);return p?{type:'SKIPPED',count:Number.parseInt(p[1],10)}:void 0}},178,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},179,[180]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,p={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return p;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,p)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(i.get||i.set)?n(p,c,i):p[c]=e[c]);return p})(e,t)})(_r(d[0])).getEnforcing('ExceptionsManager'),t={reportFatalException:function(t,o,r){e.reportFatalException(t,o,r)},reportSoftException:function(t,o,r){e.reportSoftException(t,o,r)},dismissRedbox:function(){e.dismissRedbox&&e.dismissRedbox()},reportException:function(o){e.reportException?e.reportException(o):o.isFatal?t.reportFatalException(o.message,o.stack,o.id):t.reportSoftException(o.message,o.stack,o.id)}};_e.default=t},180,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;try{t=r(d[0]).hasNativeConstructor(function*(){},'GeneratorFunction')}catch(n){t=!1}t||r(d[1]).polyfillGlobal('regeneratorRuntime',function(){return delete g.regeneratorRuntime,r(d[2])})},181,[182,116,183]);
__d(function(g,r,i,a,m,e,d){function t(t){return'function'==typeof t&&t.toString().indexOf('[native code]')>-1}Object.defineProperty(e,"__esModule",{value:!0}),e.hasNativeConstructor=function(n,o){var c=Object.getPrototypeOf(n).constructor;return c.name===o&&t(c)},e.isNativeFunction=t},182,[]);
__d(function(g,r,_i,a,m,e,d){var t=(function(t){"use strict";var n,o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(t,n,o){t[n]=o.value},u="function"==typeof Symbol?Symbol:{},h=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function s(t,n,o){return Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,o){return t[n]=o}}function p(t,n,o,i){var u=n&&n.prototype instanceof E?n:E,h=Object.create(u.prototype),f=new A(i||[]);return c(h,"_invoke",{value:F(t,o,f)}),h}function y(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=p;var v="suspendedStart",w="suspendedYield",b="executing",L="completed",x={};function E(){}function _(){}function j(){}var O={};s(O,h,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==o&&i.call(G,h)&&(O=G);var N=j.prototype=E.prototype=Object.create(O);function P(t){["next","throw","return"].forEach(function(n){s(t,n,function(t){return this._invoke(n,t)})})}function T(t,n){function o(c,u,h,f){var l=y(t[c],t,u);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==typeof p&&i.call(p,"__await")?n.resolve(p.__await).then(function(t){o("next",t,h,f)},function(t){o("throw",t,h,f)}):n.resolve(p).then(function(t){s.value=t,h(s)},function(t){return o("throw",t,h,f)})}f(l.arg)}var u;c(this,"_invoke",{value:function(t,i){function c(){return new n(function(n,c){o(t,i,n,c)})}return u=u?u.then(c,c):c()}})}function F(t,n,o){var i=v;return function(c,u){if(i===b)throw new Error("Generator is already running");if(i===L){if("throw"===c)throw u;return q()}for(o.method=c,o.arg=u;;){var h=o.delegate;if(h){var f=S(h,o);if(f){if(f===x)continue;return f}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===v)throw i=L,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=b;var l=y(t,n,o);if("normal"===l.type){if(i=o.done?L:w,l.arg===x)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=L,o.method="throw",o.arg=l.arg)}}}function S(t,o){var i=o.method,c=t.iterator[i];if(c===n)return o.delegate=null,"throw"===i&&t.iterator.return&&(o.method="return",o.arg=n,S(t,o),"throw"===o.method)||"return"!==i&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+i+"' method")),x;var u=y(c,t.iterator,o.arg);if("throw"===u.type)return o.method="throw",o.arg=u.arg,o.delegate=null,x;var h=u.arg;return h?h.done?(o[t.resultName]=h.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=n),o.delegate=null,x):h:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,x)}function I(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function R(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function Y(t){if(t){var o=t[h];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var c=-1,u=function o(){for(;++c<t.length;)if(i.call(t,c))return o.value=t[c],o.done=!1,o;return o.value=n,o.done=!0,o};return u.next=u}}return{next:q}}function q(){return{value:n,done:!0}}return _.prototype=j,c(N,"constructor",{value:j,configurable:!0}),c(j,"constructor",{value:_,configurable:!0}),_.displayName=s(j,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,s(t,l,"GeneratorFunction")),t.prototype=Object.create(N),t},t.awrap=function(t){return{__await:t}},P(T.prototype),s(T.prototype,f,function(){return this}),t.AsyncIterator=T,t.async=function(o,i,c,u,h){h===n&&(h=Promise);var f=new T(p(o,i,c,u),h);return t.isGeneratorFunction(i)?f:f.next().then(function(t){return t.done?t.value:f.next()})},P(N),s(N,l,"Generator"),s(N,h,function(){return this}),s(N,"toString",function(){return"[object Generator]"}),t.keys=function(t){var n=Object(t),o=[];for(var i in n)o.push(i);return o.reverse(),function t(){for(;o.length;){var i=o.pop();if(i in n)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=Y,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!t)for(var o in this)"t"===o.charAt(0)&&i.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function c(i,c){return f.type="throw",f.arg=t,o.next=i,c&&(o.method="next",o.arg=n),!!c}for(var u=this.tryEntries.length-1;u>=0;--u){var h=this.tryEntries[u],f=h.completion;if("root"===h.tryLoc)return c("end");if(h.tryLoc<=this.prev){var l=i.call(h,"catchLoc"),s=i.call(h,"finallyLoc");if(l&&s){if(this.prev<h.catchLoc)return c(h.catchLoc,!0);if(this.prev<h.finallyLoc)return c(h.finallyLoc)}else if(l){if(this.prev<h.catchLoc)return c(h.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<h.finallyLoc)return c(h.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc<=this.prev&&i.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var u=c;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var h=u?u.completion:{};return h.type=t,h.arg=n,u?(this.method="next",this.next=u.finallyLoc,x):this.complete(h)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),x},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),R(o),x}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var i=o.completion;if("throw"===i.type){var c=i.arg;R(o)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,i){return this.delegate={iterator:Y(t),resultName:o,nextLoc:i},"next"===this.method&&(this.arg=n),x}},t})("object"==typeof m?m.exports:{});try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},183,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]).polyfillGlobal('XMLHttpRequest',function(){return r(d[1]).default}),r(d[0]).polyfillGlobal('FormData',function(){return r(d[2]).default}),r(d[0]).polyfillGlobal('fetch',function(){return r(d[3]).fetch}),r(d[0]).polyfillGlobal('Headers',function(){return r(d[3]).Headers}),r(d[0]).polyfillGlobal('Request',function(){return r(d[3]).Request}),r(d[0]).polyfillGlobal('Response',function(){return r(d[3]).Response}),r(d[0]).polyfillGlobal('WebSocket',function(){return r(d[4]).default}),r(d[0]).polyfillGlobal('Blob',function(){return r(d[5]).default}),r(d[0]).polyfillGlobal('File',function(){return r(d[6]).default}),r(d[0]).polyfillGlobal('FileReader',function(){return r(d[7]).default}),r(d[0]).polyfillGlobal('URL',function(){return r(d[8]).URL}),r(d[0]).polyfillGlobal('URLSearchParams',function(){return r(d[8]).URLSearchParams}),r(d[0]).polyfillGlobal('AbortController',function(){return r(d[9]).AbortController}),r(d[0]).polyfillGlobal('AbortSignal',function(){return r(d[9]).AbortSignal})},184,[116,185,203,207,209,194,214,215,218,220]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),s=e(_r(d[2])),r=e(_r(d[3])),n=e(_r(d[4])),a=e(_r(d[5])),o=e(_r(d[6])),u=e(_r(d[7])),h=e(_r(d[8])),l=e(_r(d[9])),p=e(_r(d[10]));function c(e,t,s){return t=(0,o.default)(t),(0,a.default)(e,_()?Reflect.construct(t,s||[],(0,o.default)(e).constructor):t.apply(e,s))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}_r(d[11]).default.isAvailable&&_r(d[11]).default.addNetworkingHandler();var f={arraybuffer:'function'==typeof g.ArrayBuffer,blob:'function'==typeof g.Blob,document:!1,json:!0,text:!0,'':!0},v=(function(e){function t(){return(0,r.default)(this,t),c(this,t,arguments)}return(0,u.default)(t,e),(0,n.default)(t,[{key:"onload",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'load')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'load',e)}},{key:"onloadstart",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'loadstart')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'loadstart',e)}},{key:"onprogress",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'progress')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'progress',e)}},{key:"ontimeout",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'timeout')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'timeout',e)}},{key:"onerror",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'error')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'error',e)}},{key:"onabort",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'abort')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'abort',e)}},{key:"onloadend",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'loadend')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'loadend',e)}}])})(l.default),y=(function(e){function a(){var e;return(0,r.default)(this,a),(e=c(this,a)).UNSENT=0,e.OPENED=1,e.HEADERS_RECEIVED=2,e.LOADING=3,e.DONE=4,e.readyState=0,e.status=0,e.timeout=0,e.withCredentials=!0,e.upload=new v,e._aborted=!1,e._hasError=!1,e._method=null,e._perfKey=null,e._response='',e._url=null,e._timedOut=!1,e._incrementalEvents=!1,e._startTime=null,e._performanceLogger=_r(d[13]).default,e._reset(),e}return(0,u.default)(a,e),(0,n.default)(a,[{key:"_reset",value:function(){this.readyState=this.UNSENT,this.responseHeaders=void 0,this.status=0,delete this.responseURL,this._requestId=null,this._cachedResponse=void 0,this._hasError=!1,this._headers={},this._response='',this._responseType='',this._sent=!1,this._lowerCaseResponseHeaders={},this._clearSubscriptions(),this._timedOut=!1}},{key:"responseType",get:function(){return this._responseType},set:function(e){if(this._sent)throw new Error("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set after the request has been sent.");f.hasOwnProperty(e)?(_r(d[14])(f[e]||'document'===e,`The provided value '${e}' is unsupported in this environment.`),'blob'===e&&_r(d[14])(_r(d[11]).default.isAvailable,'Native module BlobModule is required for blob support'),this._responseType=e):console.warn(`The provided value '${e}' is not a valid 'responseType'.`)}},{key:"responseText",get:function(){if(''!==this._responseType&&'text'!==this._responseType)throw new Error(`The 'responseText' property is only available if 'responseType' is set to '' or 'text', but it is '${this._responseType}'.`);return this.readyState<3?'':this._response}},{key:"response",get:function(){var e=this.responseType;if(''===e||'text'===e)return this.readyState<3||this._hasError?'':this._response;if(4!==this.readyState)return null;if(void 0!==this._cachedResponse)return this._cachedResponse;switch(e){case'document':default:this._cachedResponse=null;break;case'arraybuffer':this._cachedResponse=_r(d[15]).toByteArray(this._response).buffer;break;case'blob':if('object'==typeof this._response&&this._response)this._cachedResponse=_r(d[11]).default.createFromOptions(this._response);else{if(''!==this._response)throw new Error(`Invalid response for blob - expecting object, was ${typeof this._response}: ${this._response.trim()}`);this._cachedResponse=_r(d[11]).default.createFromParts([])}break;case'json':try{this._cachedResponse=JSON.parse(this._response)}catch(e){this._cachedResponse=null}}return this._cachedResponse}},{key:"__didCreateRequest",value:function(e){this._requestId=e,a._interceptor&&a._interceptor.requestSent(e,this._url||'',this._method||'GET',this._headers)}},{key:"__didUploadProgress",value:function(e,t,s){e===this._requestId&&(0,_r(d[16]).dispatchTrustedEvent)(this.upload,new p.default('progress',{lengthComputable:!0,loaded:t,total:s}))}},{key:"__didReceiveResponse",value:function(e,t,s,r){e===this._requestId&&(null!=this._perfKey&&this._performanceLogger.stopTimespan(this._perfKey),this.status=t,this.setResponseHeaders(s),this.setReadyState(this.HEADERS_RECEIVED),r||''===r?this.responseURL=r:delete this.responseURL,a._interceptor&&a._interceptor.responseReceived(e,r||this._url||'',t,s||{}))}},{key:"__didReceiveData",value:function(e,t){e===this._requestId&&(this._response=t,this._cachedResponse=void 0,this.setReadyState(this.LOADING),a._interceptor&&a._interceptor.dataReceived(e,t))}},{key:"__didReceiveIncrementalData",value:function(e,t,s,r){e===this._requestId&&(this._response?this._response+=t:this._response=t,a._interceptor&&a._interceptor.dataReceived(e,t),this.setReadyState(this.LOADING),this.__didReceiveDataProgress(e,s,r))}},{key:"__didReceiveDataProgress",value:function(e,t,s){e===this._requestId&&(0,_r(d[16]).dispatchTrustedEvent)(this,new p.default('progress',{lengthComputable:s>=0,loaded:t,total:s}))}},{key:"__didCompleteResponse",value:function(e,t,s){e===this._requestId&&(t&&(''!==this._responseType&&'text'!==this._responseType||(this._response=t),this._hasError=!0,s&&(this._timedOut=!0)),this._clearSubscriptions(),this._requestId=null,this.setReadyState(this.DONE),t?a._interceptor&&a._interceptor.loadingFailed(e,t):a._interceptor&&a._interceptor.loadingFinished(e,this._response.length))}},{key:"_clearSubscriptions",value:function(){(this._subscriptions||[]).forEach(function(e){e&&e.remove()}),this._subscriptions=[]}},{key:"getAllResponseHeaders",value:function(){if(!this.responseHeaders)return null;var e=this.responseHeaders,s=new Map;for(var r of Object.keys(e)){var n=e[r],a=r.toLowerCase(),o=s.get(a);o?(o.headerValue+=', '+n,s.set(a,o)):s.set(a,{lowerHeaderName:a,upperHeaderName:r.toUpperCase(),headerValue:n})}return(0,t.default)(s.values()).sort(function(e,t){return e.upperHeaderName<t.upperHeaderName?-1:e.upperHeaderName>t.upperHeaderName?1:0}).map(function(e){return e.lowerHeaderName+': '+e.headerValue}).join('\r\n')+'\r\n'}},{key:"getResponseHeader",value:function(e){var t=this._lowerCaseResponseHeaders[e.toLowerCase()];return void 0!==t?t:null}},{key:"setRequestHeader",value:function(e,t){if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');this._headers[e.toLowerCase()]=String(t)}},{key:"setTrackingName",value:function(e){return this._trackingName=e,this}},{key:"setPerformanceLogger",value:function(e){return this._performanceLogger=e,this}},{key:"open",value:function(e,t,s){if(this.readyState!==this.UNSENT)throw new Error('Cannot open, already sending');if(void 0!==s&&!s)throw new Error('Synchronous http requests are not supported');if(!t)throw new Error('Cannot load an empty url');this._method=e.toUpperCase(),this._url=t,this._aborted=!1,this.setReadyState(this.OPENED)}},{key:"send",value:function(e){var s=this;if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');if(this._sent)throw new Error('Request has already been sent');this._sent=!0;var r=this._incrementalEvents||!!this.onreadystatechange||!!this.onprogress;this._subscriptions.push(_r(d[17]).default.addListener('didSendNetworkData',function(e){return s.__didUploadProgress.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[17]).default.addListener('didReceiveNetworkResponse',function(e){return s.__didReceiveResponse.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[17]).default.addListener('didReceiveNetworkData',function(e){return s.__didReceiveData.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[17]).default.addListener('didReceiveNetworkIncrementalData',function(e){return s.__didReceiveIncrementalData.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[17]).default.addListener('didReceiveNetworkDataProgress',function(e){return s.__didReceiveDataProgress.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[17]).default.addListener('didCompleteNetworkResponse',function(e){return s.__didCompleteResponse.apply(s,(0,t.default)(e))}));var n='text';'arraybuffer'===this._responseType&&(n='base64'),'blob'===this._responseType&&(n='blob');var a,o,u;u=null!=(a=s._trackingName)?a:s._url,s._perfKey='network_XMLHttpRequest_'+String(u),s._performanceLogger.startTimespan(s._perfKey),s._startTime=performance.now(),_r(d[14])(s._method,'XMLHttpRequest method needs to be defined (%s).',u),_r(d[14])(s._url,'XMLHttpRequest URL needs to be defined (%s).',u),_r(d[17]).default.sendRequest(s._method,null!=(o=s._trackingName)?o:void 0,s._url,s._headers,e,n,r,s.timeout,s.__didCreateRequest.bind(s),s.withCredentials)}},{key:"abort",value:function(){this._aborted=!0,this._requestId&&_r(d[17]).default.abortRequest(this._requestId),this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this._sent||this.readyState===this.DONE||(this._reset(),this.setReadyState(this.DONE)),this._reset()}},{key:"setResponseHeaders",value:function(e){this.responseHeaders=e||null;var t=e||{};this._lowerCaseResponseHeaders=Object.keys(t).reduce(function(e,s){return e[s.toLowerCase()]=t[s],e},{})}},{key:"setReadyState",value:function(e){this.readyState=e,(0,_r(d[16]).dispatchTrustedEvent)(this,new h.default('readystatechange')),e===this.DONE&&(this._aborted?(0,_r(d[16]).dispatchTrustedEvent)(this,new h.default('abort')):this._hasError?this._timedOut?(0,_r(d[16]).dispatchTrustedEvent)(this,new h.default('timeout')):(0,_r(d[16]).dispatchTrustedEvent)(this,new h.default('error')):(0,_r(d[16]).dispatchTrustedEvent)(this,new h.default('load')),(0,_r(d[16]).dispatchTrustedEvent)(this,new h.default('loadend')))}},{key:"addEventListener",value:function(e,t){var r,n,u,h,l;'readystatechange'!==e&&'progress'!==e||(this._incrementalEvents=!0),(r=a,n="addEventListener",u=this,h=3,l=(0,s.default)((0,o.default)(1&h?r.prototype:r),n,u),2&h&&"function"==typeof l?function(e){return l.apply(u,e)}:l)([e,t])}},{key:"onabort",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'abort')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'abort',e)}},{key:"onerror",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'error')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'error',e)}},{key:"onload",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'load')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'load',e)}},{key:"onloadstart",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'loadstart')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'loadstart',e)}},{key:"onprogress",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'progress')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'progress',e)}},{key:"ontimeout",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'timeout')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'timeout',e)}},{key:"onloadend",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'loadend')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'loadend',e)}},{key:"onreadystatechange",get:function(){return(0,_r(d[12]).getEventHandlerAttribute)(this,'readystatechange')},set:function(e){(0,_r(d[12]).setEventHandlerAttribute)(this,'readystatechange',e)}}],[{key:"__setInterceptor_DO_NOT_USE",value:function(e){a._interceptor=e}}])})(l.default);y.UNSENT=0,y.OPENED=1,y.HEADERS_RECEIVED=2,y.LOADING=3,y.DONE=4,y._interceptor=null;_e.default=y},185,[1,42,21,11,12,18,20,23,186,188,190,191,196,197,32,199,189,200]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=e.default=(function(){return(0,o.default)(function t(o,u){if((0,n.default)(this,t),this._defaultPrevented=!1,this._timeStamp=performance.now(),this[r(d[3]).COMPOSED_PATH_KEY]=[],this[r(d[3]).CURRENT_TARGET_KEY]=null,this[r(d[3]).EVENT_PHASE_KEY]=t.NONE,this[r(d[3]).IN_PASSIVE_LISTENER_FLAG_KEY]=!1,this[r(d[3]).IS_TRUSTED_KEY]=!1,this[r(d[3]).STOP_IMMEDIATE_PROPAGATION_FLAG_KEY]=!1,this[r(d[3]).STOP_PROPAGATION_FLAG_KEY]=!1,this[r(d[3]).TARGET_KEY]=null,arguments.length<1)throw new TypeError("Failed to construct 'Event': 1 argument required, but only 0 present.");var l=typeof u;if(null!=u&&'object'!==l&&'function'!==l)throw new TypeError("Failed to construct 'Event': The provided value is not of type 'EventInit'.");this._type=String(o),this._bubbles=Boolean(null==u?void 0:u.bubbles),this._cancelable=Boolean(null==u?void 0:u.cancelable),this._composed=Boolean(null==u?void 0:u.composed)},[{key:"bubbles",get:function(){return this._bubbles}},{key:"cancelable",get:function(){return this._cancelable}},{key:"composed",get:function(){return this._composed}},{key:"currentTarget",get:function(){return(0,r(d[3]).getCurrentTarget)(this)}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}},{key:"eventPhase",get:function(){return(0,r(d[3]).getEventPhase)(this)}},{key:"isTrusted",get:function(){return(0,r(d[3]).getIsTrusted)(this)}},{key:"target",get:function(){return(0,r(d[3]).getTarget)(this)}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"type",get:function(){return this._type}},{key:"composedPath",value:function(){return(0,r(d[3]).getComposedPath)(this).slice()}},{key:"preventDefault",value:function(){this._cancelable&&((0,r(d[3]).getInPassiveListenerFlag)(this)?console.error(new Error('Unable to preventDefault inside passive event listener invocation.')):this._defaultPrevented=!0)}},{key:"stopImmediatePropagation",value:function(){(0,r(d[3]).setStopPropagationFlag)(this,!0),(0,r(d[3]).setStopImmediatePropagationFlag)(this,!0)}},{key:"stopPropagation",value:function(){(0,r(d[3]).setStopPropagationFlag)(this,!0)}}])})();Object.defineProperty(u,'NONE',{enumerable:!0,value:0}),Object.defineProperty(u.prototype,'NONE',{enumerable:!0,value:0}),Object.defineProperty(u,'CAPTURING_PHASE',{enumerable:!0,value:1}),Object.defineProperty(u.prototype,'CAPTURING_PHASE',{enumerable:!0,value:1}),Object.defineProperty(u,'AT_TARGET',{enumerable:!0,value:2}),Object.defineProperty(u.prototype,'AT_TARGET',{enumerable:!0,value:2}),Object.defineProperty(u,'BUBBLING_PHASE',{enumerable:!0,value:3}),Object.defineProperty(u.prototype,'BUBBLING_PHASE',{enumerable:!0,value:3}),(0,r(d[4]).setPlatformObject)(u)},186,[1,11,12,187,119]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.TARGET_KEY=e.STOP_PROPAGATION_FLAG_KEY=e.STOP_IMMEDIATE_PROPAGATION_FLAG_KEY=e.IS_TRUSTED_KEY=e.IN_PASSIVE_LISTENER_FLAG_KEY=e.EVENT_PHASE_KEY=e.CURRENT_TARGET_KEY=e.COMPOSED_PATH_KEY=void 0,e.getComposedPath=function(n){return n[t]},e.getCurrentTarget=function(t){return t[n]},e.getEventPhase=function(t){return t[o]},e.getInPassiveListenerFlag=function(t){return t[E]},e.getIsTrusted=function(t){return t[_]},e.getStopImmediatePropagationFlag=function(t){return t[T]},e.getStopPropagationFlag=function(t){return t[P]},e.getTarget=function(t){return t[u]},e.setComposedPath=function(n,o){n[t]=o},e.setCurrentTarget=function(t,o){t[n]=o},e.setEventPhase=function(t,n){t[o]=n},e.setInPassiveListenerFlag=function(t,n){t[E]=n},e.setIsTrusted=function(t,n){t[_]=n},e.setStopImmediatePropagationFlag=function(t,n){t[T]=n},e.setStopPropagationFlag=function(t,n){t[P]=n},e.setTarget=function(t,n){t[u]=n};var t=e.COMPOSED_PATH_KEY=Symbol('composedPath'),n=e.CURRENT_TARGET_KEY=Symbol('currentTarget'),o=e.EVENT_PHASE_KEY=Symbol('eventPhase'),E=e.IN_PASSIVE_LISTENER_FLAG_KEY=Symbol('inPassiveListenerFlag'),_=e.IS_TRUSTED_KEY=Symbol('isTrusted'),T=e.STOP_IMMEDIATE_PROPAGATION_FLAG_KEY=Symbol('stopPropagationFlag'),P=e.STOP_PROPAGATION_FLAG_KEY=Symbol('stopPropagationFlag'),u=e.TARGET_KEY=Symbol('target')},187,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),i=e.default=(function(){return(0,o.default)(function t(){(0,n.default)(this,t)},[{key:"addEventListener",value:function(t,n){var o,l,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(arguments.length<2)throw new TypeError(`Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);if(null!=n){u(n,'addEventListener');var s,v,f,E,c=String(t);if(null==i||'object'!=typeof i&&'function'!=typeof i)s=Boolean(i),v=!1,f=!1,E=null;else if(s=Boolean(i.capture),v=null!=i.passive&&Boolean(i.passive),f=Boolean(i.once),void 0!==(E=i.signal)&&!(E instanceof AbortSignal))throw new TypeError("Failed to execute 'addEventListener' on 'EventTarget': Failed to read the 'signal' property from 'AddEventListenerOptions': Failed to convert value to 'AbortSignal'.");if(null==(o=E)||!o.aborted){var h=p(this,s),y=null==(l=h)?void 0:l.get(c);if(null==y)null==h&&T(this,s,h=new Map),y=new Map,h.set(c,y);else if(y.has(n))return;var b={callback:n,passive:v,once:f,removed:!1};y.set(n,b);var P=y;null!=E&&E.addEventListener('abort',function(){b.removed=!0,P.get(n)===b&&P.delete(n)},{once:!0})}}}},{key:"removeEventListener",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(arguments.length<2)throw new TypeError(`Failed to execute 'removeEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);if(null!=n){u(n,'removeEventListener');var l=String(t),i=p(this,'boolean'==typeof o?o:Boolean(o.capture)),s=null==i?void 0:i.get(l);if(null!=s){var v=s.get(n);null!=v&&(v.removed=!0,s.delete(n))}}}},{key:"dispatchEvent",value:function(t){if(!(t instanceof l.default))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");if(y(t))throw new Error("Failed to execute 'dispatchEvent' on 'EventTarget': The event is already being dispatched.");return(0,r(d[4]).setIsTrusted)(t,!1),s(this,t),!t.defaultPrevented}},{key:r(d[5]).EVENT_TARGET_GET_THE_PARENT_KEY,value:function(){return null}},{key:r(d[5]).INTERNAL_DISPATCH_METHOD_KEY,value:function(t){s(this,t)}}])})();function u(t,n){if('function'!=typeof t&&'object'!=typeof t)throw new TypeError(`Failed to execute '${n}' on 'EventTarget': parameter 2 is not of type 'Object'.`)}function s(t,n){b(n,!0);var o=v(t,n);(0,r(d[4]).setComposedPath)(n,o),(0,r(d[4]).setTarget)(n,t);for(var i=o.length-1;i>=0&&!(0,r(d[4]).getStopPropagationFlag)(n);i--){var u=o[i];(0,r(d[4]).setEventPhase)(n,u===t?l.default.AT_TARGET:l.default.CAPTURING_PHASE),f(u,n,l.default.CAPTURING_PHASE)}for(var s of o){if((0,r(d[4]).getStopPropagationFlag)(n))break;if(!n.bubbles&&s!==t)break;(0,r(d[4]).setEventPhase)(n,s===t?l.default.AT_TARGET:l.default.BUBBLING_PHASE),f(s,n,l.default.BUBBLING_PHASE)}(0,r(d[4]).setEventPhase)(n,l.default.NONE),(0,r(d[4]).setCurrentTarget)(n,null),(0,r(d[4]).setComposedPath)(n,[]),b(n,!1),(0,r(d[4]).setStopImmediatePropagationFlag)(n,!1),(0,r(d[4]).setStopPropagationFlag)(n,!1)}function v(t,n){for(var o=[],l=t;null!=l;)o.push(l),l=l[r(d[5]).EVENT_TARGET_GET_THE_PARENT_KEY]();return o}function f(t,n,o){var i=p(t,o===l.default.CAPTURING_PHASE);(0,r(d[4]).setCurrentTarget)(n,t);var u=null==i?void 0:i.get(n.type);if(null!=u){var s=Array.from(u.values());for(var v of((0,r(d[4]).setCurrentTarget)(n,t),s))if(!v.removed){v.once&&t.removeEventListener(n.type,v.callback,o===l.default.CAPTURING_PHASE),v.passive&&(0,r(d[4]).setInPassiveListenerFlag)(n,!0);var f=g.event;g.event=n;var E=v.callback;try{'function'==typeof E?E.call(t,n):'function'==typeof E.handleEvent&&E.handleEvent(n)}catch(t){console.error(t)}if(v.passive&&(0,r(d[4]).setInPassiveListenerFlag)(n,!1),g.event=f,(0,r(d[4]).getStopImmediatePropagationFlag)(n))break}}}(0,r(d[6]).setPlatformObject)(i);var E=Symbol('capturingListeners'),c=Symbol('bubblingListeners');function p(t,n){return n?t[E]:t[c]}function T(t,n,o){n?t[E]=o:t[c]=o}var h=Symbol('Event.dispatch');function y(t){return t[h]}function b(t,n){t[h]=n}},188,[1,11,12,186,187,189,119]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.INTERNAL_DISPATCH_METHOD_KEY=e.EVENT_TARGET_GET_THE_PARENT_KEY=void 0,e.dispatchTrustedEvent=function(T,_){return(0,r(d[0]).setIsTrusted)(_,!0),T[E](_)};e.EVENT_TARGET_GET_THE_PARENT_KEY=Symbol('EventTarget[get the parent]');var E=e.INTERNAL_DISPATCH_METHOD_KEY=Symbol('EventTarget[dispatch]')},189,[187]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),l=t(r(d[2])),u=t(r(d[3])),n=t(r(d[4])),o=t(r(d[5])),f=t(r(d[6]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}_e.default=(function(t){function f(t,l){var o,h,v,_;return(0,e.default)(this,f),h=this,v=f,_=[t,l],v=(0,n.default)(v),(o=(0,u.default)(h,c()?Reflect.construct(v,_||[],(0,n.default)(h).constructor):v.apply(h,_)))._lengthComputable=Boolean(null==l?void 0:l.lengthComputable),o._loaded=Number(null==l?void 0:l.loaded)||0,o._total=Number(null==l?void 0:l.total)||0,o}return(0,o.default)(f,t),(0,l.default)(f,[{key:"lengthComputable",get:function(){return this._lengthComputable}},{key:"loaded",get:function(){return this._loaded}},{key:"total",get:function(){return this._total}}])})(f.default)},190,[1,11,12,18,20,23,186]);
__d(function(g,_r,i,a,m,e,d){var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(_r(d[1])),r=t(_r(d[2])),o=t(_r(d[3])),u=t(_r(d[4]));var n=(function(){function t(){(0,l.default)(this,t)}return(0,r.default)(t,null,[{key:"createFromParts",value:function(l,r){(0,u.default)(o.default,'NativeBlobModule is available.');var n='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var l=16*Math.random()|0;return('x'==t?l:3&l|8).toString(16)}),f=l.map(function(t){if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))throw new Error("Creating blobs from 'ArrayBuffer' and 'ArrayBufferView' are not supported");return t instanceof _r(d[5]).default?{data:t.data,type:'blob'}:{data:String(t),type:'string'}}),c=f.reduce(function(t,l){return'string'===l.type?t+g.unescape(encodeURI(l.data)).length:t+l.data.size},0);return o.default.createFromParts(f,n),t.createFromOptions({blobId:n,offset:0,size:c,type:r?r.type:'',lastModified:r?r.lastModified:Date.now()})}},{key:"createFromOptions",value:function(t){return _r(d[6]).register(t.blobId),Object.assign(Object.create(_r(d[5]).default.prototype),{data:null==t.__collector?Object.assign({},t,{__collector:(l=t.blobId,null==g.__blobCollectorProvider?null:g.__blobCollectorProvider(l))}):t});var l}},{key:"release",value:function(t){(0,u.default)(o.default,'NativeBlobModule is available.'),_r(d[6]).unregister(t),_r(d[6]).has(t)||o.default.release(t)}},{key:"addNetworkingHandler",value:function(){(0,u.default)(o.default,'NativeBlobModule is available.'),o.default.addNetworkingHandler()}},{key:"addWebSocketHandler",value:function(t){(0,u.default)(o.default,'NativeBlobModule is available.'),o.default.addWebSocketHandler(t)}},{key:"removeWebSocketHandler",value:function(t){(0,u.default)(o.default,'NativeBlobModule is available.'),o.default.removeWebSocketHandler(t)}},{key:"sendOverSocket",value:function(t,l){(0,u.default)(o.default,'NativeBlobModule is available.'),o.default.sendOverSocket(t.data,l)}}])})();n.isAvailable=!!o.default;e.default=n},191,[1,11,12,192,32,194,195]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},192,[193]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(l,f,u):l[f]=e[f]);return l})(e,t)})(_r(d[0])).get('BlobModule'),t=null,n=null;null!=e&&(n={getConstants:function(){return null==t&&(t=e.getConstants()),t},addNetworkingHandler:function(){e.addNetworkingHandler()},addWebSocketHandler:function(t){e.addWebSocketHandler(t)},removeWebSocketHandler:function(t){e.removeWebSocketHandler(t)},sendOverSocket:function(t,n){e.sendOverSocket(t,n)},createFromParts:function(t,n){e.createFromParts(t,n)},release:function(t){e.release(t)}});_e.default=n},193,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=(function(){return(0,o.default)(function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;(0,n.default)(this,t);var l=r(d[3]).default;this.data=l.createFromParts(o,s).data},[{key:"data",get:function(){if(!this._data)throw new Error('Blob has been closed and is no longer available');return this._data},set:function(t){this._data=t}},{key:"slice",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'',s=r(d[3]).default,l=this.data,u=l.offset,f=l.size;return'number'==typeof t&&(t>f&&(t=f),u+=t,f-=t,'number'==typeof n&&(n<0&&(n=this.size+n),n>this.size&&(n=this.size),f=n-t)),s.createFromOptions({blobId:this.data.blobId,offset:u,size:f,type:o,__collector:this.data.__collector})}},{key:"close",value:function(){r(d[3]).default.release(this.data.blobId),this.data=null}},{key:"size",get:function(){return this.data.size}},{key:"type",get:function(){return this.data.type||''}}])})();e.default=s},194,[1,11,12,191]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.unregister=e.register=e.has=void 0;var t=new Map;e.register=function(n){var u=t.get(n);null!=u?t.set(n,u+1):t.set(n,1)},e.unregister=function(n){var u=t.get(n);null!=u&&(u<=1?t.delete(n):t.set(n,u-1))},e.has=function(n){return t.get(n)||!1}},195,[]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.getEventHandlerAttribute=function(e,n){var l,u=null==(l=t(e))?void 0:l.get(n);return null!=u?u.handleEvent:null},_e.setEventHandlerAttribute=function(e,l,u){var v=t(e);if(null!=v){var o=v.get(l);o&&(e.removeEventListener(l,o),v.delete(l))}if(null!=u&&('function'==typeof u||'object'==typeof u)){var f={handleEvent:u};try{e.addEventListener(l,f),null==v&&n(e,v=new Map),v.set(l,f)}catch(e){}}null!=v&&0===v.size&&n(e,null)};var e=Symbol('eventHandlerAttributeMap');function t(t){return t[e]}function n(t,n){t[e]=n}},196,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)();e.default=u},197,[1,198]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new l},e.getCurrentTimestamp=void 0;var s,n=t(r(d[1])),o=t(r(d[2])),u=e.getCurrentTimestamp=null!=(s=g.nativeQPLTimestamp)?s:function(){return g.performance.now()},l=(function(){return(0,o.default)(function t(){(0,n.default)(this,t),this._timespans={},this._extras={},this._points={},this._pointExtras={},this._closed=!1},[{key:"addTimespan",value:function(t,s,n,o,u){this._closed||this._timespans[t]||(this._timespans[t]={startTime:s,endTime:n,totalTime:n-(s||0),startExtras:o,endExtras:u})}},{key:"append",value:function(t){this._timespans=Object.assign({},t.getTimespans(),this._timespans),this._extras=Object.assign({},t.getExtras(),this._extras),this._points=Object.assign({},t.getPoints(),this._points),this._pointExtras=Object.assign({},t.getPointExtras(),this._pointExtras)}},{key:"clear",value:function(){this._timespans={},this._extras={},this._points={}}},{key:"clearCompleted",value:function(){for(var t in this._timespans){var s;null!=(null==(s=this._timespans[t])?void 0:s.totalTime)&&delete this._timespans[t]}this._extras={},this._points={}}},{key:"close",value:function(){this._closed=!0}},{key:"currentTimestamp",value:function(){return u()}},{key:"getExtras",value:function(){return this._extras}},{key:"getPoints",value:function(){return this._points}},{key:"getPointExtras",value:function(){return this._pointExtras}},{key:"getTimespans",value:function(){return this._timespans}},{key:"hasTimespan",value:function(t){return!!this._timespans[t]}},{key:"isClosed",value:function(){return this._closed}},{key:"logEverything",value:function(){}},{key:"markPoint",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;this._closed||null==this._points[t]&&(this._points[t]=s,n&&(this._pointExtras[t]=n))}},{key:"removeExtra",value:function(t){var s=this._extras[t];return delete this._extras[t],s}},{key:"setExtra",value:function(t,s){this._closed||this._extras.hasOwnProperty(t)||(this._extras[t]=s)}},{key:"startTimespan",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;this._closed||this._timespans[t]||(this._timespans[t]={startTime:s,startExtras:n})}},{key:"stopTimespan",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;if(!this._closed){var o=this._timespans[t];o&&null!=o.startTime&&null==o.endTime&&(o.endExtras=n,o.endTime=s,o.totalTime=o.endTime-(o.startTime||0))}}}])})()},198,[1,11,12]);
__d(function(g,r,_i,a,m,e,d){'use strict';e.byteLength=function(t){var n=h(t),o=n[0],u=n[1];return 3*(o+u)/4-u},e.toByteArray=function(t){var u,c,f=h(t),A=f[0],C=f[1],y=new o(i(t,A,C)),s=0,v=C>0?A-4:A;for(c=0;c<v;c+=4)u=n[t.charCodeAt(c)]<<18|n[t.charCodeAt(c+1)]<<12|n[t.charCodeAt(c+2)]<<6|n[t.charCodeAt(c+3)],y[s++]=u>>16&255,y[s++]=u>>8&255,y[s++]=255&u;2===C&&(u=n[t.charCodeAt(c)]<<2|n[t.charCodeAt(c+1)]>>4,y[s++]=255&u);1===C&&(u=n[t.charCodeAt(c)]<<10|n[t.charCodeAt(c+1)]<<4|n[t.charCodeAt(c+2)]>>2,y[s++]=u>>8&255,y[s++]=255&u);return y},e.fromByteArray=function(n){for(var o,u=n.length,c=u%3,h=[],i=16383,f=0,C=u-c;f<C;f+=i)h.push(A(n,f,f+i>C?C:f+i));1===c?(o=n[u-1],h.push(t[o>>2]+t[o<<4&63]+'==')):2===c&&(o=(n[u-2]<<8)+n[u-1],h.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return h.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,u='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',c=0;c<64;++c)t[c]=u[c],n[u.charCodeAt(c)]=c;function h(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function i(t,n,o){return 3*(n+o)/4-o}function f(n){return t[n>>18&63]+t[n>>12&63]+t[n>>6&63]+t[63&n]}function A(t,n,o){for(var u,c=[],h=n;h<o;h+=3)u=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(255&t[h+2]),c.push(f(u));return c.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},199,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),s=t(r(d[4]));function f(t){var u=[];for(var n in t)u.push([n,t[n]]);return u}var l=1;var c=new u.default('ios'!==n.default.OS?null:s.default),v={addListener:function(t,u,n){return c.addListener(t,u,n)},sendRequest:function(t,u,n,c,v,R,_,q,O,b){var D,T=(0,o.default)(v);T&&T.formData&&(T.formData=T.formData.map(function(t){return Object.assign({},t,{headers:f(t.headers)})}));var h=l++,j=null==(D=g.__NETWORK_REPORTER__)?void 0:D.createDevToolsRequestId();s.default.sendRequest(t,n,h,f(c),Object.assign({},T,{trackingName:u,devToolsRequestId:j}),R,_,q,b),O(h)},abortRequest:function(t){s.default.abortRequest(t)},clearCookies:function(t){s.default.clearCookies(t)}};e.default=v},200,[1,201,69,202,205]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),s=t(r(d[5]));e.default=(function(){return(0,l.default)(function t(l){(0,n.default)(this,t),'ios'===u.default.OS&&(0,s.default)(null!=l,'`new NativeEventEmitter()` requires a non-null argument.');var o=!!l&&'function'==typeof l.addListener,v=!!l&&'function'==typeof l.removeListeners;l&&o&&v?this._nativeModule=l:null!=l&&(o||console.warn('`new NativeEventEmitter()` was called with a non-null argument without the required `addListener` method.'),v||console.warn('`new NativeEventEmitter()` was called with a non-null argument without the required `removeListeners` method.'))},[{key:"addListener",value:function(t,n,l){var u,s=this;null==(u=this._nativeModule)||u.addListener(t);var v=o.default.addListener(t,n,l);return{remove:function(){var t;null!=v&&(null==(t=s._nativeModule)||t.removeListeners(1),v.remove(),v=null)}}}},{key:"emit",value:function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),u=1;u<n;u++)l[u-1]=arguments[u];o.default.emit.apply(o.default,[t].concat(l))}},{key:"removeAllListeners",value:function(t){var n;(0,s.default)(null!=t,'`NativeEventEmitter.removeAllListener()` requires a non-null argument.'),null==(n=this._nativeModule)||n.removeListeners(this.listenerCount(t)),o.default.removeAllListeners(t)}},{key:"listenerCount",value:function(t){return o.default.listenerCount(t)}}])})()},201,[1,11,12,69,17,32]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return'string'==typeof t?{string:t}:t instanceof r(d[0]).default?{blob:t.data}:t instanceof r(d[1]).default?{formData:t.getParts()}:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?{base64:r(d[2]).default(t)}:t}},202,[194,203,204]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3]));var s=(function(){return(0,o.default)(function t(){(0,u.default)(this,t),this._parts=[]},[{key:"append",value:function(t,n){this._parts.push([t,n])}},{key:"getAll",value:function(t){return this._parts.filter(function(u){return(0,n.default)(u,1)[0]===t}).map(function(t){return(0,n.default)(t,2)[1]})}},{key:"getParts",value:function(){return this._parts.map(function(t){var u,o=(0,n.default)(t,2),s=o[0],f=o[1],p={'content-disposition':'form-data; name="'+s+'"'};return'object'==typeof f&&!Array.isArray(f)&&f?('string'==typeof f.name&&(p['content-disposition']+=`; filename="${u=f.name,encodeURIComponent(u.replace(/\//g,'_'))}"`),'string'==typeof f.type&&(p['content-type']=f.type),Object.assign({},f,{headers:p,fieldName:s})):{string:String(f),headers:p,fieldName:s}})}}])})();e.default=s},203,[1,34,11,12]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array)return r(d[0]).fromByteArray(t);if(!ArrayBuffer.isView(t))throw new Error('data must be ArrayBuffer or typed array');var f=t,n=f.buffer,y=f.byteOffset,u=f.byteLength;return r(d[0]).fromByteArray(new Uint8Array(n,y,u))}},204,[199]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},205,[206]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('Networking')},206,[31]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.fetch=e.Response=e.Request=e.Headers=void 0,r(d[0]);e.fetch=g.fetch,e.Headers=g.Headers,e.Request=g.Request,e.Response=g.Response},207,[208]);
__d(function(_g,r,_i,a,m,_e,d){var t,e;t=this,e=function(t){'use strict';var e='undefined'!=typeof globalThis&&globalThis||'undefined'!=typeof self&&self||void 0!==_g&&_g||{},o='URLSearchParams'in e,n='Symbol'in e&&'iterator'in Symbol,i='FileReader'in e&&'Blob'in e&&(function(){try{return new Blob,!0}catch(t){return!1}})(),s='FormData'in e,h='ArrayBuffer'in e;if(h)var u=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],f=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if('string'!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||''===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function y(t){return'string'!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){if(2!=t.length)throw new TypeError('Headers constructor: expected name/value pair to be length 2, found'+t.length);this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function b(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError('Already read')):void(t.bodyUsed=!0)}function w(t){return new Promise(function(e,o){t.onload=function(){e(t.result)},t.onerror=function(){o(t.error)}})}function v(t){var e=new FileReader,o=w(e);return e.readAsArrayBuffer(t),o}function E(t){for(var e=new Uint8Array(t),o=new Array(e.length),n=0;n<e.length;n++)o[n]=String.fromCharCode(e[n]);return o.join('')}function A(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?'string'==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():h&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=A(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h&&(ArrayBuffer.prototype.isPrototypeOf(t)||f(t))?this._bodyArrayBuffer=A(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=''),this.headers.get('content-type')||('string'==typeof t?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},i&&(this.blob=function(){var t=b(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=b(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i)return this.blob().then(v);throw new Error('could not read as ArrayBuffer')},this.text=function(){var t,e,o,n,i,s=b(this);if(s)return s;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,o=w(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=n?n[1]:'utf-8',e.readAsText(t,i),o;if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=c(t),e=y(e);var o=this.map[t];this.map[t]=o?o+', '+e:e},p.prototype.delete=function(t){delete this.map[c(t)]},p.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},p.prototype.set=function(t,e){this.map[c(t)]=y(e)},p.prototype.forEach=function(t,e){for(var o in this.map)this.map.hasOwnProperty(o)&&t.call(e,this.map[o],o,this)},p.prototype.keys=function(){var t=[];return this.forEach(function(e,o){t.push(o)}),l(t)},p.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},p.prototype.entries=function(){var t=[];return this.forEach(function(e,o){t.push([o,e])}),l(t)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var T=['CONNECT','DELETE','GET','HEAD','OPTIONS','PATCH','POST','PUT','TRACE'];function g(t,o){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,s=(o=o||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError('Already read');this.url=t.url,this.credentials=t.credentials,o.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=o.credentials||this.credentials||'same-origin',!o.headers&&this.headers||(this.headers=new p(o.headers)),this.method=(n=o.method||this.method||'GET',i=n.toUpperCase(),T.indexOf(i)>-1?i:n),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal||(function(){if('AbortController'in e)return(new AbortController).signal})(),this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&s)throw new TypeError('Body not allowed for GET or HEAD requests');if(this._initBody(s),!('GET'!==this.method&&'HEAD'!==this.method||'no-store'!==o.cache&&'no-cache'!==o.cache)){var h=/([?&])_=[^&]*/;h.test(this.url)?this.url=this.url.replace(h,'$1_='+(new Date).getTime()):this.url+=(/\?/.test(this.url)?'&':'?')+'_='+(new Date).getTime()}}function x(t){var e=new FormData;return t.trim().split('&').forEach(function(t){if(t){var o=t.split('='),n=o.shift().replace(/\+/g,' '),i=o.join('=').replace(/\+/g,' ');e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function B(t,e){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type='default',this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?'':''+e.statusText,this.headers=new p(e.headers),this.url=e.url||'',this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},_.call(g.prototype),_.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},B.error=function(){var t=new B(null,{status:200,statusText:''});return t.ok=!1,t.status=0,t.type='error',t};var O=[301,302,303,307,308];B.redirect=function(t,e){if(-1===O.indexOf(e))throw new RangeError('Invalid status code');return new B(null,{status:e,headers:{location:t}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var o=Error(t);this.stack=o.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function P(o,n){return new Promise(function(s,u){var f=new g(o,n);if(f.signal&&f.signal.aborted)return u(new t.DOMException('Aborted','AbortError'));var l=new XMLHttpRequest;function b(){l.abort()}if(l.onload=function(){var t,e,o={statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||'',e=new p,t.replace(/\r?\n[\t ]+/g,' ').split('\r').map(function(t){return 0===t.indexOf('\n')?t.substr(1,t.length):t}).forEach(function(t){var o=t.split(':'),n=o.shift().trim();if(n){var i=o.join(':').trim();try{e.append(n,i)}catch(t){console.warn('Response '+t.message)}}}),e)};0===f.url.indexOf('file://')&&(l.status<200||l.status>599)?o.status=200:o.status=l.status,o.url='responseURL'in l?l.responseURL:o.headers.get('X-Request-URL');var n='response'in l?l.response:l.responseText;setTimeout(function(){s(new B(n,o))},0)},l.onerror=function(){setTimeout(function(){u(new TypeError('Network request failed'))},0)},l.ontimeout=function(){setTimeout(function(){u(new TypeError('Network request timed out'))},0)},l.onabort=function(){setTimeout(function(){u(new t.DOMException('Aborted','AbortError'))},0)},l.open(f.method,(function(t){try{return''===t&&e.location.href?e.location.href:t}catch(e){return t}})(f.url),!0),'include'===f.credentials?l.withCredentials=!0:'omit'===f.credentials&&(l.withCredentials=!1),'responseType'in l&&(i?l.responseType='blob':h&&(l.responseType='arraybuffer')),n&&'object'==typeof n.headers&&!(n.headers instanceof p||e.Headers&&n.headers instanceof e.Headers)){var w=[];Object.getOwnPropertyNames(n.headers).forEach(function(t){w.push(c(t)),l.setRequestHeader(t,y(n.headers[t]))}),f.headers.forEach(function(t,e){-1===w.indexOf(e)&&l.setRequestHeader(e,t)})}else f.headers.forEach(function(t,e){l.setRequestHeader(e,t)});f.signal&&(f.signal.addEventListener('abort',b),l.onreadystatechange=function(){4===l.readyState&&f.signal.removeEventListener('abort',b)}),l.send(void 0===f._bodyInit?null:f._bodyInit)})}P.polyfill=!0,e.fetch||(e.fetch=P,e.Headers=p,e.Request=g,e.Response=B),t.Headers=p,t.Request=g,t.Response=B,t.fetch=P,Object.defineProperty(t,'__esModule',{value:!0})},'object'==typeof _e&&void 0!==m?e(_e):'function'==typeof define&&define.amd?define(['exports'],e):e(t.WHATWGFetch={})},208,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),u=e(r(d[5])),l=e(r(d[6])),c=e(r(d[7])),f=e(r(d[8])),h=e(r(d[9])),b=e(r(d[10])),y=e(r(d[11])),v=e(r(d[12])),p=e(r(d[13])),E=e(r(d[14])),_=e(r(d[15])),k=e(r(d[16])),S=e(r(d[17])),I=e(r(d[18])),O=["headers"];function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(N=function(){return!!e})()}var w=0,A=(function(e){function f(e,o,l){var c,h,b,y;(0,n.default)(this,f),h=this,b=f,b=(0,u.default)(b),(c=(0,s.default)(h,N()?Reflect.construct(b,y||[],(0,u.default)(h).constructor):b.apply(h,y))).CONNECTING=0,c.OPEN=1,c.CLOSING=2,c.CLOSED=3,c.readyState=0,c.url=e,'string'==typeof o&&(o=[o]);var v=l||{},E=v.headers,S=void 0===E?{}:E,I=(0,t.default)(v,O);return I&&'string'==typeof I.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),S.origin=I.origin,delete I.origin),Object.keys(I).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(I).join('`, `')+"`. Did you mean to put these under `headers`?"),Array.isArray(o)||(o=null),c._eventEmitter=new p.default('ios'!==_.default.OS?null:k.default),c._socketId=w++,c._registerEvents(),k.default.connect(e,o,{headers:S},c._socketId),c}return(0,l.default)(f,e),(0,o.default)(f,[{key:"binaryType",get:function(){return this._binaryType},set:function(e){if('blob'!==e&&'arraybuffer'!==e)throw new Error("binaryType must be either 'blob' or 'arraybuffer'");'blob'!==this._binaryType&&'blob'!==e||((0,I.default)(v.default.isAvailable,'Native module BlobModule is required for blob support'),'blob'===e?v.default.addWebSocketHandler(this._socketId):v.default.removeWebSocketHandler(this._socketId)),this._binaryType=e}},{key:"close",value:function(e,t){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(e,t))}},{key:"send",value:function(e){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(e instanceof y.default)return(0,I.default)(v.default.isAvailable,'Native module BlobModule is required for blob support'),void v.default.sendOverSocket(e,this._socketId);if('string'!=typeof e){if(!(e instanceof ArrayBuffer||ArrayBuffer.isView(e)))throw new Error('Unsupported data type');k.default.sendBinary((0,E.default)(e),this._socketId)}else k.default.send(e,this._socketId)}},{key:"ping",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');k.default.ping(this._socketId)}},{key:"_close",value:function(e,t){var n='number'==typeof e?e:1e3,o='string'==typeof t?t:'';k.default.close(n,o,this._socketId),v.default.isAvailable&&'blob'===this._binaryType&&v.default.removeWebSocketHandler(this._socketId)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(e){return e.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var e=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(t){if(t.id===e._socketId){var n=t.data;switch(t.type){case'binary':n=S.default.toByteArray(t.data).buffer;break;case'blob':n=v.default.createFromOptions(t.data)}e.dispatchEvent(new h.default('message',{data:n}))}}),this._eventEmitter.addListener('websocketOpen',function(t){t.id===e._socketId&&(e.readyState=e.OPEN,e.protocol=t.protocol,e.dispatchEvent(new c.default('open')))}),this._eventEmitter.addListener('websocketClosed',function(t){t.id===e._socketId&&(e.readyState=e.CLOSED,e.dispatchEvent(new b.default('close',{code:t.code,reason:t.reason})),e._unregisterEvents(),e.close())}),this._eventEmitter.addListener('websocketFailed',function(t){t.id===e._socketId&&(e.readyState=e.CLOSED,e.dispatchEvent(new c.default('error')),e.dispatchEvent(new b.default('close',{code:1006,reason:t.message})),e._unregisterEvents(),e.close())})]}},{key:"onclose",get:function(){return(0,r(d[19]).getEventHandlerAttribute)(this,'close')},set:function(e){(0,r(d[19]).setEventHandlerAttribute)(this,'close',e)}},{key:"onerror",get:function(){return(0,r(d[19]).getEventHandlerAttribute)(this,'error')},set:function(e){(0,r(d[19]).setEventHandlerAttribute)(this,'error',e)}},{key:"onmessage",get:function(){return(0,r(d[19]).getEventHandlerAttribute)(this,'message')},set:function(e){(0,r(d[19]).setEventHandlerAttribute)(this,'message',e)}},{key:"onopen",get:function(){return(0,r(d[19]).getEventHandlerAttribute)(this,'open')},set:function(e){(0,r(d[19]).setEventHandlerAttribute)(this,'open',e)}}])})(f.default);A.CONNECTING=0,A.OPEN=1,A.CLOSING=2,A.CLOSED=3;_e.default=A},209,[1,4,11,12,18,20,23,186,188,210,211,194,191,201,204,69,212,199,32,196]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=t(r(d[1])),e=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5])),f=t(r(d[6]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}_e.default=(function(t){function f(t,e){var o,v,s,_,y,h;return(0,n.default)(this,f),_=this,y=f,h=[t,e],y=(0,l.default)(y),(s=(0,u.default)(_,c()?Reflect.construct(y,h||[],(0,l.default)(_).constructor):y.apply(_,h)))._data=null==e?void 0:e.data,s._origin=String(null!=(o=null==e?void 0:e.origin)?o:''),s._lastEventId=String(null!=(v=null==e?void 0:e.lastEventId)?v:''),s}return(0,o.default)(f,t),(0,e.default)(f,[{key:"data",get:function(){return this._data}},{key:"origin",get:function(){return this._origin}},{key:"lastEventId",get:function(){return this._lastEventId}}])})(f.default)},210,[1,11,12,18,20,23,186]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),l=e(r(d[5])),c=e(r(d[6]));function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}_e.default=(function(e){function c(e,n){var l,s,v,_;return(0,t.default)(this,c),s=this,v=c,_=[e,n],v=(0,u.default)(v),(l=(0,o.default)(s,f()?Reflect.construct(v,_||[],(0,u.default)(s).constructor):v.apply(s,_)))._wasClean=Boolean(null==n?void 0:n.wasClean),l._code=Number(null==n?void 0:n.code)||0,l._reason=null!=(null==n?void 0:n.reason)?String(n.reason):'',l}return(0,l.default)(c,e),(0,n.default)(c,[{key:"wasClean",get:function(){return this._wasClean}},{key:"code",get:function(){return this._code}},{key:"reason",get:function(){return this._reason}}])})(c.default)},211,[1,11,12,18,20,23,186]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},212,[213]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('WebSocketModule')},213,[31]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}var f=(function(t){function f(t,n,o){var s,v,h,p;return(0,e.default)(this,f),r(d[7])(null!=t&&null!=n,'Failed to construct `File`: Must pass both `parts` and `name` arguments.'),v=this,h=f,p=[t,o],h=(0,l.default)(h),(s=(0,u.default)(v,c()?Reflect.construct(h,p||[],(0,l.default)(v).constructor):h.apply(v,p))).data.name=n,s}return(0,o.default)(f,t),(0,n.default)(f,[{key:"name",get:function(){return r(d[7])(null!=this.data.name,'Files must have a name set.'),this.data.name}},{key:"lastModified",get:function(){return this.data.lastModified||0}}])})(t(r(d[6])).default);_e.default=f},214,[1,11,12,18,20,23,194,32]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),c=t(r(d[8]));function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h=function(){return!!t})()}var y=(function(t){function f(){var t,n,s,l;return(0,e.default)(this,f),n=this,s=f,s=(0,u.default)(s),(t=(0,o.default)(n,h()?Reflect.construct(s,l||[],(0,u.default)(n).constructor):s.apply(n,l))).EMPTY=0,t.LOADING=1,t.DONE=2,t._aborted=!1,t._reset(),t}return(0,s.default)(f,t),(0,n.default)(f,[{key:"_reset",value:function(){this._readyState=0,this._error=null,this._result=null}},{key:"_setReadyState",value:function(t){this._readyState=t,this.dispatchEvent(new l.default('readystatechange')),2===t&&(this._aborted?this.dispatchEvent(new l.default('abort')):this._error?this.dispatchEvent(new l.default('error')):this.dispatchEvent(new l.default('load')),this.dispatchEvent(new l.default('loadend')))}},{key:"readAsArrayBuffer",value:function(t){var e=this;if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsArrayBuffer' on 'FileReader': parameter 1 is not of type 'Blob'");c.default.readAsDataURL(t.data).then(function(t){if(!e._aborted){var n=t.split(',')[1],o=(0,r(d[9]).toByteArray)(n);e._result=o.buffer,e._setReadyState(2)}},function(t){e._aborted||(e._error=t,e._setReadyState(2))})}},{key:"readAsDataURL",value:function(t){var e=this;if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsDataURL' on 'FileReader': parameter 1 is not of type 'Blob'");c.default.readAsDataURL(t.data).then(function(t){e._aborted||(e._result=t,e._setReadyState(2))},function(t){e._aborted||(e._error=t,e._setReadyState(2))})}},{key:"readAsText",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'UTF-8';if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsText' on 'FileReader': parameter 1 is not of type 'Blob'");c.default.readAsText(t.data,n).then(function(t){e._aborted||(e._result=t,e._setReadyState(2))},function(t){e._aborted||(e._error=t,e._setReadyState(2))})}},{key:"abort",value:function(){this._aborted=!0,0!==this._readyState&&2!==this._readyState&&(this._reset(),this._setReadyState(2)),this._reset()}},{key:"readyState",get:function(){return this._readyState}},{key:"error",get:function(){return this._error}},{key:"result",get:function(){return this._result}},{key:"onabort",get:function(){return(0,r(d[10]).getEventHandlerAttribute)(this,'abort')},set:function(t){(0,r(d[10]).setEventHandlerAttribute)(this,'abort',t)}},{key:"onerror",get:function(){return(0,r(d[10]).getEventHandlerAttribute)(this,'error')},set:function(t){(0,r(d[10]).setEventHandlerAttribute)(this,'error',t)}},{key:"onload",get:function(){return(0,r(d[10]).getEventHandlerAttribute)(this,'load')},set:function(t){(0,r(d[10]).setEventHandlerAttribute)(this,'load',t)}},{key:"onloadstart",get:function(){return(0,r(d[10]).getEventHandlerAttribute)(this,'loadstart')},set:function(t){(0,r(d[10]).setEventHandlerAttribute)(this,'loadstart',t)}},{key:"onloadend",get:function(){return(0,r(d[10]).getEventHandlerAttribute)(this,'loadend')},set:function(t){(0,r(d[10]).setEventHandlerAttribute)(this,'loadend',t)}},{key:"onprogress",get:function(){return(0,r(d[10]).getEventHandlerAttribute)(this,'progress')},set:function(t){(0,r(d[10]).setEventHandlerAttribute)(this,'progress',t)}}])})(f.default);y.EMPTY=0,y.LOADING=1,y.DONE=2;_e.default=y},215,[1,11,12,18,20,23,186,188,216,199,196]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},216,[217]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('FileReaderModule')},217,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0,Object.defineProperty(e,"URLSearchParams",{enumerable:!0,get:function(){return r(d[1]).URLSearchParams}});var n=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),h=null;if(u.default&&'string'==typeof u.default.getConstants().BLOB_URI_SCHEME){var c=u.default.getConstants();h=c.BLOB_URI_SCHEME+':','string'==typeof c.BLOB_URI_HOST&&(h+=`//${c.BLOB_URI_HOST}/`)}function f(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)*(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/.test(t)}e.URL=(function(){return(0,s.default)(function t(s,u){(0,n.default)(this,t),this._searchParamsInstance=null;var h=null;if(!u||f(s)){if(this._url=s,this._url.includes('#')){var c=this._url.split('#');c[0].split('://')[1].includes('/')||(this._url=c.join('/#'))}this._url.endsWith('/')||this._url.includes('?')||this._url.includes('#')||(this._url+='/')}else{if('string'==typeof u){if(!f(h=u))throw new TypeError(`Invalid base URL: ${h}`)}else h=u.toString();h.endsWith('/')&&(h=h.slice(0,h.length-1)),s.startsWith('/')||(s=`/${s}`),h.endsWith(s)&&(s=''),this._url=`${h}${s}`}},[{key:"hash",get:function(){var t=this._url.match(/#([^/]*)/);return t?`#${t[1]}`:''}},{key:"host",get:function(){var t=this._url.match(/^https?:\/\/(?:[^@]+@)?([^:/?#]+)/),n=this._url.match(/:(\d+)(?=[/?#]|$)/);return t?t[1]+(n?`:${n[1]}`:''):''}},{key:"hostname",get:function(){var t=this._url.match(/^https?:\/\/(?:[^@]+@)?([^:/?#]+)/);return t?t[1]:''}},{key:"href",get:function(){return this.toString()}},{key:"origin",get:function(){var t=this._url.match(/^(https?:\/\/[^/]+)/);return t?t[1]:''}},{key:"password",get:function(){var t=this._url.match(/https?:\/\/.*:(.*)@/);return t?t[1]:''}},{key:"pathname",get:function(){var t=this._url.match(/https?:\/\/[^/]+(\/[^?#]*)?/);return t&&t[1]||'/'}},{key:"port",get:function(){var t=this._url.match(/:(\d+)(?=[/?#]|$)/);return t?t[1]:''}},{key:"protocol",get:function(){var t=this._url.match(/^([a-zA-Z][a-zA-Z\d+\-.]*):/);return t?t[1]+':':''}},{key:"search",get:function(){var t=this._url.match(/\?([^#]*)/);return t?`?${t[1]}`:''}},{key:"searchParams",get:function(){return null==this._searchParamsInstance&&(this._searchParamsInstance=new URLSearchParams(this.search)),this._searchParamsInstance}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){if(null===this._searchParamsInstance)return this._url;var t=this._searchParamsInstance.toString(),n=this._url.indexOf('?')>-1?'&':'?';return this._url+n+t}},{key:"username",get:function(){var t=this._url.match(/^https?:\/\/([^:@]+)(?::[^@]*)?@/);return t?t[1]:''}}],[{key:"createObjectURL",value:function(t){if(null===h)throw new Error('Cannot create URL for blob!');return`${h}${t.data.blobId}?offset=${t.data.offset}&size=${t.size}`}},{key:"revokeObjectURL",value:function(t){}}])})()},218,[1,219,11,12,192]);
__d(function(g,r,i,_a,m,e,d){var a=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URLSearchParams=void 0;var t=a(r(d[1])),n=a(r(d[2])),s=a(r(d[3])),u=a(r(d[4]));e.URLSearchParams=(function(){return(0,u.default)(function a(t){var u=this;(0,s.default)(this,a),this._searchParams=new Map,null!==t&&('string'==typeof t?t.replace(/^\?/,'').split('&').forEach(function(a){if(a){var t=a.split('=').map(function(a){return decodeURIComponent(a.replace(/\+/g,' '))}),s=(0,n.default)(t,2),o=s[0],f=s[1];u.append(o,f)}}):Array.isArray(t)?t.forEach(function(a){var t=(0,n.default)(a,2),s=t[0],o=t[1];return u.append(s,o)}):'object'==typeof t&&Object.entries(t).forEach(function(a){var t=(0,n.default)(a,2),s=t[0],o=t[1];return u.append(s,o)}))},[{key:"size",get:function(){return this._searchParams.size}},{key:"append",value:function(a,t){var n;this._searchParams.has(a)?null==(n=this._searchParams.get(a))||n.push(t):this._searchParams.set(a,[t])}},{key:"delete",value:function(a){this._searchParams.delete(a)}},{key:"get",value:function(a){var t=this._searchParams.get(a);return t?t[0]:null}},{key:"getAll",value:function(a){var t;return null!=(t=this._searchParams.get(a))?t:[]}},{key:"has",value:function(a){return this._searchParams.has(a)}},{key:"set",value:function(a,t){this._searchParams.set(a,[t])}},{key:"keys",value:function(){return this._searchParams.keys()}},{key:"values",value:function(){return(function*(a){for(var t of a.values())for(var n of t)yield n})(this._searchParams)}},{key:"entries",value:function(){return(function*(a){for(var t of a){var s=(0,n.default)(t,2),u=s[0],o=s[1];for(var f of o)yield[u,f]}})(this._searchParams)}},{key:"forEach",value:function(a){for(var t of this._searchParams){var s=(0,n.default)(t,2),u=s[0],o=s[1];for(var f of o)a(f,u,this)}}},{key:"sort",value:function(){this._searchParams=new Map((0,t.default)(this._searchParams.entries()).sort(function(a,t){var s=(0,n.default)(a,1)[0],u=(0,n.default)(t,1)[0];return s.localeCompare(u)}))}},{key:Symbol.iterator,value:function(){var a=[];for(var t of this._searchParams){var s=(0,n.default)(t,2),u=s[0],o=s[1];for(var f of o)a.push([u,f])}return a[Symbol.iterator]()}},{key:"toString",value:function(){return Array.from(this._searchParams.entries()).map(function(a){var t=(0,n.default)(a,2),s=t[0];return t[1].map(function(a){return`${encodeURIComponent(s).replace(/%20/g,'+')}=${encodeURIComponent(a).replace(/%20/g,'+')}`}).join('&')}).join('&')}}])})()},219,[1,42,34,11,12]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),o=r(d[2]),n=r(d[3]),l=r(d[4]);function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}Object.defineProperty(_e,'__esModule',{value:!0});var c=(function(c){function p(){var e,l,c;throw t(this,p),e=this,l=n(l=p),o(e,u()?Reflect.construct(l,c||[],n(e).constructor):l.apply(e,c)),new TypeError("AbortSignal cannot be constructed directly")}return l(p,c),e(p,[{key:"aborted",get:function(){var t=b.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}])})(r(d[5]).EventTarget);r(d[5]).defineEventAttribute(c.prototype,"abort");var b=new WeakMap;Object.defineProperties(c.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(c.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var p=(function(){return e(function e(){var o;t(this,e),f.set(this,(o=Object.create(c.prototype),r(d[5]).EventTarget.call(o),b.set(o,!1),o))},[{key:"signal",get:function(){return y(this)}},{key:"abort",value:function(){var t;t=y(this),!1===b.get(t)&&(b.set(t,!0),t.dispatchEvent({type:"abort"}))}}])})(),f=new WeakMap;function y(t){var e=f.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(p.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(p.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),_e.AbortController=p,_e.AbortSignal=c,_e.default=p,m.exports=p,m.exports.AbortController=m.exports.default=p,m.exports.AbortSignal=c},220,[11,12,18,20,23,221]);
__d(function(g,r,_i,a,m,e,d){
/**
   * @author Toru Nagashima <https://github.com/mysticatea>
   * @copyright 2015 Toru Nagashima. All rights reserved.
   * See LICENSE file in root directory for full license.
   */
'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=new WeakMap,n=new WeakMap;function o(n){var o=t.get(n);return console.assert(null!=o,"'this' is expected an Event object, but got",n),o}function i(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function l(n,o){t.set(this,{eventTarget:n,event:o,eventPhase:2,currentTarget:n,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:o.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var i=Object.keys(o),l=0;l<i.length;++l){var s=i[l];s in this||Object.defineProperty(this,s,u(s))}}function u(t){return{get:function(){return o(this).event[t]},set:function(n){o(this).event[t]=n},configurable:!0,enumerable:!0}}function s(t){return{value:function(){var n=o(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}function p(t,n){var o=Object.keys(n);if(0===o.length)return t;function i(n,o){t.call(this,n,o)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(var l=0;l<o.length;++l){var p=o[l];if(!(p in t.prototype)){var c="function"==typeof Object.getOwnPropertyDescriptor(n,p).value;Object.defineProperty(i.prototype,p,c?s(p):u(p))}}return i}function c(t){if(null==t||t===Object.prototype)return l;var o=n.get(t);return null==o&&(o=p(c(Object.getPrototypeOf(t)),t),n.set(t,o)),o}function f(t,n){return new(c(Object.getPrototypeOf(n)))(t,n)}function v(t){return o(t).immediateStopped}function y(t,n){o(t).eventPhase=n}function b(t,n){o(t).currentTarget=n}function h(t,n){o(t).passiveListener=n}l.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var t=o(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var t=o(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation:function(){var t=o(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){i(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(t){if(t){var n=o(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(t){t||i(o(this))},initEvent:function(){}},Object.defineProperty(l.prototype,"constructor",{value:l,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(l.prototype,window.Event.prototype),n.set(window.Event.prototype,l));var w=new WeakMap;function T(t){return null!==t&&"object"==typeof t}function P(t){var n=w.get(t);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function x(t){return{get:function(){for(var n=P(this).get(t);null!=n;){if(3===n.listenerType)return n.listener;n=n.next}return null},set:function(n){"function"==typeof n||T(n)||(n=null);for(var o=P(this),i=null,l=o.get(t);null!=l;)3===l.listenerType?null!==i?i.next=l.next:null!==l.next?o.set(t,l.next):o.delete(t):i=l,l=l.next;if(null!==n){var u={listener:n,listenerType:3,passive:!1,once:!1,next:null};null===i?o.set(t,u):i.next=u}},configurable:!0,enumerable:!0}}function E(t,n){Object.defineProperty(t,`on${n}`,x(n))}function O(t){function n(){j.call(this)}n.prototype=Object.create(j.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(var o=0;o<t.length;++o)E(n.prototype,t[o]);return n}function j(){if(!(this instanceof j)){if(1===arguments.length&&Array.isArray(arguments[0]))return O(arguments[0]);if(arguments.length>0){for(var t=new Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return O(t)}throw new TypeError("Cannot call a class as a function")}w.set(this,new Map)}j.prototype={addEventListener:function(t,n,o){if(null!=n){if("function"!=typeof n&&!T(n))throw new TypeError("'listener' should be a function or an object.");var i=P(this),l=T(o),u=(l?Boolean(o.capture):Boolean(o))?1:2,s={listener:n,listenerType:u,passive:l&&Boolean(o.passive),once:l&&Boolean(o.once),next:null},p=i.get(t);if(void 0!==p){for(var c=null;null!=p;){if(p.listener===n&&p.listenerType===u)return;c=p,p=p.next}c.next=s}else i.set(t,s)}},removeEventListener:function(t,n,o){if(null!=n)for(var i=P(this),l=(T(o)?Boolean(o.capture):Boolean(o))?1:2,u=null,s=i.get(t);null!=s;){if(s.listener===n&&s.listenerType===l)return void(null!==u?u.next=s.next:null!==s.next?i.set(t,s.next):i.delete(t));u=s,s=s.next}},dispatchEvent:function(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');var n=P(this),o=t.type,i=n.get(o);if(null==i)return!0;for(var l=f(this,t),u=null;null!=i;){if(i.once?null!==u?u.next=i.next:null!==i.next?n.set(o,i.next):n.delete(o):u=i,h(l,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,l)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else 3!==i.listenerType&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(l);if(v(l))break;i=i.next}return h(l,null),y(l,0),b(l,null),!l.defaultPrevented}},Object.defineProperty(j.prototype,"constructor",{value:j,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(j.prototype,window.EventTarget.prototype),e.defineEventAttribute=E,e.EventTarget=j,e.default=j,m.exports=j,m.exports.EventTarget=m.exports.default=j,m.exports.defineEventAttribute=E},221,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.alert||(g.alert=function(t){r(d[0]).default.alert('Alert',''+t)})},222,[223]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),s=(function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,null,[{key:"alert",value:function(n,o,s,u){if('ios'===l.default.OS)t.prompt(n,o,s,'default',void 0,void 0,u);else if('android'===l.default.OS){var f=r(d[4]).default;if(!f)return;var c=f.getConstants(),v={title:n||'',message:o||'',cancelable:!1};u&&u.cancelable&&(v.cancelable=u.cancelable);var p=s?s.slice(0,3):[{text:"OK"}],y=p.pop(),b=p.pop(),P=p.pop();P&&(v.buttonNeutral=P.text||''),b&&(v.buttonNegative=b.text||''),y&&(v.buttonPositive=y.text||"OK");f.showAlert(v,function(t){return console.warn(t)},function(t,n){t===c.buttonClicked?n===c.buttonNeutral?P.onPress&&P.onPress():n===c.buttonNegative?b.onPress&&b.onPress():n===c.buttonPositive&&y.onPress&&y.onPress():t===c.dismissed&&u&&u.onDismiss&&u.onDismiss()})}}},{key:"prompt",value:function(t,n,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'plain-text',u=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;if('ios'===l.default.OS){var v,p,y,b=[],P=[];'function'==typeof o?b=[o]:Array.isArray(o)&&o.forEach(function(t,n){if(b[n]=t.onPress,'cancel'===t.style?v=String(n):'destructive'===t.style&&(p=String(n)),t.isPreferred&&(y=String(n)),t.text||n<(o||[]).length-1){var l={};l[n]=t.text||'',P.push(l)}}),(0,r(d[5]).alertWithArgs)({title:t||'',message:n||void 0,buttons:P,type:s||void 0,defaultValue:u,cancelButtonKey:v,destructiveButtonKey:p,preferredButtonKey:y,keyboardType:f,userInterfaceStyle:(null==c?void 0:c.userInterfaceStyle)||void 0},function(t,n){var o=b[t];o&&o(n)})}}}])})();e.default=s},223,[1,11,12,69,224,226]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},224,[225]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('DialogManagerAndroid')},225,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.alertWithArgs=function(t,f){if(!n.default)return;n.default.showAlert(t,u,f||u)};var n=t(r(d[1]));function u(){}},226,[1,224]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=g.navigator;void 0===t?g.navigator={product:'ReactNative'}:r(d[0]).polyfillObjectProperty(t,'product',function(){return'ReactNative'})},227,[116]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));(0,t.default)('Systrace',function(){return r(d[2])}),!0!==g.RN$Bridgeless&&(0,t.default)('JSTimers',function(){return r(d[3]).default}),(0,t.default)('RCTLog',function(){return r(d[4]).default}),(0,t.default)('RCTDeviceEventEmitter',function(){return r(d[5]).default}),(0,t.default)('RCTNativeAppEventEmitter',function(){return r(d[6]).default}),(0,t.default)('GlobalPerformanceLogger',function(){return r(d[7]).default}),(0,t.default)('HMRClient',function(){return r(d[8]).default})},228,[1,229,28,170,230,17,231,197,232]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(){if(!0===g.RN$Bridgeless)return function(t,l){'function'!=typeof l?g.RN$registerCallableModule(t,function(){return l}):g.RN$registerCallableModule(t,l)};var t=r(d[0]).default;return function(l,u){'function'!=typeof u?t.registerCallableModule(l,u):t.registerLazyCallableModule(l,u)}})();e.default=t},229,[40]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={log:'log',info:'info',warn:'warn',error:'error',fatal:'error'},n=null,l={logIfNoNativeHook:function(o){for(var t=arguments.length,f=new Array(t>1?t-1:0),v=1;v<t;v++)f[v-1]=arguments[v];void 0===g.nativeLoggingHook?l.logToConsole.apply(l,[o].concat(f)):n&&'warn'===o&&n.apply(void 0,f)},logToConsole:function(n){var l,t=o[n];r(d[0])(t,'Level "'+n+'" not one of '+Object.keys(o).toString());for(var f=arguments.length,v=new Array(f>1?f-1:0),c=1;c<f;c++)v[c-1]=arguments[c];(l=console)[t].apply(l,v)},setWarningHandler:function(o){n=o}};e.default=l},230,[32]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default;e.default=u},231,[1,17]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={setup:function(){},enable:function(){console.error("Fast Refresh is disabled in JavaScript bundles built in production mode. Did you forget to run Metro?")},disable:function(){},registerBundle:function(){},log:function(){}};e.default=n},232,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.__fetchSegment=function(n,t,c){r(d[0]).default.fetchSegment(n,t,function(n){if(n){var t=new Error(n.message);return t.code=n.code,void c(t)}c(null)})}},233,[234]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},234,[235]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('SegmentFetcher')},235,[31]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AppRegistry=void 0;var r=e(_r(d[1])),t=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,r)})(_r(d[2]));_e.AppRegistry=t,t.registerComponent('LogBox',function(){return function(){return null}}),g.RN$AppRegistry=t,g.RN$SurfaceRegistry={renderSurface:t.runApplication,setSurfaceProps:t.setSurfaceProps},(0,r.default)('AppRegistry',t)},236,[1,229,237]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.cancelHeadlessTask=function(n,t){var o=y.get(t);if(!o)throw new Error(`No task canceller registered for key '${t}'`);o()()},e.getAppKeys=function(){return Object.keys(l)},e.getRegistry=function(){return{sections:C(),runnables:Object.assign({},l)}},e.getRunnable=function(n){return l[n]},e.getSectionKeys=C,e.getSections=function(){return Object.assign({},p)},e.registerCancellableHeadlessTask=T,e.registerComponent=v,e.registerConfig=function(n){n.forEach(function(n){n.run?b(n.appKey,n.run):((0,f.default)(null!=n.component,"AppRegistry.registerConfig(...): Every config is expected to set either `run` or `component`, but `%s` has neither.",n.appKey),v(n.appKey,n.component,n.section))})},e.registerHeadlessTask=function(n,t){T(n,t,function(){return function(){}})},e.registerRunnable=b,e.registerSection=function(n,t){v(n,t,!0)},e.runApplication=function(n,t,o){if('LogBox'!==n){var s=`Running "${n}"`;console.log(s)}(0,f.default)(l[n],`"${n}" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and \`AppRegistry.registerComponent\` wasn't called.`),c.default.setActiveScene({name:n}),l[n](t,(0,r(d[6]).coerceDisplayMode)(o))},e.setComponentProviderInstrumentationHook=function(n){k=n},e.setRootViewStyleProvider=function(n){o=n},e.setSurfaceProps=function(n,t,o){if('LogBox'!==n){var s='Updating props for Surface "'+n+'" with '+JSON.stringify(t);console.log(s)}(0,f.default)(l[n],`"${n}" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and \`AppRegistry.registerComponent\` wasn't called.`),l[n](t,(0,r(d[6]).coerceDisplayMode)(o))},e.setWrapperComponentProvider=function(n){t=n},e.startHeadlessTask=function(n,t,o){var s=r(d[8]).default,c=h.get(t);if(!c)return console.warn(`No task registered for key ${t}`),void(s&&s.notifyTaskFinished(n));c()(o).then(function(){s&&s.notifyTaskFinished(n)}).catch(function(t){console.error(t),s&&t instanceof u.default&&s.notifyTaskRetry(n).then(function(t){t||s.notifyTaskFinished(n)})})},e.unmountApplicationComponentAtRootTag=function(n){(0,r(d[7]).unmountComponentAtNodeAndRemoveContainer)(n)};var t,o,s=n(r(d[1])),c=n(r(d[2])),u=n(r(d[3])),f=n(r(d[4])),l={},p={},h=new Map,y=new Map,k=function(n){return n()};function v(n,c,u){var f=(0,s.default)();return l[n]=function(s,u){(0,r(d[5]).default)(k(c,f),s.initialProps,s.rootTag,t&&t(s),o&&o(s),s.fabric,f,'LogBox'===n,n,u)},u&&(p[n]=l[n]),n}function b(n,t){return l[n]=t,n}function C(){return Object.keys(p)}function T(n,t,o){h.has(n)&&console.warn(`registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '${n}'`),h.set(n,t),y.set(n,o)}},237,[1,198,238,239,32,240,247,107,252]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=[],t={name:'default'},u={setActiveScene:function(u){t=u,n.forEach(function(n){return n(t)})},getActiveScene:function(){return t},addActiveSceneChangedListener:function(t){return n.push(t),{remove:function(){n=n.filter(function(n){return t!==n})}}}};e.default=u},238,[]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),l=t(r(d[6]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}_e.default=(function(t){function l(){return(0,u.default)(this,l),t=this,e=l,f=arguments,e=(0,o.default)(e),(0,n.default)(t,c()?Reflect.construct(e,f||[],(0,o.default)(t).constructor):e.apply(t,f));var t,e,f}return(0,f.default)(l,t),(0,e.default)(l)})((0,l.default)(Error))},239,[1,12,11,18,20,23,144]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,f,p,v,h,_,b,y,j,x,O){(0,c.default)(p,'Expect to have a valid rootTag, instead got ',p);var P=null!=b?b:t.default,R=(0,s.jsx)(r.default.Provider,{value:P,children:(0,s.jsx)(i.default,{rootTag:p,fabric:_,WrapperComponent:v,rootViewStyle:h,initialProps:null!=f?f:Object.freeze({}),internal_excludeLogBox:y,children:(0,s.jsx)(e,Object.assign({},f,{rootTag:p}))})});if(O&&null!=x){var w=u.unstable_Activity;R=(0,s.jsx)(w,{mode:x===o.default.VISIBLE?'visible':'hidden',children:R})}var T=Boolean(_);P.startTimespan('renderApplication_React_render'),P.setExtra('usedReactConcurrentRoot',T?'1':'0'),P.setExtra('usedReactFabric',_?'1':'0'),P.setExtra('usedReactProfiler',l.isProfilingRenderer()),l.renderElement({element:R,rootTag:p,useFabric:Boolean(_),useConcurrentRoot:T}),_||(0,n.default)('[OSS][OldArchDeprecatedWarning]','The app is running using the Legacy Architecture. The Legacy Architecture is deprecated and will be removed in a future version of React Native. Please consider migrating to the New Architecture. For more information, please see https://reactnative.dev/blog/2024/10/23/the-new-architecture-is-here');P.stopTimespan('renderApplication_React_render')};var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),l=(e(_r(d[6])),f(_r(d[7]))),c=e(_r(d[8])),u=f(_r(d[9]));_r(d[10]);var s=_r(d[11]);function f(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(f=function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,l)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?i(l,c,o):l[c]=e[c]);return l})(e,t)}},240,[1,197,241,155,242,247,248,107,32,75,249,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.usePerformanceLogger=function(){return(0,r.useContext)(n)};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[2]));var n=(0,r.createContext)(t.default);_e.default=n},241,[1,197,75]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i])})(e,t)})(_r(d[0]));var e=_r(d[1]).default;_e.default=e},242,[75,243]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?n(l,f,i):l[f]=e[f])})(e,t)})(_r(d[3])),_r(d[4]));var n=r.default.create({root:{flex:1}});_e.default=function(e){var r=e.children,i=e.fabric,l=e.initialProps,f=e.rootTag,u=e.WrapperComponent,c=e.rootViewStyle,p=r;return null!=u&&(p=(0,o.jsx)(u,{initialProps:l,fabric:!0===i,children:p})),(0,o.jsx)(_r(d[5]).RootTagContext.Provider,{value:(0,_r(d[5]).createRootTag)(f),children:(0,o.jsx)(t.default,{style:c||n.root,pointerEvents:"box-none",children:p})})}},243,[1,72,6,75,244,246]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},244,[245]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(t,o,f){var l=null;if(void 0!==f&&(l=""+f),void 0!==o.key&&(l=""+o.key),"key"in o)for(var y in f={},o)"key"!==y&&(f[y]=o[y]);else f=o;return o=f.ref,{$$typeof:n,type:t,key:l,ref:void 0!==o?o:null,props:f}}e.Fragment=t,e.jsx=o,e.jsxs=o},245,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.RootTagContext=void 0,_e.createRootTag=function(e){return e};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?r(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.RootTagContext=(0,e.createContext)(0)},246,[75]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.coerceDisplayMode=function(t){switch(t){case D.SUSPENDED:return D.SUSPENDED;case D.HIDDEN:return D.HIDDEN;default:return D.VISIBLE}},e.default=void 0;var D=Object.freeze({VISIBLE:1,SUSPENDED:2,HIDDEN:3});e.default=D},247,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(t){var n=e.get(t);n||((n=function(e){return e.children}).displayName=t,e.set(t,n));return n};!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i])})(e,t)})(_r(d[0]));var e=new Map},248,[75]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),u=n(r(d[2])),f=[];u.default.addListener('hardwareBackPress',function(){for(var n=f.length-1;n>=0;n--){var t;if(null!=(t=f[n])&&t.call(f))return}i.exitApp()});var i={exitApp:function(){t.default&&t.default.invokeDefaultBackPressHandler()},addEventListener:function(n,t){return-1===f.indexOf(t)&&f.push(t),{remove:function(){var n=f.indexOf(t);-1!==n&&f.splice(n,1)}}}};e.default=i},249,[1,250,17]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},250,[251]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('DeviceEventManager')},251,[31]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},252,[253]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('HeadlessJsTaskSupport')},253,[31]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(n)return;n=!0,(0,r(d[0]).polyfillGlobal)('IntersectionObserver',function(){return r(d[1]).default})};var n=!1},254,[116,255]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=e(_r(d[1])),t=e(_r(d[2])),n=e(_r(d[3])),o=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?o(s,l,i):s[l]=e[l]);return s})(e,r)})(_r(d[4]));var i=_e.default=(function(){return(0,t.default)(function e(t,o){var i;if((0,r.default)(this,e),this._observationTargets=new Set,null==t)throw new TypeError("Failed to construct 'IntersectionObserver': 1 argument required, but only 0 present.");if('function'!=typeof t)throw new TypeError("Failed to construct 'IntersectionObserver': parameter 1 is not of type 'Function'.");if(null!=(null==o?void 0:o.root)&&!((null==o?void 0:o.root)instanceof n.default))throw new TypeError("Failed to construct 'IntersectionObserver': Failed to read the 'root' property from 'IntersectionObserverInit': The provided value is not of type '(null or ReactNativeElement)");this._callback=t,this._rootThresholds=l(null==o?void 0:o.rnRootThreshold),this._thresholds=s(null==o?void 0:o.threshold,null!=this._rootThresholds),this._root=null!=(i=null==o?void 0:o.root)?i:null,this._rootMargin=c(null==o?void 0:o.rootMargin)},[{key:"root",get:function(){return this._root}},{key:"rootMargin",get:function(){return this._rootMargin}},{key:"thresholds",get:function(){return this._thresholds}},{key:"rnRootThresholds",get:function(){return this._rootThresholds}},{key:"observe",value:function(e){if(null==e)throw new TypeError("Failed to execute 'observe' on 'IntersectionObserver': parameter 1 is null or undefined.");if(!(e instanceof n.default))throw new TypeError("Failed to execute 'observe' on 'IntersectionObserver': parameter 1 is not of type 'ReactNativeElement'.");this._observationTargets.has(e)||o.observe({intersectionObserverId:this._getOrCreateIntersectionObserverId(),root:this._root,target:e})&&this._observationTargets.add(e)}},{key:"unobserve",value:function(e){if(!(e instanceof n.default))throw new TypeError("Failed to execute 'unobserve' on 'IntersectionObserver': parameter 1 is not of type 'ReactNativeElement'.");if(this._observationTargets.has(e)){var r=this._intersectionObserverId;null!=r?(o.unobserve(r,e),this._observationTargets.delete(e),0===this._observationTargets.size&&(o.unregisterObserver(r),this._intersectionObserverId=null)):console.error("Unexpected state in 'IntersectionObserver': could not find observer ID to unobserve target.")}}},{key:"disconnect",value:function(){for(var e of this._observationTargets.keys())this.unobserve(e)}},{key:"_getOrCreateIntersectionObserverId",value:function(){var e=this._intersectionObserverId;return null==e&&(e=o.registerObserver(this,this._callback),this._intersectionObserverId=e),e}},{key:"__getObserverID",value:function(){return this._intersectionObserverId}}])})();function s(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(e))return e.length>0?e.map(function(e){return u(e,'threshold')}).map(function(e){return null!=e?e:0}).sort():r?[]:[0];var t=u(e,'threshold');return null==t?r?[]:[0]:[t]}function l(e){if(Array.isArray(e)){var r=e.map(function(e){return u(e,'rnRootThreshold')}).filter(function(e){return null!=e}).sort();return 0===r.length?null:r}var t=u(e,'rnRootThreshold');return null==t?null:[t]}function u(e,r){if(null==e)return null;var t=Number(e);if(!Number.isFinite(t))throw new TypeError(`Failed to read the '${r}' property from 'IntersectionObserverInit': The provided double value is non-finite.`);if(t<0||t>1)throw new RangeError("Failed to construct 'IntersectionObserver': Threshold values must be numbers between 0 and 1");return t}function c(e){if(null==e||''===e)return'0px 0px 0px 0px';if('string'!=typeof e)throw new TypeError("Failed to construct 'IntersectionObserver': Failed to read the 'rootMargin' property from 'IntersectionObserverInit': The provided value is not of type 'string'.");var r=e.trim();if(''===r)return'0px 0px 0px 0px';var t=r.split(/\s+/);if(t.length>4)throw new SyntaxError("Failed to construct 'IntersectionObserver': Failed to parse rootMargin: Too many values (expected 1-4).");var n,o=/^-?\d+(\.\d+)?(px|%)$/;for(var i of t)if(!o.test(i))throw new SyntaxError(`Failed to construct 'IntersectionObserver': Failed to parse rootMargin: '${i}' is not a valid length. Only 'px' and '%' units are allowed.`);switch(t.length){case 1:n=[t[0],t[0],t[0],t[0]];break;case 2:n=[t[0],t[1],t[0],t[1]];break;case 3:n=[t[0],t[1],t[2],t[1]];break;case 4:n=t;break;default:throw new SyntaxError("Failed to construct 'IntersectionObserver': Failed to parse rootMargin.")}return n.join(' ')}(0,_r(d[5]).setPlatformObject)(i)},255,[1,11,12,130,256,119]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.observe=function(e){var r=e.intersectionObserverId,t=e.root,n=e.target;if(null==o.default)return p(),!1;var i=u.get(r);if(null==i)return console.error(`IntersectionObserverManager: could not start observing target because IntersectionObserver with ID ${r} was not registered.`),!1;var c=(0,_r(d[6]).getNativeNodeReference)(n);if(null==c)return!1;var f=(0,_r(d[6]).getInstanceHandle)(n);if(null==f)return console.error('IntersectionObserverManager: could not find reference to instance handle from target'),!1;var I=null!=t?(0,_r(d[6]).getNativeNodeReference)(t):null;if(null!=t&&null==I)return console.error('IntersectionObserverManager: could not find shadow node for observation root'),!1;v(f,n),l||(o.default.connect(O),l=!0);var h=(0,s.default)(o.default.observeV2)({intersectionObserverId:r,rootShadowNode:I,targetShadowNode:c,thresholds:i.observer.thresholds,rootThresholds:i.observer.rnRootThresholds,rootMargin:i.observer.rootMargin});return b.set(n,h),!0},_e.registerObserver=function(e,r){var t=i;return i++,u.set(t,{observer:e,callback:r}),t},_e.unobserve=function(e,r){if(null==o.default)return void p();if(null==u.get(e))return void console.error(`IntersectionObserverManager: could not stop observing target because IntersectionObserver with ID ${e} was not registered.`);var t=b.get(r);if(null==t)return void console.error('IntersectionObserverManager: could not find registration data for target');(0,s.default)(o.default.unobserveV2)(e,t)},_e.unregisterObserver=function(e){u.delete(e)&&0===u.size&&(null==o.default||o.default.disconnect(),l=!1)};var r=e(_r(d[1])),t=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,s,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,i)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(s.get||s.set)?o(i,l,s):i[l]=e[l]);return i})(e,r)})(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),s=e(_r(d[5]));var i=1,l=!1,u=new Map,c=new WeakMap;function f(e){var r=e;return c.get(r)}function v(e,r){var t=e;c.set(t,r)}var b=new WeakMap;function O(){t.beginEvent('IntersectionObserverManager.notifyIntersectionObservers');try{I()}finally{t.endEvent()}}function I(){if(null!=o.default){var e=o.default.takeRecords(),t=new Map;for(var n of e){var s=t.get(n.intersectionObserverId);null==s&&(s=[],t.set(n.intersectionObserverId,s));var i=f(n.targetInstanceHandle);null!=i?s.push((0,_r(d[7]).createIntersectionObserverEntry)(n,i)):console.warn('Could not find target to create IntersectionObserverEntry')}for(var l of t){var c=(0,r.default)(l,2),v=c[0],b=c[1],O=u.get(v);if(!O)return;var I=O.observer,h=O.callback;try{h.call(I,b,I)}catch(e){console.error(e)}}}else p()}function p(){(0,n.default)('missing-native-intersection-observer','Missing native implementation of IntersectionObserver')}},256,[1,34,28,155,257,81,126,258]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('NativeIntersectionObserverCxx')},257,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createIntersectionObserverEntry=function(t,n){return new h(t,n)},e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),h=e.default=(function(){return(0,u.default)(function t(u,o){(0,n.default)(this,t),this._nativeEntry=u,this._target=o},[{key:"boundingClientRect",get:function(){var t=this._nativeEntry.targetRect;return new o.default(t[0],t[1],t[2],t[3])}},{key:"intersectionRatio",get:function(){var t=this.intersectionRect,n=this.boundingClientRect;if(0===n.width||0===n.height)return 0;var u=t.width*t.height/(n.width*n.height);return Math.min(u,1)}},{key:"rnRootIntersectionRatio",get:function(){var t=this.intersectionRect,n=this._nativeEntry.rootRect,u=new o.default(n[0],n[1],n[2],n[3]);if(0===u.width||0===u.height)return 0;var h=t.width*t.height/(u.width*u.height);return Math.min(h,1)}},{key:"intersectionRect",get:function(){var t=this._nativeEntry.intersectionRect;return null==t?new o.default:new o.default(t[0],t[1],t[2],t[3])}},{key:"isIntersecting",get:function(){return this._nativeEntry.isIntersectingAboveThresholds}},{key:"rootBounds",get:function(){var t=this._nativeEntry.rootRect;return new o.default(t[0],t[1],t[2],t[3])}},{key:"target",get:function(){return this._target}},{key:"time",get:function(){return this._nativeEntry.time}}])})();(0,r(d[4]).setPlatformObject)(h)},258,[1,11,12,118,119]);
__d(function(g,r,i,a,m,e,d){m.exports={get BatchedBridge(){return r(d[0]).default},get ExceptionsManager(){return r(d[1]).default},get Platform(){return r(d[2]).default},get RCTEventEmitter(){return r(d[3]).default},get ReactNativeViewConfigRegistry(){return r(d[4])},get TextInputState(){return r(d[5]).default},get UIManager(){return r(d[6]).default},get deepDiffer(){return r(d[7]).default},get deepFreezeAndThrowOnMutationInDev(){return r(d[8]).default},get flattenStyle(){return r(d[9]).default},get ReactFiberErrorDialog(){return r(d[10]).default},get legacySendAccessibilityEvent(){return r(d[11]).default},get RawEventEmitter(){return r(d[12]).default},get CustomEvent(){return r(d[13]).default},get createAttributePayload(){return r(d[14]).create},get diffAttributePayloads(){return r(d[14]).diff},get createPublicRootInstance(){return r(d[15]).createPublicRootInstance},get createPublicInstance(){return r(d[15]).createPublicInstance},get createPublicTextInstance(){return r(d[15]).createPublicTextInstance},get getNativeTagFromPublicInstance(){return r(d[15]).getNativeTagFromPublicInstance},get getNodeFromPublicInstance(){return r(d[15]).getNodeFromPublicInstance},get getInternalInstanceHandleFromPublicInstance(){return r(d[15]).getInternalInstanceHandleFromPublicInstance}}},259,[40,175,69,260,100,131,80,137,261,9,262,263,264,265,136,266]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f={register:function(t){(0,u.default)('RCTEventEmitter',t)}};e.default=f},260,[1,229]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return t}},261,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,f,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,i)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(f.get||f.set)?o(i,c,f):i[c]=e[c]);return i})(e,r)})(_r(d[0]));var r={showErrorDialog:function(r){var t,n=r.componentStack,o=r.error;t=o instanceof Error?o:'string'==typeof o?new e.SyntheticError(o):new e.SyntheticError('Unspecified error');try{t.componentStack=n,t.isComponentError=!0}catch(e){}return e.default.handleException(t,!1),!1}};_e.default=r},262,[175]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),c=t(r(d[2]));e.default=function(t,l){'focus'===l&&(0,c.default)(s.default.sendAccessibilityEvent)(t,s.default.getConstants().AccessibilityEventTypes.typeViewFocused),'click'===l&&(0,c.default)(s.default.sendAccessibilityEvent)(t,s.default.getConstants().AccessibilityEventTypes.typeViewClicked)}},263,[1,80,81]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=new(t(r(d[1])).default);e.default=u},264,[1,25]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5])),f=t(r(d[6]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}_e.default=(function(t){function f(t,u){var o,v,s,_;return(0,e.default)(this,f),v=this,s=f,_=[t,u],s=(0,l.default)(s),(o=(0,n.default)(v,c()?Reflect.construct(s,_||[],(0,l.default)(v).constructor):s.apply(v,_)))._detail=null==u?void 0:u.detail,o}return(0,o.default)(f,t),(0,u.default)(f,[{key:"detail",get:function(){return this._detail}}])})(f.default)},265,[1,11,12,18,20,23,186]);
__d(function(g,_r,_i,a,m,_e,d){var n=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createPublicInstance=function(n,e,r,u){return new t.default(n,e,r,u)},_e.createPublicRootInstance=function(n){return(0,e.createReactNativeDocument)(n)},_e.createPublicTextInstance=function(n,e){return new r.default(n,e)},_e.getInternalInstanceHandleFromPublicInstance=function(n){if(null!=n._internalInstanceHandle)return n._internalInstanceHandle;return n.__internalInstanceHandle},_e.getNativeTagFromPublicInstance=function(n){return n.__nativeTag},_e.getNodeFromPublicInstance=function(n){if(null==n.__internalInstanceHandle)return null;return u.getNodeFromInternalInstanceHandle(n.__internalInstanceHandle)};var e=c(_r(d[1])),t=n(_r(d[2])),r=n(_r(d[3])),u=c(_r(d[4]));function c(n,e){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(c=function(n,e){if(!e&&n&&n.__esModule)return n;var u,c,l={__proto__:null,default:n};if(null===n||"object"!=typeof n&&"function"!=typeof n)return l;if(u=e?r:t){if(u.has(n))return u.get(n);u.set(n,l)}for(var i in n)"default"!==i&&{}.hasOwnProperty.call(n,i)&&((c=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,i))&&(c.get||c.set)?u(l,i,c):l[i]=n[i]);return l})(n,e)}},266,[1,129,130,139,107]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},267,[268]);
__d(function(g,r,i,_a,m,e,d){
/**
   * @license React
   * scheduler.native.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function n(n,t){var u=n.length;n.push(t);e:for(;0<u;){var a=u-1>>>1,o=n[a];if(!(0<l(o,t)))break e;n[a]=t,n[u]=o,u=a}}function t(n){return 0===n.length?null:n[0]}function u(n){if(0===n.length)return null;var t=n[0],u=n.pop();if(u!==t){n[0]=u;e:for(var a=0,o=n.length,f=o>>>1;a<f;){var c=2*(a+1)-1,s=n[c],b=c+1,v=n[b];if(0>l(s,u))b<o&&0>l(v,s)?(n[a]=v,n[b]=u,a=b):(n[a]=s,n[c]=u,a=c);else{if(!(b<o&&0>l(v,u)))break e;n[a]=v,n[b]=u,a=b}}}return t}function l(n,t){var u=n.sortIndex-t.sortIndex;return 0!==u?u:n.id-t.id}var a;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;a=function(){return o.now()}}else{var f=Date,c=f.now();a=function(){return f.now()-c}}var s=[],b=[],v=1,y=null,p=3,h=!1,_=!1,R=!1,k=!1,S="function"==typeof setTimeout?setTimeout:null,P="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function I(l){for(var a=t(b);null!==a;){if(null===a.callback)u(b);else{if(!(a.startTime<=l))break;u(b),a.sortIndex=a.expirationTime,n(s,a)}a=t(b)}}function T(n){if(R=!1,I(n),!_)if(null!==t(s))_=!0,C||(C=!0,x());else{var u=t(b);null!==u&&U(T,u.startTime-n)}}var x,C=!1,L=-1,M=-1;function N(){return!!k||!(5>a()-M)}function j(){if(k=!1,C){var n=a();M=n;var l=!0;try{e:{_=!1,R&&(R=!1,P(L),L=-1),h=!0;var o=p;try{n:{for(I(n),y=t(s);null!==y&&!(y.expirationTime>n&&N());){var f=y.callback;if("function"==typeof f){y.callback=null,p=y.priorityLevel;var c=f(y.expirationTime<=n);if(n=a(),"function"==typeof c){y.callback=c,I(n),l=!0;break n}y===t(s)&&u(s),I(n)}else u(s);y=t(s)}if(null!==y)l=!0;else{var v=t(b);null!==v&&U(T,v.startTime-n),l=!1}}break e}finally{y=null,p=o,h=!1}l=void 0}}finally{l?x():C=!1}}}if("function"==typeof w)x=function(){w(j)};else if("undefined"!=typeof MessageChannel){var q=new MessageChannel,B=q.port2;q.port1.onmessage=j,x=function(){B.postMessage(null)}}else x=function(){S(j,0)};function U(n,t){L=S(function(){n(a())},t)}var Y="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_UserBlockingPriority:2,D="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_NormalPriority:3,E="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_LowPriority:4,F="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_ImmediatePriority:1,W="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_scheduleCallback:function(u,l,o){var f=a();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?f+o:f:o=f,u){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return u={id:v++,callback:l,priorityLevel:u,startTime:o,expirationTime:c=o+c,sortIndex:-1},o>f?(u.sortIndex=o,n(b,u),null===t(s)&&u===t(b)&&(R?(P(L),L=-1):R=!0,U(T,o-f))):(u.sortIndex=c,n(s,u),_||h||(_=!0,C||(C=!0,x()))),u},z="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_cancelCallback:function(n){n.callback=null},A="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_getCurrentPriorityLevel:function(){return p},G="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_shouldYield:N,H="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_requestPaint:function(){k=!0},J="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_now:a;function K(){throw Error("Not implemented.")}e.unstable_IdlePriority="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_IdlePriority:5,e.unstable_ImmediatePriority=F,e.unstable_LowPriority=E,e.unstable_NormalPriority=D,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=Y,e.unstable_cancelCallback=z,e.unstable_forceFrameRate=K,e.unstable_getCurrentPriorityLevel=A,e.unstable_next=K,e.unstable_now=J,e.unstable_requestPaint=H,e.unstable_runWithPriority=K,e.unstable_scheduleCallback=W,e.unstable_shouldYield=G,e.unstable_wrapCallback=K},268,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=r(d[0]);e.default=t},269,[270]);
__d(function(e,n,t,l,r,a,i){"use strict";n(i[0]);var u,o,s=n(i[1]),c=Array.isArray,f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,d=Object.assign;function p(e){if(void 0===u)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);u=n&&n[1]||"",o=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+u+e+o}var h=!1;function m(e,n){if(!e||h)return"";h=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var l=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){l=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){l=e}(t=e())&&"function"==typeof t.catch&&t.catch(function(){})}}catch(e){if(e&&l&&"string"==typeof e.stack)return[e.stack,l.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=l.DetermineComponentFrameRoot(),i=a[0],u=a[1];if(i&&u){var o=i.split("\n"),s=u.split("\n");for(r=l=0;l<o.length&&!o[l].includes("DetermineComponentFrameRoot");)l++;for(;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;if(l===o.length||r===s.length)for(l=o.length-1,r=s.length-1;1<=l&&0<=r&&o[l]!==s[r];)r--;for(;1<=l&&0<=r;l--,r--)if(o[l]!==s[r]){if(1!==l||1!==r)do{if(l--,0>--r||o[l]!==s[r]){var c="\n"+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=l&&0<=r);break}}}finally{h=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?p(t):""}function g(e,n){switch(e.tag){case 26:case 27:case 5:return p(e.type);case 16:return p("Lazy");case 13:return e.child!==n&&null!==n?p("Suspense Fallback"):p("Suspense");case 19:return p("SuspenseList");case 0:case 15:return m(e.type,!1);case 11:return m(e.type.render,!1);case 1:return m(e.type,!0);case 31:return p("Activity");default:return""}}function v(e){try{var n="",t=null;do{n+=g(e,t),t=e,e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var L=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function U(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var F=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===F?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList";case N:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case S:return"Portal";case P:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(n=e.displayName||null)?n:A(e.type)||"Memo";case _:n=e._payload,e=e._init;try{return A(e(n))}catch(e){}}return null}var M=!1,D=null,j=null,Q=null,H=null;function O(e,n,t){e.currentTarget=H(t);try{n(e)}catch(e){M||(M=!0,D=e)}e.currentTarget=null}function V(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(c(n))throw Error("Invalid `event`.");return e.currentTarget=n?H(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function B(){return!0}function W(){return!1}function $(e,n,t,l){for(var r in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(r)&&((n=e[r])?this[r]=n(t):"target"===r?this.target=l:this[r]=t[r]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?B:W,this.isPropagationStopped=W,this}function q(e,n,t,l){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,n,t,l),r}return new this(e,n,t,l)}function Y(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function X(e){e.getPooled=q,e.eventPool=[],e.release=Y}d($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=B)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=B)},persist:function(){this.isPersistent=B},isPersistent:W,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=W,this._dispatchInstances=this._dispatchListeners=null}}),$.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},$.extend=function(e){function n(){}function t(){return l.apply(this,arguments)}var l=this;n.prototype=l.prototype;var r=new n;return d(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=d({},l.Interface,e),t.extend=l.extend,X(t),t},X($);var G=$.extend({touchHistory:function(){return null}});function J(e){return"topTouchStart"===e}function K(e){return"topTouchMove"===e}var Z=["topTouchStart"],ee=["topTouchMove"],ne=["topTouchCancel","topTouchEnd"],te=[],le={touchBank:te,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function re(e){return e.timeStamp||e.timestamp}function ae(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function ie(e){var n=ae(e),t=te[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=re(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=re(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=re(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:re(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:re(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:re(e)},te[n]=t),le.mostRecentTimeStamp=re(e)}function ue(e){var n=te[ae(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=re(e),le.mostRecentTimeStamp=re(e))}function oe(e){var n=te[ae(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=re(e),le.mostRecentTimeStamp=re(e))}var se,ce={instrument:function(e){se=e},recordTouchTrack:function(e,n){if(null!=se&&se(e,n),K(e))n.changedTouches.forEach(ue);else if(J(e))n.changedTouches.forEach(ie),le.numberActiveTouches=n.touches.length,1===le.numberActiveTouches&&(le.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(oe),le.numberActiveTouches=n.touches.length,1===le.numberActiveTouches))for(e=0;e<te.length;e++)if(null!=(n=te[e])&&n.touchActive){le.indexOfSingleActiveTouch=e;break}},touchHistory:le};function fe(e,n){if(null==n)throw Error("Accumulated items must not be null or undefined.");return null==e?n:c(e)?e.concat(n):c(n)?[e].concat(n):[e,n]}function de(e,n){if(null==n)throw Error("Accumulated items must not be null or undefined.");return null==e?n:c(e)?c(n)?(e.push.apply(e,n),e):(e.push(n),e):c(n)?[e].concat(n):[e,n]}function pe(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var he=null,me=0;function ge(e,n){var t=he;he=e,null!==Pe.GlobalResponderHandler&&Pe.GlobalResponderHandler.onChange(t,e,n)}var ve={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:Z},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:ee},responderStart:{registrationName:"onResponderStart",dependencies:Z},responderMove:{registrationName:"onResponderMove",dependencies:ee},responderEnd:{registrationName:"onResponderEnd",dependencies:ne},responderRelease:{registrationName:"onResponderRelease",dependencies:ne},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function be(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function ye(e,n,t){for(var l=[];e;)l.push(e),e=be(e);for(e=l.length;0<e--;)n(l[e],"captured",t);for(e=0;e<l.length;e++)n(l[e],"bubbled",t)}function Se(e,n){if(null===(e=e.stateNode))return null;if(null===(e=j(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function ke(e,n,t){(n=Se(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=de(t._dispatchListeners,n),t._dispatchInstances=de(t._dispatchInstances,e))}function we(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Se(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=de(e._dispatchListeners,t),e._dispatchInstances=de(e._dispatchInstances,n))}}}function Ee(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;ye(n=n?be(n):null,ke,e)}}function Te(e){e&&e.dispatchConfig.phasedRegistrationNames&&ye(e._targetInst,ke,e)}var Pe={_getResponder:function(){return he},eventTypes:ve,extractEvents:function(e,n,t,l){if(J(e))me+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=me))return null;--me}if(ce.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<me&&"topSelectionChange"===e||J(e)||K(e))){var r=J(e)?ve.startShouldSetResponder:K(e)?ve.moveShouldSetResponder:"topSelectionChange"===e?ve.selectionChangeShouldSetResponder:ve.scrollShouldSetResponder;if(he)e:{for(var a=he,i=0,u=a;u;u=be(u))i++;u=0;for(var o=n;o;o=be(o))u++;for(;0<i-u;)a=be(a),i--;for(;0<u-i;)n=be(n),u--;for(;i--;){if(a===n||a===n.alternate)break e;a=be(a),n=be(n)}a=null}else a=n;a=(n=a)===he,(r=G.getPooled(r,n,t,l)).touchHistory=ce.touchHistory,pe(r,a?Ee:Te);e:{if(a=r._dispatchListeners,n=r._dispatchInstances,c(a)){for(i=0;i<a.length&&!r.isPropagationStopped();i++)if(a[i](r,n[i])){a=n[i];break e}}else if(a&&a(r,n)){a=n;break e}a=null}if(r._dispatchInstances=null,r._dispatchListeners=null,r.isPersistent()||r.constructor.release(r),a&&a!==he)if((r=G.getPooled(ve.responderGrant,a,t,l)).touchHistory=ce.touchHistory,pe(r,we),n=!0===V(r),he)if((i=G.getPooled(ve.responderTerminationRequest,he,t,l)).touchHistory=ce.touchHistory,pe(i,we),u=!i._dispatchListeners||V(i),i.isPersistent()||i.constructor.release(i),u){(i=G.getPooled(ve.responderTerminate,he,t,l)).touchHistory=ce.touchHistory,pe(i,we);var s=fe(s,[r,i]);ge(a,n)}else(r=G.getPooled(ve.responderReject,a,t,l)).touchHistory=ce.touchHistory,pe(r,we),s=fe(s,r);else s=fe(s,r),ge(a,n);else s=null}else s=null;if(r=he&&J(e),a=he&&K(e),n=he&&("topTouchEnd"===e||"topTouchCancel"===e),(r=r?ve.responderStart:a?ve.responderMove:n?ve.responderEnd:null)&&((r=G.getPooled(r,he,t,l)).touchHistory=ce.touchHistory,pe(r,we),s=fe(s,r)),r=he&&"topTouchCancel"===e,e=he&&!r&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!=(n=e[a].target)&&0!==n){i=Q(n);n:{for(n=he;i;){if(n===i||n===i.alternate){n=!0;break n}i=be(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=r?ve.responderTerminate:e?ve.responderRelease:null)&&((t=G.getPooled(e,he,t,l)).touchHistory=ce.touchHistory,pe(t,we),s=fe(s,t),ge(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){Pe.GlobalResponderHandler=e}}},ze=null,Ce={};function Re(){if(ze)for(var e in Ce){var n=Ce[e],t=ze.indexOf(e);if(-1>=t)throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!_e[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var l in _e[t]=n,t=n.eventTypes){var r=void 0,a=t[l];if(Ne.hasOwnProperty(l))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+l+"`.");Ne[l]=a;var i=a.phasedRegistrationNames;if(i){for(r in i)i.hasOwnProperty(r)&&xe(i[r],n);r=!0}else a.registrationName?(xe(a.registrationName,n),r=!0):r=!1;if(!r)throw Error("EventPluginRegistry: Failed to publish event `"+l+"` for plugin `"+e+"`.")}}}}function xe(e,n){if(Le[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");Le[e]=n}var _e=[],Ne={},Le={};function Ie(e,n){if(null===(e=e.stateNode))return null;if(null===(e=j(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}var Ue=n(i[2]).ReactNativeViewConfigRegistry.customBubblingEventTypes,Fe=n(i[2]).ReactNativeViewConfigRegistry.customDirectEventTypes;function Ae(e,n,t){(n=Ie(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=de(t._dispatchListeners,n),t._dispatchInstances=de(t._dispatchInstances,e))}function Me(e,n,t,l){for(var r=[];e;){r.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=r.length;0<e--;)n(r[e],"captured",t);if(l)n(r[0],"bubbled",t);else for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function De(e){e&&e.dispatchConfig.phasedRegistrationNames&&Me(e._targetInst,Ae,e,!1)}function je(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Ie(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=de(e._dispatchListeners,t),e._dispatchInstances=de(e._dispatchInstances,n))}}}if(ze)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");ze=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),Re();var Qe,He={ResponderEventPlugin:Pe,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,l){if(null==n)return null;var r=Ue[e],a=Fe[e];if(!r&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=$.getPooled(r||a,n,t,l),r)null!=e&&null!=e.dispatchConfig.phasedRegistrationNames&&e.dispatchConfig.phasedRegistrationNames.skipBubbling?e&&e.dispatchConfig.phasedRegistrationNames&&Me(e._targetInst,Ae,e,!0):pe(e,De);else{if(!a)return null;pe(e,je)}return e}}},Oe=!1;for(Qe in He)if(He.hasOwnProperty(Qe)){var Ve=He[Qe];if(!Ce.hasOwnProperty(Qe)||Ce[Qe]!==Ve){if(Ce[Qe])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+Qe+"`.");Ce[Qe]=Ve,Oe=!0}}Oe&&Re();var Be=new Map,We=new Map;function $e(e){return Be.get(e)||null}function qe(e,n){return e(n)}var Ye=!1;function Xe(e,n){if(Ye)return e(n);Ye=!0;try{return qe(e,n)}finally{Ye=!1}}var Ge=null;function Je(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(c(n))for(var l=0;l<n.length&&!e.isPropagationStopped();l++)O(e,n[l],t[l]);else n&&O(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var Ke={};function Ze(e,n,t){var l=t||Ke,r=$e(e),a=null;null!=r&&(a=r.stateNode),Xe(function(){for(var e=a,t=null,i=_e,u=0;u<i.length;u++){var o=i[u];o&&(o=o.extractEvents(n,r,l,e))&&(t=de(t,o))}if(null!==(e=t)&&(Ge=de(Ge,e)),e=Ge,Ge=null,e){if(pe(e,Je),Ge)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(M)throw e=D,M=!1,D=null,e}})}function en(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function nn(e){if(en(e)!==e)throw Error("Unable to find node on an unmounted component.")}function tn(e){var n=e.alternate;if(!n){if(null===(n=en(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,l=n;;){var r=t.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(l=r.return)){t=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===t)return nn(r),e;if(a===l)return nn(r),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==l.return)t=r,l=a;else{for(var i=!1,u=r.child;u;){if(u===t){i=!0,t=r,l=a;break}if(u===l){i=!0,l=r,t=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===t){i=!0,t=a,l=r;break}if(u===l){i=!0,l=a,t=r;break}u=u.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==l)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function ln(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=ln(e)))return n;e=e.sibling}return null}n(i[2]).RCTEventEmitter.register({receiveEvent:function(e,n,t){Ze(e,n,t)},receiveTouches:function(e,n,t){if("topTouchEnd"===e||"topTouchCancel"===e){for(var l=[],r=0;r<t.length;r++){var a=t[r];l.push(n[a]),n[a]=null}for(r=t=0;r<n.length;r++)null!==(a=n[r])&&(n[t++]=a);n.length=t}else for(l=[],r=0;r<t.length;r++)l.push(n[t[r]]);for(t=0;t<l.length;t++){(r=l[t]).changedTouches=l,r.touches=n,a=null;var i=r.target;null==i||1>i||(a=i),Ze(a,e,r)}}}),j=function(e){return We.get(e._nativeTag)||null},Q=$e,H=function(e){var n=(e=e.stateNode)._nativeTag;if(void 0===n&&null!=e.canonical&&(n=e.canonical.nativeTag,e=e.canonical.publicInstance),!n)throw Error("All native instances should have a tag.");return e},Pe.injection.injectGlobalResponderHandler({onChange:function(e,t,l){null!==t?n(i[2]).UIManager.setJSResponder(t.stateNode._nativeTag,l):n(i[2]).UIManager.clearJSResponder()}});var rn={},an=null,un=0,on={unsafelyIgnoreFunctions:!0};function sn(e,t){return"object"!=typeof t||null===t||n(i[2]).deepDiffer(e,t,on)}function cn(e,n,t){if(c(n))for(var l=n.length;l--&&0<un;)cn(e,n[l],t);else if(n&&0<un)for(l in an)if(an[l]){var r=n[l];if(void 0!==r){var a=t[l];a&&("function"==typeof r&&(r=!0),void 0===r&&(r=null),"object"!=typeof a?e[l]=r:"function"!=typeof a.diff&&"function"!=typeof a.process||(r="function"==typeof a.process?a.process(r):r,e[l]=r),an[l]=!1,un--)}}}function fn(e,t,l,r){if(!e&&t===l)return e;if(!t||!l)return l?dn(e,l,r):t?pn(e,t,r):e;if(!c(t)&&!c(l))return hn(e,t,l,r);if(c(t)&&c(l)){var a,u=t.length<l.length?t.length:l.length;for(a=0;a<u;a++)e=fn(e,t[a],l[a],r);for(;a<t.length;a++)e=pn(e,t[a],r);for(;a<l.length;a++)e=dn(e,l[a],r);return e}return c(t)?hn(e,n(i[2]).flattenStyle(t),l,r):hn(e,t,n(i[2]).flattenStyle(l),r)}function dn(e,n,t){if(!n)return e;if(!c(n))return hn(e,rn,n,t);for(var l=0;l<n.length;l++)e=dn(e,n[l],t);return e}function pn(e,n,t){if(!n)return e;if(!c(n))return hn(e,n,rn,t);for(var l=0;l<n.length;l++)e=pn(e,n[l],t);return e}function hn(e,n,t,l){var r,a;for(a in t)if(r=l[a]){var i=n[a],u=t[a];"function"==typeof u&&(u=!0,"function"==typeof i&&(i=!0)),void 0===u&&(u=null,void 0===i&&(i=null)),an&&(an[a]=!1),e&&void 0!==e[a]?"object"!=typeof r?e[a]=u:"function"!=typeof r.diff&&"function"!=typeof r.process||(r="function"==typeof r.process?r.process(u):u,e[a]=r):i!==u&&("object"!=typeof r?sn(i,u)&&((e||(e={}))[a]=u):"function"==typeof r.diff||"function"==typeof r.process?(void 0===i||("function"==typeof r.diff?r.diff(i,u):sn(i,u)))&&(r="function"==typeof r.process?r.process(u):u,(e||(e={}))[a]=r):(an=null,un=0,e=fn(e,i,u,r),0<un&&e&&(cn(e,u,r),an=null)))}for(var o in n)void 0===t[o]&&(!(r=l[o])||e&&void 0!==e[o]||void 0!==(i=n[o])&&("object"!=typeof r||"function"==typeof r.diff||"function"==typeof r.process?((e||(e={}))[o]=null,an||(an={}),an[o]||(an[o]=!0,un++)):e=pn(e,i,r)));return e}function mn(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var gn=(function(){function e(e,n){this.viewConfig=this._internalFiberInstanceHandleDEV=void 0,this._nativeTag=e,this._children=[],this.viewConfig=n}var t=e.prototype;return t.blur=function(){n(i[2]).TextInputState.blurTextInput(this)},t.focus=function(){n(i[2]).TextInputState.focusTextInput(this)},t.measure=function(e){n(i[2]).UIManager.measure(this._nativeTag,mn(this,e))},t.measureInWindow=function(e){n(i[2]).UIManager.measureInWindow(this._nativeTag,mn(this,e))},t.measureLayout=function(e,t,l){if("number"==typeof e)var r=e;else e._nativeTag&&(r=e._nativeTag);null!=r&&n(i[2]).UIManager.measureLayout(this._nativeTag,r,mn(this,l),mn(this,t))},t.setNativeProps=function(e){null!=(e=hn(null,rn,e,this.viewConfig.validAttributes))&&n(i[2]).UIManager.updateView(this._nativeTag,this.viewConfig.uiViewClassName,e)},e})(),vn=null,bn=null;function yn(e){if("function"==typeof n(i[3]).log&&n(i[3]).unstable_setDisableYieldValue(e),bn&&"function"==typeof bn.setStrictMode)try{bn.setStrictMode(vn,e)}catch(e){}}var Sn=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(kn(e)/wn|0)|0},kn=Math.log,wn=Math.LN2;var En=256,Tn=262144,Pn=4194304;function zn(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cn(e,n,t){var l=e.pendingLanes;if(0===l)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var u=134217727&l;return 0!==u?0!==(l=u&~a)?r=zn(l):0!==(i&=u)?r=zn(i):t||0!==(t=u&~e)&&(r=zn(t)):0!==(u=l&~a)?r=zn(u):0!==i?r=zn(i):t||0!==(t=l&~e)&&(r=zn(t)),0===r?0:0!==n&&n!==r&&0===(n&a)&&((a=r&-r)>=(t=n&-n)||32===a&&4194048&t)?n:r}function Rn(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function xn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function _n(){var e=Pn;return!(62914560&(Pn<<=1))&&(Pn=4194304),e}function Nn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Ln(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function In(e,n,t,l,r,a){var i=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var u=e.entanglements,o=e.expirationTimes,s=e.hiddenUpdates;for(t=i&~t;0<t;){var c=31-Sn(t),f=1<<c;u[c]=0,o[c]=-1;var d=s[c];if(null!==d)for(s[c]=null,c=0;c<d.length;c++){var p=d[c];null!==p&&(p.lane&=-536870913)}t&=~f}0!==l&&Un(e,l,0),0!==a&&0===r&&(e.suspendedLanes|=a&~(i&~n))}function Un(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Sn(n);e.entangledLanes|=n,e.entanglements[l]=1073741824|e.entanglements[l]|261930&t}function Fn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var l=31-Sn(t),r=1<<l;r&n|e[l]&n&&(e[l]|=n),t&=~r}}function An(e,n){var t=n&-n;if(42&t)t=1;else switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return 0!==(t&(e.suspendedLanes|n))?0:t}function Mn(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Dn(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}function jn(){throw Error("The current renderer does not support Resources. This error is likely caused by a bug in React. Please file an issue.")}var Qn={getInspectorDataForInstance:void 0,getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}},Hn=n(i[2]).ReactNativeViewConfigRegistry.get,On=3;function Vn(){var e=On;return 1==e%10&&(e+=2),On=e+2,e}function Bn(e){if("number"==typeof e)Be.delete(e),We.delete(e);else{var n=e._nativeTag;Be.delete(n),We.delete(n),e._children.forEach(Bn)}}function Wn(e){if(0===e._children.length)return!1;var t=e._children.map(function(e){return"number"==typeof e?e:e._nativeTag});return n(i[2]).UIManager.setChildren(e._nativeTag,t),!1}function $n(e){if(null!=e.canonical){var t;if(null==e.canonical.publicInstance)e.canonical.publicInstance=n(i[2]).createPublicInstance(e.canonical.nativeTag,e.canonical.viewConfig,e.canonical.internalInstanceHandle,null!=(t=e.canonical.publicRootInstance)?t:null),e.canonical.publicRootInstance=null;return e.canonical.publicInstance}return e}var qn=setTimeout,Yn=clearTimeout,Xn=0,Gn={$$typeof:P,Provider:null,Consumer:null,_currentValue:null,_currentValue2:null,_threadCount:0},Jn=[],Kn=-1;function Zn(e){return{current:e}}function et(e){0>Kn||(e.current=Jn[Kn],Jn[Kn]=null,Kn--)}function nt(e,n){Kn++,Jn[Kn]=e.current,e.current=n}var tt={};var lt="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},rt="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},at=Object.prototype.hasOwnProperty,it=new WeakMap;function ut(e,n){if("object"==typeof e&&null!==e){var t=it.get(e);return void 0!==t?t:(n={value:e,source:n,stack:v(n)},it.set(e,n),n)}return{value:e,source:n,stack:v(n)}}var ot=Zn(null),st=Zn(null),ct=Zn(null),ft=Zn(null);function dt(e,n){nt(ct,n),nt(st,e),nt(ot,null),et(ot),nt(ot,{isInAParentText:!1})}function pt(){et(ot),et(st),et(ct)}function ht(e){null!==e.memoizedState&&nt(ft,e);var n=ot.current,t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(nt(st,e),nt(ot,t))}function mt(e){st.current===e&&(et(ot),et(st)),ft.current===e&&(et(ft),Gn._currentValue=null)}var gt=null;function vt(){var e=gt;return null!==e&&(null===Mu?Mu=e:Mu.push.apply(Mu,e),gt=null),e}var bt=Zn(null),yt=null,St=null;function kt(e,n,t){nt(bt,n._currentValue),n._currentValue=t}function wt(e){e._currentValue=bt.current,et(bt)}function Et(e,n,t){for(;null!==e;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==l&&(l.childLanes|=n)):null!==l&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===t)break;e=e.return}}function Tt(e,n,t,l){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var i=r.child;a=a.firstContext;e:for(;null!==a;){var u=a;a=r;for(var o=0;o<n.length;o++)if(u.context===n[o]){a.lanes|=t,null!==(u=a.alternate)&&(u.lanes|=t),Et(a.return,t,e),l||(i=null);break e}a=u.next}}else if(18===r.tag){if(null===(i=r.return))throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");i.lanes|=t,null!==(a=i.alternate)&&(a.lanes|=t),Et(i,t,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function Pt(e,n,t,l){e=null;for(var r=n,a=!1;null!==r;){if(!a)if(524288&r.flags)a=!0;else if(262144&r.flags)break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error("Should have a current fiber. This is a bug in React.");if(null!==(i=i.memoizedProps)){var u=r.type;lt(r.pendingProps.value,i.value)||(null!==e?e.push(u):e=[u])}}else if(r===ft.current){if(null===(i=r.alternate))throw Error("Should have a current fiber. This is a bug in React.");i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Gn):e=[Gn])}r=r.return}null!==e&&Tt(n,e,t,l),n.flags|=262144}function zt(e){for(e=e.firstContext;null!==e;){if(!lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ct(e){yt=e,St=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Rt(e){return _t(yt,e)}function xt(e,n){return null===yt&&Ct(e),_t(e,n)}function _t(e,n){var t=n._currentValue;if(n={context:n,memoizedValue:t,next:null},null===St){if(null===e)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");St=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else St=St.next=n;return t}var Nt="undefined"!=typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},Lt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function It(){return{controller:new Nt,data:new Map,refCount:0}}function Ut(e){e.refCount--,0===e.refCount&&n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_NormalPriority,function(){e.controller.abort()})}function Ft(){}var At=null,Mt=null,Dt=!1,jt=!1,Qt=!1,Ht=0;function Ot(e){e!==Mt&&null===e.next&&(null===Mt?At=Mt=e:Mt=Mt.next=e),jt=!0,Dt||(Dt=!0,n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_ImmediatePriority,Bt))}function Vt(e,n){if(!Qt&&jt){Qt=!0;do{for(var t=!1,l=At;null!==l;){if(!n||0===l.tag)if(0!==e){var r=l.pendingLanes;if(0===r)var a=0;else{var i=l.suspendedLanes,u=l.pingedLanes;a=(1<<31-Sn(42|e)+1)-1,a=201326741&(a&=r&~(i&~u))?201326741&a|1:a?2|a:0}0!==a&&(t=!0,qt(l,a))}else a=Eu,!(3&(a=Cn(l,l===ku?a:0,null!==l.cancelPendingCommit||-1!==l.timeoutHandle)))||Rn(l,a)||(t=!0,qt(l,a));l=l.next}}while(t);Qt=!1}}function Bt(){jt=Dt=!1;for(var e=n(i[3]).unstable_now(),t=null,l=At;null!==l;){var r=l.next,a=Wt(l,e);0===a?(l.next=null,null===t?At=r:t.next=r,null===r&&(Mt=t)):(t=l,3&a&&(jt=!0)),l=r}0!==Vu&&5!==Vu||Vt(0,!1),0!==Ht&&(Ht=0)}function Wt(e,t){for(var l=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,u=-62914561&e.pendingLanes;0<u;){var o=31-Sn(u),s=1<<o,c=a[o];-1===c?0!==(s&l)&&0===(s&r)||(a[o]=xn(s,t)):c<=t&&(e.expiredLanes|=s),u&=~s}if(l=Eu,l=Cn(e,e===(t=ku)?l:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===l||e===t&&(2===Tu||9===Tu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&n(i[3]).unstable_cancelCallback(r),e.callbackNode=null,e.callbackPriority=0;if(3&l&&!Rn(e,l))return null!==r&&null!==r&&n(i[3]).unstable_cancelCallback(r),e.callbackPriority=2,e.callbackNode=null,2;if((t=l&-l)===e.callbackPriority)return t;switch(null!==r&&n(i[3]).unstable_cancelCallback(r),Mn(l)){case 2:case 8:l=n(i[3]).unstable_UserBlockingPriority;break;case 32:default:l=n(i[3]).unstable_NormalPriority;break;case 268435456:l=n(i[3]).unstable_IdlePriority}return r=$t.bind(null,e),l=n(i[3]).unstable_scheduleCallback(l,r),e.callbackPriority=t,e.callbackNode=l,t}function $t(e,t){if(0!==Vu&&5!==Vu)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(zo()&&e.callbackNode!==l)return null;var r=Eu;return 0===(r=Cn(e,e===ku?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(no(e,r,t),Wt(e,n(i[3]).unstable_now()),null!=e.callbackNode&&e.callbackNode===l?$t.bind(null,e):null)}function qt(e,n){if(zo())return null;no(e,n,!0)}function Yt(){if(0===Ht){var e=Jt;0===e&&(e=En,!(261888&(En<<=1))&&(En=256)),Ht=e}return Ht}var Xt=null,Gt=0,Jt=0,Kt=null;function Zt(e,n){if(null===Xt){var t=Xt=[];Gt=0,Jt=Yt(),Kt={status:"pending",value:void 0,then:function(e){t.push(e)}}}return Gt++,n.then(el,el),n}function el(){if(0===--Gt&&null!==Xt){null!==Kt&&(Kt.status="fulfilled");var e=Xt;Xt=null,Jt=0,Kt=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var nl=f.S;f.S=function(e,t){n(i[3]).unstable_now(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&Zt(0,t),null!==nl&&nl(e,t)};var tl=Zn(null);function ll(){var e=tl.current;return null!==e?e:ku.pooledCache}function rl(e,n){nt(tl,null===n?tl.current:n.pool)}function al(){var e=ll();return null===e?null:{parent:Lt._currentValue,pool:e}}function il(e,n){if(lt(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),l=Object.keys(n);if(t.length!==l.length)return!1;for(l=0;l<t.length;l++){var r=t[l];if(!at.call(n,r)||!lt(e[r],n[r]))return!1}return!0}var ul=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),ol=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),sl=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),cl={then:function(){}};function fl(e){return"fulfilled"===(e=e.status)||"rejected"===e}function dl(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(Ft,Ft),n=t),n.status){case"fulfilled":return n.value;case"rejected":throw gl(e=n.reason),e;default:if("string"==typeof n.status)n.then(Ft,Ft);else{if(null!==(e=ku)&&100<e.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw gl(e=n.reason),e}throw hl=n,ul}}function pl(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw hl=e,ul;throw e}}var hl=null;function ml(){if(null===hl)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=hl;return hl=null,e}function gl(e){if(e===ul||e===sl)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}var vl=null,bl=0;function yl(e){var n=bl;return bl+=1,null===vl&&(vl=[]),dl(vl,e,n)}function Sl(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function kl(e,n){if(n.$$typeof===b)throw Error('A React Element from an older version of React was rendered. This is not supported. It can happen if:\n- Multiple copies of the "react" package is used.\n- A library pre-bundled an old copy of "react" or "react/jsx-runtime".\n- A compiler tries to "inline" JSX instead of using the runtime.');throw e=Object.prototype.toString.call(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function wl(e){function n(n,t){if(e){var l=n.deletions;null===l?(n.deletions=[t],n.flags|=16):l.push(t)}}function t(t,l){if(!e)return null;for(;null!==l;)n(t,l),l=l.sibling;return null}function l(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function r(e,n){return(e=Do(e,n)).index=0,e.sibling=null,e}function a(n,t,l){return n.index=l,e?null!==(l=n.alternate)?(l=l.index)<t?(n.flags|=67108866,t):l:(n.flags|=67108866,t):(n.flags|=1048576,t)}function i(n){return e&&null===n.alternate&&(n.flags|=67108866),n}function u(e,n,t,l){return null===n||6!==n.tag?((n=Oo(t,e.mode,l)).return=e,n):((n=r(n,t)).return=e,n)}function o(e,n,t,l){var a=t.type;return a===k?f(e,n,t.props.children,l,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===_&&pl(a)===n.type)?(Sl(n=r(n,t.props),t),n.return=e,n):(Sl(n=Qo(t.type,t.key,t.props,null,e.mode,l),t),n.return=e,n)}function s(e,n,t,l){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Vo(t,e.mode,l)).return=e,n):((n=r(n,t.children||[])).return=e,n)}function f(e,n,t,l,a){return null===n||7!==n.tag?((n=Ho(t,e.mode,l,a)).return=e,n):((n=r(n,t)).return=e,n)}function d(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return(n=Oo(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case y:return Sl(t=Qo(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case S:return(n=Vo(n,e.mode,t)).return=e,n;case _:return d(e,n=pl(n),t)}if(c(n)||U(n))return(n=Ho(n,e.mode,t,null)).return=e,n;if("function"==typeof n.then)return d(e,yl(n),t);if(n.$$typeof===P)return d(e,xt(e,n),t);kl(e,n)}return null}function p(e,n,t,l){var r=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return null!==r?null:u(e,n,""+t,l);if("object"==typeof t&&null!==t){switch(t.$$typeof){case y:return t.key===r?o(e,n,t,l):null;case S:return t.key===r?s(e,n,t,l):null;case _:return p(e,n,t=pl(t),l)}if(c(t)||U(t))return null!==r?null:f(e,n,t,l,null);if("function"==typeof t.then)return p(e,n,yl(t),l);if(t.$$typeof===P)return p(e,n,xt(e,t),l);kl(e,t)}return null}function h(e,n,t,l,r){if("string"==typeof l&&""!==l||"number"==typeof l||"bigint"==typeof l)return u(n,e=e.get(t)||null,""+l,r);if("object"==typeof l&&null!==l){switch(l.$$typeof){case y:return o(n,e=e.get(null===l.key?t:l.key)||null,l,r);case S:return s(n,e=e.get(null===l.key?t:l.key)||null,l,r);case _:return h(e,n,t,l=pl(l),r)}if(c(l)||U(l))return f(n,e=e.get(t)||null,l,r,null);if("function"==typeof l.then)return h(e,n,t,yl(l),r);if(l.$$typeof===P)return h(e,n,t,xt(n,l),r);kl(n,l)}return null}function m(r,i,u,o){for(var s=null,c=null,f=i,m=i=0,g=null;null!==f&&m<u.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=p(r,f,u[m],o);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&n(r,f),i=a(v,i,m),null===c?s=v:c.sibling=v,c=v,f=g}if(m===u.length)return t(r,f),s;if(null===f){for(;m<u.length;m++)null!==(f=d(r,u[m],o))&&(i=a(f,i,m),null===c?s=f:c.sibling=f,c=f);return s}for(f=l(f);m<u.length;m++)null!==(g=h(f,r,m,u[m],o))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),i=a(g,i,m),null===c?s=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return n(r,e)}),s}function g(r,i,u,o){if(null==u)throw Error("An iterable object provided no iterator.");for(var s=null,c=null,f=i,m=i=0,g=null,v=u.next();null!==f&&!v.done;m++,v=u.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=p(r,f,v.value,o);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&n(r,f),i=a(b,i,m),null===c?s=b:c.sibling=b,c=b,f=g}if(v.done)return t(r,f),s;if(null===f){for(;!v.done;m++,v=u.next())null!==(v=d(r,v.value,o))&&(i=a(v,i,m),null===c?s=v:c.sibling=v,c=v);return s}for(f=l(f);!v.done;m++,v=u.next())null!==(v=h(f,r,m,v.value,o))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),i=a(v,i,m),null===c?s=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return n(r,e)}),s}function v(e,l,a,u){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case y:e:{for(var o=a.key;null!==l;){if(l.key===o){if((o=a.type)===k){if(7===l.tag){t(e,l.sibling),(u=r(l,a.props.children)).return=e,e=u;break e}}else if(l.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===_&&pl(o)===l.type){t(e,l.sibling),Sl(u=r(l,a.props),a),u.return=e,e=u;break e}t(e,l);break}n(e,l),l=l.sibling}a.type===k?((u=Ho(a.props.children,e.mode,u,a.key)).return=e,e=u):(Sl(u=Qo(a.type,a.key,a.props,null,e.mode,u),a),u.return=e,e=u)}return i(e);case S:e:{for(o=a.key;null!==l;){if(l.key===o){if(4===l.tag&&l.stateNode.containerInfo===a.containerInfo&&l.stateNode.implementation===a.implementation){t(e,l.sibling),(u=r(l,a.children||[])).return=e,e=u;break e}t(e,l);break}n(e,l),l=l.sibling}(u=Vo(a,e.mode,u)).return=e,e=u}return i(e);case _:return v(e,l,a=pl(a),u)}if(c(a))return m(e,l,a,u);if(U(a)){if("function"!=typeof(o=U(a)))throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");return g(e,l,a=o.call(a),u)}if("function"==typeof a.then)return v(e,l,yl(a),u);if(a.$$typeof===P)return v(e,l,xt(e,a),u);kl(e,a)}return"string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a?(a=""+a,null!==l&&6===l.tag?(t(e,l.sibling),(u=r(l,a)).return=e,e=u):(t(e,l),(u=Oo(a,e.mode,u)).return=e,e=u),i(e)):t(e,l)}return function(e,n,t,l){try{bl=0;var r=v(e,n,t,l);return vl=null,r}catch(n){if(n===ul||n===sl||!(1&e.mode)&&"object"==typeof n&&null!==n&&"function"==typeof n.then)throw n;var a=Ao(29,n,null,e.mode);return a.lanes=l,a.return=e,a}}}var El=wl(!0),Tl=wl(!1),Pl=[],zl=0,Cl=0;function Rl(){for(var e=zl,n=Cl=zl=0;n<e;){var t=Pl[n];Pl[n++]=null;var l=Pl[n];Pl[n++]=null;var r=Pl[n];Pl[n++]=null;var a=Pl[n];if(Pl[n++]=null,null!==l&&null!==r){var i=l.pending;null===i?r.next=r:(r.next=i.next,i.next=r),l.pending=r}0!==a&&Ll(t,r,a)}}function xl(e,n,t,l){Pl[zl++]=e,Pl[zl++]=n,Pl[zl++]=t,Pl[zl++]=l,Cl|=l,e.lanes|=l,null!==(e=e.alternate)&&(e.lanes|=l)}function _l(e,n,t,l){return xl(e,n,t,l),Il(e)}function Nl(e,n){return xl(e,null,null,n),Il(e)}function Ll(e,n,t){e.lanes|=t;var l=e.alternate;null!==l&&(l.lanes|=t);for(var r=!1,a=e.return;null!==a;)a.childLanes|=t,null!==(l=a.alternate)&&(l.childLanes|=t),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==n&&(r=31-Sn(t),null===(l=(e=a.hiddenUpdates)[r])?e[r]=[n]:l.push(n),n.lane=536870912|t),a):null}function Il(e){if(50<Gu)throw Gu=0,Ju=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var Ul=!1;function Fl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Al(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ml(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(e,n,t){var l=e.updateQueue;if(null===l)return null;if(l=l.shared,2&Su){var r=l.pending;return null===r?n.next=n:(n.next=r.next,r.next=n),l.pending=n,n=Il(e),Ll(e,null,t),n}return xl(e,l,n,t),Il(e)}function jl(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194048&t)){var l=n.lanes;t|=l&=e.pendingLanes,n.lanes=t,Fn(e,t)}}function Ql(e,n){var t=e.updateQueue,l=e.alternate;if(null!==l&&t===(l=l.updateQueue)){var r=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===a?r=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?r=a=n:a=a.next=n}else r=a=n;return t={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,callbacks:l.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}var Hl=!1;function Ol(){if(Hl){if(null!==Kt)throw Kt}}function Vl(e,n,t,l){Hl=!1;var r=e.updateQueue;Ul=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,u=r.shared.pending;if(null!==u){r.shared.pending=null;var o=u,s=o.next;o.next=null,null===i?a=s:i.next=s,i=o;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===u?c.firstBaseUpdate=s:u.next=s,c.lastBaseUpdate=o))}if(null!==a){var f=r.baseState;for(i=0,c=s=o=null,u=a;;){var p=-536870913&u.lane,h=p!==u.lane;if(h?(Eu&p)===p:(l&p)===p){0!==p&&p===Jt&&(Hl=!0),null!==c&&(c=c.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var m=e,g=u;p=n;var v=t;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){f=m.call(v,f,p);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(v,f,p):m))break e;f=d({},f,p);break e;case 2:Ul=!0}}null!==(p=u.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[p]:h.push(p))}else h={lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(s=c=h,o=f):c=c.next=h,i|=p;if(null===(u=u.next)){if(null===(u=r.shared.pending))break;u=(h=u).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===c&&(o=f),r.baseState=o,r.firstBaseUpdate=s,r.lastBaseUpdate=c,null===a&&(r.shared.lanes=0),Nu|=i,e.lanes=i,e.memoizedState=f}}function Bl(e,n){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(n)}function Wl(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)Bl(t[e],n)}var $l=Zn(null),ql=Zn(0);function Yl(e,n){nt(ql,e=xu),nt($l,n),xu=e|n.baseLanes}function Xl(){nt(ql,xu),nt($l,$l.current)}function Gl(){xu=ql.current,et($l),et(ql)}var Jl=Zn(null),Kl=null;function Zl(e){var n=e.alternate;nt(rr,1&rr.current),nt(Jl,e),null===Kl&&(null===n||null!==$l.current||null!==n.memoizedState)&&(Kl=e)}function er(e){nt(rr,rr.current),nt(Jl,e),null===Kl&&(Kl=e)}function nr(e){22===e.tag?(nt(rr,rr.current),nt(Jl,e),null===Kl&&(Kl=e)):tr()}function tr(){nt(rr,rr.current),nt(Jl,Jl.current)}function lr(e){et(Jl),Kl===e&&(Kl=null),et(rr)}var rr=Zn(0);function ar(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||Dn()||Dn()))return n}else if(19!==n.tag||"forwards"!==n.memoizedProps.revealOrder&&"backwards"!==n.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==n.memoizedProps.revealOrder&&"together"!==n.memoizedProps.revealOrder){if(null!==n.child){n.child.return=n,n=n.child;continue}}else if(128&n.flags)return n;if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ir=0,ur=null,or=null,sr=null,cr=!1,fr=!1,dr=!1,pr=0,hr=null,mr=0;function gr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.")}function vr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!lt(e[t],n[t]))return!1;return!0}function br(e,n,t,l,r,a){return ir=a,ur=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,f.H=null===e||null===e.memoizedState?xa:_a,dr=!1,a=t(l,r),dr=!1,fr&&(a=Sr(n,t,l,r)),yr(e),a}function yr(e){f.H=Ra;var n=null!==or&&null!==or.next;if(ir=0,sr=or=ur=null,cr=!1,pr=0,hr=null,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");null===e||qa||null!==(e=e.dependencies)&&zt(e)&&(qa=!0)}function Sr(e,n,t,l){ur=e;var r=0;do{if(fr&&(hr=null),pr=0,fr=!1,25<=r)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(r+=1,sr=or=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}f.H=Na,a=n(t,l)}while(fr);return a}function kr(){var e=f.H,n=e.useState()[0];return n="function"==typeof n.then?zr(n):n,e=e.useState()[0],(null!==or?or.memoizedState:null)!==e&&(ur.flags|=1024),n}function wr(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function Er(e){if(cr){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}cr=!1}ir=0,sr=or=ur=null,fr=!1,pr=0,hr=null}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sr?ur.memoizedState=sr=e:sr=sr.next=e,sr}function Pr(){if(null===or){var e=ur.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var n=null===sr?ur.memoizedState:sr.next;if(null!==n)sr=n,or=e;else{if(null===e){if(null===ur.alternate)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===sr?ur.memoizedState=sr=e:sr=sr.next=e}return sr}function zr(e){var n=pr;return pr+=1,null===hr&&(hr=[]),e=dl(hr,e,n),n=ur,null===(null===sr?n.memoizedState:sr.next)&&(n=n.alternate,f.H=null===n||null===n.memoizedState?xa:_a),e}function Cr(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return zr(e);if(e.$$typeof===P)return Rt(e)}throw Error("An unsupported type was passed to use(): "+String(e))}function Rr(e){var n=null,t=ur.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var l=ur.alternate;null!==l&&(null!==(l=l.updateQueue)&&(null!=(l=l.memoCache)&&(n={data:l.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ur.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),l=0;l<e;l++)t[l]=L;return n.index++,t}function xr(e,n){return"function"==typeof n?n(e):n}function _r(e){return Nr(Pr(),or,e)}function Nr(e,n,t){var l=e.queue;if(null===l)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");l.lastRenderedReducer=t;var r=e.baseQueue,a=l.pending;if(null!==a){if(null!==r){var i=r.next;r.next=a.next,a.next=i}n.baseQueue=r=a,l.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var u=i=null,o=null,s=n=r.next,c=!1;do{var f=-536870913&s.lane;if(f!==s.lane?(Eu&f)===f:(ir&f)===f){var d=s.revertLane;if(0===d)null!==o&&(o=o.next={lane:0,revertLane:0,gesture:null,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),f===Jt&&(c=!0);else{if((ir&d)===d){s=s.next,d===Jt&&(c=!0);continue}f={lane:0,revertLane:s.revertLane,gesture:null,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===o?(u=o=f,i=a):o=o.next=f,ur.lanes|=d,Nu|=d}f=s.action,dr&&t(a,f),a=s.hasEagerState?s.eagerState:t(a,f)}else d={lane:f,revertLane:s.revertLane,gesture:s.gesture,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===o?(u=o=d,i=a):o=o.next=d,ur.lanes|=f,Nu|=f;s=s.next}while(null!==s&&s!==n);if(null===o?i=a:o.next=u,!lt(a,e.memoizedState)&&(qa=!0,c&&null!==(t=Kt)))throw t;e.memoizedState=a,e.baseState=i,e.baseQueue=o,l.lastRenderedState=a}return null===r&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Lr(e){var n=Pr(),t=n.queue;if(null===t)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");t.lastRenderedReducer=e;var l=t.dispatch,r=t.pending,a=n.memoizedState;if(null!==r){t.pending=null;var i=r=r.next;do{a=e(a,i.action),i=i.next}while(i!==r);lt(a,n.memoizedState)||(qa=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,l]}function Ir(e,n){var t=ur,l=Pr(),r=n(),a=!lt((or||l).memoizedState,r);if(a&&(l.memoizedState=r,qa=!0),l=l.queue,ra(Ar.bind(null,t,l,e),[e]),l.getSnapshot!==n||a||null!==sr&&1&sr.memoizedState.tag){if(t.flags|=2048,Zr(9,{destroy:void 0},Fr.bind(null,t,l,r,n),null),null===ku)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");127&ir||Ur(t,n,r)}return r}function Ur(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=ur.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},ur.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Fr(e,n,t,l){n.value=t,n.getSnapshot=l,Mr(n)&&Dr(e)}function Ar(e,n,t){return t(function(){Mr(n)&&Dr(e)})}function Mr(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!lt(e,t)}catch(e){return!0}}function Dr(e){var n=Nl(e,2);null!==n&&eo(n,e,2)}function jr(e){var n=Tr();if("function"==typeof e){var t=e;if(e=t(),dr){yn(!0);try{t()}finally{yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:e},n}function Qr(e,n,t,l){return e.baseState=t,Nr(e,or,"function"==typeof l?l:xr)}function Hr(e,n,t,l,r){if(Pa(e))throw Error("Cannot update form state while rendering.");if(null!==(e=n.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==f.T?t(!0):a.isTransition=!1,l(a),null===(t=n.pending)?(a.next=n.pending=a,Or(n,a)):(a.next=t.next,n.pending=t.next=a)}}function Or(e,n){var t=n.action,l=n.payload,r=e.state;if(n.isTransition){var a=f.T,i={};f.T=i;try{var u=t(r,l),o=f.S;null!==o&&o(i,u),Vr(e,n,u)}catch(t){Wr(e,n,t)}finally{null!==a&&null!==i.types&&(a.types=i.types),f.T=a}}else try{Vr(e,n,a=t(r,l))}catch(t){Wr(e,n,t)}}function Vr(e,n,t){null!==t&&"object"==typeof t&&"function"==typeof t.then?t.then(function(t){Br(e,n,t)},function(t){return Wr(e,n,t)}):Br(e,n,t)}function Br(e,n,t){n.status="fulfilled",n.value=t,$r(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,Or(e,t)))}function Wr(e,n,t){var l=e.pending;if(e.pending=null,null!==l){l=l.next;do{n.status="rejected",n.reason=t,$r(n),n=n.next}while(n!==l)}e.action=null}function $r(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function qr(e,n){return n}function Yr(e,n){var t=Tr();t.memoizedState=t.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:n};t.queue=l,t=wa.bind(null,ur,l),l.dispatch=t,l=jr(!1);var r=Ta.bind(null,ur,!1,l.queue),a={state:n,dispatch:null,action:e,pending:null};return(l=Tr()).queue=a,t=Hr.bind(null,ur,a,r,t),a.dispatch=t,l.memoizedState=e,[n,t,!1]}function Xr(e){return Gr(Pr(),or,e)}function Gr(e,n,t){if(n=Nr(e,n,qr)[0],e=_r(xr)[0],"object"==typeof n&&null!==n&&"function"==typeof n.then)try{var l=zr(n)}catch(e){if(e===ul)throw sl;throw e}else l=n;var r=(n=Pr()).queue,a=r.dispatch;return t!==n.memoizedState&&(ur.flags|=2048,Zr(9,{destroy:void 0},Jr.bind(null,r,t),null)),[l,a,e]}function Jr(e,n){e.action=n}function Kr(e){var n=Pr(),t=or;if(null!==t)return Gr(n,t,e);Pr(),n=n.memoizedState;var l=(t=Pr()).queue.dispatch;return t.memoizedState=e,[n,l,!1]}function Zr(e,n,t,l){return e={tag:e,create:t,deps:l,inst:n,next:null},null===(n=ur.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ur.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(l=t.next,t.next=e,e.next=l,n.lastEffect=e),e}function ea(){return Pr().memoizedState}function na(e,n,t,l){var r=Tr();ur.flags|=e,r.memoizedState=Zr(1|n,{destroy:void 0},t,void 0===l?null:l)}function ta(e,n,t,l){var r=Pr();l=void 0===l?null:l;var a=r.memoizedState.inst;null!==or&&null!==l&&vr(l,or.memoizedState.deps)?r.memoizedState=Zr(n,a,t,l):(ur.flags|=e,r.memoizedState=Zr(1|n,a,t,l))}function la(e,n){na(8390656,8,e,n)}function ra(e,n){ta(2048,8,e,n)}function aa(e){ur.flags|=4;var n=ur.updateQueue;if(null===n)n={lastEffect:null,events:null,stores:null,memoCache:null},ur.updateQueue=n,n.events=[e];else{var t=n.events;null===t?n.events=[e]:t.push(e)}}function ia(e){var n=Pr().memoizedState;return aa({ref:n,nextImpl:e}),function(){if(2&Su)throw Error("A function wrapped in useEffectEvent can't be called during rendering.");return n.impl.apply(void 0,arguments)}}function ua(e,n){return ta(4,2,e,n)}function oa(e,n){return ta(4,4,e,n)}function sa(e,n){if("function"==typeof n){e=e();var t=n(e);return function(){"function"==typeof t?t():n(null)}}if(null!=n)return e=e(),n.current=e,function(){n.current=null}}function ca(e,n,t){t=null!=t?t.concat([e]):null,ta(4,4,sa.bind(null,n,e),t)}function fa(){}function da(e,n){var t=Pr();n=void 0===n?null:n;var l=t.memoizedState;return null!==n&&vr(n,l[1])?l[0]:(t.memoizedState=[e,n],e)}function pa(e,n){var t=Pr();n=void 0===n?null:n;var l=t.memoizedState;if(null!==n&&vr(n,l[1]))return l[0];if(l=e(),dr){yn(!0);try{e()}finally{yn(!1)}}return t.memoizedState=[l,n],l}function ha(e,n,t){return void 0===t||1073741824&ir&&!(261930&Eu)?e.memoizedState=n:(e.memoizedState=t,e=Zu(),ur.lanes|=e,Nu|=e,t)}function ma(e,n,t,l){return lt(t,n)?t:null!==$l.current?(e=ha(e,t,l),lt(e,n)||(qa=!0),e):42&ir&&(!(1073741824&ir)||261930&Eu)?(e=Zu(),ur.lanes|=e,Nu|=e,n):(qa=!0,e.memoizedState=t)}function ga(e,n,t,l,r){var a=Xn;Xn=0!==a&&8>a?a:8;var i,u,o,s=f.T,c={};f.T=c,Ta(e,!1,n,t);try{var d=r(),p=f.S;if(null!==p&&p(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Ea(e,n,(i=l,u=[],o={status:"pending",value:null,reason:null,then:function(e){u.push(e)}},d.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<u.length;e++)(0,u[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<u.length;e++)(0,u[e])(void 0)}),o),Ku(e));else Ea(e,n,l,Ku(e))}catch(t){Ea(e,n,{then:function(){},status:"rejected",reason:t},Ku(e))}finally{Xn=a,null!==s&&null!==c.types&&(s.types=c.types),f.T=s}}function va(){return Rt(Gn)}function ba(){return Pr().memoizedState}function ya(){return Pr().memoizedState}function Sa(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Ku(n),l=Dl(n,e=Ml(t),t);return null!==l&&(eo(l,n,t),jl(l,n,t)),n={cache:It()},void(e.payload=n)}n=n.return}}function ka(e,n,t){var l=Ku(e);t={lane:l,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},Pa(e)?za(n,t):null!==(t=_l(e,n,t,l))&&(eo(t,e,l),Ca(t,n,l))}function wa(e,n,t){Ea(e,n,t,Ku(e))}function Ea(e,n,t,l){var r={lane:l,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(Pa(e))za(n,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,u=a(i,t);if(r.hasEagerState=!0,r.eagerState=u,lt(u,i))return xl(e,n,r,0),null===ku&&Rl(),!1}catch(e){}if(null!==(t=_l(e,n,r,l)))return eo(t,e,l),Ca(t,n,l),!0}return!1}function Ta(e,n,t,l){if(l={lane:2,revertLane:Yt(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pa(e)){if(n)throw Error("Cannot update optimistic state while rendering.")}else null!==(n=_l(e,t,l,2))&&eo(n,e,2)}function Pa(e){var n=e.alternate;return e===ur||null!==n&&n===ur}function za(e,n){fr=cr=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Ca(e,n,t){if(4194048&t){var l=n.lanes;t|=l&=e.pendingLanes,n.lanes=t,Fn(e,t)}}var Ra={readContext:Rt,use:Cr,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr,useHostTransitionStatus:gr,useFormState:gr,useActionState:gr,useOptimistic:gr,useMemoCache:gr,useCacheRefresh:gr};Ra.useEffectEvent=gr;var xa={readContext:Rt,use:Cr,useCallback:function(e,n){return Tr().memoizedState=[e,void 0===n?null:n],e},useContext:Rt,useEffect:la,useImperativeHandle:function(e,n,t){t=null!=t?t.concat([e]):null,na(4194308,4,sa.bind(null,n,e),t)},useLayoutEffect:function(e,n){return na(4194308,4,e,n)},useInsertionEffect:function(e,n){na(4,2,e,n)},useMemo:function(e,n){var t=Tr();n=void 0===n?null:n;var l=e();if(dr){yn(!0);try{e()}finally{yn(!1)}}return t.memoizedState=[l,n],l},useReducer:function(e,n,t){var l=Tr();if(void 0!==t){var r=t(n);if(dr){yn(!0);try{t(n)}finally{yn(!1)}}}else r=n;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=ka.bind(null,ur,e),[l.memoizedState,e]},useRef:function(e){return e={current:e},Tr().memoizedState=e},useState:function(e){var n=(e=jr(e)).queue,t=wa.bind(null,ur,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:fa,useDeferredValue:function(e,n){return ha(Tr(),e,n)},useTransition:function(){var e=jr(!1);return e=ga.bind(null,ur,e.queue,!0,!1),Tr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n){var t=ur,l=Tr(),r=n();if(null===ku)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");127&Eu||Ur(t,n,r),l.memoizedState=r;var a={value:r,getSnapshot:n};return l.queue=a,la(Ar.bind(null,t,a,e),[e]),t.flags|=2048,Zr(9,{destroy:void 0},Fr.bind(null,t,a,r,n),null),r},useId:function(){var e=Tr(),n=ku.identifierPrefix;return n="_"+n+"r_"+(mr++).toString(32)+"_",e.memoizedState=n},useHostTransitionStatus:va,useFormState:Yr,useActionState:Yr,useOptimistic:function(e){var n=Tr();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=Ta.bind(null,ur,!0,t),t.dispatch=n,[e,n]},useMemoCache:Rr,useCacheRefresh:function(){return Tr().memoizedState=Sa.bind(null,ur)},useEffectEvent:function(e){var n=Tr(),t={impl:e};return n.memoizedState=t,function(){if(2&Su)throw Error("A function wrapped in useEffectEvent can't be called during rendering.");return t.impl.apply(void 0,arguments)}}},_a={readContext:Rt,use:Cr,useCallback:da,useContext:Rt,useEffect:ra,useImperativeHandle:ca,useInsertionEffect:ua,useLayoutEffect:oa,useMemo:pa,useReducer:_r,useRef:ea,useState:function(){return _r(xr)},useDebugValue:fa,useDeferredValue:function(e,n){return ma(Pr(),or.memoizedState,e,n)},useTransition:function(){var e=_r(xr)[0],n=Pr().memoizedState;return["boolean"==typeof e?e:zr(e),n]},useSyncExternalStore:Ir,useId:ba,useHostTransitionStatus:va,useFormState:Xr,useActionState:Xr,useOptimistic:function(e,n){return Qr(Pr(),0,e,n)},useMemoCache:Rr,useCacheRefresh:ya};_a.useEffectEvent=ia;var Na={readContext:Rt,use:Cr,useCallback:da,useContext:Rt,useEffect:ra,useImperativeHandle:ca,useInsertionEffect:ua,useLayoutEffect:oa,useMemo:pa,useReducer:Lr,useRef:ea,useState:function(){return Lr(xr)},useDebugValue:fa,useDeferredValue:function(e,n){var t=Pr();return null===or?ha(t,e,n):ma(t,or.memoizedState,e,n)},useTransition:function(){var e=Lr(xr)[0],n=Pr().memoizedState;return["boolean"==typeof e?e:zr(e),n]},useSyncExternalStore:Ir,useId:ba,useHostTransitionStatus:va,useFormState:Kr,useActionState:Kr,useOptimistic:function(e,n){var t=Pr();return null!==or?Qr(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])},useMemoCache:Rr,useCacheRefresh:ya};function La(e,n,t,l){t=null==(t=t(l,n=e.memoizedState))?n:d({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}Na.useEffectEvent=ia;var Ia={enqueueSetState:function(e,n,t){var l=Ku(e=e._reactInternals),r=Ml(l);r.payload=n,null!=t&&(r.callback=t),null!==(n=Dl(e,r,l))&&(eo(n,e,l),jl(n,e,l))},enqueueReplaceState:function(e,n,t){var l=Ku(e=e._reactInternals),r=Ml(l);r.tag=1,r.payload=n,null!=t&&(r.callback=t),null!==(n=Dl(e,r,l))&&(eo(n,e,l),jl(n,e,l))},enqueueForceUpdate:function(e,n){var t=Ku(e=e._reactInternals),l=Ml(t);l.tag=2,null!=n&&(l.callback=n),null!==(n=Dl(e,l,t))&&(eo(n,e,t),jl(n,e,t))}};function Ua(e,n,t,l,r,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(l,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!il(t,l)||!il(r,a))}function Fa(e,n,t){var l=tt,r=n.contextType;return"object"==typeof r&&null!==r&&(l=Rt(r)),n=new n(t,l),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Ia,e.stateNode=n,n._reactInternals=e,n}function Aa(e,n,t,l){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,l),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,l),n.state!==e&&Ia.enqueueReplaceState(n,n.state,null)}function Ma(e,n,t,l){var r=e.stateNode;r.props=t,r.state=e.memoizedState,r.refs={},Fl(e);var a=n.contextType;r.context="object"==typeof a&&null!==a?Rt(a):tt,r.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(La(e,n,a,t),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&Ia.enqueueReplaceState(r,r.state,null),Vl(e,t,r,l),Ol(),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function Da(e,n){var t=n;if("ref"in n)for(var l in t={},n)"ref"!==l&&(t[l]=n[l]);if(e=e.defaultProps)for(var r in t===n&&(t=d({},t)),e)void 0===t[r]&&(t[r]=e[r]);return t}function ja(e){rt(e)}function Qa(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(e){setTimeout(function(){throw e})}}function Ha(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Oa(e,n,t){return(t=Ml(t)).tag=3,t.payload={element:null},t.callback=function(){Qa(e,n)},t}function Va(e){return(e=Ml(e)).tag=3,e}function Ba(e,n,t,l){var r=t.type.getDerivedStateFromError;if("function"==typeof r){var a=l.value;e.payload=function(){return r(a)},e.callback=function(){Ha(n,t,l)}}var i=t.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Ha(n,t,l),"function"!=typeof r&&(null===Ou?Ou=new Set([this]):Ou.add(this));var e=l.stack;this.componentDidCatch(l.value,{componentStack:null!==e?e:""})})}function Wa(e,n,t,l,r){if(t.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var a=t.alternate;if(null!==a&&Pt(a,t,r,!0),a=t.tag,1&t.mode||0!==a&&11!==a&&15!==a||((a=t.alternate)?(t.updateQueue=a.updateQueue,t.memoizedState=a.memoizedState,t.lanes=a.lanes):(t.updateQueue=null,t.memoizedState=null)),null!==(a=Jl.current)){switch(a.tag){case 31:case 13:return 1&t.mode&&(null===Kl?co():null===a.alternate&&0===_u&&(_u=3)),a.flags&=-257,1&a.mode?(a.flags|=65536,a.lanes=r):a===n?a.flags|=65536:(a.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag?null===t.alternate?t.tag=17:((n=Ml(2)).tag=2,Dl(t,n,2)):0===t.tag&&null===t.alternate&&(t.tag=28),t.lanes|=2),l===cl?a.flags|=16384:(null===(n=a.updateQueue)?a.updateQueue=new Set([l]):n.add(l),1&a.mode&&_o(e,l,r)),!1;case 22:if(1&a.mode)return a.flags|=65536,l===cl?a.flags|=16384:(null===(n=a.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([l]):t.add(l),_o(e,l,r)),!1}throw Error("Unexpected Suspense handler tag ("+a.tag+"). This is a bug in React.")}if(1===e.tag)return _o(e,l,r),co(),!1;l=Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}if(a=ut(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:l}),t),null===Au?Au=[a]:Au.push(a),4!==_u&&(_u=2),null===n)return!0;l=ut(l,t);do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,Ql(n,e=Oa(n.stateNode,l,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Ou&&Ou.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Ba(r=Va(r),e,n,l),Ql(n,r),!1}n=n.return}while(null!==n);return!1}var $a=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),qa=!1;function Ya(e,n,t,l){n.child=null===e?Tl(n,null,t,l):El(n,e.child,t,l)}function Xa(e,n,t,l,r){t=t.render;var a=n.ref;if("ref"in l){var i={};for(var u in l)"ref"!==u&&(i[u]=l[u])}else i=l;return Ct(n),l=br(e,n,t,i,a,r),null===e||qa?(n.flags|=1,Ya(e,n,l,r),n.child):(wr(e,n,r),yi(e,n,r))}function Ga(e,n,t,l,r){if(null===e){var a=t.type;return"function"!=typeof a||Mo(a)||void 0!==a.defaultProps||null!==t.compare?((e=Qo(t.type,null,l,n,n.mode,r)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,Ja(e,n,a,l,r))}if(a=e.child,!Si(e,r)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:il)(i,l)&&e.ref===n.ref)return yi(e,n,r)}return n.flags|=1,(e=Do(a,l)).ref=n.ref,e.return=n,n.child=e}function Ja(e,n,t,l,r){if(null!==e){var a=e.memoizedProps;if(il(a,l)&&e.ref===n.ref){if(qa=!1,n.pendingProps=l=a,!Si(e,r))return n.lanes=e.lanes,yi(e,n,r);131072&e.flags&&(qa=!0)}}return ri(e,n,t,l,r)}function Ka(e,n,t,l){var r=l.children,a=null!==e?e.memoizedState:null;if(null===e&&null===n.stateNode&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===l.mode){if(128&n.flags){if(a=null!==a?a.baseLanes|t:t,null!==e){for(l=n.child=e.child,r=0;null!==l;)r=r|l.lanes|l.childLanes,l=l.sibling;l=r&~a}else l=0,n.child=null;return ei(e,n,a,t,l)}if(1&n.mode){if(!(536870912&t))return l=n.lanes=536870912,ei(e,n,null!==a?a.baseLanes|t:t,t,l);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&rl(0,null!==a?a.cachePool:null),null!==a?Yl(n,a):Xl(),nr(n)}else n.memoizedState={baseLanes:0,cachePool:null},null!==e&&rl(0,null),Xl(),nr(n)}else null!==a?(rl(0,a.cachePool),Yl(n,a),tr(),n.memoizedState=null):(null!==e&&rl(0,null),Xl(),tr());return Ya(e,n,r,t),n.child}function Za(e,n){return null!==e&&22===e.tag||null!==n.stateNode||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ei(e,n,t,l,r){var a=ll();return a=null===a?null:{parent:Lt._currentValue,pool:a},n.memoizedState={baseLanes:t,cachePool:a},null!==e&&rl(0,null),Xl(),nr(n),null!==e&&Pt(e,n,l,!0),n.childLanes=r,null}function ni(e,n){return(n=pi({mode:n.mode,children:n.children},e.mode)).ref=e.ref,e.child=n,n.return=e,n}function ti(e,n,t){return El(n,e.child,null,t),(e=ni(n,n.pendingProps)).flags|=2,lr(n),n.memoizedState=null,e}function li(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=4194816);else{if("function"!=typeof t&&"object"!=typeof t)throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");null!==e&&e.ref===t||(n.flags|=4194816)}}function ri(e,n,t,l,r){return Ct(n),t=br(e,n,t,l,void 0,r),null===e||qa?(n.flags|=1,Ya(e,n,t,r),n.child):(wr(e,n,r),yi(e,n,r))}function ai(e,n,t,l,r,a){return Ct(n),n.updateQueue=null,t=Sr(n,l,t,r),yr(e),null===e||qa?(n.flags|=1,Ya(e,n,t,a),n.child):(wr(e,n,a),yi(e,n,a))}function ii(e,n,t,l,r){if(Ct(n),null===n.stateNode)bi(e,n),Fa(n,t,l),Ma(n,t,l,r),l=!0;else if(null===e){var a=n.stateNode,i=n.memoizedProps,u=Da(t,i);a.props=u;var o=a.context,s=t.contextType,c=tt;"object"==typeof s&&null!==s&&(c=Rt(s));var f=t.getDerivedStateFromProps;s="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate,i=n.pendingProps!==i,s||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||o!==c)&&Aa(n,a,l,c),Ul=!1;var d=n.memoizedState;a.state=d,Vl(n,l,a,r),Ol(),o=n.memoizedState,i||d!==o||Ul?("function"==typeof f&&(La(n,t,f,l),o=n.memoizedState),(u=Ul||Ua(n,t,u,l,d,o,c))?(s||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4194308)):("function"==typeof a.componentDidMount&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=o),a.props=l,a.state=o,a.context=c,l=u):("function"==typeof a.componentDidMount&&(n.flags|=4194308),l=!1)}else{a=n.stateNode,Al(e,n),s=Da(t,c=n.memoizedProps),a.props=s,f=n.pendingProps,d=a.context,o=t.contextType,u=tt,"object"==typeof o&&null!==o&&(u=Rt(o)),(o="function"==typeof(i=t.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==f||d!==u)&&Aa(n,a,l,u),Ul=!1,d=n.memoizedState,a.state=d,Vl(n,l,a,r),Ol();var p=n.memoizedState;c!==f||d!==p||Ul||null!==e&&null!==e.dependencies&&zt(e.dependencies)?("function"==typeof i&&(La(n,t,i,l),p=n.memoizedState),(s=Ul||Ua(n,t,s,l,d,p,u)||null!==e&&null!==e.dependencies&&zt(e.dependencies))?(o||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(l,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(l,p,u)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=p),a.props=l,a.state=p,a.context=u,l=s):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),l=!1)}return ui(e,n,t,l,!1,r)}function ui(e,n,t,l,r,a){return li(e,n),r=!!(128&n.flags),l||r?(l=n.stateNode,t=r&&"function"!=typeof t.getDerivedStateFromError?null:l.render(),n.flags|=1,null!==e&&r?(n.child=El(n,e.child,null,a),n.child=El(n,null,t,a)):Ya(e,n,t,a),n.memoizedState=l.state,n.child):yi(e,n,a)}var oi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function si(e){return{baseLanes:e,cachePool:al()}}function ci(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=Uu),e}function fi(e,n,t){var l,r=n.pendingProps,a=!1,i=!!(128&n.flags);if((l=i)||(l=(null===e||null!==e.memoizedState)&&!!(2&rr.current)),l&&(a=!0,n.flags&=-129),l=!!(32&n.flags),n.flags&=-33,null===e){var u=r.children;return r=r.fallback,a?(tr(),a=n.mode,i=n.child,u={mode:"hidden",children:u},1&a||null===i?i=pi(u,a):(i.childLanes=0,i.pendingProps=u),r=Ho(r,a,t,null),i.return=n,r.return=n,i.sibling=r,n.child=i,(r=n.child).memoizedState=si(t),r.childLanes=ci(e,l,t),n.memoizedState=oi,Za(null,r)):(Zl(n),di(n,u))}if(null!==(u=e.memoizedState)&&null!==u.dehydrated){if(i)256&n.flags?(Zl(n),n.flags&=-257,n=hi(e,n,t)):null!==n.memoizedState?(tr(),n.child=e.child,n.flags|=128,n=null):(tr(),a=r.fallback,u=n.mode,r=pi({mode:"visible",children:r.children},u),(a=Ho(a,u,t,null)).flags|=2,r.return=n,a.return=n,r.sibling=a,n.child=r,!!(1&n.mode)&&El(n,e.child,null,t),(r=n.child).memoizedState=si(t),r.childLanes=ci(e,l,t),n.memoizedState=oi,n=Za(null,r));else if(Zl(n),Dn())l=Dn().digest,(r=Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.")).stack="",r.digest=l,l={value:r,source:null,stack:null},null===gt?gt=[l]:gt.push(l),n=hi(e,n,t);else if(qa||Pt(e,n,t,!1),l=0!==(t&e.childLanes),qa||l){if(null!==(l=ku)&&(0!==(r=An(l,t))&&r!==u.retryLane))throw u.retryLane=r,Nl(e,r),eo(l,e,r),$a;Dn()||co(),n=hi(e,n,t)}else Dn()?(n.flags|=192,n.child=e.child,n=null):(n=di(n,r.children)).flags|=4096;return n}if(a){tr(),a=r.fallback,u=n.mode;var o=(i=e.child).sibling,s={mode:"hidden",children:r.children};return 1&u||n.child===i?(r=Do(i,s)).subtreeFlags=65011712&i.subtreeFlags:((r=n.child).childLanes=0,r.pendingProps=s,n.deletions=null),null!==o?a=Do(o,a):(a=Ho(a,u,t,null)).flags|=2,a.return=n,r.return=n,r.sibling=a,n.child=r,Za(null,r),r=n.child,null===(a=e.child.memoizedState)?a=si(t):(null!==(u=a.cachePool)?(i=Lt._currentValue,u=u.parent!==i?{parent:i,pool:i}:u):u=al(),a={baseLanes:a.baseLanes|t,cachePool:u}),r.memoizedState=a,r.childLanes=ci(e,l,t),n.memoizedState=oi,Za(e.child,r)}return Zl(n),e=(l=e.child).sibling,l=Do(l,{mode:"visible",children:r.children}),!(1&n.mode)&&(l.lanes=t),l.return=n,l.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=l,n.memoizedState=null,l}function di(e,n){return(n=pi({mode:"visible",children:n},e.mode)).return=e,e.child=n}function pi(e,n){return(e=Ao(22,e,null,n)).lanes=0,e}function hi(e,n,t){return El(n,e.child,null,t),(e=di(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function mi(e,n,t){e.lanes|=n;var l=e.alternate;null!==l&&(l.lanes|=n),Et(e.return,n,t)}function gi(e,n,t,l,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:t,tailMode:r,treeForkCount:a}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=t,i.tailMode=r,i.treeForkCount=a)}function vi(e,n,t){var l=n.pendingProps,r=l.revealOrder,a=l.tail;l=l.children;var i=rr.current,u=!!(2&i);if(u?(i=1&i|2,n.flags|=128):i&=1,nt(rr,i),Ya(e,n,l,t),!u&&null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&mi(e,t,n);else if(19===e.tag)mi(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}if(1&n.mode)switch(r){case"forwards":for(t=n.child,r=null;null!==t;)null!==(e=t.alternate)&&null===ar(e)&&(r=t),t=t.sibling;null===(t=r)?(r=n.child,n.child=null):(r=t.sibling,t.sibling=null),gi(n,!1,r,t,a,0);break;case"backwards":case"unstable_legacy-backwards":for(t=null,r=n.child,n.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ar(e)){n.child=r;break}e=r.sibling,r.sibling=t,t=r,r=e}gi(n,!0,t,null,a,0);break;case"together":gi(n,!1,null,null,void 0,0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function bi(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function yi(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Nu|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(Pt(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=Do(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Do(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Si(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!zt(e))}function ki(e,n,t){switch(n.tag){case 3:dt(n,n.stateNode.containerInfo),kt(0,Lt,e.memoizedState.cache);break;case 27:case 5:ht(n);break;case 4:dt(n,n.stateNode.containerInfo);break;case 10:kt(0,n.type,n.memoizedProps.value);break;case 31:if(null!==n.memoizedState)return n.flags|=128,er(n),null;break;case 13:var l=n.memoizedState;if(null!==l)return null!==l.dehydrated?(Zl(n),n.flags|=128,null):0!==(t&n.child.childLanes)?fi(e,n,t):(Zl(n),null!==(e=yi(e,n,t))?e.sibling:null);Zl(n);break;case 19:var r=!!(128&e.flags);if((l=0!==(t&n.childLanes))||(Pt(e,n,t,!1),l=0!==(t&n.childLanes)),r){if(l)return vi(e,n,t);n.flags|=128}if(null!==(r=n.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),nt(rr,rr.current),l)break;return null;case 22:return n.lanes=0,Ka(e,n,t,n.pendingProps);case 24:kt(0,Lt,e.memoizedState.cache)}return yi(e,n,t)}function wi(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)qa=!0;else{if(!(Si(e,t)||128&n.flags))return qa=!1,ki(e,n,t);qa=!!(131072&e.flags)}else qa=!1;switch(n.lanes=0,n.tag){case 16:var l=n.elementType;e:{if(bi(e,n),e=n.pendingProps,l=pl(l),n.type=l,"function"!=typeof l){if(null!=l){var r=l.$$typeof;if(r===z){n.tag=11,n=Xa(null,n,l,e,t);break e}if(r===x){n.tag=14,n=Ga(null,n,l,e,t);break e}}throw n=A(l)||l,Error("Element type is invalid. Received a promise that resolves to: "+n+". Lazy element type must resolve to a class or function.")}Mo(l)?(e=Da(l,e),n.tag=1,n=ii(null,n,l,e,t)):(n.tag=0,n=ri(null,n,l,e,t))}return n;case 0:return ri(e,n,n.type,n.pendingProps,t);case 1:return ii(e,n,l=n.type,r=Da(l,n.pendingProps),t);case 3:if(dt(n,n.stateNode.containerInfo),null===e)throw Error("Should have a current fiber. This is a bug in React.");var a=n.pendingProps;l=(r=n.memoizedState).element,Al(e,n),Vl(n,a,null,t);var i=(a=n.memoizedState).cache;return kt(0,Lt,i),i!==r.cache&&Tt(n,[Lt],t,!0),Ol(),(r=a.element)===l?n=yi(e,n,t):(Ya(e,n,r,t),n=n.child),n;case 26:case 27:case 5:return ht(n),l=n.pendingProps.children,null!==n.memoizedState&&(r=br(e,n,kr,null,null,t),Gn._currentValue=r),li(e,n),Ya(e,n,l,t),n.child;case 6:return null;case 13:return fi(e,n,t);case 4:return dt(n,n.stateNode.containerInfo),l=n.pendingProps,null===e?n.child=El(n,null,l,t):Ya(e,n,l,t),n.child;case 11:return Xa(e,n,n.type,n.pendingProps,t);case 7:return Ya(e,n,n.pendingProps,t),n.child;case 8:case 12:return Ya(e,n,n.pendingProps.children,t),n.child;case 10:return l=n.pendingProps,kt(0,n.type,l.value),Ya(e,n,l.children,t),n.child;case 9:return r=n.type._context,l=n.pendingProps.children,Ct(n),l=l(r=Rt(r)),n.flags|=1,Ya(e,n,l,t),n.child;case 14:return Ga(e,n,n.type,n.pendingProps,t);case 15:return Ja(e,n,n.type,n.pendingProps,t);case 17:return r=Da(l=n.type,n.pendingProps),bi(e,n),n.tag=1,Ct(n),Fa(n,l,r),Ma(n,l,r,t),ui(null,n,l,!0,!1,t);case 28:return r=Da(l=n.type,n.pendingProps),bi(e,n),n.tag=0,ri(null,n,l,r,t);case 19:return vi(e,n,t);case 31:if(r=n.pendingProps,a=!!(128&n.flags),n.flags&=-129,null===e)n=ni(n,r);else if(null!==(l=e.memoizedState))e:{if(er(n),a){if(256&n.flags){n.flags&=-257,n=ti(e,n,t);break e}if(null!==n.memoizedState){n.child=e.child,n.flags|=128,n=null;break e}throw Error("Client rendering an Activity suspended it again. This is a bug in React.")}if(qa||Pt(e,n,t,!1),a=0!==(t&e.childLanes),qa||a){if(null!==(r=ku)&&(0!==(a=An(r,t))&&a!==l.retryLane))throw l.retryLane=a,Nl(e,a),eo(r,e,a),$a;co(),n=ti(e,n,t)}else(n=ni(n,r)).flags|=4096}else(t=Do(e.child,{mode:r.mode,children:r.children})).ref=n.ref,n.child=t,t.return=n,n=t;return n;case 22:return Ka(e,n,t,n.pendingProps);case 24:return Ct(n),l=Rt(Lt),null===e?(null===(r=ll())&&(r=ku,a=It(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=t),r=a),n.memoizedState={parent:l,cache:r},Fl(n),kt(0,Lt,r)):(0!==(e.lanes&t)&&(Al(e,n),Vl(n,null,null,t),Ol()),r=e.memoizedState,a=n.memoizedState,r.parent!==l?(r={parent:l,cache:l},n.memoizedState=r,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=r),kt(0,Lt,l)):(l=a.cache,kt(0,Lt,l),l!==r.cache&&Tt(n,[Lt],t,!0))),Ya(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Ei(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?_n():536870912,e.lanes|=n,Fu|=n)}function Ti(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var l=null;null!==t;)null!==t.alternate&&(l=t),t=t.sibling;null===l?n||null===e.tail?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pi(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,l=0;if(n)for(var r=e.child;null!==r;)t|=r.lanes|r.childLanes,l|=65011712&r.subtreeFlags,l|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)t|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=t,n}function zi(e,t,l){var r=t.pendingProps;switch(t.tag){case 28:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:case 17:return Pi(t),null;case 3:return l=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wt(Lt),pt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==e&&null!==e.child||null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,vt()),Pi(t),null;case 26:case 27:case 5:mt(t);var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&(t.flags|=4);else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Pi(t),null}l=ct.current,e=Vn(),a=Hn(a);var u=hn(null,rn,r,a.validAttributes);n(i[2]).UIManager.createView(e,a.uiViewClassName,l.containerTag,u),l=new gn(e,a,t),Be.set(e,t),We.set(e,r);e:for(e=t.child;null!==e;){if(5===e.tag||6===e.tag)l._children.push(e.stateNode);else if(4!==e.tag&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}t.stateNode=l,Wn(l)&&(t.flags|=4)}return Pi(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&(t.flags|=4);else{if("string"!=typeof r&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=ct.current,!ot.current.isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");l=Vn(),n(i[2]).UIManager.createView(l,"RCTRawText",e.containerTag,{text:r}),Be.set(l,t),t.stateNode=l}return Pi(t),null;case 31:if(l=t.memoizedState,null===e||null!==e.memoizedState){if(null!==l){if(null===e)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");!(128&t.flags)&&(t.memoizedState=null),t.flags|=4,Pi(t),e=!1}else l=vt(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return 256&t.flags?(lr(t),t):(lr(t),null);if(128&t.flags)throw Error("Client rendering an Activity suspended it again. This is a bug in React.")}return Pi(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(null!==r&&null!==r.dehydrated){if(null===e)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");!(128&t.flags)&&(t.memoizedState=null),t.flags|=4,Pi(t),a=!1}else a=vt(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lr(t),t):(lr(t),null)}return lr(t),128&t.flags?(t.lanes=l,t):(l=null!==r,e=null!==e&&null!==e.memoizedState,l&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),u=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ei(t,t.updateQueue),Pi(t),null);case 4:return pt(),Pi(t),null;case 10:return wt(t.type),Pi(t),null;case 19:if(et(rr),null===(a=t.memoizedState))return Pi(t),null;if(r=!!(128&t.flags),null===(u=a.rendering))if(r)Ti(a,!1);else{if(0!==_u||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(u=ar(e))){for(t.flags|=128,Ti(a,!1),e=u.updateQueue,t.updateQueue=e,Ei(t,e),t.subtreeFlags=0,e=l,l=t.child;null!==l;)jo(l,e),l=l.sibling;return nt(rr,1&rr.current|2),t.child}e=e.sibling}null!==a.tail&&n(i[3]).unstable_now()>Qu&&(t.flags|=128,r=!0,Ti(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ar(u))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Ei(t,e),Ti(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate)return Pi(t),null}else 2*n(i[3]).unstable_now()-a.renderingStartTime>Qu&&536870912!==l&&(t.flags|=128,r=!0,Ti(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(e=a.last)?e.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=n(i[3]).unstable_now(),t.sibling=null,e=rr.current,nt(rr,r?1&e|2:1&e),t):(Pi(t),null);case 22:case 23:return lr(t),Gl(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r&&1&t.mode?!!(536870912&l)&&!(128&t.flags)&&(Pi(t),6&t.subtreeFlags&&(t.flags|=8192)):Pi(t),null!==(l=t.updateQueue)&&Ei(t,l.retryQueue),l=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(l=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==l&&(t.flags|=2048),null!==e&&et(tl),null;case 24:return l=null,null!==e&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),wt(Lt),Pi(t),null;case 25:case 30:case 29:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Ci(e,n){switch(n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return wt(Lt),pt(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return mt(n),null;case 31:if(null!==n.memoizedState&&(lr(n),null===n.alternate))throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 13:if(lr(n),null!==(e=n.memoizedState)&&null!==e.dehydrated&&null===n.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return et(rr),null;case 4:return pt(),null;case 10:return wt(n.type),null;case 22:case 23:return lr(n),Gl(),null!==e&&et(tl),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return wt(Lt),null;default:return null}}function Ri(e,n){switch(n.tag){case 3:wt(Lt),pt();break;case 26:case 27:case 5:mt(n);break;case 4:pt();break;case 31:null!==n.memoizedState&&lr(n);break;case 13:lr(n);break;case 19:et(rr);break;case 10:wt(n.type);break;case 22:case 23:lr(n),Gl(),null!==e&&et(tl);break;case 24:wt(Lt)}}function xi(e,n){try{var t=n.updateQueue,l=null!==t?t.lastEffect:null;if(null!==l){var r=l.next;t=r;do{if((t.tag&e)===e){l=void 0;var a=t.create,i=t.inst;l=a(),i.destroy=l}t=t.next}while(t!==r)}}catch(e){xo(n,n.return,e)}}function _i(e,n,t){try{var l=n.updateQueue,r=null!==l?l.lastEffect:null;if(null!==r){var a=r.next;l=a;do{if((l.tag&e)===e){var i=l.inst,u=i.destroy;if(void 0!==u){i.destroy=void 0,r=n;var o=t,s=u;try{s()}catch(e){xo(r,o,e)}}}l=l.next}while(l!==a)}}catch(e){xo(n,n.return,e)}}function Ni(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{Wl(n,t)}catch(n){xo(e,e.return,n)}}}function Li(e,n,t){t.props=Da(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(t){xo(e,n,t)}}function Ii(e,n){try{var t=e.ref;if(null!==t){switch(e.tag){case 26:case 27:case 5:var l=$n(e.stateNode);break;default:l=e.stateNode}"function"==typeof t?e.refCleanup=t(l):t.current=l}}catch(t){xo(e,n,t)}}function Ui(e,n){var t=e.ref,l=e.refCleanup;if(null!==t)if("function"==typeof l)try{l()}catch(t){xo(e,n,t)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof t)try{t(null)}catch(t){xo(e,n,t)}else t.current=null}function Fi(e){return 5===e.tag||3===e.tag||4===e.tag}function Ai(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Fi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Mi(e,t,l){var r=e.tag;if(5===r||6===r)if(e=e.stateNode,t){if("number"==typeof l)throw Error("Container does not support insertBefore operation")}else n(i[2]).UIManager.setChildren(l.containerTag,["number"==typeof e?e:e._nativeTag]);else if(4!==r&&null!==(e=e.child))for(Mi(e,t,l),e=e.sibling;null!==e;)Mi(e,t,l),e=e.sibling}function Di(e,t,l){var r=e.tag;if(5===r||6===r)if(e=e.stateNode,t){var a=(r=l._children).indexOf(e);0<=a?(r.splice(a,1),t=r.indexOf(t),r.splice(t,0,e),n(i[2]).UIManager.manageChildren(l._nativeTag,[a],[t],[],[],[])):(t=r.indexOf(t),r.splice(t,0,e),n(i[2]).UIManager.manageChildren(l._nativeTag,[],[],["number"==typeof e?e:e._nativeTag],[t],[]))}else t="number"==typeof e?e:e._nativeTag,0<=(a=(r=l._children).indexOf(e))?(r.splice(a,1),r.push(e),n(i[2]).UIManager.manageChildren(l._nativeTag,[a],[r.length-1],[],[],[])):(r.push(e),n(i[2]).UIManager.manageChildren(l._nativeTag,[],[],[t],[r.length-1],[]));else if(4!==r&&null!==(e=e.child))for(Di(e,t,l),e=e.sibling;null!==e;)Di(e,t,l),e=e.sibling}var ji=!1,Qi=!1,Hi="function"==typeof WeakSet?WeakSet:Set,Oi=null;function Vi(e,n){for(Oi=n;null!==Oi;)if(n=(e=Oi).child,1028&e.subtreeFlags&&null!==n)n.return=e,Oi=n;else for(;null!==Oi;){var t=(e=Oi).alternate;switch(n=e.flags,e.tag){case 0:if(4&n&&null!==(n=null!==(n=e.updateQueue)?n.events:null))for(var l=0;l<n.length;l++){var r=n[l];r.ref.impl=r.nextImpl}break;case 11:case 15:case 3:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&n&&null!==t){n=void 0,l=e,r=t.memoizedProps,t=t.memoizedState;var a=l.stateNode;try{var i=Da(l.type,r);n=a.getSnapshotBeforeUpdate(i,t),a.__reactInternalSnapshotBeforeUpdate=n}catch(e){xo(l,l.return,e)}}break;default:if(1024&n)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(null!==(n=e.sibling)){n.return=e.return,Oi=n;break}Oi=e.return}}function Bi(e,n,t){var l=t.flags;switch(t.tag){case 0:case 11:case 15:nu(e,t),4&l&&xi(5,t);break;case 1:if(nu(e,t),4&l)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(e){xo(t,t.return,e)}else{var r=Da(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(r,n,e.__reactInternalSnapshotBeforeUpdate)}catch(e){xo(t,t.return,e)}}64&l&&Ni(t),512&l&&Ii(t,t.return);break;case 3:if(nu(e,t),64&l&&null!==(l=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 27:case 5:e=$n(t.child.stateNode);break;case 1:e=t.child.stateNode}try{Wl(l,e)}catch(e){xo(t,t.return,e)}}break;case 27:case 26:case 5:if(nu(e,t),null===n&&!(4&l)&&64&l){e=t.type,n=t.memoizedProps,r=t.stateNode;try{Dn()}catch(e){xo(t,t.return,e)}}512&l&&Ii(t,t.return);break;case 12:case 31:default:nu(e,t);break;case 13:nu(e,t),64&l&&(null!==(l=t.memoizedState)&&null!==l.dehydrated&&(Io.bind(null,t),Dn()));break;case 22:if(1&t.mode){if(!(l=null!==t.memoizedState||ji)){n=null!==n&&null!==n.memoizedState||Qi,r=ji;var a=Qi;ji=l,(Qi=n)&&!a?lu(e,t,!!(8772&t.subtreeFlags)):nu(e,t),ji=r,Qi=a}}else nu(e,t);case 30:}}function Wi(e){var n=e.alternate;null!==n&&(e.alternate=null,Wi(n)),e.child=null,e.deletions=null,e.sibling=null,e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $i=null,qi=!1;function Yi(e,n,t){for(t=t.child;null!==t;)Xi(e,n,t),t=t.sibling}function Xi(e,t,l){if(bn&&"function"==typeof bn.onCommitFiberUnmount)try{bn.onCommitFiberUnmount(vn,l)}catch(e){}switch(l.tag){case 26:case 27:case 5:Qi||Ui(l,t);case 6:var r=$i,a=qi;if($i=null,Yi(e,t,l),qi=a,null!==($i=r))if(qi)try{e=$i,Bn(l.stateNode),n(i[2]).UIManager.manageChildren(e.containerTag,[],[],[],[],[0])}catch(e){xo(l,t,e)}else try{e=$i;var u=l.stateNode;Bn(u);var o=e._children,s=o.indexOf(u);o.splice(s,1),n(i[2]).UIManager.manageChildren(e._nativeTag,[],[],[],[],[s])}catch(e){xo(l,t,e)}break;case 18:null!==$i&&Dn();break;case 4:u=$i,o=qi,$i=l.stateNode.containerInfo,qi=!0,Yi(e,t,l),$i=u,qi=o;break;case 0:case 11:case 14:case 15:Qi||_i(2,l,t),Qi||_i(4,l,t),Yi(e,t,l);break;case 1:Qi||(Ui(l,t),"function"==typeof(u=l.stateNode).componentWillUnmount&&Li(l,t,u)),Yi(e,t,l);break;case 21:Yi(e,t,l);break;case 22:1&l.mode?(Qi=(u=Qi)||null!==l.memoizedState,Yi(e,t,l),Qi=u):Yi(e,t,l);break;default:Yi(e,t,l)}}function Gi(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new Hi),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new Hi),n;default:throw Error("Unexpected Suspense handler tag ("+e.tag+"). This is a bug in React.")}}function Ji(e,n){var t=Gi(e);n.forEach(function(n){if(!t.has(n)){t.add(n);var l=Uo.bind(null,e,n);n.then(l,l)}})}function Ki(e,n){var t=n.deletions;if(null!==t)for(var l=0;l<t.length;l++){var r=t[l],a=e,i=n,u=i;e:for(;null!==u;){switch(u.tag){case 27:case 5:$i=u.stateNode,qi=!1;break e;case 3:case 4:$i=u.stateNode.containerInfo,qi=!0;break e}u=u.return}if(null===$i)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");Xi(a,i,r),$i=null,qi=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13886&n.subtreeFlags)for(n=n.child;null!==n;)Zi(n,e),n=n.sibling}function Zi(e,t){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ki(t,e),eu(e),4&r&&(_i(3,e,e.return),xi(3,e),_i(5,e,e.return));break;case 1:if(Ki(t,e),eu(e),512&r&&(Qi||null===l||Ui(l,l.return)),64&r&&ji&&(null!==(e=e.updateQueue)&&null!==(r=e.callbacks))){var a=e.shared.hiddenCallbacks;e.shared.hiddenCallbacks=null===a?r:a.concat(r)}break;case 26:case 27:case 5:if(Ki(t,e),eu(e),512&r&&(Qi||null===l||Ui(l,l.return)),4&r&&null!=e.stateNode){r=e.memoizedProps,a=null!==l?l.memoizedProps:r;try{var u=e.stateNode,o=u.viewConfig;We.set(u._nativeTag,r);var s=hn(null,a,r,o.validAttributes);null!=s&&n(i[2]).UIManager.updateView(u._nativeTag,o.uiViewClassName,s)}catch(n){xo(e,e.return,n)}}break;case 6:if(Ki(t,e),eu(e),4&r){if(null===e.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");r=e.memoizedProps,a=e.stateNode;try{n(i[2]).UIManager.updateView(a,"RCTRawText",{text:r})}catch(n){xo(e,e.return,n)}}break;case 3:case 4:case 12:default:Ki(t,e),eu(e);break;case 31:case 19:Ki(t,e),eu(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ji(e,r)));break;case 13:Ki(t,e),eu(e),8192&e.child.flags&&(a=null!==l&&null!==l.memoizedState,null===e.memoizedState||a||(ju=n(i[3]).unstable_now())),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ji(e,r)));break;case 22:if(u=null!==e.memoizedState,o=null!==l&&null!==l.memoizedState,1&e.mode){var c=Qi;ji=(s=ji)||u,Qi=c||o,Ki(t,e),Qi=c,ji=s}else Ki(t,e);if(eu(e),8192&r)e:for(t=e.stateNode,t._visibility=u?-2&t._visibility:1|t._visibility,u&&(null===l||o||ji||Qi||!!(1&e.mode)&&tu(e)),l=null,t=e;;){if(5===t.tag){if(null===l){o=l=t;try{if(a=o.stateNode,u){var f=(s=a).viewConfig,p=hn(null,rn,{style:{display:"none"}},f.validAttributes);n(i[2]).UIManager.updateView(s._nativeTag,f.uiViewClassName,p)}else{var h=o.stateNode,m=o.memoizedProps,g=h.viewConfig,v=hn(null,d({},m,{style:[m.style,{display:"none"}]}),m,g.validAttributes);n(i[2]).UIManager.updateView(h._nativeTag,g.uiViewClassName,v)}}catch(e){xo(o,o.return,e)}}}else if(6===t.tag){if(null===l){o=t;try{throw Error("Not yet implemented.")}catch(e){xo(o,o.return,e)}}}else if(18===t.tag){if(null===l){o=t;try{o.stateNode;u?Dn():Dn(o.stateNode)}catch(e){xo(o,o.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(a=r.retryQueue)&&(r.retryQueue=null,Ji(e,a))));case 30:case 21:}}function eu(e){var n=e.flags;if(2&n){try{for(var t,l=e.return;null!==l;){if(Fi(l)){t=l;break}l=l.return}if(null==t)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(t.tag){case 27:case 5:var r=t.stateNode;32&t.flags&&(t.flags&=-33),Di(e,Ai(e),r);break;case 3:case 4:var a=t.stateNode.containerInfo;Mi(e,Ai(e),a);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}catch(n){xo(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function nu(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)Bi(e,n.alternate,n),n=n.sibling}function tu(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:_i(4,n,n.return),tu(n);break;case 1:Ui(n,n.return);var t=n.stateNode;"function"==typeof t.componentWillUnmount&&Li(n,n.return,t),tu(n);break;case 27:case 26:case 5:Ui(n,n.return),tu(n);break;case 22:null===n.memoizedState&&tu(n);break;default:tu(n)}e=e.sibling}}function lu(e,n,t){for(t=t&&!!(8772&n.subtreeFlags),n=n.child;null!==n;){var l=e,r=n,a=r.flags;switch(r.tag){case 0:case 11:case 15:lu(l,r,t),xi(4,r);break;case 1:lu(l,r,t);var i=(l=r).stateNode;if("function"==typeof i.componentDidMount)try{i.componentDidMount()}catch(e){xo(l,l.return,e)}if(null!==(i=(l=r).updateQueue)){var u=l.stateNode;try{var o=i.shared.hiddenCallbacks;if(null!==o)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)Bl(o[i],u)}catch(e){xo(l,l.return,e)}}t&&64&a&&Ni(r),Ii(r,r.return);break;case 27:case 26:case 5:lu(l,r,t),Ii(r,r.return);break;case 12:case 31:case 13:default:lu(l,r,t);break;case 22:null===r.memoizedState&&lu(l,r,t),Ii(r,r.return);case 30:}n=n.sibling}}function ru(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&Ut(t))}function au(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Ut(e))}function iu(e,n,t,l){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)uu(e,n,t,l),n=n.sibling}function uu(e,n,t,l){var r=n.flags;switch(n.tag){case 0:case 11:case 15:iu(e,n,t,l),2048&r&&xi(9,n);break;case 1:case 31:case 13:default:iu(e,n,t,l);break;case 3:iu(e,n,t,l),2048&r&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Ut(e)));break;case 12:if(2048&r){iu(e,n,t,l),e=n.stateNode;try{var a=n.memoizedProps,i=a.id,u=a.onPostCommit;"function"==typeof u&&u(i,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){xo(n,n.return,e)}}else iu(e,n,t,l);break;case 23:break;case 22:a=n.stateNode,i=n.alternate,null!==n.memoizedState?2&a._visibility?iu(e,n,t,l):1&n.mode?su(e,n):(a._visibility|=2,iu(e,n,t,l)):2&a._visibility?iu(e,n,t,l):(a._visibility|=2,ou(e,n,t,l,!!(10256&n.subtreeFlags)||!1)),2048&r&&ru(i,n);break;case 24:iu(e,n,t,l),2048&r&&au(n.alternate,n)}}function ou(e,n,t,l,r){for(r=r&&(!!(10256&n.subtreeFlags)||!1),n=n.child;null!==n;){var a=e,i=n,u=t,o=l,s=i.flags;switch(i.tag){case 0:case 11:case 15:ou(a,i,u,o,r),xi(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?2&c._visibility?ou(a,i,u,o,r):1&i.mode?su(a,i):(c._visibility|=2,ou(a,i,u,o,r)):(c._visibility|=2,ou(a,i,u,o,r)),r&&2048&s&&ru(i.alternate,i);break;case 24:ou(a,i,u,o,r),r&&2048&s&&au(i.alternate,i);break;default:ou(a,i,u,o,r)}n=n.sibling}}function su(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,l=n,r=l.flags;switch(l.tag){case 22:su(t,l),2048&r&&ru(l.alternate,l);break;case 24:su(t,l),2048&r&&au(l.alternate,l);break;default:su(t,l)}n=n.sibling}}var cu=8192;function fu(e){if(e.subtreeFlags&cu)for(e=e.child;null!==e;)du(e),e=e.sibling}function du(e){switch(e.tag){case 26:fu(e),e.flags&cu&&null!==e.memoizedState&&jn();break;case 5:case 3:case 4:default:fu(e);break;case 22:if(null===e.memoizedState){var n=e.alternate;null!==n&&null!==n.memoizedState?(n=cu,cu=16777216,fu(e),cu=n):fu(e)}}}function pu(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function hu(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var l=n[t];Oi=l,vu(l,e)}pu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)mu(e),e=e.sibling}function mu(e){switch(e.tag){case 0:case 11:case 15:hu(e),2048&e.flags&&_i(9,e,e.return);break;case 3:case 12:default:hu(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&2&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-3,gu(e)):hu(e)}}function gu(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var l=n[t];Oi=l,vu(l,e)}pu(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:_i(8,n,n.return),gu(n);break;case 22:2&(t=n.stateNode)._visibility&&(t._visibility&=-3,gu(n));break;default:gu(n)}e=e.sibling}}function vu(e,n){for(;null!==Oi;){var t=Oi;switch(t.tag){case 0:case 11:case 15:_i(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var l=t.memoizedState.cachePool.pool;null!=l&&l.refCount++}break;case 24:Ut(t.memoizedState.cache)}if(null!==(l=t.child))l.return=t,Oi=l;else e:for(t=e;null!==Oi;){var r=(l=Oi).sibling,a=l.return;if(Wi(l),l===t){Oi=null;break e}if(null!==r){r.return=a,Oi=r;break e}Oi=a}}}var bu={getCacheForType:function(e){var n=Rt(Lt),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t},cacheSignal:function(){return Rt(Lt).controller.signal}},yu="function"==typeof WeakMap?WeakMap:Map,Su=0,ku=null,wu=null,Eu=0,Tu=0,Pu=null,zu=!1,Cu=!1,Ru=!1,xu=0,_u=0,Nu=0,Lu=0,Iu=0,Uu=0,Fu=0,Au=null,Mu=null,Du=!1,ju=0,Qu=1/0,Hu=null,Ou=null,Vu=0,Bu=null,Wu=null,$u=0,qu=0,Yu=null,Xu=null,Gu=0,Ju=null;function Ku(e){return 1&e.mode?2&Su&&0!==Eu?Eu&-Eu:null!==f.T?Yt():e=0!==Xn?Xn:32:2}function Zu(){if(0===Uu)if(536870912&Eu)Uu=536870912;else{var e=Tn;!(3932160&(Tn<<=1))&&(Tn=262144),Uu=e}return null!==(e=Jl.current)&&(e.flags|=32),Uu}function eo(e,t,l){(e!==ku||2!==Tu&&9!==Tu)&&null===e.cancelPendingCommit||(io(e,0),ro(e,Eu,Uu,!1)),Ln(e,l),2&Su&&e===ku||(e===ku&&(!(2&Su)&&(Lu|=l),4===_u&&ro(e,Eu,Uu,!1)),Ot(e),2===l&&0===Su&&!(1&t.mode)&&(Qu=n(i[3]).unstable_now()+500,Vt(0,!0)))}function no(e,t,l){if(6&Su)throw Error("Should not already be working.");for(var r=!l&&!(127&t)&&0===(t&e.expiredLanes)||Rn(e,t),a=r?ho(e,t):fo(e,t,!0),u=r;;){if(0===a){Cu&&!r&&ro(e,t,0,!1);break}if(l=e.current.alternate,!u||lo(l)){if(0!==e.tag&&2===a){if(u=t,e.errorRecoveryDisabledLanes&u)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var s=e;if(a=Au,2!==(o=fo(s,o,!1))){if(Ru){s.errorRecoveryDisabledLanes|=u,Lu|=u,a=4;break e}u=Mu,Mu=a,null!==u&&(null===Mu?Mu=u:Mu.push.apply(Mu,u))}a=o}if(u=!1,2!==a)continue}}if(1===a){io(e,0),ro(e,t,0,!0);break}e:{switch(r=e,u=a){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 4:if((4194048&t)!==t)break;case 6:ro(r,t,Uu,!zu);break e;case 2:Mu=null;break;case 3:case 5:break;default:throw Error("Unknown root exit status.")}if((62914560&t)===t&&3===u&&10<(a=ju+300-n(i[3]).unstable_now())){if(ro(r,t,Uu,!zu),0!==Cn(r,0,!0))break e;$u=t,r.timeoutHandle=qn(to.bind(null,r,l,Mu,Hu,Du,t,Uu,Lu,Fu,zu,u,"Throttled",-0,0),a)}else to(r,l,Mu,Hu,Du,t,Uu,Lu,Fu)}break}a=fo(e,t,!1),u=!1}Ot(e)}function to(e,t,l,r,a,u,o,s,c){e.timeoutHandle=-1;var f=t.subtreeFlags;!(8192&f)&&16785408&~f||(du(t),((62914560&u)===u||(4194048&u)===u)&&n(i[3]).unstable_now()),ko(e,t,u,l,r,a,o,s,c)}function lo(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var l=0;l<t.length;l++){var r=t[l],a=r.getSnapshot;r=r.value;try{if(!lt(a(),r))return!1}catch(e){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ro(e,n,t,l){n&=~Iu,n&=~Lu,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var r=n;0<r;){var a=31-Sn(r),i=1<<a;l[a]=-1,r&=~i}0!==t&&Un(e,t,n)}function ao(){if(null!==wu){if(0===Tu)var e=wu.return;else St=yt=null,Er(e=wu),vl=null,bl=0,e=wu;for(;null!==e;)Ri(e.alternate,e),e=e.return;wu=null}}function io(e,n){var t=e.timeoutHandle;-1!==t&&(e.timeoutHandle=-1,Yn(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),$u=0,ao(),ku=e,wu=t=Do(e.current,null),Eu=n,Tu=0,Pu=null,zu=!1,Cu=Rn(e,n),Ru=!1,Fu=Uu=Iu=Lu=Nu=_u=0,Mu=Au=null,Du=!1,8&n&&(n|=32&n);var l=e.entangledLanes;if(0!==l)for(e=e.entanglements,l&=n;0<l;){var r=31-Sn(l),a=1<<r;n|=e[r],l&=~a}return xu=n,Rl(),t}function uo(e,n){ur=null,f.H=Ra,n===ul||n===sl?(n=ml(),Tu=3):n===ol?(n=ml(),Tu=4):Tu=n===$a?8:null!==n&&"object"==typeof n&&"function"==typeof n.then?6:1,Pu=n,null===wu&&(_u=1,Qa(e,ut(n,e.current)))}function oo(){var e=f.H;return f.H=Ra,null===e?Ra:e}function so(){var e=f.A;return f.A=bu,e}function co(){_u=4,zu||(4194048&Eu)!==Eu&&null!==Jl.current||(Cu=!0),!(134217727&Nu)&&!(134217727&Lu)||null===ku||ro(ku,Eu,Uu,!1)}function fo(e,n,t){var l=Su;Su|=2;var r=oo(),a=so();ku===e&&Eu===n||(Hu=null,io(e,n)),n=!1;var i=_u;e:for(;;)try{if(0!==Tu&&null!==wu){var u=wu,o=Pu;switch(Tu){case 8:ao(),i=6;break e;case 3:case 2:case 9:case 6:null===Jl.current&&(n=!0);var s=Tu;if(Tu=0,Pu=null,bo(e,u,o,s),t&&Cu){i=0;break e}break;default:s=Tu,Tu=0,Pu=null,bo(e,u,o,s)}}po(),i=_u;break}catch(n){uo(e,n)}return n&&e.shellSuspendCounter++,St=yt=null,Su=l,f.H=r,f.A=a,null===wu&&(ku=null,Eu=0,Rl()),i}function po(){for(;null!==wu;)go(wu)}function ho(e,t){var l=Su;Su|=2;var r=oo(),a=so();ku!==e||Eu!==t?(Hu=null,Qu=n(i[3]).unstable_now()+500,io(e,t)):Cu=Rn(e,t);e:for(;;)try{if(0!==Tu&&null!==wu){t=wu;var u=Pu;n:switch(Tu){case 1:Tu=0,Pu=null,bo(e,t,u,1);break;case 2:case 9:if(fl(u)){Tu=0,Pu=null,vo(t);break}t=function(){2!==Tu&&9!==Tu||ku!==e||(Tu=7),Ot(e)},u.then(t,t);break e;case 3:Tu=7;break e;case 4:Tu=5;break e;case 7:fl(u)?(Tu=0,Pu=null,vo(t)):(Tu=0,Pu=null,bo(e,t,u,7));break;case 5:var o=null;switch(wu.tag){case 26:o=wu.memoizedState;case 5:case 27:var s=wu;if(!o||jn()){Tu=0,Pu=null;var c=s.sibling;if(null!==c)wu=c;else{var d=s.return;null!==d?(wu=d,yo(d)):wu=null}break n}}Tu=0,Pu=null,bo(e,t,u,5);break;case 6:Tu=0,Pu=null,bo(e,t,u,6);break;case 8:ao(),_u=6;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}}mo();break}catch(n){uo(e,n)}return St=yt=null,f.H=r,f.A=a,Su=l,null!==wu?0:(ku=null,Eu=0,Rl(),_u)}function mo(){for(;null!==wu&&!n(i[3]).unstable_shouldYield();)go(wu)}function go(e){var n=wi(e.alternate,e,xu);e.memoizedProps=e.pendingProps,null===n?yo(e):wu=n}function vo(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=ai(t,n,n.pendingProps,n.type,void 0,Eu);break;case 11:n=ai(t,n,n.pendingProps,n.type.render,n.ref,Eu);break;case 5:Er(n);default:Ri(t,n),n=wi(t,n=wu=jo(n,xu),xu)}e.memoizedProps=e.pendingProps,null===n?yo(e):wu=n}function bo(e,n,t,l){St=yt=null,Er(n),vl=null,bl=0;var r=n.return;try{if(Wa(e,r,n,t,Eu))return _u=1,Qa(e,ut(t,e.current)),void(wu=null)}catch(n){if(null!==r)throw wu=r,n;return _u=1,Qa(e,ut(t,e.current)),void(wu=null)}32768&n.flags?(1===l?e=!0:Cu||536870912&Eu?e=!1:(zu=e=!0,(2===l||9===l||3===l||6===l)&&(null!==(l=Jl.current)&&13===l.tag&&(l.flags|=16384))),So(n,e)):yo(n)}function yo(e){var n=e;do{if(32768&n.flags)return void So(n,zu);e=n.return;var t=zi(n.alternate,n,xu);if(null!==t)return void(wu=t);if(null!==(n=n.sibling))return void(wu=n);wu=n=e}while(null!==n);0===_u&&(_u=5)}function So(e,n){do{var t=Ci(e.alternate,e);if(null!==t)return t.flags&=32767,void(wu=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(wu=e);wu=e=t}while(null!==e);_u=6,wu=null}function ko(e,t,l,r,a,u,o,s,c){e.cancelPendingCommit=null;do{zo()}while(0!==Vu);if(6&Su)throw Error("Should not already be working.");if(null!==t){if(t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(u=t.lanes|t.childLanes,In(e,l,u|=Cl,o,s,c),e===ku&&(wu=ku=null,Eu=0),Wu=t,Bu=e,$u=l,qu=u,Yu=a,Xu=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,d=n(i[3]).unstable_NormalPriority,p=function(){return Co(),null},n(i[3]).unstable_scheduleCallback(d,p)):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=f.T,f.T=null,a=Xn,Xn=2,o=Su,Su|=4;try{Vi(e,t)}finally{Su=o,Xn=a,f.T=r}}Vu=1,wo(),Eo(),To()}var d,p}function wo(){if(1===Vu){Vu=0;var e=Bu,n=Wu,t=!!(13878&n.flags);if(13878&n.subtreeFlags||t){t=f.T,f.T=null;var l=Xn;Xn=2;var r=Su;Su|=4;try{Zi(n,e)}finally{Su=r,Xn=l,f.T=t}}e.current=n,Vu=2}}function Eo(){if(2===Vu){Vu=0;var e=Bu,n=Wu,t=!!(8772&n.flags);if(8772&n.subtreeFlags||t){t=f.T,f.T=null;var l=Xn;Xn=2;var r=Su;Su|=4;try{Bi(e,n.alternate,n)}finally{Su=r,Xn=l,f.T=t}}Vu=3}}function To(){if(4===Vu||3===Vu){Vu=0,n(i[3]).unstable_requestPaint();var e=Bu,t=Wu,l=$u,r=Xu;10256&t.subtreeFlags||10256&t.flags?Vu=5:(Vu=0,Wu=Bu=null,Po(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Ou=null),Mn(l),t=t.stateNode,bn&&"function"==typeof bn.onCommitFiberRoot)try{bn.onCommitFiberRoot(vn,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=f.T,a=Xn,Xn=2,f.T=null;try{for(var u=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];u(s.value,{componentStack:s.stack})}}finally{f.T=t,Xn=a}}3&$u&&0!==e.tag&&zo(),Ot(e),a=e.pendingLanes,261930&l&&42&a?e===Ju?Gu++:(Gu=0,Ju=e):Gu=0,Vt(0,!1)}}function Po(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,Ut(n)))}function zo(){return wo(),Eo(),To(),Co()}function Co(){if(5!==Vu)return!1;var e=Bu,n=qu;qu=0;var t=Mn($u),l=f.T,r=Xn;try{Xn=32>t?32:t,f.T=null,t=Yu,Yu=null;var a=Bu,i=$u;if(Vu=0,Wu=Bu=null,$u=0,6&Su)throw Error("Cannot flush passive effects while already rendering.");var u=Su;if(Su|=4,mu(a.current),uu(a,a.current,i,t),Su=u,Vt(0,!1),bn&&"function"==typeof bn.onPostCommitFiberRoot)try{bn.onPostCommitFiberRoot(vn,a)}catch(e){}return!0}finally{Xn=r,f.T=l,Po(e,n)}}function Ro(e,n,t){n=ut(t,n),null!==(e=Dl(e,n=Oa(e.stateNode,n,2),2))&&(Ln(e,2),Ot(e))}function xo(e,n,t){if(3===e.tag)Ro(e,e,t);else for(;null!==n;){if(3===n.tag){Ro(n,e,t);break}if(1===n.tag){var l=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof l.componentDidCatch&&(null===Ou||!Ou.has(l))){e=ut(t,e),null!==(l=Dl(n,t=Va(2),2))&&(Ba(t,l,n,e),Ln(l,2),Ot(l));break}}n=n.return}}function _o(e,n,t){var l=e.pingCache;if(null===l){l=e.pingCache=new yu;var r=new Set;l.set(n,r)}else void 0===(r=l.get(n))&&(r=new Set,l.set(n,r));r.has(t)||(Ru=!0,r.add(t),e=No.bind(null,e,n,t),n.then(e,e))}function No(e,t,l){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ku===e&&(Eu&l)===l&&(4===_u||3===_u&&(62914560&Eu)===Eu&&300>n(i[3]).unstable_now()-ju?!(2&Su)&&io(e,0):Iu|=l,Fu===Eu&&(Fu=0)),Ot(e)}function Lo(e,n){0===n&&(n=1&e.mode?_n():2),null!==(e=Nl(e,n))&&(Ln(e,n),Ot(e))}function Io(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Lo(e,t)}function Uo(e,n){var t=0;switch(e.tag){case 31:case 13:var l=e.stateNode,r=e.memoizedState;null!==r&&(t=r.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==l&&l.delete(n),Lo(e,t)}function Fo(e,n,t,l){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ao(e,n,t,l){return new Fo(e,n,t,l)}function Mo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Do(e,n){var t=e.alternate;return null===t?((t=Ao(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=65011712&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function jo(e,n){e.flags&=65011714;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Qo(e,n,t,l,r,a){var i=0;if(l=e,"function"==typeof e)Mo(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case N:return(e=Ao(31,t,n,r)).elementType=N,e.lanes=a,e;case k:return Ho(t.children,r,a,n);case w:i=8,1&(r|=8)&&(r|=16);break;case E:return(e=Ao(12,t,n,2|r)).elementType=E,e.lanes=a,e;case C:return(e=Ao(13,t,n,r)).elementType=C,e.lanes=a,e;case R:return(e=Ao(19,t,n,r)).elementType=R,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:i=10;break e;case T:i=9;break e;case z:i=11;break e;case x:i=14;break e;case _:i=16,l=null;break e}i=29,t=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null===e?"null":typeof e)+"."),l=null}return(n=Ao(i,t,n,r)).elementType=e,n.type=l,n.lanes=a,n}function Ho(e,n,t,l){return(e=Ao(7,e,l,n)).lanes=t,e}function Oo(e,n,t){return(e=Ao(6,e,null,n)).lanes=t,e}function Vo(e,n,t){return(n=Ao(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Bo(e,n,t,l,r,a,i,u,o){this.tag=n,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Wo(e,n,t){var l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==l?null:""+l,children:e,containerInfo:n,implementation:t}}function $o(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e)}return null===(e=null!==(e=tn(n))?ln(e):null)?null:$n(e.stateNode)}function qo(e,n,t,l){var r=Ku(t=n.current);return null===n.context?n.context=tt:n.pendingContext=tt,(n=Ml(r)).payload={element:e},null!==(l=void 0===l?null:l)&&(n.callback=l),null!==(e=Dl(t,n,r))&&(eo(e,t,r),jl(e,t,r)),r}if("function"!=typeof n(i[2]).ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function Yo(e,t){!1!==n(i[2]).ReactFiberErrorDialog.showErrorDialog({errorBoundary:null,error:e,componentStack:null!=t.componentStack?t.componentStack:""})&&rt(e)}function Xo(e,t){!1!==n(i[2]).ReactFiberErrorDialog.showErrorDialog({errorBoundary:t.errorBoundary,error:e,componentStack:null!=t.componentStack?t.componentStack:""})&&console.error(e)}function Go(){}function Jo(e){var n=Ko.get(e);n&&qo(null,n,null,function(){Ko.delete(e)})}qe=function(e,t){var l=Su;Su|=1;try{return e(t)}finally{0===(Su=l)&&(Qu=n(i[3]).unstable_now()+500,Vt(0,!0))}};var Ko=new Map,Zo={bundleType:0,version:"19.2.0",rendererPackageName:"react-native-renderer",currentDispatcherRef:f,reconcilerVersion:"19.2.0"};if(null!==Qn&&(Zo.rendererConfig=Qn),"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{vn=es.inject(Zo),bn=es}catch(e){}}a.createPortal=function(e,n){return Wo(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,t,l){var r=null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e);null!=r&&(null!=(e=n(i[2]).getNodeFromPublicInstance(e))?nativeFabricUIManager.dispatchCommand(e,t,l):n(i[2]).UIManager.dispatchViewManagerCommand(r,t,l))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e.canonical&&e.canonical.publicInstance?e.canonical.publicInstance:e._nativeTag?e:$o(e)},a.findNodeHandle=function(e){if(null==e)return null;if("number"==typeof e)return e;if(e._nativeTag)return e._nativeTag;if(null!=e.canonical&&null!=e.canonical.nativeTag)return e.canonical.nativeTag;var t=n(i[2]).getNativeTagFromPublicInstance(e);return t||(null==(e=$o(e))?e:null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e))},a.isChildPublicInstance=function(){throw Error("isChildPublicInstance() is not available in production.")},a.render=function(e,n,t,l){var r=Ko.get(n);if(!r){r=Yo;var a=Xo,i=ja;l&&void 0!==l.onUncaughtError&&(r=l.onUncaughtError),l&&void 0!==l.onCaughtError&&(a=l.onCaughtError),l&&void 0!==l.onRecoverableError&&(i=l.onRecoverableError),l=new Bo({containerTag:n,publicInstance:null},0,!1,"",r,a,i,Go,null),r=Ao(3,null,null,0),l.current=r,r.stateNode=l,(a=It()).refCount++,l.pooledCache=a,a.refCount++,r.memoizedState={element:null,isDehydrated:!1,cache:a},Fl(r),r=l,Ko.set(n,r)}qo(e,r,null,t);e:if(e=r.current,e.child)switch(e.child.tag){case 27:case 5:e=$n(e.child.stateNode);break e;default:e=e.child.stateNode}else e=null;return e},a.sendAccessibilityEvent=function(e,t){var l=null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e);null!=l&&(null!=(e=n(i[2]).getNodeFromPublicInstance(e))?nativeFabricUIManager.sendAccessibilityEvent(e,t):n(i[2]).legacySendAccessibilityEvent(l,t))},a.unmountComponentAtNode=Jo,a.unmountComponentAtNodeAndRemoveContainer=function(e){Jo(e),n(i[2]).UIManager.removeRootView(e)},a.unstable_batchedUpdates=Xe},270,[111,75,259,267]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.onCaughtError=function(r,t){var o=n(r,t);e.default.handleException(o,!1)},_e.onRecoverableError=function(e,r){var t=n(e,r);console.warn(t)},_e.onUncaughtError=function(r,t){var o=n(r,t);e.default.handleException(o,!0)};var e=r(_r(d[0]));r(_r(d[1]));function r(e,n){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(r=function(e,r){if(!r&&e&&e.__esModule)return e;var n,c,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(n=r?o:t){if(n.has(e))return n.get(e);n.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((c=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(c.get||c.set)?n(f,i,c):f[i]=e[i]);return f})(e,n)}function n(r,n){var t;t=r instanceof Error?r:'string'==typeof r?new e.SyntheticError(r):new e.SyntheticError('Unspecified error');try{t.componentStack=n.componentStack,t.isComponentError=!0}catch(e){}return t}},271,[175,75]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),f=t(r(d[2])),l=r(d[3]),o=["ref","styleAttr","indeterminate","animating"];r(d[4]),e.default=function(t){var u=t.ref,v=t.styleAttr,s=void 0===v?'Normal':v,c=t.indeterminate,y=void 0===c||c,_=t.animating,j=void 0===_||_,A=(0,n.default)(t,o);return(0,l.jsx)(f.default,Object.assign({styleAttr:s,indeterminate:y,animating:j},A,{ref:u}))}},272,[1,4,273,244,75]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},273,[274]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var s=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidProgressBar",validAttributes:{styleAttr:!0,typeAttr:!0,indeterminate:!0,progress:!0,animating:!0,color:{process:r(d[2]).default},testID:!0}};e.default=r(d[3]).get('AndroidProgressBar',function(){return s})},274,[1,275,55,78]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[1])),p=n(r(d[2]));e.default=function(n,t){g.RN$Bridgeless;var l=t&&null!=t.paperComponentName?t.paperComponentName:n;if(null!=t&&null!=t.paperComponentNameDeprecated)if(p.default.hasViewManagerConfig(n))l=n;else{var u;if(null==t.paperComponentNameDeprecated||!p.default.hasViewManagerConfig(t.paperComponentNameDeprecated))throw new Error(`Failed to find native component for either ${n} or ${null!=(u=t.paperComponentNameDeprecated)?u:'(unknown)'}`);l=t.paperComponentNameDeprecated}return(0,o.default)(l)}},275,[1,276,80]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return r(d[0]).default(t,function(){return r(d[1]).default(t)})}},276,[277,79]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).ReactNativeViewConfigRegistry.register;e.default=function(u,n){return t(u,n)}},277,[259]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},278,[279]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var _=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTActivityIndicatorView",validAttributes:{hidesWhenStopped:!0,animating:!0,color:{process:r(d[2]).default},size:!0}};e.default=r(d[3]).get('RCTActivityIndicatorView',function(){return _})},279,[1,275,55,78]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),i=e(_r(d[2])),l=e(_r(d[3])),s=e(_r(d[4])),o=e(_r(d[5])),n=e(_r(d[6])),c=e(_r(d[7])),r=e(_r(d[8])),u=((function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,l=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var s,o,n={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return n;if(s=t?l:i){if(s.has(e))return s.get(e);s.set(e,n)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?s(n,c,o):n[c]=e[c])})(e,t)})(_r(d[9])),_r(d[10])),b=["ref"];var f='android'===s.default.OS?o.default:n.default,p=function(e){var i,o,n=e.ref,p=(0,t.default)(e,b),h=p.accessibilityLabel,v=p.accessibilityState,x=p['aria-busy'],F=p['aria-checked'],D=p['aria-disabled'],A=p['aria-expanded'],O=p['aria-label'],_=p['aria-selected'],j=p.importantForAccessibility,k=p.color,w=p.onPress,P=p.touchSoundDisabled,S=p.title,L=p.hasTVPreferredFocus,M=p.nextFocusDown,C=p.nextFocusForward,R=p.nextFocusLeft,W=p.nextFocusRight,T=p.nextFocusUp,U=p.testID,B=p.accessible,H=p.accessibilityActions,I=p.accessibilityHint,V=p.accessibilityLanguage,z=p.onAccessibilityAction,N=[y.button],q=[y.text];k&&('ios'===s.default.OS?q.push({color:k}):N.push({backgroundColor:k}));var E={busy:null!=x?x:null==v?void 0:v.busy,checked:null!=F?F:null==v?void 0:v.checked,disabled:null!=D?D:null==v?void 0:v.disabled,expanded:null!=A?A:null==v?void 0:v.expanded,selected:null!=_?_:null==v?void 0:v.selected},G=null!=p.disabled?p.disabled:null==(i=E)?void 0:i.disabled;E=G!==(null==(o=E)?void 0:o.disabled)?Object.assign({},E,{disabled:G}):E,G&&(N.push(y.buttonDisabled),q.push(y.textDisabled)),(0,r.default)('string'==typeof S,'The title prop of a Button must be a string');var J='android'===s.default.OS?S.toUpperCase():S,K='no'===j?'no-hide-descendants':j;return(0,u.jsx)(f,{accessible:B,accessibilityActions:H,onAccessibilityAction:z,accessibilityLabel:O||h,accessibilityHint:I,accessibilityLanguage:V,accessibilityRole:"button",accessibilityState:E,importantForAccessibility:K,hasTVPreferredFocus:L,nextFocusDown:M,nextFocusForward:C,nextFocusLeft:R,nextFocusRight:W,nextFocusUp:T,testID:U,disabled:G,onPress:w,touchSoundDisabled:P,ref:n,children:(0,u.jsx)(c.default,{style:N,children:(0,u.jsx)(l.default,{style:q,disabled:G,children:J})})})};p.displayName='Button';var y=i.default.create({button:s.default.select({ios:{},android:{elevation:4,backgroundColor:'#2196F3',borderRadius:2}}),text:Object.assign({textAlign:'center',margin:8},s.default.select({ios:{color:'#007AFF',fontSize:18},android:{color:'white',fontWeight:'500'}})),buttonDisabled:s.default.select({ios:{},android:{elevation:0,backgroundColor:'#dfdfdf'}}),textDisabled:s.default.select({ios:{color:'#cdcdcd'},android:{color:'#a1a1a1'}})});_e.default=p},280,[1,4,6,281,69,292,293,72,32,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n,s=e(_r(d[1])),l=e(_r(d[2])),t=v(_r(d[3])),i=(v(_r(d[4])),e(_r(d[5]))),r=e(_r(d[6])),o=e(_r(d[7])),u=e(_r(d[8])),c=e(_r(d[9])),p=v(_r(d[10])),b=_r(d[11]),f=["ref","accessible","accessibilityLabel","accessibilityState","allowFontScaling","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-hidden","aria-label","aria-selected","children","ellipsizeMode","disabled","id","nativeID","numberOfLines","onLongPress","onPress","onPressIn","onPressOut","onResponderGrant","onResponderMove","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","onStartShouldSetResponder","pressRetentionOffset","selectable","selectionColor","suppressHighlighting","style"],R=["ref","accessible","accessibilityElementsHidden","importantForAccessibility","accessibilityLabel","accessibilityState","allowFontScaling","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-hidden","aria-label","aria-selected","children","ellipsizeMode","disabled","id","nativeID","numberOfLines","onLongPress","onPress","onPressIn","onPressOut","onResponderGrant","onResponderMove","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","onStartShouldSetResponder","pressRetentionOffset","selectable","selectionColor","suppressHighlighting","style"];function v(e,n){if("function"==typeof WeakMap)var s=new WeakMap,l=new WeakMap;return(v=function(e,n){if(!n&&e&&e.__esModule)return e;var t,i,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(t=n?l:s){if(t.has(e))return t.get(e);t.set(e,r)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((i=(t=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(i.get||i.set)?t(r,o,i):r[o]=e[o]);return r})(e,n)}if(t.reduceDefaultPropsInText()){n=function(e){var n,s=e.ref,t=e.accessible,i=e.accessibilityLabel,R=e.accessibilityState,v=e.allowFontScaling,y=e['aria-busy'],h=e['aria-checked'],j=e['aria-disabled'],T=e['aria-expanded'],L=e['aria-hidden'],M=e['aria-label'],A=e['aria-selected'],I=e.children,k=e.ellipsizeMode,H=e.disabled,F=e.id,C=e.nativeID,w=e.numberOfLines,D=e.onLongPress,q=e.onPress,G=e.onPressIn,_=e.onPressOut,W=e.onResponderGrant,z=e.onResponderMove,E=e.onResponderRelease,N=e.onResponderTerminate,V=e.onResponderTerminationRequest,B=e.onStartShouldSetResponder,J=e.pressRetentionOffset,K=e.selectable,Q=e.selectionColor,U=e.suppressHighlighting,X=e.style,Y=(0,l.default)(e,f),Z=null!=M?M:i,$=R;null==y&&null==h&&null==j&&null==T&&null==A||($=null!=$?{busy:null!=y?y:$.busy,checked:null!=h?h:$.checked,disabled:null!=j?j:$.disabled,expanded:null!=T?T:$.expanded,selected:null!=A?A:$.selected}:{busy:y,checked:h,disabled:j,expanded:T,selected:A});var ee=null==(n=$)?void 0:n.disabled,ne=null!=H?H:ee;null!=$&&ne!==ee&&(null!=ne&&!1!==ne||null!=ee&&!1!==ee)&&($.disabled=ne),void 0!==L&&(Y.accessibilityElementsHidden=L,!0===L&&(Y.importantForAccessibility='no-hide-descendants'));var se=u.default.select({ios:!1!==t,android:null==t?null!=q||null!=D:t,default:t}),le=(null!=q||null!=D||null!=B)&&!0!==ne,te=null!=Q?(0,o.default)(Q):void 0,ie=X,re=w;null==re||re>=0||(re=0);var oe=K,ae=(0,r.default)(ie);if(null!=ae){var de=null;'number'==typeof ae.fontWeight&&((de=de||{}).fontWeight=String(ae.fontWeight)),null!=ae.userSelect&&(oe=x[ae.userSelect],(de=de||{}).userSelect=void 0),null!=ae.verticalAlign&&((de=de||{}).textAlignVertical=O[ae.verticalAlign],de.verticalAlign=void 0),null!=de&&(ie=[ie,de])}var ue,ce=null!=F?F:C;if(void 0!==Z&&(Y.accessibilityLabel=Z),void 0!==$&&(Y.accessibilityState=$),void 0!==ce&&(Y.nativeID=ce),void 0!==re&&(Y.numberOfLines=re),void 0!==oe&&(Y.selectable=oe),void 0!==ie&&(Y.style=ie),void 0!==te&&(Y.selectionColor=te),le&&(ue={onLongPress:D,onPress:q,onPressIn:G,onPressOut:_,onResponderGrant:W,onResponderMove:z,onResponderRelease:E,onResponderTerminate:N,onResponderTerminationRequest:V,onStartShouldSetResponder:B,pressRetentionOffset:J,suppressHighlighting:U}),(0,p.useContext)(c.default))return Y.disabled=H,Y.children=I,le?(0,b.jsx)(P,{ref:s,textProps:Y,textPressabilityProps:null!=ue?ue:{}}):(0,b.jsx)(_r(d[12]).NativeVirtualText,Object.assign({},Y,{ref:s}));var pe=null;if(Y.accessible=se,Y.allowFontScaling=!1!==v,Y.disabled=ne,Y.ellipsizeMode=null!=k?k:'tail',Y.children=I,pe=le?(0,b.jsx)(S,{ref:s,textProps:Y,textPressabilityProps:null!=ue?ue:{}}):(0,b.jsx)(_r(d[12]).NativeText,Object.assign({},Y,{ref:s})),null==I)return pe;if(Array.isArray(I)&&I.length<=3){var be=!1;for(var fe of I)if(null!=fe&&'object'==typeof fe){be=!0;break}if(!be)return pe}else if('object'!=typeof I)return pe;return(0,b.jsx)(c.default,{value:!0,children:pe})}}else{n=function(e){var n,s=e.ref,t=e.accessible,i=e.accessibilityElementsHidden,f=e.importantForAccessibility,v=e.accessibilityLabel,y=e.accessibilityState,h=e.allowFontScaling,j=e['aria-busy'],T=e['aria-checked'],L=e['aria-disabled'],M=e['aria-expanded'],A=e['aria-hidden'],I=e['aria-label'],k=e['aria-selected'],H=e.children,F=e.ellipsizeMode,C=e.disabled,w=e.id,D=e.nativeID,q=e.numberOfLines,G=e.onLongPress,_=e.onPress,W=e.onPressIn,z=e.onPressOut,E=e.onResponderGrant,N=e.onResponderMove,V=e.onResponderRelease,B=e.onResponderTerminate,J=e.onResponderTerminationRequest,K=e.onStartShouldSetResponder,Q=e.pressRetentionOffset,U=e.selectable,X=e.selectionColor,Y=e.suppressHighlighting,Z=e.style,$=(0,l.default)(e,R),ee=null!=I?I:v,ne=y;null==j&&null==T&&null==L&&null==M&&null==k||(ne=null!=ne?{busy:null!=j?j:ne.busy,checked:null!=T?T:ne.checked,disabled:null!=L?L:ne.disabled,expanded:null!=M?M:ne.expanded,selected:null!=k?k:ne.selected}:{busy:j,checked:T,disabled:L,expanded:M,selected:k});var se=null==(n=ne)?void 0:n.disabled,le=null!=C?C:se,te=null!=A?A:i,ie=f;!0===A&&(ie='no-hide-descendants');var re=(null!=_||null!=G||null!=K)&&!0!==le,oe=null!=X?(0,o.default)(X):void 0,ae=Z,de=q;null==de||de>=0||(de=0);var ue=U,ce=(0,r.default)(ae);if(null!=ce){var pe=null;'number'==typeof ce.fontWeight&&((pe=pe||{}).fontWeight=ce.fontWeight.toString()),null!=ce.userSelect&&(ue=x[ce.userSelect],(pe=pe||{}).userSelect=void 0),null!=ce.verticalAlign&&((pe=pe||{}).textAlignVertical=O[ce.verticalAlign],pe.verticalAlign=void 0),null!=pe&&(ae=[ae,pe])}var be=null!=w?w:D;if((0,p.useContext)(c.default))return re?(0,b.jsx)(P,{ref:s,textProps:Object.assign({},$,{accessibilityElementsHidden:te,accessibilityLabel:ee,accessibilityState:ne,importantForAccessibility:ie,nativeID:be,numberOfLines:de,selectable:ue,selectionColor:oe,style:ae,disabled:C,children:H}),textPressabilityProps:{onLongPress:G,onPress:_,onPressIn:W,onPressOut:z,onResponderGrant:E,onResponderMove:N,onResponderRelease:V,onResponderTerminate:B,onResponderTerminationRequest:J,onStartShouldSetResponder:K,pressRetentionOffset:Q,suppressHighlighting:Y}}):(0,b.jsx)(_r(d[12]).NativeVirtualText,Object.assign({},$,{accessibilityElementsHidden:te,accessibilityLabel:ee,accessibilityState:ne,importantForAccessibility:ie,nativeID:be,numberOfLines:de,ref:s,selectable:ue,selectionColor:oe,style:ae,disabled:C,children:H}));le!==se&&(null!=le&&!1!==le||null!=se&&!1!==se)&&(ne=Object.assign({},ne,{disabled:le}));var fe=u.default.select({ios:!1!==t,android:null==t?null!=_||null!=G:t,default:t}),Re=null;if(Re=re?(0,b.jsx)(S,{ref:s,textProps:Object.assign({},$,{accessibilityElementsHidden:te,accessibilityLabel:ee,accessibilityState:ne,accessible:fe,allowFontScaling:!1!==h,disabled:le,ellipsizeMode:null!=F?F:'tail',importantForAccessibility:ie,nativeID:be,numberOfLines:de,selectable:ue,selectionColor:oe,style:ae,children:H}),textPressabilityProps:{onLongPress:G,onPress:_,onPressIn:W,onPressOut:z,onResponderGrant:E,onResponderMove:N,onResponderRelease:V,onResponderTerminate:B,onResponderTerminationRequest:J,onStartShouldSetResponder:K,pressRetentionOffset:Q,suppressHighlighting:Y}}):(0,b.jsx)(_r(d[12]).NativeText,Object.assign({},$,{accessibilityElementsHidden:te,accessibilityLabel:ee,accessibilityState:ne,accessible:fe,allowFontScaling:!1!==h,disabled:le,ellipsizeMode:null!=F?F:'tail',importantForAccessibility:ie,nativeID:be,numberOfLines:de,ref:s,selectable:ue,selectionColor:oe,style:ae,children:H})),null==H)return Re;if(Array.isArray(H)&&H.length<=3){var ve=!1;for(var ye of H)if(null!=ye&&'object'==typeof ye){ve=!0;break}if(!ve)return Re}else if('object'!=typeof H)return Re;return(0,b.jsx)(c.default,{value:!0,children:Re})}}var y=n;function h(e){var n=e.onLongPress,l=e.onPress,t=e.onPressIn,r=e.onPressOut,o=e.onResponderGrant,c=e.onResponderMove,b=e.onResponderRelease,f=e.onResponderTerminate,R=e.onResponderTerminationRequest,v=e.onStartShouldSetResponder,y=e.pressRetentionOffset,h=e.suppressHighlighting,P=(0,p.useState)(!1),S=(0,s.default)(P,2),x=S[0],O=S[1],j=(0,p.useMemo)(function(){var e=t,s=r;return'ios'===u.default.OS&&(e=function(e){O(null==h||!h),null==t||t(e)},s=function(e){O(!1),null==r||r(e)}),{disabled:!1,pressRectOffset:y,onLongPress:n,onPress:l,onPressIn:e,onPressOut:s}},[y,n,l,t,r,h]),T=(0,i.default)(j),L=(0,p.useMemo)(function(){return null==T?null:{onResponderGrant:function(e){T.onResponderGrant(e),null!=o&&o(e)},onResponderMove:function(e){T.onResponderMove(e),null!=c&&c(e)},onResponderRelease:function(e){T.onResponderRelease(e),null!=b&&b(e)},onResponderTerminate:function(e){T.onResponderTerminate(e),null!=f&&f(e)},onClick:T.onClick,onResponderTerminationRequest:null!=R?R:T.onResponderTerminationRequest,onStartShouldSetResponder:null!=v?v:T.onStartShouldSetResponder}},[T,o,c,b,f,R,v]);return(0,p.useMemo)(function(){return[x,L]},[x,L])}y.displayName='Text';var P=function(e){var n=e.ref,l=e.textProps,t=h(e.textPressabilityProps),i=(0,s.default)(t,2),r=i[0],o=i[1];return(0,b.jsx)(_r(d[12]).NativeVirtualText,Object.assign({},l,o,{isHighlighted:r,isPressable:!0,ref:n}))},S=function(e){var n=e.ref,l=e.textProps,t=h(e.textPressabilityProps),i=(0,s.default)(t,2),r=i[0],o=i[1];return(0,b.jsx)(_r(d[12]).NativeText,Object.assign({},l,o,{isHighlighted:r,isPressable:!0,ref:n}))},x={auto:!0,text:!0,none:!1,contain:!0,all:!0},O={auto:'auto',top:'top',bottom:'bottom',middle:'center'};_e.default=y},281,[1,34,4,50,282,283,9,55,69,74,75,244,291]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PressabilityDebugView=function(e){return null},_e.isEnabled=function(){return!1},_e.setEnabled=function(e){};e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i])})(e,t)})(_r(d[3])),_r(d[4])},282,[1,72,56,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){var n=(0,r.useRef)(null);null!=e&&null==n.current&&(n.current=new t.default(e));var f=n.current;return u(function(){null!=e&&null!=f&&f.configure(e)},[e,f]),u(function(){if(null!=f)return function(){f.reset()}},[f]),null==f?null:f.getEventHandlers()};var n=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var u,f,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(u=n?r:t){if(u.has(e))return u.get(e);u.set(e,l)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(f.get||f.set)?u(l,o,f):l[o]=e[o]);return l})(e,n)})(_r(d[1])),t=e(_r(d[2])),r=_r(d[3]);var u=n.configurePressabilityDuringInsertion()?r.useInsertionEffect:r.useEffect},283,[1,50,284,75]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),E=e(_r(d[2])),n=(function(e,t){if("function"==typeof WeakMap)var E=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,R,_={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return _;if(i=t?n:E){if(i.has(e))return i.get(e);i.set(e,_)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((R=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(R.get||R.set)?i(_,o,R):_[o]=e[o]);return _})(e,t)})(_r(d[3])),i=e(_r(d[4])),R=e(_r(d[5])),_=e(_r(d[6])),o=e(_r(d[7])),l=e(_r(d[8]));var r=Object.freeze({NOT_RESPONDER:{DELAY:'ERROR',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'ERROR',RESPONDER_TERMINATED:'ERROR',ENTER_PRESS_RECT:'ERROR',LEAVE_PRESS_RECT:'ERROR',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_IN:{DELAY:'RESPONDER_ACTIVE_PRESS_IN',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:'RESPONDER_ACTIVE_PRESS_OUT',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},ERROR:{DELAY:'NOT_RESPONDER',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'NOT_RESPONDER',LEAVE_PRESS_RECT:'NOT_RESPONDER',LONG_PRESS_DETECTED:'NOT_RESPONDER'}}),u=function(e){return'RESPONDER_ACTIVE_PRESS_IN'===e||'RESPONDER_ACTIVE_LONG_PRESS_IN'===e},s=function(e){return'RESPONDER_ACTIVE_PRESS_OUT'===e||'RESPONDER_ACTIVE_PRESS_IN'===e},S=function(e){return'RESPONDER_INACTIVE_PRESS_IN'===e||'RESPONDER_ACTIVE_PRESS_IN'===e||'RESPONDER_ACTIVE_LONG_PRESS_IN'===e},T=function(e){return'RESPONDER_TERMINATED'===e||'RESPONDER_RELEASE'===e},c=30,O=20,P=20,N=20,D=10;_e.default=(function(){return(0,E.default)(function e(E){var n=this;(0,t.default)(this,e),this._eventHandlers=null,this._hoverInDelayTimeout=null,this._hoverOutDelayTimeout=null,this._isHovered=!1,this._longPressDelayTimeout=null,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._responderID=null,this._responderRegion=null,this._touchState='NOT_RESPONDER',this._measureCallback=function(e,t,E,i,R,_){(e||t||E||i||R||_)&&(n._responderRegion={bottom:_+i,left:R,right:R+E,top:_})},this.configure(E)},[{key:"configure",value:function(e){this._config=e}},{key:"reset",value:function(){this._cancelHoverInDelayTimeout(),this._cancelHoverOutDelayTimeout(),this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout(),this._config=Object.freeze({})}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var e=this,t={onBlur:function(t){var E=e._config.onBlur;null!=E&&E(t)},onFocus:function(t){var E=e._config.onFocus;null!=E&&E(t)}},E={onStartShouldSetResponder:function(){var t;return null==(t=!e._config.disabled)||t},onResponderGrant:function(t){t.persist(),e._cancelPressOutDelayTimeout(),e._responderID=t.currentTarget,e._touchState='NOT_RESPONDER',e._receiveSignal('RESPONDER_GRANT',t);var E=v(e._config.delayPressIn);E>0?e._pressDelayTimeout=setTimeout(function(){e._receiveSignal('DELAY',t)},E):e._receiveSignal('DELAY',t);var n=v(e._config.delayLongPress,10,500-E);return e._longPressDelayTimeout=setTimeout(function(){e._handleLongPress(t)},n+E),!0===e._config.blockNativeResponder},onResponderMove:function(t){var E=e._config.onPressMove;null!=E&&E(t);var n=e._responderRegion;if(null!=n){var i=f(t);if(null==i)return e._cancelLongPressDelayTimeout(),void e._receiveSignal('LEAVE_PRESS_RECT',t);if(null!=e._touchActivatePosition){var R=e._touchActivatePosition.pageX-i.pageX,_=e._touchActivatePosition.pageY-i.pageY;Math.hypot(R,_)>D&&e._cancelLongPressDelayTimeout()}e._isTouchWithinResponderRegion(i,n)?e._receiveSignal('ENTER_PRESS_RECT',t):(e._cancelLongPressDelayTimeout(),e._receiveSignal('LEAVE_PRESS_RECT',t))}},onResponderRelease:function(t){e._receiveSignal('RESPONDER_RELEASE',t)},onResponderTerminate:function(t){e._receiveSignal('RESPONDER_TERMINATED',t)},onResponderTerminationRequest:function(){var t=e._config.cancelable;return null==t||t},onClick:function(t){var E;if(null==t||null==(E=t.nativeEvent)||null==E.hasOwnProperty||!E.hasOwnProperty('pointerType'))if((null==t?void 0:t.currentTarget)===(null==t?void 0:t.target)){var n=e._config,i=n.onPress,R=n.disabled;null!=i&&!0!==R&&i(t)}else null==t||t.stopPropagation()}};if(n.shouldPressibilityUseW3CPointerEventsForHover()){var i={onPointerEnter:void 0,onPointerLeave:void 0},R=this._config,o=R.onHoverIn,l=R.onHoverOut;return null!=o&&(i.onPointerEnter=function(t){if(e._isHovered=!0,e._cancelHoverOutDelayTimeout(),null!=o){var E=v(e._config.delayHoverIn);E>0?(t.persist(),e._hoverInDelayTimeout=setTimeout(function(){o(h(t))},E)):o(h(t))}}),null!=l&&(i.onPointerLeave=function(t){if(e._isHovered&&(e._isHovered=!1,e._cancelHoverInDelayTimeout(),null!=l)){var E=v(e._config.delayHoverOut);E>0?(t.persist(),e._hoverOutDelayTimeout=setTimeout(function(){l(h(t))},E)):l(h(t))}}),Object.assign({},t,E,i)}var r='ios'===_.default.OS||'android'===_.default.OS?null:{onMouseEnter:function(t){if((0,_r(d[9]).isHoverEnabled)()){e._isHovered=!0,e._cancelHoverOutDelayTimeout();var E=e._config.onHoverIn;if(null!=E){var n=v(e._config.delayHoverIn);n>0?(t.persist(),e._hoverInDelayTimeout=setTimeout(function(){E(t)},n)):E(t)}}},onMouseLeave:function(t){if(e._isHovered){e._isHovered=!1,e._cancelHoverInDelayTimeout();var E=e._config.onHoverOut;if(null!=E){var n=v(e._config.delayHoverOut);n>0?(t.persist(),e._hoverInDelayTimeout=setTimeout(function(){E(t)},n)):E(t)}}}};return Object.assign({},t,E,r)}},{key:"_receiveSignal",value:function(e,t){var E;null!=t.nativeEvent.timestamp&&o.default.emitEvent(function(){return{signal:e,nativeTimestamp:t.nativeEvent.timestamp}});var n=this._touchState,i=null==(E=r[n])?void 0:E[e];null==this._responderID&&'RESPONDER_RELEASE'===e||((0,l.default)(null!=i&&'ERROR'!==i,'Pressability: Invalid signal `%s` for state `%s` on responder: %s',e,n,'number'==typeof this._responderID?this._responderID:'<<host component>>'),n!==i&&(this._performTransitionSideEffects(n,i,e,t),this._touchState=i))}},{key:"_performTransitionSideEffects",value:function(e,t,E,n){T(E)&&(this._touchActivatePosition=null,this._cancelLongPressDelayTimeout());var R='NOT_RESPONDER'===e&&'RESPONDER_INACTIVE_PRESS_IN'===t,o=!s(e)&&s(t);if((R||o)&&this._measureResponderRegion(),S(e)&&'LONG_PRESS_DETECTED'===E){var l=this._config.onLongPress;null!=l&&l(n)}var r=u(e),c=u(t);if(!r&&c?this._activate(n):r&&!c&&this._deactivate(n),S(e)&&'RESPONDER_RELEASE'===E){c||r||(this._activate(n),this._deactivate(n));var O=this._config,P=O.onLongPress,N=O.onPress,D=O.android_disableSound;if(null!=N)null!=P&&'RESPONDER_ACTIVE_LONG_PRESS_IN'===e||('android'===_.default.OS&&!0!==D&&i.default.playTouchSound(),N(n))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(e){var t=this._config.onPressIn,E=f(e),n=E.pageX,i=E.pageY;this._touchActivatePosition={pageX:n,pageY:i},this._touchActivateTime=Date.now(),null!=t&&t(e)}},{key:"_deactivate",value:function(e){var t=this._config.onPressOut;if(null!=t){var E,n=v(this._config.minPressDuration,0,130),i=Date.now()-(null!=(E=this._touchActivateTime)?E:0),R=Math.max(n-i,v(this._config.delayPressOut));R>0?(e.persist(),this._pressOutDelayTimeout=setTimeout(function(){t(e)},R)):t(e)}this._touchActivateTime=null}},{key:"_measureResponderRegion",value:function(){null!=this._responderID&&('number'==typeof this._responderID?R.default.measure(this._responderID,this._measureCallback):this._responderID.measure(this._measureCallback))}},{key:"_isTouchWithinResponderRegion",value:function(e,t){var E,n,i,R,_=(0,_r(d[10]).normalizeRect)(this._config.hitSlop),o=(0,_r(d[10]).normalizeRect)(this._config.pressRectOffset),l=t.bottom,r=t.left,u=t.right,s=t.top;return null!=_&&(null!=_.bottom&&(l+=_.bottom),null!=_.left&&(r-=_.left),null!=_.right&&(u+=_.right),null!=_.top&&(s-=_.top)),l+=null!=(E=null==o?void 0:o.bottom)?E:c,r-=null!=(n=null==o?void 0:o.left)?n:O,u+=null!=(i=null==o?void 0:o.right)?i:P,s-=null!=(R=null==o?void 0:o.top)?R:N,e.pageX>r&&e.pageX<u&&e.pageY>s&&e.pageY<l}},{key:"_handleLongPress",value:function(e){'RESPONDER_ACTIVE_PRESS_IN'!==this._touchState&&'RESPONDER_ACTIVE_LONG_PRESS_IN'!==this._touchState||this._receiveSignal('LONG_PRESS_DETECTED',e)}},{key:"_cancelHoverInDelayTimeout",value:function(){null!=this._hoverInDelayTimeout&&(clearTimeout(this._hoverInDelayTimeout),this._hoverInDelayTimeout=null)}},{key:"_cancelHoverOutDelayTimeout",value:function(){null!=this._hoverOutDelayTimeout&&(clearTimeout(this._hoverOutDelayTimeout),this._hoverOutDelayTimeout=null)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}],[{key:"setLongPressDeactivationDistance",value:function(e){D=e}}])})();function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(t,null!=e?e:E)}var f=function(e){var t=e.nativeEvent,E=t.changedTouches,n=t.touches;return null!=n&&n.length>0?n[0]:null!=E&&E.length>0?E[0]:e.nativeEvent};function h(e){var t=e.nativeEvent,E=t.clientX,n=t.clientY;return Object.assign({},e,{nativeEvent:{clientX:E,clientY:n,pageX:E,pageY:n,timestamp:e.timeStamp}})}},284,[1,11,12,50,285,80,69,288,32,289,290]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(r(d[1])),l={playTouchSound:function(){o.default&&o.default.playTouchSound()}};e.default=l},285,[1,286]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},286,[287]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('SoundManager')},287,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=new((function(){return(0,s.default)(function t(){(0,n.default)(this,t),this._listeners=[]},[{key:"addListener",value:function(t){this._listeners.push(t)}},{key:"removeListener",value:function(t){var n=this._listeners.indexOf(t);n>-1&&this._listeners.splice(n,1)}},{key:"emitEvent",value:function(t){if(0!==this._listeners.length){var n=t();this._listeners.forEach(function(t){return t(n)})}}}])})());e.default=u},288,[1,11,12]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.isHoverEnabled=function(){return o};var t=n(r(d[1])),o=!1;if('web'===t.default.OS&&Boolean('undefined'!=typeof window&&window.document&&window.document.createElement)){var u=0,c=function(){u=Date.now(),o&&(o=!1)};document.addEventListener('touchstart',c,!0),document.addEventListener('touchmove',c,!0),document.addEventListener('mousemove',function(){o||Date.now()-u<1e3||(o=!0)},!0)}},289,[1,69]);
__d(function(g,r,i,a,m,e,d){function t(t){return{bottom:t,left:t,right:t,top:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createSquare=t,e.normalizeRect=function(n){return'number'==typeof n?t(n):n}},290,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.NativeVirtualText=e.NativeText=void 0;var l=t(r(d[1])),n=t(r(d[2])),o={validAttributes:{isHighlighted:!0,isPressable:!0,numberOfLines:!0,ellipsizeMode:!0,allowFontScaling:!0,dynamicTypeRamp:!0,maxFontSizeMultiplier:!0,disabled:!0,selectable:!0,selectionColor:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,textBreakStrategy:!0,onTextLayout:!0,dataDetectorType:!0,android_hyphenationFrequency:!0,lineBreakStrategyIOS:!0},directEventTypes:{topTextLayout:{registrationName:'onTextLayout'}},uiViewClassName:'RCTText'},u={validAttributes:{isHighlighted:!0,isPressable:!0,maxFontSizeMultiplier:!0},uiViewClassName:'RCTVirtualText'},s=e.NativeText=(0,n.default)('RCTText',function(){return(0,r(d[3]).createViewConfig)(o)});e.NativeVirtualText=g.RN$Bridgeless||l.default.hasViewManagerConfig('RCTVirtualText')?(0,n.default)('RCTVirtualText',function(){return(0,r(d[3]).createViewConfig)(u)}):s},291,[1,80,277,102]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var s=e(_r(d[1])),t=e(_r(d[2])),i=e(_r(d[3])),o=e(_r(d[4])),n=e(_r(d[5])),r=e(_r(d[6])),l=(e(_r(d[7])),e(_r(d[8]))),p=e(_r(d[9])),c=e(_r(d[10])),u=e(_r(d[11])),h=(function(e,s){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(e,s){if(!s&&e&&e.__esModule)return e;var o,n,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(o=s?i:t){if(o.has(e))return o.get(e);o.set(e,r)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((n=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(n.get||n.set)?o(r,l,n):r[l]=e[l]);return r})(e,s)})(_r(d[12])),b=h,f=(_r(d[13]),["onBlur","onFocus"]);function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var v=(function(e){function p(){var e,s,i,r;(0,t.default)(this,p);for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];return s=this,i=p,r=[].concat(u),i=(0,n.default)(i),(e=(0,o.default)(s,y()?Reflect.construct(i,r||[],(0,n.default)(s).constructor):i.apply(s,r))).state={pressability:new l.default(e._createPressabilityConfig())},e}return(0,r.default)(p,e),(0,i.default)(p,[{key:"_createPressabilityConfig",value:function(){var e,s,t=this,i=null!=(e=this.props['aria-disabled'])?e:null==(s=this.props.accessibilityState)?void 0:s.disabled;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=this.props.disabled?this.props.disabled:i,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(e){'android'===c.default.OS&&(t._dispatchHotspotUpdate(e),t._dispatchPressedStateChange(!0)),null!=t.props.onPressIn&&t.props.onPressIn(e)},onPressMove:function(e){'android'===c.default.OS&&t._dispatchHotspotUpdate(e)},onPressOut:function(e){'android'===c.default.OS&&t._dispatchPressedStateChange(!1),null!=t.props.onPressOut&&t.props.onPressOut(e)}}}},{key:"_dispatchPressedStateChange",value:function(e){if('android'===c.default.OS){var s=(0,_r(d[14]).findHostInstance_DEPRECATED)(this);null==s?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):_r(d[15]).Commands.setPressed(s,e)}}},{key:"_dispatchHotspotUpdate",value:function(e){if('android'===c.default.OS){var s=e.nativeEvent,t=s.locationX,i=s.locationY,o=(0,_r(d[14]).findHostInstance_DEPRECATED)(this);null==o?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):_r(d[15]).Commands.hotspotUpdate(o,null!=t?t:0,null!=i?i:0)}}},{key:"render",value:function(){var e,t,i,o,n,r,l,c,u,y,v,S,F,_,k,O,x,R,A,w,C,D,I,H=b.Children.only(this.props.children),L=[H.props.children],U=this.state.pressability.getEventHandlers(),B=(U.onBlur,U.onFocus,(0,s.default)(U,f)),T={busy:null!=(e=this.props['aria-busy'])?e:null==(t=this.props.accessibilityState)?void 0:t.busy,checked:null!=(i=this.props['aria-checked'])?i:null==(o=this.props.accessibilityState)?void 0:o.checked,disabled:null!=(n=this.props['aria-disabled'])?n:null==(r=this.props.accessibilityState)?void 0:r.disabled,expanded:null!=(l=this.props['aria-expanded'])?l:null==(c=this.props.accessibilityState)?void 0:c.expanded,selected:null!=(u=this.props['aria-selected'])?u:null==(y=this.props.accessibilityState)?void 0:y.selected};T=null!=this.props.disabled?Object.assign({},T,{disabled:this.props.disabled}):T;var E={max:null!=(v=this.props['aria-valuemax'])?v:null==(S=this.props.accessibilityValue)?void 0:S.max,min:null!=(F=this.props['aria-valuemin'])?F:null==(_=this.props.accessibilityValue)?void 0:_.min,now:null!=(k=this.props['aria-valuenow'])?k:null==(O=this.props.accessibilityValue)?void 0:O.now,text:null!=(x=this.props['aria-valuetext'])?x:null==(R=this.props.accessibilityValue)?void 0:R.text},M='off'===this.props['aria-live']?'none':null!=(A=this.props['aria-live'])?A:this.props.accessibilityLiveRegion,V=null!=(w=this.props['aria-label'])?w:this.props.accessibilityLabel;return h.cloneElement.apply(void 0,[H,Object.assign({},B,P(void 0===this.props.background?p.SelectableBackground():this.props.background,!0===this.props.useForeground),{accessible:!1!==this.props.accessible,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityLabel:V,accessibilityRole:this.props.accessibilityRole,accessibilityState:T,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:E,importantForAccessibility:!0===this.props['aria-hidden']?'no-hide-descendants':this.props.importantForAccessibility,accessibilityViewIsModal:null!=(C=this.props['aria-modal'])?C:this.props.accessibilityViewIsModal,accessibilityLiveRegion:M,accessibilityElementsHidden:null!=(D=this.props['aria-hidden'])?D:this.props.accessibilityElementsHidden,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,nativeID:null!=(I=this.props.id)?I:this.props.nativeID,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,onLayout:this.props.onLayout,testID:this.props.testID})].concat(L))}},{key:"componentDidUpdate",value:function(e,s){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentDidMount",value:function(){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}])})(b.Component);v.SelectableBackground=function(e){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackground',rippleRadius:e}},v.SelectableBackgroundBorderless=function(e){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackgroundBorderless',rippleRadius:e}},v.Ripple=function(e,s,t){var i=(0,p.default)(e);return(0,u.default)(null==i||'number'==typeof i,'Unexpected color given for Ripple color'),{type:'RippleAndroid',color:i,borderless:s,rippleRadius:t}},v.canUseNativeForeground=function(){return'android'===c.default.OS};var P='android'===c.default.OS?function(e,s){return s&&v.canUseNativeForeground()?{nativeForegroundAndroid:e}:{nativeBackgroundAndroid:e}}:function(e,s){return null};v.displayName='TouchableNativeFeedback';_e.default=v},292,[1,4,11,12,18,20,23,72,284,55,69,32,75,244,107,77]);
__d(function(g,_r,_i,a,m,_e,d){var s=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=s(_r(d[1])),i=s(_r(d[2])),e=s(_r(d[3])),o=s(_r(d[4])),n=s(_r(d[5])),l=s(_r(d[6])),r=s(_r(d[7])),p=s(_r(d[8])),c=s(_r(d[9])),u=s(_r(d[10])),h=s(_r(d[11])),y=(function(s,t){if("function"==typeof WeakMap)var i=new WeakMap,e=new WeakMap;return(function(s,t){if(!t&&s&&s.__esModule)return s;var o,n,l={__proto__:null,default:s};if(null===s||"object"!=typeof s&&"function"!=typeof s)return l;if(o=t?e:i){if(o.has(s))return o.get(s);o.set(s,l)}for(var r in s)"default"!==r&&{}.hasOwnProperty.call(s,r)&&((n=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,r))&&(n.get||n.set)?o(l,r,n):l[r]=s[r]);return l})(s,t)})(_r(d[12])),f=_r(d[13]),b=["onBlur","onFocus"],v=["ref"];function P(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(P=function(){return!!s})()}var _=(function(s){function y(){var s,t,e,l;(0,i.default)(this,y);for(var p=arguments.length,u=new Array(p),h=0;h<p;h++)u[h]=arguments[h];return t=this,e=y,l=[].concat(u),e=(0,n.default)(e),(s=(0,o.default)(t,P()?Reflect.construct(e,l||[],(0,n.default)(t).constructor):e.apply(t,l))).state={anim:new r.default.Value(s._getChildStyleOpacityWithDefault()),pressability:new c.default(s._createPressabilityConfig())},s}return(0,l.default)(y,s),(0,e.default)(y,[{key:"_createPressabilityConfig",value:function(){var s,t,i,e=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=(s=null!=(t=this.props.disabled)?t:this.props['aria-disabled'])?s:null==(i=this.props.accessibilityState)?void 0:i.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,onBlur:function(s){h.default.isTV&&e._opacityInactive(250),null!=e.props.onBlur&&e.props.onBlur(s)},onFocus:function(s){h.default.isTV&&e._opacityActive(150),null!=e.props.onFocus&&e.props.onFocus(s)},onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(s){e._opacityActive('onResponderGrant'===s.dispatchConfig.registrationName?0:150),null!=e.props.onPressIn&&e.props.onPressIn(s)},onPressOut:function(s){e._opacityInactive(250),null!=e.props.onPressOut&&e.props.onPressOut(s)}}}},{key:"_setOpacityTo",value:function(s,t){r.default.timing(this.state.anim,{toValue:s,duration:t,easing:p.default.inOut(p.default.quad),useNativeDriver:!0}).start()}},{key:"_opacityActive",value:function(s){var t;this._setOpacityTo(null!=(t=this.props.activeOpacity)?t:.2,s)}},{key:"_opacityInactive",value:function(s){this._setOpacityTo(this._getChildStyleOpacityWithDefault(),s)}},{key:"_getChildStyleOpacityWithDefault",value:function(){var s,t=null==(s=(0,u.default)(this.props.style))?void 0:s.opacity;return'number'==typeof t?t:1}},{key:"render",value:function(){var s,i,e,o,n,l,p,c,u,h,y,v,P,_,O,x,F,w,k,I,D,L,R,S=this.state.pressability.getEventHandlers(),V=(S.onBlur,S.onFocus,(0,t.default)(S,b)),A={busy:null!=(s=this.props['aria-busy'])?s:null==(i=this.props.accessibilityState)?void 0:i.busy,checked:null!=(e=this.props['aria-checked'])?e:null==(o=this.props.accessibilityState)?void 0:o.checked,disabled:null!=(n=this.props['aria-disabled'])?n:null==(l=this.props.accessibilityState)?void 0:l.disabled,expanded:null!=(p=this.props['aria-expanded'])?p:null==(c=this.props.accessibilityState)?void 0:c.expanded,selected:null!=(u=this.props['aria-selected'])?u:null==(h=this.props.accessibilityState)?void 0:h.selected};A=null!=this.props.disabled?Object.assign({},A,{disabled:this.props.disabled}):A;var j={max:null!=(y=this.props['aria-valuemax'])?y:null==(v=this.props.accessibilityValue)?void 0:v.max,min:null!=(P=this.props['aria-valuemin'])?P:null==(_=this.props.accessibilityValue)?void 0:_.min,now:null!=(O=this.props['aria-valuenow'])?O:null==(x=this.props.accessibilityValue)?void 0:x.now,text:null!=(F=this.props['aria-valuetext'])?F:null==(w=this.props.accessibilityValue)?void 0:w.text},C='off'===this.props['aria-live']?'none':null!=(k=this.props['aria-live'])?k:this.props.accessibilityLiveRegion,T=null!=(I=this.props['aria-label'])?I:this.props.accessibilityLabel;return(0,f.jsxs)(r.default.View,Object.assign({accessible:!1!==this.props.accessible,accessibilityLabel:T,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityRole:this.props.accessibilityRole,accessibilityState:A,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:j,importantForAccessibility:!0===this.props['aria-hidden']?'no-hide-descendants':this.props.importantForAccessibility,accessibilityViewIsModal:null!=(D=this.props['aria-modal'])?D:this.props.accessibilityViewIsModal,accessibilityLiveRegion:C,accessibilityElementsHidden:null!=(L=this.props['aria-hidden'])?L:this.props.accessibilityElementsHidden,style:[this.props.style,{opacity:this.state.anim}],nativeID:null!=(R=this.props.id)?R:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,ref:this.props.hostRef},V,{children:[this.props.children,null]}))}},{key:"componentDidUpdate",value:function(s,t){var i,e;this.state.pressability.configure(this._createPressabilityConfig()),this.props.disabled===s.disabled&&(null==(i=(0,u.default)(s.style))?void 0:i.opacity)===(null==(e=(0,u.default)(this.props.style))?void 0:e.opacity)||this._opacityInactive(250)}},{key:"componentDidMount",value:function(){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset(),this.state.anim.resetAnimation()}}])})(y.Component),O=function(s){var i=s.ref,e=(0,t.default)(s,v);return(0,f.jsx)(_,Object.assign({},e,{hostRef:i}))};O.displayName='TouchableOpacity';_e.default=O},293,[1,4,11,12,18,20,23,294,314,284,9,69,75,244]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=r(d[0]).default},294,[295]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),l=t(r(d[2])),f=t(r(d[3])),n=u.default.isDisableAnimations?f.default:l.default;e.default=Object.assign({get FlatList(){return r(d[4]).default},get Image(){return r(d[5]).default},get ScrollView(){return r(d[6]).default},get SectionList(){return r(d[7]).default},get Text(){return r(d[8]).default},get View(){return r(d[9]).default}},n)},295,[1,69,296,335,336,354,365,392,394,395]);
__d(function(_g,_r,_i,_a,m,e,d){'use strict';var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(_r(d[1])),i=t(_r(d[2])),r=t(_r(d[3])),o=t(_r(d[4])),a=t(_r(d[5])),u=t(_r(d[6])),s=t(_r(d[7])),f=t(_r(d[8])),c=t(_r(d[9])),v=t(_r(d[10])),l=t(_r(d[11])),p=t(_r(d[12])),g=t(_r(d[13])),h=t(_r(d[14])),_=t(_r(d[15])),N=t(_r(d[16])),w=function(t,n){return t&&n.onComplete?function(){n.onComplete&&n.onComplete.apply(n,arguments),t&&t.apply(void 0,arguments)}:t||n.onComplete},E=function(t,n,i){if(t instanceof N.default){var r=Object.assign({},n),o=Object.assign({},n);for(var a in n){var s=n[a],f=s.x,c=s.y;void 0!==f&&void 0!==c&&(r[a]=f,o[a]=c)}var v=i(t.x,r),l=i(t.y,o);return D([v,l],{stopTogether:!1})}if(t instanceof u.default){var p=Object.assign({},n),g=Object.assign({},n),h=Object.assign({},n),_=Object.assign({},n);for(var w in n){var E=n[w],b=E.r,A=E.g,L=E.b,y=E.a;void 0!==b&&void 0!==A&&void 0!==L&&void 0!==y&&(p[w]=b,g[w]=A,h[w]=L,_[w]=y)}var j=i(t.r,p),O=i(t.g,g),U=i(t.b,h),k=i(t.a,_);return D([j,O,U,k],{stopTogether:!1})}return null},b=function(t,n){var r=function(t,n,r){r=w(r,n);var o=t,a=n;o.stopTracking(),n.toValue instanceof p.default?o.track(new h.default(o,n.toValue,i.default,a,r)):o.animate(new i.default(a),r)};return E(t,n,b)||{start:function(i){r(t,n,i)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(i){var o=Object.assign({},n,{iterations:i});r(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},A=function(t,n){var i=function(t,n,i){i=w(i,n);var o=t,a=n;o.stopTracking(),n.toValue instanceof p.default?o.track(new h.default(o,n.toValue,r.default,a,i)):o.animate(new r.default(a),i)};return E(t,n,A)||{start:function(r,o){i(t,Object.assign({},n,{isLooping:o}),r)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(r){var o=Object.assign({},n,{iterations:r});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},L=function(t,i){var r=function(t,i,r){r=w(r,i);var o=t,a=i;o.stopTracking(),o.animate(new n.default(a),r)};return E(t,i,L)||{start:function(n){r(t,i,n)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(n){var o=Object.assign({},i,{iterations:n});r(t,o)},_isUsingNativeDriver:function(){return i.useNativeDriver||!1}}},y=function(t){var n=0;return{start:function(i,r){var o=function(a){if(a.finished){if(++n===t.length)return n=0,void(i&&i(a));t[n].start(o,r)}else i&&i(a)};0===t.length?i&&i({finished:!0}):t[n].start(o,r)},stop:function(){n<t.length&&t[n].stop()},reset:function(){t.forEach(function(t,i){i<=n&&t.reset()}),n=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},D=function(t,n){var i=0,r={},o=!(n&&!1===n.stopTogether),a={start:function(n,u){i!==t.length?t.forEach(function(s,f){var c=function(u){if(r[f]=!0,++i===t.length)return i=0,void(n&&n(u));!u.finished&&o&&a.stop()};s?s.start(c,u):c({finished:!0})}):n&&n({finished:!0})},stop:function(){t.forEach(function(t,n){!r[n]&&t.stop(),r[n]=!0})},reset:function(){t.forEach(function(t,n){t.reset(),r[n]=!1,i=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return a},j=function(t){return A(new _.default(0),{toValue:0,delay:t,duration:0,useNativeDriver:!1})};e.default={Value:_.default,ValueXY:N.default,Color:u.default,Interpolation:c.default,Node:p.default,decay:L,timing:A,spring:b,add:function(t,n){return new a.default(t,n)},subtract:function(t,n){return new g.default(t,n)},divide:function(t,n){return new f.default(t,n)},multiply:function(t,n){return new l.default(t,n)},modulo:function(t,n){return new v.default(t,n)},diffClamp:function(t,n,i){return new s.default(t,n,i)},delay:j,sequence:y,parallel:D,stagger:function(t,n){return D(n.map(function(n,i){return y([j(t*i),n])}))},loop:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.iterations,r=void 0===i?-1:i,o=n.resetBeforeIteration,a=void 0===o||o,u=!1,s=0;return{start:function(n){var i=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{finished:!0};u||s===r||!1===o.finished?n&&n(o):(s++,a&&t.reset(),t.start(i,-1===r))};t&&0!==r?t._isUsingNativeDriver()?t._startNativeLoop(r):i():n&&n({finished:!0})},stop:function(){u=!0,t.stop()},reset:function(){s=0,u=!1,t.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return t._isUsingNativeDriver()}}},event:function(t,n){var i=new(_r(d[17]).AnimatedEvent)(t,n);return i.__isNative?i:i.__getHandler()},createAnimatedComponent:o.default,attachNativeEvent:_r(d[17]).attachNativeEventImpl,forkEvent:function(t,n){return t?t instanceof _r(d[17]).AnimatedEvent?(t.__addListener(n),t):function(){'function'==typeof t&&t.apply(void 0,arguments),n.apply(void 0,arguments)}:n},unforkEvent:function(t,n){t&&t instanceof _r(d[17]).AnimatedEvent&&t.__removeListener(n)},Event:_r(d[17]).AnimatedEvent}},296,[1,297,317,321,322,328,319,329,330,313,331,332,306,333,334,312,316,311]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),o=t(_r(d[3])),r=t(_r(d[4])),l=t(_r(d[5])),u=t(_r(d[6])),s=t(_r(d[7]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function c(t,e,n,o){var u=(0,l.default)((0,r.default)(1&o?t.prototype:t),e,n);return 2&o&&"function"==typeof u?function(t){return u.apply(n,t)}:u}_e.default=(function(t){function l(t){var n,u,s,c,_;return(0,e.default)(this,l),s=this,c=l,_=[t],c=(0,r.default)(c),(u=(0,o.default)(s,f()?Reflect.construct(c,_||[],(0,r.default)(s).constructor):c.apply(s,_)))._deceleration=null!=(n=t.deceleration)?n:.998,u._velocity=t.velocity,u._platformConfig=t.platformConfig,u}return(0,u.default)(l,t),(0,n.default)(l,[{key:"__getNativeAnimationConfig",value:function(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations,platformConfig:this._platformConfig,debugID:this.__getDebugID()}}},{key:"start",value:function(t,e,n,o,r){var u=this;c(l,"start",this,3)([t,e,n,o,r]),this._lastValue=t,this._fromValue=t,this._onUpdate=e,this._startTime=Date.now(),this.__startAnimationIfNative(r)||(this._animationFrame=requestAnimationFrame(function(){return u.onUpdate()}))}},{key:"onUpdate",value:function(){var t=Date.now(),e=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(e),Math.abs(this._lastValue-e)<.1?this.__notifyAnimationEnd({finished:!0}):(this._lastValue=e,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){c(l,"stop",this,3)([]),null!=this._animationFrame&&g.cancelAnimationFrame(this._animationFrame),this.__notifyAnimationEnd({finished:!1})}}])})(s.default)},297,[1,11,12,18,20,21,23,298]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),i=t(_r(d[2])),n=t(_r(d[3])),r=t(_r(d[4])),o=(function(t,e){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,o,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(r=e?n:i){if(r.has(t))return r.get(t);r.set(t,u)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(o.get||o.set)?r(u,f,o):u[f]=t[f]);return u})(t,e)})(_r(d[5])),u=t(_r(d[6]));var f=1;_e.default=(function(){return(0,n.default)(function t(e){var n,o;(0,i.default)(this,t),this._useNativeDriver=r.default.shouldUseNativeDriver(e),this.__active=!1,this.__isInteraction=null!=(n=e.isInteraction)?n:!this._useNativeDriver,this.__isLooping=e.isLooping,this.__iterations=null!=(o=e.iterations)?o:1},[{key:"start",value:function(t,e,i,n,r){if(!this._useNativeDriver&&!0===r.__isNative)throw new Error("Attempting to run JS driven animation on animated node that has been moved to \"native\" earlier by starting an animation with `useNativeDriver: true`");this._onEnd=i,this.__active=!0}},{key:"stop",value:function(){if(null!=this._nativeID){var t=this._nativeID,e=`${t}:stopAnimation`;try{r.default.API.setWaitingForIdentifier(e),r.default.API.stopAnimation(t)}finally{r.default.API.unsetWaitingForIdentifier(e)}}this.__active=!1}},{key:"__getNativeAnimationConfig",value:function(){throw new Error('This animation type cannot be offloaded to native')}},{key:"__findAnimatedPropsNodes",value:function(t){var i=[];if(t instanceof u.default)return i.push(t),i;for(var n of t.__getChildren())i.push.apply(i,(0,e.default)(this.__findAnimatedPropsNodes(n)));return i}},{key:"__startAnimationIfNative",value:function(t){var e=this;if(!this._useNativeDriver)return!1;var i=`${f}:startAnimation`;f+=1,r.default.API.setWaitingForIdentifier(i);try{var n=this.__getNativeAnimationConfig();return t.__makeNative(n.platformConfig),this._nativeID=r.default.generateNewAnimationId(),r.default.API.startAnimatingNode(this._nativeID,t.__getNativeTag(),n,function(i){e.__notifyAnimationEnd(i);var n=i.value,r=i.offset;if(null!=n){if(t.__onAnimatedValueUpdateReceived(n,r),!(o.cxxNativeAnimatedEnabled()&&!o.disableFabricCommitInCXXAnimated()&&o.cxxNativeAnimatedRemoveJsSync())&&!0===e.__isLooping)return;e.__findAnimatedPropsNodes(t).forEach(function(t){return t.update()})}}),!0}catch(t){throw t}finally{r.default.API.unsetWaitingForIdentifier(i)}}},{key:"__notifyAnimationEnd",value:function(t){var e=this._onEnd;null!=e&&(this._onEnd=null,e(t))}},{key:"__getDebugID",value:function(){}}])})()},298,[1,42,11,12,299,50,305]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),o=e(_r(d[4])),u=e(_r(d[5])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(o=t?i:n){if(o.has(e))return o.get(e);o.set(e,r)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(u.get||u.set)?o(r,l,u):r[l]=e[l]);return r})(e,t)})(_r(d[6])),l=e(_r(d[7])),s=e(_r(d[8]));var f,c=null!=t.default?t.default:n.default,v=1,A=1,N=new Set,p=!1,h=[],V=[],O='android'===u.default.OS&&null!=(null==c?void 0:c.queueAndExecuteBatchedOperations)&&r.animatedShouldUseSingleOp(),w=null,b={},y={},T=null,D=null,F=r.cxxNativeAnimatedEnabled();var I=(function(){var e=['createAnimatedNode','updateAnimatedNodeConfig','getValue','startListeningToAnimatedNodeValue','stopListeningToAnimatedNodeValue','connectAnimatedNodes','disconnectAnimatedNodes','startAnimatingNode','stopAnimation','setAnimatedNodeValue','setAnimatedNodeOffset','flattenAnimatedNodeOffset','extractAnimatedNodeOffset','connectAnimatedNodeToView','disconnectAnimatedNodeFromView','restoreDefaultValues','dropAnimatedNode','addAnimatedEventToView','removeAnimatedEventFromView','addListener','removeListener'],t={};if(O)for(var n=function(){var n=i+1;t[e[i]]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];V.push.apply(V,[n].concat(t)),F&&(clearImmediate(w),w=setImmediate(E.flushQueue))}},i=0,o=e.length;i<o;i++)n();else for(var u=function(){var n=e[r];t[n]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=(0,s.default)(c)[n];p||0!==h.length?h.push(function(){return o.apply(void 0,t)}):F?(h.push(function(){return o.apply(void 0,t)}),clearImmediate(w),w=setImmediate(E.flushQueue)):o.apply(void 0,t)}},r=0,l=e.length;r<l;r++)u();return t})(),E={getValue:O?function(e,t){t&&(b[e]=t),I.getValue(e)}:function(e,t){I.getValue(e,t)},setWaitingForIdentifier:function(e){F||(N.add(e),p=!0,r.animatedShouldDebounceQueueFlush()&&w&&clearImmediate(w))},unsetWaitingForIdentifier:function(e){F||(N.delete(e),0===N.size&&(p=!1,E.disableQueue()))},disableQueue:function(){((0,l.default)(c,'Native animated module is not available'),r.animatedShouldDebounceQueueFlush())?(clearImmediate(w),w=setImmediate(E.flushQueue)):E.flushQueue()},flushQueue:O?function(){(0,l.default)(c,'Native animated module is not available'),w=null,0!==V.length&&(S(),null==c||null==c.queueAndExecuteBatchedOperations||c.queueAndExecuteBatchedOperations(V),V.length=0)}:function(){if((0,l.default)(c,'Native animated module is not available'),w=null,0!==h.length){('android'===u.default.OS||F)&&(null==c||null==c.startOperationBatch||c.startOperationBatch());for(var e=0,t=h.length;e<t;e++)h[e]();h.length=0,('android'===u.default.OS||F)&&(null==c||null==c.finishOperationBatch||c.finishOperationBatch())}},createAnimatedNode:function(e,t){t.disableBatchingForNativeCreate?null==c||c.createAnimatedNode(e,t):I.createAnimatedNode(e,t)},updateAnimatedNodeConfig:function(e,t){null==I.updateAnimatedNodeConfig||I.updateAnimatedNodeConfig(e,t)},startListeningToAnimatedNodeValue:function(e){I.startListeningToAnimatedNodeValue(e)},stopListeningToAnimatedNodeValue:function(e){I.stopListeningToAnimatedNodeValue(e)},connectAnimatedNodes:function(e,t){I.connectAnimatedNodes(e,t)},disconnectAnimatedNodes:function(e,t){I.disconnectAnimatedNodes(e,t)},startAnimatingNode:O?function(e,t,n,i){i&&(y[e]=i),I.startAnimatingNode(e,t,n)}:function(e,t,n,i){I.startAnimatingNode(e,t,n,i)},stopAnimation:function(e){I.stopAnimation(e)},setAnimatedNodeValue:function(e,t){I.setAnimatedNodeValue(e,t)},setAnimatedNodeOffset:function(e,t){I.setAnimatedNodeOffset(e,t)},flattenAnimatedNodeOffset:function(e){I.flattenAnimatedNodeOffset(e)},extractAnimatedNodeOffset:function(e){I.extractAnimatedNodeOffset(e)},connectAnimatedNodeToView:function(e,t){I.connectAnimatedNodeToView(e,t)},disconnectAnimatedNodeFromView:function(e,t){I.disconnectAnimatedNodeFromView(e,t)},restoreDefaultValues:function(e){null==I.restoreDefaultValues||I.restoreDefaultValues(e)},dropAnimatedNode:function(e){I.dropAnimatedNode(e)},addAnimatedEventToView:function(e,t,n){I.addAnimatedEventToView(e,t,n)},removeAnimatedEventFromView:function(e,t,n){I.removeAnimatedEventFromView(e,t,n)}};function S(){T&&D||(T=o.default.addListener('onNativeAnimatedModuleGetValue',function(e){var t=e.tag,n=b[t];n&&(n(e.value),delete b[t])}),D=o.default.addListener('onNativeAnimatedModuleAnimationFinished',function(e){var t=Array.isArray(e)?e:[e];for(var n of t){var i=n.animationId,o=y[i];o&&(o(n),delete y[i])}}))}var x=!1;_e.default={API:E,generateNewNodeTag:function(){return v++},generateNewAnimationId:function(){return A++},assertNativeAnimatedModule:function(){(0,l.default)(c,'Native animated module is not available')},shouldUseNativeDriver:function(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==e.useNativeDriver||c?e.useNativeDriver||!1:(x||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),x=!0),!1)},shouldSignalBatch:F,transformDataType:function(e){return'string'!=typeof e?e:e.endsWith('deg')?(parseFloat(e)||0)*Math.PI/180:e.endsWith('rad')?parseFloat(e)||0:e},get nativeEventEmitter(){return f||(f=new i.default('ios'!==u.default.OS?null:c)),f}}},299,[1,300,303,201,17,69,50,32,81]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},300,[301]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?u(o,i,f):o[i]=e[i]);return o})(e,t)})(_r(d[2]));var n=(0,t.default)()?null:r.get('NativeAnimatedModule');_e.default=n},301,[1,302,31]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[1])),r=e(_r(d[2]));_e.default=function(){return!t.cxxNativeAnimatedEnabled()&&('ios'===r.default.OS&&!0===g.RN$Bridgeless)}},302,[1,50,69]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},303,[304]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[2]));var n=(0,t.default)()?r.get('NativeAnimatedTurboModule'):null;_e.default=n},304,[1,302,31]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t,n=e(_r(d[1])),l=e(_r(d[2])),r=e(_r(d[3])),u=e(_r(d[4])),o=e(_r(d[5])),s=e(_r(d[6])),_=e(_r(d[7])),f=e(_r(d[8])),c=e(_r(d[9])),v=e(_r(d[10])),h=e(_r(d[11])),p=e(_r(d[12])),y=e(_r(d[13])),k=e(_r(d[14])),N=e(_r(d[15]));function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function V(e,t,n,l){var r=(0,s.default)((0,o.default)(1&l?e.prototype:e),t,n);return 2&l&&"function"==typeof r?function(e){return r.apply(n,e)}:r}function w(e,t){for(var n=[],l=[],r={},u=Object.keys(e),o=0,s=u.length;o<s;o++){var _=u[o],f=e[_],c=f;if(null==t||E(t,_)){var v=void 0;if('style'===_){if('object'==typeof f&&null!=f){var N=(0,h.default)(f);v=k.default.from(N,null==t?void 0:t.style,f),c=N}}else v=f instanceof p.default?f:y.default.from(f);null==v?r[_]=c:(n.push(_),l.push(v),r[_]=v)}else r[_]=f}return[n,l,r]}var A=(0,c.default)("connectAnimatedView"),O=(0,c.default)("disconnectAnimatedView");_e.default=(function(e){function t(e,r,s,_){var f,c,v,h;(0,l.default)(this,t),c=this,v=t,h=[_],v=(0,o.default)(v),f=(0,u.default)(c,b()?Reflect.construct(v,h||[],(0,o.default)(c).constructor):v.apply(c,h)),Object.defineProperty(f,O,{value:P}),Object.defineProperty(f,A,{value:j}),f._target=null;var p=w(e,s),y=(0,n.default)(p,3),k=y[0],N=y[1],V=y[2];return f._nodeKeys=k,f._nodes=N,f._props=V,f._callback=r,f}return(0,_.default)(t,e),(0,r.default)(t,[{key:"__getValue",value:function(){for(var e={},t=Object.keys(this._props),n=0,l=t.length;n<l;n++){var r=t[n],u=this._props[r];u instanceof p.default?e[r]=u.__getValue():u instanceof _r(d[16]).AnimatedEvent?e[r]=u.__getHandler():e[r]=u}return e}},{key:"__getValueWithStaticProps",value:function(e){for(var t=Object.assign({},e),n=Object.keys(e),l=0,r=n.length;l<r;l++){var u=n[l],o=this._props[u];if('style'===u){var s=e.style,_=(0,h.default)(s);if(o instanceof k.default){var f=null==_?{}:_===s?Object.assign({},_):_;o.__replaceAnimatedNodeWithValues(f),t[u]=o.__getValueForStyle(f)}else t[u]=_}else o instanceof p.default?t[u]=o.__getValue():o instanceof _r(d[16]).AnimatedEvent&&(t[u]=o.__getHandler())}return t}},{key:"__getNativeAnimatedEventTuples",value:function(){for(var e=[],t=Object.keys(this._props),n=0,l=t.length;n<l;n++){var r=t[n],u=this._props[r];u instanceof _r(d[16]).AnimatedEvent&&u.__isNative&&e.push([r,u])}return e}},{key:"__getAnimatedValue",value:function(){for(var e={},t=this._nodeKeys,n=this._nodes,l=0,r=n.length;l<r;l++){var u=t[l],o=n[l];e[u]=o.__getAnimatedValue()}return e}},{key:"__attach",value:function(){for(var e=this._nodes,n=0,l=e.length;n<l;n++){e[n].__addChild(this)}V(t,"__attach",this,3)([])}},{key:"__detach",value:function(){this.__isNative&&null!=this._target&&(0,f.default)(this,O)[O](this._target),this._target=null;for(var e=this._nodes,n=0,l=e.length;n<l;n++){e[n].__removeChild(this)}V(t,"__detach",this,3)([])}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(e){for(var n=this._nodes,l=0,r=n.length;l<r;l++){n[l].__makeNative(e)}this.__isNative||(this.__isNative=!0,V(t,"__setPlatformConfig",this,3)([e]),null!=this._target&&(0,f.default)(this,A)[A](this._target))}},{key:"setNativeView",value:function(e){var t;(null==(t=this._target)?void 0:t.instance)!==e&&(this._target={instance:e,connectedViewTag:null},this.__isNative&&(0,f.default)(this,A)[A](this._target))}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&v.default.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){for(var e=this.__getPlatformConfig(),t={},n=this._nodeKeys,l=this._nodes,r=0,u=l.length;r<u;r++){var o=n[r],s=l[r];s.__makeNative(e),t[o]=s.__getNativeTag()}return{type:'props',props:t,debugID:this.__getDebugID()}}}])})(p.default);function j(e){(0,N.default)(this.__isNative,'Expected node to be marked as "native"');var t=(0,_r(d[17]).findNodeHandle)(e.instance);if(null==t)throw new Error('Unable to locate attached view in the native tree');v.default.API.connectAnimatedNodeToView(this.__getNativeTag(),t),e.connectedViewTag=t}function P(e){(0,N.default)(this.__isNative,'Expected node to be marked as "native"');var t=e.connectedViewTag;null!=t&&(v.default.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),t),e.connectedViewTag=null)}var T=Object.prototype.hasOwnProperty,E=null!=(t=Object.hasOwn)?t:function(e,t){return T.call(e,t)}},305,[1,34,11,12,18,20,21,23,26,27,299,9,306,307,309,32,311,107]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),o=t(r(d[3])),_=t(r(d[4])),u=1,s=function(){o.default.assertNativeAnimatedModule(),s=null};e.default=(function(){return(0,l.default)(function t(l){(0,n.default)(this,t),this._platformConfig=void 0,this.__isNative=!1,this.__nativeTag=void 0,this.__disableBatchingForNativeCreate=void 0,this.__debugID=void 0,this._listeners=new Map,this.__disableBatchingForNativeCreate=null==l?void 0:l.unstable_disableBatchingForNativeCreate},[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.removeAllListeners(),this.__isNative&&null!=this.__nativeTag&&(o.default.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(t){}},{key:"__removeChild",value:function(t){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(t){(0,_.default)(this.__isNative,'This node cannot be made a "native" animated node'),this._platformConfig=t}},{key:"addListener",value:function(t){var n=String(u++);return this._listeners.set(n,t),n}},{key:"removeListener",value:function(t){this._listeners.delete(t)}},{key:"removeAllListeners",value:function(){this._listeners.clear()}},{key:"hasListeners",value:function(){return this._listeners.size>0}},{key:"__onAnimatedValueUpdateReceived",value:function(t,n){this.__callListeners(t+n)}},{key:"__callListeners",value:function(t){var n={value:t};this._listeners.forEach(function(t){t(n)})}},{key:"__getNativeTag",value:function(){var t=this.__nativeTag;if(null==t){null==s||s(),(0,_.default)(this.__isNative,'Attempt to get native tag from node not marked as "native"'),t=o.default.generateNewNodeTag(),this.__nativeTag=t;var n=this.__getNativeConfig();this._platformConfig&&(n.platformConfig=this._platformConfig),this.__disableBatchingForNativeCreate&&(n.disableBatchingForNativeCreate=!0),o.default.API.createAnimatedNode(t,n)}return t}},{key:"__getNativeConfig",value:function(){throw new Error('This JS animated node type cannot be used as native animated node')}},{key:"__getPlatformConfig",value:function(){return this._platformConfig}},{key:"__setPlatformConfig",value:function(t){this._platformConfig=t}},{key:"toJSON",value:function(){return this.__getValue()}},{key:"__getDebugID",value:function(){}}])})()},306,[1,11,12,299,32]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.isPlainObject=h;var e=t(_r(d[1])),n=t(_r(d[2])),u=t(_r(d[3])),r=t(_r(d[4])),o=t(_r(d[5])),f=t(_r(d[6])),l=t(_r(d[7])),c=t(_r(d[8])),_=_r(d[9]);function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}function s(t,e,n,u){var f=(0,o.default)((0,r.default)(1&u?t.prototype:t),e,n);return 2&u&&"function"==typeof f?function(t){return f.apply(n,t)}:f}function h(t){return null!==t&&'object'==typeof t&&Object.getPrototypeOf(t).isPrototypeOf(Object)&&!(0,_.isValidElement)(t)}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>=5)return e;if(t instanceof l.default)e.push(t);else if(Array.isArray(t))for(var u=0,r=t.length;u<r;u++){y(t[u],e,n+1)}else if(h(t))for(var o=Object.keys(t),f=0,c=o.length;f<c;f++){y(t[o[f]],e,n+1)}return e}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>=5)return t;if(t instanceof l.default)return e(t);if(Array.isArray(t))return t.map(function(t){return p(t,e,n+1)});if(h(t)){for(var u={},r=Object.keys(t),o=0,f=r.length;o<f;o++){var c=r[o];u[c]=p(t[c],e,n+1)}return u}return t}_e.default=(function(t){function o(t,n,f){var l,c,_,s;return(0,e.default)(this,o),c=this,_=o,s=[f],_=(0,r.default)(_),(l=(0,u.default)(c,v()?Reflect.construct(_,s||[],(0,r.default)(c).constructor):_.apply(c,s)))._nodes=t,l._value=n,l}return(0,f.default)(o,t),(0,n.default)(o,[{key:"__getValue",value:function(){return p(this._value,function(t){return t.__getValue()})}},{key:"__getValueWithStaticObject",value:function(t){var e=this._nodes,n=0;return p(t,function(){return e[n++].__getValue()})}},{key:"__getAnimatedValue",value:function(){return p(this._value,function(t){return t.__getAnimatedValue()})}},{key:"__attach",value:function(){for(var t=this._nodes,e=0,n=t.length;e<n;e++){t[e].__addChild(this)}s(o,"__attach",this,3)([])}},{key:"__detach",value:function(){for(var t=this._nodes,e=0,n=t.length;e<n;e++){t[e].__removeChild(this)}s(o,"__detach",this,3)([])}},{key:"__makeNative",value:function(t){for(var e=this._nodes,n=0,u=e.length;n<u;n++){e[n].__makeNative(t)}s(o,"__makeNative",this,3)([t])}},{key:"__getNativeConfig",value:function(){return{type:'object',value:p(this._value,function(t){return{nodeTag:t.__getNativeTag()}}),debugID:this.__getDebugID()}}}],[{key:"from",value:function(t){var e=y(t);return 0===e.length?null:new o(e,t)}}])})(c.default)},307,[1,11,12,18,20,21,23,306,308,75]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),_=t(_r(d[3])),r=t(_r(d[4])),l=t(_r(d[5])),c=t(_r(d[6])),s=t(_r(d[7])),u=t(_r(d[8]));function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h=function(){return!!t})()}function o(t,e,n,_){var c=(0,l.default)((0,r.default)(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof c?function(t){return c.apply(n,t)}:c}var f=s.default.API,v=f.connectAnimatedNodes,N=f.disconnectAnimatedNodes;_e.default=(function(t){function l(){var t,n,c,s;(0,e.default)(this,l);for(var u=arguments.length,o=new Array(u),f=0;f<u;f++)o[f]=arguments[f];return n=this,c=l,s=[].concat(o),c=(0,r.default)(c),(t=(0,_.default)(n,h()?Reflect.construct(c,s||[],(0,r.default)(n).constructor):c.apply(n,s)))._children=[],t}return(0,c.default)(l,t),(0,n.default)(l,[{key:"__makeNative",value:function(t){if(!this.__isNative){this.__isNative=!0;var e=this._children,n=e.length;if(n>0)for(var _=0;_<n;_++){var r=e[_];r.__makeNative(t),v(this.__getNativeTag(),r.__getNativeTag())}}o(l,"__makeNative",this,3)([t])}},{key:"__addChild",value:function(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(this.__getPlatformConfig()),v(this.__getNativeTag(),t.__getNativeTag()))}},{key:"__removeChild",value:function(t){var e=this._children.indexOf(t);-1!==e?(this.__isNative&&t.__isNative&&N(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(e,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(t){if(o(l,"__callListeners",this,3)([t]),!this.__isNative)for(var e=this._children,n=0,_=e.length;n<_;n++){var r=e[n];r.__getValue&&r.__callListeners(r.__getValue())}}}])})(u.default)},308,[1,11,12,18,20,21,23,299,306]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t,n=e(_r(d[1])),r=e(_r(d[2])),u=e(_r(d[3])),l=e(_r(d[4])),o=e(_r(d[5])),f=e(_r(d[6])),i=e(_r(d[7])),_=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((l=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(l.get||l.set)?u(o,f,l):o[f]=e[f]);return o})(e,t)})(_r(d[8])),s=e(_r(d[9])),c=e(_r(d[10])),h=e(_r(d[11])),v=e(_r(d[12])),y=e(_r(d[13]));function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function k(e,t,n,r){var u=(0,f.default)((0,o.default)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof u?function(e){return u.apply(n,e)}:u}function O(e,t,n){for(var r=[],u=[],l={},o=Object.keys(e),f=0,i=o.length;f<i;f++){var s=o[f],y=e[s];if(null==t||j(t,s)){var p=void 0;null==(p=null!=y&&'transform'===s?_.shouldUseAnimatedObjectForTransform()?h.default.from(y):v.default.from(y):y instanceof c.default?y:h.default.from(y))?n&&(l[s]=y):(r.push(s),u.push(p),l[s]=p)}else n&&(l[s]=y)}return[r,u,l]}_e.default=(function(e){function t(e,n,u,f,i){var _,c,h,v;return(0,r.default)(this,t),c=this,h=t,v=[i],h=(0,o.default)(h),(_=(0,l.default)(c,p()?Reflect.construct(h,v||[],(0,o.default)(c).constructor):h.apply(c,v)))._nodeKeys=e,_._nodes=n,_._style=u,'web'===s.default.OS&&(_.__getValueForStyle=function(e){return[f,e]}),_}return(0,i.default)(t,e),(0,u.default)(t,[{key:"__getValue",value:function(){for(var e={},t=Object.keys(this._style),n=0,r=t.length;n<r;n++){var u=t[n],l=this._style[u];l instanceof c.default?e[u]=l.__getValue():e[u]=l}return this.__getValueForStyle(e)}},{key:"__getValueForStyle",value:function(e){return e}},{key:"__replaceAnimatedNodeWithValues",value:function(e){for(var t=Object.keys(e),n=0,r=t.length;n<r;n++){var u=t[n],l=this._style[u];'transform'===u&&l instanceof v.default?e[u]=l.__getValueWithStaticTransforms(Array.isArray(e[u])?e[u]:[]):l instanceof h.default?e[u]=l.__getValueWithStaticObject(e[u]):l instanceof c.default&&(e[u]=l.__getValue())}}},{key:"__getAnimatedValue",value:function(){for(var e={},t=this._nodeKeys,n=this._nodes,r=0,u=n.length;r<u;r++){var l=t[r],o=n[r];e[l]=o.__getAnimatedValue()}return e}},{key:"__attach",value:function(){for(var e=this._nodes,n=0,r=e.length;n<r;n++){e[n].__addChild(this)}k(t,"__attach",this,3)([])}},{key:"__detach",value:function(){for(var e=this._nodes,n=0,r=e.length;n<r;n++){e[n].__removeChild(this)}k(t,"__detach",this,3)([])}},{key:"__makeNative",value:function(e){for(var n=this._nodes,r=0,u=n.length;r<u;r++){n[r].__makeNative(e)}k(t,"__makeNative",this,3)([e])}},{key:"__getNativeConfig",value:function(){for(var e=this.__getPlatformConfig(),t={},n=this._nodeKeys,r=this._nodes,u=0,l=r.length;u<l;u++){var o=n[u],f=r[u];f.__makeNative(e),t[o]=f.__getNativeTag()}return{type:'style',style:t,debugID:this.__getDebugID()}}}],[{key:"from",value:function(e,r,u){if(null==e)return null;var l=O(e,r,'web'!==s.default.OS),o=(0,n.default)(l,3),f=o[0],i=o[1],_=o[2];return 0===i.length?null:new t(f,i,_,u)}}])})(y.default);var b=Object.prototype.hasOwnProperty,j=null!=(t=Object.hasOwn)?t:function(e,t){return b.call(e,t)}},309,[1,34,11,12,18,20,21,23,50,69,306,307,310,308]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),u=t(_r(d[4])),f=t(_r(d[5])),o=t(_r(d[6])),s=t(_r(d[7])),l=t(_r(d[8])),c=t(_r(d[9]));function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_=function(){return!!t})()}function v(t,e,n,r){var o=(0,f.default)((0,u.default)(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function h(t){for(var e=[],n=0,r=t.length;n<r;n++){var u=t[n];for(var f in u){var o=u[f];o instanceof l.default&&e.push(o)}}return e}_e.default=(function(t){function f(t,n,o){var s,l,c,v;return(0,e.default)(this,f),l=this,c=f,v=[o],c=(0,u.default)(c),(s=(0,r.default)(l,_()?Reflect.construct(c,v||[],(0,u.default)(l).constructor):c.apply(l,v)))._nodes=t,s._transforms=n,s}return(0,o.default)(f,t),(0,n.default)(f,[{key:"__makeNative",value:function(t){for(var e=this._nodes,n=0,r=e.length;n<r;n++){e[n].__makeNative(t)}v(f,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return y(this._transforms,function(t){return t.__getValue()})}},{key:"__getValueWithStaticTransforms",value:function(t){var e=[];return y(this._transforms,function(t){e.push(t.__getValue())}),y(t,function(){return e.shift()})}},{key:"__getAnimatedValue",value:function(){return y(this._transforms,function(t){return t.__getAnimatedValue()})}},{key:"__attach",value:function(){for(var t=this._nodes,e=0,n=t.length;e<n;e++){t[e].__addChild(this)}v(f,"__attach",this,3)([])}},{key:"__detach",value:function(){for(var t=this._nodes,e=0,n=t.length;e<n;e++){t[e].__removeChild(this)}v(f,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){for(var t=[],e=this._transforms,n=0,r=e.length;n<r;n++){var u=e[n];for(var f in u){var o=u[f];o instanceof l.default?t.push({type:'animated',property:f,nodeTag:o.__getNativeTag()}):t.push({type:'static',property:f,value:s.default.transformDataType(o)})}}return{type:'transform',transforms:t,debugID:this.__getDebugID()}}}],[{key:"from",value:function(t){var e=h(Array.isArray(t)?t:[]);return 0===e.length?null:new f(e,t)}}])})(c.default);function y(t,e){return t.map(function(t){var n={};for(var r in t){var u=t[r];if(u instanceof l.default)n[r]=e(u);else if(Array.isArray(u))n[r]=u.map(function(t){return t instanceof l.default?e(t):t});else if('object'==typeof u){var f={};for(var o in u){var s=u[o];f[o]=s instanceof l.default?e(s):s}n[r]=f}else n[r]=u}return n})}},310,[1,11,12,18,20,21,23,299,306,308]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.AnimatedEvent=void 0,e.attachNativeEventImpl=v;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),l=t(r(d[5])),u=t(r(d[6]));function v(t,n,s,v){var c=[],_=function(t,n){if(t instanceof f.default)t.__makeNative(v),c.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if(t instanceof l.default)_(t.x,n.concat('x')),_(t.y,n.concat('y'));else if('object'==typeof t)for(var s in t)_(t[s],n.concat(s))};(0,u.default)(s[0]&&s[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),_(s[0].nativeEvent,[]);var h=(0,r(d[7]).findNodeHandle)(t);return null!=h&&c.forEach(function(t){o.default.API.addAnimatedEventToView(h,n,t)}),{detach:function(){null!=h&&c.forEach(function(t){o.default.API.removeAnimatedEventFromView(h,n,t.animatedValueTag)})}}}e.AnimatedEvent=(function(){return(0,s.default)(function t(s,f){var l=this;(0,n.default)(this,t),this._listeners=[],this._callListeners=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];l._listeners.forEach(function(t){return t.apply(void 0,n)})},this._argMapping=s,null==f&&(console.warn('Animated.event now requires a second argument for options'),f={useNativeDriver:!1}),f.listener&&this.__addListener(f.listener),this._attachedEvent=null,this.__isNative=o.default.shouldUseNativeDriver(f),this.__platformConfig=f.platformConfig},[{key:"__addListener",value:function(t){this._listeners.push(t)}},{key:"__removeListener",value:function(t){this._listeners=this._listeners.filter(function(n){return n!==t})}},{key:"__attach",value:function(t,n){(0,u.default)(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=v(t,n,this._argMapping,this.__platformConfig)}},{key:"__detach",value:function(t,n){(0,u.default)(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var t=this;if(this.__isNative)return this._callListeners;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var u=function(t,n){if(t instanceof f.default)'number'==typeof n&&t.setValue(n);else if(t instanceof l.default)'object'==typeof n&&(u(t.x,n.x),u(t.y,n.y));else if('object'==typeof t)for(var s in t)u(t[s],n[s])};t._argMapping.forEach(function(t,n){u(t,s[n])}),t._callListeners.apply(t,s)}}}])})()},311,[1,11,12,299,312,316,32,107]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.flushValue=p;var e=t(_r(d[1])),n=t(_r(d[2])),s=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),_=t(_r(d[6])),r=t(_r(d[7])),l=t(_r(d[8])),f=t(_r(d[9]));function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h=function(){return!!t})()}function v(t,e,n,s){var _=(0,o.default)((0,u.default)(1&s?t.prototype:t),e,n);return 2&s&&"function"==typeof _?function(t){return _.apply(n,t)}:_}var c=r.default.API;function p(t){var e=new Set;!(function t(n){'function'==typeof n.update?e.add(n):n.__getChildren().forEach(t)})(t),e.forEach(function(t){return t.update()})}function k(t,e){c.setWaitingForIdentifier(t),e(),c.unsetWaitingForIdentifier(t)}_e.default=(function(t){function o(t,n){var _,r,l,f;if((0,e.default)(this,o),r=this,l=o,f=[n],l=(0,u.default)(l),_=(0,s.default)(r,h()?Reflect.construct(l,f||[],(0,u.default)(r).constructor):l.apply(r,f)),'number'!=typeof t)throw new Error('AnimatedValue: Attempting to set value to undefined');return _._listenerCount=0,_._updateSubscription=null,_._startingValue=_._value=t,_._offset=0,_._animation=null,n&&n.useNativeDriver&&_.__makeNative(),_}return(0,_.default)(o,t),(0,n.default)(o,[{key:"__detach",value:function(){var t=this;this.__isNative&&c.getValue(this.__getNativeTag(),function(e){t._value=e-t._offset}),this.stopAnimation(),v(o,"__detach",this,3)([])}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"__makeNative",value:function(t){v(o,"__makeNative",this,3)([t]),this._listenerCount>0&&this.__ensureUpdateSubscriptionExists()}},{key:"addListener",value:function(t){var e=v(o,"addListener",this,3)([t]);return this._listenerCount++,this.__isNative&&this.__ensureUpdateSubscriptionExists(),e}},{key:"removeListener",value:function(t){var e;(v(o,"removeListener",this,3)([t]),this._listenerCount--,this.__isNative&&0===this._listenerCount)&&(null==(e=this._updateSubscription)||e.remove())}},{key:"removeAllListeners",value:function(){var t;(v(o,"removeAllListeners",this,3)([]),this._listenerCount=0,this.__isNative)&&(null==(t=this._updateSubscription)||t.remove())}},{key:"__ensureUpdateSubscriptionExists",value:function(){var t=this;if(null==this._updateSubscription){var e=this.__getNativeTag();c.startListeningToAnimatedNodeValue(e);var n=r.default.nativeEventEmitter.addListener('onAnimatedValueUpdate',function(n){n.tag===e&&t.__onAnimatedValueUpdateReceived(n.value,n.offset)});this._updateSubscription={remove:function(){null!=t._updateSubscription&&(t._updateSubscription=null,n.remove(),c.stopListeningToAnimatedNodeValue(e))}}}}},{key:"setValue",value:function(t){var e=this;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&k(this.__getNativeTag().toString(),function(){return c.setAnimatedNodeValue(e.__getNativeTag(),t)})}},{key:"setOffset",value:function(t){this._offset=t,this.__isNative&&c.setAnimatedNodeOffset(this.__getNativeTag(),t)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&c.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){var t=this;this._offset+=this._value,this._value=0,this.__isNative&&k(this.__getNativeTag().toString(),function(){return c.extractAnimatedNodeOffset(t.__getNativeTag())})}},{key:"stopAnimation",value:function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&(this.__isNative?c.getValue(this.__getNativeTag(),t):t(this.__getValue()))}},{key:"resetAnimation",value:function(t){this.stopAnimation(t),this._value=this._startingValue,this.__isNative&&c.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}},{key:"__onAnimatedValueUpdateReceived",value:function(t,e){this._updateValue(t,!1),null!=e&&(this._offset=e)}},{key:"interpolate",value:function(t){return new l.default(this,t)}},{key:"animate",value:function(t,e){var n=this,s=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,function(t){n._updateValue(t,!0)},function(t){n._animation=null,e&&e(t)},s,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(t){this.stopTracking(),this._tracking=t,this._tracking&&this._tracking.update()}},{key:"_updateValue",value:function(t,e){if(void 0===t)throw new Error('AnimatedValue: Attempting to set value to undefined');this._value=t,e&&p(this),this.__callListeners(this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:'value',value:this._value,offset:this._offset,debugID:this.__getDebugID()}}}])})(f.default)},312,[1,11,12,18,20,21,23,299,313,308]);
__d(function(_g,_r,_i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),a=t(_r(d[3])),o=t(_r(d[4])),r=t(_r(d[5])),u=t(_r(d[6])),i=t(_r(d[7])),l=t(_r(d[8])),f=t(_r(d[9])),p=t(_r(d[10])),c=t(_r(d[11])),s=t(_r(d[12]));function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h=function(){return!!t})()}function _(t,e,n,a){var u=(0,r.default)((0,o.default)(1&a?t.prototype:t),e,n);return 2&a&&"function"==typeof u?function(t){return u.apply(n,t)}:u}function g(t){var e=t.outputRange,n=t.inputRange,a=t.easing||p.default.linear,o='extend';void 0!==t.extrapolateLeft?o=t.extrapolateLeft:void 0!==t.extrapolate&&(o=t.extrapolate);var r='extend';return void 0!==t.extrapolateRight?r=t.extrapolateRight:void 0!==t.extrapolate&&(r=t.extrapolate),function(t){(0,s.default)('number'==typeof t,'Cannot interpolation an input which is not a number');var u=b(t,n);return v(t,n[u],n[u+1],e[u],e[u+1],a,o,r)}}function v(t,e,n,a,o,r,u,i){var l=t;if(l<e){if('identity'===u)return l;'clamp'===u&&(l=e)}if(l>n){if('identity'===i)return l;'clamp'===i&&(l=n)}return a===o?a:e===n?t<=e?a:o:(e===-1/0?l=-l:n===1/0?l-=e:l=(l-e)/(n-e),l=r(l),a===-1/0?l=-l:o===1/0?l+=a:l=l*(o-a)+a,l)}var y=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function x(t){var e=(0,l.default)(t);if((0,s.default)(null==e||'object'!=typeof e,'PlatformColors are not supported'),'number'==typeof e)return{isColor:!0,components:[(4278190080&(e=e||0))>>>24,(16711680&e)>>>16,(65280&e)>>>8,(255&e)/255]};for(var n,a=[],o=0;null!=(n=y.exec(t));)n.index>o&&a.push(t.substring(o,n.index)),a.push(parseFloat(n[0])),o=n.index+n[0].length;return(0,s.default)(a.length>0,'outputRange must contain color or value with numeric component'),o<t.length&&a.push(t.substring(o,t.length)),{isColor:!1,components:a}}function R(t){(0,s.default)(t.outputRange.length>=2,'Bad output range');var e=t.outputRange.map(x),n=e[0].isColor,a=e.map(function(t){return n?t.components:t.components.filter(function(t){return'number'==typeof t})}),o=a[0].map(function(e,n){return g(Object.assign({},t,{outputRange:a.map(function(t){return t[n]})}))});return n?function(t){var e=o.map(function(e,n){var a=e(t);return n<3?Math.round(a):Math.round(1e3*a)/1e3});return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}:function(t){var n=o.map(function(e){return e(t)}),a=0;return e[0].components.map(function(t){return'number'==typeof t?n[a++]:t}).join('')}}function b(t,e){var n;for(n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}_e.default=(function(t){function r(t,n){var u,i,l,f;return(0,e.default)(this,r),i=this,l=r,f=[n],l=(0,o.default)(l),(u=(0,a.default)(i,h()?Reflect.construct(l,f||[],(0,o.default)(i).constructor):l.apply(i,f)))._parent=t,u._config=n,u}return(0,u.default)(r,t),(0,n.default)(r,[{key:"_getInterpolation",value:function(){if(!this._interpolation){var t=this._config;t.outputRange&&'string'==typeof t.outputRange[0]?this._interpolation=R(t):this._interpolation=g(t)}return this._interpolation}},{key:"__makeNative",value:function(t){this._parent.__makeNative(t),_(r,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){var t=this._parent.__getValue();return(0,s.default)('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._getInterpolation()(t)}},{key:"interpolate",value:function(t){return new r(this,t)}},{key:"__attach",value:function(){this._parent.__addChild(this),_(r,"__attach",this,3)([])}},{key:"__detach",value:function(){this._parent.__removeChild(this),_(r,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){var t=this._config.outputRange,e=null;return'string'==typeof t[0]&&(t=t.map(function(t){var n=(0,f.default)(t);return'number'==typeof n?(e='color',n):i.default.transformDataType(t)})),{inputRange:this._config.inputRange,outputRange:t,outputType:e,extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation',debugID:this.__getDebugID()}}}])})(c.default)},313,[1,11,12,18,20,21,23,299,56,55,314,308,32]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={step0:function(n){return n>0?1:0},step1:function(n){return n>=1?1:0},linear:function(n){return n},ease:function(u){return n||(n=t.bezier(.42,0,1,1)),n(u)},quad:function(n){return n*n},cubic:function(n){return n*n*n},poly:function(n){return function(t){return Math.pow(t,n)}},sin:function(n){return 1-Math.cos(n*Math.PI/2)},circle:function(n){return 1-Math.sqrt(1-n*n)},exp:function(n){return Math.pow(2,10*(n-1))},elastic:function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return function(t){return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*n)}},back:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(t){return t*t*((n+1)*t-n)}},bounce:function(n){if(n<.36363636363636365)return 7.5625*n*n;if(n<.7272727272727273){var t=n-.5454545454545454;return 7.5625*t*t+.75}if(n<.9090909090909091){var u=n-.8181818181818182;return 7.5625*u*u+.9375}var o=n-.9545454545454546;return 7.5625*o*o+.984375},bezier:function(n,t,u,o){return(0,r(d[0]).default)(n,t,u,o)},in:function(n){return n},out:function(n){return function(t){return 1-n(1-t)}},inOut:function(n){return function(t){return t<.5?n(2*t)/2:1-n(2*(1-t))/2}}};e.default=t},314,[315]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u,o,v){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var l=c?new Float32Array(f):new Array(f);if(n!==u||o!==v)for(var s=0;s<f;++s)l[s]=w(s*i,n,o);function h(u){for(var f=0,c=1;10!==c&&l[c]<=u;++c)f+=i;--c;var v=f+(u-l[c])/(l[c+1]-l[c])*i,s=y(v,n,o);return s>=t?_(u,v,n,o):0===s?v:b(u,f,f+i,n,o)}return function(t){return n===u&&o===v?t:0===t?0:1===t?1:w(h(t),u,v)}};var n=4,t=.001,u=1e-7,o=10,f=11,i=.1,c='function'==typeof Float32Array;function v(n,t){return 1-3*t+3*n}function l(n,t){return 3*t-6*n}function s(n){return 3*n}function w(n,t,u){return((v(t,u)*n+l(t,u))*n+s(t))*n}function y(n,t,u){return 3*v(t,u)*n*n+2*l(t,u)*n+s(t)}function b(n,t,f,i,c){var v,l,s=0,y=t,b=f;do{(v=w(l=y+(b-y)/2,i,c)-n)>0?b=l:y=l}while(Math.abs(v)>u&&++s<o);return l}function _(t,u,o,f){for(var i=u,c=0;c<n;++c){var v=y(i,o,f);if(0===v)return i;i-=(w(i,o,f)-t)/v}return i}},315,[]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),s=t(_r(d[3])),u=t(_r(d[4])),l=t(_r(d[5])),r=t(_r(d[6])),f=t(_r(d[7])),o=t(_r(d[8])),h=t(_r(d[9]));function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}function c(t,e,n,s){var r=(0,l.default)((0,u.default)(1&s?t.prototype:t),e,n);return 2&s&&"function"==typeof r?function(t){return r.apply(n,t)}:r}var _=1;_e.default=(function(t){function l(t,n){var r,o,c,_;(0,e.default)(this,l),o=this,c=l,_=[n],c=(0,u.default)(c),r=(0,s.default)(o,y()?Reflect.construct(c,_||[],(0,u.default)(o).constructor):c.apply(o,_));var v=t||{x:0,y:0};return'number'==typeof v.x&&'number'==typeof v.y?(r.x=new f.default(v.x),r.y=new f.default(v.y)):((0,h.default)(v.x instanceof f.default&&v.y instanceof f.default,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),r.x=v.x,r.y=v.y),r._listeners={},n&&n.useNativeDriver&&r.__makeNative(),r}return(0,r.default)(l,t),(0,n.default)(l,[{key:"setValue",value:function(t){this.x.setValue(t.x),this.y.setValue(t.y)}},{key:"setOffset",value:function(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}},{key:"stopAnimation",value:function(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}},{key:"addListener",value:function(t){var e=this,n=String(_++),s=function(n){n.value;t(e.__getValue())};return this._listeners[n]={x:this.x.addListener(s),y:this.y.addListener(s)},n}},{key:"removeListener",value:function(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}},{key:"__attach",value:function(){this.x.__addChild(this),this.y.__addChild(this),c(l,"__attach",this,3)([])}},{key:"__detach",value:function(){this.x.__removeChild(this),this.y.__removeChild(this),c(l,"__detach",this,3)([])}},{key:"__makeNative",value:function(t){this.x.__makeNative(t),this.y.__makeNative(t),c(l,"__makeNative",this,3)([t])}}])})(o.default)},316,[1,11,12,18,20,21,23,312,308,32]);
__d(function(g,_r,_i,a,_m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;t(_r(d[1]));var i=t(_r(d[2])),e=t(_r(d[3])),s=t(_r(d[4])),n=t(_r(d[5])),o=t(_r(d[6])),l=t(_r(d[7])),r=(t(_r(d[8])),(function(t,i){if("function"==typeof WeakMap)var e=new WeakMap,s=new WeakMap;return(function(t,i){if(!i&&t&&t.__esModule)return t;var n,o,l={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return l;if(n=i?s:e){if(n.has(t))return n.get(t);n.set(t,l)}for(var r in t)"default"!==r&&{}.hasOwnProperty.call(t,r)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,r))&&(o.get||o.set)?n(l,r,o):l[r]=t[r]);return l})(t,i)})(_r(d[9]))),h=t(_r(d[10])),f=t(_r(d[11]));function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}function _(t,i,e,s){var l=(0,o.default)((0,n.default)(1&s?t.prototype:t),i,e);return 2&s&&"function"==typeof l?function(t){return l.apply(e,t)}:l}_e.default=(function(t){function o(t){var e,l,h,_,m,c,p,v,y,V,T,b,M;if((0,i.default)(this,o),v=this,y=o,V=[t],y=(0,n.default)(y),(p=(0,s.default)(v,u()?Reflect.construct(y,V||[],(0,n.default)(v).constructor):y.apply(v,V)))._overshootClamping=null!=(e=t.overshootClamping)&&e,p._restDisplacementThreshold=null!=(l=t.restDisplacementThreshold)?l:.001,p._restSpeedThreshold=null!=(h=t.restSpeedThreshold)?h:.001,p._initialVelocity=null!=(_=t.velocity)?_:0,p._lastVelocity=null!=(m=t.velocity)?m:0,p._toValue=t.toValue,p._delay=null!=(c=t.delay)?c:0,p._platformConfig=t.platformConfig,void 0!==t.stiffness||void 0!==t.damping||void 0!==t.mass)(0,f.default)(void 0===t.bounciness&&void 0===t.speed&&void 0===t.tension&&void 0===t.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),p._stiffness=null!=(T=t.stiffness)?T:100,p._damping=null!=(b=t.damping)?b:10,p._mass=null!=(M=t.mass)?M:1;else if(void 0!==t.bounciness||void 0!==t.speed){var P,D;(0,f.default)(void 0===t.tension&&void 0===t.friction&&void 0===t.stiffness&&void 0===t.damping&&void 0===t.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var C=r.fromBouncinessAndSpeed(null!=(P=t.bounciness)?P:8,null!=(D=t.speed)?D:12);p._stiffness=C.stiffness,p._damping=C.damping,p._mass=1}else{var S,k,A=r.fromOrigamiTensionAndFriction(null!=(S=t.tension)?S:40,null!=(k=t.friction)?k:7);p._stiffness=A.stiffness,p._damping=A.damping,p._mass=1}return(0,f.default)(p._stiffness>0,'Stiffness value must be greater than 0'),(0,f.default)(p._damping>0,'Damping value must be greater than 0'),(0,f.default)(p._mass>0,'Mass value must be greater than 0'),p}return(0,l.default)(o,t),(0,e.default)(o,[{key:"__getNativeAnimationConfig",value:function(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!=(t=this._initialVelocity)?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig,debugID:this.__getDebugID()}}},{key:"start",value:function(t,i,e,s,n){var l=this;if(_(o,"start",this,3)([t,i,e,s,n]),this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=i,this._lastTime=Date.now(),this._frameTime=0,s instanceof o){var r=s.getInternalState();this._lastPosition=r.lastPosition,this._lastVelocity=r.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=r.lastTime}var h=function(){l.__startAnimationIfNative(n)||l.onUpdate()};this._delay?this._timeout=setTimeout(h,this._delay):h()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var i=(t-this._lastTime)/1e3;this._frameTime+=i;var e=this._damping,s=this._mass,n=this._stiffness,o=-this._initialVelocity,l=e/(2*Math.sqrt(n*s)),r=Math.sqrt(n/s),h=r*Math.sqrt(1-l*l),f=this._toValue-this._startPosition,u=0,_=0,m=this._frameTime;if(l<1){var c=Math.exp(-l*r*m);u=this._toValue-c*((o+l*r*f)/h*Math.sin(h*m)+f*Math.cos(h*m)),_=l*r*c*(Math.sin(h*m)*(o+l*r*f)/h+f*Math.cos(h*m))-c*(Math.cos(h*m)*(o+l*r*f)-h*f*Math.sin(h*m))}else{var p=Math.exp(-r*m);u=this._toValue-p*(f+(o+r*f)*m),_=p*(o*(m*r-1)+m*f*(r*r))}if(this._lastTime=t,this._lastPosition=u,this._lastVelocity=_,this._onUpdate(u),this.__active){var v=!1;this._overshootClamping&&0!==this._stiffness&&(v=this._startPosition<this._toValue?u>this._toValue:u<this._toValue);var y=Math.abs(_)<=this._restSpeedThreshold,V=!0;if(0!==this._stiffness&&(V=Math.abs(this._toValue-u)<=this._restDisplacementThreshold),v||y&&V)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__notifyAnimationEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){_(o,"stop",this,3)([]),clearTimeout(this._timeout),null!=this._animationFrame&&g.cancelAnimationFrame(this._animationFrame),this.__notifyAnimationEnd({finished:!1})}}])})(h.default)},317,[1,318,11,12,18,20,21,23,319,320,298,32]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(o){throw new TypeError('"'+o+'" is read-only')},m.exports.__esModule=!0,m.exports.default=m.exports},318,[]);
__d(function(_g,_r,_i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.getRgbaValueAndNativeColor=y;var e=t(_r(d[1])),a=t(_r(d[2])),i=t(_r(d[3])),n=t(_r(d[4])),s=t(_r(d[5])),r=t(_r(d[6])),l=t(_r(d[7])),u=t(_r(d[8])),f=(function(t,e){if("function"==typeof WeakMap)var a=new WeakMap,i=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var n,s,r={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return r;if(n=e?i:a){if(n.has(t))return n.get(t);n.set(t,r)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((s=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(s.get||s.set)?n(r,l,s):r[l]=t[l]);return r})(t,e)})(_r(d[9])),o=t(_r(d[10]));function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_=function(){return!!t})()}function h(t,e,a,i){var r=(0,s.default)((0,n.default)(1&i?t.prototype:t),e,a);return 2&i&&"function"==typeof r?function(t){return r.apply(a,t)}:r}var c=l.default.API,v={r:0,g:0,b:0,a:1};function g(t){if(null==t)return null;if(b(t))return t;var e=(0,u.default)(t);if(null==e)return null;if('object'==typeof e){var a=(0,_r(d[11]).processColorObject)(e);if(null!=a)return a}else if('number'==typeof e){return{r:(4278190080&e)>>>24,g:(16711680&e)>>>16,b:(65280&e)>>>8,a:(255&e)/255}}return null}function b(t){return t&&'number'==typeof t.r&&'number'==typeof t.g&&'number'==typeof t.b&&'number'==typeof t.a}function p(t){return t&&t.r instanceof f.default&&t.g instanceof f.default&&t.b instanceof f.default&&t.a instanceof f.default}function y(t){var e,a=null!=(e=g(t))?e:v;return b(a)?{rgbaValue:a}:{nativeColor:a,rgbaValue:v}}_e.default=(function(t){function s(t,a){var r,l,u,o;(0,e.default)(this,s),l=this,u=s,o=[a],u=(0,n.default)(u),(r=(0,i.default)(l,_()?Reflect.construct(u,o||[],(0,n.default)(l).constructor):u.apply(l,o)))._suspendCallbacks=0;var h=null!=t?t:v;if(p(h)){var c=h;r.r=c.r,r.g=c.g,r.b=c.b,r.a=c.a}else{var g=y(h),b=g.rgbaValue,C=g.nativeColor;C&&(r.nativeColor=C),r.r=new f.default(b.r),r.g=new f.default(b.g),r.b=new f.default(b.b),r.a=new f.default(b.a)}return null!=a&&a.useNativeDriver&&r.__makeNative(),r}return(0,r.default)(s,t),(0,a.default)(s,[{key:"setValue",value:function(t){var e,a=this,i=!1;if(this.__isNative){var n=this.__getNativeTag();c.setWaitingForIdentifier(n.toString())}var s=null!=(e=g(t))?e:v;if(this._withSuspendedCallbacks(function(){if(b(s)){var t=s;a.r.setValue(t.r),a.g.setValue(t.g),a.b.setValue(t.b),a.a.setValue(t.a),null!=a.nativeColor&&(a.nativeColor=null,i=!0)}else{var e=s;a.nativeColor!==e&&(a.nativeColor=e,i=!0)}}),this.__isNative){var r=this.__getNativeTag();i&&c.updateAnimatedNodeConfig(r,this.__getNativeConfig()),c.unsetWaitingForIdentifier(r.toString())}else(0,f.flushValue)(this);this.__callListeners(this.__getValue())}},{key:"setOffset",value:function(t){this.r.setOffset(t.r),this.g.setOffset(t.g),this.b.setOffset(t.b),this.a.setOffset(t.a)}},{key:"flattenOffset",value:function(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}},{key:"extractOffset",value:function(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}},{key:"stopAnimation",value:function(t){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),t&&t(this.__getValue())}},{key:"resetAnimation",value:function(t){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),t&&t(this.__getValue())}},{key:"__getValue",value:function(){return null!=this.nativeColor?this.nativeColor:`rgba(${this.r.__getValue()}, ${this.g.__getValue()}, ${this.b.__getValue()}, ${this.a.__getValue()})`}},{key:"__attach",value:function(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),h(s,"__attach",this,3)([])}},{key:"__detach",value:function(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),h(s,"__detach",this,3)([])}},{key:"_withSuspendedCallbacks",value:function(t){this._suspendCallbacks++,t(),this._suspendCallbacks--}},{key:"__callListeners",value:function(t){0===this._suspendCallbacks&&h(s,"__callListeners",this,3)([t])}},{key:"__makeNative",value:function(t){this.r.__makeNative(t),this.g.__makeNative(t),this.b.__makeNative(t),this.a.__makeNative(t),h(s,"__makeNative",this,3)([t])}},{key:"__getNativeConfig",value:function(){return{type:'color',r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor,debugID:this.__getDebugID()}}}])})(o.default)},319,[1,11,12,18,20,21,23,299,56,312,308,58]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}Object.defineProperty(e,"__esModule",{value:!0}),e.fromBouncinessAndSpeed=function(o,u){function f(n,t,o){return(n-t)/(o-t)}function c(n,t,o){return t+n*(o-t)}function s(n,t,o){return n*o+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function M(n){return 45e-8*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var h=f(o/1.7,0,20);h=c(h,0,.8);var w=c(f(u/1.7,0,20),.5,200),v=(_=h,O=w,l=O<=18?(b=O,7e-4*Math.pow(b,3)-.031*Math.pow(b,2)+.64*b+1.28):O>18&&O<=44?p(O):M(O),A=.01,s(2*_-_*_,l,A));var _,l,A;var O,b;return{stiffness:n(w),damping:t(v)}},e.fromOrigamiTensionAndFriction=function(o,u){return{stiffness:n(o),damping:t(u)}}},320,[]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;t(_r(d[1]));var n,e=t(_r(d[2])),o=t(_r(d[3])),u=t(_r(d[4])),r=t(_r(d[5])),s=t(_r(d[6])),_=t(_r(d[7])),f=(t(_r(d[8])),t(_r(d[9])));function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function h(t,n,e,o){var u=(0,s.default)((0,r.default)(1&o?t.prototype:t),n,e);return 2&o&&"function"==typeof u?function(t){return u.apply(e,t)}:u}function c(){if(!n){var t=_r(d[10]).default;n=t.inOut(t.ease)}return n}_e.default=(function(t){function n(t){var o,s,_,f,h,p,v;return(0,e.default)(this,n),h=this,p=n,v=[t],p=(0,r.default)(p),(f=(0,u.default)(h,l()?Reflect.construct(p,v||[],(0,r.default)(h).constructor):p.apply(h,v)))._toValue=t.toValue,f._easing=null!=(o=t.easing)?o:c(),f._duration=null!=(s=t.duration)?s:500,f._delay=null!=(_=t.delay)?_:0,f._platformConfig=t.platformConfig,f}return(0,_.default)(n,t),(0,o.default)(n,[{key:"__getNativeAnimationConfig",value:function(){for(var t=[],n=Math.round(this._duration/16.666666666666668),e=0;e<n;e++)t.push(this._easing(e/n));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig,debugID:this.__getDebugID()}}},{key:"start",value:function(t,e,o,u,r){var s=this;h(n,"start",this,3)([t,e,o,u,r]),this._fromValue=t,this._onUpdate=e;var _=function(){s._startTime=Date.now(),s.__startAnimationIfNative(r)||(0===s._duration?(s._onUpdate(s._toValue),s.__notifyAnimationEnd({finished:!0})):s._animationFrame=requestAnimationFrame(function(){return s.onUpdate()}))};this._delay?this._timeout=setTimeout(_,this._delay):_()}},{key:"onUpdate",value:function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__notifyAnimationEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){h(n,"stop",this,3)([]),clearTimeout(this._timeout),null!=this._animationFrame&&g.cancelAnimationFrame(this._animationFrame),this.__notifyAnimationEnd({finished:!1})}}])})(f.default)},321,[1,318,11,12,18,20,21,23,319,298,314]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){return s(e,null)},_e.unstable_createAnimatedComponentWithAllowlist=s;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),u=e(_r(d[4])),l=e(_r(d[5])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((l=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(l.get||l.set)?u(o,f,l):o[f]=e[f]);return o})(e,t)})(_r(d[6])),f=_r(d[7]),i=["ref"];function s(e,s){var c=(0,r.default)(s),p=function(r){var s=r.ref,p=(0,n.default)(r,i),y=c(p),_=(0,t.default)(y,2),v=_[0],b=_[1],j=(0,l.default)(b,s),M=v.passthroughAnimatedPropExplicitValues,O=v.style,h=null==M?void 0:M.style,w=(0,o.useMemo)(function(){return(0,u.default)(O,h)},[h,O]);return(0,f.jsx)(e,Object.assign({},v,M,{style:w,ref:j}))};return p.displayName=`Animated(${e.displayName||'Anonymous'})`,p}},322,[1,34,4,323,8,327,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){var r=(0,_r(d[9]).createAnimatedPropsMemoHook)(e),s=i.shouldUseSetNativePropsInFabric();return function(b){var N=(0,l.useReducer)(function(e){return e+1},0),y=(0,t.default)(N,2)[1],P=(0,l.useRef)(null),h=(0,l.useRef)(null),S=r(function(){return new n.default(b,function(){return null==P.current?void 0:P.current()},e)},b);(0,l.useEffect)(function(){o.default.shouldSignalBatch||o.default.API.flushQueue();var e=null;return S.__isNative&&(e=o.default.nativeEventEmitter.addListener('onUserDrivenAnimationEnded',function(e){S.update()})),function(){var t;null==(t=e)||t.remove()}}),v(S);var A=(0,l.useCallback)(function(e){S.setNativeView(e),P.current=function(){var t=_(e);if(S.__isNative){var n=i.cxxNativeAnimatedEnabled()&&!i.disableFabricCommitInCXXAnimated()&&i.cxxNativeAnimatedRemoveJsSync();t&&!n&&y()}else{if('object'!=typeof e||'function'!=typeof(null==e?void 0:e.setNativeProps))return y();if(!t)return e.setNativeProps(S.__getAnimatedValue());if(!s)return y();e.setNativeProps(S.__getAnimatedValue()),null!=h.current&&clearTimeout(h.current),h.current=setTimeout(function(){h.current=null,y()},48)}};var n=p(e),r=[],u=S.__getNativeAnimatedEventTuples();for(var o of u){var l=(0,t.default)(o,2),f=l[0],v=l[1];v.__attach(n,f),c(v,r)}return function(){for(var e of(P.current=null,u)){var i=(0,t.default)(e,2),o=i[0];i[1].__detach(n,o)}for(var l of r){var f=l.propValue,c=l.listenerId;f.removeListener(c)}}},[S]),R=(0,u.default)(A);return[f(S,b),R]}};var t=e(_r(d[1])),n=(e(_r(d[2])),e(_r(d[3]))),r=e(_r(d[4])),u=e(_r(d[5])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?u(o,l,i):o[l]=e[l]);return o})(e,t)})(_r(d[6])),o=e(_r(d[7])),l=_r(d[8]);function f(e,t){return Object.assign({},e.__getValueWithStaticProps(t),{collapsable:!1})}function c(e,t){if(e instanceof r.default){var n=e.addListener(function(){});t.push({propValue:e,listenerId:n})}else if(Array.isArray(e))for(var u of e)c(u,t);else e instanceof Object&&s(e,t)}function s(e,t){for(var n in e){c(e[n],t)}}function v(e){var t=(0,l.useRef)(!1);(0,l.useInsertionEffect)(function(){return t.current=!0,e.__attach(),function(){t.current=!1,queueMicrotask(function(){t.current&&e.__restoreDefaultValues(),e.__detach()})}},[e])}function p(e){return'object'==typeof e&&'function'==typeof(null==e?void 0:e.getScrollableNode)?e.getScrollableNode():e}function _(e){var t;return(0,_r(d[10]).isPublicInstance)(e)||(0,_r(d[10]).isPublicInstance)(null==e||null==e.getNativeScrollRef?void 0:e.getNativeScrollRef())||(0,_r(d[10]).isPublicInstance)(null==e||null==e.getScrollResponder||null==(t=e.getScrollResponder())||null==t.getNativeScrollRef?void 0:t.getNativeScrollRef())}},323,[1,34,306,305,312,324,50,299,75,325,326]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var t=(0,u.useRef)(void 0);return(0,u.useCallback)(function(u){t.current&&(t.current(),t.current=void 0),null!=u&&(t.current=n(u))},[n])};var u=r(d[0])},324,[75]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.areCompositeKeysEqual=y,e.createAnimatedPropsMemoHook=function(n){return function(t,l){var u=(0,o.useMemo)(function(){return s(l,n)},[l]),f=(0,o.useRef)(),c=f.current,v=null!=c&&y(c.compositeKey,u)?c:{compositeKey:u,node:t()};return(0,o.useInsertionEffect)(function(){f.current=v},[v]),v.node}},e.createCompositeKeyForProps=s;var t,l=n(r(d[1])),u=n(r(d[2])),f=n(r(d[3])),o=r(d[4]);function s(n,t){for(var f=null,o=Object.keys(n),s=0,y=o.length;s<y;s++){var O=o[s],b=n[O];if(null==t||j(t,O)){var A=void 0;if('style'===O){var h=(0,u.default)(b);null!=h&&(A=v(h,null==t?void 0:t.style))}else b instanceof l.default||b instanceof r(d[5]).AnimatedEvent?A=b:Array.isArray(b)?A=null==t?b:c(b):(0,r(d[6]).isPlainObject)(b)&&(A=null==t?b:v(b));null!=A&&(null==f&&(f={}),f[O]=A)}}return f}function c(n){for(var t=null,u=0,f=n.length;u<f;u++){var o=n[u],s=void 0;o instanceof l.default?s=o:Array.isArray(o)?s=c(o):(0,r(d[6]).isPlainObject)(o)&&(s=v(o)),null!=s&&(null==t&&(t=new Array(n.length).fill(null)),t[u]=s)}return t}function v(n,t){for(var u=null,f=Object.keys(n),o=0,s=f.length;o<s;o++){var y=f[o];if(null==t||j(t,y)){var O=n[y],b=void 0;O instanceof l.default?b=O:Array.isArray(O)?b=c(O):(0,r(d[6]).isPlainObject)(O)&&(b=v(O)),null!=b&&(null==u&&(u={}),u[y]=b)}}return u}function y(n,t,u){if(n===t)return!0;if(null===n||null===t)return!1;var f=n,o=t,s=Object.keys(f),c=s.length;if(c!==Object.keys(o).length)return!1;for(var v=0;v<c;v++){var y=s[v];if(!j(o,y))return!1;var b=f[y],A=o[y];if('style'===y){if(!O(b,A))return!1}else if(b instanceof l.default||b instanceof r(d[5]).AnimatedEvent){if(b!==A)return!1}else if(null==u){if(b!==A)return!1}else if(!O(b,A))return!1}return!0}function O(n,t){if(n===t)return!0;if(n instanceof l.default)return n===t;if(Array.isArray(n)){if(!Array.isArray(t))return!1;var u=n.length;if(u!==t.length)return!1;for(var o=0;o<u;o++)if(!O(n[o],t[o]))return!1;return!0}if((0,r(d[6]).isPlainObject)(n)){if(!(0,r(d[6]).isPlainObject)(t))return!1;var s=Object.keys(n),c=s.length;if(c!==Object.keys(t).length)return!1;for(var v=0;v<c;v++){var y=s[v];if(!j((0,f.default)(t),y)||!O(n[y],t[y]))return!1}return!0}return!1}var b=Object.prototype.hasOwnProperty,j=null!=(t=Object.hasOwn)?t:function(n,t){return b.call(n,t)}},325,[1,306,9,81,75,311,307]);
__d(function(g,r,i,a,m,e,d){function n(n){return null!=n&&null!=n._internalInstanceHandle&&null!=n._internalInstanceHandle.stateNode&&null!=n._internalInstanceHandle.stateNode.canonical}Object.defineProperty(e,"__esModule",{value:!0}),e.isPublicInstance=function(l){return null!=l&&(null!=l.__nativeTag||n(l))}},326,[]);
__d(function(g,_r,_i,a,m,_e,d){var n=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];var f=(0,t.useCallback)(function(n){var e=r.map(function(e){if(null!=e){if('function'==typeof e){var t=e(n);return'function'==typeof t?t:function(){e(null)}}return e.current=n,function(){e.current=null}}});return function(){for(var n of e)null==n||n()}},[].concat(r));return(0,e.default)(f)};var e=n(_r(d[1])),t=(function(n,e){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(n,e){if(!e&&n&&n.__esModule)return n;var u,f,o={__proto__:null,default:n};if(null===n||"object"!=typeof n&&"function"!=typeof n)return o;if(u=e?r:t){if(u.has(n))return u.get(n);u.set(n,o)}for(var c in n)"default"!==c&&{}.hasOwnProperty.call(n,c)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,c))&&(f.get||f.set)?u(o,c,f):o[c]=n[c]);return o})(n,e)})(_r(d[2]))},327,[1,324,75]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),a=t(_r(d[2])),u=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),o=t(_r(d[7])),r=t(_r(d[8])),f=t(_r(d[9]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function h(t,e,a,u){var l=(0,_.default)((0,n.default)(1&u?t.prototype:t),e,a);return 2&u&&"function"==typeof l?function(t){return l.apply(a,t)}:l}_e.default=(function(t){function _(t,a,l){var o,f,h,s;return(0,e.default)(this,_),f=this,h=_,s=[l],h=(0,n.default)(h),(o=(0,u.default)(f,c()?Reflect.construct(h,s||[],(0,n.default)(f).constructor):h.apply(f,s)))._a='number'==typeof t?new r.default(t):t,o._b='number'==typeof a?new r.default(a):a,o}return(0,l.default)(_,t),(0,a.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),h(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(t){return new o.default(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this),h(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),h(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()],debugID:this.__getDebugID()}}}])})(f.default)},328,[1,11,12,18,20,21,23,313,312,308]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),a=t(_r(d[2])),u=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),r=t(_r(d[7])),f=t(_r(d[8]));function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o=function(){return!!t})()}function c(t,e,a,u){var l=(0,_.default)((0,n.default)(1&u?t.prototype:t),e,a);return 2&u&&"function"==typeof l?function(t){return l.apply(a,t)}:l}_e.default=(function(t){function _(t,a,l,r){var f,c,h,s;return(0,e.default)(this,_),c=this,h=_,s=[r],h=(0,n.default)(h),(f=(0,u.default)(c,o()?Reflect.construct(h,s||[],(0,n.default)(c).constructor):h.apply(c,s)))._a=t,f._min=a,f._max=l,f._value=f._lastValue=f._a.__getValue(),f}return(0,l.default)(_,t),(0,a.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),c(_,"__makeNative",this,3)([t])}},{key:"interpolate",value:function(t){return new r.default(this,t)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),e=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+e,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this),c(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),c(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max,debugID:this.__getDebugID()}}}])})(f.default)},329,[1,11,12,18,20,21,23,313,308]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),a=e(_r(d[2])),n=e(_r(d[3])),u=e(_r(d[4])),o=e(_r(d[5])),_=e(_r(d[6])),r=e(_r(d[7])),l=e(_r(d[8])),f=e(_r(d[9])),s=e(_r(d[10]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function h(e,t,a,n){var _=(0,o.default)((0,u.default)(1&n?e.prototype:e),t,a);return 2&n&&"function"==typeof _?function(e){return _.apply(a,e)}:_}_e.default=(function(e){function o(e,a,_){var r,s,h,v;return(0,t.default)(this,o),s=this,h=o,v=[_],h=(0,u.default)(h),(r=(0,n.default)(s,c()?Reflect.construct(h,v||[],(0,u.default)(s).constructor):h.apply(s,v)))._warnedAboutDivideByZero=!1,(0===a||a instanceof l.default&&0===a.__getValue())&&console.error('Detected potential division by zero in AnimatedDivision'),r._a='number'==typeof e?new f.default(e):e,r._b='number'==typeof a?new f.default(a):a,r}return(0,_.default)(o,e),(0,a.default)(o,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),h(o,"__makeNative",this,3)([e])}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error('Detected division by zero in AnimatedDivision'),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}},{key:"interpolate",value:function(e){return new r.default(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this),h(o,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),h(o,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()],debugID:this.__getDebugID()}}}])})(s.default)},330,[1,11,12,18,20,21,23,313,306,312,308]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),u=t(_r(d[2])),a=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),o=t(_r(d[7])),r=t(_r(d[8]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function c(t,e,u,a){var l=(0,_.default)((0,n.default)(1&a?t.prototype:t),e,u);return 2&a&&"function"==typeof l?function(t){return l.apply(u,t)}:l}_e.default=(function(t){function _(t,u,l){var o,r,c,s;return(0,e.default)(this,_),r=this,c=_,s=[l],c=(0,n.default)(c),(o=(0,a.default)(r,f()?Reflect.construct(c,s||[],(0,n.default)(r).constructor):c.apply(r,s)))._a=t,o._modulus=u,o}return(0,l.default)(_,t),(0,u.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),c(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(t){return new o.default(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),c(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),c(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus,debugID:this.__getDebugID()}}}])})(r.default)},331,[1,11,12,18,20,21,23,313,308]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),a=t(_r(d[2])),u=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),o=t(_r(d[7])),r=t(_r(d[8])),f=t(_r(d[9]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function h(t,e,a,u){var l=(0,_.default)((0,n.default)(1&u?t.prototype:t),e,a);return 2&u&&"function"==typeof l?function(t){return l.apply(a,t)}:l}_e.default=(function(t){function _(t,a,l){var o,f,h,s;return(0,e.default)(this,_),f=this,h=_,s=[l],h=(0,n.default)(h),(o=(0,u.default)(f,c()?Reflect.construct(h,s||[],(0,n.default)(f).constructor):h.apply(f,s)))._a='number'==typeof t?new r.default(t):t,o._b='number'==typeof a?new r.default(a):a,o}return(0,l.default)(_,t),(0,a.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),h(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(t){return new o.default(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this),h(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),h(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()],debugID:this.__getDebugID()}}}])})(f.default)},332,[1,11,12,18,20,21,23,313,312,308]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),a=t(_r(d[2])),u=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),r=t(_r(d[7])),o=t(_r(d[8])),f=t(_r(d[9]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function h(t,e,a,u){var l=(0,_.default)((0,n.default)(1&u?t.prototype:t),e,a);return 2&u&&"function"==typeof l?function(t){return l.apply(a,t)}:l}_e.default=(function(t){function _(t,a,l){var r,f,h,s;return(0,e.default)(this,_),f=this,h=_,s=[l],h=(0,n.default)(h),(r=(0,u.default)(f,c()?Reflect.construct(h,s||[],(0,n.default)(f).constructor):h.apply(f,s)))._a='number'==typeof t?new o.default(t):t,r._b='number'==typeof a?new o.default(a):a,r}return(0,l.default)(_,t),(0,a.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),h(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(t){return new r.default(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this),h(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),h(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()],debugID:this.__getDebugID()}}}])})(f.default)},333,[1,11,12,18,20,21,23,313,312,308]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),_=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),l=t(_r(d[6])),r=t(_r(d[7])),s=t(_r(d[8]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function c(t,e,n,_){var l=(0,o.default)((0,u.default)(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof l?function(t){return l.apply(n,t)}:l}_e.default=(function(t){function o(t,n,l,s,c,v){var h,p,k,y;return(0,e.default)(this,o),p=this,k=o,y=[v],k=(0,u.default)(k),(h=(0,_.default)(p,f()?Reflect.construct(k,y||[],(0,u.default)(p).constructor):k.apply(p,y)))._value=t,h._parent=n,h._animationClass=l,h._animationConfig=s,h._useNativeDriver=r.default.shouldUseNativeDriver(s),h._callback=c,h.__attach(),h}return(0,l.default)(o,t),(0,n.default)(o,[{key:"__makeNative",value:function(t){this.__isNative=!0,this._parent.__makeNative(t),c(o,"__makeNative",this,3)([t]),this._value.__makeNative(t)}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){if(this._parent.__addChild(this),this._useNativeDriver){var t=this._animationConfig.platformConfig;this.__makeNative(t)}c(o,"__attach",this,3)([])}},{key:"__detach",value:function(){this._parent.__removeChild(this),c(o,"__detach",this,3)([])}},{key:"update",value:function(){this._value.animate(new this._animationClass(Object.assign({},this._animationConfig,{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var t=new this._animationClass(Object.assign({},this._animationConfig,{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:r.default.generateNewAnimationId(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag(),debugID:this.__getDebugID()}}}])})(s.default)},334,[1,11,12,18,20,21,23,299,306]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),v=!1;function p(t){return function(n){var u=null==n?n:function(){if(v)console.warn('Ignoring recursive animation callback when running mock animations');else{v=!0;try{n.apply(void 0,arguments)}finally{v=!1}}};t(u)}}var E={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}},h=function(t){return Object.assign({},E,{start:p(function(n){t.forEach(function(t){return t.start()}),null==n||n({finished:!0})})})};e.default={Value:c.default,ValueXY:s.default,Color:l.default,Interpolation:o.default,Node:f.default,decay:function(t,n){return E},timing:function(t,n){var u=t;return Object.assign({},E,{start:p(function(t){u.setValue(n.toValue),null==t||t({finished:!0})})})},spring:function(t,n){var u=t;return Object.assign({},E,{start:p(function(t){u.setValue(n.toValue),null==t||t({finished:!0})})})},add:n.default.add,subtract:n.default.subtract,divide:n.default.divide,multiply:n.default.multiply,modulo:n.default.modulo,diffClamp:n.default.diffClamp,delay:function(t){return E},sequence:function(t){return h(t)},parallel:function(t,n){return h(t)},stagger:function(t,n){return h(n)},loop:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).iterations;return E},event:n.default.event,createAnimatedComponent:u.default,attachNativeEvent:r(d[8]).attachNativeEventImpl,forkEvent:n.default.forkEvent,unforkEvent:n.default.unforkEvent,Event:r(d[8]).AnimatedEvent}},335,[1,296,322,319,313,306,312,316,311]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},336,[1,337,322,75]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),s=C(_r(d[7])),u=e(_r(d[8])),f=e(_r(d[9])),c=e(_r(d[10])),p=C(_r(d[11])),h=_r(d[12]),v=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function C(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(C=function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?r(l,s,o):l[s]=e[s]);return l})(e,t)}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var b=f.default.VirtualizedList,_=f.default.keyExtractor;function w(e){return null!=e?e:1}function I(e){return'number'==typeof Object(e).length}var k=(function(e){function f(e){var t,i,l,s;return(0,n.default)(this,f),i=this,l=f,s=[e],l=(0,o.default)(l),(t=(0,r.default)(i,y()?Reflect.construct(l,s||[],(0,o.default)(i).constructor):l.apply(i,s)))._virtualizedListPairs=[],t._captureRef=function(e){t._listRef=e},t._getItem=function(e,n){var i=w(t.props.numColumns);if(i>1){for(var r=[],o=0;o<i;o++){var l=n*i+o;if(l<e.length){var s=e[l];r.push(s)}}return r}return e[n]},t._getItemCount=function(e){if(null!=e&&I(e)){var n=w(t.props.numColumns);return n>1?Math.ceil(e.length/n):e.length}return 0},t._keyExtractor=function(e,n){var i,r=w(t.props.numColumns),o=null!=(i=t.props.keyExtractor)?i:_;return r>1?(_r(d[13])(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",r),e.map(function(e,t){return o(e,n*r+t)}).join(':')):o(e,n)},t._renderer=function(e,t,n,i,r){var o=w(i),l=function(n){return e?(0,h.jsx)(e,Object.assign({},n)):t?t(n):null},s=function(e){if(o>1){var t=e.item,i=e.index;return _r(d[13])(Array.isArray(t),'Expected array of items with numColumns > 1'),(0,h.jsx)(u.default,{style:_r(d[14]).default.compose(R.row,n),children:t.map(function(t,n){var r=l({item:t,index:i*o+n,separators:e.separators});return null!=r?(0,h.jsx)(p.Fragment,{children:r},n):null})})}return l(e)};return e?{ListItemComponent:s}:{renderItem:s}},t._memoizedRenderer=(0,c.default)(t._renderer),t._checkProps(t.props),t.props.viewabilityConfigCallbackPairs?t._virtualizedListPairs=t.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:t._createOnViewableItemsChanged(e.onViewableItemsChanged)}}):t.props.onViewableItemsChanged&&t._virtualizedListPairs.push({viewabilityConfig:t.props.viewabilityConfig,onViewableItemsChanged:t._createOnViewableItemsChanged(function(){var e;return _r(d[13])(t.props.onViewableItemsChanged,"Changing the nullability of onViewableItemsChanged is not supported. Once a function or null is supplied that cannot be changed."),(e=t.props).onViewableItemsChanged.apply(e,arguments)})}),t}return(0,l.default)(f,e),(0,i.default)(f,[{key:"scrollToEnd",value:function(e){this._listRef&&this._listRef.scrollToEnd(e)}},{key:"scrollToIndex",value:function(e){this._listRef&&this._listRef.scrollToIndex(e)}},{key:"scrollToItem",value:function(e){this._listRef&&this._listRef.scrollToItem(e)}},{key:"scrollToOffset",value:function(e){this._listRef&&this._listRef.scrollToOffset(e)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"setNativeProps",value:function(e){this._listRef&&this._listRef.setNativeProps(e)}},{key:"componentDidUpdate",value:function(e){_r(d[13])(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),_r(d[13])(null==e.onViewableItemsChanged==(null==this.props.onViewableItemsChanged),'Changing onViewableItemsChanged nullability on the fly is not supported'),_r(d[13])(!_r(d[15]).default(e.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),_r(d[13])(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}},{key:"_checkProps",value:function(e){var t=e.getItem,n=e.getItemCount,i=e.horizontal,r=e.columnWrapperStyle,o=e.onViewableItemsChanged,l=e.viewabilityConfigCallbackPairs,s=w(this.props.numColumns);_r(d[13])(!t&&!n,'FlatList does not support custom data formats.'),s>1?_r(d[13])(!i,'numColumns does not support horizontal.'):_r(d[13])(!r,'columnWrapperStyle not supported for single column lists'),_r(d[13])(!(o&&l),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(e,t){var n,i=w(this.props.numColumns),r=null!=(n=this.props.keyExtractor)?n:_;t.item.forEach(function(n,o){_r(d[13])(null!=t.index,'Missing index!');var l=t.index*i+o;e.push(Object.assign({},t,{item:n,key:r(n,l),index:l}))})}},{key:"_createOnViewableItemsChanged",value:function(e){var t=this;return function(n){var i=w(t.props.numColumns);if(e)if(i>1){var r=[],o=[];n.viewableItems.forEach(function(e){return t._pushMultiColumnViewable(o,e)}),n.changed.forEach(function(e){return t._pushMultiColumnViewable(r,e)}),e({viewableItems:o,changed:r})}else e(n)}}},{key:"render",value:function(){var e,n=this.props,i=n.numColumns,r=n.columnWrapperStyle,o=n.removeClippedSubviews,l=n.strictMode,u=void 0!==l&&l,f=(0,t.default)(n,v),c=u?this._memoizedRenderer:this._renderer;return(0,h.jsx)(b,Object.assign({},f,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=o,s.shouldUseRemoveClippedSubviewsAsDefaultOnIOS(),null==e||e)},c(this.props.ListItemComponent,this.props.renderItem,r,i,this.props.extraData)))}}])})(p.PureComponent),R=_r(d[14]).default.create({row:{flexDirection:'row'}});_e.default=k},337,[1,4,11,12,18,20,23,50,72,338,353,75,244,32,6,137]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={keyExtractor:r(d[0]).keyExtractor,get VirtualizedList(){return r(d[1]).default},get VirtualizedSectionList(){return r(d[2]).default},get VirtualizedListContextResetter(){return r(d[3]).VirtualizedListContextResetter},get ViewabilityHelper(){return r(d[4]).default},get FillRateHelper(){return r(d[5]).default}}},338,[339,340,352,349,347,344]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.computeWindowedRenderLimits=function(t,f,o,l,s,u){var c=t.getItemCount(t.data);if(0===c)return{first:0,last:-1};var v=u.offset,p=u.velocity,h=u.visibleLength,M=u.zoomScale,y=void 0===M?1:M,b=Math.max(0,v),w=b+h,x=(o-1)*h,_=p>1?'after':p<-1?'before':'none',k=Math.max(0,b-.5*x),O=Math.max(0,w+.5*x);if(s.getCellMetricsApprox(c-1,t).offset*y<k)return{first:Math.max(0,c-1-f),last:c-1};var C=n([k,b,w,O],t,s,y),j=(0,e.default)(C,4),W=j[0],L=j[1],P=j[2],S=j[3];W=null==W?0:W,L=null==L?Math.max(0,W):L,S=null==S?c-1:S,P=null==P?Math.min(S,L+f-1):P;var z={first:L,last:P},A=i(l,z);for(;!(L<=W&&P>=S);){var E=A>=f,I=void 0,R=void 0;r.fixVirtualizeListCollapseWindowSize()?(I=L<=l.first,R=P>=l.last):(I=L<=l.first||L>l.last,R=P>=l.last||P<l.first);var B=L>W&&(!E||!I),D=P<S&&(!E||!R);if(E&&!B&&!D)break;!B||'after'===_&&D&&R||(I&&A++,L--),!D||'before'===_&&B&&I||(R&&A++,P++)}if(!(P>=L&&L>=0&&P<c&&L>=W&&P<=S&&L<=z.first&&P>=z.last))throw new Error('Bad window calculation '+JSON.stringify({first:L,last:P,itemCount:c,overscanFirst:W,overscanLast:S,visible:z}));return{first:L,last:P}},_e.elementsThatOverlapOffsets=n,_e.keyExtractor=function(t,e){if('object'==typeof t&&null!=(null==t?void 0:t.key))return t.key;if('object'==typeof t&&null!=(null==t?void 0:t.id))return t.id;return String(e)},_e.newRangeCount=i;var e=t(_r(d[1])),r=(function(t,e){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,f,o={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return o;if(i=e?n:r){if(i.has(t))return i.get(t);i.set(t,o)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((f=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(f.get||f.set)?i(o,l,f):o[l]=t[l]);return o})(t,e)})(_r(d[2]));function n(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=e.getItemCount(e.data),f=[],o=0;o<t.length;o++)for(var l=t[o],s=0,u=i-1;s<=u;){var c=s+Math.floor((u-s)/2),v=r.getCellMetricsApprox(c,e),p=v.offset*n,h=(v.offset+v.length)*n;if(0===c&&l<p||0!==c&&l<=p)u=c-1;else{if(!(l>h)){f[o]=c;break}s=c+1}}return f}function i(t,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,t.last)-Math.max(e.first,t.first))}},339,[1,34,50]);
__d(function(g,_r,_i2,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),i=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),s=e(_r(d[6])),l=e(_r(d[7])),u=e(_r(d[8])),c=e(_r(d[9])),h=e(_r(d[10])),f=e(_r(d[11])),p=e(_r(d[12])),_=e(_r(d[13])),v=e(_r(d[14])),y=e(_r(d[15])),C=e(_r(d[16])),S=e(_r(d[17])),L=e(_r(d[18])),M=k(_r(d[19])),b=M,I=_r(d[20]),R=k(_r(d[21])),w=_r(d[22]),x=["onContentSizeChange"];function k(e,t){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(k=function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?n:i){if(r.has(e))return r.get(e);r.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?r(s,l,o):s[l]=e[l]);return s})(e,t)}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}var V=!1,O='';function E(e,t){return e*t/2}var z=(function(e){function v(e){var t,i,o,u,c,C;if((0,r.default)(this,v),u=this,c=v,C=[e],c=(0,l.default)(c),(o=(0,s.default)(u,T()?Reflect.construct(c,C||[],(0,l.default)(u).constructor):c.apply(u,C)))._getScrollMetrics=function(){return o._scrollMetrics},o._getOutermostParentListRef=function(){return o._isNestedWithSameOrientation()?o.context.getOutermostParentListRef():o},o._registerAsNestedChild=function(e){o._nestedChildLists.add(e.ref,e.cellKey),o._hasInteracted&&e.ref.recordInteraction()},o._unregisterAsNestedChild=function(e){o._nestedChildLists.remove(e.ref)},o._onUpdateSeparators=function(e,t){e.forEach(function(e){var i=null!=e&&o._cellRefs[e];i&&i.updateSeparatorProps(t)})},o._getSpacerKey=function(e){return e?'height':'width'},o._cellRefs={},o._listMetrics=new _.default,o._footerLength=0,o._hasTriggeredInitialScrollToIndex=!1,o._hasInteracted=!1,o._hasMore=!1,o._hasWarned={},o._headerLength=0,o._hiPriInProgress=!1,o._indicesToKeys=new Map,o._lastFocusedCellKey=null,o._nestedChildLists=new f.default,o._offsetFromParentVirtualizedList=0,o._pendingViewabilityUpdate=!1,o._prevParentOffset=0,o._scrollMetrics={dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},o._scrollRef=null,o._sentStartForContentLength=0,o._sentEndForContentLength=0,o._updateCellsToRenderTimeoutID=null,o._viewabilityTuples=[],o._captureScrollRef=function(e){o._scrollRef=e},o._defaultRenderScrollComponent=function(e){var t,i=e.onRefresh;if(o._isNestedWithSameOrientation()){e.onContentSizeChange;var r=(0,n.default)(e,x);return(0,w.jsx)(I.View,Object.assign({},r))}return i?((0,S.default)('boolean'==typeof e.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(null!=(t=e.refreshing)?t:'undefined')+'`'),(0,w.jsx)(I.ScrollView,Object.assign({},e,{refreshControl:null==e.refreshControl?(0,w.jsx)(I.RefreshControl,{refreshing:e.refreshing,onRefresh:i,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):(0,w.jsx)(I.ScrollView,Object.assign({},e))},o._onCellLayout=function(e,t,i){o._listMetrics.notifyCellLayout({cellIndex:i,cellKey:t,layout:e.nativeEvent.layout,orientation:o._orientation()})&&o._scheduleCellsToRenderUpdate(),o._triggerRemeasureForChildListsInCell(t),o._computeBlankness(),o._updateViewableItems(o.props,o.state.cellsAroundViewport)},o._onCellFocusCapture=function(e){o._lastFocusedCellKey=e,R.deferFlatListFocusChangeRenderUpdate()?o._scheduleCellsToRenderUpdate():o._updateCellsToRender()},o._onCellUnmount=function(e){delete o._cellRefs[e],o._listMetrics.notifyCellUnmounted(e)},o._onLayout=function(e){o._isNestedWithSameOrientation()?o.measureLayoutRelativeToContainingList():o._scrollMetrics.visibleLength=o._selectLength(e.nativeEvent.layout),o.props.onLayout&&o.props.onLayout(e),o._scheduleCellsToRenderUpdate(),o._maybeCallOnEdgeReached()},o._onLayoutEmpty=function(e){o.props.onLayout&&o.props.onLayout(e)},o._onLayoutFooter=function(e){o._triggerRemeasureForChildListsInCell(o._getFooterCellKey()),o._footerLength=o._selectLength(e.nativeEvent.layout)},o._onLayoutHeader=function(e){o._headerLength=o._selectLength(e.nativeEvent.layout)},o._onContentSizeChange=function(e,t){o._listMetrics.notifyListContentLayout({layout:{width:e,height:t},orientation:o._orientation()}),o._maybeScrollToInitialScrollIndex(e,t),o.props.onContentSizeChange&&o.props.onContentSizeChange(e,t),o._scheduleCellsToRenderUpdate(),o._maybeCallOnEdgeReached()},o._convertParentScrollMetrics=function(e){var t=e.offset-o._offsetFromParentVirtualizedList,i=e.visibleLength,n=t-o._scrollMetrics.offset;return{visibleLength:i,contentLength:o._listMetrics.getContentLength(),offset:t,dOffset:n}},o._onScroll=function(e){o._nestedChildLists.forEach(function(t){t._onScroll(e)}),o.props.onScroll&&o.props.onScroll(e);var t=e.timeStamp,i=o._selectLength(e.nativeEvent.layoutMeasurement),n=o._selectLength(e.nativeEvent.contentSize),r=o._offsetFromScrollEvent(e),s=r-o._scrollMetrics.offset;if(o._isNestedWithSameOrientation()){if(0===o._listMetrics.getContentLength())return;var l=o._convertParentScrollMetrics({visibleLength:i,offset:r});i=l.visibleLength,n=l.contentLength,r=l.offset,s=l.dOffset}var u=o._scrollMetrics.timestamp?Math.max(1,t-o._scrollMetrics.timestamp):1,c=s/u;u>500&&o._scrollMetrics.dt>500&&n>5*i&&!o._hasWarned.perf&&((0,h.default)("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:u,prevDt:o._scrollMetrics.dt,contentLength:n}),o._hasWarned.perf=!0);var f=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;o._scrollMetrics={dt:u,dOffset:s,offset:r,timestamp:t,velocity:c,visibleLength:i,zoomScale:f},o.state.pendingScrollUpdateCount>0&&o.setState(function(e){return{pendingScrollUpdateCount:e.pendingScrollUpdateCount-1}}),o._updateViewableItems(o.props,o.state.cellsAroundViewport),o.props&&(o._maybeCallOnEdgeReached(),0!==c&&o._fillRateHelper.activate(),o._computeBlankness(),o._scheduleCellsToRenderUpdate())},o._onScrollBeginDrag=function(e){o._nestedChildLists.forEach(function(t){t._onScrollBeginDrag(e)}),o._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),o._hasInteracted=!0,o.props.onScrollBeginDrag&&o.props.onScrollBeginDrag(e)},o._onScrollEndDrag=function(e){o._nestedChildLists.forEach(function(t){t._onScrollEndDrag(e)});var t=e.nativeEvent.velocity;t&&(o._scrollMetrics.velocity=o._selectOffset(t)),o._computeBlankness(),o.props.onScrollEndDrag&&o.props.onScrollEndDrag(e)},o._onMomentumScrollBegin=function(e){o._nestedChildLists.forEach(function(t){t._onMomentumScrollBegin(e)}),o.props.onMomentumScrollBegin&&o.props.onMomentumScrollBegin(e)},o._onMomentumScrollEnd=function(e){o._nestedChildLists.forEach(function(t){t._onMomentumScrollEnd(e)}),o._scrollMetrics.velocity=0,o._computeBlankness(),o.props.onMomentumScrollEnd&&o.props.onMomentumScrollEnd(e)},o._updateCellsToRender=function(){o._updateViewableItems(o.props,o.state.cellsAroundViewport),o.setState(function(e,t){var i=o._adjustCellsAroundViewport(t,e.cellsAroundViewport,e.pendingScrollUpdateCount),n=v._createRenderMask(t,i,o._getNonViewportRenderRegions(t));return i.first===e.cellsAroundViewport.first&&i.last===e.cellsAroundViewport.last&&n.equals(e.renderMask)?null:{cellsAroundViewport:i,renderMask:n}})},o._createViewToken=function(e,t,i){var n=i.data,r=(0,i.getItem)(n,e);return{index:e,item:r,key:v._keyExtractor(r,e,i),isViewable:t}},o._getNonViewportRenderRegions=function(e){if(!o._lastFocusedCellKey||!o._cellRefs[o._lastFocusedCellKey])return[];var t=o._cellRefs[o._lastFocusedCellKey].props.index,i=e.getItemCount(e.data);if(t>=i||v._getItemKey(e,t)!==o._lastFocusedCellKey)return[];for(var n=t,r=0,s=n-1;s>=0&&r<o._scrollMetrics.visibleLength;s--)n--,r+=o._listMetrics.getCellMetricsApprox(s,e).length;for(var l=t,u=0,c=l+1;c<i&&u<o._scrollMetrics.visibleLength;c++)l++,u+=o._listMetrics.getCellMetricsApprox(c,e).length;return[{first:n,last:l}]},o._checkProps(e),o._fillRateHelper=new p.default(o._listMetrics),o.props.viewabilityConfigCallbackPairs)o._viewabilityTuples=o.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityHelper:new y.default(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}});else{var L=o.props,M=L.onViewableItemsChanged,b=L.viewabilityConfig;M&&o._viewabilityTuples.push({viewabilityHelper:new y.default(b),onViewableItemsChanged:M})}var k=v._initialRenderRegion(e),V=null!=(t=null==(i=o.props.maintainVisibleContentPosition)?void 0:i.minIndexForVisible)?t:0;return o.state={cellsAroundViewport:k,renderMask:v._createRenderMask(e,k),firstVisibleItemKey:o.props.getItemCount(o.props.data)>V?v._getItemKey(o.props,V):null,pendingScrollUpdateCount:null!=o.props.initialScrollIndex&&o.props.initialScrollIndex>0?1:0},o}return(0,u.default)(v,e),(0,o.default)(v,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,i=this.props.getItemCount(this.props.data)-1;if(!(i<0)){var n=this._listMetrics.getCellMetricsApprox(i,this.props),r=Math.max(0,n.offset+n.length+this._footerLength-this._scrollMetrics.visibleLength);this.scrollToOffset({animated:t,offset:r})}}},{key:"scrollToIndex",value:function(e){var t=this.props,i=t.data,n=t.getItemCount,r=t.getItemLayout,o=t.onScrollToIndexFailed,s=e.animated,l=e.index,u=e.viewOffset,c=e.viewPosition;if((0,S.default)(l>=0,`scrollToIndex out of range: requested index ${l} but minimum is 0`),(0,S.default)(n(i)>=1,`scrollToIndex out of range: item length ${n(i)} but minimum is 1`),(0,S.default)(l<n(i),`scrollToIndex out of range: requested index ${l} is out of 0 to ${n(i)-1}`),!r&&l>this._listMetrics.getHighestMeasuredCellIndex())return(0,S.default)(!!o,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void o({averageItemLength:this._listMetrics.getAverageCellLength(),highestMeasuredFrameIndex:this._listMetrics.getHighestMeasuredCellIndex(),index:l});var h=this._listMetrics.getCellMetricsApprox(Math.floor(l),this.props),f=Math.max(0,this._listMetrics.getCellOffsetApprox(l,this.props)-(c||0)*(this._scrollMetrics.visibleLength-h.length))-(u||0);this.scrollToOffset({offset:f,animated:s})}},{key:"scrollToItem",value:function(e){for(var t=e.item,i=this.props,n=i.data,r=i.getItem,o=(0,i.getItemCount)(n),s=0;s<o;s++)if(r(n,s)===t){this.scrollToIndex(Object.assign({},e,{index:s}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,i=e.offset,n=this._scrollRef;if(null!=n)if(null!=n.scrollTo){var r=this._orientation(),o=r.horizontal,s=r.rtl;o&&s&&!this._listMetrics.hasContentLength()?console.warn('scrollToOffset may not be called in RTL before content is laid out'):n.scrollTo(Object.assign({animated:t},this._scrollToParamsFromOffset(i)))}else console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.")}},{key:"_scrollToParamsFromOffset",value:function(e){var t=this._orientation(),i=t.horizontal,n=t.rtl;if(i&&n){var r=this._listMetrics.cartesianOffset(e+this._scrollMetrics.visibleLength);return i?{x:r}:{y:r}}return i?{x:e}:{y:e}}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach(function(e){e.recordInteraction()}),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():(0,I.findNodeHandle)(this._scrollRef)}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"setNativeProps",value:function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||'rootList'}},{key:"hasMore",value:function(){return this._hasMore}},{key:"_checkProps",value:function(e){var t=e.onScroll,i=e.windowSize,n=e.getItemCount,r=e.data,o=e.initialScrollIndex;(0,S.default)(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),(0,S.default)((0,_r(d[23]).windowSizeOrDefault)(i)>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),(0,S.default)(n,'VirtualizedList: The "getItemCount" prop must be provided');var s=n(r);null==o||this._hasTriggeredInitialScrollToIndex||!(o<0||s>0&&o>=s)||this._hasWarned.initialScrollIndex||(console.warn(`initialScrollIndex "${o}" is not valid (list has ${s} items)`),this._hasWarned.initialScrollIndex=!0)}},{key:"_adjustCellsAroundViewport",value:function(e,t,i){var n,r=e.data,o=e.getItemCount,s=(0,_r(d[23]).onEndReachedThresholdOrDefault)(e.onEndReachedThreshold),l=this._scrollMetrics,u=l.offset,c=l.visibleLength,h=this._listMetrics.getContentLength(),f=h-c-u;if(c<=0||h<=0)return t.last>=o(r)?v._constrainToItemCount(t,e):t;if(e.disableVirtualization){var p=f<s*c?(0,_r(d[23]).maxToRenderPerBatchOrDefault)(e.maxToRenderPerBatch):0;n={first:0,last:Math.min(t.last+p,o(r)-1)}}else{if(i>0)return t.last>=o(r)?v._constrainToItemCount(t,e):t;n=(0,_r(d[24]).computeWindowedRenderLimits)(e,(0,_r(d[23]).maxToRenderPerBatchOrDefault)(e.maxToRenderPerBatch),(0,_r(d[23]).windowSizeOrDefault)(e.windowSize),t,this._listMetrics,this._scrollMetrics),(0,S.default)(n.last<o(r),'computeWindowedRenderLimits() should return range in-bounds')}if(this._nestedChildLists.size()>0){var _=this._findFirstChildWithMore(n.first,n.last);n.last=null!=_?_:n.last}return n}},{key:"_findFirstChildWithMore",value:function(e,t){for(var i=e;i<=t;i++){var n=this._indicesToKeys.get(i);if(null!=n&&this._nestedChildLists.anyInCell(n,function(e){return e.hasMore()}))return i}return null}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey})}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),clearTimeout(this._updateCellsToRenderTimeoutID),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush()}},{key:"_pushCells",value:function(e,t,i,n,r,o){var s,l=this,u=this.props,c=u.CellRendererComponent,h=u.ItemSeparatorComponent,f=u.ListHeaderComponent,p=u.ListItemComponent,_=u.data,y=u.debug,S=u.getItem,L=u.getItemCount,M=u.getItemLayout,b=u.horizontal,I=u.renderItem,R=f?1:0,x=L(_)-1;r=Math.min(x,r);for(var k=function(){var n=S(_,T),r=v._keyExtractor(n,T,l.props);l._indicesToKeys.set(T,r),i.has(T+R)&&t.push(e.length);var u=null==M||y||l._fillRateHelper.enabled();e.push((0,w.jsx)(C.default,Object.assign({CellRendererComponent:c,ItemSeparatorComponent:T<x?h:void 0,ListItemComponent:p,cellKey:r,horizontal:b,index:T,inversionStyle:o,item:n,prevCellKey:s,onUpdateSeparators:l._onUpdateSeparators,onCellFocusCapture:l._onCellFocusCapture,onUnmount:l._onCellUnmount,ref:function(e){l._cellRefs[r]=e},renderItem:I},u&&{onCellLayout:l._onCellLayout}),r)),s=r},T=n;T<=r;T++)k()}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal))}},{key:"_renderEmptyComponent",value:function(e,t){var i=this;return e.type===b.Fragment?e:(0,M.cloneElement)(e,{onLayout:function(t){i._onLayoutEmpty(t),e.props.onLayout&&e.props.onLayout(t)},style:I.StyleSheet.compose(t,e.props.style)})}},{key:"render",value:function(){var e;this._checkProps(this.props);var t=this.props,n=t.ListEmptyComponent,r=t.ListFooterComponent,o=t.ListHeaderComponent,s=this.props,l=s.data,u=s.horizontal,h=this.props.inverted?(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal)?P.horizontallyInverted:P.verticallyInverted:null,f=[],p=new Set(this.props.stickyHeaderIndices),_=[];if(o){p.has(0)&&_.push(0);var v=(0,M.isValidElement)(o)?o:(0,w.jsx)(o,{});f.push((0,w.jsx)(_r(d[25]).VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-header',children:(0,w.jsx)(I.View,{collapsable:!1,onLayout:this._onLayoutHeader,style:I.StyleSheet.compose(h,this.props.ListHeaderComponentStyle),children:v})},"$header"))}var y=this.props.getItemCount(l);if(0===y&&n){var C=(0,M.isValidElement)(n)?n:(0,w.jsx)(n,{});f.push((0,w.jsx)(_r(d[25]).VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-empty',children:this._renderEmptyComponent(C,h)},"$empty"))}if(y>0){V=!1,O='';var S=this._getSpacerKey(!u),L=this.state.renderMask.enumerateRegions(),b=L[L.length-1],R=null!=b&&b.isSpacer?b:null;for(var x of L)if(x.isSpacer){if(this.props.disableVirtualization)continue;var k=x===R&&!this.props.getItemLayout?(0,c.default)(x.first-1,x.last,this._listMetrics.getHighestMeasuredCellIndex()):x.last,T=this._listMetrics.getCellMetricsApprox(x.first,this.props),E=this._listMetrics.getCellMetricsApprox(k,this.props),z=E.offset+E.length-T.offset;f.push((0,w.jsx)(I.View,{style:(0,i.default)({},S,z)},`$spacer-${x.first}`))}else this._pushCells(f,_,p,x.first,x.last,h);!this._hasWarned.keys&&V&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",O),this._hasWarned.keys=!0)}if(r){var F=(0,M.isValidElement)(r)?r:(0,w.jsx)(r,{});f.push((0,w.jsx)(_r(d[25]).VirtualizedListCellContextProvider,{cellKey:this._getFooterCellKey(),children:(0,w.jsx)(I.View,{onLayout:this._onLayoutFooter,style:I.StyleSheet.compose(h,this.props.ListFooterComponentStyle),children:F})},"$footer"))}var D=Object.assign({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:null!=(e=this.props.scrollEventThrottle)?e:1e-4,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:_,style:h?[h,this.props.style]:this.props.style,isInvertedVirtualizedList:this.props.inverted,maintainVisibleContentPosition:null!=this.props.maintainVisibleContentPosition?Object.assign({},this.props.maintainVisibleContentPosition,{minIndexForVisible:this.props.maintainVisibleContentPosition.minIndexForVisible+(this.props.ListHeaderComponent?1:0)}):void 0});this._hasMore=this.state.cellsAroundViewport.last<y-1;var A=(0,w.jsx)(_r(d[25]).VirtualizedListContextProvider,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild},children:(0,M.cloneElement)((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(D),{ref:this._captureScrollRef},f)});return this.props.debug?(0,w.jsxs)(I.View,{style:P.debug,children:[A,this._renderDebugOverlay()]}):A}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.data,n=t.extraData,r=t.getItemLayout;i===e.data&&n===e.extraData||this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.resetViewableIndices()});var o=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),o&&(this._hiPriInProgress=!1),null!=r&&this._maybeCallOnEdgeReached()}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){this._nestedChildLists.forEachInCell(e,function(e){e.measureLayoutRelativeToContainingList()})}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),function(t,i,n,r){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:i}),e._listMetrics.notifyListContentLayout({layout:{width:n,height:r},orientation:e._orientation()});var o=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==o.visibleLength||e._scrollMetrics.offset!==o.offset)&&(e._scrollMetrics.visibleLength=o.visibleLength,e._scrollMetrics.offset=o.offset,e._nestedChildLists.forEach(function(e){e.measureLayoutRelativeToContainingList()}))},function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn('measureLayoutRelativeToContainingList threw an error',e.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+'-footer'}},{key:"_renderDebugOverlay",value:function(){for(var e=this._scrollMetrics.visibleLength/(this._listMetrics.getContentLength()||1),t=[],i=this.props.getItemCount(this.props.data),n=0;n<i;n++){var r=this._listMetrics.getCellMetricsApprox(n,this.props);r.isMounted&&t.push(r)}var o=this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,s=this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.last,this.props),l=s.offset+s.length-o,u=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return(0,w.jsxs)(I.View,{style:[P.debugOverlayBase,P.debugOverlay],children:[t.map(function(t,i){return(0,w.jsx)(I.View,{style:[P.debugOverlayBase,P.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]},'f'+i)}),(0,w.jsx)(I.View,{style:[P.debugOverlayBase,P.debugOverlayFrameLast,{top:o*e,height:l*e}]}),(0,w.jsx)(I.View,{style:[P.debugOverlayBase,P.debugOverlayFrameVis,{top:u*e,height:c*e}]})]})}},{key:"_selectLength",value:function(e){return(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){var t=e.x,i=e.y;return this._orientation().horizontal?t:i}},{key:"_orientation",value:function(){return{horizontal:(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal),rtl:I.I18nManager.isRTL}}},{key:"_maybeCallOnEdgeReached",value:function(){var e=this.props,t=e.data,i=e.getItemCount,n=e.onStartReached,r=e.onStartReachedThreshold,o=e.onEndReached,s=e.onEndReachedThreshold;if(this._listMetrics.hasContentLength()&&0!==this._scrollMetrics.visibleLength&&!(this.state.pendingScrollUpdateCount>0)){var l=this._scrollMetrics,u=l.visibleLength,c=l.offset,h=c,f=this._listMetrics.getContentLength()-u-c;h<.001&&(h=0),f<.001&&(f=0);var p=h<=(null!=r?r*u:2),_=f<=(null!=s?s*u:2);o&&this.state.cellsAroundViewport.last===i(t)-1&&_&&this._listMetrics.getContentLength()!==this._sentEndForContentLength&&(this._sentEndForContentLength=this._listMetrics.getContentLength(),o({distanceFromEnd:f})),null!=n&&0===this.state.cellsAroundViewport.first&&p&&this._listMetrics.getContentLength()!==this._sentStartForContentLength&&(this._sentStartForContentLength=this._listMetrics.getContentLength(),n({distanceFromStart:h})),p||(this._sentStartForContentLength=0),_||(this._sentEndForContentLength=0)}}},{key:"_maybeScrollToInitialScrollIndex",value:function(e,t){e>0&&t>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:(0,L.default)(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0)}},{key:"unstable_onScroll",value:function(e){this._onScroll(e)}},{key:"_offsetFromScrollEvent",value:function(e){var t=e.nativeEvent,i=t.contentOffset,n=t.contentSize,r=t.layoutMeasurement,o=this._orientation(),s=o.horizontal,l=o.rtl;return s&&l?this._selectLength(n)-(this._selectOffset(i)+this._selectLength(r)):this._selectOffset(i)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var e,t=this;if((this._listMetrics.getAverageCellLength()>0||null!=this.props.getItemLayout)&&this._shouldRenderWithPriority()&&!this._hiPriInProgress)return this._hiPriInProgress=!0,null!=this._updateCellsToRenderTimeoutID&&(clearTimeout(this._updateCellsToRenderTimeoutID),this._updateCellsToRenderTimeoutID=null),void this._updateCellsToRender();null==this._updateCellsToRenderTimeoutID&&(this._updateCellsToRenderTimeoutID=setTimeout(function(){t._updateCellsToRenderTimeoutID=null,t._updateCellsToRender()},null!=(e=this.props.updateCellsBatchingPeriod)?e:50))}},{key:"_shouldRenderWithPriority",value:function(){var e=this.state.cellsAroundViewport,t=e.first,i=e.last,n=this._scrollMetrics,r=n.offset,o=n.visibleLength,s=n.velocity,l=this.props.getItemCount(this.props.data),u=!1,c=(0,_r(d[23]).onStartReachedThresholdOrDefault)(this.props.onStartReachedThreshold),h=(0,_r(d[23]).onEndReachedThresholdOrDefault)(this.props.onEndReachedThreshold);if(t>0){var f=r-this._listMetrics.getCellMetricsApprox(t,this.props).offset;u=f<0||s<-2&&f<E(c,o)}if(!u&&i>=0&&i<l-1){var p=this._listMetrics.getCellMetricsApprox(i,this.props).offset-(r+o);u=p<0||s>2&&p<E(h,o)}return u}},{key:"unstable_onScrollBeginDrag",value:function(e){this._onScrollBeginDrag(e)}},{key:"unstable_onScrollEndDrag",value:function(e){this._onScrollEndDrag(e)}},{key:"unstable_onMomentumScrollBegin",value:function(e){this._onMomentumScrollBegin(e)}},{key:"unstable_onMomentumScrollEnd",value:function(e){this._onMomentumScrollEnd(e)}},{key:"__getListMetrics",value:function(){return this._listMetrics}},{key:"_updateViewableItems",value:function(e,t){var i=this;this.state.pendingScrollUpdateCount>0||this._viewabilityTuples.forEach(function(n){n.viewabilityHelper.onUpdate(e,i._scrollMetrics.offset,i._scrollMetrics.visibleLength,i._listMetrics,i._createViewToken,n.onViewableItemsChanged,t)})}}],[{key:"_findItemIndexWithKey",value:function(e,t,i){var n=e.getItemCount(e.data);if(null!=i&&i>=0&&i<n&&v._getItemKey(e,i)===t)return i;for(var r=0;r<n;r++){if(v._getItemKey(e,r)===t)return r}return null}},{key:"_getItemKey",value:function(e,t){var i=e.getItem(e.data,t);return v._keyExtractor(i,t,e)}},{key:"_createRenderMask",value:function(e,i,n){var r=e.getItemCount(e.data);(0,S.default)(i.first>=0&&i.last>=i.first-1&&i.last<r,`Invalid cells around viewport "[${i.first}, ${i.last}]" was passed to VirtualizedList._createRenderMask`);var o=new(_r(d[26]).CellRenderMask)(r);if(r>0){var s=[i].concat((0,t.default)(null!=n?n:[]));for(var l of s)o.addCells(l);if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var u=v._initialRenderRegion(e);o.addCells(u)}var c=new Set(e.stickyHeaderIndices);v._ensureClosestStickyHeader(e,c,o,i.first)}return o}},{key:"_initialRenderRegion",value:function(e){var t,i=e.getItemCount(e.data),n=Math.max(0,Math.min(i-1,Math.floor(null!=(t=e.initialScrollIndex)?t:0)));return{first:n,last:Math.min(i,n+(0,_r(d[23]).initialNumToRenderOrDefault)(e.initialNumToRender))-1}}},{key:"_ensureClosestStickyHeader",value:function(e,t,i,n){for(var r=e.ListHeaderComponent?1:0,o=n-1;o>=0;o--)if(t.has(o+r)){i.addCells({first:o,last:o});break}}},{key:"getDerivedStateFromProps",value:function(e,t){var i,n,r=e.getItemCount(e.data);if(r===t.renderMask.numCells())return t;var o=null,s=t.firstVisibleItemKey,l=null!=(i=null==(n=e.maintainVisibleContentPosition)?void 0:n.minIndexForVisible)?i:0,u=e.getItemCount(e.data)>l?v._getItemKey(e,l):null;if(null!=e.maintainVisibleContentPosition&&null!=s&&null!=u)if(u!==s){var c=r-t.renderMask.numCells()+l,h=v._findItemIndexWithKey(e,s,c);o=null!=h?h-l:null}else o=null;var f=v._constrainToItemCount(null!=o?{first:t.cellsAroundViewport.first+o,last:t.cellsAroundViewport.last+o}:t.cellsAroundViewport,e);return{cellsAroundViewport:f,renderMask:v._createRenderMask(e,f),firstVisibleItemKey:u,pendingScrollUpdateCount:null!=o?t.pendingScrollUpdateCount+1:t.pendingScrollUpdateCount}}},{key:"_constrainToItemCount",value:function(e,t){var i=t.getItemCount(t.data)-1,n=(0,_r(d[23]).maxToRenderPerBatchOrDefault)(t.maxToRenderPerBatch),r=Math.max(0,i-n);return{first:(0,c.default)(0,e.first,r),last:Math.min(i,e.last)}}},{key:"_keyExtractor",value:function(e,t,i){if(null!=i.keyExtractor)return i.keyExtractor(e,t);var n=(0,_r(d[24]).keyExtractor)(e,t);return n===String(t)&&(V=!0,e.type&&e.type.displayName&&(O=e.type.displayName)),n}}])})(v.default);z.contextType=_r(d[25]).VirtualizedListContext;var P=I.StyleSheet.create({verticallyInverted:'android'===I.Platform.OS?{transform:[{scale:-1}]}:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}});_e.default=z},340,[1,42,66,4,11,12,18,20,23,341,342,343,344,345,346,347,348,32,81,75,2,50,244,350,339,349,351]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t,u,n){return u<t?t:u>n?n:u}},341,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(){var t;return(t=console).log.apply(t,arguments)}},342,[]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(d[1])),t=l(r(d[2])),o=l(r(d[3]));e.default=(function(){return(0,t.default)(function l(){(0,n.default)(this,l),this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map},[{key:"add",value:function(l,n){var t;(0,o.default)(!this._childrenToCellKey.has(l),'Trying to add already present child list');var h=null!=(t=this._cellKeyToChildren.get(n))?t:new Set;h.add(l),this._cellKeyToChildren.set(n,h),this._childrenToCellKey.set(l,n)}},{key:"remove",value:function(l){var n=this._childrenToCellKey.get(l);(0,o.default)(null!=n,'Trying to remove non-present child list'),this._childrenToCellKey.delete(l);var t=this._cellKeyToChildren.get(n);(0,o.default)(t,'_cellKeyToChildren should contain cellKey'),t.delete(l),0===t.size&&this._cellKeyToChildren.delete(n)}},{key:"forEach",value:function(l){for(var n of this._cellKeyToChildren.values())for(var t of n)l(t)}},{key:"forEachInCell",value:function(l,n){var t,o=null!=(t=this._cellKeyToChildren.get(l))?t:[];for(var h of o)n(h)}},{key:"anyInCell",value:function(l,n){var t,o=null!=(t=this._cellKeyToChildren.get(l))?t:[];for(var h of o)if(n(h))return!0;return!1}},{key:"size",value:function(){return this._childrenToCellKey.size}}])})()},343,[1,11,12,32]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),l=(t(r(d[3])),(0,s.default)(function t(){(0,n.default)(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0})),_=[],o=10,h=null,u=(function(){return(0,s.default)(function t(s){(0,n.default)(this,t),this._anyBlankStartTime=null,this._enabled=!1,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._listMetrics=s,this._enabled=(h||0)>Math.random(),this._resetData()},[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<o)this._resetData();else{var s=g.performance.now()-t,n=Object.assign({},this._info,{total_time_spent:s});_.forEach(function(t){return t(n)}),this._resetData()}}}},{key:"computeBlankness",value:function(t,s,n){if(!this._enabled||0===t.getItemCount(t.data)||s.last<s.first||null==this._samplesStartTime)return 0;var l=n.dOffset,_=n.offset,o=n.velocity,h=n.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(l));var u=Math.round(1e3*Math.abs(o)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,k=s.first,y=this._listMetrics.getCellMetrics(k,t);k<=s.last&&(!y||!y.isMounted);)y=this._listMetrics.getCellMetrics(k,t),k++;y&&k>0&&(c=Math.min(h,Math.max(0,y.offset-_)));for(var p=0,b=s.last,v=this._listMetrics.getCellMetrics(b,t);b>=s.first&&(!v||!v.isMounted);)v=this._listMetrics.getCellMetrics(b,t),b--;if(v&&b<t.getItemCount(t.data)-1){var M=v.offset+v.length;p=Math.min(h,Math.max(0,_+h-M))}var S=Math.round(c+p),T=S/h;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=S,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),_.push(t),{remove:function(){_=_.filter(function(s){return t!==s})}}}},{key:"setSampleRate",value:function(t){h=t}},{key:"setMinSampleCount",value:function(t){o=t}}])})();e.default=u},344,[1,12,11,345]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),s=t(r(d[3]));e.default=(function(){return(0,l.default)(function t(){(0,n.default)(this,t),this._averageCellLength=0,this._cellMetrics=new Map,this._highestMeasuredCellIndex=0,this._measuredCellsLength=0,this._measuredCellsCount=0,this._orientation={horizontal:!1,rtl:!1}},[{key:"notifyCellLayout",value:function(t){var n=t.cellIndex,l=t.cellKey,s=t.orientation,o=t.layout;this._invalidateIfOrientationChanged(s);var h={index:n,length:this._selectLength(o),isMounted:!0,offset:this.flowRelativeOffset(o)},u=this._cellMetrics.get(l);if(u&&h.offset===u.offset&&h.length===u.length)return u.isMounted=!0,!1;if(u){var f=h.length-u.length;this._measuredCellsLength+=f}else this._measuredCellsLength+=h.length,this._measuredCellsCount+=1;return this._averageCellLength=this._measuredCellsLength/this._measuredCellsCount,this._cellMetrics.set(l,h),this._highestMeasuredCellIndex=Math.max(this._highestMeasuredCellIndex,n),!0}},{key:"notifyCellUnmounted",value:function(t){var n=this._cellMetrics.get(t);n&&(n.isMounted=!1)}},{key:"notifyListContentLayout",value:function(t){var n=t.orientation,l=t.layout;this._invalidateIfOrientationChanged(n),this._contentLength=this._selectLength(l)}},{key:"getAverageCellLength",value:function(){return this._averageCellLength}},{key:"getHighestMeasuredCellIndex",value:function(){return this._highestMeasuredCellIndex}},{key:"getCellMetricsApprox",value:function(t,n){var l=this.getCellMetrics(t,n);if(l&&l.index===t)return l;var o,h=this.getHighestMeasuredCellIndex();if(h<t){var u=this.getCellMetrics(h,n);u&&(o=u.offset+u.length+this._averageCellLength*(t-h-1))}null==o&&(o=this._averageCellLength*t);var f=n.data,c=n.getItemCount;return(0,s.default)(t>=0&&t<c(f),'Tried to get frame for out of range index '+t),{length:this._averageCellLength,offset:o,index:t,isMounted:!1}}},{key:"getCellMetrics",value:function(t,n){var l,o=n.data,h=n.getItem,u=n.getItemCount,f=n.getItemLayout;(0,s.default)(t>=0&&t<u(o),'Tried to get metrics for out of range cell index '+t);var c=null!=(l=n.keyExtractor)?l:r(d[4]).keyExtractor,_=this._cellMetrics.get(c(h(o,t),t));if(_&&_.index===t)return _;if(f){var v=f(o,t);return{index:t,length:v.length,offset:v.offset,isMounted:!0}}return null}},{key:"getCellOffsetApprox",value:function(t,n){if(Number.isInteger(t))return this.getCellMetricsApprox(t,n).offset;var l=this.getCellMetricsApprox(Math.floor(t),n),s=t-Math.floor(t);return l.offset+s*l.length}},{key:"getContentLength",value:function(){var t;return null!=(t=this._contentLength)?t:0}},{key:"hasContentLength",value:function(){return null!=this._contentLength}},{key:"flowRelativeOffset",value:function(t,n){var l=this._orientation,o=l.horizontal,h=l.rtl;if(o&&h){var u=null!=n?n:this._contentLength;return(0,s.default)(null!=u,'ListMetricsAggregator must be notified of list content layout before resolving offsets'),u-(this._selectOffset(t)+this._selectLength(t))}return this._selectOffset(t)}},{key:"cartesianOffset",value:function(t){var n=this._orientation,l=n.horizontal,o=n.rtl;return l&&o?((0,s.default)(null!=this._contentLength,'ListMetricsAggregator must be notified of list content layout before resolving offsets'),this._contentLength-t):t}},{key:"_invalidateIfOrientationChanged",value:function(t){t.rtl!==this._orientation.rtl&&this._cellMetrics.clear(),t.horizontal!==this._orientation.horizontal&&(this._averageCellLength=0,this._highestMeasuredCellIndex=0,this._measuredCellsLength=0,this._measuredCellsCount=0),this._orientation=t}},{key:"_selectLength",value:function(t){var n=t.width,l=t.height;return this._orientation.horizontal?n:l}},{key:"_selectOffset",value:function(t){var n=t.x,l=t.y;return this._orientation.horizontal?n:l}}])})()},345,[1,11,12,32,339]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),i=t(_r(d[6])),f=t(_r(d[7])),s=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var u,o,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(u=e?r:n){if(u.has(t))return u.get(t);u.set(t,i)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(o.get||o.set)?u(i,f,o):i[f]=t[f]);return i})(t,e)})(_r(d[8]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t,e,n,r){var i=(0,o.default)((0,u.default)(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}_e.default=(function(t){function o(t){var n,i,f,s;return(0,e.default)(this,o),i=this,f=o,s=[t],f=(0,u.default)(f),(n=(0,r.default)(i,c()?Reflect.construct(f,s||[],(0,u.default)(i).constructor):f.apply(i,s)))._inAsyncStateUpdate=!1,n._installSetStateHooks(),n}return(0,i.default)(o,t),(0,n.default)(o,[{key:"setState",value:function(t,e){var n=this;'function'==typeof t?l(o,"setState",this,3)([function(e,r){var u;n._inAsyncStateUpdate=!0;try{u=t(e,r)}catch(t){throw t}finally{n._inAsyncStateUpdate=!1}return u},e]):l(o,"setState",this,3)([t,e])}},{key:"_installSetStateHooks",value:function(){var t=this,e=this.props,n=this.state;Object.defineProperty(this,'props',{get:function(){return(0,f.default)(!t._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),e},set:function(t){e=t}}),Object.defineProperty(this,'state',{get:function(){return(0,f.default)(!t._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n},set:function(t){n=t}})}}])})(s.PureComponent)},346,[1,11,12,18,20,21,23,32,75]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),l=t(r(d[3])),o=(t(r(d[4])),(function(){return(0,l.default)(function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};(0,s.default)(this,t),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=n},[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(t,n,s,l,o){var c=t.getItemCount(t.data),h=this._config,f=h.itemVisiblePercentThreshold,v=h.viewAreaCoveragePercentThreshold,_=null!=v,w=_?v:f;r(d[5])(null!=w&&null!=f!=(null!=v),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var b=[];if(0===c)return b;var I=-1,y=o||{first:0,last:c-1},p=y.first,M=y.last;if(M>=c)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:o,itemCount:c})),[];for(var C=p;C<=M;C++){var T=l.getCellMetrics(C,t);if(T){var k=Math.floor(T.offset-n),V=Math.floor(k+T.length);if(k<s&&V>0)I=C,u(_,w,k,V,s,T.length)&&b.push(C);else if(I>=0)break}}return b}},{key:"onUpdate",value:function(t,n,s,l,o,u,c){var h=this,f=t.getItemCount(t.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==f&&l.getCellMetrics(0,t)){var v=[];if(f&&(v=this.computeViewableItems(t,n,s,l,c)),this._viewableIndices.length!==v.length||!this._viewableIndices.every(function(t,n){return t===v[n]}))if(this._viewableIndices=v,this._config.minimumViewTime){var _=setTimeout(function(){h._timers.delete(_),h._onUpdateSync(t,v,u,o)},this._config.minimumViewTime);this._timers.add(_)}else this._onUpdateSync(t,v,u,o)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(t,s,l,o){var u=this;s=s.filter(function(t){return u._viewableIndices.includes(t)});var c=this._viewableItems,h=new Map(s.map(function(n){var s=o(n,!0,t);return[s.key,s]})),f=[];for(var v of h){var _=(0,n.default)(v,2),w=_[0],b=_[1];c.has(w)||f.push(b)}for(var I of c){var y=(0,n.default)(I,2),p=y[0],M=y[1];h.has(p)||f.push(Object.assign({},M,{isViewable:!1}))}f.length>0&&(this._viewableItems=h,l({viewableItems:Array.from(h.values()),changed:f,viewabilityConfig:this._config}))}}])})());function u(t,n,s,l,o,u){if(h(s,l,o))return!0;var f=c(s,l,o);return 100*(t?f/o:f/u)>=n}function c(t,n,s){var l=Math.min(n,s)-Math.max(t,0);return Math.max(0,l)}function h(t,n,s){return t>=0&&n<=s&&n>t}e.default=o},347,[1,34,11,12,345,32]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4])),l=e(_r(d[5])),s=e(_r(d[6])),i=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,s)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?n(s,i,l):s[i]=e[i]);return s})(e,t)})(_r(d[7])),p=i,u=_r(d[8]),c=_r(d[9]);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}_e.default=(function(e){function p(){var e,r,l,s;(0,t.default)(this,p);for(var i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];return r=this,l=p,s=[].concat(u),l=(0,n.default)(l),(e=(0,o.default)(r,f()?Reflect.construct(l,s||[],(0,n.default)(r).constructor):l.apply(r,s))).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,r=t.cellKey,o=t.prevCellKey;e.props.onUpdateSeparators([r,o],{highlighted:!0})},unhighlight:function(){var t=e.props,r=t.cellKey,o=t.prevCellKey;e.props.onUpdateSeparators([r,o],{highlighted:!1})},updateProps:function(t,r){var o=e.props,n=o.cellKey,l=o.prevCellKey;e.props.onUpdateSeparators(['leading'===t?l:n],r)}},e._onLayout=function(t){null==e.props.onCellLayout||e.props.onCellLayout(t,e.props.cellKey,e.props.index)},e._onCellFocusCapture=function(t){null==e.props.onCellFocusCapture||e.props.onCellFocusCapture(e.props.cellKey)},e}return(0,l.default)(p,e),(0,r.default)(p,[{key:"updateSeparatorProps",value:function(e){this.setState(function(t){return{separatorProps:Object.assign({},t.separatorProps,e)}})}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(e,t,r,o){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?(0,c.jsx)(t,{item:r,index:o,separators:this._separators}):e?e({item:r,index:o,separators:this._separators}):void(0,s.default)(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}},{key:"render",value:function(){var e=this.props,t=e.CellRendererComponent,r=e.ItemSeparatorComponent,o=e.ListItemComponent,n=e.cellKey,l=e.horizontal,s=e.item,p=e.index,f=e.inversionStyle,y=e.onCellLayout,v=e.renderItem,C=this._renderElement(v,o,s,p),_=(0,i.isValidElement)(r)?r:r&&(0,c.jsx)(r,Object.assign({},this.state.separatorProps)),P=f?l?[h.rowReverse,f]:[h.columnReverse,f]:l?[h.row,f]:f,w=t?(0,c.jsxs)(t,Object.assign({cellKey:n,index:p,item:s,style:P,onFocusCapture:this._onCellFocusCapture},y&&{onLayout:this._onLayout},{children:[C,_]})):(0,c.jsxs)(u.View,Object.assign({style:P,onFocusCapture:this._onCellFocusCapture},y&&{onLayout:this._onLayout},{children:[C,_]}));return(0,c.jsx)(_r(d[10]).VirtualizedListCellContextProvider,{cellKey:this.props.cellKey,children:w})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.item!==t.separatorProps.leadingItem?{separatorProps:Object.assign({},t.separatorProps,{leadingItem:e.item})}:null}}])})(p.PureComponent);var h=u.StyleSheet.create({row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'}})},348,[1,11,12,18,20,23,32,75,2,244,349]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.VirtualizedListCellContextProvider=function(i){var n=i.cellKey,l=i.children,o=(0,e.useContext)(r),u=(0,e.useMemo)(function(){return null==o?null:Object.assign({},o,{cellKey:n})},[o,n]);return(0,t.jsx)(r.Provider,{value:u,children:l})},_e.VirtualizedListContext=void 0,_e.VirtualizedListContextProvider=function(i){var n=i.children,l=i.value,o=(0,e.useMemo)(function(){return{cellKey:null,getScrollMetrics:l.getScrollMetrics,horizontal:l.horizontal,getOutermostParentListRef:l.getOutermostParentListRef,registerAsNestedChild:l.registerAsNestedChild,unregisterAsNestedChild:l.unregisterAsNestedChild}},[l.getScrollMetrics,l.horizontal,l.getOutermostParentListRef,l.registerAsNestedChild,l.unregisterAsNestedChild]);return(0,t.jsx)(r.Provider,{value:o,children:n})},_e.VirtualizedListContextResetter=function(e){var i=e.children;return(0,t.jsx)(r.Provider,{value:null,children:i})};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(n=t?i:r){if(n.has(e))return n.get(e);n.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?n(o,u,l):o[u]=e[u]);return o})(e,t)})(_r(d[0])),t=_r(d[1]);var r=_e.VirtualizedListContext=(0,e.createContext)(null)},349,[75,244]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.horizontalOrDefault=function(e){return null!=e&&e},_e.initialNumToRenderOrDefault=function(e){return null!=e?e:10},_e.maxToRenderPerBatchOrDefault=function(e){return null!=e?e:10},_e.onEndReachedThresholdOrDefault=function(e){return null!=e?e:2},_e.onStartReachedThresholdOrDefault=function(e){return null!=e?e:2},_e.windowSizeOrDefault=function(e){return null!=e?e:21};!(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;(function(e,n){if(!n&&e&&e.__esModule)return e;var u,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(u=n?r:t){if(u.has(e))return u.get(e);u.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(l,f,o):l[f]=e[f])})(e,n)})(_r(d[0]))},350,[75]);
__d(function(g,r,_i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.CellRenderMask=void 0;var t=s(r(d[1])),i=s(r(d[2])),l=s(r(d[3])),n=s(r(d[4])),f=s(r(d[5]));e.CellRenderMask=(function(){return(0,n.default)(function s(t){(0,l.default)(this,s),(0,f.default)(t>=0,'CellRenderMask must contain a non-negative number os cells'),this._numCells=t,this._regions=0===t?[]:[{first:0,last:t-1,isSpacer:!0}]},[{key:"enumerateRegions",value:function(){return this._regions}},{key:"addCells",value:function(s){var l;if((0,f.default)(s.first>=0&&s.first<this._numCells&&s.last>=-1&&s.last<this._numCells&&s.last>=s.first-1,'CellRenderMask.addCells called with invalid cell range'),!(s.last<s.first)){var n=this._findRegion(s.first),u=(0,i.default)(n,2),o=u[0],c=u[1],_=this._findRegion(s.last),h=(0,i.default)(_,2),v=h[0],p=h[1];if(c!==p||o.isSpacer){var C=[],k=[],S=Object.assign({},s,{isSpacer:!1});o.first<S.first&&(o.isSpacer?C.push({first:o.first,last:S.first-1,isSpacer:!0}):S.first=o.first),v.last>S.last&&(v.isSpacer?k.push({first:S.last+1,last:v.last,isSpacer:!0}):S.last=v.last);var y=[].concat(C,[S],k),R=p-c+1;(l=this._regions).splice.apply(l,[c,R].concat((0,t.default)(y)))}}}},{key:"numCells",value:function(){return this._numCells}},{key:"equals",value:function(s){return this._numCells===s._numCells&&this._regions.length===s._regions.length&&this._regions.every(function(t,i){return t.first===s._regions[i].first&&t.last===s._regions[i].last&&t.isSpacer===s._regions[i].isSpacer})}},{key:"_findRegion",value:function(s){for(var t=0,i=this._regions.length-1;t<=i;){var l=Math.floor((t+i)/2),n=this._regions[l];if(s>=n.first&&s<=n.last)return[n,l];s<n.first?i=l-1:s>n.last&&(t=l+1)}(0,f.default)(!1,`A region was not found containing cellIdx ${s}`)}}])})()},351,[1,42,34,11,12,32]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),s=e(_r(d[7])),u=e(_r(d[8])),c=e(_r(d[9])),p=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?i(l,s,o):l[s]=e[s]);return l})(e,t)})(_r(d[10])),f=p,h=_r(d[11]),v=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}var _=(function(e){function t(){var e,n,i,s;(0,r.default)(this,t);for(var u=arguments.length,p=new Array(u),f=0;f<u;f++)p[f]=arguments[f];return n=this,i=t,s=[].concat(p),i=(0,l.default)(i),(e=(0,o.default)(n,S()?Reflect.construct(i,s||[],(0,l.default)(n).constructor):i.apply(n,s)))._keyExtractor=function(t,n){var r=e._subExtractor(n);return r&&r.key||String(n)},e._convertViewable=function(t){var n;(0,c.default)(null!=t.index,'Received a broken ViewToken');var r=e._subExtractor(t.index);if(!r)return null;var i=r.section.keyExtractor,o=e.props.keyExtractor||_r(d[12]).keyExtractor,l=null!=i?i(t.item,r.index):o(t.item,null!=(n=r.index)?n:0);return Object.assign({},t,{index:r.index,key:l,section:r.section})},e._onViewableItemsChanged=function(t){var n=t.viewableItems,r=t.changed,i=e.props.onViewableItemsChanged;null!=i&&i({viewableItems:n.map(e._convertViewable,e).filter(Boolean),changed:r.map(e._convertViewable,e).filter(Boolean)})},e._renderItem=function(t){return function(n){var r=n.item,i=n.index,o=e._subExtractor(i);if(!o)return null;var l=o.index;if(null==l){var s=o.section;if(!0===o.header){var u=e.props.renderSectionHeader;return u?u({section:s}):null}var p=e.props.renderSectionFooter;return p?p({section:s}):null}var f=o.section.renderItem||e.props.renderItem,v=e._getSeparatorComponent(i,o,t);return(0,c.default)(f,'no renderItem!'),(0,h.jsx)(I,{SeparatorComponent:v,LeadingSeparatorComponent:0===l?e.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:l,item:r,leadingItem:o.leadingItem,leadingSection:o.leadingSection,prevCellKey:(e._subExtractor(i-1)||{}).key,setSelfHighlightCallback:e._setUpdateHighlightFor,setSelfUpdatePropsCallback:e._setUpdatePropsFor,updateHighlightFor:e._updateHighlightFor,updatePropsFor:e._updatePropsFor,renderItem:f,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection,inverted:!!e.props.inverted})}},e._updatePropsFor=function(t,n){var r=e._updatePropsMap[t];null!=r&&r(n)},e._updateHighlightFor=function(t,n){var r=e._updateHighlightMap[t];null!=r&&r(n)},e._setUpdateHighlightFor=function(t,n){null!=n?e._updateHighlightMap[t]=n:delete e._updateHighlightFor[t]},e._setUpdatePropsFor=function(t,n){null!=n?e._updatePropsMap[t]=n:delete e._updatePropsMap[t]},e._updateHighlightMap={},e._updatePropsMap={},e._captureRef=function(t){e._listRef=t},e}return(0,s.default)(t,e),(0,i.default)(t,[{key:"scrollToLocation",value:function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=e.viewOffset||0;if(null!=this._listRef){var i=this._listRef;if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)r+=i.__getListMetrics().getCellMetricsApprox(t-e.itemIndex,i.props).length;var o=Object.assign({},e,{viewOffset:r,index:t});this._listRef.scrollToIndex(o)}}},{key:"getListRef",value:function(){return this._listRef}},{key:"render",value:function(){var e=this,t=this.props,r=(t.ItemSeparatorComponent,t.SectionSeparatorComponent,t.renderItem,t.renderSectionFooter,t.renderSectionHeader,t.sections,t.stickySectionHeadersEnabled,(0,n.default)(t,v)),i=this.props.ListHeaderComponent?1:0,o=this.props.stickySectionHeadersEnabled?[]:void 0,l=0;for(var s of this.props.sections)null!=o&&o.push(l+i),l+=2,l+=this.props.getItemCount(s.data);var c=this._renderItem(l);return(0,h.jsx)(u.default,Object.assign({},r,{keyExtractor:this._keyExtractor,stickyHeaderIndices:o,renderItem:c,data:this.props.sections,getItem:function(t,n){return e._getItem(e.props,t,n)},getItemCount:function(){return l},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}},{key:"_getItem",value:function(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var o=t[i],l=o.data,s=e.getItemCount(l);if(-1===r||r===s)return o;if(r<s)return e.getItem(l,r);r-=s+2}return null}},{key:"_subExtractor",value:function(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,o=n.keyExtractor,l=n.sections,s=0;s<l.length;s++){var u=l[s],c=u.data,p=u.key||String(s);if(!((t-=1)>=i(c)+1))return-1===t?{section:u,key:p+':header',index:null,header:!0,trailingSection:l[s+1]}:t===i(c)?{section:u,key:p+':footer',index:null,header:!1,trailingSection:l[s+1]}:{section:u,key:p+':'+(u.keyExtractor||o||_r(d[12]).keyExtractor)(r(c,t),t),index:t,leadingItem:r(c,t-1),leadingSection:l[s-1],trailingItem:r(c,t+1),trailingSection:l[s+1]};t-=i(c)+1}}},{key:"_getSeparatorComponent",value:function(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,i=this.props.SectionSeparatorComponent,o=e===n-1,l=t.index===this.props.getItemCount(t.section.data)-1;return i&&l?i:!r||l||o?null:r}}])})(f.PureComponent);function I(e){var n=e.LeadingSeparatorComponent,r=e.SeparatorComponent,i=e.cellKey,o=e.prevCellKey,l=e.setSelfHighlightCallback,s=e.updateHighlightFor,u=e.setSelfUpdatePropsCallback,c=e.updatePropsFor,v=e.item,S=e.index,_=e.section,I=e.inverted,y=(0,p.useState)(!1),x=(0,t.default)(y,2),b=x[0],k=x[1],C=(0,p.useState)(!1),E=(0,t.default)(C,2),H=E[0],w=E[1],P=(0,p.useState)({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),j=(0,t.default)(P,2),F=j[0],O=j[1],M=(0,p.useState)({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),R=(0,t.default)(M,2),V=R[0],L=R[1];(0,p.useEffect)(function(){return l(i,w),u(i,L),function(){u(i,null),l(i,null)}},[i,l,L,u]);var U={highlight:function(){k(!0),w(!0),null!=o&&s(o,!0)},unhighlight:function(){k(!1),w(!1),null!=o&&s(o,!1)},updateProps:function(e,t){'leading'===e?null!=n?O(Object.assign({},F,t)):null!=o&&c(o,Object.assign({},F,t)):'trailing'===e&&null!=r&&L(Object.assign({},V,t))}},B=e.renderItem({item:v,index:S,section:_,separators:U}),K=null!=n&&(f.isValidElement(n)?n:(0,h.jsx)(n,Object.assign({highlighted:b},F))),T=null!=r&&(f.isValidElement(r)?r:(0,h.jsx)(r,Object.assign({highlighted:H},V))),W=K||T,A=!1===I?K:T,D=!1===I?T:K;return(0,h.jsxs)(h.Fragment,{children:[W?A:null,B,W?D:null]})}var y=_;_e.default=y},352,[1,34,4,11,12,18,20,23,340,32,75,244,339]);
__d(function(g,r,_i2,a,m,e,d){'use strict';var n=Number.isNaN||function(n){return'number'==typeof n&&n!=n};function t(t,u){return t===u||!(!n(t)||!n(u))}function u(n,u){if(n.length!==u.length)return!1;for(var i=0;i<n.length;i++)if(!t(n[i],u[i]))return!1;return!0}m.exports=function(n,t){var i;void 0===t&&(t=u);var f,o=[],c=!1;return function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return c&&i===this&&t(u,o)||(f=n.apply(this,u),c=!0,i=this,o=u),f}}},353,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},354,[1,355,322,75]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),l=e(_r(d[2])),i=S(_r(d[3])),r=e(_r(d[4])),n=e(_r(d[5])),o=e(_r(d[6])),c=e(_r(d[7])),u=e(_r(d[8])),s=e(_r(d[9])),f=e(_r(d[10])),h=e(_r(d[11])),b=S(_r(d[12])),y=_r(d[13]),v=["ref","alt","accessible","aria-labelledby","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-hidden","aria-label","aria-selected","accessibilityLabel","accessibilityLabelledBy","accessibilityState","defaultSource","loadingIndicatorSource","children","source","src","style","crossOrigin","referrerPolicy","srcSet","onLoadStart","onLoad","onLoadEnd","onError","width","height","resizeMode"],p=["ref"];function S(e,t){if("function"==typeof WeakMap)var l=new WeakMap,i=new WeakMap;return(S=function(e,t){if(!t&&e&&e.__esModule)return e;var r,n,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=t?i:l){if(r.has(e))return r.get(e);r.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((n=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(n.get||n.set)?r(o,c,n):o[c]=e[c]);return o})(e,t)}var w=1;function L(e,t){var l=w++;return t&&t(l),s.default.prefetchImage(e,l)}function I(){return(I=(0,l.default)(function*(e){return s.default.queryCache(e)})).apply(this,arguments)}var j,z={uri:void 0,width:void 0,height:void 0};if(i.reduceDefaultPropsInImage()){j=function(e){var l,i,n,s,p,S=e.ref,w=e.alt,L=e.accessible,I=e['aria-labelledby'],j=e['aria-busy'],E=e['aria-checked'],M=e['aria-disabled'],O=e['aria-expanded'],x=e['aria-hidden'],P=e['aria-label'],_=e['aria-selected'],F=e.accessibilityLabel,A=e.accessibilityLabelledBy,W=e.accessibilityState,B=e.defaultSource,T=e.loadingIndicatorSource,C=e.children,N=e.source,R=e.src,q=e.style,D=e.crossOrigin,H=e.referrerPolicy,G=e.srcSet,J=e.onLoadStart,K=e.onLoad,Q=e.onLoadEnd,U=e.onError,V=e.width,X=e.height,Y=e.resizeMode,Z=(0,t.default)(e,v),$=(0,_r(d[14]).getImageSourcesFromImageProps)({crossOrigin:D,referrerPolicy:H,src:R,srcSet:G,width:V,height:X,source:N})||z,ee=(0,f.default)(B),ae=(0,f.default)(T);if(null!=C)throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');if(null!=B&&null!=T)throw new Error('The <Image> component cannot have defaultSource and loadingIndicatorSource at the same time. Please use either defaultSource or loadingIndicatorSource.');Array.isArray($)?(l=[k.base,q],n=(i=$)[0].headers):(''===$.uri&&console.warn('source.uri should not be an empty string'),l=[{width:null!=(s=$.width)?s:V,height:null!=(p=$.height)?p:X},k.base,q],i=[$]);var te=Z;te.src=i,te.source=i,te.style=l,null!=n&&(te.headers=n),null!=J&&(te.shouldNotifyLoadEvents=!0,te.onLoadStart=J),null!=K&&(te.shouldNotifyLoadEvents=!0,te.onLoad=K),null!=Q&&(te.shouldNotifyLoadEvents=!0,te.onLoadEnd=Q),null!=U&&(te.shouldNotifyLoadEvents=!0,te.onError=U),null!=ee&&null!=ee.uri&&(te.defaultSource=ee.uri),null!=ae&&null!=ae.uri&&(te.loadingIndicatorSrc=ae.uri),null!=P?te.accessibilityLabel=P:null!=F?te.accessibilityLabel=F:null!=w&&(te.accessibilityLabel=w),null!=I?te.accessibilityLabelledBy=I:null!=A&&(te.accessibilityLabelledBy=A),null!=w?te.accessible=!0:null!=L&&(te.accessible=L),null==W&&null==j&&null==E&&null==M&&null==O&&null==_||(te.accessibilityState={busy:null!=j?j:null==W?void 0:W.busy,checked:null!=E?E:null==W?void 0:W.checked,disabled:null!=M?M:null==W?void 0:W.disabled,expanded:null!=O?O:null==W?void 0:W.expanded,selected:null!=_?_:null==W?void 0:W.selected}),!0===x&&(te.importantForAccessibility='no-hide-descendants');var le=(0,r.default)(q),ie=(0,_r(d[15]).convertObjectFitToResizeMode)(null==le?void 0:le.objectFit)||Y||(null==le?void 0:le.resizeMode)||'cover';te.resizeMode=ie;var re=(0,_r(d[16]).useWrapRefWithImageAttachedCallbacks)(S),ne=(0,b.use)(o.default),oe=(0,b.use)(c.default);return null!==oe&&(te.internal_analyticTag=oe),ne?(0,y.jsx)(h.default,{style:l,resizeMode:ie,headers:n,src:i,ref:re}):(0,y.jsx)(u.default,Object.assign({},te,{ref:re}))}}else{j=function(e){var l,i,n,s,b,v,S,w,L,I,j,z,E,M,O,x,P=e.ref,_=(0,t.default)(e,p),F=(0,_r(d[14]).getImageSourcesFromImageProps)(_)||{uri:void 0,width:void 0,height:void 0},A=(0,f.default)(_.defaultSource),W=(0,f.default)(_.loadingIndicatorSource);if(null!=_.children)throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');if(null!=_.defaultSource&&null!=_.loadingIndicatorSource)throw new Error('The <Image> component cannot have defaultSource and loadingIndicatorSource at the same time. Please use either defaultSource or loadingIndicatorSource.');if(Array.isArray(F))O=[k.base,_.style],x=F;else{var B,T;''===F.uri&&console.warn('source.uri should not be an empty string');var C=null!=(B=F.width)?B:_.width,N=null!=(T=F.height)?T:_.height;O=[{width:C,height:N},k.base,_.style],x=[F]}var R=_.onLoadStart,q=_.onLoad,D=_.onLoadEnd,H=_.onError,G=Object.assign({},_,{style:O,shouldNotifyLoadEvents:!!(R||q||D||H),src:x,source:x,headers:(null==F||null==(l=F[0])?void 0:l.headers)||(null==F?void 0:F.headers),defaultSource:A?A.uri:null,loadingIndicatorSrc:W?W.uri:null,accessibilityLabel:null!=(i=null!=(n=_['aria-label'])?n:_.accessibilityLabel)?i:_.alt,accessibilityLabelledBy:null!=(s=null==_?void 0:_['aria-labelledby'])?s:null==_?void 0:_.accessibilityLabelledBy,accessible:void 0!==_.alt||_.accessible,accessibilityState:{busy:null!=(b=_['aria-busy'])?b:null==(v=_.accessibilityState)?void 0:v.busy,checked:null!=(S=_['aria-checked'])?S:null==(w=_.accessibilityState)?void 0:w.checked,disabled:null!=(L=_['aria-disabled'])?L:null==(I=_.accessibilityState)?void 0:I.disabled,expanded:null!=(j=_['aria-expanded'])?j:null==(z=_.accessibilityState)?void 0:z.expanded,selected:null!=(E=_['aria-selected'])?E:null==(M=_.accessibilityState)?void 0:M.selected},importantForAccessibility:!0===_['aria-hidden']?'no-hide-descendants':_.importantForAccessibility}),J=(0,r.default)(O),K=(0,_r(d[15]).convertObjectFitToResizeMode)(null==J?void 0:J.objectFit)||_.resizeMode||(null==J?void 0:J.resizeMode)||'cover',Q=(0,_r(d[16]).useWrapRefWithImageAttachedCallbacks)(P);return(0,y.jsx)(c.default.Consumer,{children:function(e){var t=null!==e?Object.assign({},G,{internal_analyticTag:e}):G;return(0,y.jsx)(o.default.Consumer,{children:function(e){return e?(0,y.jsx)(h.default,{style:O,resizeMode:K,headers:G.headers,src:x,ref:Q}):(0,y.jsx)(u.default,Object.assign({},t,{resizeMode:K,ref:Q}))}})}})}}var E=(0,_r(d[16]).unstable_getImageComponentDecorator)();null!=E&&(j=E(j));var M=j;M.displayName='Image',M.getSize=function(e,t,l){var i=s.default.getSize(e);if('function'!=typeof t)return i;i.then(function(e){return t(e.width,e.height)}).catch(l||function(){console.warn('Failed to get size for image: '+e)})},M.getSizeWithHeaders=function(e,t,l,i){var r=s.default.getSizeWithHeaders(e,t);if('function'!=typeof l)return r;r.then(function(e){return l(e.width,e.height)}).catch(i||function(){console.warn('Failed to get size for image: '+e)})},M.prefetch=L,M.prefetchWithMetadata=function(e,t,l,i){return L(e,i)},M.abortPrefetch=function(e){s.default.abortRequest(e)},M.queryCache=function(e){return I.apply(this,arguments)},M.resolveAssetSource=f.default;var k=n.default.create({base:{overflow:'hidden'}});_e.default=M},355,[1,4,356,50,9,6,74,357,358,359,93,361,75,244,362,363,364]);
__d(function(g,_r,_i,_a,m,_e,d){function n(n,t,e,o,r,u,i){try{var c=n[u](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(o,r)}m.exports=function(t){return function(){var e=this,o=arguments;return new Promise(function(r,u){var i=t.apply(e,o);function c(t){n(i,r,u,c,s,"next",t)}function s(t){n(i,r,u,c,s,"throw",t)}c(void 0)})}},m.exports.__esModule=!0,m.exports.default=m.exports},356,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));var t=(0,e.createContext)(null);_e.default=t},357,[75]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var o=(function(e,o){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,o){if(!o&&e&&e.__esModule)return e;var n,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=o?t:r){if(n.has(e))return n.get(e);n.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?n(s,u,i):s[u]=e[u]);return s})(e,o)})(_r(d[1])),r=e(_r(d[2])),t=e(_r(d[3]));_e.Commands=(0,r.default)({supportedCommands:['setIsVisible_EXPERIMENTAL']});var n=_e.__INTERNAL_VIEW_CONFIG='android'===t.default.OS?{uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:{blurRadius:!0,defaultSource:!0,internal_analyticTag:!0,resizeMethod:!0,resizeMode:!0,resizeMultiplier:!0,tintColor:{process:_r(d[4]).default},borderBottomLeftRadius:!0,borderTopLeftRadius:!0,src:!0,source:!0,borderRadius:!0,headers:!0,shouldNotifyLoadEvents:!0,overlayColor:{process:_r(d[4]).default},borderColor:{process:_r(d[4]).default},accessible:!0,progressiveRenderingEnabled:!0,fadeDuration:!0,borderBottomRightRadius:!0,borderTopRightRadius:!0,loadingIndicatorSrc:!0}}:{uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topPartialLoad:{registrationName:'onPartialLoad'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:Object.assign({blurRadius:!0,capInsets:{diff:_r(d[5]).default},defaultSource:{process:_r(d[6]).default},internal_analyticTag:!0,resizeMode:!0,source:!0,tintColor:{process:_r(d[4]).default}},(0,_r(d[7]).ConditionallyIgnoredEventHandlers)({onLoadStart:!0,onLoad:!0,onLoadEnd:!0,onProgress:!0,onError:!0,onPartialLoad:!0}))},i=o.get('RCTImageView',function(){return n});_e.default=i},358,[1,78,106,69,55,91,93,105]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},359,[360]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('ImageLoader')},360,[31]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,u,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,o)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?i(o,f,u):o[f]=e[f]);return o})(e,t)})(_r(d[0]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'RCTTextInlineImage',bubblingEventTypes:{},directEventTypes:{},validAttributes:{resizeMode:!0,src:!0,tintColor:{process:_r(d[1]).default},headers:!0}},r=e.get('RCTTextInlineImage',function(){return t});_e.default=r},361,[78,55]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getImageSourcesFromImageProps=function(s){var o,n=(0,l.default)(s.source),u=s.crossOrigin,c=s.referrerPolicy,h=s.src,f=s.srcSet,p=s.width,v=s.height,w={};'use-credentials'===u&&(w['Access-Control-Allow-Credentials']='true');null!=c&&(w['Referrer-Policy']=c);if(null!=f){var x=[],y=f.split(', '),P=!0;y.forEach(function(s){var l=s.split(' '),o=(0,t.default)(l,2),n=o[0],u=o[1],c=void 0===u?'1x':u;if(c.endsWith('x')){var h=parseInt(c.split('x')[0],10);isNaN(h)||(P=1!==h&&P,x.push({headers:w,scale:h,uri:n,width:p,height:v}))}else console.warn('The provided format for scale is not supported yet. Please use scales like 1x, 2x, etc.')}),P&&null!=h&&x.push({headers:w,scale:1,uri:h,width:p,height:v}),0===x.length&&console.warn('The provided value for srcSet is not valid.'),o=x}else o=null!=h?[{uri:h,headers:w,width:p,height:v}]:null!=n&&n.uri&&Object.keys(w).length>0?[Object.assign({},n,{headers:w})]:n;return o};var t=s(r(d[1])),l=s(r(d[2]))},362,[1,34,93]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.convertObjectFitToResizeMode=function(o){return null!=o?n[o]:void 0};var n={contain:'contain',cover:'cover',fill:'stretch','scale-down':'contain',none:'none'}},363,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.unstable_getImageComponentDecorator=function(){return t},_e.unstable_registerImageAttachedCallback=function(e){u.add(e)},_e.unstable_setImageComponentDecorator=function(e){t=e},_e.unstable_unregisterImageAttachedCallback=function(e){u.delete(e)},_e.useWrapRefWithImageAttachedCallbacks=function(e){var t=(0,r.useRef)([]),o=(0,r.useRef)(null);null==o.current&&(o.current=function(e){null==e?t.current.length>0&&(t.current.forEach(function(e){return e()}),t.current=[]):u.forEach(function(n){var r=n(e);null!=r&&t.current.push(r)})});return(0,n.default)(e,o.current)};var t,n=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,c)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(c,f,o):c[f]=e[f]);return c})(e,t)})(_r(d[2]));var u=new Set},364,[1,327,75]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=(e(_r(d[3])),e(_r(d[4]))),l=e(_r(d[5])),o=e(_r(d[6])),f=e(_r(d[7])),u=e(_r(d[8])),s=e(_r(d[9])),i=e(_r(d[10])),c=e(_r(d[11])),p=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var l,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(l=t?n:r){if(l.has(e))return l.get(e);l.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?l(f,u,o):f[u]=e[u]);return f})(e,t)})(_r(d[12])),y=_r(d[13]),v=["ref"],j=["ref"];var h=function(e){var u=e.ref,i=(0,r.default)(e,j),v=(0,p.useMemo)(function(){var e=(0,o.default)((0,l.default)(i.style)),t=e.outer,r=e.inner;return{intermediatePropsForRefreshControl:{style:t},intermediatePropsForScrollView:Object.assign({},i,{style:r})}},[i]),h=v.intermediatePropsForRefreshControl,O=v.intermediatePropsForScrollView,_=(0,c.default)(h),b=(0,t.default)(_,2),P=b[0],C=b[1],w=(0,p.cloneElement)(i.refreshControl,Object.assign({},P,{ref:C})),M=(0,c.default)(O),F=(0,t.default)(M,2),k=F[0],x=F[1],E=(0,s.default)(x,u);return(0,y.jsx)(n.default,Object.assign({},k,{ref:E,refreshControl:w,style:f.default.compose(k.style,P.style)}))},O=(0,i.default)(n.default);_e.default=function(e){var t=e.ref,n=(0,r.default)(e,v);return'android'===u.default.OS&&null!=n.refreshControl&&null!=n.style?(0,y.jsx)(h,Object.assign({scrollEventThrottle:1e-4},n,{ref:t,refreshControl:n.refreshControl})):(0,y.jsx)(O,Object.assign({scrollEventThrottle:1e-4},n,{ref:t}))}},365,[1,34,4,366,371,9,375,6,69,327,322,391,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),f=e(_r(d[6])),s=p(_r(d[7])),u=(p(_r(d[8])),p(_r(d[9]))),l=_r(d[10]),h=["tintColor","titleColor","title"];function p(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(p=function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,f)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?i(f,s,o):f[s]=e[s]);return f})(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var v=(function(e){function u(){var e,t,n,f;(0,r.default)(this,u);for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];return t=this,n=u,f=[].concat(l),n=(0,o.default)(n),(e=(0,i.default)(t,c()?Reflect.construct(n,f||[],(0,o.default)(t).constructor):n.apply(t,f)))._lastNativeRefreshing=!1,e._onRefresh=function(){e._lastNativeRefreshing=!0,e.props.onRefresh&&e.props.onRefresh(),e.forceUpdate()},e._setNativeRef=function(t){e._nativeRef=t},e}return(0,f.default)(u,e),(0,n.default)(u,[{key:"componentDidMount",value:function(){this._lastNativeRefreshing=this.props.refreshing}},{key:"componentDidUpdate",value:function(e){this.props.refreshing!==e.refreshing?this._lastNativeRefreshing=this.props.refreshing:this.props.refreshing!==this._lastNativeRefreshing&&this._nativeRef&&(s.Commands.setNativeRefreshing(this._nativeRef,this.props.refreshing),this._lastNativeRefreshing=this.props.refreshing)}},{key:"render",value:function(){var e=this.props,r=(e.tintColor,e.titleColor,e.title,(0,t.default)(e,h));return(0,l.jsx)(s.default,Object.assign({},r,{ref:this._setNativeRef,onRefresh:this._onRefresh}))}}])})(u.Component);_e.default=v},366,[1,4,11,12,18,20,23,367,369,75,244]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},367,[368]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,s)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(s,f,i):s[f]=e[f])})(e,t)})(_r(d[3]));var t,r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidSwipeRefreshLayout",directEventTypes:{topRefresh:{registrationName:"onRefresh"}},validAttributes:Object.assign({enabled:!0,colors:{process:(t=_r(d[4]),'default'in t?t.default:t)},progressBackgroundColor:{process:_r(d[5]).default},size:!0,progressViewOffset:!0,refreshing:!0},_r(d[6]).ConditionallyIgnoredEventHandlers({onRefresh:!0}))};_e.default=_r(d[7]).get('AndroidSwipeRefreshLayout',function(){return r}),_e.Commands={setNativeRefreshing:function(e,t){_r(d[8]).dispatchCommand(e,"setNativeRefreshing",[t])}}},368,[1,106,275,75,92,55,105,78,107]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},369,[370]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,s)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(s,f,i):s[f]=e[f])})(e,t)})(_r(d[3]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTRefreshControl",directEventTypes:{topRefresh:{registrationName:"onRefresh"}},validAttributes:Object.assign({tintColor:{process:_r(d[4]).default},titleColor:{process:_r(d[4]).default},title:!0,progressViewOffset:!0,refreshing:!0},_r(d[5]).ConditionallyIgnoredEventHandlers({onRefresh:!0}))};_e.default=_r(d[6]).get('RCTRefreshControl',function(){return t}),_e.Commands={setNativeRefreshing:function(e,t){_r(d[7]).dispatchCommand(e,"setNativeRefreshing",[t])}}},370,[1,106,275,75,55,105,78,107]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(_r(d[1])),o=e(_r(d[2])),t=e(_r(d[3])),r=e(_r(d[4])),l=e(_r(d[5])),i=e(_r(d[6])),s=A(_r(d[7])),c=e(_r(d[8])),u=e(_r(d[9])),p=e(_r(d[10])),h=e(_r(d[11])),f=e(_r(d[12])),y=e(_r(d[13])),S=e(_r(d[14])),_=e(_r(d[15])),b=e(_r(d[16])),v=e(_r(d[17])),R=e(_r(d[18])),T=(e(_r(d[19])),e(_r(d[20]))),w=e(_r(d[21])),k=A(_r(d[22])),H=e(_r(d[23])),I=e(_r(d[24])),V=e(_r(d[25])),M=e(_r(d[26])),E=A(_r(d[27])),C=E,D=_r(d[28]),K=["experimental_endDraggingSensitivityMultiplier","maintainVisibleContentPosition"],O=["ref"];function A(e,n){if("function"==typeof WeakMap)var o=new WeakMap,t=new WeakMap;return(A=function(e,n){if(!n&&e&&e.__esModule)return e;var r,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=n?t:o){if(r.has(e))return r.get(e);r.set(e,i)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(l.get||l.set)?r(i,s,l):i[s]=e[s]);return i})(e,n)}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x=function(){return!!e})()}var N=(function(e){function V(e){var n,t,i,s,h,f,y,v;return(0,o.default)(this,V),f=this,y=V,v=[e],y=(0,l.default)(y),(h=(0,r.default)(f,x()?Reflect.construct(y,v||[],(0,l.default)(f).constructor):y.apply(f,v)))._scrollAnimatedValueAttachment=null,h._stickyHeaderRefs=new Map,h._headerLayoutYs=new Map,h._keyboardMetrics=null,h._additionalScrollOffset=0,h._isTouching=!1,h._lastMomentumScrollBeginTime=0,h._lastMomentumScrollEndTime=0,h._observedScrollSinceBecomingResponder=!1,h._becameResponderWhileAnimating=!1,h._preventNegativeScrollOffset=null,h._animated=null,h._subscriptionKeyboardWillShow=null,h._subscriptionKeyboardWillHide=null,h._subscriptionKeyboardDidShow=null,h._subscriptionKeyboardDidHide=null,h.state={layoutHeight:null},h.getScrollResponder=function(){return h},h.getScrollableNode=function(){return(0,_r(d[29]).findNodeHandle)(h.getNativeScrollRef())},h.getInnerViewNode=function(){return(0,_r(d[29]).findNodeHandle)(h._innerView.nativeInstance)},h.getInnerViewRef=function(){return h._innerView.nativeInstance},h.getNativeScrollRef=function(){return h._scrollView.nativeInstance},h.scrollTo=function(e,n,o){var t,r,l;'number'==typeof e?(console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead."),r=e,t=n,l=o):e&&(r=e.y,t=e.x,l=e.animated);var i=h.getNativeScrollRef();null!=i&&w.default.scrollTo(i,t||0,r||0,!1!==l)},h.scrollToEnd=function(e){var n=!1!==(e&&e.animated),o=h.getNativeScrollRef();null!=o&&w.default.scrollToEnd(o,n)},h.flashScrollIndicators=function(){var e=h.getNativeScrollRef();null!=e&&w.default.flashScrollIndicators(e)},h.scrollResponderScrollNativeHandleToKeyboard=function(e,n,o){h._additionalScrollOffset=n||0,h._preventNegativeScrollOffset=!!o,null!=h._innerView.nativeInstance&&('number'==typeof e?p.default.measureLayout(e,(0,M.default)((0,_r(d[29]).findNodeHandle)(h)),h._textInputFocusError,h._inputMeasureAndScrollToKeyboard):e.measureLayout(h._innerView.nativeInstance,h._inputMeasureAndScrollToKeyboard,h._textInputFocusError))},h.scrollResponderZoomTo=function(e,n){(0,I.default)('ios'===b.default.OS,'zoomToRect is not implemented'),'animated'in e?(h._animated=e.animated,delete e.animated):void 0!==n&&console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');var o=h.getNativeScrollRef();null!=o&&w.default.zoomToRect(o,e,!1!==n)},h._inputMeasureAndScrollToKeyboard=function(e,n,o,t){var r=S.default.get('window').height,l=function(){null!=h._keyboardMetrics&&(r=h._keyboardMetrics.screenY);var e=n-r+t+h._additionalScrollOffset;!0===h._preventNegativeScrollOffset&&(e=Math.max(0,e)),h.scrollTo({x:0,y:e,animated:!0}),h._additionalScrollOffset=0,h._preventNegativeScrollOffset=!1};null==h._keyboardMetrics?setTimeout(function(){l()},0):l()},h._handleScroll=function(e){h._observedScrollSinceBecomingResponder=!0,h.props.onScroll&&h.props.onScroll(e)},h._handleLayout=function(e){!0===h.props.invertStickyHeaders&&h.setState({layoutHeight:e.nativeEvent.layout.height}),h.props.onLayout&&h.props.onLayout(e)},h._handleContentOnLayout=function(e){var n=e.nativeEvent.layout,o=n.width,t=n.height;h.props.onContentSizeChange&&h.props.onContentSizeChange(o,t)},h._innerView=W(function(e){return e}),h._scrollView=W(function(e){return Object.assign(e,{getScrollResponder:h.getScrollResponder,getScrollableNode:h.getScrollableNode,getInnerViewNode:h.getInnerViewNode,getInnerViewRef:h.getInnerViewRef,getNativeScrollRef:h.getNativeScrollRef,scrollTo:h.scrollTo,scrollToEnd:h.scrollToEnd,flashScrollIndicators:h.flashScrollIndicators,scrollResponderZoomTo:h.scrollResponderZoomTo,scrollResponderScrollNativeHandleToKeyboard:h.scrollResponderScrollNativeHandleToKeyboard})}),h.scrollResponderKeyboardWillShow=function(e){h._keyboardMetrics=e.endCoordinates,h.props.onKeyboardWillShow&&h.props.onKeyboardWillShow(e)},h.scrollResponderKeyboardWillHide=function(e){h._keyboardMetrics=null,h.props.onKeyboardWillHide&&h.props.onKeyboardWillHide(e)},h.scrollResponderKeyboardDidShow=function(e){h._keyboardMetrics=e.endCoordinates,h.props.onKeyboardDidShow&&h.props.onKeyboardDidShow(e)},h.scrollResponderKeyboardDidHide=function(e){h._keyboardMetrics=null,h.props.onKeyboardDidHide&&h.props.onKeyboardDidHide(e)},h._handleMomentumScrollBegin=function(e){h._lastMomentumScrollBeginTime=g.performance.now(),h.props.onMomentumScrollBegin&&h.props.onMomentumScrollBegin(e)},h._handleMomentumScrollEnd=function(e){u.default.endScroll(),h._lastMomentumScrollEndTime=g.performance.now(),h.props.onMomentumScrollEnd&&h.props.onMomentumScrollEnd(e)},h._handleScrollBeginDrag=function(e){u.default.beginScroll(),'android'===b.default.OS&&'on-drag'===h.props.keyboardDismissMode&&(0,_.default)(),h.props.onScrollBeginDrag&&h.props.onScrollBeginDrag(e)},h._handleScrollEndDrag=function(e){var n=e.nativeEvent.velocity;h._isAnimating()||n&&(0!==n.x||0!==n.y)||u.default.endScroll(),h.props.onScrollEndDrag&&h.props.onScrollEndDrag(e)},h._isAnimating=function(){return g.performance.now()-h._lastMomentumScrollEndTime<16||h._lastMomentumScrollEndTime<h._lastMomentumScrollBeginTime},h._handleResponderGrant=function(e){h._observedScrollSinceBecomingResponder=!1,h.props.onResponderGrant&&h.props.onResponderGrant(e),h._becameResponderWhileAnimating=h._isAnimating()},h._handleResponderReject=function(){},h._handleResponderRelease=function(e){if(h._isTouching=0!==e.nativeEvent.touches.length,h.props.onResponderRelease&&h.props.onResponderRelease(e),'number'!=typeof e.target){var n=R.default.currentlyFocusedInput();null==n||!0===h.props.keyboardShouldPersistTaps||'always'===h.props.keyboardShouldPersistTaps||!h._keyboardIsDismissible()||e.target===n||h._observedScrollSinceBecomingResponder||h._becameResponderWhileAnimating||R.default.blurTextInput(n)}},h._handleResponderTerminationRequest=function(){return!h._observedScrollSinceBecomingResponder},h._handleScrollShouldSetResponder=function(){return!0!==h.props.disableScrollViewPanResponder&&h._isTouching},h._handleStartShouldSetResponder=function(e){if(!0===h.props.disableScrollViewPanResponder)return!1;var n=R.default.currentlyFocusedInput();return!('handled'!==h.props.keyboardShouldPersistTaps||!h._keyboardIsDismissible()||e.target===n)},h._handleStartShouldSetResponderCapture=function(e){if(h._isAnimating())return!0;if(!0===h.props.disableScrollViewPanResponder)return!1;var n=h.props.keyboardShouldPersistTaps,o=!n||'never'===n;return'number'!=typeof e.target&&(!h._softKeyboardIsDetached()&&!(!o||!h._keyboardIsDismissible()||null==e.target||R.default.isTextInput(e.target)))},h._keyboardIsDismissible=function(){var e=R.default.currentlyFocusedInput(),n=null!=e&&R.default.isTextInput(e),o=null!=h._keyboardMetrics||h._keyboardEventsAreUnreliable();return n&&o},h._softKeyboardIsDetached=function(){return null!=h._keyboardMetrics&&0===h._keyboardMetrics.height},h._keyboardEventsAreUnreliable=function(){return'android'===b.default.OS&&b.default.Version<30},h._handleTouchEnd=function(e){var n=e.nativeEvent;h._isTouching=0!==n.touches.length;var o=h.props.keyboardShouldPersistTaps,t=!o||'never'===o,r=R.default.currentlyFocusedInput();null!=r&&e.target!==r&&h._softKeyboardIsDetached()&&h._keyboardIsDismissible()&&t&&R.default.blurTextInput(r),h.props.onTouchEnd&&h.props.onTouchEnd(e)},h._handleTouchCancel=function(e){h._isTouching=!1,h.props.onTouchCancel&&h.props.onTouchCancel(e)},h._handleTouchStart=function(e){h._isTouching=!0,h.props.onTouchStart&&h.props.onTouchStart(e)},h._handleTouchMove=function(e){h.props.onTouchMove&&h.props.onTouchMove(e)},h._scrollAnimatedValue=new c.default.Value(null!=(n=null==(t=h.props.contentOffset)?void 0:t.y)?n:0),h._scrollAnimatedValue.setOffset(null!=(i=null==(s=h.props.contentInset)?void 0:s.top)?i:0),h}return(0,i.default)(V,e),(0,t.default)(V,[{key:"componentDidMount",value:function(){'boolean'==typeof this.props.keyboardShouldPersistTaps&&console.warn(`'keyboardShouldPersistTaps={${!0===this.props.keyboardShouldPersistTaps?'true':'false'}}' is deprecated. Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps?'always':'never'}"' instead`),this._keyboardMetrics=v.default.metrics(),this._additionalScrollOffset=0,this._subscriptionKeyboardWillShow=v.default.addListener('keyboardWillShow',this.scrollResponderKeyboardWillShow),this._subscriptionKeyboardWillHide=v.default.addListener('keyboardWillHide',this.scrollResponderKeyboardWillHide),this._subscriptionKeyboardDidShow=v.default.addListener('keyboardDidShow',this.scrollResponderKeyboardDidShow),this._subscriptionKeyboardDidHide=v.default.addListener('keyboardDidHide',this.scrollResponderKeyboardDidHide),this._updateAnimatedNodeAttachment()}},{key:"componentDidUpdate",value:function(e){var n=e.contentInset?e.contentInset.top:0,o=this.props.contentInset?this.props.contentInset.top:0;n!==o&&this._scrollAnimatedValue.setOffset(o||0),this._updateAnimatedNodeAttachment()}},{key:"componentWillUnmount",value:function(){null!=this._subscriptionKeyboardWillShow&&this._subscriptionKeyboardWillShow.remove(),null!=this._subscriptionKeyboardWillHide&&this._subscriptionKeyboardWillHide.remove(),null!=this._subscriptionKeyboardDidShow&&this._subscriptionKeyboardDidShow.remove(),null!=this._subscriptionKeyboardDidHide&&this._subscriptionKeyboardDidHide.remove(),this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach()}},{key:"_textInputFocusError",value:function(){console.warn('Error measuring text field.')}},{key:"_getKeyForIndex",value:function(e,n){var o=n[e];return o&&o.key}},{key:"_updateAnimatedNodeAttachment",value:function(){this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach(),this.props.stickyHeaderIndices&&this.props.stickyHeaderIndices.length>0&&(this._scrollAnimatedValueAttachment=c.default.attachNativeEvent(this.getNativeScrollRef(),'onScroll',[{nativeEvent:{contentOffset:{y:this._scrollAnimatedValue}}}]))}},{key:"_setStickyHeaderRef",value:function(e,n){n?this._stickyHeaderRefs.set(e,n):this._stickyHeaderRefs.delete(e)}},{key:"_onStickyHeaderLayout",value:function(e,n,o){var t=this.props.stickyHeaderIndices;if(t){var r=C.Children.toArray(this.props.children);if(o===this._getKeyForIndex(e,r)){var l=n.nativeEvent.layout.y;this._headerLayoutYs.set(o,l);var i=t.indexOf(e),s=t[i-1];if(null!=s){var c=this._stickyHeaderRefs.get(this._getKeyForIndex(s,r));c&&c.setNextHeaderY&&c.setNextHeaderY(l)}}}}},{key:"render",value:function(){var e=this,o=!0===this.props.horizontal,t=o?_r(d[30]).HScrollViewNativeComponent:_r(d[31]).VScrollViewNativeComponent,r=o?_r(d[30]).HScrollContentViewNativeComponent:_r(d[31]).VScrollContentViewNativeComponent,l=[o&&B.contentContainerHorizontal,this.props.contentContainerStyle],i=null==this.props.onContentSizeChange?null:{onLayout:this._handleContentOnLayout},c=this.props.stickyHeaderIndices,u=this.props.children;u=C.Children.toArray(u),null!=c&&c.length>0&&(u=u.map(function(n,o){var t=n?c.indexOf(o):-1;if(t>-1){var r=n.key,l=c[t+1],i=e.props.StickyHeaderComponent||H.default;return(0,D.jsx)(i,{ref:function(n){return e._setStickyHeaderRef(r,n)},nextHeaderLayoutY:e._headerLayoutYs.get(e._getKeyForIndex(l,u)),onLayout:function(n){return e._onStickyHeaderLayout(o,n,r)},scrollAnimatedValue:e._scrollAnimatedValue,inverted:e.props.invertStickyHeaders,hiddenOnScroll:e.props.stickyHeaderHiddenOnScroll,scrollViewHeight:e.state.layoutHeight,children:n},r)}return n})),u=(0,D.jsx)(k.default.Provider,{value:o?k.HORIZONTAL:k.VERTICAL,children:u});var p=Array.isArray(c)&&c.length>0,S=null!=this.props.maintainVisibleContentPosition||'android'===b.default.OS&&null!=this.props.snapToAlignment,_=(0,D.jsx)(r,Object.assign({},i,{ref:this._innerView.getForwardingRef(this.props.innerViewRef),style:l,removeClippedSubviews:('android'!==b.default.OS||!p)&&this.props.removeClippedSubviews,collapsable:!1,collapsableChildren:!S,children:u})),v=void 0!==this.props.alwaysBounceHorizontal?this.props.alwaysBounceHorizontal:this.props.horizontal,R=void 0!==this.props.alwaysBounceVertical?this.props.alwaysBounceVertical:!this.props.horizontal,w=o?B.baseHorizontal:B.baseVertical,I=this.props,V=I.experimental_endDraggingSensitivityMultiplier,M=(I.maintainVisibleContentPosition,(0,n.default)(I,K)),O=Object.assign({},M,{alwaysBounceHorizontal:v,alwaysBounceVertical:R,style:y.default.compose(w,this.props.style),onContentSizeChange:null,onLayout:this._handleLayout,onMomentumScrollBegin:this._handleMomentumScrollBegin,onMomentumScrollEnd:this._handleMomentumScrollEnd,onResponderGrant:this._handleResponderGrant,onResponderReject:this._handleResponderReject,onResponderRelease:this._handleResponderRelease,onResponderTerminationRequest:this._handleResponderTerminationRequest,onScrollBeginDrag:this._handleScrollBeginDrag,onScrollEndDrag:this._handleScrollEndDrag,onScrollShouldSetResponder:this._handleScrollShouldSetResponder,onStartShouldSetResponder:this._handleStartShouldSetResponder,onStartShouldSetResponderCapture:this._handleStartShouldSetResponderCapture,onTouchEnd:this._handleTouchEnd,onTouchMove:this._handleTouchMove,onTouchStart:this._handleTouchStart,onTouchCancel:this._handleTouchCancel,onScroll:this._handleScroll,endDraggingSensitivityMultiplier:V,scrollEventThrottle:p?1:this.props.scrollEventThrottle,sendMomentumEvents:!(!this.props.onMomentumScrollBegin&&!this.props.onMomentumScrollEnd),snapToStart:!1!==this.props.snapToStart,snapToEnd:!1!==this.props.snapToEnd,pagingEnabled:b.default.select({ios:!0===this.props.pagingEnabled&&null==this.props.snapToInterval&&null==this.props.snapToOffsets,android:!0===this.props.pagingEnabled||null!=this.props.snapToInterval||null!=this.props.snapToOffsets}),maintainVisibleContentPosition:s.disableMaintainVisibleContentPosition()?void 0:this.props.maintainVisibleContentPosition}),A=this.props.decelerationRate;null!=A&&(O.decelerationRate=(0,T.default)(A));var x=this.props.refreshControl,N=this._scrollView.getForwardingRef(this.props.scrollViewRef);if(null!=x){if('ios'===b.default.OS)return(0,D.jsxs)(t,Object.assign({},O,{ref:N,children:[x,_]}));if('android'===b.default.OS){var W=(0,f.default)((0,h.default)(O.style)),P=W.outer,j=W.inner;return(0,E.cloneElement)(x,{style:y.default.compose(w,P)},(0,D.jsx)(t,Object.assign({},O,{style:y.default.compose(w,j),ref:N,children:_})))}}return(0,D.jsx)(t,Object.assign({},O,{ref:N,children:_}))}}])})(C.Component);N.Context=k.default;var B=y.default.create({baseVertical:{flexGrow:1,flexShrink:1,flexDirection:'column',overflow:'scroll'},baseHorizontal:{flexGrow:1,flexShrink:1,flexDirection:'row',overflow:'scroll'},contentContainerHorizontal:{flexDirection:'row'}});function W(e){var n={getForwardingRef:(0,V.default)(function(o){return function(t){var r=null==t?null:e(t);n.nativeInstance=t,n.publicInstance=r,null!=o&&('function'==typeof o?o(r):o.current=r)}}),nativeInstance:null,publicInstance:null};return n}var P=function(e){var o=e.ref,t=(0,n.default)(e,O);return null==o?(0,D.jsx)(N,Object.assign({},t)):(0,D.jsx)(N,Object.assign({},t,{scrollViewRef:o}))};P.displayName='ScrollView',P.Context=k.default;_e.default=P},371,[1,4,11,12,18,20,23,50,296,372,80,9,375,6,16,376,69,377,131,72,381,382,383,384,32,353,81,75,244,107,385,390]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[1])),u={setGlobalOptions:function(l){void 0!==l.debug&&r(d[2])(t.default,'Trying to debug FrameRateLogger without the native module!'),null==t.default||t.default.setGlobalOptions({debug:!!l.debug})},setContext:function(l){null==t.default||t.default.setContext(l)},beginScroll:function(){null==t.default||t.default.beginScroll()},endScroll:function(){null==t.default||t.default.endScroll()}};e.default=u},372,[1,373,32]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},373,[374]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('FrameRateLogger')},374,[31]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s){var c=null,t=null;if(null!=s)for(var n of(c={},t={},Object.keys(s)))switch(n){case'margin':case'marginHorizontal':case'marginVertical':case'marginBottom':case'marginTop':case'marginLeft':case'marginRight':case'flex':case'flexGrow':case'flexShrink':case'flexBasis':case'alignSelf':case'height':case'minHeight':case'maxHeight':case'width':case'minWidth':case'maxWidth':case'position':case'left':case'right':case'bottom':case'top':case'transform':case'transformOrigin':case'rowGap':case'columnGap':case'gap':c[n]=s[n];break;default:t[n]=s[n]}return{outer:c,inner:t}}},375,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(){r(d[0]).default.blurTextInput(r(d[0]).default.currentlyFocusedInput())}},376,[131]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),s=t(r(d[5])),f=t(r(d[6])),c=t(r(d[7])),y=new((function(){return(0,u.default)(function t(){var u=this;(0,n.default)(this,t),this._emitter=new l.default('ios'!==f.default.OS?null:c.default),this.addListener('keyboardDidShow',function(t){u._currentlyShowing=t}),this.addListener('keyboardDidHide',function(t){u._currentlyShowing=null})},[{key:"addListener",value:function(t,n,u){return this._emitter.addListener(t,n)}},{key:"removeAllListeners",value:function(t){this._emitter.removeAllListeners(t)}},{key:"dismiss",value:function(){(0,s.default)()}},{key:"isVisible",value:function(){return!!this._currentlyShowing}},{key:"metrics",value:function(){var t;return null==(t=this._currentlyShowing)?void 0:t.endCoordinates}},{key:"scheduleLayoutAnimation",value:function(t){var n=t.duration,u=t.easing;null!=n&&0!==n&&o.default.configureNext({duration:n,update:{duration:n,type:null!=u&&o.default.Types[u]||'keyboard'}})}}])})());e.default=y},377,[1,11,12,201,378,376,69,379]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var r,u,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=n?i:t){if(r.has(e))return r.get(e);r.set(e,o)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(u.get||u.set)?r(o,l,u):o[l]=e[l]);return o})(e,n)})(_r(d[1])),t=e(_r(d[2]));var i=n.isLayoutAnimationEnabled();function r(e,n,r){var u;if(!t.default.isDisableAnimations&&i){var o,l=!1,s=function(){l||(l=!0,clearTimeout(c),null==n||n())},c=setTimeout(s,(null!=(u=e.duration)?u:0)+17),p=(0,_r(d[3]).getFabricUIManager)();if(null!=p&&p.configureNextLayoutAnimation)null==(o=g)||null==(o=o.nativeFabricUIManager)||o.configureNextLayoutAnimation(e,s,null!=r?r:function(){});else null!=_r(d[4]).default&&_r(d[4]).default.configureNextLayoutAnimation&&_r(d[4]).default.configureNextLayoutAnimation(e,null!=s?s:function(){},null!=r?r:function(){})}}function u(e,n,t){return{duration:e,create:{type:n,property:t},update:{type:n},delete:{type:n,property:t}}}var o={easeInEaseOut:u(300,'easeInEaseOut','opacity'),linear:u(500,'linear','opacity'),spring:{duration:700,create:{type:'linear',property:'opacity'},update:{type:'spring',springDamping:.4},delete:{type:'linear',property:'opacity'}}},l={configureNext:r,create:u,Types:Object.freeze({spring:'spring',linear:'linear',easeInEaseOut:'easeInEaseOut',easeIn:'easeIn',easeOut:'easeOut',keyboard:'keyboard'}),Properties:Object.freeze({opacity:'opacity',scaleX:'scaleX',scaleY:'scaleY',scaleXY:'scaleXY'}),checkConfig:function(){console.error('LayoutAnimation.checkConfig(...) has been disabled.')},Presets:o,easeInEaseOut:r.bind(null,o.easeInEaseOut),linear:r.bind(null,o.linear),spring:r.bind(null,o.spring),setEnabled:function(e){}};_e.default=l},378,[1,50,69,83,80]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},379,[380]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('KeyboardObserver')},380,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1]));e.default=function(t){return'normal'===t?o.default.select({ios:.998,android:.985}):'fast'===t?o.default.select({ios:.99,android:.9}):t}},381,[1,69]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1]));!(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,f,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((f=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(f.get||f.set)?n(l,u,f):l[u]=e[u])})(e,t)})(_r(d[2]));_e.default=(0,t.default)({supportedCommands:['flashScrollIndicators','scrollTo','scrollToEnd','zoomToRect']})},382,[1,106,75]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.VERTICAL=_e.HORIZONTAL=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));var t=(0,e.createContext)(null);_e.default=t,_e.HORIZONTAL=Object.freeze({horizontal:!0}),_e.VERTICAL=Object.freeze({horizontal:!1})},383,[75]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),u=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),l=e(_r(d[5])),o=e(_r(d[6])),i=(function(e,t){if("function"==typeof WeakMap)var u=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=t?n:u){if(r.has(e))return r.get(e);r.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?r(o,i,l):o[i]=e[i]);return o})(e,t)})(_r(d[7])),f=i,s=_r(d[8]),p=["ref"];var c=r.default.create({fill:{flex:1},header:{zIndex:10}});_e.default=function(e){var r=e.ref,v=(0,u.default)(e,p),h=v.inverted,y=v.scrollViewHeight,R=v.hiddenOnScroll,_=v.scrollAnimatedValue,L=v.nextHeaderLayoutY,S=(0,i.useState)(!1),b=(0,t.default)(S,2),x=b[0],O=b[1],w=(0,i.useState)(0),E=(0,t.default)(w,2),M=E[0],P=E[1],j=(0,i.useState)(0),k=(0,t.default)(j,2),C=k[0],I=k[1],V=(0,i.useState)(null),Y=(0,t.default)(V,2),D=Y[0],H=Y[1],T=(0,i.useState)(L),W=(0,t.default)(T,2),A=W[0],z=W[1],N=(0,i.useState)(!1),q=(0,t.default)(N,2),B=q[0],F=q[1],G=(0,i.useCallback)(function(e){null!=e&&(e.setNextHeaderY=z,F((0,_r(d[9]).isPublicInstance)(e)))},[]),J=(0,o.default)(G,r),K=(0,i.useMemo)(function(){return!0===R?n.default.diffClamp(_.interpolate({extrapolateLeft:'clamp',inputRange:[M,M+1],outputRange:[0,1]}).interpolate({inputRange:[0,1],outputRange:[0,-1]}),-C,0):null},[_,C,M,R]),Q=(0,i.useState)(function(){var e=_.interpolate({inputRange:[-1,0],outputRange:[0,0]});return null!=K?n.default.add(e,K):e}),U=(0,t.default)(Q,2),X=U[0],Z=U[1],$=(0,i.useRef)(!0),ee=(0,i.useRef)(null);(0,i.useEffect)(function(){0!==D&&null!=D&&($.current=!1)},[D]);var te=(0,i.useCallback)(function(e){var t=e.value,u='android'===l.default.OS?15:64;0!==t||$.current?(null!=ee.current&&clearTimeout(ee.current),ee.current=setTimeout(function(){return H(t)},u)):$.current=!0},[]);(0,i.useEffect)(function(){var e=[-1,0],t=[0,0];if(x)if(!0===h){if(null!=y){var u=M+C-y;if(u>0){e.push(u),t.push(0),e.push(u+1),t.push(1);var r=(A||0)-C-y;r>u&&(e.push(r,r+1),t.push(r-u,r-u))}}}else{e.push(M),t.push(0);var l=(A||0)-C;l>=M?(e.push(l,l+1),t.push(l-M,l-M)):(e.push(M+1),t.push(1))}var o,i=_.interpolate({inputRange:e,outputRange:t});return null!=K&&(i=n.default.add(i,K)),B&&(o=i.addListener(te)),Z(i),function(){o&&i.removeListener(o),null!=ee.current&&clearTimeout(ee.current)}},[A,x,C,M,y,_,h,K,te,B]);var ue=f.Children.only(v.children),ne=B&&null!=D?{style:{transform:[{translateY:D}]}}:null;return(0,s.jsx)(n.default.View,{collapsable:!1,nativeID:v.nativeID,onLayout:function(e){P(e.nativeEvent.layout.y),I(e.nativeEvent.layout.height),O(!0),v.onLayout(e);var t=f.Children.only(v.children);t.props.onLayout&&t.props.onLayout(e)},ref:J,style:[ue.props.style,c.header,{transform:[{translateY:X}]}],passthroughAnimatedPropExplicitValues:ne,children:(0,i.cloneElement)(ue,{onLayout:void 0,style:c.fill})})}},384,[1,34,4,294,6,69,327,75,244,326]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.HScrollViewNativeComponent=e.HScrollContentViewNativeComponent=void 0;var o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),f=t(r(d[5]));e.HScrollViewNativeComponent='android'===u.default.OS?o.default:l.default,e.HScrollContentViewNativeComponent='android'===u.default.OS?f.default:n.default},385,[1,386,387,388,69,389]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,o){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,o){if(!o&&e&&e.__esModule)return e;var n,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=o?t:r){if(n.has(e))return n.get(e);n.set(e,i)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(l.get||l.set)?n(i,s,l):i[s]=e[s]);return i})(e,o)})(_r(d[0]));var o=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'AndroidHorizontalScrollView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{decelerationRate:!0,disableIntervalMomentum:!0,maintainVisibleContentPosition:!0,endFillColor:{process:_r(d[1]).default},fadingEdgeLength:!0,nestedScrollEnabled:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,horizontal:!0,scrollEnabled:!0,scrollEventThrottle:!0,scrollPerfTag:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToStart:!0,snapToOffsets:!0,contentOffset:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderRadius:!0,borderStyle:!0,borderRightColor:{process:_r(d[1]).default},borderColor:{process:_r(d[1]).default},borderBottomColor:{process:_r(d[1]).default},borderTopLeftRadius:!0,borderTopColor:{process:_r(d[1]).default},removeClippedSubviews:!0,borderTopRightRadius:!0,borderLeftColor:{process:_r(d[1]).default},pointerEvents:!0}},r=e.get('AndroidHorizontalScrollView',function(){return o});_e.default=r},386,[78,55]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'RCTScrollContentView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{}},n=e.get('RCTScrollContentView',function(){return t});_e.default=n},387,[78]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var o=(function(e,o){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,o){if(!o&&e&&e.__esModule)return e;var r,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=o?n:t){if(r.has(e))return r.get(e);r.set(e,i)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(l.get||l.set)?r(i,s,l):i[s]=e[s]);return i})(e,o)})(_r(d[1])),t=e(_r(d[2]));var n=_e.__INTERNAL_VIEW_CONFIG='android'===t.default.OS?{uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'}},validAttributes:{contentOffset:{diff:_r(d[3]).default},decelerationRate:!0,disableIntervalMomentum:!0,maintainVisibleContentPosition:!0,pagingEnabled:!0,scrollEnabled:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,sendMomentumEvents:!0,borderRadius:!0,nestedScrollEnabled:!0,scrollEventThrottle:!0,borderStyle:!0,borderRightColor:{process:_r(d[4]).default},borderColor:{process:_r(d[4]).default},borderBottomColor:{process:_r(d[4]).default},persistentScrollbar:!0,horizontal:!0,endFillColor:{process:_r(d[4]).default},fadingEdgeLength:!0,overScrollMode:!0,borderTopLeftRadius:!0,scrollPerfTag:!0,borderTopColor:{process:_r(d[4]).default},removeClippedSubviews:!0,borderTopRightRadius:!0,borderLeftColor:{process:_r(d[4]).default},pointerEvents:!0,isInvertedVirtualizedList:!0}}:{uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topScrollToTop:{registrationName:'onScrollToTop'}},validAttributes:Object.assign({alwaysBounceHorizontal:!0,alwaysBounceVertical:!0,automaticallyAdjustContentInsets:!0,automaticallyAdjustKeyboardInsets:!0,automaticallyAdjustsScrollIndicatorInsets:!0,bounces:!0,bouncesZoom:!0,canCancelContentTouches:!0,centerContent:!0,contentInset:{diff:_r(d[5]).default},contentOffset:{diff:_r(d[3]).default},contentInsetAdjustmentBehavior:!0,decelerationRate:!0,endDraggingSensitivityMultiplier:!0,directionalLockEnabled:!0,disableIntervalMomentum:!0,indicatorStyle:!0,inverted:!0,keyboardDismissMode:!0,maintainVisibleContentPosition:!0,maximumZoomScale:!0,minimumZoomScale:!0,pagingEnabled:!0,pinchGestureEnabled:!0,scrollEnabled:!0,scrollEventThrottle:!0,scrollIndicatorInsets:{diff:_r(d[5]).default},scrollToOverflowEnabled:!0,scrollsToTop:!0,showsHorizontalScrollIndicator:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,verticalScrollIndicatorInsets:{diff:_r(d[5]).default},zoomScale:!0},(0,_r(d[6]).ConditionallyIgnoredEventHandlers)({onScrollBeginDrag:!0,onMomentumScrollEnd:!0,onScrollEndDrag:!0,onMomentumScrollBegin:!0,onScrollToTop:!0,onScroll:!0}))},r=o.get('RCTScrollView',function(){return n});_e.default=r},388,[1,78,69,90,55,91,105]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var o=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidHorizontalScrollContentView",validAttributes:{removeClippedSubviews:!0}};e.default=r(d[2]).get('AndroidHorizontalScrollContentView',function(){return o})},389,[1,275,78]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.VScrollViewNativeComponent=e.VScrollContentViewNativeComponent=void 0;var t=o(r(d[1])),n=o(r(d[2])),l=o(r(d[3])),v=o(r(d[4]));e.VScrollViewNativeComponent=n.default,e.VScrollContentViewNativeComponent='android'===v.default.OS?l.default:t.default},390,[1,387,388,72,69]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(r(d[1]));e.default=(0,u.default)(null)},391,[1,323]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},392,[1,393,322,75]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),f=e(_r(d[6])),u=e(_r(d[7])),s=e(_r(d[8])),l=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?i(f,u,o):f[u]=e[u]);return f})(e,t)})(_r(d[9])),c=_r(d[10]),p=["stickySectionHeadersEnabled"];function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var _=s.default.VirtualizedSectionList;_e.default=(function(e){function s(){var e,t,n,f;(0,r.default)(this,s);for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return t=this,n=s,f=[].concat(l),n=(0,o.default)(n),(e=(0,i.default)(t,v()?Reflect.construct(n,f||[],(0,o.default)(t).constructor):n.apply(t,f)))._captureRef=function(t){e._wrapperListRef=t},e}return(0,f.default)(s,e),(0,n.default)(s,[{key:"scrollToLocation",value:function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}},{key:"recordInteraction",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}},{key:"getScrollableNode",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}},{key:"setNativeProps",value:function(e){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.setNativeProps(e)}},{key:"render",value:function(){var e=this.props,r=e.stickySectionHeadersEnabled,n=(0,t.default)(e,p),i=null!=r?r:'ios'===u.default.OS;return(0,c.jsx)(_,Object.assign({},n,{stickySectionHeadersEnabled:i,ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))}}])})(l.PureComponent)},393,[1,4,11,12,18,20,23,69,338,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},394,[1,281,322,75]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},395,[1,72,322,75]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=e(_r(d[1])),t=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),i=e(_r(d[5])),s=e(_r(d[6])),u=e(_r(d[7])),l=e(_r(d[8])),f=e(_r(d[9])),p=e(_r(d[10])),c=_(_r(d[11])),w=e(_r(d[12])),h=_(_r(d[13])),v=h,D=_r(d[14]),y=["drawerBackgroundColor","onDrawerStateChanged","renderNavigationView","onDrawerOpen","onDrawerClose"];function _(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(_=function(e,r){if(!r&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(s,u,i):s[u]=e[u]);return s})(e,r)}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}var b=['Idle','Dragging','Settling'],k=(function(e){function u(){var e,r,n,s;(0,t.default)(this,u);for(var f=arguments.length,p=new Array(f),c=0;c<f;c++)p[c]=arguments[c];return r=this,n=u,s=[].concat(p),n=(0,i.default)(n),(e=(0,o.default)(r,C()?Reflect.construct(n,s||[],(0,i.default)(r).constructor):n.apply(r,s)))._nativeRef=(0,h.createRef)(),e.state={drawerOpened:!1},e._onDrawerSlide=function(r){e.props.onDrawerSlide&&e.props.onDrawerSlide(r),'on-drag'===e.props.keyboardDismissMode&&(0,l.default)()},e._onDrawerOpen=function(){e.setState({drawerOpened:!0}),e.props.onDrawerOpen&&e.props.onDrawerOpen()},e._onDrawerClose=function(){e.setState({drawerOpened:!1}),e.props.onDrawerClose&&e.props.onDrawerClose()},e._onDrawerStateChanged=function(r){e.props.onDrawerStateChanged&&e.props.onDrawerStateChanged(b[r.nativeEvent.drawerState])},e}return(0,s.default)(u,e),(0,n.default)(u,[{key:"render",value:function(){var e=this.props,t=e.drawerBackgroundColor,n=void 0===t?'white':t,o=(e.onDrawerStateChanged,e.renderNavigationView),i=(e.onDrawerOpen,e.onDrawerClose,(0,r.default)(e,y)),s=null!=this.props.statusBarBackgroundColor,u=(0,D.jsxs)(p.default,{style:[S.drawerSubview,{width:this.props.drawerWidth,backgroundColor:n}],pointerEvents:this.state.drawerOpened?'auto':'none',collapsable:!1,children:[o(),s&&(0,D.jsx)(p.default,{style:S.drawerStatusBar})]}),l=(0,D.jsxs)(p.default,{style:S.mainSubview,collapsable:!1,children:[s&&(0,D.jsx)(f.default,{translucent:!0,backgroundColor:this.props.statusBarBackgroundColor}),s&&(0,D.jsx)(p.default,{style:[S.statusBar,{backgroundColor:this.props.statusBarBackgroundColor}]}),this.props.children]});return(0,D.jsxs)(c.default,Object.assign({},i,{ref:this._nativeRef,drawerBackgroundColor:n,drawerWidth:this.props.drawerWidth,drawerPosition:this.props.drawerPosition,drawerLockMode:this.props.drawerLockMode,style:[S.base,this.props.style],onDrawerSlide:this._onDrawerSlide,onDrawerOpen:this._onDrawerOpen,onDrawerClose:this._onDrawerClose,onDrawerStateChanged:this._onDrawerStateChanged,children:[l,u]}))}},{key:"openDrawer",value:function(){c.Commands.openDrawer((0,w.default)(this._nativeRef.current))}},{key:"closeDrawer",value:function(){c.Commands.closeDrawer((0,w.default)(this._nativeRef.current))}},{key:"blur",value:function(){(0,w.default)(this._nativeRef.current).blur()}},{key:"focus",value:function(){(0,w.default)(this._nativeRef.current).focus()}},{key:"measure",value:function(e){(0,w.default)(this._nativeRef.current).measure(e)}},{key:"measureInWindow",value:function(e){(0,w.default)(this._nativeRef.current).measureInWindow(e)}},{key:"measureLayout",value:function(e,r,t){(0,w.default)(this._nativeRef.current).measureLayout(e,r,t)}},{key:"setNativeProps",value:function(e){(0,w.default)(this._nativeRef.current).setNativeProps(e)}}],[{key:"positions",get:function(){return console.warn('Setting DrawerLayoutAndroid drawerPosition using `DrawerLayoutAndroid.positions` is deprecated. Instead pass the string value "left" or "right"'),{Left:'left',Right:'right'}}}])})(v.Component),S=u.default.create({base:{flex:1,elevation:16},mainSubview:{position:'absolute',top:0,left:0,right:0,bottom:0},drawerSubview:{position:'absolute',top:0,bottom:0},statusBar:{height:f.default.currentHeight},drawerStatusBar:{position:'absolute',top:0,left:0,right:0,height:f.default.currentHeight,backgroundColor:'rgba(0, 0, 0, 0.251)'}});_e.default=k},396,[1,4,11,12,18,20,23,6,376,397,72,402,81,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e,n,l=t(_r(d[1])),r=t(_r(d[2])),u=t(_r(d[3])),o=t(_r(d[4])),i=t(_r(d[5])),c=t(_r(d[6])),s=t(_r(d[7])),f=t(_r(d[8])),p=t(_r(d[9])),v=t(_r(d[10]));function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}function k(t){var e,n,l=null!=(e=t.animated)&&e,r=null!=(n=t.showHideTransition)?n:'fade';return{backgroundColor:null!=t.backgroundColor?{value:t.backgroundColor,animated:l}:null,barStyle:null!=t.barStyle?{value:t.barStyle,animated:l}:null,translucent:t.translucent,hidden:null!=t.hidden?{value:t.hidden,animated:l,transition:r}:null,networkActivityIndicatorVisible:t.networkActivityIndicatorVisible}}var S=(function(t){function e(){var t,n,r,i;(0,l.default)(this,e);for(var c=arguments.length,s=new Array(c),f=0;f<c;f++)s[f]=arguments[f];return n=this,r=e,i=[].concat(s),r=(0,o.default)(r),(t=(0,u.default)(n,y()?Reflect.construct(r,i||[],(0,o.default)(n).constructor):r.apply(n,i)))._stackEntry=null,t}return(0,i.default)(e,t),(0,r.default)(e,[{key:"componentDidMount",value:function(){this._stackEntry=e.pushStackEntry(this.props)}},{key:"componentWillUnmount",value:function(){null!=this._stackEntry&&e.popStackEntry(this._stackEntry)}},{key:"componentDidUpdate",value:function(){null!=this._stackEntry&&(this._stackEntry=e.replaceStackEntry(this._stackEntry,this.props))}},{key:"render",value:function(){return null}}],[{key:"setHidden",value:function(t,n){n=n||'none',e._defaultProps.hidden.value=t,'ios'===s.default.OS?p.default.setHidden(t,n):'android'===s.default.OS&&f.default.setHidden(t)}},{key:"setBarStyle",value:function(t,n){n=n||!1,e._defaultProps.barStyle.value=t,'ios'===s.default.OS?p.default.setStyle(t,n):'android'===s.default.OS&&f.default.setStyle(t)}},{key:"setNetworkActivityIndicatorVisible",value:function(t){'ios'===s.default.OS?(e._defaultProps.networkActivityIndicatorVisible=t,p.default.setNetworkActivityIndicatorVisible(t)):console.warn('`setNetworkActivityIndicatorVisible` is only available on iOS')}},{key:"setBackgroundColor",value:function(t,n){if('android'===s.default.OS){n=n||!1,e._defaultProps.backgroundColor.value=t;var l=(0,c.default)(t);null!=l?((0,v.default)('number'==typeof l,'Unexpected color given for StatusBar.setBackgroundColor'),f.default.setColor(l,n)):console.warn(`\`StatusBar.setBackgroundColor\`: Color ${String(t)} parsed to null or undefined`)}else console.warn('`setBackgroundColor` is only available on Android')}},{key:"setTranslucent",value:function(t){'android'===s.default.OS?(e._defaultProps.translucent=t,f.default.setTranslucent(t)):console.warn('`setTranslucent` is only available on Android')}},{key:"pushStackEntry",value:function(t){var n=k(t);return e._propsStack.push(n),e._updatePropsStack(),n}},{key:"popStackEntry",value:function(t){var n=e._propsStack.indexOf(t);-1!==n&&e._propsStack.splice(n,1),e._updatePropsStack()}},{key:"replaceStackEntry",value:function(t,n){var l=k(n),r=e._propsStack.indexOf(t);return-1!==r&&(e._propsStack[r]=l),e._updatePropsStack(),l}}])})((function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,l=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,u,o={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return o;if(r=e?l:n){if(r.has(t))return r.get(t);r.set(t,o)}for(var i in t)"default"!==i&&{}.hasOwnProperty.call(t,i)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,i))&&(u.get||u.set)?r(o,i,u):o[i]=t[i]);return o})(t,e)})(_r(d[11])).Component);e=S,S._propsStack=[],S._defaultProps=k({backgroundColor:'android'===s.default.OS&&null!=(n=f.default.getConstants().DEFAULT_BACKGROUND_COLOR)?n:'black',barStyle:'default',translucent:!1,hidden:!1,networkActivityIndicatorVisible:!1}),S._updateImmediate=null,S._currentValues=null,S.currentHeight='android'===s.default.OS?f.default.getConstants().HEIGHT:null,S._updatePropsStack=function(){clearImmediate(e._updateImmediate),e._updateImmediate=setImmediate(function(){var t,n,l,r,u=e._currentValues,o=(t=e._propsStack,n=e._defaultProps,t.reduce(function(t,e){for(var n in e)null!=e[n]&&(t[n]=e[n]);return t},Object.assign({},n)));if('ios'===s.default.OS)u&&(null==(l=u.barStyle)?void 0:l.value)===o.barStyle.value||p.default.setStyle(o.barStyle.value,o.barStyle.animated||!1),u&&(null==(r=u.hidden)?void 0:r.value)===o.hidden.value||p.default.setHidden(o.hidden.value,o.hidden.animated?o.hidden.transition:'none'),u&&u.networkActivityIndicatorVisible===o.networkActivityIndicatorVisible||p.default.setNetworkActivityIndicatorVisible(o.networkActivityIndicatorVisible);else if('android'===s.default.OS){var i;f.default.setStyle(o.barStyle.value);var y=(0,c.default)(o.backgroundColor.value);null==y?console.warn(`\`StatusBar._updatePropsStack\`: Color ${o.backgroundColor.value} parsed to null or undefined`):((0,v.default)('number'==typeof y,'Unexpected color given in StatusBar._updatePropsStack'),f.default.setColor(y,o.backgroundColor.animated)),u&&(null==(i=u.hidden)?void 0:i.value)===o.hidden.value||f.default.setHidden(o.hidden.value),u&&u.translucent===o.translucent&&!o.translucent||f.default.setTranslucent(o.translucent)}e._currentValues=o})};_e.default=S},397,[1,11,12,18,20,23,55,69,398,400,32,75]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},398,[399]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0])).getEnforcing('StatusBarManager'),t=null,n={getConstants:function(){return null==t&&(t=e.getConstants()),t},setColor:function(t,n){e.setColor(t,n)},setTranslucent:function(t){e.setTranslucent(t)},setStyle:function(t){e.setStyle(t)},setHidden:function(t){e.setHidden(t)}};_e.default=n},399,[31]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},400,[401]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?r(u,f,o):u[f]=e[f]);return u})(e,t)})(_r(d[0])).getEnforcing('StatusBarManager'),t=null,n={getConstants:function(){return null==t&&(t=e.getConstants()),t},getHeight:function(t){e.getHeight(t)},setNetworkActivityIndicatorVisible:function(t){e.setNetworkActivityIndicatorVisible(t)},addListener:function(t){e.addListener(t)},removeListeners:function(t){e.removeListeners(t)},setStyle:function(t,n){e.setStyle(t,n)},setHidden:function(t,n){e.setHidden(t,n)}};_e.default=n},401,[31]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},402,[403]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,r){if("function"==typeof WeakMap)var o=new WeakMap,t=new WeakMap;(function(e,r){if(!r&&e&&e.__esModule)return e;var n,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=r?t:o){if(n.has(e))return n.get(e);n.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?n(s,l,i):s[l]=e[l])})(e,r)})(_r(d[3]));var r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidDrawerLayout",directEventTypes:{topDrawerSlide:{registrationName:"onDrawerSlide"},topDrawerStateChanged:{registrationName:"onDrawerStateChanged"},topDrawerOpen:{registrationName:"onDrawerOpen"},topDrawerClose:{registrationName:"onDrawerClose"}},validAttributes:Object.assign({keyboardDismissMode:!0,drawerBackgroundColor:{process:_r(d[4]).default},drawerPosition:!0,drawerWidth:!0,drawerLockMode:!0,statusBarBackgroundColor:{process:_r(d[4]).default}},_r(d[5]).ConditionallyIgnoredEventHandlers({onDrawerSlide:!0,onDrawerStateChanged:!0,onDrawerOpen:!0,onDrawerClose:!0}))};_e.default=_r(d[6]).get('AndroidDrawerLayout',function(){return r}),_e.Commands={openDrawer:function(e){_r(d[7]).dispatchCommand(e,"openDrawer",[])},closeDrawer:function(e){_r(d[7]).dispatchCommand(e,"closeDrawer",[])}}},403,[1,106,275,75,55,105,78,107]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),i=e(_r(d[4])),l=e(_r(d[5])),o=e(_r(d[6])),u=e(_r(d[7])),f=e(_r(d[8])),c=e(_r(d[9])),s=e(_r(d[10])),p=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?i(o,u,l):o[u]=e[u]);return o})(e,t)})(_r(d[11])),v=_r(d[12]),y=["children","style","imageStyle","imageRef","importantForAccessibility"];function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}var _=(function(e){function p(){var e,t,n,o;(0,r.default)(this,p);for(var u=arguments.length,f=new Array(u),c=0;c<u;c++)f[c]=arguments[c];return t=this,n=p,o=[].concat(f),n=(0,l.default)(n),(e=(0,i.default)(t,h()?Reflect.construct(n,o||[],(0,l.default)(t).constructor):n.apply(t,o)))._viewRef=null,e._captureRef=function(t){e._viewRef=t},e}return(0,o.default)(p,e),(0,n.default)(p,[{key:"setNativeProps",value:function(e){var t=this._viewRef;t&&t.setNativeProps(e)}},{key:"render",value:function(){var e=this.props,r=e.children,n=e.style,i=e.imageStyle,l=e.imageRef,o=e.importantForAccessibility,p=(0,t.default)(e,y),h=(0,f.default)(n);return(0,v.jsxs)(u.default,{accessibilityIgnoresInvertColors:!0,importantForAccessibility:o,style:n,ref:this._captureRef,children:[(0,v.jsx)(s.default,Object.assign({},p,{importantForAccessibility:o,style:[c.default.absoluteFill,{width:null==h?void 0:h.width,height:null==h?void 0:h.height},i],ref:l})),r]})}}])})(p.Component);_e.default=_},404,[1,4,11,12,18,20,23,72,9,6,355,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),l=e(_r(d[5])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?o(i,u,l):i[u]=e[u]);return i})(e,t)})(_r(d[6])),u=_r(d[7]);var f=n.default.create({container:{position:'absolute'},safeAreaView:{flex:1}});_e.default=function(e){var n=(0,o.default)().width;return'ios'===r.default.OS?0===i.Children.count(e.children)?null:(0,u.jsx)(l.default,{style:[e.style,f.container],nativeID:e.nativeID,backgroundColor:e.backgroundColor,children:(0,u.jsx)(t.default,{style:[f.safeAreaView,{width:n}],children:e.children})}):(console.warn('<InputAccessoryView> is only supported on iOS.'),null)}},405,[1,406,6,69,409,410,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),f=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var f=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?r:f){if(n.has(e))return n.get(e);n.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?n(u,l,o):u[l]=e[l])})(e,t)})(_r(d[3]));var r=t.default.select({ios:_r(d[4]).default,default:f.default});_e.default=r},406,[1,69,72,75,407]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},407,[408]);
__d(function(g,r,i,a,m,e,d){var _=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;_(r(d[1]));var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTSafeAreaView",validAttributes:{}};e.default=r(d[2]).get('RCTSafeAreaView',function(){return t})},408,[1,275,78]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,f.useState)(function(){return u.default.get('window')}),o=(0,n.default)(t,2),c=o[0],l=o[1];return(0,f.useEffect)(function(){function t(t){var n=t.window;c.width===n.width&&c.height===n.height&&c.scale===n.scale&&c.fontScale===n.fontScale||l(n)}var n=u.default.addEventListener('change',t);return t({window:u.default.get('window')}),function(){n.remove()}},[c]),c};var n=t(r(d[1])),u=t(r(d[2])),f=r(d[3])},409,[1,34,16,75]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},410,[411]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var u=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTInputAccessoryView",validAttributes:{backgroundColor:{process:r(d[2]).default}}};e.default=r(d[3]).get('RCTInputAccessoryView',function(){return u})},411,[1,275,55,78]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),o=t(_r(d[2])),n=t(_r(d[3])),i=t(_r(d[4])),r=t(_r(d[5])),s=t(_r(d[6])),u=t(_r(d[7])),l=t(_r(d[8])),f=t(_r(d[9])),c=t(_r(d[10])),h=t(_r(d[11])),y=t(_r(d[12])),p=t(_r(d[13])),_=(function(t,e){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,r,s={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return s;if(i=e?n:o){if(i.has(t))return i.get(t);i.set(t,s)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((r=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(r.get||r.set)?i(s,u,r):s[u]=t[u]);return s})(t,e)})(_r(d[14])),b=_,v=_r(d[15]),k=["behavior","children","contentContainerStyle","enabled","keyboardVerticalOffset","style","onLayout"];function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(L=function(){return!!t})()}var O=(function(t){function b(t){var e,i,u,f;return(0,n.default)(this,b),i=this,u=b,f=[t],u=(0,s.default)(u),(e=(0,r.default)(i,L()?Reflect.construct(u,f||[],(0,s.default)(i).constructor):u.apply(i,f)))._frame=null,e._keyboardEvent=null,e._subscriptions=[],e._initialFrameHeight=0,e._bottom=0,e._onKeyboardChange=function(t){e._keyboardEvent=t,e._updateBottomIfNecessary()},e._onKeyboardHide=function(t){e._keyboardEvent=null,e._updateBottomIfNecessary()},e._onLayout=(function(){var t=(0,o.default)(function*(t){t.persist();var o=e._frame;e._frame=t.nativeEvent.layout,e._initialFrameHeight||(e._initialFrameHeight=e._frame.height),o&&o.height===e._frame.height||(yield e._updateBottomIfNecessary()),e.props.onLayout&&e.props.onLayout(t)});return function(e){return t.apply(this,arguments)}})(),e._setBottom=function(t){var o,n=null==(o=e.props.enabled)||o;e._bottom=t,n&&e.setState({bottom:t})},e._updateBottomIfNecessary=(0,o.default)(function*(){var t;if(null!=e._keyboardEvent){var o=e._keyboardEvent,n=o.duration,i=o.easing,r=o.endCoordinates,s=yield e._relativeKeyboardHeight(r);if(e._bottom!==s)e._setBottom(s),(null==(t=e.props.enabled)||t)&&n&&i&&l.default.configureNext({duration:n>10?n:10,update:{duration:n>10?n:10,type:l.default.Types[i]||'keyboard'}})}else e._setBottom(0)}),e.state={bottom:0},e.viewRef=(0,_.createRef)(),e}return(0,u.default)(b,t),(0,i.default)(b,[{key:"_relativeKeyboardHeight",value:(O=(0,o.default)(function*(t){var e,o=this._frame;if(!o||!t)return 0;if('ios'===c.default.OS&&0===t.screenY&&(yield h.default.prefersCrossFadeTransitions()))return 0;var n=t.screenY-(null!=(e=this.props.keyboardVerticalOffset)?e:0);return'height'===this.props.behavior?Math.max(this.state.bottom+o.y+o.height-n,0):Math.max(o.y+o.height-n,0)}),function(t){return O.apply(this,arguments)})},{key:"componentDidUpdate",value:function(t,e){var o;(null==(o=this.props.enabled)||o)&&this._bottom!==e.bottom&&this.setState({bottom:this._bottom})}},{key:"componentDidMount",value:function(){p.default.isVisible()||(this._keyboardEvent=null,this._setBottom(0)),'ios'===c.default.OS?this._subscriptions=[p.default.addListener('keyboardWillHide',this._onKeyboardHide),p.default.addListener('keyboardWillShow',this._onKeyboardChange)]:this._subscriptions=[p.default.addListener('keyboardDidHide',this._onKeyboardChange),p.default.addListener('keyboardDidShow',this._onKeyboardChange)]}},{key:"componentWillUnmount",value:function(){this._subscriptions.forEach(function(t){t.remove()})}},{key:"render",value:function(){var t=this.props,o=t.behavior,n=t.children,i=t.contentContainerStyle,r=t.enabled,s=void 0===r||r,u=(t.keyboardVerticalOffset,t.style),l=(t.onLayout,(0,e.default)(t,k)),c=!0===s?this.state.bottom:0;switch(o){case'height':var h;return null!=this._frame&&this.state.bottom>0&&(h={height:this._initialFrameHeight-c,flex:0}),(0,v.jsx)(y.default,Object.assign({ref:this.viewRef,style:f.default.compose(u,h),onLayout:this._onLayout},l,{children:n}));case'position':return(0,v.jsx)(y.default,Object.assign({ref:this.viewRef,style:u,onLayout:this._onLayout},l,{children:(0,v.jsx)(y.default,{style:f.default.compose(i,{bottom:c}),children:n})}));case'padding':return(0,v.jsx)(y.default,Object.assign({ref:this.viewRef,style:f.default.compose(u,{paddingBottom:c}),onLayout:this._onLayout},l,{children:n}));default:return(0,v.jsx)(y.default,Object.assign({ref:this.viewRef,onLayout:this._onLayout,style:u},l,{children:n}))}}}]);var O})(b.Component);_e.default=O},412,[1,4,356,11,12,18,20,23,378,6,69,413,72,377,75,244]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),l=n(r(d[2])),o=n(r(d[3])),s=n(r(d[4])),u=n(r(d[5])),c='android'===l.default.OS?new Map([['change','touchExplorationDidChange'],['reduceMotionChanged','reduceMotionDidChange'],['highTextContrastChanged','highTextContrastDidChange'],['screenReaderChanged','touchExplorationDidChange'],['accessibilityServiceChanged','accessibilityServiceDidChange'],['invertColorsChanged','invertColorDidChange'],['grayscaleChanged','grayscaleModeDidChange']]):new Map([['announcementFinished','announcementFinished'],['boldTextChanged','boldTextChanged'],['change','screenReaderChanged'],['grayscaleChanged','grayscaleChanged'],['invertColorsChanged','invertColorsChanged'],['reduceMotionChanged','reduceMotionChanged'],['reduceTransparencyChanged','reduceTransparencyChanged'],['screenReaderChanged','screenReaderChanged'],['darkerSystemColorsChanged','darkerSystemColorsChanged']]),f={isBoldTextEnabled:function(){return'android'===l.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=u.default?u.default.getCurrentBoldTextState(n,t):t(new Error('NativeAccessibilityManagerIOS is not available'))})},isGrayscaleEnabled:function(){return'android'===l.default.OS?new Promise(function(n,t){null!=(null==s.default?void 0:s.default.isGrayscaleEnabled)?s.default.isGrayscaleEnabled(n):t(new Error('NativeAccessibilityInfoAndroid.isGrayscaleEnabled is not available'))}):new Promise(function(n,t){null!=u.default?u.default.getCurrentGrayscaleState(n,t):t(new Error('AccessibilityInfo native module is not available'))})},isInvertColorsEnabled:function(){return'android'===l.default.OS?new Promise(function(n,t){null!=(null==s.default?void 0:s.default.isInvertColorsEnabled)?s.default.isInvertColorsEnabled(n):t(new Error('NativeAccessibilityInfoAndroid.isInvertColorsEnabled is not available'))}):new Promise(function(n,t){null!=u.default?u.default.getCurrentInvertColorsState(n,t):t(new Error('AccessibilityInfo native module is not available'))})},isReduceMotionEnabled:function(){return new Promise(function(n,t){'android'===l.default.OS?null!=s.default?s.default.isReduceMotionEnabled(n):t(new Error('AccessibilityInfo native module is not available')):null!=u.default?u.default.getCurrentReduceMotionState(n,t):t(new Error('NativeAccessibilityManagerIOS is not available'))})},isHighTextContrastEnabled:function(){return new Promise(function(n,t){if('android'!==l.default.OS)return Promise.resolve(!1);null!=(null==s.default?void 0:s.default.isHighTextContrastEnabled)?s.default.isHighTextContrastEnabled(n):t(new Error('NativeAccessibilityInfoAndroid.isHighTextContrastEnabled is not available'))})},isDarkerSystemColorsEnabled:function(){return new Promise(function(n,t){if('android'===l.default.OS)return Promise.resolve(!1);null!=(null==u.default?void 0:u.default.getCurrentDarkerSystemColorsState)?u.default.getCurrentDarkerSystemColorsState(n,t):t(new Error('NativeAccessibilityManagerIOS.getCurrentDarkerSystemColorsState is not available'))})},prefersCrossFadeTransitions:function(){return new Promise(function(n,t){if('android'===l.default.OS)return Promise.resolve(!1);null!=(null==u.default?void 0:u.default.getCurrentPrefersCrossFadeTransitionsState)?u.default.getCurrentPrefersCrossFadeTransitionsState(n,t):t(new Error('NativeAccessibilityManagerIOS.getCurrentPrefersCrossFadeTransitionsState is not available'))})},isReduceTransparencyEnabled:function(){return'android'===l.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=u.default?u.default.getCurrentReduceTransparencyState(n,t):t(new Error('NativeAccessibilityManagerIOS is not available'))})},isScreenReaderEnabled:function(){return new Promise(function(n,t){'android'===l.default.OS?null!=s.default?s.default.isTouchExplorationEnabled(n):t(new Error('NativeAccessibilityInfoAndroid is not available')):null!=u.default?u.default.getCurrentVoiceOverState(n,t):t(new Error('NativeAccessibilityManagerIOS is not available'))})},isAccessibilityServiceEnabled:function(){return new Promise(function(n,t){'android'===l.default.OS?null!=s.default&&null!=s.default.isAccessibilityServiceEnabled?s.default.isAccessibilityServiceEnabled(n):t(new Error('NativeAccessibilityInfoAndroid.isAccessibilityServiceEnabled is not available')):t(new Error('isAccessibilityServiceEnabled is only available on Android'))})},addEventListener:function(n,l){var o=c.get(n);return null==o?{remove:function(){}}:t.default.addListener(o,l)},setAccessibilityFocus:function(n){(0,o.default)(n,'focus')},sendAccessibilityEvent:function(n,t){'ios'===l.default.OS&&'click'===t||(0,r(d[6]).sendAccessibilityEvent)(n,t)},announceForAccessibility:function(n){'android'===l.default.OS?null==s.default||s.default.announceForAccessibility(n):null==u.default||u.default.announceForAccessibility(n)},announceForAccessibilityWithOptions:function(n,t){'android'===l.default.OS?null==s.default||s.default.announceForAccessibility(n):null!=u.default&&u.default.announceForAccessibilityWithOptions?null==u.default||u.default.announceForAccessibilityWithOptions(n,t):null==u.default||u.default.announceForAccessibility(n)},getRecommendedTimeoutMillis:function(n){return'android'===l.default.OS?new Promise(function(t,l){null!=s.default&&s.default.getRecommendedTimeoutMillis?s.default.getRecommendedTimeoutMillis(n,t):t(n)}):Promise.resolve(n)}};e.default=f},413,[1,17,69,263,414,416,107]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},414,[415]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('AccessibilityInfo')},415,[31]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},416,[417]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('AccessibilityManager')},417,[31]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t,n=e(_r(d[1])),r=e(_r(d[2])),o=((function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f])})(e,t)})(_r(d[3])),_r(d[4]));var i=null!=(null==(t=g)?void 0:t.nativeFabricUIManager);_e.default=i?function(e){return(0,o.jsx)(r.default,Object.assign({},e,{style:u.container}))}:function(e){return e.children};var u=n.default.create({container:{display:'contents'}})},418,[1,6,419,75,244]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0])).get('LayoutConformance',function(){return{uiViewClassName:'LayoutConformance',validAttributes:{mode:!0}}});_e.default=e},419,[78]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),i=e(_r(d[5])),s=e(_r(d[6])),l=e(_r(d[7])),u=(e(_r(d[8])),e(_r(d[9])),e(_r(d[10]))),p=e(_r(d[11])),c=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?o(s,l,i):s[l]=e[l]);return s})(e,t)})(_r(d[12])),f=_r(d[13]),h=["ref"];function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var y=p.default.VirtualizedListContextResetter,b=0,S=(function(e){function t(e){var n,o,l,u;return(0,r.default)(this,t),o=this,l=t,u=[e],l=(0,s.default)(l),(n=(0,i.default)(o,v()?Reflect.construct(l,u||[],(0,s.default)(o).constructor):l.apply(o,u)))._identifier=b++,n.state={isRendered:!0===e.visible},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this._eventSubscription&&this._eventSubscription.remove()}},{key:"componentDidUpdate",value:function(e){!1===e.visible&&!0===this.props.visible&&this.setState({isRendered:!0})}},{key:"_shouldShowModal",value:function(){return!0===this.props.visible}},{key:"render",value:function(){var e;if(!this._shouldShowModal())return null;var t={backgroundColor:!0===this.props.transparent?'transparent':null!=(e=this.props.backdropColor)?e:'white'},n=this.props.animationType||'none',r=this.props.presentationStyle;r||(r='fullScreen',!0===this.props.transparent&&(r='overFullScreen'));var o=this.props.children;return(0,f.jsx)(u.default,{animationType:n,presentationStyle:r,transparent:this.props.transparent,hardwareAccelerated:this.props.hardwareAccelerated,onRequestClose:this.props.onRequestClose,onShow:this.props.onShow,onDismiss:function(){},ref:this.props.modalRef,visible:this.props.visible,statusBarTranslucent:this.props.statusBarTranslucent,navigationBarTranslucent:this.props.navigationBarTranslucent,identifier:this._identifier,style:w.modal,onStartShouldSetResponder:this._shouldSetResponder,supportedOrientations:this.props.supportedOrientations,onOrientationChange:this.props.onOrientationChange,allowSwipeDismissal:this.props.allowSwipeDismissal,testID:this.props.testID,children:(0,f.jsx)(y,{children:(0,f.jsx)(_r(d[14]).default.Context.Provider,{value:null,children:(0,f.jsx)(_r(d[15]).default,{style:[w.container,t],collapsable:!1,children:o})})})})}},{key:"_shouldSetResponder",value:function(){return!0}}])})(c.Component);S.defaultProps={visible:!0,hardwareAccelerated:!1},S.contextType=_r(d[16]).RootTagContext;var _=_r(d[17]).default.getConstants().isRTL?'right':'left',w=_r(d[18]).default.create({modal:{position:'absolute'},container:(0,n.default)((0,n.default)((0,n.default)({},_,0),"top",0),"flex",1)});function R(e){var n=e.ref,r=(0,t.default)(e,h);return(0,f.jsx)(S,Object.assign({},r,{modalRef:n}))}R.displayName='Modal',R.Context=y;_e.default=R},420,[1,4,66,11,12,18,20,23,201,421,423,338,75,244,371,72,246,425,6]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},421,[422]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('ModalManager')},422,[31]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},423,[424]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTModalHostView",directEventTypes:{topRequestClose:{registrationName:"onRequestClose"},topShow:{registrationName:"onShow"},topDismiss:{registrationName:"onDismiss"},topOrientationChange:{registrationName:"onOrientationChange"}},validAttributes:Object.assign({animationType:!0,presentationStyle:!0,transparent:!0,statusBarTranslucent:!0,navigationBarTranslucent:!0,hardwareAccelerated:!0,visible:!0,animated:!0,allowSwipeDismissal:!0,supportedOrientations:!0,identifier:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onRequestClose:!0,onShow:!0,onDismiss:!0,onOrientationChange:!0}))};e.default=r(d[3]).get('RCTModalHostView',function(){return n})},424,[1,275,105,78]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),f=(function(){if(n.default){var t=n.default.getConstants();return{isRTL:t.isRTL,doLeftAndRightSwapInRTL:t.doLeftAndRightSwapInRTL,localeIdentifier:t.localeIdentifier}}return{isRTL:!1,doLeftAndRightSwapInRTL:!0}})();e.default={getConstants:function(){return f},allowRTL:function(t){n.default&&n.default.allowRTL(t)},forceRTL:function(t){n.default&&n.default.forceRTL(t)},swapLeftAndRightInRTL:function(t){n.default&&n.default.swapLeftAndRightInRTL(t)},isRTL:f.isRTL,doLeftAndRightSwapInRTL:f.doLeftAndRightSwapInRTL}},425,[1,426]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},426,[427]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('I18nManager')},427,[31]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var l=e(_r(d[1])),n=e(_r(d[2])),s=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),t=e(_r(d[6])),r=(function(e,l){if("function"==typeof WeakMap)var n=new WeakMap,s=new WeakMap;return(function(e,l){if(!l&&e&&e.__esModule)return e;var i,o,t={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return t;if(i=l?s:n){if(i.has(e))return i.get(e);i.set(e,t)}for(var r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(o.get||o.set)?i(t,r,o):t[r]=e[r]);return t})(e,l)})(_r(d[7])),u=_r(d[8]),c=["ref"],f=["accessible","accessibilityState","aria-live","android_disableSound","android_ripple","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-label","aria-selected","blockNativeResponder","cancelable","children","delayHoverIn","delayHoverOut","delayLongPress","disabled","focusable","hitSlop","onBlur","onFocus","onHoverIn","onHoverOut","onLongPress","onPress","onPressIn","onPressMove","onPressOut","pressRetentionOffset","style","testOnly_pressed","unstable_pressDelay"];function b(e){var n=(0,r.useState)(!1),s=(0,l.default)(n,2);return[s[0]||e,s[1]]}var v=(0,r.memo)(function(e){var v,y,p,P,O,_,h,I,H,M=e.ref,x=(0,n.default)(e,c),S=x.accessible,k=x.accessibilityState,w=x['aria-live'],L=x.android_disableSound,R=x.android_ripple,j=x['aria-busy'],V=x['aria-checked'],N=x['aria-disabled'],B=x['aria-expanded'],D=x['aria-label'],F=x['aria-selected'],W=x.blockNativeResponder,q=x.cancelable,z=x.children,A=x.delayHoverIn,C=x.delayHoverOut,E=x.delayLongPress,G=x.disabled,J=x.focusable,K=x.hitSlop,Q=x.onBlur,T=x.onFocus,U=x.onHoverIn,X=x.onHoverOut,Y=x.onLongPress,Z=x.onPress,$=x.onPressIn,ee=x.onPressMove,le=x.onPressOut,ne=x.pressRetentionOffset,ae=x.style,se=x.testOnly_pressed,ie=x.unstable_pressDelay,oe=(0,n.default)(x,f),te=(0,r.useRef)(null),re=(0,i.default)(M,te),ue=(0,t.default)(R,te),de=b(!0===se),ce=(0,l.default)(de,2),fe=ce[0],be=ce[1],ve='function'==typeof z||'function'==typeof ae,ye={busy:null!=j?j:null==k?void 0:k.busy,checked:null!=V?V:null==k?void 0:k.checked,disabled:null!=N?N:null==k?void 0:k.disabled,expanded:null!=B?B:null==k?void 0:k.expanded,selected:null!=F?F:null==k?void 0:k.selected};ye=null!=G?Object.assign({},ye,{disabled:G}):ye;var pe={max:null!=(v=x['aria-valuemax'])?v:null==(y=x.accessibilityValue)?void 0:y.max,min:null!=(p=x['aria-valuemin'])?p:null==(P=x.accessibilityValue)?void 0:P.min,now:null!=(O=x['aria-valuenow'])?O:null==(_=x.accessibilityValue)?void 0:_.now,text:null!=(h=x['aria-valuetext'])?h:null==(I=x.accessibilityValue)?void 0:I.text},Pe='off'===w?'none':null!=w?w:x.accessibilityLiveRegion,Oe=null!=D?D:x.accessibilityLabel,ge=Object.assign({},oe,null==ue?void 0:ue.viewProps,{accessible:!1!==S,accessibilityViewIsModal:null!=(H=oe['aria-modal'])?H:oe.accessibilityViewIsModal,accessibilityLiveRegion:Pe,accessibilityLabel:Oe,accessibilityState:ye,focusable:!1!==J,accessibilityValue:pe,hitSlop:K}),he=(0,r.useMemo)(function(){return{cancelable:q,disabled:G,hitSlop:K,pressRectOffset:ne,android_disableSound:L,delayHoverIn:A,delayHoverOut:C,delayLongPress:E,delayPressIn:ie,onBlur:Q,onFocus:T,onHoverIn:U,onHoverOut:X,onLongPress:Y,onPress:Z,onPressIn:function(e){null!=ue&&ue.onPressIn(e),ve&&be(!0),null!=$&&$(e)},onPressMove:function(e){null==ue||ue.onPressMove(e),null!=ee&&ee(e)},onPressOut:function(e){null!=ue&&ue.onPressOut(e),ve&&be(!1),null!=le&&le(e)},blockNativeResponder:W}},[L,ue,W,q,A,C,E,G,K,Q,T,U,X,Y,Z,$,ee,le,ne,be,ve,ie]),Ie=(0,s.default)(he);return(0,u.jsxs)(o.default,Object.assign({},ge,Ie,{ref:re,style:'function'==typeof ae?ae({pressed:fe}):ae,collapsable:!1,children:['function'==typeof z?z({pressed:fe}):z,null]}))});v.displayName='Pressable';_e.default=v},428,[1,34,4,283,327,72,429,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,l){var u=null!=e?e:{},i=u.color,s=u.borderless,f=u.radius,c=u.foreground;return(0,o.useMemo)(function(){if('android'===r.default.OS&&(null!=i||null!=s||null!=f)){var e=(0,n.default)(i);(0,t.default)(null==e||'number'==typeof e,'Unexpected color given for Ripple color');var o={type:'RippleAndroid',color:e,borderless:!0===s,rippleRadius:f};return{viewProps:!0===c?{nativeForegroundAndroid:o}:{nativeBackgroundAndroid:o},onPressIn:function(e){var n,r,t=l.current;null!=t&&(_r(d[6]).Commands.hotspotUpdate(t,null!=(n=e.nativeEvent.locationX)?n:0,null!=(r=e.nativeEvent.locationY)?r:0),_r(d[6]).Commands.setPressed(t,!0))},onPressMove:function(e){var n,r,t=l.current;null!=t&&_r(d[6]).Commands.hotspotUpdate(t,null!=(n=e.nativeEvent.locationX)?n:0,null!=(r=e.nativeEvent.locationY)?r:0)},onPressOut:function(e){var n=l.current;null!=n&&_r(d[6]).Commands.setPressed(n,!1)}}}return null},[s,i,c,f,l])};var n=e(_r(d[1])),r=e(_r(d[2])),t=(e(_r(d[3])),e(_r(d[4]))),o=(function(e,n){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var o,l,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=n?t:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?o(u,i,l):u[i]=e[i]);return u})(e,n)})(_r(d[5]))},429,[1,55,69,72,32,75,77]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),l=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),r=e(_r(d[5])),u=C(_r(d[6])),i=C(_r(d[7])),s=C(_r(d[8])),c=_r(d[9]),f=["ref"],v=["disabled","ios_backgroundColor","onChange","onValueChange","style","thumbColor","trackColor","value"],b=["onTintColor","tintColor"];function C(e,t){if("function"==typeof WeakMap)var l=new WeakMap,n=new WeakMap;return(C=function(e,t){if(!t&&e&&e.__esModule)return e;var o,r,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:l){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((r=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(r.get||r.set)?o(u,i,r):u[i]=e[i]);return u})(e,t)}var p=function(){return!1},y=function(){return!0};_e.default=function(e){var C=e.ref,h=(0,l.default)(e,f),R=h.disabled,S=h.ios_backgroundColor,_=h.onChange,k=h.onValueChange,O=h.style,j=h.thumbColor,T=h.trackColor,w=h.value,M=(0,l.default)(h,v),P=null==T?void 0:T.false,V=null==T?void 0:T.true,x=(0,s.useRef)(null),E=(0,r.default)(x,C),F=(0,s.useState)({value:null}),W=(0,t.default)(F,2),q=W[0],N=W[1],D=function(e){null==_||_(e),null==k||k(e.nativeEvent.value),N({value:e.nativeEvent.value})};if((0,s.useLayoutEffect)(function(){var e,t=!0===w;null!=q.value&&q.value!==t&&null!=(null==(e=x.current)?void 0:e.setNativeProps)&&('android'===o.default.OS?u.Commands.setNativeValue(x.current,t):i.Commands.setValue(x.current,t))},[w,q]),'android'===o.default.OS){M.onTintColor,M.tintColor;var L,z=(0,l.default)(M,b),A=z.accessibilityState,B=null!=R?R:null==A?void 0:A.disabled,G={accessibilityState:B!==(null==A?void 0:A.disabled)?Object.assign({},A,{disabled:B}):A,enabled:!0!==B,on:!0===w,style:O,thumbTintColor:j,trackColorForFalse:P,trackColorForTrue:V,trackTintColor:!0===w?V:P};return(0,c.jsx)(u.default,Object.assign({},z,G,{accessibilityRole:null!=(L=h.accessibilityRole)?L:'switch',onChange:D,onResponderTerminationRequest:p,onStartShouldSetResponder:y,ref:E}))}var H,I={disabled:R,onTintColor:V,style:n.default.compose({alignSelf:'flex-start'},n.default.compose(O,null==S?null:{backgroundColor:S,borderRadius:16})),thumbTintColor:j,tintColor:P,value:!0===w};return(0,c.jsx)(i.default,Object.assign({},M,I,{accessibilityRole:null!=(H=h.accessibilityRole)?H:'switch',onChange:D,onResponderTerminationRequest:p,onStartShouldSetResponder:y,ref:E}))}},430,[1,34,4,6,69,327,431,433,75,244]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},431,[432]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?r(u,l,i):u[l]=e[l])})(e,t)})(_r(d[3]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidSwitch",bubblingEventTypes:{topChange:{phasedRegistrationNames:{captured:"onChangeCapture",bubbled:"onChange"}}},validAttributes:Object.assign({disabled:!0,enabled:!0,thumbColor:{process:_r(d[4]).default},trackColorForFalse:{process:_r(d[4]).default},trackColorForTrue:{process:_r(d[4]).default},value:!0,on:!0,thumbTintColor:{process:_r(d[4]).default},trackTintColor:{process:_r(d[4]).default}},_r(d[5]).ConditionallyIgnoredEventHandlers({onChange:!0}))};_e.default=_r(d[6]).get('AndroidSwitch',function(){return t}),_e.Commands={setNativeValue:function(e,t){_r(d[7]).dispatchCommand(e,"setNativeValue",[t])}}},432,[1,106,275,75,55,105,78,107]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},433,[434]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(u.get||u.set)?r(l,s,u):l[s]=e[s])})(e,t)})(_r(d[3]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTSwitch",bubblingEventTypes:{topChange:{phasedRegistrationNames:{captured:"onChangeCapture",bubbled:"onChange"}}},validAttributes:Object.assign({disabled:!0,value:!0,tintColor:{process:_r(d[4]).default},onTintColor:{process:_r(d[4]).default},thumbTintColor:{process:_r(d[4]).default},thumbColor:{process:_r(d[4]).default},trackColorForFalse:{process:_r(d[4]).default},trackColorForTrue:{process:_r(d[4]).default}},_r(d[5]).ConditionallyIgnoredEventHandlers({onChange:!0}))};_e.default=_r(d[6]).get('RCTSwitch',function(){return t}),_e.Commands={setValue:function(e,t){_r(d[7]).dispatchCommand(e,"setValue",[t])}}},434,[1,106,275,75,55,105,78,107]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t,n,l,i,r,o,u=e(_r(d[1])),c=e(_r(d[2])),s=e(_r(d[3])),f=e(_r(d[4])),p=e(_r(d[5])),b=e(_r(d[6])),y=e(_r(d[7])),v=e(_r(d[8])),h=e(_r(d[9])),C=e(_r(d[10])),x=e(_r(d[11])),S=e(_r(d[12])),T=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,l=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,r,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?l:n){if(i.has(e))return i.get(e);i.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((r=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(r.get||r.set)?i(o,u,r):o[u]=e[u]);return o})(e,t)})(_r(d[13])),w=T,O=_r(d[14]),I=["aria-busy","aria-checked","aria-disabled","aria-expanded","aria-selected","accessibilityState","id","tabIndex","selection","selectionColor","selectionHandleColor","cursorColor"],F=["onBlur","onFocus"],A=["ref","allowFontScaling","rejectResponderTermination","underlineColorAndroid","autoComplete","textContentType","readOnly","editable","enterKeyHint","returnKeyType","inputMode","showSoftInputOnFocus","keyboardType"];'android'===v.default.OS?(t=_r(d[15]).default,n=_r(d[15]).Commands):'ios'===v.default.OS&&(l=_r(d[16]).default,i=_r(d[16]).Commands,r=_r(d[17]).default,o=_r(d[17]).Commands);var j=function(){return!0};function R(e){var t=e.props,n=e.mostRecentEventCount,l=e.selection,i=e.inputRef,r=e.text,o=e.viewCommands,u=(0,T.useState)(t.value),s=(0,c.default)(u,2),f=s[0],p=s[1],b=(0,T.useState)({selection:{start:-1,end:-1},mostRecentEventCount:n}),y=(0,c.default)(b,2),v=y[0],h=y[1],C=v.selection;return(0,T.useLayoutEffect)(function(){var e,u,c={};(f!==t.value&&'string'==typeof t.value&&(c.text=t.value,p(t.value)),l&&C&&(C.start!==l.start||C.end!==l.end)&&(c.selection=l,h({selection:l,mostRecentEventCount:n})),0!==Object.keys(c).length)&&(null!=i.current&&o.setTextAndSelection(i.current,n,r,null!=(e=null==l?void 0:l.start)?e:-1,null!=(u=null==l?void 0:l.end)?u:-1))},[n,i,t.value,t.defaultValue,f,l,C,r,o]),{setLastNativeText:p,setLastNativeSelection:h}}function D(e){var A,D,L,E=e['aria-busy'],N=e['aria-checked'],k=e['aria-disabled'],B=e['aria-expanded'],M=e['aria-selected'],H=e.accessibilityState,z=e.id,W=e.tabIndex,K=e.selection,V=e.selectionColor,U=e.selectionHandleColor,Y=e.cursorColor,G=(0,u.default)(e,I),q=(0,T.useRef)(null),J=null==K?null:{start:K.start,end:null!=(A=K.end)?A:K.start},Q='string'==typeof e.value?e.value:'string'==typeof e.defaultValue?e.defaultValue:void 0,X=n||(!0===e.multiline?o:i),Z=(0,T.useState)(0),$=(0,c.default)(Z,2),ee=$[0],te=$[1],ne=R({props:e,inputRef:q,mostRecentEventCount:ee,selection:J,text:Q,viewCommands:X}),le=ne.setLastNativeText,ae=ne.setLastNativeSelection;(0,T.useLayoutEffect)(function(){var e=q.current;if(null!=e)return C.default.registerInput(e),function(){C.default.unregisterInput(e),C.default.currentlyFocusedInput()===e&&(0,S.default)(e).blur()}},[]);var ie,re=(0,T.useCallback)(function(e){q.current=e,null!=e&&(C.default.registerInput(e),Object.assign(e,{clear:function(){null!=q.current&&X.setTextAndSelection(q.current,ee,'',0,0)},isFocused:function(){return C.default.currentlyFocusedInput()===q.current},getNativeRef:function(){return q.current},setSelection:function(e,t){null!=q.current&&X.setTextAndSelection(q.current,ee,null,e,t)}}))},[ee,X]),oe=(0,h.default)(re,e.forwardedRef),ue=function(t){var n=t.nativeEvent.text;e.onChange&&e.onChange(t),e.onChangeText&&e.onChangeText(n),null!=q.current&&(le(n),te(t.nativeEvent.eventCount))},de=function(t){e.onSelectionChange&&e.onSelectionChange(t),null!=q.current&&ae({selection:t.nativeEvent.selection,mostRecentEventCount:ee})},ce=function(t){C.default.focusInput(q.current),e.onFocus&&e.onFocus(t)},se=function(t){C.default.blurInput(q.current),e.onBlur&&e.onBlur(t)},fe=function(t){e.onScroll&&e.onScroll(t)},pe=null,me=null!=(D=e.multiline)&&D;ie=null!=e.submitBehavior?me||'newline'!==e.submitBehavior?e.submitBehavior:'blurAndSubmit':me?!0===e.blurOnSubmit?'blurAndSubmit':'newline':!1!==e.blurOnSubmit?'blurAndSubmit':'submit';var be=!1!==e.accessible,ye=!1!==e.focusable,ve=e.editable,he=e.hitSlop,Ce=e.onPress,ge=e.onPressIn,xe=e.onPressOut,Se=e.rejectResponderTermination,Te=(0,T.useMemo)(function(){return{hitSlop:he,onPress:function(e){null==Ce||Ce(e),!1!==ve&&null!=q.current&&q.current.focus()},onPressIn:ge,onPressOut:xe,cancelable:'ios'===v.default.OS?!Se:null}},[ve,he,Ce,ge,xe,Se]),we=e.caretHidden;v.default.isTesting&&(we=!0);var Oe,Ie=(0,s.default)(Te),Fe=(Ie.onBlur,Ie.onFocus,(0,u.default)(Ie,F)),Ae=null!=(L=null==e?void 0:e['aria-label'])?L:null==e?void 0:e.accessibilityLabel;null==H&&null==E&&null==N&&null==k&&null==B&&null==M||(Oe={busy:null!=E?E:null==H?void 0:H.busy,checked:null!=N?N:null==H?void 0:H.checked,disabled:null!=k?k:null==H?void 0:H.disabled,expanded:null!=B?B:null==H?void 0:H.expanded,selected:null!=M?M:null==H?void 0:H.selected});var je=e.style,Re=(0,f.default)(e.style);if(null!=Re){var De=null;'number'==typeof(null==Re?void 0:Re.fontWeight)&&((De=De||{}).fontWeight=Re.fontWeight.toString()),null!=Re.verticalAlign&&((De=De||{}).textAlignVertical=_[Re.verticalAlign],De.verticalAlign=void 0),null!=De&&(je=[je,De])}if('ios'===v.default.OS){var Le,Ee,Ne=!0===e.multiline?r:l,ke=!0===e.multiline&&(null==Re||null==Re.padding&&null==Re.paddingVertical&&null==Re.paddingTop),Be=null!=(Le=e['aria-hidden'])?Le:e.accessibilityElementsHidden;pe=(0,O.jsx)(Ne,Object.assign({ref:oe},G,Fe,{acceptDragAndDropTypes:e.experimental_acceptDragAndDropTypes,accessibilityLabel:Ae,accessibilityState:Oe,accessibilityElementsHidden:Be,accessible:be,submitBehavior:ie,caretHidden:we,dataDetectorTypes:e.dataDetectorTypes,focusable:void 0!==W?!W:ye,mostRecentEventCount:ee,nativeID:null!=z?z:e.nativeID,numberOfLines:null!=(Ee=e.rows)?Ee:e.numberOfLines,onBlur:se,onChange:ue,onContentSizeChange:e.onContentSizeChange,onFocus:ce,onScroll:fe,onSelectionChange:de,onSelectionChangeShouldSetResponder:j,selection:J,selectionColor:V,style:p.default.compose(ke?P.multilineDefault:null,je),text:Q}))}else if('android'===v.default.OS){var Pe,Me,He,ze=e.autoCapitalize||'sentences',We=null!=(Pe=null==e?void 0:e['aria-labelledby'])?Pe:null==e?void 0:e.accessibilityLabelledBy,Ke=!0===e['aria-hidden']?'no-hide-descendants':void 0,Ve=null!=(Me=e.placeholder)?Me:'',Ue=e.children,Ye=w.Children.count(Ue);(0,x.default)(!(null!=e.value&&Ye),'Cannot specify both value and children.'),Ye>1&&(Ue=(0,O.jsx)(b.default,{children:Ue}));var Ge={selectionColor:V,selectionHandleColor:void 0===U?V:U,cursorColor:void 0===Y?V:Y};pe=(0,O.jsx)(t,Object.assign({ref:oe},G,Ge,Fe,{accessibilityLabel:Ae,accessibilityLabelledBy:We,accessibilityState:Oe,accessible:be,acceptDragAndDropTypes:e.experimental_acceptDragAndDropTypes,autoCapitalize:ze,submitBehavior:ie,caretHidden:we,children:Ue,disableFullscreenUI:e.disableFullscreenUI,focusable:void 0!==W?!W:ye,importantForAccessibility:Ke,mostRecentEventCount:ee,nativeID:null!=z?z:e.nativeID,numberOfLines:null!=(He=e.rows)?He:e.numberOfLines,onBlur:se,onChange:ue,onFocus:ce,onScroll:fe,onSelectionChange:de,placeholder:Ve,style:je,text:Q,textBreakStrategy:e.textBreakStrategy}))}return(0,O.jsx)(y.default,{value:!0,children:pe})}var L={enter:'default',done:'done',go:'go',next:'next',previous:'previous',search:'search',send:'send'},E={none:'default',text:'default',decimal:'decimal-pad',numeric:'number-pad',tel:'phone-pad',search:'ios'===v.default.OS?'web-search':'default',email:'email-address',url:'url'},N={'address-line1':'postal-address-region','address-line2':'postal-address-locality',bday:'birthdate-full','bday-day':'birthdate-day','bday-month':'birthdate-month','bday-year':'birthdate-year','cc-csc':'cc-csc','cc-exp':'cc-exp','cc-exp-month':'cc-exp-month','cc-exp-year':'cc-exp-year','cc-number':'cc-number',country:'postal-address-country','current-password':'password',email:'email','honorific-prefix':'name-prefix','honorific-suffix':'name-suffix',name:'name','additional-name':'name-middle','family-name':'name-family','given-name':'name-given','new-password':'password-new',off:'off','one-time-code':'sms-otp','postal-code':'postal-code',sex:'gender','street-address':'street-address',tel:'tel','tel-country-code':'tel-country-code','tel-national':'tel-national',username:'username'},k={'address-line1':'streetAddressLine1','address-line2':'streetAddressLine2',bday:'birthdate','bday-day':'birthdateDay','bday-month':'birthdateMonth','bday-year':'birthdateYear','cc-csc':'creditCardSecurityCode','cc-exp-month':'creditCardExpirationMonth','cc-exp-year':'creditCardExpirationYear','cc-exp':'creditCardExpiration','cc-given-name':'creditCardGivenName','cc-additional-name':'creditCardMiddleName','cc-family-name':'creditCardFamilyName','cc-name':'creditCardName','cc-number':'creditCardNumber','cc-type':'creditCardType','current-password':'password',country:'countryName',email:'emailAddress',name:'name','additional-name':'middleName','family-name':'familyName','given-name':'givenName',nickname:'nickname','honorific-prefix':'namePrefix','honorific-suffix':'nameSuffix','new-password':'newPassword',off:'none','one-time-code':'oneTimeCode',organization:'organizationName','organization-title':'jobTitle','postal-code':'postalCode','street-address':'fullStreetAddress',tel:'telephoneNumber',url:'URL',username:'username'},B=function(e){var t,n=e.ref,l=e.allowFontScaling,i=void 0===l||l,r=e.rejectResponderTermination,o=void 0===r||r,c=e.underlineColorAndroid,s=void 0===c?'transparent':c,f=e.autoComplete,p=e.textContentType,b=e.readOnly,y=e.editable,h=e.enterKeyHint,C=e.returnKeyType,x=e.inputMode,S=e.showSoftInputOnFocus,T=e.keyboardType,w=(0,u.default)(e,A);return(0,O.jsx)(D,Object.assign({allowFontScaling:i,rejectResponderTermination:o,underlineColorAndroid:s,editable:void 0!==b?!b:y,returnKeyType:h?L[h]:C,keyboardType:x?E[x]:T,showSoftInputOnFocus:null==x?S:'none'!==x,autoComplete:'android'===v.default.OS?null!=(t=N[f])?t:f:void 0,textContentType:null!=p?p:'ios'===v.default.OS&&f&&f in k?k[f]:p},w,{forwardedRef:n}))};B.displayName='TextInput',B.State={currentlyFocusedInput:C.default.currentlyFocusedInput,currentlyFocusedField:C.default.currentlyFocusedField,focusTextInput:C.default.focusTextInput,blurTextInput:C.default.blurTextInput};var P=p.default.create({multilineDefault:{paddingTop:5}}),_={auto:'auto',top:'top',bottom:'bottom',middle:'center'};_e.default=B},435,[1,4,34,283,9,6,281,74,69,327,131,32,81,75,244,132,436,438]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3]));_e.Commands=(0,n.default)({supportedCommands:['focus','blur','setTextAndSelection']});var u=_e.__INTERNAL_VIEW_CONFIG=Object.assign({uiViewClassName:'RCTSinglelineTextInputView'},r.default),o=t.get('RCTSinglelineTextInputView',function(){return u});_e.default=o},436,[1,78,106,437]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}}},directEventTypes:{topScroll:{registrationName:'onScroll'},topSelectionChange:{registrationName:'onSelectionChange'},topContentSizeChange:{registrationName:'onContentSizeChange'},topChangeSync:{registrationName:'onChangeSync'},topKeyPressSync:{registrationName:'onKeyPressSync'}},validAttributes:Object.assign({acceptDragAndDropTypes:!0,dynamicTypeRamp:!0,fontSize:!0,fontWeight:!0,fontVariant:!0,textShadowOffset:{diff:r(d[0]).default},allowFontScaling:!0,fontStyle:!0,textTransform:!0,textAlign:!0,fontFamily:!0,lineHeight:!0,isHighlighted:!0,writingDirection:!0,textDecorationLine:!0,textShadowRadius:!0,letterSpacing:!0,textDecorationStyle:!0,textDecorationColor:{process:r(d[1]).default},color:{process:r(d[1]).default},maxFontSizeMultiplier:!0,textShadowColor:{process:r(d[1]).default},editable:!0,inputAccessoryViewID:!0,inputAccessoryViewButtonLabel:!0,caretHidden:!0,enablesReturnKeyAutomatically:!0,placeholderTextColor:{process:r(d[1]).default},clearButtonMode:!0,keyboardType:!0,selection:!0,returnKeyType:!0,submitBehavior:!0,mostRecentEventCount:!0,scrollEnabled:!0,selectionColor:{process:r(d[1]).default},contextMenuHidden:!0,secureTextEntry:!0,placeholder:!0,autoCorrect:!0,multiline:!0,numberOfLines:!0,textContentType:!0,maxLength:!0,autoCapitalize:!0,keyboardAppearance:!0,passwordRules:!0,spellCheck:!0,selectTextOnFocus:!0,text:!0,clearTextOnFocus:!0,showSoftInputOnFocus:!0,autoFocus:!0,lineBreakStrategyIOS:!0,lineBreakModeIOS:!0,smartInsertDelete:!0},(0,r(d[2]).ConditionallyIgnoredEventHandlers)({onChange:!0,onSelectionChange:!0,onContentSizeChange:!0,onScroll:!0,onChangeSync:!0,onKeyPressSync:!0}),{disableKeyboardShortcuts:!0})};e.default=t},437,[68,55,105]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?u(o,f,i):o[f]=e[f]);return o})(e,t)})(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3]));_e.Commands=(0,n.default)({supportedCommands:['focus','blur','setTextAndSelection']});var u=_e.__INTERNAL_VIEW_CONFIG=Object.assign({uiViewClassName:'RCTMultilineTextInputView'},r.default,{validAttributes:Object.assign({},r.default.validAttributes,{dataDetectorTypes:!0})}),i=t.get('RCTMultilineTextInputView',function(){return u});_e.default=i},438,[1,78,106,437]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),i=t(_r(d[2])),o=t(_r(d[3])),s=t(_r(d[4])),E=t(_r(d[5])),n=t(_r(d[6]));(function(t,e){if("function"==typeof WeakMap)var i=new WeakMap,o=new WeakMap;(function(t,e){if(!e&&t&&t.__esModule)return t;var s,E,n={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return n;if(s=e?o:i){if(s.has(t))return s.get(t);s.set(t,n)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((E=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(E.get||E.set)?s(n,l,E):n[l]=t[l])})(t,e)})(_r(d[7])),_r(d[8]);var l=function(t){var e=t.touches,i=t.changedTouches,o=e&&e.length>0,s=i&&i.length>0;return!o&&s?i[0]:o?e[0]:t},h='NOT_RESPONDER',u='RESPONDER_INACTIVE_PRESS_IN',R='RESPONDER_INACTIVE_PRESS_OUT',r='RESPONDER_ACTIVE_PRESS_IN',_='RESPONDER_ACTIVE_PRESS_OUT',S='RESPONDER_ACTIVE_LONG_PRESS_IN',c='RESPONDER_ACTIVE_LONG_PRESS_OUT',T='ERROR',P={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},D=Object.assign({},P,{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),N=Object.assign({},P,{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),O=Object.assign({},P,{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),p='DELAY',A='RESPONDER_GRANT',f='RESPONDER_RELEASE',b='RESPONDER_TERMINATED',I='ENTER_PRESS_RECT',L='LEAVE_PRESS_RECT',v='LONG_PRESS_DETECTED',y={NOT_RESPONDER:{DELAY:T,RESPONDER_GRANT:u,RESPONDER_RELEASE:T,RESPONDER_TERMINATED:T,ENTER_PRESS_RECT:T,LEAVE_PRESS_RECT:T,LONG_PRESS_DETECTED:T},RESPONDER_INACTIVE_PRESS_IN:{DELAY:r,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:u,LEAVE_PRESS_RECT:R,LONG_PRESS_DETECTED:T},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:_,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:u,LEAVE_PRESS_RECT:R,LONG_PRESS_DETECTED:T},RESPONDER_ACTIVE_PRESS_IN:{DELAY:T,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:r,LEAVE_PRESS_RECT:_,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:T,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:r,LEAVE_PRESS_RECT:_,LONG_PRESS_DETECTED:T},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:T,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:c,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:T,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:c,LONG_PRESS_DETECTED:T},error:{DELAY:h,RESPONDER_GRANT:u,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:h,LEAVE_PRESS_RECT:h,LONG_PRESS_DETECTED:h}},C={componentDidMount:function(){o.default.isTV},componentWillUnmount:function(){this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(t){var e=t.currentTarget;t.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=h,this.state.touchable.responderID=e,this._receiveSignal(A,t);var i=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(i=isNaN(i)?130:i)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,t),i):this._handleDelay(t);var o=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;o=isNaN(o)?370:o,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,t),o+i)},touchableHandleResponderRelease:function(t){this.pressInLocation=null,this._receiveSignal(f,t)},touchableHandleResponderTerminate:function(t){this.pressInLocation=null,this._receiveSignal(b,t)},touchableHandleResponderMove:function(t){if(this.state.touchable.positionOnActivate){var e=this.state.touchable.positionOnActivate,i=this.state.touchable.dimensionsOnActivate,o=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},s=o.left,E=o.top,n=o.right,h=o.bottom,R=this.touchableGetHitSlop?this.touchableGetHitSlop():null;R&&(s+=R.left||0,E+=R.top||0,n+=R.right||0,h+=R.bottom||0);var r=l(t.nativeEvent),_=r&&r.pageX,S=r&&r.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(_,S,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(_>e.left-s&&S>e.top-E&&_<e.left+i.width+n&&S<e.top+i.height+h){var c=this.state.touchable.touchState;this._receiveSignal(I,t),this.state.touchable.touchState===u&&c!==u&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(L,t)}},touchableHandleFocus:function(t){this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){this.props.onBlur&&this.props.onBlur(t)},_remeasureMetricsOnActivation:function(){var t=this.state.touchable.responderID;null!=t&&('number'==typeof t?i.default.measure(t,this._handleQueryLayout):t.measure(this._handleQueryLayout))},_handleQueryLayout:function(t,e,i,o,s,l){(t||e||i||o||s||l)&&(this.state.touchable.positionOnActivate&&n.default.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&E.default.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=n.default.getPooled(s,l),this.state.touchable.dimensionsOnActivate=E.default.getPooled(i,o))},_handleDelay:function(t){this.touchableDelayTimeout=null,this._receiveSignal(p,t)},_handleLongDelay:function(t){this.longPressDelayTimeout=null;var e=this.state.touchable.touchState;e!==r&&e!==S||this._receiveSignal(v,t)},_receiveSignal:function(t,e){var i=this.state.touchable.responderID,o=this.state.touchable.touchState,s=y[o]&&y[o][t];if(i||t!==f){if(!s)throw new Error('Unrecognized signal `'+t+'` or state `'+o+'` for Touchable responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"host component`");if(s===T)throw new Error('Touchable cannot transition from `'+o+'` to `'+t+'` for responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"<<host component>>`");o!==s&&(this._performSideEffectsForTransition(o,s,t,e),this.state.touchable.touchState=s)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(t){return t===r||t===S},_savePressInLocation:function(t){var e=l(t.nativeEvent),i=e&&e.pageX,o=e&&e.pageY,s=e&&e.locationX,E=e&&e.locationY;this.pressInLocation={pageX:i,pageY:o,locationX:s,locationY:E}},_getDistanceBetweenPoints:function(t,e,i,o){var s=t-i,E=e-o;return Math.sqrt(s*s+E*E)},_performSideEffectsForTransition:function(t,e,i,E){var n=this._isHighlight(t),l=this._isHighlight(e);(i===b||i===f)&&this._cancelLongPressDelayTimeout();var R=t===h&&e===u,r=!D[t]&&D[e];if((R||r)&&this._remeasureMetricsOnActivation(),N[t]&&i===v&&this.touchableHandleLongPress&&this.touchableHandleLongPress(E),l&&!n?this._startHighlight(E):!l&&n&&this._endHighlight(E),N[t]&&i===f){var _=!!this.props.onLongPress,S=O[t]&&(!_||!this.touchableLongPressCancelsPress());(!O[t]||S)&&this.touchableHandlePress&&(l||n||(this._startHighlight(E),this._endHighlight(E)),'android'!==o.default.OS||this.props.touchSoundDisabled||s.default.playTouchSound(),this.touchableHandlePress(E))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_startHighlight:function(t){this._savePressInLocation(t),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(t)},_endHighlight:function(t){var e=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(function(){e.touchableHandleActivePressOut(t)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(t))},withoutDefaultFocusAndBlur:{}},G=(C.touchableHandleFocus,C.touchableHandleBlur,(0,e.default)(C,["touchableHandleFocus","touchableHandleBlur"]));C.withoutDefaultFocusAndBlur=G;var V={Mixin:C,renderDebugView:function(t){t.color,t.hitSlop;return null}};_e.default=V},439,[1,4,80,69,285,440,442,75,244]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),u=o.default.twoArgumentPooler;function l(t,o){this.width=t,this.height=o}l.prototype.destructor=function(){this.width=null,this.height=null},l.getPooledFromElement=function(t){return l.getPooled(t.offsetWidth,t.offsetHeight)},o.default.addPoolingTo(l,u);e.default=l},440,[1,441]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[1])),t=function(n){var o=this;if(o.instancePool.length){var t=o.instancePool.pop();return o.call(t,n),t}return new o(n)},l=function(n){var t=this;(0,o.default)(n instanceof t,'Trying to release an instance into a pool of a different type.'),n.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(n)},u=t,c={addPoolingTo:function(n,o){var t=n;return t.instancePool=[],t.getPooled=o||u,t.poolSize||(t.poolSize=10),t.release=l,t},oneArgumentPooler:t,twoArgumentPooler:function(n,o){var t=this;if(t.instancePool.length){var l=t.instancePool.pop();return t.call(l,n,o),l}return new t(n,o)},threeArgumentPooler:function(n,o,t){var l=this;if(l.instancePool.length){var u=l.instancePool.pop();return l.call(u,n,o,t),u}return new l(n,o,t)},fourArgumentPooler:function(n,o,t,l){var u=this;if(u.instancePool.length){var c=u.instancePool.pop();return u.call(c,n,o,t,l),c}return new u(n,o,t,l)}};e.default=c},441,[1,32]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),l=o.default.twoArgumentPooler;function u(t,o){this.left=t,this.top=o}u.prototype.destructor=function(){this.left=null,this.top=null},o.default.addPoolingTo(u,l);e.default=u},442,[1,441]);
__d(function(g,_r,_i,a,m,_e,d){var s=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=s(_r(d[1])),t=s(_r(d[2])),i=s(_r(d[3])),o=s(_r(d[4])),n=s(_r(d[5])),l=s(_r(d[6])),r=s(_r(d[7])),p=s(_r(d[8])),u=s(_r(d[9])),c=s(_r(d[10])),h=(function(s,e){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(s,e){if(!e&&s&&s.__esModule)return s;var o,n,l={__proto__:null,default:s};if(null===s||"object"!=typeof s&&"function"!=typeof s)return l;if(o=e?i:t){if(o.has(s))return o.get(s);o.set(s,l)}for(var r in s)"default"!==r&&{}.hasOwnProperty.call(s,r)&&((n=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,r))&&(n.get||n.set)?o(l,r,n):l[r]=s[r]);return l})(s,e)})(_r(d[11])),y=h,f=_r(d[12]),b=["onBlur","onFocus"],v=["ref"];function _(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(_=function(){return!!s})()}var P=(function(s){function v(){var s,e,i,l;(0,t.default)(this,v);for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return e=this,i=v,l=[].concat(u),i=(0,n.default)(i),(s=(0,o.default)(e,_()?Reflect.construct(i,l||[],(0,n.default)(e).constructor):i.apply(e,l)))._isMounted=!1,s.state={pressability:new p.default(s._createPressabilityConfig()),extraStyles:!0===s.props.testOnly_pressed?s._createExtraStyles():null},s}return(0,l.default)(v,s),(0,i.default)(v,[{key:"_createPressabilityConfig",value:function(){var s,e=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=this.props.disabled?this.props.disabled:null==(s=this.props.accessibilityState)?void 0:s.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onBlur:function(s){c.default.isTV&&e._hideUnderlay(),null!=e.props.onBlur&&e.props.onBlur(s)},onFocus:function(s){c.default.isTV&&e._showUnderlay(),null!=e.props.onFocus&&e.props.onFocus(s)},onLongPress:this.props.onLongPress,onPress:function(s){var t;(null!=e._hideTimeout&&clearTimeout(e._hideTimeout),c.default.isTV)||(e._showUnderlay(),e._hideTimeout=setTimeout(function(){e._hideUnderlay()},null!=(t=e.props.delayPressOut)?t:0));null!=e.props.onPress&&e.props.onPress(s)},onPressIn:function(s){null!=e._hideTimeout&&(clearTimeout(e._hideTimeout),e._hideTimeout=null),e._showUnderlay(),null!=e.props.onPressIn&&e.props.onPressIn(s)},onPressOut:function(s){null==e._hideTimeout&&e._hideUnderlay(),null!=e.props.onPressOut&&e.props.onPressOut(s)}}}},{key:"_createExtraStyles",value:function(){var s;return{child:{opacity:null!=(s=this.props.activeOpacity)?s:.85},underlay:{backgroundColor:void 0===this.props.underlayColor?'black':this.props.underlayColor}}}},{key:"_showUnderlay",value:function(){this._isMounted&&this._hasPressHandler()&&(this.setState({extraStyles:this._createExtraStyles()}),null!=this.props.onShowUnderlay&&this.props.onShowUnderlay())}},{key:"_hideUnderlay",value:function(){null!=this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=null),!0!==this.props.testOnly_pressed&&this._hasPressHandler()&&(this.setState({extraStyles:null}),null!=this.props.onHideUnderlay&&this.props.onHideUnderlay())}},{key:"_hasPressHandler",value:function(){return null!=this.props.onPress||null!=this.props.onPressIn||null!=this.props.onPressOut||null!=this.props.onLongPress}},{key:"render",value:function(){var s,t,i,o,n,l,p,c,v,_,P,x,T,S,w,F=y.Children.only(this.props.children),O=this.state.pressability.getEventHandlers(),U=(O.onBlur,O.onFocus,(0,e.default)(O,b)),L=null!=this.props.disabled?Object.assign({},this.props.accessibilityState,{disabled:this.props.disabled}):this.props.accessibilityState,k={max:null!=(s=this.props['aria-valuemax'])?s:null==(t=this.props.accessibilityValue)?void 0:t.max,min:null!=(i=this.props['aria-valuemin'])?i:null==(o=this.props.accessibilityValue)?void 0:o.min,now:null!=(n=this.props['aria-valuenow'])?n:null==(l=this.props.accessibilityValue)?void 0:l.now,text:null!=(p=this.props['aria-valuetext'])?p:null==(c=this.props.accessibilityValue)?void 0:c.text},R='off'===this.props['aria-live']?'none':null!=(v=this.props['aria-live'])?v:this.props.accessibilityLiveRegion,I=null!=(_=this.props['aria-label'])?_:this.props.accessibilityLabel;return(0,f.jsxs)(r.default,Object.assign({accessible:!1!==this.props.accessible,accessibilityLabel:I,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityRole:this.props.accessibilityRole,accessibilityState:L,accessibilityValue:k,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,importantForAccessibility:!0===this.props['aria-hidden']?'no-hide-descendants':this.props.importantForAccessibility,accessibilityViewIsModal:null!=(P=this.props['aria-modal'])?P:this.props.accessibilityViewIsModal,accessibilityLiveRegion:R,accessibilityElementsHidden:null!=(x=this.props['aria-hidden'])?x:this.props.accessibilityElementsHidden,style:u.default.compose(this.props.style,null==(T=this.state.extraStyles)?void 0:T.underlay),onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,hasTVPreferredFocus:this.props.hasTVPreferredFocus,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,nativeID:null!=(S=this.props.id)?S:this.props.nativeID,testID:this.props.testID,ref:this.props.hostRef},U,{children:[(0,h.cloneElement)(F,{style:u.default.compose(F.props.style,null==(w=this.state.extraStyles)?void 0:w.child)}),null]}))}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentDidUpdate",value:function(s,e){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this.state.pressability.reset()}}])})(y.Component),x=function(s){var t=s.ref,i=(0,e.default)(s,v);return(0,f.jsx)(P,Object.assign({},i,{hostRef:t}))};x.displayName='TouchableHighlight';_e.default=x},443,[1,4,11,12,18,20,23,72,284,6,69,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){var c,r,u,b,y,f,v,p,P,h,O,S,I=e.disabled,_=e.rejectResponderTermination,L=e['aria-disabled'],F=e.accessibilityState,j=e.hitSlop,D=e.delayLongPress,M=e.delayPressIn,R=e.delayPressOut,k=e.pressRetentionOffset,w=e.touchSoundDisabled,A=e.onBlur,x=e.onFocus,B=e.onLongPress,E=e.onPress,H=e.onPressIn,W=e.onPressOut,C=(0,l.useMemo)(function(){return{cancelable:!_,disabled:null!==I?I:null!=L?L:null==F?void 0:F.disabled,hitSlop:j,delayLongPress:D,delayPressIn:M,delayPressOut:R,minPressDuration:0,pressRectOffset:k,android_disableSound:w,onBlur:A,onFocus:x,onLongPress:B,onPress:E,onPressIn:H,onPressOut:W}},[_,I,L,null==F?void 0:F.disabled,j,D,M,R,k,w,A,x,B,E,H,W]),V=(0,s.default)(C),T=n.Children.only(e.children),q=[T.props.children],z=e['aria-live'],G={busy:null!=(c=e['aria-busy'])?c:null==(r=e.accessibilityState)?void 0:r.busy,checked:null!=(u=e['aria-checked'])?u:null==(b=e.accessibilityState)?void 0:b.checked,disabled:null!=(y=e['aria-disabled'])?y:null==(f=e.accessibilityState)?void 0:f.disabled,expanded:null!=(v=e['aria-expanded'])?v:null==(p=e.accessibilityState)?void 0:p.expanded,selected:null!=(P=e['aria-selected'])?P:null==(h=e.accessibilityState)?void 0:h.selected},J=(V.onBlur,V.onFocus,(0,i.default)(V,t)),K=Object.assign({},J,{accessible:!1!==e.accessible,accessibilityState:null!=e.disabled?Object.assign({},G,{disabled:e.disabled}):G,focusable:!1!==e.focusable&&void 0!==e.onPress&&!e.disabled,accessibilityElementsHidden:null!=(O=e['aria-hidden'])?O:e.accessibilityElementsHidden,importantForAccessibility:!0===e['aria-hidden']?'no-hide-descendants':e.importantForAccessibility,accessibilityLiveRegion:'off'===z?'none':null!=z?z:e.accessibilityLiveRegion,nativeID:null!=(S=e.id)?S:e.nativeID});for(var N of o)void 0!==e[N]&&(K[N]=e[N]);return l.cloneElement.apply(void 0,[T,K].concat(q))};var i=e(_r(d[1])),s=(e(_r(d[2])),e(_r(d[3]))),l=(function(e,i){if("function"==typeof WeakMap)var s=new WeakMap,l=new WeakMap;return(function(e,i){if(!i&&e&&e.__esModule)return e;var n,t,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(n=i?l:s){if(n.has(e))return n.get(e);n.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((t=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(t.get||t.set)?n(o,c,t):o[c]=e[c]);return o})(e,i)})(_r(d[4])),n=l,t=(_r(d[5]),["onBlur","onFocus"]);var o=['accessibilityActions','accessibilityElementsHidden','accessibilityHint','accessibilityLanguage','accessibilityIgnoresInvertColors','accessibilityLabel','accessibilityLiveRegion','accessibilityRole','accessibilityValue','aria-valuemax','aria-valuemin','aria-valuenow','aria-valuetext','accessibilityViewIsModal','aria-modal','hitSlop','importantForAccessibility','nativeID','onAccessibilityAction','onBlur','onFocus','onLayout','testID']},444,[1,4,72,283,75,244]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.VirtualizedList;e.default=u},445,[1,338]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.VirtualizedSectionList;e.default=u},446,[1,338]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e._logs=void 0,_e.createHiddenVirtualView=function(e){return p(null!=e?e:{})},_e.default=void 0;var t=e(_r(d[1])),i=e(_r(d[2])),n=v(_r(d[3])),r=e(_r(d[4])),l=e(_r(d[5])),u=e(_r(d[6])),o=v(_r(d[7])),c=o,f=_r(d[8]);function v(e,t){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(v=function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?n:i){if(r.has(e))return r.get(e);r.set(e,u)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(l.get||l.set)?r(u,o,l):u[o]=e[o]);return u})(e,t)}var s=n.enableVirtualViewExperimental()?r.default:l.default,h=null;function w(e){return{minHeight:e.height,minWidth:e.width}}function p(e){var r=e!==h;return c.forwardRef(function(l,c){var v=l.children,p=l.hiddenStyle,V=void 0===p?w:p,y=l.nativeID,_=l.style,M=l.onModeChange,b=l.removeClippedSubviews,R=(0,o.useState)(e),j=(0,t.default)(R,2),S=j[0],E=j[1],x=S!==h;return(0,f.jsx)(s,{initialHidden:r,nativeID:y,ref:c,removeClippedSubviews:b,renderState:x?VirtualViewRenderState.None:VirtualViewRenderState.Rendered,style:x?i.default.compose(_,(0,u.default)(S)):_,onModeChange:function(e){var t=(0,u.default)(VirtualViewMode.cast(e.nativeEvent.mode)),i=null==M?null:M.bind(null,{mode:t,target:e.currentTarget,targetRect:e.nativeEvent.targetRect,thresholdRect:e.nativeEvent.thresholdRect});if(t!==VirtualViewMode.Visible)if(t!==VirtualViewMode.Prerender){if(t!==VirtualViewMode.Hidden)throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t);(0,o.startTransition)(function(){var t;E(null!=(t=V(e.nativeEvent.targetRect))?t:{}),null==i||i()})}else(0,o.startTransition)(function(){E(h),null==i||i()});else E(h),null==i||i()},children:(O=n.virtualViewActivityBehavior(),'activity-without-mode'===O?(0,f.jsx)(o.unstable_Activity,{children:x?null:v}):'activity-with-hidden-mode'===O?(0,f.jsx)(o.unstable_Activity,{mode:x?'hidden':'visible',children:v}):x?null:v)});var O})}_e.default=p(h);_e._logs={}},447,[1,34,6,50,448,449,81,75,244]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"VirtualViewExperimental",directEventTypes:{topModeChange:{registrationName:"onModeChange"}},validAttributes:Object.assign({initialHidden:!0,renderState:!0,removeClippedSubviews:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onModeChange:!0}))};e.default=r(d[3]).get('VirtualViewExperimental',function(){return n})},448,[1,275,105,78]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"VirtualView",directEventTypes:{topModeChange:{registrationName:"onModeChange"}},validAttributes:Object.assign({initialHidden:!0,removeClippedSubviews:!0,renderState:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onModeChange:!0}))};e.default=r(d[3]).get('VirtualView',function(){return n})},449,[1,275,105,78]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),l=["tintColor","cancelButtonTintColor","disabledButtonTintColor","destructiveButtonIndex"],c={showActionSheetWithOptions:function(t,c){r(d[3])('object'==typeof t&&null!==t,'Options must be a valid object'),r(d[3])('function'==typeof c,'Must provide a valid callback'),r(d[3])(n.default,"ActionSheetManager doesn't exist");var u=t.tintColor,s=t.cancelButtonTintColor,f=t.disabledButtonTintColor,h=t.destructiveButtonIndex,p=(0,o.default)(t,l),S=null;Array.isArray(h)?S=h:'number'==typeof h&&(S=[h]);var b=r(d[4]).default(u),v=r(d[4]).default(s),A=r(d[4]).default(f);r(d[3])(null==b||'number'==typeof b,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions tintColor'),r(d[3])(null==v||'number'==typeof v,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions cancelButtonTintColor'),r(d[3])(null==A||'number'==typeof A,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions disabledButtonTintColor'),n.default.showActionSheetWithOptions(Object.assign({},p,{tintColor:b,cancelButtonTintColor:v,disabledButtonTintColor:A,destructiveButtonIndices:S}),c)},showShareActionSheetWithOptions:function(t,o,l){r(d[3])('object'==typeof t&&null!==t,'Options must be a valid object'),r(d[3])('function'==typeof o,'Must provide a valid failureCallback'),r(d[3])('function'==typeof l,'Must provide a valid successCallback'),r(d[3])(n.default,"ActionSheetManager doesn't exist"),n.default.showShareActionSheetWithOptions(Object.assign({},t,{tintColor:r(d[4]).default(t.tintColor)}),o,l)},dismissActionSheet:function(){r(d[3])(n.default,"ActionSheetManager doesn't exist"),'function'==typeof n.default.dismissActionSheet&&n.default.dismissActionSheet()}};e.default=c},450,[1,4,451,32,55]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},451,[452]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('ActionSheetManager')},452,[31]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.addChangeListener=function(n){return p().eventEmitter.addListener('change',n)},e.getColorScheme=function(){var n=null,c=p(),t=c.NativeAppearance;null!=t&&(null==c.appearance&&(c.appearance={colorScheme:t.getColorScheme()}),n=c.appearance.colorScheme);return n},e.setColorScheme=function(n){var c=p(),t=c.NativeAppearance;null!=t&&(t.setColorScheme(n),c.appearance={colorScheme:n})};var c,t=n(r(d[1])),l=n(r(d[2]));function p(){if(null!=c)return c;var n=new l.default,p=r(d[3]).default;if(null==p)c={NativeAppearance:null,appearance:null,eventEmitter:n};else{var o={NativeAppearance:p,appearance:null,eventEmitter:n};new t.default(p).addListener('appearanceChanged',function(c){o.appearance={colorScheme:c.colorScheme},n.emit('change',o.appearance)}),c=o}return c}},453,[1,201,25,454]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},454,[1,455]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('Appearance')},455,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5])),f=t(r(d[6])),c=new((function(){return(0,u.default)(function t(){var u=this;if((0,n.default)(this,t),this.currentState=null,null==f.default)this.isAvailable=!1;else{this.isAvailable=!0;var c=new s.default('ios'!==o.default.OS?null:f.default);this._emitter=c,this.currentState=f.default.getConstants().initialAppState;var p=!1;c.addListener('appStateDidChange',function(t){p=!0,u.currentState=t.app_state}),f.default.getCurrentAppState(function(t){p||u.currentState===t.app_state||(u.currentState=t.app_state,c.emit('appStateDidChange',t))},l.default)}},[{key:"addEventListener",value:function(t,n){var u=this._emitter;if(null==u)throw new Error('Cannot use AppState when `isAvailable` is false.');switch(t){case'change':var s=n;return u.addListener('appStateDidChange',function(t){s(t.app_state)});case'memoryWarning':var l=n;return u.addListener('memoryWarning',l);case'blur':case'focus':var o=n;return u.addListener('appStateFocusChange',function(n){'blur'!==t||n||o(),'focus'===t&&n&&o()})}throw new Error('Trying to subscribe to unknown event: '+t)}}])})());e.default=c},456,[1,11,12,201,457,69,458]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];if(1===n.length&&n[0]instanceof Error){var l=n[0];console.error('Error: "'+l.message+'".  Stack:\n'+l.stack)}else console.error.apply(console,n)}},457,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},458,[459]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('AppState')},459,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));e.default={getString:function(){return n.default.getString()},setString:function(t){n.default.setString(t)}}},460,[1,461]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},461,[462]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('Clipboard')},462,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},463,[1,29]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(r(d[1])),e.default={show:function(){}}},464,[1,465]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('DevMenu')},465,[31]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n(r(d[1])),n(r(d[2])),n(r(d[3])),e.default={addMenuItem:function(n,t){},reload:function(n){},onFastRefresh:function(){}}},466,[1,201,467,69]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},467,[468]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('DevSettings')},468,[31]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicColorIOS=void 0;e.DynamicColorIOS=function(o){throw new Error('DynamicColorIOS is not available on this platform.')}},469,[]);
__d(function(g,r,i,a,m,e,d){function n(n){setTimeout(function(){throw n},0)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions:function(t){var o,c=new Promise(function(c){o=setImmediate(function(){if('object'==typeof t&&null!==t)if('function'==typeof t.gen)t.gen().then(c,n);else if('function'==typeof t.run)try{t.run(),c()}catch(t){n(t)}else n(new TypeError(`Task "${t.name}" missing gen or run.`));else if('function'==typeof t)try{t(),c()}catch(t){n(t)}else n(new TypeError('Invalid task of type: '+typeof t))})});return{then:c.then.bind(c),cancel:function(){clearImmediate(o)}}},createInteractionHandle:function(){return-1},clearInteractionHandle:function(n){r(d[0])(!!n,'InteractionManager: Must provide a handle to clear.')},addListener:function(n,t,o){return{remove:function(){}}},setDeadline:function(n){}};e.default=t},470,[32]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),l=e(r(d[4])),f=e(r(d[5])),o=e(r(d[6])),c=e(r(d[7])),s=e(r(d[8])),v=e(r(d[9])),p=e(r(d[10])),L=e(r(d[11]));function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R=function(){return!!e})()}var U=new((function(e){function o(){return(0,t.default)(this,o),e=this,n=o,f=['ios'===c.default.OS?(0,L.default)(v.default):void 0],n=(0,l.default)(n),(0,u.default)(e,R()?Reflect.construct(n,f||[],(0,l.default)(e).constructor):n.apply(e,f));var e,n,f}return(0,f.default)(o,e),(0,n.default)(o,[{key:"addEventListener",value:function(e,t){return this.addListener(e,t)}},{key:"openURL",value:function(e){return this._validateURL(e),'android'===c.default.OS?(0,L.default)(s.default).openURL(e):(0,L.default)(v.default).openURL(e)}},{key:"canOpenURL",value:function(e){return this._validateURL(e),'android'===c.default.OS?(0,L.default)(s.default).canOpenURL(e):(0,L.default)(v.default).canOpenURL(e)}},{key:"openSettings",value:function(){return'android'===c.default.OS?(0,L.default)(s.default).openSettings():(0,L.default)(v.default).openSettings()}},{key:"getInitialURL",value:function(){return'android'===c.default.OS?(0,L.default)(s.default).getInitialURL():(0,L.default)(v.default).getInitialURL()}},{key:"sendIntent",value:function(e,t){return'android'===c.default.OS?(0,L.default)(s.default).sendIntent(e,t):new Promise(function(e,t){return t(new Error('Unsupported'))})}},{key:"_validateURL",value:function(e){(0,p.default)('string'==typeof e,'Invalid URL: should be a string. Was: '+e),(0,p.default)(e,'Invalid URL: cannot be empty')}}])})(o.default));_e.default=U},471,[1,11,12,18,20,23,201,69,472,474,32,81]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},472,[473]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('IntentAndroid')},473,[31]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},474,[475]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('LinkingManager')},475,[31]);
__d(function(g,_r,_i,a,m,_e,d){var n=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e;n(_r(d[1])),n(_r(d[2])),(function(n,e){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;(function(n,e){if(!e&&n&&n.__esModule)return n;var i,f,r={__proto__:null,default:n};if(null===n||"object"!=typeof n&&"function"!=typeof n)return r;if(i=e?o:t){if(i.has(n))return i.get(n);i.set(n,r)}for(var u in n)"default"!==u&&{}.hasOwnProperty.call(n,u)&&((f=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,u))&&(f.get||f.set)?i(r,u,f):r[u]=n[u])})(n,e)})(_r(d[3]));e={install:function(){},uninstall:function(){},isInstalled:function(){return!1},ignoreLogs:function(n){},ignoreAllLogs:function(n){},clearAllLogs:function(){},addLog:function(n){},addConsoleLog:function(n){},addException:function(n){}};_e.default=e},476,[1,69,230,75]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]).default.currentCentroidXOfTouchesChangedAfter,n=r(d[0]).default.currentCentroidYOfTouchesChangedAfter,t=r(d[0]).default.previousCentroidXOfTouchesChangedAfter,u=r(d[0]).default.previousCentroidYOfTouchesChangedAfter,s=r(d[0]).default.currentCentroidX,c=r(d[0]).default.currentCentroidY,v={_initializeGestureState:function(o){o.moveX=0,o.moveY=0,o.x0=0,o.y0=0,o.dx=0,o.dy=0,o.vx=0,o.vy=0,o.numberActiveTouches=0,o._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(s,c){s.numberActiveTouches=c.numberActiveTouches,s.moveX=o(c,s._accountsForMovesUpTo),s.moveY=n(c,s._accountsForMovesUpTo);var v=s._accountsForMovesUpTo,l=t(c,v),p=o(c,v),S=u(c,v),R=n(c,v),h=s.dx+(p-l),f=s.dy+(R-S),T=c.mostRecentTimeStamp-s._accountsForMovesUpTo;s.vx=(h-s.dx)/T,s.vy=(f-s.dy)/T,s.dx=h,s.dy=f,s._accountsForMovesUpTo=c.mostRecentTimeStamp},create:function(o){var n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(t){return null!=o.onStartShouldSetPanResponder&&o.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return null!=o.onMoveShouldSetPanResponder&&o.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&v._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,null!=o.onStartShouldSetPanResponderCapture&&o.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var u=t.touchHistory;return n._accountsForMovesUpTo!==u.mostRecentTimeStamp&&(v._updateGestureStateOnMove(n,u),!!o.onMoveShouldSetPanResponderCapture&&o.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:function(t){return n.x0=s(t.touchHistory),n.y0=c(t.touchHistory),n.dx=0,n.dy=0,o.onPanResponderGrant&&o.onPanResponderGrant(t,n),null==o.onShouldBlockNativeResponder||o.onShouldBlockNativeResponder(t,n)},onResponderReject:function(t){var u;null==(u=o.onPanResponderReject)||u.call(void 0,t,n)},onResponderRelease:function(t){var u;null==(u=o.onPanResponderRelease)||u.call(void 0,t,n),v._initializeGestureState(n)},onResponderStart:function(t){var u=t.touchHistory;n.numberActiveTouches=u.numberActiveTouches,o.onPanResponderStart&&o.onPanResponderStart(t,n)},onResponderMove:function(t){var u=t.touchHistory;n._accountsForMovesUpTo!==u.mostRecentTimeStamp&&(v._updateGestureStateOnMove(n,u),o.onPanResponderMove&&o.onPanResponderMove(t,n))},onResponderEnd:function(t){var u,s=t.touchHistory;n.numberActiveTouches=s.numberActiveTouches,null==(u=o.onPanResponderEnd)||u.call(void 0,t,n)},onResponderTerminate:function(t){var u;null==(u=o.onPanResponderTerminate)||u.call(void 0,t,n),v._initializeGestureState(n)},onResponderTerminationRequest:function(t){return null==o.onPanResponderTerminationRequest||o.onPanResponderTerminationRequest(t,n)}},getInteractionHandle:function(){return null}}}};e.default=v},477,[478]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={centroidDimension:function(t,i,o,u){var c=t.touchBank,f=0,s=0,v=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==v)v.touchActive&&v.currentTimeStamp>i&&(f+=u&&o?v.currentPageX:u&&!o?v.currentPageY:!u&&o?v.previousPageX:v.previousPageY,s=1);else for(var h=0;h<c.length;h++){var l=c[h];if(null!=l&&l.touchActive&&l.currentTimeStamp>=i){f+=u&&o?l.currentPageX:u&&!o?l.currentPageY:!u&&o?l.previousPageX:l.previousPageY,s++}}return s>0?f/s:n.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!1)},currentCentroidX:function(t){return n.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return n.centroidDimension(t,0,!1,!0)},noCentroid:-1};e.default=n},478,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var E=n(r(d[1])),s=n(r(d[2])),o=n(r(d[3])),A=n(r(d[4])),_=n(r(d[5])),O=n(r(d[6])),S=Object.freeze({GRANTED:'granted',DENIED:'denied',NEVER_ASK_AGAIN:'never_ask_again'}),C=Object.freeze({READ_CALENDAR:'android.permission.READ_CALENDAR',WRITE_CALENDAR:'android.permission.WRITE_CALENDAR',CAMERA:'android.permission.CAMERA',READ_CONTACTS:'android.permission.READ_CONTACTS',WRITE_CONTACTS:'android.permission.WRITE_CONTACTS',GET_ACCOUNTS:'android.permission.GET_ACCOUNTS',ACCESS_FINE_LOCATION:'android.permission.ACCESS_FINE_LOCATION',ACCESS_COARSE_LOCATION:'android.permission.ACCESS_COARSE_LOCATION',ACCESS_BACKGROUND_LOCATION:'android.permission.ACCESS_BACKGROUND_LOCATION',RECORD_AUDIO:'android.permission.RECORD_AUDIO',READ_PHONE_STATE:'android.permission.READ_PHONE_STATE',CALL_PHONE:'android.permission.CALL_PHONE',READ_CALL_LOG:'android.permission.READ_CALL_LOG',WRITE_CALL_LOG:'android.permission.WRITE_CALL_LOG',ADD_VOICEMAIL:'com.android.voicemail.permission.ADD_VOICEMAIL',READ_VOICEMAIL:'com.android.voicemail.permission.READ_VOICEMAIL',WRITE_VOICEMAIL:'com.android.voicemail.permission.WRITE_VOICEMAIL',USE_SIP:'android.permission.USE_SIP',PROCESS_OUTGOING_CALLS:'android.permission.PROCESS_OUTGOING_CALLS',BODY_SENSORS:'android.permission.BODY_SENSORS',BODY_SENSORS_BACKGROUND:'android.permission.BODY_SENSORS_BACKGROUND',SEND_SMS:'android.permission.SEND_SMS',RECEIVE_SMS:'android.permission.RECEIVE_SMS',READ_SMS:'android.permission.READ_SMS',RECEIVE_WAP_PUSH:'android.permission.RECEIVE_WAP_PUSH',RECEIVE_MMS:'android.permission.RECEIVE_MMS',READ_EXTERNAL_STORAGE:'android.permission.READ_EXTERNAL_STORAGE',READ_MEDIA_IMAGES:'android.permission.READ_MEDIA_IMAGES',READ_MEDIA_VIDEO:'android.permission.READ_MEDIA_VIDEO',READ_MEDIA_AUDIO:'android.permission.READ_MEDIA_AUDIO',READ_MEDIA_VISUAL_USER_SELECTED:'android.permission.READ_MEDIA_VISUAL_USER_SELECTED',WRITE_EXTERNAL_STORAGE:'android.permission.WRITE_EXTERNAL_STORAGE',BLUETOOTH_CONNECT:'android.permission.BLUETOOTH_CONNECT',BLUETOOTH_SCAN:'android.permission.BLUETOOTH_SCAN',BLUETOOTH_ADVERTISE:'android.permission.BLUETOOTH_ADVERTISE',ACCESS_MEDIA_LOCATION:'android.permission.ACCESS_MEDIA_LOCATION',ACCEPT_HANDOVER:'android.permission.ACCEPT_HANDOVER',ACTIVITY_RECOGNITION:'android.permission.ACTIVITY_RECOGNITION',ANSWER_PHONE_CALLS:'android.permission.ANSWER_PHONE_CALLS',READ_PHONE_NUMBERS:'android.permission.READ_PHONE_NUMBERS',UWB_RANGING:'android.permission.UWB_RANGING',POST_NOTIFICATIONS:'android.permission.POST_NOTIFICATIONS',NEARBY_WIFI_DEVICES:'android.permission.NEARBY_WIFI_DEVICES'}),R=(function(){return(0,o.default)(function n(){(0,s.default)(this,n),this.PERMISSIONS=C,this.RESULTS=S},[{key:"checkPermission",value:function(n){return console.warn('"PermissionsAndroid.checkPermission" is deprecated. Use "PermissionsAndroid.check" instead'),(0,O.default)(_.default,'PermissionsAndroid is not installed correctly.'),_.default.checkPermission(n)}},{key:"check",value:function(n){return(0,O.default)(_.default,'PermissionsAndroid is not installed correctly.'),_.default.checkPermission(n)}},{key:"requestPermission",value:(R=(0,E.default)(function*(n,E){return console.warn('"PermissionsAndroid.requestPermission" is deprecated. Use "PermissionsAndroid.request" instead'),(yield this.request(n,E))===this.RESULTS.GRANTED}),function(n,E){return R.apply(this,arguments)})},{key:"request",value:(n=(0,E.default)(function*(n,E){return(0,O.default)(_.default,'PermissionsAndroid is not installed correctly.'),E&&(yield _.default.shouldShowRequestPermissionRationale(n))&&A.default?new Promise(function(s,o){var O=Object.assign({},E);A.default.showAlert(O,function(){return o(new Error('Error showing rationale'))},function(){return s(_.default.requestPermission(n))})}):_.default.requestPermission(n)}),function(E,s){return n.apply(this,arguments)})},{key:"requestMultiple",value:function(n){return(0,O.default)(_.default,'PermissionsAndroid is not installed correctly.'),_.default.requestMultiplePermissions(n)}}]);var n,R})(),I=new R;e.default=I},479,[1,356,11,12,224,480,32]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},480,[481]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('PermissionsAndroid')},481,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=t(r(d[6])),s=new l.default('ios'!==u.default.OS?null:c.default),v=new Map,h=(function(){function t(n){var l=this;(0,o.default)(this,t),this._data={},this._remoteNotificationCompleteCallbackCalled=!1,this._isRemote=n.remote,this._isRemote&&(this._notificationId=n.notificationId),n.remote?Object.keys(n).forEach(function(t){var o=n[t];'aps'===t?(l._alert=o.alert,l._sound=o.sound,l._badgeCount=o.badge,l._category=o.category,l._contentAvailable=o['content-available'],l._threadID=o['thread-id']):l._data[t]=o}):(this._badgeCount=n.applicationIconBadgeNumber,this._sound=n.soundName,this._alert=n.alertBody,this._data=n.userInfo,this._category=n.category)}return(0,n.default)(t,[{key:"finish",value:function(t){this._isRemote&&this._notificationId&&!this._remoteNotificationCompleteCallbackCalled&&(this._remoteNotificationCompleteCallbackCalled=!0,(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.onFinishRemoteNotification(this._notificationId,t))}},{key:"getMessage",value:function(){return this._alert}},{key:"getSound",value:function(){return this._sound}},{key:"getCategory",value:function(){return this._category}},{key:"getAlert",value:function(){return this._alert}},{key:"getContentAvailable",value:function(){return this._contentAvailable}},{key:"getBadgeCount",value:function(){return this._badgeCount}},{key:"getData",value:function(){return this._data}},{key:"getThreadID",value:function(){return this._threadID}}],[{key:"presentLocalNotification",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.presentLocalNotification(t)}},{key:"scheduleLocalNotification",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.scheduleLocalNotification(t)}},{key:"cancelAllLocalNotifications",value:function(){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.cancelAllLocalNotifications()}},{key:"removeAllDeliveredNotifications",value:function(){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.removeAllDeliveredNotifications()}},{key:"getDeliveredNotifications",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getDeliveredNotifications(t)}},{key:"removeDeliveredNotifications",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.removeDeliveredNotifications(t)}},{key:"setApplicationIconBadgeNumber",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.setApplicationIconBadgeNumber(t)}},{key:"getApplicationIconBadgeNumber",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getApplicationIconBadgeNumber(t)}},{key:"cancelLocalNotifications",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.cancelLocalNotifications(t)}},{key:"getScheduledLocalNotifications",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getScheduledLocalNotifications(t)}},{key:"addEventListener",value:function(o,n){var l;(0,f.default)('notification'===o||'register'===o||'registrationError'===o||'localNotification'===o,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'),'notification'===o?l=s.addListener("remoteNotificationReceived",function(o){n(new t(o))}):'localNotification'===o?l=s.addListener("localNotificationReceived",function(o){n(new t(o))}):'register'===o?l=s.addListener("remoteNotificationsRegistered",function(t){n(t.deviceToken)}):'registrationError'===o&&(l=s.addListener("remoteNotificationRegistrationError",function(t){n(t)})),v.set(o,l)}},{key:"removeEventListener",value:function(t){(0,f.default)('notification'===t||'register'===t||'registrationError'===t||'localNotification'===t,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events');var o=v.get(t);o&&(o.remove(),v.delete(t))}},{key:"requestPermissions",value:function(t){var o={alert:!0,badge:!0,sound:!0};return t&&(o={alert:!!t.alert,badge:!!t.badge,sound:!!t.sound}),(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.requestPermissions(o)}},{key:"abandonPermissions",value:function(){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.abandonPermissions()}},{key:"checkPermissions",value:function(t){(0,f.default)('function'==typeof t,'Must provide a valid callback'),(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.checkPermissions(t)}},{key:"getInitialNotification",value:function(){return(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getInitialNotification().then(function(o){return o&&new t(o)})}},{key:"getAuthorizationStatus",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getAuthorizationStatus(t)}}])})();h.FetchResult={NewData:'UIBackgroundFetchResultNewData',NoData:'UIBackgroundFetchResultNoData',ResultFailed:'UIBackgroundFetchResultFailed'};e.default=h},482,[1,11,12,201,69,483,32]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},483,[484]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('PushNotificationManager')},484,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),o=e.default=(function(){return(0,l.default)(function t(){(0,n.default)(this,t)},null,[{key:"getVersionString",value:function(){return`${this.major}.${this.minor}.${this.patch}${null!=this.prerelease?`-${this.prerelease}`:''}`}}])})();o.major=0,o.minor=83,o.patch=1,o.prerelease=null;e.version={major:o.major,minor:o.minor,patch:o.patch,prerelease:o.prerelease}},485,[1,11,12]);
__d(function(g,r,i,a,m,e,d){var t,u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t='ios'===u(r(d[1])).default.OS?r(d[2]).default:r(d[3]).default;e.default=t},486,[1,69,486,487]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={get:function(t){return console.warn('Settings is not yet supported on this platform.'),null},set:function(t){console.warn('Settings is not yet supported on this platform.')},watchKeys:function(t,n){return console.warn('Settings is not yet supported on this platform.'),-1},clearWatch:function(t){console.warn('Settings is not yet supported on this platform.')}};e.default=t},487,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),l=(t(r(d[3])),t(r(d[4]))),o=(function(){return(0,s.default)(function t(){(0,n.default)(this,t)},null,[{key:"share",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(d[5])('object'==typeof t&&null!==t,'Content to share must be a valid object'),r(d[5])('string'==typeof t.url||'string'==typeof t.message,'At least one of URL or message is required'),r(d[5])('object'==typeof n&&null!==n,'Options must be a valid object'),r(d[5])(l.default,'ShareModule should be registered on Android.'),r(d[5])(null==t.title||'string'==typeof t.title,'Invalid title: title should be a string.');var s={title:t.title,message:'string'==typeof t.message?t.message:void 0};return l.default.share(s,n.dialogTitle).then(function(t){return Object.assign({activityType:null},t)})}}])})();o.sharedAction='sharedAction',o.dismissedAction='dismissedAction';e.default=o},488,[1,11,12,451,489,32]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},489,[490]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('ShareModule')},490,[31]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=t(r(d[1])),o=f.default.getConstants(),n={SHORT:o.SHORT,LONG:o.LONG,TOP:o.TOP,BOTTOM:o.BOTTOM,CENTER:o.CENTER,show:function(t,o){f.default.show(t,o)},showWithGravity:function(t,o,n){f.default.showWithGravity(t,o,n)},showWithGravityAndOffset:function(t,o,n,O,u){f.default.showWithGravityAndOffset(t,o,n,O,u)}};e.default=n},491,[1,492]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return t.default}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?o(f,c,u):f[c]=e[c]);return f})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))})},492,[493]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('ToastAndroid')},493,[31]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,l){var c=(0,t.useRef)(null);null==c.current&&(c.current=new n.default.Value(u,l));return c.current};var n=u(r(d[1])),t=r(d[2])},494,[1,294,75]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,n.useSyncExternalStore)(t,r(d[1]).getColorScheme)};var n=r(d[0]),t=function(n){var t=(0,r(d[1]).addChangeListener)(n);return function(){return t.remove()}}},495,[75,453]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var A=r(d[0]).default({BOM:"\ufeff",BULLET:"\u2022",BULLET_SP:"\xa0\u2022\xa0",MIDDOT:"\xb7",MIDDOT_SP:"\xa0\xb7\xa0",MIDDOT_KATAKANA:"\u30fb",MDASH:"\u2014",MDASH_SP:"\xa0\u2014\xa0",NDASH:"\u2013",NDASH_SP:"\xa0\u2013\xa0",NEWLINE:"\n",NBSP:"\xa0",PIZZA:"\ud83c\udf55",TRIANGLE_LEFT:"\u25c0",TRIANGLE_RIGHT:"\u25b6"});e.default=A},496,[261]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));var o={vibrate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if('number'==typeof t)n.default.vibrate(t);else{if(!Array.isArray(t))throw new Error('Vibration pattern should be a number or array');n.default.vibrateByPattern(t,o?0:-1)}},cancel:function(){n.default.cancel()}};e.default=o},497,[1,498]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},498,[499]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('Vibration')},499,[31]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,c)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?o(c,l,i):c[l]=e[l]);return c})(e,t)})(_r(d[3])),o=_r(d[4]),i=_r(d[5]);var c=(0,_r(d[6]).createNativeStackNavigator)();var l=o.StyleSheet.create({container:{flex:1,backgroundColor:_r(d[8]).colors.bg},loadingContainer:{flex:1,backgroundColor:_r(d[8]).colors.bg,justifyContent:'center',alignItems:'center'}});_e.default=function(){var e=(0,r.useState)(!0),s=(0,n.default)(e,2),u=s[0],f=s[1],v=(0,r.useState)(!1),y=(0,n.default)(v,2),S=y[0],h=y[1];return(0,r.useEffect)(function(){var e=(function(){var e=(0,t.default)(function*(){try{var e=yield _r(d[7]).matrixService.restoreSession();h(e)}catch(e){h(!1)}finally{f(!1)}});return function(){return e.apply(this,arguments)}})();e()},[]),u?(0,i.jsxs)(o.View,{style:l.loadingContainer,children:[(0,i.jsx)(o.StatusBar,{barStyle:"light-content",backgroundColor:_r(d[8]).colors.bg}),(0,i.jsx)(o.ActivityIndicator,{size:"large",color:_r(d[8]).colors.primary})]}):(0,i.jsxs)(_r(d[9]).SafeAreaProvider,{children:[(0,i.jsx)(o.StatusBar,{barStyle:"light-content",backgroundColor:_r(d[8]).colors.bg}),(0,i.jsxs)(o.View,{style:l.container,children:[(0,i.jsx)(_r(d[10]).NavigationContainer,{children:(0,i.jsxs)(c.Navigator,{initialRouteName:S?'ContactList':'Login',screenOptions:{headerShown:!1,contentStyle:{backgroundColor:_r(d[8]).colors.bg},animation:'slide_from_right'},children:[(0,i.jsx)(c.Screen,{name:"Login",children:function(e){var t=e.navigation;return(0,i.jsx)(_r(d[11]).LoginScreen,{onLoginSuccess:function(){h(!0),t.reset({index:0,routes:[{name:'ContactList'}]})}})}}),(0,i.jsx)(c.Screen,{name:"ContactList",children:function(e){var n=e.navigation;return(0,i.jsx)(_r(d[12]).ContactListScreen,{onSelectContact:function(e,t){n.navigate('Chat',{roomId:e,roomName:t})},onLogout:(0,t.default)(function*(){yield _r(d[7]).matrixService.logout(),h(!1),n.reset({index:0,routes:[{name:'Login'}]})})})}}),(0,i.jsx)(c.Screen,{name:"Chat",children:function(e){var t=e.navigation,n=e.route;return(0,i.jsx)(_r(d[13]).ChatScreen,{roomId:n.params.roomId,roomName:n.params.roomName,onBack:function(){return t.goBack()}})}})]})}),(0,i.jsx)(_r(d[14]).KeyDebugOverlay,{})]})]})}},500,[1,356,34,75,2,244,501,735,1008,622,503,1009,1012,1013,1031]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NativeStackView",{enumerable:!0,get:function(){return r(d[0]).NativeStackView}}),Object.defineProperty(e,"createNativeStackNavigator",{enumerable:!0,get:function(){return r(d[1]).createNativeStackNavigator}}),Object.defineProperty(e,"useAnimatedHeaderHeight",{enumerable:!0,get:function(){return r(d[2]).useAnimatedHeaderHeight}})},501,[502,734,730]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NativeStackView=function(e){var t=e.state,n=e.navigation,r=e.descriptors,u=e.describe,c=(0,_r(d[12]).useDismissedRouteError)(t).setNextDismissedKey;(0,_r(d[13]).useInvalidPreventRemoveError)(r);var v=(0,_r(d[14]).getModalRouteKeys)(t.routes,r),h=t.preloadedRoutes.reduce(function(e,t){return e[t.key]=e[t.key]||u(t,!0),e},{});return(0,o.jsx)(_r(d[7]).SafeAreaProviderCompat,{children:(0,o.jsx)(_r(d[9]).ScreenStack,{style:l.container,children:t.routes.concat(t.preloadedRoutes).map(function(e,l){var u,p,f,y=null!=(u=r[e.key])?u:h[e.key],k=t.index===l,S=t.index-1===l,b=null==(p=t.routes[l-1])?void 0:p.key,x=null==(f=t.routes[l+1])?void 0:f.key,C=b?r[b]:void 0,B=x?r[x]:void 0,D=v.includes(e.key),E=D&&'ios'===i.Platform.OS,H=void 0!==h[e.key]&&void 0===r[e.key],P='nativeFabricUIManager'in g?!(H||k||S||E):!H&&!k&&!E;return(0,o.jsx)(s,{index:l,focused:k,shouldFreeze:P,descriptor:y,previousDescriptor:C,nextDescriptor:B,isPresentationModal:D,isPreloaded:H,onWillDisappear:function(){n.emit({type:'transitionStart',data:{closing:!0},target:e.key})},onWillAppear:function(){n.emit({type:'transitionStart',data:{closing:!1},target:e.key})},onAppear:function(){n.emit({type:'transitionEnd',data:{closing:!1},target:e.key})},onDisappear:function(){n.emit({type:'transitionEnd',data:{closing:!0},target:e.key})},onDismissed:function(i){n.dispatch(Object.assign({},_r(d[5]).StackActions.pop(i.nativeEvent.dismissCount),{source:e.key,target:t.key})),c(e.key)},onHeaderBackButtonClicked:function(){n.dispatch(Object.assign({},_r(d[5]).StackActions.pop(),{source:e.key,target:t.key}))},onNativeDismissCancelled:function(i){n.dispatch(Object.assign({},_r(d[5]).StackActions.pop(i.nativeEvent.dismissCount),{source:e.key,target:t.key}))},onGestureCancel:function(){n.emit({type:'gestureCancel',target:e.key})},onSheetDetentChanged:function(t){n.emit({type:'sheetDetentChange',target:e.key,data:{index:t.nativeEvent.index,stable:t.nativeEvent.isStable}})}},e.key)})})})};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,r,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?i:n){if(o.has(e))return o.get(e);o.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?o(s,l,r):s[l]=e[l]);return s})(e,t)})(_r(d[2])),i=_r(d[3]),o=_r(d[4]);var r='web'!==i.Platform.OS,s=function(e){var s,u,c,v,h,p=e.index,f=e.focused,y=e.shouldFreeze,k=e.descriptor,S=e.previousDescriptor,b=e.nextDescriptor,x=e.isPresentationModal,C=e.isPreloaded,B=e.onWillDisappear,D=e.onWillAppear,E=e.onAppear,H=e.onDisappear,P=e.onDismissed,w=e.onHeaderBackButtonClicked,O=e.onNativeDismissCancelled,A=e.onGestureCancel,j=e.onSheetDetentChanged,I=k.route,T=k.navigation,M=k.options,R=k.render,_=M.animation,F=M.animationMatchesGesture,N=M.presentation,W=void 0===N?x?'modal':'card':N,z=M.fullScreenGestureEnabled,G=M.animationDuration,V=M.animationTypeForReplace,L=void 0===V?'push':V,K=M.fullScreenGestureShadowEnabled,U=void 0===K||K,q=M.gestureEnabled,J=M.gestureDirection,Q=void 0===J?'card'===W?'horizontal':'vertical':J,X=M.gestureResponseDistance,Y=M.header,Z=M.headerBackButtonMenuEnabled,$=M.headerShown,ee=M.headerBackground,te=M.headerTransparent,ne=M.autoHideHomeIndicator,ae=M.keyboardHandlingEnabled,ie=M.navigationBarColor,oe=M.navigationBarTranslucent,re=M.navigationBarHidden,se=M.orientation,de=M.sheetAllowedDetents,le=void 0===de?[1]:de,ue=M.sheetLargestUndimmedDetentIndex,ce=void 0===ue?-1:ue,ve=M.sheetGrabberVisible,he=void 0!==ve&&ve,pe=M.sheetCornerRadius,ge=void 0===pe?-1:pe,fe=M.sheetElevation,me=void 0===fe?24:fe,ye=M.sheetExpandsWhenScrolledToEdge,ke=void 0===ye||ye,Se=M.sheetInitialDetentIndex,be=void 0===Se?0:Se,xe=M.sheetShouldOverflowTopInset,Ce=void 0!==xe&&xe,Be=M.statusBarAnimation,De=M.statusBarHidden,Ee=M.statusBarStyle,He=M.statusBarTranslucent,Pe=M.statusBarBackgroundColor,we=M.unstable_sheetFooter,Oe=M.scrollEdgeEffects,Ae=M.freezeOnBlur,je=M.contentStyle;'vertical'===Q&&'ios'===i.Platform.OS&&(void 0===z&&(z=!0),void 0===F&&(F=!0),void 0===_&&(_='slide_from_bottom'));var Ie=null==b?void 0:b.options.gestureDirection,Te=null!=Ie?Ie:Q;0===p&&(W='card');var Me=(0,_r(d[5]).useTheme)().colors,Re=(0,_r(d[6]).useSafeAreaInsets)(),Fe='modal'===W||'formSheet'===W||'pageSheet'===W,Ne='ios'===i.Platform.OS&&!(i.Platform.isPad||i.Platform.isTV),We=n.useContext(_r(d[7]).HeaderShownContext),ze=n.useContext(_r(d[7]).HeaderHeightContext),Ge=n.useContext(_r(d[7]).HeaderBackContext),Ve=(0,_r(d[7]).useFrameSize)(function(e){return e.width>e.height}),Le=We||'ios'===i.Platform.OS&&Fe||Ne&&Ve?0:Re.top,Ke=(0,_r(d[7]).useFrameSize)(function(e){return i.Platform.select({android:56+Le,default:(0,_r(d[7]).getDefaultHeaderHeight)(e,Fe,Le)})}),Ue=(0,_r(d[5]).usePreventRemoveContext)().preventedRoutes,qe=n.useState(Ke),Je=(0,t.default)(qe,2),Qe=Je[0],Xe=Je[1],Ye=n.useCallback((0,_r(d[8]).debounce)(Xe,100),[]),Ze=null!=Y,$e='usesNewAndroidHeaderHeightImplementation'in _r(d[9]).compatibilityFlags&&!0===_r(d[9]).compatibilityFlags.usesNewAndroidHeaderHeightImplementation,et=0;if('android'===i.Platform.OS&&!Ze&&!$e){var tt,nt=null!=(tt=i.StatusBar.currentHeight)?tt:0;et=-nt+Le}var at=(0,i.useAnimatedValue)(Ke),it=n.useMemo(function(){return i.Animated.add(at,et)},[et,at]),ot='boolean'==typeof He?He:0!==Le,rt=null!=S||null!=Ge,st=S?(0,_r(d[7]).getHeaderTitle)(S.options,S.route.name):null==Ge?void 0:Ge.title,dt=n.useMemo(function(){if(rt)return{href:void 0,title:st}},[rt,st]),lt=null==(s=Ue[I.key])?void 0:s.preventRemove,ut=(0,_r(d[10]).useHeaderConfigProps)(Object.assign({},M,{route:I,headerBackButtonMenuEnabled:void 0!==lt?!lt:Z,headerBackTitle:void 0!==M.headerBackTitle?M.headerBackTitle:void 0,headerHeight:Qe,headerShown:void 0===Y&&$,headerTopInsetEnabled:ot,headerTransparent:te,headerBack:dt})),ct=Ze?void 0:i.Animated.event([{nativeEvent:{headerHeight:at}}],{useNativeDriver:r,listener:function(e){if(e.nativeEvent&&'object'==typeof e.nativeEvent&&'headerHeight'in e.nativeEvent&&'number'==typeof e.nativeEvent.headerHeight){var t=e.nativeEvent.headerHeight;'ios'===i.Platform.OS&&(M.headerLargeTitleEnabled||M.headerSearchBarOptions)?Ye(t):'android'===i.Platform.OS&&0!==t&&t<=56?Xe(t+Re.top):Xe(t)}}});return(0,o.jsx)(_r(d[5]).NavigationContext.Provider,{value:T,children:(0,o.jsx)(_r(d[5]).NavigationRouteContext.Provider,{value:I,children:(0,o.jsx)(_r(d[9]).ScreenStackItem,{screenId:I.key,activityState:C?0:2,style:i.StyleSheet.absoluteFill,"aria-hidden":!f,customAnimationOnSwipe:F,fullScreenSwipeEnabled:z,fullScreenSwipeShadowEnabled:U,freezeOnBlur:Ae,gestureEnabled:'android'!==i.Platform.OS&&q,homeIndicatorHidden:ne,hideKeyboardOnSwipe:ae,navigationBarColor:ie,navigationBarTranslucent:oe,navigationBarHidden:re,replaceAnimation:L,stackPresentation:'card'===W?'push':W,stackAnimation:_,screenOrientation:se,sheetAllowedDetents:le,sheetLargestUndimmedDetentIndex:ce,sheetGrabberVisible:he,sheetInitialDetentIndex:be,sheetCornerRadius:ge,sheetElevation:me,sheetExpandsWhenScrolledToEdge:ke,sheetShouldOverflowTopInset:Ce,statusBarAnimation:Be,statusBarHidden:De,statusBarStyle:Ee,statusBarColor:Pe,statusBarTranslucent:He,swipeDirection:Te,transitionDuration:G,onWillAppear:D,onWillDisappear:B,onAppear:E,onDisappear:H,onDismissed:P,onGestureCancel:A,onSheetDetentChanged:j,gestureResponseDistance:X,nativeBackButtonDismissalEnabled:!1,onHeaderBackButtonClicked:w,preventNativeDismiss:lt,scrollEdgeEffects:{bottom:null!=(u=null==Oe?void 0:Oe.bottom)?u:'automatic',top:null!=(c=null==Oe?void 0:Oe.top)?c:'automatic',left:null!=(v=null==Oe?void 0:Oe.left)?v:'automatic',right:null!=(h=null==Oe?void 0:Oe.right)?h:'automatic'},onNativeDismissCancelled:O,onHeaderHeightChange:ct,contentStyle:['transparentModal'!==W&&'containedTransparentModal'!==W&&{backgroundColor:Me.background},je],headerConfig:ut,unstable_sheetFooter:we,shouldFreeze:y,children:(0,o.jsx)(_r(d[11]).AnimatedHeaderHeightContext.Provider,{value:it,children:(0,o.jsxs)(_r(d[7]).HeaderHeightContext.Provider,{value:!1!==$?Qe:null!=ze?ze:0,children:[null!=ee?(0,o.jsx)(i.View,{style:[l.background,te?l.translucent:null,{height:Qe}],children:ee()}):null,null!=Y&&!1!==$?(0,o.jsx)(i.View,{onLayout:function(e){var t=e.nativeEvent.layout.height;Xe(t),at.setValue(t)},style:[l.header,te?l.absolute:null],children:Y({back:dt,options:M,route:I,navigation:T})}):null,(0,o.jsx)(_r(d[7]).HeaderShownContext.Provider,{value:We||!1!==$,children:(0,o.jsx)(_r(d[7]).HeaderBackContext.Provider,{value:dt,children:R()})})]})})},I.key)})})};var l=i.StyleSheet.create({container:{flex:1},header:{zIndex:1},absolute:{position:'absolute',top:0,start:0,end:0},translucent:{position:'absolute',top:0,start:0,end:0,zIndex:1,elevation:1},background:{overflow:'hidden'}})},502,[1,34,75,2,244,503,622,631,677,678,728,730,731,732,733]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={createStaticNavigation:!0,Link:!0,LinkingContext:!0,LocaleDirContext:!0,NavigationContainer:!0,ServerContainer:!0,DarkTheme:!0,DefaultTheme:!0,UNSTABLE_UnhandledLinkingContext:!0,useLinkBuilder:!0,useLinkProps:!0,useLinkTo:!0,useLocale:!0,useRoutePath:!0,useScrollToTop:!0};Object.defineProperty(e,"DarkTheme",{enumerable:!0,get:function(){return r(d[0]).DarkTheme}}),Object.defineProperty(e,"DefaultTheme",{enumerable:!0,get:function(){return r(d[1]).DefaultTheme}}),Object.defineProperty(e,"Link",{enumerable:!0,get:function(){return r(d[2]).Link}}),Object.defineProperty(e,"LinkingContext",{enumerable:!0,get:function(){return r(d[3]).LinkingContext}}),Object.defineProperty(e,"LocaleDirContext",{enumerable:!0,get:function(){return r(d[4]).LocaleDirContext}}),Object.defineProperty(e,"NavigationContainer",{enumerable:!0,get:function(){return r(d[5]).NavigationContainer}}),Object.defineProperty(e,"ServerContainer",{enumerable:!0,get:function(){return r(d[6]).ServerContainer}}),Object.defineProperty(e,"UNSTABLE_UnhandledLinkingContext",{enumerable:!0,get:function(){return r(d[7]).UnhandledLinkingContext}}),Object.defineProperty(e,"createStaticNavigation",{enumerable:!0,get:function(){return r(d[8]).createStaticNavigation}}),Object.defineProperty(e,"useLinkBuilder",{enumerable:!0,get:function(){return r(d[9]).useLinkBuilder}}),Object.defineProperty(e,"useLinkProps",{enumerable:!0,get:function(){return r(d[10]).useLinkProps}}),Object.defineProperty(e,"useLinkTo",{enumerable:!0,get:function(){return r(d[11]).useLinkTo}}),Object.defineProperty(e,"useLocale",{enumerable:!0,get:function(){return r(d[12]).useLocale}}),Object.defineProperty(e,"useRoutePath",{enumerable:!0,get:function(){return r(d[13]).useRoutePath}}),Object.defineProperty(e,"useScrollToTop",{enumerable:!0,get:function(){return r(d[14]).useScrollToTop}}),Object.keys(r(d[15])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[15])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[15])[t]}}))}),Object.keys(r(d[16])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[16])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[16])[t]}}))})},503,[504,506,507,603,604,605,613,612,615,616,602,617,618,619,620,621,508]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DarkTheme=void 0;e.DarkTheme={dark:!0,colors:{primary:'rgb(10, 132, 255)',background:'rgb(1, 1, 1)',card:'rgb(18, 18, 18)',text:'rgb(229, 229, 231)',border:'rgb(39, 39, 41)',notification:'rgb(255, 69, 58)'},fonts:r(d[0]).fonts}},504,[505]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fonts=void 0;var t=r(d[0]),o='system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"';e.fonts=t.Platform.select({web:{regular:{fontFamily:o,fontWeight:'400'},medium:{fontFamily:o,fontWeight:'500'},bold:{fontFamily:o,fontWeight:'600'},heavy:{fontFamily:o,fontWeight:'700'}},ios:{regular:{fontFamily:'System',fontWeight:'400'},medium:{fontFamily:'System',fontWeight:'500'},bold:{fontFamily:'System',fontWeight:'600'},heavy:{fontFamily:'System',fontWeight:'700'}},default:{regular:{fontFamily:'sans-serif',fontWeight:'normal'},medium:{fontFamily:'sans-serif-medium',fontWeight:'normal'},bold:{fontFamily:'sans-serif',fontWeight:'600'},heavy:{fontFamily:'sans-serif',fontWeight:'700'}}})},505,[2]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultTheme=void 0;e.DefaultTheme={dark:!1,colors:{primary:'rgb(0, 122, 255)',background:'rgb(242, 242, 242)',card:'rgb(255, 255, 255)',text:'rgb(28, 28, 30)',border:'rgb(216, 216, 216)',notification:'rgb(255, 59, 48)'},fonts:r(d[0]).fonts}},506,[505]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Link=function(e){var s=e.screen,f=e.params,u=e.action,c=e.href,i=e.style,l=(0,r.default)(e,o),p=(0,_r(d[4]).useTheme)(),P=p.colors,y=p.fonts,_=(0,_r(d[5]).useLinkProps)({screen:s,params:f,action:u,href:c}),v=function(e){'onPress'in l&&(null==l.onPress||l.onPress(e)),e.defaultPrevented||_.onPress(e)};return t.createElement(n.Text,Object.assign({},_,l,n.Platform.select({web:{onClick:v},default:{onPress:v}}),{style:[{color:P.primary},y.regular,i]}))};var r=e(_r(d[1])),t=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,s,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(s.get||s.set)?o(f,u,s):f[u]=e[u]);return f})(e,r)})(_r(d[2])),n=_r(d[3]),o=["screen","params","action","href","style"]},507,[1,4,75,2,508,602]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={BaseNavigationContainer:!0,createNavigationContainerRef:!0,createNavigatorFactory:!0,CurrentRenderContext:!0,findFocusedRoute:!0,getActionFromState:!0,getFocusedRouteNameFromRoute:!0,getPathFromState:!0,getStateFromPath:!0,NavigationContainerRefContext:!0,NavigationContext:!0,NavigationHelpersContext:!0,NavigationIndependentTree:!0,NavigationRouteContext:!0,PreventRemoveContext:!0,PreventRemoveProvider:!0,createComponentForStaticNavigation:!0,createPathConfigForStaticNavigation:!0,ThemeContext:!0,ThemeProvider:!0,useTheme:!0,useFocusEffect:!0,useIsFocused:!0,useNavigation:!0,useNavigationBuilder:!0,useNavigationContainerRef:!0,useNavigationIndependentTree:!0,useNavigationState:!0,usePreventRemove:!0,usePreventRemoveContext:!0,useRoute:!0,useStateForPath:!0,validatePathConfig:!0};Object.defineProperty(e,"BaseNavigationContainer",{enumerable:!0,get:function(){return r(d[0]).BaseNavigationContainer}}),Object.defineProperty(e,"CurrentRenderContext",{enumerable:!0,get:function(){return r(d[1]).CurrentRenderContext}}),Object.defineProperty(e,"NavigationContainerRefContext",{enumerable:!0,get:function(){return r(d[2]).NavigationContainerRefContext}}),Object.defineProperty(e,"NavigationContext",{enumerable:!0,get:function(){return r(d[3]).NavigationContext}}),Object.defineProperty(e,"NavigationHelpersContext",{enumerable:!0,get:function(){return r(d[4]).NavigationHelpersContext}}),Object.defineProperty(e,"NavigationIndependentTree",{enumerable:!0,get:function(){return r(d[5]).NavigationIndependentTree}}),Object.defineProperty(e,"NavigationRouteContext",{enumerable:!0,get:function(){return r(d[6]).NavigationRouteContext}}),Object.defineProperty(e,"PreventRemoveContext",{enumerable:!0,get:function(){return r(d[7]).PreventRemoveContext}}),Object.defineProperty(e,"PreventRemoveProvider",{enumerable:!0,get:function(){return r(d[8]).PreventRemoveProvider}}),Object.defineProperty(e,"ThemeContext",{enumerable:!0,get:function(){return r(d[9]).ThemeContext}}),Object.defineProperty(e,"ThemeProvider",{enumerable:!0,get:function(){return r(d[10]).ThemeProvider}}),Object.defineProperty(e,"createComponentForStaticNavigation",{enumerable:!0,get:function(){return r(d[11]).createComponentForStaticNavigation}}),Object.defineProperty(e,"createNavigationContainerRef",{enumerable:!0,get:function(){return r(d[12]).createNavigationContainerRef}}),Object.defineProperty(e,"createNavigatorFactory",{enumerable:!0,get:function(){return r(d[13]).createNavigatorFactory}}),Object.defineProperty(e,"createPathConfigForStaticNavigation",{enumerable:!0,get:function(){return r(d[11]).createPathConfigForStaticNavigation}}),Object.defineProperty(e,"findFocusedRoute",{enumerable:!0,get:function(){return r(d[14]).findFocusedRoute}}),Object.defineProperty(e,"getActionFromState",{enumerable:!0,get:function(){return r(d[15]).getActionFromState}}),Object.defineProperty(e,"getFocusedRouteNameFromRoute",{enumerable:!0,get:function(){return r(d[16]).getFocusedRouteNameFromRoute}}),Object.defineProperty(e,"getPathFromState",{enumerable:!0,get:function(){return r(d[17]).getPathFromState}}),Object.defineProperty(e,"getStateFromPath",{enumerable:!0,get:function(){return r(d[18]).getStateFromPath}}),Object.defineProperty(e,"useFocusEffect",{enumerable:!0,get:function(){return r(d[19]).useFocusEffect}}),Object.defineProperty(e,"useIsFocused",{enumerable:!0,get:function(){return r(d[20]).useIsFocused}}),Object.defineProperty(e,"useNavigation",{enumerable:!0,get:function(){return r(d[21]).useNavigation}}),Object.defineProperty(e,"useNavigationBuilder",{enumerable:!0,get:function(){return r(d[22]).useNavigationBuilder}}),Object.defineProperty(e,"useNavigationContainerRef",{enumerable:!0,get:function(){return r(d[23]).useNavigationContainerRef}}),Object.defineProperty(e,"useNavigationIndependentTree",{enumerable:!0,get:function(){return r(d[24]).useNavigationIndependentTree}}),Object.defineProperty(e,"useNavigationState",{enumerable:!0,get:function(){return r(d[25]).useNavigationState}}),Object.defineProperty(e,"usePreventRemove",{enumerable:!0,get:function(){return r(d[26]).usePreventRemove}}),Object.defineProperty(e,"usePreventRemoveContext",{enumerable:!0,get:function(){return r(d[27]).usePreventRemoveContext}}),Object.defineProperty(e,"useRoute",{enumerable:!0,get:function(){return r(d[28]).useRoute}}),Object.defineProperty(e,"useStateForPath",{enumerable:!0,get:function(){return r(d[29]).useStateForPath}}),Object.defineProperty(e,"useTheme",{enumerable:!0,get:function(){return r(d[30]).useTheme}}),Object.defineProperty(e,"validatePathConfig",{enumerable:!0,get:function(){return r(d[31]).validatePathConfig}}),Object.keys(r(d[32])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r(d[32])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[32])[n]}}))}),Object.keys(r(d[33])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r(d[33])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[33])[n]}}))})},508,[509,540,534,541,542,543,544,545,546,539,538,547,519,551,530,554,555,558,566,570,572,571,573,597,513,594,598,599,548,600,601,564,575,520]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseNavigationContainer=void 0;var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?o(u,s,i):u[s]=e[s]);return u})(e,t)})(_r(d[2])),r=e(_r(d[3])),o=_r(d[4]),i=["key","routeNames"];var u=function(e){if(void 0!==e){e.key,e.routeNames;var n=(0,t.default)(e,i);return Object.assign({},n,{stale:!0,routes:e.routes.map(function(e){return void 0===e.state?e:Object.assign({},e,{state:u(e.state)})})})}};_e.BaseNavigationContainer=n.forwardRef(function(e,t){var i=e.initialState,s=e.onStateChange,c=e.onReady,l=e.onUnhandledAction,f=e.navigationInChildEnabled,v=void 0!==f&&f,p=e.theme,h=e.children,y=n.useContext(_r(d[5]).NavigationStateContext),C=(0,_r(d[6]).useNavigationIndependentTree)();if(!y.isDefault&&!C)throw new Error("Looks like you have nested a 'NavigationContainer' inside another. Normally you need only one container at the root of the app, so this was probably an error. If this was intentional, wrap the container in 'NavigationIndependentTree' explicitly. Note that this will make the child navigators disconnected from the parent and you won't be able to navigate between them.");var R=(0,_r(d[7]).useSyncState)(function(){return u(null==i?void 0:i)}),O=R.state,N=R.getState,k=R.setState,_=R.scheduleUpdate,b=R.flushUpdates,j=n.useRef(!0),x=n.useRef(void 0),I=n.useCallback(function(){return x.current},[]),S=n.useCallback(function(e){x.current=e},[]),w=(0,_r(d[8]).useChildListeners)(),E=w.listeners,P=w.addListener,L=(0,_r(d[9]).useKeyedChildListeners)(),A=L.keyedListeners,M=L.addKeyedListener,T=(0,r.default)(function(e){null==E.focus[0]?console.error(_r(d[10]).NOT_INITIALIZED_ERROR):E.focus[0](function(t){return t.dispatch(e)})}),D=(0,r.default)(function(){if(null==E.focus[0])return!1;var e=E.focus[0](function(e){return e.canGoBack()}),t=e.result;return!!e.handled&&t}),U=(0,r.default)(function(e){var t,n=null!=(t=null==e?void 0:e.key)?t:null==A.getState.root?void 0:A.getState.root().key;null==n?console.error(_r(d[10]).NOT_INITIALIZED_ERROR):E.focus[0](function(t){return t.dispatch(Object.assign({},_r(d[11]).CommonActions.reset(e),{target:n}))})}),B=(0,r.default)(function(){return null==A.getState.root?void 0:A.getState.root()}),G=(0,r.default)(function(){var e=B();if(null!=e)return(0,_r(d[12]).findFocusedRoute)(e)}),K=(0,r.default)(function(){return null!=E.focus[0]}),W=(0,_r(d[13]).useEventEmitter)(),F=(0,_r(d[14]).useOptionsGetters)({}),Z=F.addOptionsGetter,H=F.getCurrentOptions,q=n.useMemo(function(){return Object.assign({},Object.keys(_r(d[11]).CommonActions).reduce(function(e,t){return e[t]=function(){return T(_r(d[11]).CommonActions[t].apply(_r(d[11]).CommonActions,arguments))},e},{}),W.create('root'),{dispatch:T,resetRoot:U,isFocused:function(){return!0},canGoBack:D,getParent:function(){},getState:N,getRootState:B,getCurrentRoute:G,getCurrentOptions:H,isReady:K,setOptions:function(){throw new Error('Cannot call setOptions outside a screen')}})},[D,T,W,H,G,B,N,K,U]);n.useImperativeHandle(t,function(){return q},[q]);var z=(0,r.default)(function(e,t){W.emit({type:'__unsafe_action__',data:{action:e,noop:t,stack:V.current}})}),J=n.useRef(void 0),Q=(0,r.default)(function(e){J.current!==e&&(J.current=e,W.emit({type:'options',data:{options:e}}))}),V=n.useRef(void 0),X=n.useMemo(function(){return{addListener:P,addKeyedListener:M,onDispatchAction:z,onOptionsChange:Q,scheduleUpdate:_,flushUpdates:b,stackRef:V}},[P,M,z,Q,_,b]),Y=n.useRef(!0),$=n.useCallback(function(){return Y.current},[]),ee=n.useMemo(function(){return{state:O,getState:N,setState:k,getKey:I,setKey:S,getIsInitial:$,addOptionsGetter:Z}},[O,N,k,I,S,$,Z]),te=n.useRef(c),ne=n.useRef(s);n.useEffect(function(){Y.current=!1,ne.current=s,te.current=c});var re=n.useRef(!1);n.useEffect(function(){!re.current&&K()&&(re.current=!0,null==te.current||te.current(),W.emit({type:'ready'}))},[O,K,W]),n.useEffect(function(){var e=B();W.emit({type:'state',data:{state:O}}),!j.current&&ne.current&&ne.current(e),j.current=!1},[B,W,O]);var oe=(0,r.default)(function(e){});return(0,o.jsx)(_r(d[15]).NavigationIndependentTreeContext.Provider,{value:!1,children:(0,o.jsx)(_r(d[16]).NavigationContainerRefContext.Provider,{value:q,children:(0,o.jsx)(_r(d[17]).NavigationBuilderContext.Provider,{value:X,children:(0,o.jsx)(_r(d[5]).NavigationStateContext.Provider,{value:ee,children:(0,o.jsx)(_r(d[18]).UnhandledActionContext.Provider,{value:null!=l?l:oe,children:(0,o.jsx)(_r(d[19]).DeprecatedNavigationInChildContext.Provider,{value:v,children:(0,o.jsx)(_r(d[20]).EnsureSingleNavigator,{children:(0,o.jsx)(_r(d[21]).ThemeProvider,{value:p,children:h})})})})})})})})})},509,[1,4,75,510,244,512,513,515,517,518,519,520,530,531,532,514,534,533,535,536,537,538]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},510,[1,511]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n='undefined'!=typeof document||'undefined'!=typeof navigator&&'ReactNative'===navigator.product?t.useLayoutEffect:t.useEffect;m.exports=function(u){var f=t.useRef(u),c=t.useRef(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return f.current.apply(this,t)}).current;return n(function(){f.current=u}),c}},511,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationStateContext=void 0;var t=(function(t,e){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var o,i,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(o=e?n:r){if(o.has(t))return o.get(t);o.set(t,u)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(i.get||i.set)?o(u,f,i):u[f]=t[f]);return u})(t,e)})(_r(d[0]));var e="Couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'? See https://reactnavigation.org/docs/getting-started for setup instructions.";_e.NavigationStateContext=t.createContext({isDefault:!0,get getKey(){throw new Error(e)},get setKey(){throw new Error(e)},get getState(){throw new Error(e)},get setState(){throw new Error(e)},get getIsInitial(){throw new Error(e)}})},512,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationIndependentTree=function(){return e.useContext(_r(d[1]).NavigationIndependentTreeContext)};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},513,[75,514]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationIndependentTreeContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.NavigationIndependentTreeContext=e.createContext(!1)},514,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useSyncState=function(e){var u=t.useRef(n(e)).current,f=t.useSyncExternalStore(u.subscribe,u.getState,u.getState);t.useDebugValue(f);var c=t.useRef([]),o=(0,r.default)(function(e){c.current.push(e)}),i=(0,r.default)(function(){var e=c.current;c.current=[],0!==e.length&&u.batchUpdates(function(){for(var t of e)t()})});return{state:f,getState:u.getState,setState:u.setState,scheduleUpdate:o,flushUpdates:i}};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,c)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(f.get||f.set)?u(c,o,f):c[o]=e[o]);return c})(e,t)})(_r(d[1])),r=e(_r(d[2]));var n=function(e){var t,r=[],n=!1,u=!1,f=!1;return{getState:function(){return n?t:(n=!0,t=(0,_r(d[3]).deepFreeze)(e()))},setState:function(e){t=(0,_r(d[3]).deepFreeze)(e),f=!0,u||r.forEach(function(e){return e()})},batchUpdates:function(e){u=!0,e(),u=!1,f&&(f=!1,r.forEach(function(e){return e()}))},subscribe:function(e){return r.push(e),function(){var t=r.indexOf(e);t>-1&&r.splice(t,1)}}}}},515,[1,75,510,516]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPlainObject=e.deepFreeze=void 0;e.isPlainObject=function(t){return'object'==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype},e.deepFreeze=function(t){return t}},516,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useChildListeners=function(){var t=e.useRef({action:[],focus:[]}).current,r=e.useCallback(function(e,r){t[e].push(r);var n=!1;return function(){var u=t[e].indexOf(r);!n&&u>-1&&(n=!0,t[e].splice(u,1))}},[t]);return{listeners:t,addListener:r}};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(i.get||i.set)?u(f,o,i):f[o]=e[o]);return f})(e,t)})(_r(d[0]))},517,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useKeyedChildListeners=function(){var t=e.useRef(Object.assign(Object.create(null),{getState:{},beforeRemove:{}})).current,r=e.useCallback(function(e,r,n){return t[e][r]=n,function(){t[e][r]=void 0}},[t]);return{keyedListeners:t,addKeyedListener:r}};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},518,[75]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.NOT_INITIALIZED_ERROR=void 0,e.createNavigationContainerRef=function(){var t=[].concat((0,o.default)(Object.keys(r(d[3]).CommonActions)),['addListener','removeListener','resetRoot','dispatch','isFocused','canGoBack','getRootState','getState','getParent','getCurrentRoute','getCurrentOptions']),c={},s=function(t,n){c[t]&&(c[t]=c[t].filter(function(t){return t!==n}))},f=null,l=Object.assign({get current(){return f},set current(t){f=t,null!=t&&Object.entries(c).forEach(function(o){var u=(0,n.default)(o,2),c=u[0];u[1].forEach(function(n){t.addListener(c,n)})})},isReady:function(){return null!=f&&f.isReady()}},t.reduce(function(t,n){return t[n]=function(){for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];var v;if(null!=f)return(v=f)[n].apply(v,o);switch(n){case'addListener':var h=o[0],R=o[1];return c[h]=c[h]||[],c[h].push(R),function(){return s(h,R)};case'removeListener':var p=o[0],O=o[1];s(p,O);break;default:console.error(u)}},t},{}));return l};var n=t(r(d[1])),o=t(r(d[2])),u=e.NOT_INITIALIZED_ERROR="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details."},519,[1,34,42,520]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0});var e={CommonActions:!0,BaseRouter:!0,DrawerActions:!0,DrawerRouter:!0,StackActions:!0,StackRouter:!0,TabActions:!0,TabRouter:!0};Object.defineProperty(_e,"BaseRouter",{enumerable:!0,get:function(){return _r(d[0]).BaseRouter}}),_e.CommonActions=void 0,Object.defineProperty(_e,"DrawerActions",{enumerable:!0,get:function(){return _r(d[1]).DrawerActions}}),Object.defineProperty(_e,"DrawerRouter",{enumerable:!0,get:function(){return _r(d[1]).DrawerRouter}}),Object.defineProperty(_e,"StackActions",{enumerable:!0,get:function(){return _r(d[2]).StackActions}}),Object.defineProperty(_e,"StackRouter",{enumerable:!0,get:function(){return _r(d[2]).StackRouter}}),Object.defineProperty(_e,"TabActions",{enumerable:!0,get:function(){return _r(d[3]).TabActions}}),Object.defineProperty(_e,"TabRouter",{enumerable:!0,get:function(){return _r(d[3]).TabRouter}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,c)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(c,i,u):c[i]=e[i]);return c})(e,t)})(_r(d[4]));_e.CommonActions=t,Object.keys(_r(d[5])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[5])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[5])[t]}}))})},520,[521,523,526,524,528,529]);
__d(function(g,_r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseRouter=void 0;e.BaseRouter={getStateForAction:function(t,n){switch(n.type){case'SET_PARAMS':case'REPLACE_PARAMS':var u=n.source?t.routes.findIndex(function(t){return t.key===n.source}):t.index;return-1===u?null:Object.assign({},t,{routes:t.routes.map(function(t,r){return r===u?Object.assign({},t,{params:'REPLACE_PARAMS'===n.type?n.payload.params:Object.assign({},t.params,n.payload.params)}):t})});case'RESET':var r=n.payload;return 0===r.routes.length||r.routes.some(function(n){return!t.routeNames.includes(n.name)})?null:!1===r.stale?t.routeNames.length!==r.routeNames.length||r.routeNames.some(function(n){return!t.routeNames.includes(n)})?null:Object.assign({},r,{routes:r.routes.map(function(t){return t.key?t:Object.assign({},t,{key:`${t.name}-${(0,_r(d[0]).nanoid)()}`})})}):r;default:return null}},shouldActionChangeFocus:function(t){return'NAVIGATE'===t.type||'NAVIGATE_DEPRECATED'===t.type}}},521,[522]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.nanoid=e.customAlphabet=void 0;e.customAlphabet=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){for(var o='',i=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t);i--;)o+=n[Math.random()*n.length|0];return o}},e.nanoid=function(){for(var n='',t=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:21);t--;)n+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return n}},522,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.DrawerActions=void 0,e.DrawerRouter=function(t){var c=t.defaultStatus,f=void 0===c?'closed':c,l=(0,o.default)(t,u),y=(0,r(d[3]).TabRouter)(l),A=function(t){var n;return Boolean(null==(n=t.history)?void 0:n.some(function(t){return'drawer'===t.type}))},R=function(t){return A(t)?t:Object.assign({},t,{history:[].concat((0,n.default)(t.history),[{type:'drawer',status:'open'===f?'closed':'open'}])})},E=function(t){return A(t)?Object.assign({},t,{history:t.history.filter(function(t){return'drawer'!==t.type})}):t},p=function(t){return'open'===f?E(t):R(t)},w=function(t){return'open'===f?R(t):E(t)};return Object.assign({},y,{type:'drawer',getInitialState:function(t){var n=t.routeNames,o=t.routeParamList,u=t.routeGetIdList,s=y.getInitialState({routeNames:n,routeParamList:o,routeGetIdList:u});return Object.assign({},s,{default:f,stale:!1,type:'drawer',key:`drawer-${(0,r(d[4]).nanoid)()}`})},getRehydratedState:function(t,n){var o=n.routeNames,u=n.routeParamList,s=n.routeGetIdList;if(!1===t.stale)return t;var c=y.getRehydratedState(t,{routeNames:o,routeParamList:u,routeGetIdList:s});return A(t)&&(c=E(c),c=R(c)),Object.assign({},c,{default:f,type:'drawer',key:`drawer-${(0,r(d[4]).nanoid)()}`})},getStateForRouteFocus:function(t,n){var o=y.getStateForRouteFocus(t,n);return w(o)},getStateForAction:function(t,n,o){switch(n.type){case'OPEN_DRAWER':return p(t);case'CLOSE_DRAWER':return w(t);case'TOGGLE_DRAWER':return A(t)?E(t):R(t);case'JUMP_TO':case'NAVIGATE':case'NAVIGATE_DEPRECATED':var u=y.getStateForAction(t,n,o);return null!=u&&u.index!==t.index?w(u):u;case'GO_BACK':return A(t)?E(t):y.getStateForAction(t,n,o);default:return y.getStateForAction(t,n,o)}},actionCreators:s})};var n=t(r(d[1])),o=t(r(d[2])),u=["defaultStatus"],s=e.DrawerActions=Object.assign({},r(d[3]).TabActions,{openDrawer:function(){return{type:'OPEN_DRAWER'}},closeDrawer:function(){return{type:'CLOSE_DRAWER'}},toggleDrawer:function(){return{type:'TOGGLE_DRAWER'}}})},523,[1,42,4,524,522]);
__d(function(g,_r,_i,a,m,e,d){"use strict";var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.TabActions=void 0,e.TabRouter=function(t){var n=t.initialRouteName,s=t.backBehavior,y=void 0===s?'firstRoute':s;return Object.assign({},_r(d[2]).BaseRouter,{type:'tab',getInitialState:function(t){var r=t.routeNames,o=t.routeParamList,u=void 0!==n&&r.includes(n)?r.indexOf(n):0,s=r.map(function(t){return{name:t,key:`${t}-${(0,_r(d[3]).nanoid)()}`,params:o[t]}}),l=i(s,u,y,n);return{stale:!1,type:'tab',key:`tab-${(0,_r(d[3]).nanoid)()}`,index:u,routeNames:r,history:l,routes:s,preloadedRouteKeys:[]}},getRehydratedState:function(t,r){var o,i,s,l,c,f,p=r.routeNames,v=r.routeParamList,k=t;if(!1===k.stale)return k;var h=p.map(function(t){var r=k.routes.find(function(r){return r.name===t});return Object.assign({},r,{name:t,key:r&&r.name===t&&r.key?r.key:`${t}-${(0,_r(d[3]).nanoid)()}`,params:void 0!==v[t]?Object.assign({},v[t],r?r.params:void 0):r?r.params:void 0})}),b=Math.min(Math.max(p.indexOf(null==(o=k.routes[null!=(i=null==k?void 0:k.index)?i:0])?void 0:o.name),0),h.length-1),A=h.map(function(t){return t.key}),R=null!=(s=null==(l=k.history)?void 0:l.filter(function(t){return A.includes(t.key)}))?s:[];return u({stale:!1,type:'tab',key:`tab-${(0,_r(d[3]).nanoid)()}`,index:b,routeNames:p,history:R,routes:h,preloadedRouteKeys:null!=(c=null==(f=k.preloadedRouteKeys)?void 0:f.filter(function(t){return A.includes(t)}))?c:[]},b,y,n)},getStateForRouteNamesChange:function(t,r){var o=r.routeNames,u=r.routeParamList,s=r.routeKeyChanges,l=o.map(function(r){return t.routes.find(function(t){return t.name===r&&!s.includes(t.name)})||{name:r,key:`${r}-${(0,_r(d[3]).nanoid)()}`,params:u[r]}}),c=Math.max(0,o.indexOf(t.routes[t.index].name)),f=t.history.filter(function(t){return'route'!==t.type||l.find(function(r){return r.key===t.key})});return f.length||(f=i(l,c,y,n)),Object.assign({},t,{history:f,routeNames:o,routes:l,index:c})},getStateForRouteFocus:function(t,r){var o=t.routes.findIndex(function(t){return t.key===r});return-1===o||o===t.index?t:u(t,o,y,n)},getStateForAction:function(t,o,i){var s=i.routeParamList,l=i.routeGetIdList;switch(o.type){case'JUMP_TO':case'NAVIGATE':case'NAVIGATE_DEPRECATED':var c=t.routes.findIndex(function(t){return t.name===o.payload.name});if(-1===c)return null;var f=u(Object.assign({},t,{routes:t.routes.map(function(t){if(t.name!==o.payload.name)return t;var r,n=l[t.name],i=null==n?void 0:n({params:t.params}),u=null==n?void 0:n({params:o.payload.params}),y=i===u?t.key:`${t.name}-${(0,_r(d[3]).nanoid)()}`;r='NAVIGATE'!==o.type&&'NAVIGATE_DEPRECATED'!==o.type||!o.payload.merge||i!==u?(0,_r(d[4]).createParamsFromAction)({action:o,routeParamList:s}):void 0!==o.payload.params||void 0!==s[t.name]?Object.assign({},s[t.name],t.params,o.payload.params):t.params;var c='NAVIGATE'===o.type&&null!=o.payload.path?o.payload.path:t.path;return r!==t.params||c!==t.path?Object.assign({},t,{key:y,path:c,params:r}):t})}),c,y,n);return Object.assign({},f,{preloadedRouteKeys:f.preloadedRouteKeys.filter(function(r){return r!==t.routes[f.index].key})});case'SET_PARAMS':case'REPLACE_PARAMS':var p=_r(d[2]).BaseRouter.getStateForAction(t,o);if(null!==p){var v=p.index;if(null!=v){var k=p.routes[v],h=t.history.findLastIndex(function(t){return t.key===k.key}),b=t.history;return-1!==h&&((b=(0,r.default)(t.history))[h]=Object.assign({},b[h],{params:k.params})),Object.assign({},p,{history:b})}}return p;case'GO_BACK':if(1===t.history.length)return null;var A=t.history[t.history.length-2],R=null==A?void 0:A.key,O=t.routes.findLastIndex(function(t){return t.key===R});if(-1===O)return null;var x=t.routes;return'fullHistory'===y&&x[O].params!==A.params&&((x=(0,r.default)(t.routes))[O]=Object.assign({},x[O],{params:A.params})),Object.assign({},t,{routes:x,preloadedRouteKeys:t.preloadedRouteKeys.filter(function(r){return r!==t.routes[O].key}),history:t.history.slice(0,-1),index:O});case'PRELOAD':var j=t.routes.findIndex(function(t){return t.name===o.payload.name});if(-1===j)return null;var P=t.routes[j],E=l[P.name],I=(null==E?void 0:E({params:P.params}))===(null==E?void 0:E({params:o.payload.params}))?P.key:`${P.name}-${(0,_r(d[3]).nanoid)()}`,T=(0,_r(d[4]).createParamsFromAction)({action:o,routeParamList:s}),N=T!==P.params?Object.assign({},P,{key:I,params:T}):P;return Object.assign({},t,{preloadedRouteKeys:t.preloadedRouteKeys.filter(function(t){return t!==P.key}).concat(N.key),routes:t.routes.map(function(t,r){return r===j?N:t}),history:I===P.key?t.history:t.history.filter(function(t){return t.key!==P.key})});default:return _r(d[2]).BaseRouter.getStateForAction(t,o)}},actionCreators:o})};var r=t(_r(d[1])),n='route',o=e.TabActions={jumpTo:function(t,r){return{type:'JUMP_TO',payload:{name:t,params:r}}}},i=function(t,r,o,i){var u,s=[{type:n,key:t[r].key}];switch(o){case'order':for(var y=r;y>0;y--)s.unshift({type:n,key:t[y-1].key});break;case'firstRoute':0!==r&&s.unshift({type:n,key:t[0].key});break;case'initialRoute':r!==(u=-1===(u=t.findIndex(function(t){return t.name===i}))?0:u)&&s.unshift({type:n,key:t[u].key})}return s},u=function(t,o,u,s){var y=t.history;if('history'===u||'fullHistory'===u){var l=t.routes[o];if('history'===u)y=y.filter(function(t){return'route'===t.type&&t.key!==l.key});else if('fullHistory'===u){var c,f=y.findLastIndex(function(t){return'route'===t.type});l.key===(null==(c=y[f])?void 0:c.key)&&(y=[].concat((0,r.default)(y.slice(0,f)),(0,r.default)(y.slice(f+1))))}y=y.concat({type:n,key:l.key,params:'fullHistory'===u?l.params:void 0})}else y=i(t.routes,o,u,s);return Object.assign({},t,{index:o,history:y})}},524,[1,42,521,522,525]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createParamsFromAction=function(t){var n=t.action,o=t.routeParamList,c=n.payload,s=c.name,u=c.params;return void 0!==o[s]?Object.assign({},o[s],u):u}},525,[]);
__d(function(g,_r,_i,a,m,e,d){"use strict";var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.StackActions=void 0,e.StackRouter=function(t){var o=Object.assign({},_r(d[2]).BaseRouter,{type:'stack',getInitialState:function(n){var r=n.routeNames,o=n.routeParamList,s=void 0!==t.initialRouteName&&r.includes(t.initialRouteName)?t.initialRouteName:r[0];return{stale:!1,type:'stack',key:`stack-${(0,_r(d[3]).nanoid)()}`,index:0,routeNames:r,preloadedRoutes:[],routes:[{key:`${s}-${(0,_r(d[3]).nanoid)()}`,name:s,params:o[s]}]}},getRehydratedState:function(n,r){var o,s,u=r.routeNames,i=r.routeParamList,l=n;if(!1===l.stale)return l;var p=l.routes.filter(function(t){return u.includes(t.name)}).map(function(t){return Object.assign({},t,{key:t.key||`${t.name}-${(0,_r(d[3]).nanoid)()}`,params:void 0!==i[t.name]?Object.assign({},i[t.name],t.params):t.params})}),c=null!=(o=null==(s=l.preloadedRoutes)?void 0:s.filter(function(t){return u.includes(t.name)}).map(function(t){return Object.assign({},t,{key:t.key||`${t.name}-${(0,_r(d[3]).nanoid)()}`,params:void 0!==i[t.name]?Object.assign({},i[t.name],t.params):t.params})}))?o:[];if(0===p.length){var y=void 0!==t.initialRouteName?t.initialRouteName:u[0];p.push({key:`${y}-${(0,_r(d[3]).nanoid)()}`,name:y,params:i[y]})}return{stale:!1,type:'stack',key:`stack-${(0,_r(d[3]).nanoid)()}`,index:p.length-1,routeNames:u,routes:p,preloadedRoutes:c}},getStateForRouteNamesChange:function(n,r){var o=r.routeNames,s=r.routeParamList,u=r.routeKeyChanges,i=n.routes.filter(function(t){return o.includes(t.name)&&!u.includes(t.name)});if(0===i.length){var l=void 0!==t.initialRouteName&&o.includes(t.initialRouteName)?t.initialRouteName:o[0];i.push({key:`${l}-${(0,_r(d[3]).nanoid)()}`,name:l,params:s[l]})}return Object.assign({},n,{routeNames:o,routes:i,index:Math.min(n.index,i.length-1)})},getStateForRouteFocus:function(t,n){var r=t.routes.findIndex(function(t){return t.key===n});return-1===r||r===t.index?t:Object.assign({},t,{index:r,routes:t.routes.slice(0,r+1)})},getStateForAction:function(t,r,s){var u=s.routeParamList;switch(r.type){case'REPLACE':var i=r.target===t.key&&r.source?t.routes.findIndex(function(t){return t.key===r.source}):t.index;if(-1===i)return null;if(!t.routeNames.includes(r.payload.name))return null;var l=s.routeGetIdList[r.payload.name],p=null==l?void 0:l({params:r.payload.params}),c=t.preloadedRoutes.find(function(t){return t.name===r.payload.name&&p===(null==l?void 0:l({params:t.params}))});return c||(c=(0,_r(d[4]).createRouteFromAction)({action:r,routeParamList:u})),Object.assign({},t,{routes:t.routes.map(function(t,n){return n===i?c:t}),preloadedRoutes:t.preloadedRoutes.filter(function(t){return t.key!==c.key})});case'PUSH':case'NAVIGATE':if(!t.routeNames.includes(r.payload.name))return null;var y,f,v,P=s.routeGetIdList[r.payload.name],O=null==P?void 0:P({params:r.payload.params});if(void 0!==O)y=t.routes.findLast(function(t){return t.name===r.payload.name&&O===(null==P?void 0:P({params:t.params}))});else if('NAVIGATE'===r.type){var k=t.routes[t.index];r.payload.name===k.name?y=k:r.payload.pop&&(y=t.routes.findLast(function(t){return t.name===r.payload.name}))}if(y||(y=t.preloadedRoutes.find(function(t){return t.name===r.payload.name&&O===(null==P?void 0:P({params:t.params}))})),f='NAVIGATE'===r.type&&r.payload.merge&&y?void 0!==r.payload.params||void 0!==u[r.payload.name]?Object.assign({},u[r.payload.name],y.params,r.payload.params):y.params:(0,_r(d[5]).createParamsFromAction)({action:r,routeParamList:u}),y)if('NAVIGATE'===r.type&&r.payload.pop)for(var R of(v=[],t.routes)){if(R.key===y.key){v.push(Object.assign({},y,{path:void 0!==r.payload.path?r.payload.path:y.path,params:f}));break}v.push(R)}else v=t.routes.filter(function(t){return t.key!==y.key}),v.push(Object.assign({},y,{path:'NAVIGATE'===r.type&&void 0!==r.payload.path?r.payload.path:y.path,params:f}));else v=[].concat((0,n.default)(t.routes),[{key:`${r.payload.name}-${(0,_r(d[3]).nanoid)()}`,name:r.payload.name,path:'NAVIGATE'===r.type?r.payload.path:void 0,params:f}]);return Object.assign({},t,{index:v.length-1,preloadedRoutes:t.preloadedRoutes.filter(function(t){return v[v.length-1].key!==t.key}),routes:v});case'NAVIGATE_DEPRECATED':if(!t.routeNames.includes(r.payload.name))return null;if(t.preloadedRoutes.find(function(t){return t.name===r.payload.name&&b===(null==A?void 0:A({params:t.params}))}))return null;var h=-1,A=s.routeGetIdList[r.payload.name],b=null==A?void 0:A({params:r.payload.params});if(h=void 0!==b?t.routes.findIndex(function(t){return t.name===r.payload.name&&b===(null==A?void 0:A({params:t.params}))}):t.routes[t.index].name===r.payload.name?t.index:t.routes.findLastIndex(function(t){return t.name===r.payload.name}),-1===h){var x=[].concat((0,n.default)(t.routes),[(0,_r(d[4]).createRouteFromAction)({action:r,routeParamList:u})]);return Object.assign({},t,{routes:x,index:x.length-1})}var N,j=t.routes[h];return N=r.payload.merge?void 0!==r.payload.params||void 0!==u[j.name]?Object.assign({},u[j.name],j.params,r.payload.params):j.params:(0,_r(d[5]).createParamsFromAction)({action:r,routeParamList:u}),Object.assign({},t,{index:h,routes:[].concat((0,n.default)(t.routes.slice(0,h)),[N!==j.params?Object.assign({},j,{params:N}):t.routes[h]])});case'POP':var L=r.target===t.key&&r.source?t.routes.findIndex(function(t){return t.key===r.source}):t.index;if(L>0){var I=Math.max(L-r.payload.count+1,1),T=t.routes.slice(0,I).concat(t.routes.slice(L+1));return Object.assign({},t,{index:T.length-1,routes:T})}return null;case'POP_TO_TOP':return o.getStateForAction(t,{type:'POP',payload:{count:t.routes.length-1}},s);case'POP_TO':var E=r.target===t.key&&r.source?t.routes.findLastIndex(function(t){return t.key===r.source}):t.index;if(-1===E)return null;if(!t.routeNames.includes(r.payload.name))return null;var F=-1,$=s.routeGetIdList[r.payload.name],G=null==$?void 0:$({params:r.payload.params});if(void 0!==G)F=t.routes.findIndex(function(t){return t.name===r.payload.name&&G===(null==$?void 0:$({params:t.params}))});else if(t.routes[E].name===r.payload.name)F=E;else for(var S=E;S>=0;S--)if(t.routes[S].name===r.payload.name){F=S;break}if(-1===F){var _=t.preloadedRoutes.find(function(t){return t.name===r.payload.name&&G===(null==$?void 0:$({params:t.params}))});_||(_=(0,_r(d[4]).createRouteFromAction)({action:r,routeParamList:u}));var C=t.routes.slice(0,E).concat(_);return Object.assign({},t,{index:C.length-1,routes:C,preloadedRoutes:t.preloadedRoutes.filter(function(t){return t.key!==_.key})})}var V,B=t.routes[F];return V=r.payload.merge?void 0!==r.payload.params||void 0!==u[B.name]?Object.assign({},u[B.name],B.params,r.payload.params):B.params:(0,_r(d[5]).createParamsFromAction)({action:r,routeParamList:u}),Object.assign({},t,{index:F,routes:[].concat((0,n.default)(t.routes.slice(0,F)),[V!==B.params?Object.assign({},B,{params:V}):t.routes[F]])});case'GO_BACK':return t.index>0?o.getStateForAction(t,{type:'POP',payload:{count:1},target:r.target,source:r.source},s):null;case'PRELOAD':var D,M=s.routeGetIdList[r.payload.name],w=null==M?void 0:M({params:r.payload.params});return void 0!==w&&(D=t.routes.find(function(t){return t.name===r.payload.name&&w===(null==M?void 0:M({params:t.params}))})),D?Object.assign({},t,{routes:t.routes.map(function(t){var n;return t.key!==(null==(n=D)?void 0:n.key)?t:Object.assign({},t,{params:(0,_r(d[5]).createParamsFromAction)({action:r,routeParamList:u})})})}):Object.assign({},t,{preloadedRoutes:t.preloadedRoutes.filter(function(t){return t.name!==r.payload.name||w!==(null==M?void 0:M({params:t.params}))}).concat((0,_r(d[4]).createRouteFromAction)({action:r,routeParamList:u}))});default:return _r(d[2]).BaseRouter.getStateForAction(t,r)}},actionCreators:r});return o};var n=t(_r(d[1])),r=e.StackActions={replace:function(t,n){return{type:'REPLACE',payload:{name:t,params:n}}},push:function(t,n){return{type:'PUSH',payload:{name:t,params:n}}},pop:function(){return{type:'POP',payload:{count:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}}},popToTop:function(){return{type:'POP_TO_TOP'}},popTo:function(t,n,r){return'boolean'==typeof r&&console.warn("Passing a boolean as the third argument to 'popTo' is deprecated. Pass '{ merge: true }' instead."),{type:'POP_TO',payload:{name:t,params:n,merge:'boolean'==typeof r?r:null==r?void 0:r.merge}}}}},526,[1,42,521,522,527,525]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRouteFromAction=function(t){var o=t.action,n=t.routeParamList,c=o.payload.name;return{key:`${c}-${(0,r(d[0]).nanoid)()}`,name:c,params:(0,r(d[1]).createParamsFromAction)({action:o,routeParamList:n})}}},527,[522,525]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goBack=function(){return{type:'GO_BACK'}},e.navigate=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if('string'==typeof n[0]){var p=n[0],s=n[1],l=n[2];return'boolean'==typeof l&&console.warn("Passing a boolean as the third argument to 'navigate' is deprecated. Pass '{ merge: true }' instead."),{type:'NAVIGATE',payload:{name:p,params:s,merge:'boolean'==typeof l?l:null==l?void 0:l.merge,pop:null==l?void 0:l.pop}}}var u=n[0]||{};if(!('name'in u))throw new Error('You need to specify a name when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.');return{type:'NAVIGATE',payload:u}},e.navigateDeprecated=function(){if('string'==typeof(arguments.length<=0?void 0:arguments[0]))return{type:'NAVIGATE_DEPRECATED',payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};var t=(arguments.length<=0?void 0:arguments[0])||{};if(!('name'in t))throw new Error('You need to specify a name when calling navigateDeprecated with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigatelegacy for usage.');return{type:'NAVIGATE_DEPRECATED',payload:t}},e.preload=function(t,n){return{type:'PRELOAD',payload:{name:t,params:n}}},e.replaceParams=function(t){return{type:'REPLACE_PARAMS',payload:{params:t}}},e.reset=function(t){return{type:'RESET',payload:t}},e.setParams=function(t){return{type:'SET_PARAMS',payload:{params:t}}}},528,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},529,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFocusedRoute=function(u){var n,l,t,o=u;for(;null!=(null==(s=o)?void 0:s.routes[null!=(v=o.index)?v:0].state);){var s,v,c;o=o.routes[null!=(c=o.index)?c:0].state}return null==(n=o)?void 0:n.routes[null!=(l=null==(t=o)?void 0:t.index)?l:0]}},530,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useEventEmitter=function(e){var n=r.useRef(e);r.useEffect(function(){n.current=e});var u=r.useRef(Object.create(null)),c=r.useCallback(function(e){var t=function(t,r){var n=u.current[t]?u.current[t][e]:void 0;if(n){var c=n.indexOf(r);c>-1&&n.splice(c,1)}};return{addListener:function(r,n){u.current[r]=u.current[r]||{},u.current[r][e]=u.current[r][e]||[],u.current[r][e].push(n);var c=!1;return function(){c||(c=!0,t(r,n))}},removeListener:t}},[]),f=r.useCallback(function(e){var r,c,f=e.type,i=e.data,o=e.target,l=e.canPreventDefault,v=u.current[f]||{},s=void 0!==o?null==(r=v[o])?void 0:r.slice():(c=[]).concat.apply(c,(0,t.default)(Object.keys(v).map(function(e){return v[e]}))).filter(function(e,t,r){return r.lastIndexOf(e)===t}),p={get type(){return f}};if(void 0!==o&&Object.defineProperty(p,'target',{enumerable:!0,get:function(){return o}}),void 0!==i&&Object.defineProperty(p,'data',{enumerable:!0,get:function(){return i}}),l){var b=!1;Object.defineProperties(p,{defaultPrevented:{enumerable:!0,get:function(){return b}},preventDefault:{enumerable:!0,value:function(){b=!0}}})}return null==n.current||n.current(p),null==s||s.forEach(function(e){return e(p)}),p},[]);return r.useMemo(function(){return{create:c,emit:f}},[c,f])};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,c,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((c=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(c.get||c.set)?u(f,i,c):f[i]=e[i]);return f})(e,t)})(_r(d[2]))},531,[1,42,75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOptionsGetters=function(n){var t=n.key,r=n.options,u=n.navigation,o=e.useRef(r),i=e.useRef({}),l=e.useContext(_r(d[1]).NavigationBuilderContext).onOptionsChange,c=e.useContext(_r(d[2]).NavigationStateContext).addOptionsGetter,f=e.useCallback(function(){var e,n,t=null==(e=null==u?void 0:u.isFocused())||e,r=Object.keys(i.current).length;t&&!r&&l(null!=(n=o.current)?n:{})},[u,l]);e.useEffect(function(){return o.current=r,f(),null==u?void 0:u.addListener('focus',f)},[u,r,f]);var s=e.useCallback(function(){for(var e in i.current)if(e in i.current){var n,t,r=null==(n=(t=i.current)[e])?void 0:n.call(t);if(null!==r)return r}return null},[]),v=e.useCallback(function(){var e;if(!(null==(e=null==u?void 0:u.isFocused())||e))return null;var n=s();return null!==n?n:o.current},[u,s]);return e.useEffect(function(){return null==c?void 0:c(t,v)},[v,c,t]),{addOptionsGetter:e.useCallback(function(e,n){return i.current[e]=n,f(),function(){delete i.current[e],f()}},[f]),getCurrentOptions:v}};var e=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=n?r:t){if(u.has(e))return u.get(e);u.set(e,i)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?u(i,l,o):i[l]=e[l]);return i})(e,n)})(_r(d[0]))},532,[75,533,512]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationBuilderContext=void 0;var t=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,i,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(r=e?o:n){if(r.has(t))return r.get(t);r.set(t,u)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(i.get||i.set)?r(u,f,i):u[f]=t[f]);return u})(t,e)})(_r(d[0]));_e.NavigationBuilderContext=t.createContext({onDispatchAction:function(){},onOptionsChange:function(){},scheduleUpdate:function(){throw new Error("Couldn't find a context for scheduling updates.")},flushUpdates:function(){throw new Error("Couldn't find a context for flushing updates.")}})},533,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationContainerRefContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.NavigationContainerRefContext=e.createContext(void 0)},534,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnhandledActionContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.UnhandledActionContext=e.createContext(void 0)},535,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DeprecatedNavigationInChildContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.DeprecatedNavigationInChildContext=e.createContext(!1)},536,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.EnsureSingleNavigator=function(i){var o=i.children,u=e.useRef(void 0),c=e.useMemo(function(){return{register:function(e){var r=u.current;if(void 0!==r&&e!==r)throw new Error(t);u.current=e},unregister:function(e){e===u.current&&(u.current=void 0)}}},[]);return(0,r.jsx)(n.Provider,{value:c,children:o})},_e.SingleNavigatorContext=void 0;var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=r?n:t){if(i.has(e))return i.get(e);i.set(e,u)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?i(u,c,o):u[c]=e[c]);return u})(e,r)})(_r(d[0])),r=_r(d[1]);var t="Another navigator is already registered for this container. You likely have multiple navigators under a single \"NavigationContainer\" or \"Screen\". Make sure each navigator is under a separate \"Screen\" container. See https://reactnavigation.org/docs/nesting-navigators for a guide on nesting.",n=_e.SingleNavigatorContext=e.createContext(void 0)},537,[75,244]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ThemeProvider=function(t){var r=t.value,n=t.children;return(0,e.jsx)(_r(d[2]).ThemeContext.Provider,{value:r,children:n})};!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f])})(e,t)})(_r(d[0]));var e=_r(d[1])},538,[75,244,539]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ThemeContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(f.get||f.set)?o(i,u,f):i[u]=e[u]);return i})(e,t)})(_r(d[0]));(_e.ThemeContext=e.createContext(void 0)).displayName='ThemeContext'},539,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.CurrentRenderContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0]));_e.CurrentRenderContext=e.createContext(void 0)},540,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.NavigationContext=e.createContext(void 0)},541,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationHelpersContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.NavigationHelpersContext=e.createContext(void 0)},542,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationIndependentTree=function(t){var n=t.children;return(0,e.jsx)(_r(d[2]).NavigationRouteContext.Provider,{value:void 0,children:(0,e.jsx)(_r(d[3]).NavigationContext.Provider,{value:void 0,children:(0,e.jsx)(_r(d[4]).NavigationIndependentTreeContext.Provider,{value:!0,children:n})})})};!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?i(u,f,o):u[f]=e[f])})(e,t)})(_r(d[0]));var e=_r(d[1])},543,[75,244,544,541,514]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationRouteContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?r(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]));_e.NavigationRouteContext=e.createContext(void 0)},544,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.PreventRemoveContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.PreventRemoveContext=e.createContext(void 0)},545,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PreventRemoveProvider=function(e){var v=e.children,f=r.useState(function(){return(0,_r(d[6]).nanoid)()}),l=(0,t.default)(f,1)[0],c=r.useState(function(){return new Map}),s=(0,t.default)(c,2),p=s[0],y=s[1],R=r.useContext(_r(d[7]).NavigationHelpersContext),P=r.useContext(_r(d[8]).NavigationRouteContext),_=r.useContext(_r(d[9]).PreventRemoveContext),k=null==_?void 0:_.setPreventRemove,w=(0,o.default)(function(e,t,n){if(n&&(null==R||null!=R&&R.getState().routes.every(function(e){return e.key!==t})))throw new Error(`Couldn't find a route with the key ${t}. Is your component inside NavigationContent?`);y(function(r){var o,u;if(t===(null==(o=r.get(e))?void 0:o.routeKey)&&n===(null==(u=r.get(e))?void 0:u.preventRemove))return r;var i=new Map(r);return n?i.set(e,{routeKey:t,preventRemove:n}):i.delete(e),i})}),C=(0,n.default)(p.values()).some(function(e){return e.preventRemove});r.useEffect(function(){if(void 0!==(null==P?void 0:P.key)&&void 0!==k)return k(l,P.key,C),function(){k(l,P.key,!1)}},[l,C,null==P?void 0:P.key,k]);var x=r.useMemo(function(){return{setPreventRemove:w,preventedRoutes:i(p)}},[w,p]);return(0,u.jsx)(_r(d[9]).PreventRemoveContext.Provider,{value:x,children:v})};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var v in e)"default"!==v&&{}.hasOwnProperty.call(e,v)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,v))&&(u.get||u.set)?o(i,v,u):i[v]=e[v]);return i})(e,t)})(_r(d[3])),o=e(_r(d[4])),u=_r(d[5]);var i=function(e){return(0,n.default)(e.values()).reduce(function(e,t){var n,r=t.routeKey,o=t.preventRemove;return e[r]={preventRemove:(null==(n=e[r])?void 0:n.preventRemove)||o},e},{})}},546,[1,34,42,75,510,244,522,542,544,545]);
__d(function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createComponentForStaticNavigation=f,_e.createPathConfigForStaticNavigation=function(e,n,r){var i,a=!1,o=function(e,n,u){var c=function(e,n){return Object.fromEntries(Object.entries(e).sort(function(e,r){var i=(0,t.default)(e,1)[0],a=(0,t.default)(r,1)[0];return i===n?-1:a===n?1:0}).map(function(e){var c,s=(0,t.default)(e,2),l=s[0],f=s[1],p={};'linking'in f&&('string'==typeof f.linking?p.path=f.linking:Object.assign(p,f.linking),'string'==typeof p.path&&(p.path=p.path.replace(/^\//,'').replace(/\/$/,'')));var v=u||null!=p.path&&''!==p.path;return'config'in f?c=o(f,void 0,v):'screen'in f&&'config'in f.screen&&(f.screen.config.screens||f.screen.config.groups)&&(c=o(f.screen,void 0,v)),c&&(p.screens=c),!r||p.screens||'linking'in f&&null==f.linking||(null!=p.path?u||(l===n&&null!=p.path?a=!0:''===p.path&&(i=void 0)):(u||null!=i||(i=p),p.path=l.replace(/([A-Z]+)/g,'-$1').replace(/^-/,'').toLowerCase())),[l,p]}).filter(function(e){var n=(0,t.default)(e,2)[1];return Object.keys(n).length>0}))},s={};for(var l in e.config){var f;if('screens'===l&&e.config.screens)Object.assign(s,c(e.config.screens,null!=(f=null==n?void 0:n.initialRouteName)?f:e.config.initialRouteName));'groups'===l&&e.config.groups&&Object.entries(e.config.groups).forEach(function(r){var i,a=(0,t.default)(r,2)[1];Object.assign(s,c(a.screens,null!=(i=null==n?void 0:n.initialRouteName)?i:e.config.initialRouteName))})}if(0!==Object.keys(s).length)return s},u=o(e,n,!1);r&&i&&!a&&(i.path='');return u};var n=e(_r(d[1])),r=e(_r(d[2])),t=e(_r(d[3])),i=(function(e,n){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=n?t:r){if(i.has(e))return i.get(e);i.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(a.get||a.set)?i(o,u,a):o[u]=e[u]);return o})(e,n)})(_r(d[4])),a=_r(d[5]),o=["screen","if"],u=["screens","groups"],c=["if"];var s=i.memo(function(e){var n=e.component,r=(0,_r(d[6]).useRoute)();return i.createElement(n,{route:r})});s.displayName='Memo(Screen)';var l=function(e,n){return Object.entries(n).map(function(n){var u,c,l=(0,t.default)(n,2),p=l[0],v=l[1],h={},y=!1;if('screen'in v){var j=v.screen,O=v.if,b=(0,r.default)(v,o);c=O,h=b,(0,_r(d[7]).isValidElementType)(j)?u=j:'config'in j&&(y=!0,u=f(j,`${p}Navigator`))}else(0,_r(d[7]).isValidElementType)(v)?u=v:'config'in v&&(y=!0,u=f(v,`${p}Navigator`));if(null==u)throw new Error(`Couldn't find a 'screen' property for the screen '${p}'. This can happen if you passed 'undefined'. You likely forgot to export your component from the file it's defined in, or mixed up default import and named import when importing.`);var k=y?i.createElement(u,{}):(0,a.jsx)(s,{component:u});return function(){return null==c||c()?(0,a.jsx)(e,Object.assign({name:p},h,{children:function(){return k}}),p):null}})};function f(e,i){var o=e.Navigator,s=e.Group,f=e.Screen,p=e.config,v=p.screens,h=p.groups,y=(0,r.default)(p,u);if(null==v&&null==h)throw new Error("Couldn't find a 'screens' or 'groups' property. Make sure to define your screens under a 'screens' property in the configuration.");var j=[];for(var O in p)'screens'===O&&v&&j.push.apply(j,(0,n.default)(l(f,v))),'groups'===O&&h&&j.push.apply(j,(0,n.default)(Object.entries(h).map(function(e){var n=(0,t.default)(e,2),i=n[0],o=n[1],u=o.if,p=(0,r.default)(o,c),v=l(f,p.screens);return function(){var e=v.map(function(e){return e()});return null==u||u()?(0,a.jsx)(s,Object.assign({navigationKey:i},p,{children:e}),i):null}})));var b=function(){var e=j.map(function(e){return e()});return(0,a.jsx)(o,Object.assign({},y,{children:e}))};return b.displayName=i,b}},547,[1,42,4,34,75,244,548,549]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useRoute=function(){var t=e.useContext(_r(d[1]).NavigationRouteContext);if(void 0===t)throw new Error("Couldn't find a route object. Is your component inside a screen in a navigator?");return t};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},548,[75,544]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},549,[550]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * react-is.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function v(w){if("object"==typeof w&&null!==w){var v=w.$$typeof;switch(v){case t:switch(w=w.type){case n:case f:case c:case y:case p:case b:return w;default:switch(w=w&&w.$$typeof){case u:case l:case $:case S:case s:return w;default:return v}}case o:return v}}}e.ContextConsumer=s,e.ContextProvider=u,e.Element=t,e.ForwardRef=l,e.Fragment=n,e.Lazy=$,e.Memo=S,e.Portal=o,e.Profiler=f,e.StrictMode=c,e.Suspense=y,e.SuspenseList=p,e.isContextConsumer=function(t){return v(t)===s},e.isContextProvider=function(t){return v(t)===u},e.isElement=function(o){return"object"==typeof o&&null!==o&&o.$$typeof===t},e.isForwardRef=function(t){return v(t)===l},e.isFragment=function(t){return v(t)===n},e.isLazy=function(t){return v(t)===$},e.isMemo=function(t){return v(t)===S},e.isPortal=function(t){return v(t)===o},e.isProfiler=function(t){return v(t)===f},e.isStrictMode=function(t){return v(t)===c},e.isSuspense=function(t){return v(t)===y},e.isSuspenseList=function(t){return v(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===n||t===f||t===c||t===y||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===$||t.$$typeof===S||t.$$typeof===u||t.$$typeof===s||t.$$typeof===l||t.$$typeof===w||void 0!==t.getModuleId)},e.typeOf=v},550,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNavigatorFactory=function(n){return function(o){return null!=o?{Navigator:n,Screen:r(d[0]).Screen,Group:r(d[1]).Group,config:o}:{Navigator:n,Screen:r(d[0]).Screen,Group:r(d[1]).Group}}}},551,[552,553]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Screen=function(n){return null}},552,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Group=function(u){return null}},553,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getActionFromState=function(n,t){var l,o,u,c=t?s(t):{},p=null!=n.index?n.routes.slice(0,n.index+1):n.routes;if(0===p.length)return;if(!(1===p.length&&void 0===p[0].key||2===p.length&&void 0===p[0].key&&p[0].name===(null==c?void 0:c.initialRouteName)&&void 0===p[1].key))return{type:'RESET',payload:n};var v=n.routes[null!=(l=n.index)?l:n.routes.length-1],f=null==v?void 0:v.state,h=null==c||null==(o=c.screens)?void 0:o[null==v?void 0:v.name],y=Object.assign({},v.params),b=v?{name:v.name,path:v.path,params:y}:void 0;b&&null!=(u=h)&&u.screens&&Object.keys(h.screens).length&&(b.pop=!0);for(;f;){var k,j,O;if(0===f.routes.length)return;var x=null!=f.index?f.routes.slice(0,f.index+1):f.routes,N=x[x.length-1];if(Object.assign(y,{initial:void 0,screen:void 0,params:void 0,state:void 0}),1===x.length&&void 0===x[0].key)y.initial=!0,y.screen=N.name;else{if(2!==x.length||void 0!==x[0].key||x[0].name!==(null==(k=h)?void 0:k.initialRouteName)||void 0!==x[1].key){y.state=f;break}y.initial=!1,y.screen=N.name}N.state?(y.params=Object.assign({},N.params),y.pop=!0,y=y.params):(y.path=N.path,y.params=N.params),f=N.state,null!=(O=h=null==(j=h)||null==(j=j.screens)?void 0:j[N.name])&&O.screens&&Object.keys(h.screens).length&&(y.pop=!0)}(null!=b&&b.params.screen||null!=b&&b.params.state)&&(b.pop=!0);if(!b)return;return{type:'NAVIGATE',payload:b}};var t=n(r(d[1]));var s=function(n){return'object'==typeof n&&null!=n?{initialRouteName:n.initialRouteName,screens:null!=n.screens?l(n.screens):void 0}:{}},l=function(n){return Object.entries(n).reduce(function(n,l){var o=(0,t.default)(l,2),u=o[0],c=o[1];return n[u]=s(c),n},{})}},554,[1,34]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFocusedRouteNameFromRoute=function(t){var n,o,u=null!=(n=t[r(d[0]).CHILD_STATE])?n:t.state,s=t.params;return u?u.routes[null!=(o=u.index)?o:'string'==typeof u.type&&'stack'!==u.type?0:u.routes.length-1].name:'string'==typeof(null==s?void 0:s.screen)?s.screen:void 0}},555,[556]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.CHILD_STATE=void 0,_e.useRouteCache=function(e){var o=t.useMemo(function(){return{current:new Map}},[]);return o.current=e.reduce(function(e,t){var f,c=o.current.get(t.key),i=t.state,l=(0,r.default)(t,n);return f=c&&(0,_r(d[3]).isRecordEqual)(c,l)?c:l,Object.defineProperty(f,u,{enumerable:!1,configurable:!0,value:i}),e.set(t.key,f),e},new Map),Array.from(o.current.values())};var r=e(_r(d[1])),t=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=r?n:t){if(u.has(e))return u.get(e);u.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?u(f,c,o):f[c]=e[c]);return f})(e,r)})(_r(d[2])),n=["state"];var u=_e.CHILD_STATE=Symbol('CHILD_STATE')},556,[1,4,75,557]);
__d(function(g,r,i,_a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRecordEqual=function(t,n){if(t===n)return!0;var u=Object.keys(t),c=Object.keys(n);if(u.length!==c.length)return!1;return u.every(function(u){return Object.is(t[u],n[u])})}},557,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.getPathFromState=function(e,t){if(null==e)throw Error(`Got '${String(e)}' for the navigation state. You must pass a valid state object.`);t&&(0,_r(d[4]).validatePathConfig)(t);var o=s(t),u='/',f=e,l={},c=function(){for(var t,s,c,p='number'==typeof f.index?f.index:0,v=f.routes[p],h=o,y=i(e),b=[],j=!0,O=function(){if(t=h[v.name].parts,b.push(v.name),v.params){var e,r,i=h[v.name],o=Object.fromEntries(Object.entries(v.params).map(function(e){var t,r,o=(0,n.default)(e,2),s=o[0],u=o[1];if(void 0===u){if(!i)return null;var f;if(null==(f=i.parts)||null==(f=f.find(function(e){return e.param===s}))?void 0:f.optional)return null}var l=null!=(t=null==i||null==(r=i.stringify)?void 0:r[s])?t:String;return[s,l(u)]}).filter(function(e){return null!=e}));if(null!=(e=t)&&e.length&&Object.assign(l,o),y===v)s=Object.assign({},o),null==(r=t)||r.forEach(function(e){var t=e.param;t&&s&&delete s[t]})}if(h[v.name].screens&&void 0!==v.state){p='number'==typeof v.state.index?v.state.index:v.state.routes.length-1;var u=v.state.routes[p],f=h[v.name].screens;f&&u.name in f?(v=u,h=f):j=!1}else j=!1};v.name in h&&j;)O();void 0!==h[v.name]?u+=null==(c=t)?void 0:c.map(function(e){var t=e.segment,n=e.param,r=e.optional;if('*'===t)return v.name;if(n){var i=l[n];return void 0===i&&r?'':Array.from(String(i)).map(function(e){return/[^A-Za-z0-9\-._~!$&'()*+,;=:@]/g.test(e)?encodeURIComponent(e):e}).join('')}return encodeURIComponent(t)}).join('/'):u+=encodeURIComponent(v.name);if(!s&&y.params&&(s=Object.fromEntries(Object.entries(y.params).map(function(e){var t=(0,n.default)(e,2),r=t[0],i=t[1];return[r,String(i)]}))),v.state)u+='/';else if(s){for(var P in s)'undefined'===s[P]&&delete s[P];var _=r.stringify(s,{sort:!1});_&&(u+=`?${_}`)}f=v.state};for(;f;)c();null!=t&&t.path&&(u=`${t.path}/${u}`);(u=(u=u.replace(/\/+/g,'/')).length>1?u.replace(/\/$/,''):u).startsWith('/')||(u=`/${u}`);return u};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?i(s,u,o):s[u]=e[u]);return s})(e,t)})(_r(d[3]));var i=function(e){var t='number'==typeof e.index?e.routes[e.index]:e.routes[e.routes.length-1];return t.state?i(t.state):t},o=new WeakMap,s=function(e){if(null==e||!e.screens)return{};var t=o.get(null==e?void 0:e.screens);if(t)return t;var n=f(e.screens);return o.set(e.screens,n),n};var u=function(e,n){if('string'==typeof e){var r=(0,_r(d[5]).getPatternParts)(e);return n?{parts:[].concat((0,t.default)(n),(0,t.default)(r))}:{parts:r}}if(e.exact&&void 0===e.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");var i=!0!==e.exact?[].concat((0,t.default)(n||[]),(0,t.default)(e.path?(0,_r(d[5]).getPatternParts)(e.path):[])):e.path?(0,_r(d[5]).getPatternParts)(e.path):void 0,o=e.screens?f(e.screens,i):void 0;return{parts:i,stringify:e.stringify,screens:o}},f=function(e,t){return Object.fromEntries(Object.entries(e).map(function(e){var r=(0,n.default)(e,2),i=r[0],o=r[1];return[i,u(o,t)]}))}},558,[1,42,34,559,564,565]);
__d(function(g,r,i,_a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),a=r(d[2]),o=Symbol('encodeFragmentIdentifier');function u(t){switch(t.arrayFormat){case'index':return function(n){return function(o,u){var c=o.length;return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:[].concat(a(o),null===u?[[l(n,t),'[',c,']'].join('')]:[[l(n,t),'[',l(c,t),']=',l(u,t)].join('')])}};case'bracket':return function(n){return function(o,u){return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:[].concat(a(o),null===u?[[l(n,t),'[]'].join('')]:[[l(n,t),'[]=',l(u,t)].join('')])}};case'colon-list-separator':return function(n){return function(o,u){return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:[].concat(a(o),null===u?[[l(n,t),':list='].join('')]:[[l(n,t),':list=',l(u,t)].join('')])}};case'comma':case'separator':case'bracket-separator':var n='bracket-separator'===t.arrayFormat?'[]=':'=';return function(a){return function(o,u){return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:(u=null===u?'':u,0===o.length?[[l(a,t),n,l(u,t)].join('')]:[[o,l(u,t)].join(t.arrayFormatSeparator)])}};default:return function(n){return function(o,u){return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:[].concat(a(o),null===u?[l(n,t)]:[[l(n,t),'=',l(u,t)].join('')])}}}}function c(t){var n;switch(t.arrayFormat){case'index':return function(t,a,o){n=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,''),n?(void 0===o[t]&&(o[t]={}),o[t][n[1]]=a):o[t]=a};case'bracket':return function(t,a,o){n=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,''),n?void 0!==o[t]?o[t]=[].concat(o[t],a):o[t]=[a]:o[t]=a};case'colon-list-separator':return function(t,a,o){n=/(:list)$/.exec(t),t=t.replace(/:list$/,''),n?void 0!==o[t]?o[t]=[].concat(o[t],a):o[t]=[a]:o[t]=a};case'comma':case'separator':return function(n,a,o){var u='string'==typeof a&&a.includes(t.arrayFormatSeparator),c='string'==typeof a&&!u&&f(a,t).includes(t.arrayFormatSeparator);a=c?f(a,t):a;var s=u||c?a.split(t.arrayFormatSeparator).map(function(n){return f(n,t)}):null===a?a:f(a,t);o[n]=s};case'bracket-separator':return function(n,a,o){var u=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,''),u){var c=null===a?[]:a.split(t.arrayFormatSeparator).map(function(n){return f(n,t)});void 0!==o[n]?o[n]=[].concat(o[n],c):o[n]=c}else o[n]=a?f(a,t):a};default:return function(t,n,a){void 0!==a[t]?a[t]=[].concat(a[t],n):a[t]=n}}}function s(t){if('string'!=typeof t||1!==t.length)throw new TypeError('arrayFormatSeparator must be single character string')}function l(t,n){return n.encode?n.strict?r(d[3])(t):encodeURIComponent(t):t}function f(t,n){return n.decode?r(d[4])(t):t}function p(t){return Array.isArray(t)?t.sort():'object'==typeof t?p(Object.keys(t)).sort(function(t,n){return Number(t)-Number(n)}).map(function(n){return t[n]}):t}function y(t){var n=t.indexOf('#');return-1!==n&&(t=t.slice(0,n)),t}function v(t){var n='',a=t.indexOf('#');return-1!==a&&(n=t.slice(a)),n}function b(t){var n=(t=y(t)).indexOf('?');return-1===n?'':t.slice(n+1)}function j(t,n){return n.parseNumbers&&!Number.isNaN(Number(t))&&'string'==typeof t&&''!==t.trim()?t=Number(t):!n.parseBooleans||null===t||'true'!==t.toLowerCase()&&'false'!==t.toLowerCase()||(t='true'===t.toLowerCase()),t}function k(t,a){s((a=Object.assign({decode:!0,sort:!0,arrayFormat:'none',arrayFormatSeparator:',',parseNumbers:!1,parseBooleans:!1},a)).arrayFormatSeparator);var o=c(a),u=Object.create(null);if('string'!=typeof t)return u;if(!(t=t.trim().replace(/^[?#&]/,'')))return u;for(var l of t.split('&'))if(''!==l){var y=r(d[5])(a.decode?l.replace(/\+/g,' '):l,'='),v=n(y,2),b=v[0],k=v[1];k=void 0===k?null:['comma','separator','bracket-separator'].includes(a.arrayFormat)?k:f(k,a),o(f(b,a),k,u)}for(var F of Object.keys(u)){var O=u[F];if('object'==typeof O&&null!==O)for(var S of Object.keys(O))O[S]=j(O[S],a);else u[F]=j(O,a)}return!1===a.sort?u:(!0===a.sort?Object.keys(u).sort():Object.keys(u).sort(a.sort)).reduce(function(t,n){var a=u[n];return Boolean(a)&&'object'==typeof a&&!Array.isArray(a)?t[n]=p(a):t[n]=a,t},Object.create(null))}e.extract=b,e.parse=k,e.stringify=function(t,n){if(!t)return'';s((n=Object.assign({encode:!0,strict:!0,arrayFormat:'none',arrayFormatSeparator:','},n)).arrayFormatSeparator);var a=function(a){return n.skipNull&&null==t[a]||n.skipEmptyString&&''===t[a]},o=u(n),c={};for(var f of Object.keys(t))a(f)||(c[f]=t[f]);var p=Object.keys(c);return!1!==n.sort&&p.sort(n.sort),p.map(function(a){var u=t[a];return void 0===u?'':null===u?l(a,n):Array.isArray(u)?0===u.length&&'bracket-separator'===n.arrayFormat?l(a,n)+'[]':u.reduce(o(a),[]).join('&'):l(a,n)+'='+l(u,n)}).filter(function(t){return t.length>0}).join('&')},e.parseUrl=function(t,a){a=Object.assign({decode:!0},a);var o=r(d[5])(t,'#'),u=n(o,2),c=u[0],s=u[1];return Object.assign({url:c.split('?')[0]||'',query:k(b(t),a)},a&&a.parseFragmentIdentifier&&s?{fragmentIdentifier:f(s,a)}:{})},e.stringifyUrl=function(n,a){a=Object.assign(t({encode:!0,strict:!0},o,!0),a);var u=y(n.url).split('?')[0]||'',c=e.extract(n.url),s=e.parse(c,{sort:!1}),f=Object.assign(s,n.query),p=e.stringify(f,a);p&&(p=`?${p}`);var b=v(n.url);return n.fragmentIdentifier&&(b=`#${a[o]?l(n.fragmentIdentifier,a):n.fragmentIdentifier}`),`${u}${p}${b}`},e.pick=function(n,a,u){u=Object.assign(t({parseFragmentIdentifier:!0},o,!1),u);var c=e.parseUrl(n,u),s=c.url,l=c.query,f=c.fragmentIdentifier;return e.stringifyUrl({url:s,query:r(d[6])(l,a),fragmentIdentifier:f},u)},e.exclude=function(t,n,a){var o=Array.isArray(n)?function(t){return!n.includes(t)}:function(t,a){return!n(t,a)};return e.pick(t,o,a)}},559,[66,34,42,560,561,562,563]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return`%${t.charCodeAt(0).toString(16).toUpperCase()}`})}},560,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=new RegExp("(%[a-f0-9]{2})|([^%]+?)",'gi'),n=new RegExp("(%[a-f0-9]{2})+",'gi');function o(t,n){try{return[decodeURIComponent(t.join(''))]}catch(t){}if(1===t.length)return t;n=n||1;var c=t.slice(0,n),p=t.slice(n);return Array.prototype.concat.call([],o(c),o(p))}function c(n){try{return decodeURIComponent(n)}catch(i){for(var c=n.match(t)||[],p=1;p<c.length;p++)c=(n=o(c,p).join('')).match(t)||[];return n}}function p(t){for(var o={'%FE%FF':"\ufffd\ufffd",'%FF%FE':"\ufffd\ufffd"},p=n.exec(t);p;){try{o[p[0]]=decodeURIComponent(p[0])}catch(t){var i=c(p[0]);i!==p[0]&&(o[p[0]]=i)}p=n.exec(t)}o['%C2']="\ufffd";for(var f=Object.keys(o),u=0;u<f.length;u++){var y=f[u];t=t.replace(new RegExp(y,'g'),o[y])}return t}m.exports=function(t){if('string'!=typeof t)throw new TypeError('Expected `encodedURI` to be of type `string`, got `'+typeof t+'`');try{return t=t.replace(/\+/g,' '),decodeURIComponent(t)}catch(n){return p(t)}}},561,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){if('string'!=typeof t||'string'!=typeof n)throw new TypeError('Expected the arguments to be of type `string`');if(''===n)return[t];var o=t.indexOf(n);return-1===o?[t]:[t.slice(0,o),t.slice(o+n.length)]}},562,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=function(t,n){for(var i={},s=Object.keys(t),c=Array.isArray(n),f=0;f<s.length;f++){var o=s[f],u=t[o];(c?-1!==n.indexOf(o):n(o,u,t))&&(i[o]=u)}return i}},563,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.validatePathConfig=function n(c){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=Object.assign({path:'string',initialRouteName:'string',screens:'object'},s?null:{alias:'array',exact:'boolean',stringify:'object',parse:'object'});if('object'!=typeof c||null===c)throw new Error(`Expected the configuration to be an object, but got ${JSON.stringify(c)}.`);var u=Object.fromEntries(Object.keys(c).map(function(n){if(!(n in f))return[n,'extraneous'];var t=f[n],o=c[n];if(void 0!==o)if('array'===t){if(!Array.isArray(o))return[n,`expected 'Array', got '${typeof o}'`]}else if(typeof o!==t)return[n,`expected '${t}', got '${typeof o}'`];return null}).filter(Boolean));if(Object.keys(u).length)throw new Error(`Found invalid properties in the configuration:\n${o(u)}\n\nYou can only specify the following properties:\n${o(f)}\n\nIf you want to specify configuration for screens, you need to specify them under a 'screens' property.\n\nSee https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.`);if(s&&'path'in c&&'string'==typeof c.path&&c.path.includes(':'))throw new Error(`Found invalid path '${c.path}'. The 'path' in the top-level configuration cannot contain patterns for params.`);'screens'in c&&c.screens&&Object.entries(c.screens).forEach(function(o){var c=(0,t.default)(o,2),s=(c[0],c[1]);'string'!=typeof s&&n(s,!1)})};var t=n(r(d[1])),o=function(n){return Object.entries(n).map(function(n){var o=(0,t.default)(n,2);return`- ${o[0]} (${o[1]})`}).join('\n')}},564,[1,34]);
__d(function(g,r,_i,a,m,e,d){"use strict";var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getPatternParts=function(n){for(var i=[],o={segment:''},f=!1,p=!1,l=0,u=0;u<=n.length;u++){var s=n[u];if(null!=s&&(o.segment+=s),':'===s){if(':'===o.segment)p=!0;else if(!f)throw new Error(`Encountered ':' in the middle of a segment in path: ${n}`)}else if('('===s){if(!p)throw new Error(`Encountered '(' without preceding ':' in path: ${n}`);f?l++:f=!0}else if(')'===s){if(!p||!f)throw new Error(`Encountered ')' without preceding '(' in path: ${n}`);l?(l--,o.regex+=s):(f=!1,p=!1)}else if('?'===s){if(!o.param)throw new Error(`Encountered '?' without preceding ':' in path: ${n}`);p=!1,o.optional=!0}else if(null==s||'/'===s&&!f){if(p=!1,o.segment=o.segment.replace(/\/$/,''),''===o.segment)continue;if(o.param&&(o.param=o.param.replace(/^:/,'')),o.regex&&(o.regex=o.regex.replace(/^\(/,'').replace(/\)$/,'')),i.push(o),null==s)break;o={segment:''}}f&&(o.regex=o.regex||'',o.regex+=s),p&&!f&&(o.param=o.param||'',o.param+=s)}if(f)throw new Error(`Could not find closing ')' in path: ${n}`);var c=i.map(function(n){return n.param}).filter(Boolean);for(var h of c.entries()){var w=(0,t.default)(h,2),E=w[0],$=w[1];if(c.indexOf($)!==E)throw new Error(`Duplicate param name '${$}' found in path: ${n}`)}return i};var t=n(r(d[1]))},565,[1,34]);
__d(function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.getStateFromPath=function(e,t){var n,r=u(t),a=r.initialRoutes,s=r.configs,i=null==t?void 0:t.screens,o=e.replace(/\/+/g,'/').replace(/^\//,'').replace(/\?.*$/,'');o=o.endsWith('/')?o:`${o}/`;var f,c,l=null==t||null==(n=t.path)?void 0:n.replace(/^\//,'');if(l){var p=l.endsWith('/')?l:`${l}/`;if(!o.startsWith(p))return;o=o.replace(p,'')}if(void 0===i){var v=o.split('/').filter(Boolean).map(function(e){return{name:decodeURIComponent(e)}});return v.length?O(e,v,a):void 0}if('/'===o){var y=s.find(function(e){return''===e.segments.join('/')});return y?O(e,y.routeNames.map(function(e){return{name:e}}),a,s):void 0}var b=h(o,s),j=b.routes,x=b.remainingPath;void 0!==j&&(o=x,f=c=O(e,j,a,s));if(null==c||null==f)return;return f};var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),a=e(_r(d[4])),s=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var a,s,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(s.get||s.set)?a(i,u,s):i[u]=e[u]);return i})(e,t)})(_r(d[5]));var i=new WeakMap;function u(e){if(!e)return o();var t=i.get(e);if(t)return t;var n=o(e);return i.set(e,n),n}function o(e){e&&(0,_r(d[6]).validatePathConfig)(e);var t=f(e),n=c(t,null==e?void 0:e.screens);return l(n),{initialRoutes:t,configs:n,configWithRegexes:p(n)}}function f(e){var t=[];return null!=e&&e.initialRouteName&&t.push({initialRouteName:e.initialRouteName,parentScreens:[]}),t}function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=[]).concat.apply(t,(0,r.default)(Object.keys(n).map(function(t){return v(t,n,e,[],[],[])}))).sort(function(e,t){if((0,_r(d[7]).isArrayEqual)(e.segments,t.segments))return t.routeNames.join('>').localeCompare(e.routeNames.join('>'));if((0,_r(d[8]).arrayStartsWith)(e.segments,t.segments))return-1;if((0,_r(d[8]).arrayStartsWith)(t.segments,e.segments))return 1;for(var n=0;n<Math.max(e.segments.length,t.segments.length);n++){if(null==e.segments[n])return 1;if(null==t.segments[n])return-1;var r='*'===e.segments[n],a='*'===t.segments[n],s=e.segments[n].startsWith(':'),i=t.segments[n].startsWith(':'),u=s&&e.segments[n].includes('('),o=i&&t.segments[n].includes('(');if(!(r&&a||u&&o)){if(r&&!a)return 1;if(a&&!r)return-1;if(s&&!i)return 1;if(i&&!s)return-1;if(u&&!o)return-1;if(o&&!u)return 1}}return e.segments.length-t.segments.length})}function l(e){e.reduce(function(e,t){var r=t.segments.join('/');if(e[r]){var a=e[r].routeNames,s=t.routeNames;if(!(a.length>s.length?s.every(function(e,t){return a[t]===e}):a.every(function(e,t){return s[t]===e})))throw new Error(`Found conflicting screens with the same pattern. The pattern '${r}' resolves to both '${a.join(' > ')}' and '${s.join(' > ')}'. Patterns must be unique and cannot resolve to more than one screen.`)}return Object.assign(e,(0,n.default)({},r,t))},{})}function p(e){return e.map(function(e){return Object.assign({},e,{regex:e.regex?new RegExp(e.regex.source+'$'):void 0})})}var h=function(e,n){var r,a,s=e,i=function(e){if(!e.regex)return 0;var a=s.match(e.regex);return a?(r=e.routeNames.map(function(r){var s=n.find(function(t){return t.screen===r&&(0,_r(d[8]).arrayStartsWith)(e.segments,t.segments)}),i=s&&a.groups?Object.fromEntries(Object.entries(a.groups).map(function(e){var n=(0,t.default)(e,2),a=n[0],i=n[1],u=Number(a.replace('param_','')),o=s.params.find(function(e){return e.index===u});return(null==o?void 0:o.screen)===r&&null!=o&&o.name?[o.name,i]:null}).filter(function(e){return null!=e}).map(function(e){var n,r=(0,t.default)(e,2),a=r[0],i=r[1];if(null==i)return[a,void 0];var u=decodeURIComponent(i);return[a,null!=(n=s.parse)&&n[a]?s.parse[a](u):u]})):void 0;return i&&Object.keys(i).length?{name:r,params:i}:{name:r}}),s=s.replace(a[0],''),1):void 0};for(var u of n)if(0!==(a=i(u))&&1===a)break;return{routes:r,remainingPath:s}},v=function(e,t,n,a,s,i){var u=[];i.push(e),s.push(e);var o=t[e];if('string'==typeof o)a.push({screen:e,path:o}),u.push(y(e,(0,r.default)(i),(0,r.default)(a)));else if('object'==typeof o){var f;if('string'==typeof o.path){if(o.exact&&null==o.path)throw new Error(`Screen '${e}' doesn't specify a 'path'. A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. \`path: ''\`.`);var c=[];if(o.alias)for(var l of o.alias)'string'==typeof l?c.push(y(e,(0,r.default)(i),[].concat((0,r.default)(a),[{screen:e,path:l}]),o.parse)):'object'==typeof l&&c.push(y(e,(0,r.default)(i),l.exact?[{screen:e,path:l.path}]:[].concat((0,r.default)(a),[{screen:e,path:l.path}]),l.parse));o.exact&&(a.length=0),a.push({screen:e,path:o.path}),u.push(y(e,(0,r.default)(i),(0,r.default)(a),o.parse)),u.push.apply(u,c)}if('string'!=typeof o&&'string'!=typeof o.path&&null!=(f=o.alias)&&f.length)throw new Error(`Screen '${e}' doesn't specify a 'path'. A 'path' needs to be specified in order to use 'alias'.`);o.screens&&(o.initialRouteName&&n.push({initialRouteName:o.initialRouteName,parentScreens:s}),Object.keys(o.screens).forEach(function(e){var t=v(e,o.screens,n,(0,r.default)(a),(0,r.default)(s),i);u.push.apply(u,(0,r.default)(t))}))}return i.pop(),u},y=function(e,t,n,s){var i=[],u=function(e){i.push.apply(i,(0,r.default)((0,_r(d[9]).getPatternParts)(c).map(function(t){return Object.assign({},t,{screen:e})})))};for(var o of n){var f=o.screen,c=o.path;u(f)}return{screen:e,regex:i.length?new RegExp(`^(${i.map(function(e,t){return e.param?`(((?<param_${t}>${e.regex||'[^/]+'})\\/)${e.optional?'?':''})`:`${'*'===e.segment?'.*':(0,a.default)(e.segment)}\\/`}).join('')})$`):void 0,segments:i.map(function(e){return e.segment}),params:i.map(function(e,t){return e.param?{index:t,screen:e.screen,name:e.param}:null}).filter(function(e){return null!=e}),routeNames:t,parse:s}},b=function(e,t){for(var n of t)if(e===n.routeNames[n.routeNames.length-1])return n.parse},j=function(e,t,n){for(var r of n)if(t.length===r.parentScreens.length){for(var a=!0,s=0;s<t.length;s++)if(0!==t[s].localeCompare(r.parentScreens[s])){a=!1;break}if(a)return e!==r.initialRouteName?r.initialRouteName:void 0}},x=function(e,t,n){return n?e?{index:1,routes:[{name:e},t]}:{routes:[t]}:e?{index:1,routes:[{name:e},Object.assign({},t,{state:{routes:[]}})]}:{routes:[Object.assign({},t,{state:{routes:[]}})]}},O=function(e,t,n,r){var a=t.shift(),s=[],i=j(a.name,s,n);s.push(a.name);var u=x(i,a,0===t.length);if(t.length>0)for(var o=u;a=t.shift();){i=j(a.name,s,n);var f=o.index||o.routes.length-1;o.routes[f].state=x(i,a,0===t.length),t.length>0&&(o=o.routes[f].state),s.push(a.name)}(a=(0,_r(d[10]).findFocusedRoute)(u)).path=e.replace(/\/$/,'');var c=N(e,r?b(a.name,r):void 0);return c&&(a.params=Object.assign({},a.params,c)),u},N=function(e,t){var n=e.split('?')[1],r=s.parse(n);return t&&Object.keys(r).forEach(function(e){Object.hasOwnProperty.call(t,e)&&'string'==typeof r[e]&&(r[e]=t[e](r[e]))}),Object.keys(r).length?r:void 0}},566,[1,34,66,42,567,559,564,568,569,565,530]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){if('string'!=typeof t)throw new TypeError('Expected a string');return t.replace(/[|\\{}()[\]^$+*?.]/g,'\\$&').replace(/-/g,'\\x2d')}},567,[]);
__d(function(g,r,i,_a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayEqual=function(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;return t.every(function(t,u){return Object.is(t,n[u])})}},568,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayStartsWith=function(t,n){if(n.length>t.length)return!1;return n.every(function(n,u){return n===t[u]})}},569,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useFocusEffect=function(t){var n=(0,_r(d[1]).useNavigation)();if(void 0!==arguments[1]){console.error("You passed a second argument to 'useFocusEffect', but it only accepts one argument. If you want to pass a dependency array, you can use 'React.useCallback':\n\nuseFocusEffect(\n  React.useCallback(() => {\n    // Your code here\n  }, [depA, depB])\n);\n\nSee usage guide: https://reactnavigation.org/docs/use-focus-effect")}e.useEffect(function(){var e,o=!1,u=function(){var e=t();if(void 0===e||'function'==typeof e)return e};n.isFocused()&&(e=u(),o=!0);var r=n.addListener('focus',function(){o||(void 0!==e&&e(),e=u(),o=!0)}),c=n.addListener('blur',function(){void 0!==e&&e(),e=void 0,o=!1});return function(){void 0!==e&&e(),r(),c()}},[t,n])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,r,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(u=t?o:n){if(u.has(e))return u.get(e);u.set(e,c)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((r=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(r.get||r.set)?u(c,f,r):c[f]=e[f]);return c})(e,t)})(_r(d[0]))},570,[75,571]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigation=function(){var t=e.useContext(_r(d[1]).NavigationContainerRefContext),n=e.useContext(_r(d[2]).NavigationContext);if(void 0===n&&void 0===t)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");return null!=n?n:t};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?r(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},571,[75,534,541]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useIsFocused=function(){var t=(0,_r(d[1]).useNavigation)(),r=e.useCallback(function(e){var r=t.addListener('focus',e),n=t.addListener('blur',e);return function(){r(),n()}},[t]);return e.useSyncExternalStore(r,t.isFocused,t.isFocused)};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},572,[75,571]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationBuilder=function(e,c){var f,h,L,S=(0,_r(d[12]).useRegisterNavigator)(),N=s.useContext(_r(d[13]).NavigationRouteContext),C=c.children,E=c.layout,b=c.screenOptions,O=c.screenLayout,R=c.screenListeners,A=c.UNSTABLE_router,w=(0,r.default)(c,p),j=v(C),k=(0,_r(d[14]).useLazyValue)(function(){if(null!=w.initialRouteName&&j.every(function(e){return e.props.name!==w.initialRouteName}))throw new Error(`Couldn't find a screen named '${w.initialRouteName}' to use as 'initialRouteName'.`);var t=e(w);if(null!=A){var n=A(t);return Object.assign({},t,n)}return t}),P=j.reduce(function(e,t){if(t.props.name in e)throw new Error(`A navigator cannot contain multiple 'Screen' components with the same name (found duplicate screen named '${t.props.name}')`);return e[t.props.name]=t,e},{}),_=j.map(function(e){return e.props.name}),G=_.reduce(function(e,t){return e[t]=P[t].keys.map(function(e){return null!=e?e:''}).join(':'),e},{}),I=_.reduce(function(e,t){var n=P[t].props.initialParams;return e[t]=n,e},{}),K=_.reduce(function(e,t){return Object.assign(e,(0,n.default)({},t,P[t].props.getId))},{});if(!_.length)throw new Error("Couldn't find any screens for the navigator. Have you defined any screens as its children?");var U=s.useCallback(function(e){return void 0===e.type||e.type===k.type},[k.type]),B=s.useCallback(function(e){return void 0!==e&&!1===e.stale&&U(e)},[U]),x=s.useCallback(function(e){return e.routes.every(function(e){return!_.includes(e.name)})},[_]),$=s.useContext(_r(d[15]).NavigationStateContext),F=$.state,T=$.getState,M=$.setState,V=$.setKey,J=$.getKey,H=$.getIsInitial,W=s.useRef(!1),q=(0,u.default)(function(e){W.current||M(e)}),z=s.useMemo(function(){var e,t,n,r=_.reduce(function(e,t){var n,r,o,i=P[t].props.initialParams,s=null==(null==N||null==(n=N.params)?void 0:n.state)&&!1!==(null==N||null==(r=N.params)?void 0:r.initial)&&(null==N||null==(o=N.params)?void 0:o.screen)===t?N.params.params:void 0;return e[t]=void 0!==i||void 0!==s?Object.assign({},i,s):void 0,e},{});if(void 0!==F&&U(F)||null!=(null==N||null==(e=N.params)?void 0:e.state)||'string'==typeof(null==N||null==(t=N.params)?void 0:t.screen)&&!1!==(null==N||null==(n=N.params)?void 0:n.initial)){var o=y(null==N?void 0:N.params),i=null!=o?o:F,s=k.getRehydratedState(i,{routeNames:_,routeParamList:r,routeGetIdList:K});return'lastUnhandled'===c.UNSTABLE_routeNamesChangeBehavior&&x(i)?[i,s,!0]:[void 0,s,!1]}return[void 0,k.getInitialState({routeNames:_,routeParamList:r,routeGetIdList:K}),!0]},[F,k,U]),D=(0,t.default)(z,3),Q=D[0],X=D[1],Y=D[2],Z=s.useRef(G);s.useEffect(function(){Z.current=G});var ee=Z.current,te=s.useState(Q),ne=(0,t.default)(te,2),re=ne[0],ae=ne[1];'lastUnhandled'===c.UNSTABLE_routeNamesChangeBehavior&&Q&&re!==Q&&ae(Q);var oe=B(F)?F:X,ie=oe,se=!1;null!=re&&re.routes.every(function(e){return _.includes(e.name)})&&null!=(f=oe)&&f.routes.every(function(e){return!_.includes(e.name)})?(se=!0,ie=k.getRehydratedState(re,{routeNames:_,routeParamList:I,routeGetIdList:K})):(0,_r(d[16]).isArrayEqual)(oe.routeNames,_)&&(0,_r(d[17]).isRecordEqual)(G,ee)||(ie=k.getStateForRouteNamesChange(oe,{routeNames:_,routeParamList:I,routeGetIdList:K,routeKeyChanges:Object.keys(G).filter(function(e){return e in ee&&G[e]!==ee[e]})}));var ue=s.useRef(null==N?void 0:N.params);if(s.useEffect(function(){ue.current=null==N?void 0:N.params},[null==N?void 0:N.params]),null!=N&&N.params){var le,pe=ue.current;if('object'==typeof N.params.state&&null!=N.params.state&&N.params!==pe)'lastUnhandled'===c.UNSTABLE_routeNamesChangeBehavior&&x(N.params.state)?N.params.state!==re&&ae(N.params.state):le=_r(d[18]).CommonActions.reset(N.params.state);else if('string'==typeof N.params.screen&&(!1===N.params.initial&&Y||N.params!==pe))if('lastUnhandled'!==c.UNSTABLE_routeNamesChangeBehavior||_.includes(N.params.screen))le=_r(d[18]).CommonActions.navigate({name:N.params.screen,params:N.params.params,path:N.params.path,merge:N.params.merge,pop:N.params.pop});else{var de=y(N.params);null==de||(0,i.default)(de,re)||ae(de)}var ce=le?k.getStateForAction(ie,le,{routeNames:_,routeParamList:I,routeGetIdList:K}):null;ie=null!==ce?k.getRehydratedState(ce,{routeNames:_,routeParamList:I,routeGetIdList:K}):ie}var fe=oe!==ie||'object'==typeof(null==N||null==(h=N.params)?void 0:h.state)||'string'==typeof(null==N||null==(L=N.params)?void 0:L.screen);(0,_r(d[19]).useScheduleUpdate)(function(){fe&&(q(ie),se&&ae(void 0))}),oe=ie,s.useEffect(function(){return W.current=!1,V(S),H()||q(ie),function(){void 0!==T()&&J()===S&&(M(void 0),W.current=!0)}},[]);var me=s.useRef(oe);me.current=oe,(0,_r(d[20]).useClientLayoutEffect)(function(){me.current=null});var ve=(0,u.default)(function(){var e=T();return(0,_r(d[21]).deepFreeze)(B(e)?e:X)}),ye=(0,_r(d[22]).useEventEmitter)(function(e){var t,n,r,i=[];e.target?null!=(r=n=oe.routes.find(function(t){return t.key===e.target}))&&r.name&&i.push(n.name):(n=oe.routes[oe.index],i.push.apply(i,(0,o.default)(Object.keys(P).filter(function(e){var t;return(null==(t=n)?void 0:t.name)===e}))));if(null!=n){var s=ke[n.key].navigation;(t=[]).concat.apply(t,(0,o.default)([R].concat((0,o.default)(i.map(function(e){return P[e].props.listeners}))).map(function(t){var r='function'==typeof t?t({route:n,navigation:s}):t;return r?Object.keys(r).filter(function(t){return t===e.type}).map(function(e){return null==r?void 0:r[e]}):void 0}))).filter(function(e,t,n){return e&&n.lastIndexOf(e)===t}).forEach(function(t){return null==t?void 0:t(e)})}});(0,_r(d[23]).useFocusEvents)({state:oe,emitter:ye}),s.useEffect(function(){ye.emit({type:'state',data:{state:oe}})},[ye,oe]);var ge=(0,_r(d[24]).useChildListeners)(),he=ge.listeners,Le=ge.addListener,Se=(0,_r(d[25]).useKeyedChildListeners)(),Ne=Se.keyedListeners,Ce=Se.addKeyedListener,Ee=(0,_r(d[26]).useOnAction)({router:k,getState:ve,setState:q,key:null==N?void 0:N.key,actionListeners:he.action,beforeRemoveListeners:Ne.beforeRemove,routerConfigOptions:{routeNames:_,routeParamList:I,routeGetIdList:K},emitter:ye}),be=(0,_r(d[27]).useOnRouteFocus)({router:k,key:null==N?void 0:N.key,getState:ve,setState:q}),Oe=s.useContext(_r(d[28]).UnhandledActionContext),Re=(0,u.default)(function(e){if('lastUnhandled'===c.UNSTABLE_routeNamesChangeBehavior&&'NAVIGATE'===e.type&&null!=e.payload&&'name'in e.payload&&'string'==typeof e.payload.name&&!_.includes(e.payload.name)){var t={routes:[{name:e.payload.name,params:'params'in e.payload&&'object'==typeof e.payload.params&&null!==e.payload.params?e.payload.params:void 0,path:'path'in e.payload&&'string'==typeof e.payload.path?e.payload.path:void 0}]};ae(t)}null==Oe||Oe(e)}),Ae=(0,_r(d[29]).useNavigationHelpers)({id:c.id,onAction:Ee,onUnhandledAction:Re,getState:ve,emitter:ye,router:k,stateRef:me});(0,_r(d[30]).useFocusedListenersChildrenAdapter)({navigation:Ae,focusedListeners:he.focus}),(0,_r(d[31]).useOnGetState)({getState:ve,getStateListeners:Ne.getState});var we=(0,_r(d[32]).useDescriptors)({state:oe,screens:P,navigation:Ae,screenOptions:b,screenLayout:O,onAction:Ee,getState:ve,setState:q,onRouteFocus:be,addListener:Le,addKeyedListener:Ce,router:k,emitter:ye}),je=we.describe,ke=we.descriptors;(0,_r(d[33]).useCurrentRender)({state:oe,navigation:Ae,descriptors:ke});var Pe=(0,_r(d[34]).useComponent)(function(e){var t=null!=E?E({state:oe,descriptors:ke,navigation:Ae,children:e}):e;return(0,l.jsx)(_r(d[35]).NavigationHelpersContext.Provider,{value:Ae,children:(0,l.jsx)(_r(d[36]).NavigationStateListenerProvider,{state:oe,children:(0,l.jsx)(_r(d[37]).PreventRemoveProvider,{children:t})})})});return{state:oe,navigation:Ae,describe:je,descriptors:ke,NavigationContent:Pe}};var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),i=e(_r(d[5])),s=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(s,u,i):s[u]=e[u]);return s})(e,t)})(_r(d[6])),u=e(_r(d[7])),l=_r(d[8]),p=["children","layout","screenOptions","screenLayout","screenListeners","UNSTABLE_router"];_r(d[9]).PrivateValueStore;var c=function(e){return e.type===_r(d[10]).Screen},f=function(e){return e.type===s.Fragment||e.type===_r(d[11]).Group},v=function(e,t,n,r){return s.Children.toArray(e).reduce(function(e,i){var u,l,p;if(s.isValidElement(i)){if(c(i)){if('object'!=typeof i.props||null===i.props)throw new Error("Got an invalid element for screen.");if('string'!=typeof i.props.name||''===i.props.name)throw new Error(`Got an invalid name (${JSON.stringify(i.props.name)}) for the screen. It must be a non-empty string.`);if(void 0!==i.props.navigationKey&&('string'!=typeof i.props.navigationKey||''===i.props.navigationKey))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(i.props.navigationKey)}) for the screen '${i.props.name}'. It must be a non-empty string or 'undefined'.`);return e.push({keys:[t,i.props.navigationKey],options:n,layout:r,props:i.props}),e}if(f(i)){if(void 0!==(p=i.props.navigationKey)&&('string'!=typeof p||''===p))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(i.props.navigationKey)}) for the group. It must be a non-empty string or 'undefined'.`);return e.push.apply(e,(0,o.default)(v(i.props.children,i.props.navigationKey,i.type!==_r(d[11]).Group?n:null!=n?[].concat((0,o.default)(n),[i.props.screenOptions]):[i.props.screenOptions],'function'==typeof i.props.screenLayout?i.props.screenLayout:r))),e}}throw new Error(`A navigator can only contain 'Screen', 'Group' or 'React.Fragment' as its direct children (found ${s.isValidElement(i)?`'${'string'==typeof i.type?i.type:null==(u=i.type)?void 0:u.name}'${null!=i.props&&'object'==typeof i.props&&'name'in i.props&&null!=(l=i.props)&&l.name?` for the screen '${i.props.name}'`:''}`:'object'==typeof i?JSON.stringify(i):`'${String(i)}'`}). To render this component in the navigator, pass it in the 'component' prop to 'Screen'.`)},[])},y=function(e){return null!=(null==e?void 0:e.state)?e.state:'string'==typeof(null==e?void 0:e.screen)&&!1!==(null==e?void 0:e.initial)?{routes:[{name:e.screen,params:e.params,path:e.path}]}:void 0}},573,[1,34,66,4,42,574,75,510,244,575,552,553,576,544,577,512,568,557,520,578,579,516,531,580,517,518,581,583,535,584,585,586,587,592,593,542,594,546]);
__d(function(g,r,_i,_a,m,e,d){'use strict';m.exports=function t(n,o){if(n===o)return!0;if(n&&o&&'object'==typeof n&&'object'==typeof o){if(n.constructor!==o.constructor)return!1;var f,u,i;if(Array.isArray(n)){if((f=n.length)!=o.length)return!1;for(u=f;0!==u--;)if(!t(n[u],o[u]))return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===o.toString();if((f=(i=Object.keys(n)).length)!==Object.keys(o).length)return!1;for(u=f;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,i[u]))return!1;for(u=f;0!==u--;){var c=i[u];if(!t(n[c],o[c]))return!1}return!0}return n!=n&&o!=o}},574,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.PrivateValueStore=void 0;var u=t(r(d[1])),o=t(r(d[2]));e.PrivateValueStore=(0,u.default)(function t(){(0,o.default)(this,t)})},575,[1,12,11]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useRegisterNavigator=function(){var e=r.useState(function(){return(0,_r(d[3]).nanoid)()}),n=(0,t.default)(e,1)[0],i=r.useContext(_r(d[4]).SingleNavigatorContext);if(void 0===i)throw new Error("Couldn't register the navigator. Have you wrapped your app with 'NavigationContainer'?\n\nThis can also happen if there are multiple copies of '@react-navigation' packages installed.");return r.useEffect(function(){var e=i.register,t=i.unregister;return e(n),function(){return t(n)}},[i,n]),n};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?i(u,f,o):u[f]=e[f]);return u})(e,t)})(_r(d[2]))},576,[1,34,75,522,537]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLazyValue=function(t){var r=e.useRef(void 0);void 0===r.current&&(r.current=t());return r.current};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[0]))},577,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useScheduleUpdate=function(t){var n=e.useContext(_r(d[1]).NavigationBuilderContext),r=n.scheduleUpdate,u=n.flushUpdates;r(t),(0,_r(d[2]).useClientLayoutEffect)(u)};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[0]))},578,[75,533,579]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useClientLayoutEffect=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,f=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?f:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?r(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.useClientLayoutEffect='undefined'!=typeof document||'undefined'!=typeof navigator&&'ReactNative'===navigator.product?e.useLayoutEffect:e.useEffect},579,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useFocusEvents=function(t){var r=t.state,n=t.emitter,u=e.useContext(_r(d[1]).NavigationContext),o=e.useRef(void 0),i=r.routes[r.index].key;e.useEffect(function(){return null==u?void 0:u.addListener('focus',function(){o.current=i,n.emit({type:'focus',target:i})})},[i,n,u]),e.useEffect(function(){return null==u?void 0:u.addListener('blur',function(){o.current=void 0,n.emit({type:'blur',target:i})})},[i,n,u]),e.useEffect(function(){var e=o.current;o.current=i,void 0!==e||u||n.emit({type:'focus',target:i}),e===i||u&&!u.isFocused()||void 0!==e&&(n.emit({type:'blur',target:e}),n.emit({type:'focus',target:i}))},[i,n,u])};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},580,[75,541]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOnAction=function(t){var n=t.router,r=t.getState,o=t.setState,i=t.key,u=t.actionListeners,f=t.beforeRemoveListeners,s=t.routerConfigOptions,c=t.emitter,l=e.useContext(_r(d[1]).NavigationBuilderContext),v=l.onAction,p=l.onRouteFocus,y=l.addListener,_=l.onDispatchAction,h=e.useContext(_r(d[2]).DeprecatedNavigationInChildContext),k=e.useRef(s);e.useEffect(function(){k.current=s});var C=e.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,s=r();if(t.has(s.key))return!1;if(t.add(s.key),'string'!=typeof e.target||e.target===s.key){var l=n.getStateForAction(s,e,k.current);if(null!==(l=null===l&&e.target===s.key?s:l)){if(_(e,s===l),s!==l){if((0,_r(d[3]).shouldPreventRemove)(c,f,s.routes,l.routes,e))return!0;o(l)}if(void 0!==p)n.shouldActionChangeFocus(e)&&void 0!==i&&p(i);return!0}}if(void 0!==v&&v(e,t))return!0;if('string'==typeof e.target||'NAVIGATE_DEPRECATED'===e.type||h)for(var y=u.length-1;y>=0;y--){if((0,u[y])(e,t))return!0}return!1},[u,f,c,r,h,i,v,_,p,n,o]);return(0,_r(d[3]).useOnPreventRemove)({getState:r,emitter:c,beforeRemoveListeners:f}),e.useEffect(function(){return null==y?void 0:y('action',C)},[y,C]),C};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},581,[75,533,536,582]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.shouldPreventRemove=void 0,_e.useOnPreventRemove=function(e){var t=e.getState,r=e.emitter,u=e.beforeRemoveListeners,i=n.useContext(_r(d[3]).NavigationBuilderContext).addKeyedListener,f=n.useContext(_r(d[4]).NavigationRouteContext),l=null==f?void 0:f.key;n.useEffect(function(){if(l)return null==i?void 0:i('beforeRemove',l,function(e){var n=t();return o(r,u,n.routes,[],e)})},[i,u,r,t,l])};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[2]));var r=Symbol('VISITED_ROUTE_KEYS'),o=_e.shouldPreventRemove=function(e,n,o,u,i){var f,l=u.map(function(e){return e.key}),v=o.filter(function(e){return!l.includes(e.key)}).reverse(),c=null!=(f=i[r])?f:new Set,s=Object.assign({},i,(0,t.default)({},r,c));for(var y of v){var p;if(!c.has(y.key)){if(null==(p=n[y.key])?void 0:p.call(n,s))return!0;if(c.add(y.key),e.emit({type:'beforeRemove',target:y.key,data:{action:s},canPreventDefault:!0}).defaultPrevented)return!0}}return!1}},582,[1,66,75,533,544]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOnRouteFocus=function(t){var o=t.router,r=t.getState,n=t.key,u=t.setState,i=e.useContext(_r(d[1]).NavigationBuilderContext).onRouteFocus;return e.useCallback(function(e){var t=r(),f=o.getStateForRouteFocus(t,e);f!==t&&u(f),void 0!==i&&void 0!==n&&i(n)},[r,i,o,u,n])};var e=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?n(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},583,[75,533]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationHelpers=function(e){var n=e.id,r=e.onAction,o=e.onUnhandledAction,u=e.getState,i=e.emitter,c=e.router,f=e.stateRef,s=t.useContext(_r(d[2]).NavigationContext);return t.useMemo(function(){var t=function(t){var e='function'==typeof t?t(u()):t;r(e)||null==o||o(e)},e=Object.assign({},c.actionCreators,_r(d[3]).CommonActions),l=Object.keys(e).reduce(function(n,r){return n[r]=function(){return t(e[r].apply(e,arguments))},n},{}),p=Object.assign({},s,l,{dispatch:t,emit:i.emit,isFocused:s?s.isFocused:function(){return!0},canGoBack:function(){var t=u();return null!==c.getStateForAction(t,_r(d[3]).CommonActions.goBack(),{routeNames:t.routeNames,routeParamList:{},routeGetIdList:{}})||(null==s?void 0:s.canGoBack())||!1},getId:function(){return n},getParent:function(t){if(void 0!==t){for(var e=p;e&&t!==e.getId();)e=e.getParent();return e}return s},getState:function(){return null!=f.current?f.current:u()}});return p},[c,s,i.emit,u,r,o,n,f])};var t=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var o,u,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(o=e?r:n){if(o.has(t))return o.get(t);o.set(t,i)}for(var c in t)"default"!==c&&{}.hasOwnProperty.call(t,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,c))&&(u.get||u.set)?o(i,c,u):i[c]=t[c]);return i})(t,e)})(_r(d[0]));_r(d[1]).PrivateValueStore},584,[75,575,541,520]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useFocusedListenersChildrenAdapter=function(t){var n=t.navigation,r=t.focusedListeners,u=e.useContext(_r(d[1]).NavigationBuilderContext).addListener,o=e.useCallback(function(e){if(n.isFocused()){for(var t of r){var u=t(e),o=u.handled,i=u.result;if(o)return{handled:o,result:i}}return{handled:!0,result:e(n)}}return{handled:!1,result:null}},[r,n]);e.useEffect(function(){return null==u?void 0:u('focus',o)},[u,o])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},585,[75,533]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOnGetState=function(t){var n=t.getState,r=t.getStateListeners,u=e.useContext(_r(d[1]).NavigationBuilderContext).addKeyedListener,o=e.useContext(_r(d[2]).NavigationRouteContext),i=o?o.key:'root',s=e.useCallback(function(){var e=n(),t=e.routes.map(function(e){var t,n=null==(t=r[e.key])?void 0:t.call(r);return e.state===n?e:Object.assign({},e,{state:n})});return(0,_r(d[3]).isArrayEqual)(e.routes,t)?e:Object.assign({},e,{routes:t})},[n,r]);e.useEffect(function(){return null==u?void 0:u('getState',i,s)},[u,s,i])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,i)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?u(i,s,o):i[s]=e[s]);return i})(e,t)})(_r(d[0]))},586,[75,533,544,568]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useDescriptors=function(e){var s=e.state,c=e.screens,f=e.navigation,l=e.screenOptions,p=e.screenLayout,v=e.onAction,y=e.getState,h=e.setState,k=e.addListener,b=e.addKeyedListener,C=e.onRouteFocus,j=e.router,x=e.emitter,O=o.useContext(_r(d[6]).ThemeContext),w=o.useState({}),S=(0,r.default)(w,2),_=S[0],P=S[1],M=o.useContext(_r(d[7]).NavigationBuilderContext),N=M.onDispatchAction,R=M.onOptionsChange,L=M.scheduleUpdate,A=M.flushUpdates,D=M.stackRef,U=o.useMemo(function(){return{navigation:f,onAction:v,addListener:k,addKeyedListener:b,onRouteFocus:C,onDispatchAction:N,onOptionsChange:R,scheduleUpdate:L,flushUpdates:A,stackRef:D}},[f,v,k,b,C,N,R,L,A,D]),B=(0,_r(d[8]).useNavigationCache)({state:s,getState:y,navigation:f,setOptions:P,router:j,emitter:x}),W=B.base,E=B.navigations,F=(0,_r(d[9]).useRouteCache)(s.routes),K=function(e,t,r){var o=c[e.name],i=o.props;return[l].concat((0,n.default)(o.options?o.options.filter(Boolean):[]),[i.options,r]).reduce(function(n,r){return Object.assign(n,'function'!=typeof r?r:r({route:e,navigation:t,theme:O}))},{})},T=function(e,n,r,o){var s,f,l=c[e.name],v=l.props,k=null!=(s=null!=(f=v.layout)?f:l.layout)?s:p,b=(0,i.jsx)(_r(d[10]).SceneView,{navigation:n,route:e,screen:v,routeState:o,getState:y,setState:h,options:r,clearOptions:function(){return P(function(n){if(e.key in n){var r=e.key;n[r];return(0,t.default)(n,[r].map(u))}return n})}});return null!=k&&(b=k({route:e,navigation:n,options:r,theme:O,children:b})),(0,i.jsx)(_r(d[7]).NavigationBuilderContext.Provider,{value:U,children:(0,i.jsx)(_r(d[11]).NavigationContext.Provider,{value:n,children:(0,i.jsx)(_r(d[12]).NavigationRouteContext.Provider,{value:e,children:b})})},e.key)},V=F.reduce(function(e,t,n){var r=E[t.key],o=K(t,r,_[t.key]),i=T(t,r,o,s.routes[n].state);return e[t.key]={route:t,navigation:r,render:function(){return i},options:o},e},{});return{describe:function(e,t){if(!t){if(!(e.key in V))throw new Error(`Couldn't find a route with the key ${e.key}.`);return V[e.key]}var n=W,r=K(e,n,{}),o=T(e,n,r,void 0);return{route:e,navigation:n,render:function(){return o},options:r}},descriptors:V}};var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?o(u,s,i):u[s]=e[s]);return u})(e,t)})(_r(d[4])),i=_r(d[5]);function u(e){var t=s(e,"string");return"symbol"==typeof t?t:t+""}function s(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},587,[1,4,42,34,75,244,539,533,588,556,589,541,544]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationCache=function(e){var i=e.state,u=e.getState,c=e.navigation,s=e.setOptions,f=e.router,l=e.emitter,p=(r.useContext(_r(d[4]).NavigationBuilderContext).stackRef,r.useMemo(function(){c.emit;var e=(0,n.default)(c,o),t=Object.assign({},f.actionCreators,_r(d[5]).CommonActions),r=function(){throw new Error('Actions cannot be dispatched from a placeholder screen.')},i=Object.keys(t).reduce(function(e,t){return e[t]=r,e},{});return Object.assign({},e,i,{addListener:function(){return function(){}},removeListener:function(){},dispatch:r,getParent:function(t){return void 0!==t&&t===e.getId()?p:e.getParent(t)},setOptions:function(){throw new Error('Options cannot be set from a placeholder screen.')},isFocused:function(){return!1}})},[c,f.actionCreators])),y=r.useMemo(function(){return{current:{}}},[p,u,c,s,l]);return y.current=i.routes.reduce(function(e,n){var r=y.current[n.key];if(r)e[n.key]=r;else{var o=function(e){var t='function'==typeof e?e(u()):e;null!=t&&c.dispatch(Object.assign({source:n.key},t))},i=function(e){try{e()}finally{}},v=Object.assign({},f.actionCreators,_r(d[5]).CommonActions),O=Object.keys(v).reduce(function(e,t){return e[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i(function(){return o(v[t].apply(v,n))})},e},{});e[n.key]=Object.assign({},p,O,l.create(n.key),{dispatch:function(e){return i(function(){return o(e)})},getParent:function(t){return void 0!==t&&t===p.getId()?e[n.key]:p.getParent(t)},setOptions:function(e){s(function(r){return Object.assign({},r,(0,t.default)({},n.key,Object.assign({},r[n.key],e)))})},isFocused:function(){var e=p.getState();return e.routes[e.index].key===n.key&&(!c||c.isFocused())}})}return e},{}),{base:p,navigations:y.current}};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(i.get||i.set)?o(u,c,i):u[c]=e[c]);return u})(e,t)})(_r(d[3])),o=["emit"]},588,[1,66,4,75,533,520]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SceneView=function(e){var o=e.screen,u=e.route,c=e.navigation,f=e.routeState,l=e.getState,p=e.setState,v=e.options,y=e.clearOptions,k=n.useRef(void 0),b=n.useCallback(function(){return k.current},[]),j=(0,_r(d[4]).useOptionsGetters)({key:u.key,options:v,navigation:c}).addOptionsGetter,O=n.useCallback(function(e){k.current=e},[]),h=n.useCallback(function(){var e=l().routes.find(function(e){return e.key===u.key});return e?e.state:void 0},[l,u.key]),C=n.useCallback(function(e){var n=l(),r=n.routes.map(function(n){if(n.key!==u.key)return n;var r=n.state!==e?Object.assign({},n,{state:e}):n;if(r.params&&('state'in r.params&&'object'==typeof r.params.state&&null!==r.params.state||'screen'in r.params&&'string'==typeof r.params.screen)){var o=r.params,c=(o.state,o.screen,o.params,o.initial,(0,t.default)(o,s));if(Object.keys(c).length)return Object.assign({},r,{params:c});r.params;return(0,t.default)(r,i)}return r});(0,_r(d[5]).isArrayEqual)(n.routes,r)||p(Object.assign({},n,{routes:r}))},[l,u.key,p]),S=n.useRef(!0);n.useEffect(function(){S.current=!1}),n.useEffect(function(){return y},[]);var _=n.useCallback(function(){return S.current},[]),x=n.useContext(_r(d[6]).NavigationFocusedRouteStateContext),M=n.useMemo(function(){var e={routes:[{key:u.key,name:u.name,params:u.params,path:u.path}]},t=function(n){var r=null==n?void 0:n.routes[0];return r?{routes:[Object.assign({},r,{state:t(r.state)})]}:e};return t(x)},[x,u.key,u.name,u.params,u.path]),P=n.useMemo(function(){return{state:f,getState:h,setState:C,getKey:b,setKey:O,getIsInitial:_,addOptionsGetter:j}},[f,h,C,b,O,_,j]),w=o.getComponent?o.getComponent():o.component;return(0,r.jsx)(_r(d[7]).NavigationStateContext.Provider,{value:P,children:(0,r.jsx)(_r(d[6]).NavigationFocusedRouteStateContext.Provider,{value:M,children:(0,r.jsx)(_r(d[8]).EnsureSingleNavigator,{children:(0,r.jsx)(_r(d[9]).StaticContainer,{name:o.name,render:w||o.children,navigation:c,route:u,children:void 0!==w?(0,r.jsx)(w,{navigation:c,route:u}):void 0!==o.children?o.children({navigation:c,route:u}):null})})})})};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var s,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(s=t?r:n){if(s.has(e))return s.get(e);s.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?s(o,u,i):o[u]=e[u]);return o})(e,t)})(_r(d[2])),r=_r(d[3]),s=["state","screen","params","initial"],i=["params"]},589,[1,4,75,244,532,568,590,512,537,591]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationFocusedRouteStateContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?r(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]));_e.NavigationFocusedRouteStateContext=e.createContext(void 0)},590,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.StaticContainer=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.StaticContainer=e.memo(function(e){return e.children},function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o of r)if('children'!==o&&e[o]!==t[o])return!1;return!0})},591,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useCurrentRender=function(t){var n=t.state,r=t.navigation,o=t.descriptors,u=e.useContext(_r(d[1]).CurrentRenderContext);u&&r.isFocused()&&(u.options=o[n.routes[n.index].key].options)};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},592,[75,540]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useComponent=function(t){var u=e.useRef(t);return u.current=t,e.useEffect(function(){u.current=null}),e.useRef(function(e){var t=e.children,o=u.current;if(null===o)throw new Error('The returned component must be rendered in the same render phase as the hook.');return(0,r.jsx)(n,{render:o,children:t})}).current};var e=(function(e,r){if("function"==typeof WeakMap)var n=new WeakMap,t=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=r?t:n){if(u.has(e))return u.get(e);u.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?u(f,c,o):f[c]=e[c]);return f})(e,r)})(_r(d[0])),r=_r(d[1]);var n=function(e){return(0,e.render)(e.children)}},593,[75,244]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationStateListenerProvider=function(e){var o=e.state,i=e.children,c=t.useRef([]),f=(0,r.default)(function(){return o}),s=(0,r.default)(function(e){return c.current.push(e),function(){c.current=c.current.filter(function(t){return t!==e})}});t.useEffect(function(){c.current.forEach(function(e){return e()})},[o]);var l=t.useMemo(function(){return{getState:f,subscribe:s}},[f,s]);return(0,n.jsx)(u.Provider,{value:l,children:i})},_e.useNavigationState=function(e){var r=t.useContext(u);if(null==r)throw new Error("Couldn't get the navigation state. Is your component inside a navigator?");return(0,_r(d[4]).useSyncExternalStoreWithSelector)(r.subscribe,r.getState,r.getState,e)};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?u(i,c,o):i[c]=e[c]);return i})(e,t)})(_r(d[1])),r=e(_r(d[2])),n=_r(d[3]);var u=t.createContext(void 0)},594,[1,75,510,244,595]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},595,[596]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * use-sync-external-store-with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var u=r(d[0]);var n="function"==typeof Object.is?Object.is:function(u,n){return u===n&&(0!==u||1/u==1/n)||u!=u&&n!=n},t=u.useSyncExternalStore,l=u.useRef,c=u.useEffect,f=u.useMemo,o=u.useDebugValue;e.useSyncExternalStoreWithSelector=function(u,v,s,S,h){var V=l(null);if(null===V.current){var b={hasValue:!1,value:null};V.current=b}else b=V.current;V=f(function(){function u(u){if(!c){if(c=!0,t=u,u=S(u),void 0!==h&&b.hasValue){var f=b.value;if(h(f,u))return l=f}return l=u}if(f=l,n(t,u))return f;var o=S(u);return void 0!==h&&h(f,o)?(t=u,f):(t=u,l=o)}var t,l,c=!1,f=void 0===s?null:s;return[function(){return u(v())},null===f?void 0:function(){return u(f())}]},[v,s,S,h]);var y=t(u,V[0],V[1]);return c(function(){b.hasValue=!0,b.value=y},[y]),o(y),y}},596,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationContainerRef=function(){var t=e.useRef(null);null==t.current&&(t.current=(0,_r(d[1]).createNavigationContainerRef)());return t.current};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[0]))},597,[75,519]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.usePreventRemove=function(e,u){var o=n.useState(function(){return(0,_r(d[4]).nanoid)()}),f=(0,t.default)(o,1)[0],i=(0,_r(d[5]).useNavigation)(),c=(0,_r(d[6]).useRoute)().key,s=(0,_r(d[7]).usePreventRemoveContext)().setPreventRemove;n.useEffect(function(){return s(f,c,e),function(){s(f,c,!1)}},[s,f,c,e]);var v=(0,r.default)(function(t){e&&(t.preventDefault(),u({data:t.data}))});n.useEffect(function(){return null==i?void 0:i.addListener('beforeRemove',v)},[i,v])};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[2])),r=e(_r(d[3]))},598,[1,34,75,510,522,571,548,599]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.usePreventRemoveContext=function(){var t=e.useContext(_r(d[1]).PreventRemoveContext);if(null==t)throw new Error("Couldn't find the prevent remove context. Is your component inside NavigationContent?");return t};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},599,[75,545]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useStateForPath=function(){return e.useContext(_r(d[1]).NavigationFocusedRouteStateContext)};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0]))},600,[75,590]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useTheme=function(){var t=e.useContext(_r(d[1]).ThemeContext);if(null==t)throw new Error("Couldn't find a theme. Is your component inside NavigationContainer or does it have a theme?");return t};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},601,[75,539]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLinkProps=function(r){var o,i=r.screen,l=r.params,u=r.href,s=r.action,f=e.useContext(_r(d[2]).NavigationContainerRefContext),c=e.useContext(_r(d[2]).NavigationHelpersContext),p=e.useContext(_r(d[3]).LinkingContext).options,v=null!=(o=null==p?void 0:p.getPathFromState)?o:_r(d[2]).getPathFromState;return{href:null!=u?u:'web'===t.Platform.OS&&null!=i?v({routes:[{name:i,params:l,state:n(l)}]},null==p?void 0:p.config):void 0,role:'link',onPress:function(e){var n=!1;if('web'===t.Platform.OS&&e){var r='metaKey'in e&&e.metaKey||'altKey'in e&&e.altKey||'ctrlKey'in e&&e.ctrlKey||'shiftKey'in e&&e.shiftKey,o=!('button'in e)||null==e.button||0===e.button,u=!e.currentTarget||!('target'in e.currentTarget)||[void 0,null,'','self'].includes(e.currentTarget.target);!r&&o&&u&&(null==e.preventDefault||e.preventDefault(),n=!0)}else null==e||null==e.preventDefault||e.preventDefault(),n=!0;if(n)if(s)if(c)c.dispatch(s);else{if(!f)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");f.dispatch(s)}else null==c||c.navigate(i,l)}}};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(l,u,i):l[u]=e[u]);return l})(e,t)})(_r(d[0])),t=_r(d[1]);var n=function(e){return null!=e&&e.state?e.state:null!=e&&e.screen?{routes:[{name:e.screen,params:e.params,state:e.screen?n(e.params):void 0}]}:void 0}},602,[75,2,508,603]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.LinkingContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));(_e.LinkingContext=e.createContext({get options(){throw new Error("Couldn't find a LinkingContext context.")}})).displayName='LinkingContext'},603,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.LocaleDirContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));(_e.LocaleDirContext=e.createContext('ltr')).displayName='LocaleDirContext'},604,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationContainer=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?r(o,u,l):o[u]=e[u]);return o})(e,t)})(_r(d[3])),r=_r(d[4]),l=e(_r(d[5])),o=_r(d[6]),u=["direction","theme","linking","fallback","documentTitle","onReady","onStateChange"];function c(e,c){var f=e.direction,s=void 0===f?r.I18nManager.getConstants().isRTL?'rtl':'ltr':f,v=e.theme,h=void 0===v?_r(d[7]).DefaultTheme:v,p=e.linking,S=e.fallback,C=void 0===S?null:S,P=e.documentTitle,k=e.onReady,b=e.onStateChange,O=(0,n.default)(e,u),T=!!p&&!1!==p.enabled;null!=p&&p.config&&(0,_r(d[8]).validatePathConfig)(p.config);var _=i.useRef(null);(0,_r(d[9]).useBackButton)(_),(0,_r(d[10]).useDocumentTitle)(_,P);var j=i.useState(),x=(0,t.default)(j,2),L=x[0],y=x[1],R=(0,_r(d[11]).useLinking)(_,Object.assign({enabled:T,prefixes:[]},p),y).getInitialState,A=i.useMemo(function(){return{options:p}},[p]),F=i.useMemo(function(){return{lastUnhandledLink:L,setLastUnhandledLink:y}},[L,y]),M=(0,l.default)(function(){var e,t=null==(e=_.current)||null==(e=e.getCurrentRoute())?void 0:e.path;y(function(e){if(e!==t)return e}),null==k||k()}),D=(0,l.default)(function(e){var t,n=null==(t=_.current)||null==(t=t.getCurrentRoute())?void 0:t.path;y(function(e){if(e!==n)return e}),null==b||b(e)});i.useEffect(function(){_.current&&REACT_NAVIGATION_DEVTOOLS.set(_.current,{get linking(){var e,t,n,i;return Object.assign({},p,{enabled:T,prefixes:null!=(e=null==p?void 0:p.prefixes)?e:[],getStateFromPath:null!=(t=null==p?void 0:p.getStateFromPath)?t:_r(d[8]).getStateFromPath,getPathFromState:null!=(n=null==p?void 0:p.getPathFromState)?n:_r(d[8]).getPathFromState,getActionFromState:null!=(i=null==p?void 0:p.getActionFromState)?i:_r(d[8]).getActionFromState})}})});var I=(0,_r(d[12]).useThenable)(R),N=(0,t.default)(I,2),w=N[0],E=N[1];return i.useImperativeHandle(c,function(){return _.current}),null!=O.initialState||!T||w?(0,o.jsx)(_r(d[13]).LocaleDirContext.Provider,{value:s,children:(0,o.jsx)(_r(d[14]).UnhandledLinkingContext.Provider,{value:F,children:(0,o.jsx)(_r(d[15]).LinkingContext.Provider,{value:A,children:(0,o.jsx)(_r(d[8]).BaseNavigationContainer,Object.assign({},O,{theme:h,onReady:M,onStateChange:D,initialState:null==O.initialState?E:O.initialState,ref:_}))})})}):(0,o.jsx)(_r(d[13]).LocaleDirContext.Provider,{value:s,children:(0,o.jsx)(_r(d[8]).ThemeProvider,{value:h,children:C})})}globalThis.REACT_NAVIGATION_DEVTOOLS=new WeakMap;_e.NavigationContainer=i.forwardRef(c)},605,[1,34,4,75,2,510,244,506,508,606,607,608,611,604,612,603]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useBackButton=function(r){e.useEffect(function(){var e=t.BackHandler.addEventListener('hardwareBackPress',function(){var e=r.current;return null!=e&&(!!e.canGoBack()&&(e.goBack(),!0))});return function(){return e.remove()}},[r])};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,c)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(c,f,o):c[f]=e[f]);return c})(e,t)})(_r(d[0])),t=_r(d[1])},606,[75,2]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDocumentTitle=function(){}},607,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLinking=function(r,n,u){var i=n.enabled,o=void 0===i||i,c=n.prefixes,f=n.filter,s=n.config,l=n.getInitialURL,v=void 0===l?function(){return Promise.race([t.Linking.getInitialURL(),new Promise(function(e){setTimeout(e,150)})])}:l,p=n.subscribe,h=void 0===p?function(e){var r,n=function(t){var r=t.url;return e(r)},u=t.Linking.addEventListener('url',n),i=null==(r=t.Linking.removeEventListener)?void 0:r.bind(t.Linking);return function(){null!=u&&u.remove?u.remove():null==i||i('url',n)}}:p,R=n.getStateFromPath,L=void 0===R?_r(d[2]).getStateFromPath:R,P=n.getActionFromState,y=void 0===P?_r(d[2]).getActionFromState:P,b=(0,_r(d[2]).useNavigationIndependentTree)();e.useEffect(function(){},[o,b]);var k=e.useRef(o),_=e.useRef(c),F=e.useRef(f),w=e.useRef(s),U=e.useRef(v),j=e.useRef(L),x=e.useRef(y);e.useEffect(function(){k.current=o,_.current=c,F.current=f,w.current=s,U.current=v,j.current=L,x.current=y});var E=e.useCallback(function(e){if(e&&(!F.current||F.current(e))){var t=(0,_r(d[3]).extractPathFromURL)(_.current,e);return void 0!==t?j.current(t,w.current):void 0}},[]),M=e.useCallback(function(){var e;if(k.current){var t=U.current();if(null!=t){if('string'!=typeof t)return t.then(function(e){var t=E(e);return'string'==typeof e&&u((0,_r(d[3]).extractPathFromURL)(c,e)),t});u((0,_r(d[3]).extractPathFromURL)(c,t))}e=E(t)}var r={then:function(t){return Promise.resolve(t?t(e):e)},catch:function(){return r}};return r},[E,u,c]);return e.useEffect(function(){return h(function(e){if(o){var t=r.current,n=t?E(e):void 0;if(t&&n){u((0,_r(d[3]).extractPathFromURL)(c,e));var i=x.current(n,w.current);if(void 0!==i)try{t.dispatch(i)}catch(t){console.warn(`An error occurred when trying to handle the link '${e}': ${'object'==typeof t&&null!=t&&'message'in t?t.message:t}`)}else t.resetRoot(n)}}})},[o,E,u,c,r,h]),{getInitialState:M}};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(i.get||i.set)?u(o,c,i):o[c]=e[c]);return o})(e,t)})(_r(d[0])),t=_r(d[1])},608,[75,2,508,609]);
__d(function(g,_r,i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.extractPathFromURL=function(e,l){for(var a of e){var u,c,o=null!=(u=null==(c=a.match(/^[^:]+:/))?void 0:c[0])?u:'',f=a.replace(new RegExp(`^${(0,r.default)(o)}`),'').replace(/\/+/g,'/').replace(/^\//,''),p=new RegExp(`^${(0,r.default)(o)}(/)*${f.split('.').map(function(e){return'*'===e?'[^/]+':(0,r.default)(e)}).join('\\.')}`),s=l.split('?'),v=(0,t.default)(s),h=v[0],$=n(v).slice(1),_=h.replace(/\/+/g,'/').concat($.length?`?${$.join('?')}`:'');if(p.test(_))return _.replace(p,'')}return};var t=e(_r(d[1])),r=e(_r(d[2]));function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},609,[1,610,567]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(t){return _r(d[0])(t)||_r(d[1])(t)||_r(d[2])(t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},610,[35,44,37,39]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useThenable=function(e){var u=r.useState(e),f=(0,n.default)(u,1)[0],o=[!1,void 0];f.then(function(e){o=[!0,e]});var i=r.useState(o),c=(0,n.default)(i,2),l=c[0],p=c[1],s=(0,n.default)(l,1)[0];return r.useEffect(function(){var e=!1,n=(function(){var n=(0,t.default)(function*(){var t;try{t=yield f}finally{e||p([!0,t])}});return function(){return n.apply(this,arguments)}})();return s||n(),function(){e=!0}},[f,s]),l};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?u(o,i,f):o[i]=e[i]);return o})(e,t)})(_r(d[3]))},611,[1,356,34,75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnhandledLinkingContext=void 0;var e=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var o,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=n?r:t){if(o.has(e))return o.get(e);o.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(l,f,i):l[f]=e[f]);return l})(e,n)})(_r(d[0]));var n="Couldn't find an UnhandledLinkingContext context.";(_e.UnhandledLinkingContext=e.createContext({get lastUnhandledLink(){throw new Error(n)},get setLastUnhandledLink(){throw new Error(n)}})).displayName='UnhandledLinkingContext'},612,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ServerContainer=void 0;var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,r)})(_r(d[0])),r=_r(d[1]);_e.ServerContainer=e.forwardRef(function(t,n){var o=t.children,i=t.location;e.useEffect(function(){console.error("'ServerContainer' should only be used on the server with 'react-dom/server' for SSR.")},[]);var u={};if(n){var f={getCurrentOptions:function(){return u.options}};'function'==typeof n?n(f):n.current=f}return(0,r.jsx)(_r(d[2]).ServerContext.Provider,{value:{location:i},children:(0,r.jsx)(_r(d[3]).CurrentRenderContext.Provider,{value:u,children:o})})})},613,[75,244,614,508]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ServerContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.ServerContext=e.createContext(void 0)},614,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var n=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createStaticNavigation=function(n){var l=(0,_r(d[4]).createComponentForStaticNavigation)(n,'RootNavigator');function r(r,u){var c,f,s=r.linking,v=(0,e.default)(r,o),p=t.useMemo(function(){var e,t,i,o=(0,_r(d[4]).createPathConfigForStaticNavigation)(n,{initialRouteName:null==s||null==(e=s.config)?void 0:e.initialRouteName},'auto'===(null==s?void 0:s.enabled));if(o)return{path:null==s||null==(t=s.config)?void 0:t.path,initialRouteName:null==s||null==(i=s.config)?void 0:i.initialRouteName,screens:o}},[null==s?void 0:s.enabled,null==s||null==(c=s.config)?void 0:c.path,null==s||null==(f=s.config)?void 0:f.initialRouteName]),b=t.useMemo(function(){if(s){var n='boolean'==typeof s.enabled?s.enabled:null!=(null==p?void 0:p.screens);return Object.assign({},s,{enabled:n,config:p})}},[s,p]);if(!0===(null==s?void 0:s.enabled)&&null==(null==p?void 0:p.screens))throw new Error("Linking is enabled but no linking configuration was found for the screens.\n\nTo solve this:\n- Specify a 'linking' property for the screens you want to link to.\n- Or set 'linking.enabled' to 'auto' to generate paths automatically.\n\nSee usage guide: https://reactnavigation.org/docs/static-configuration#linking");return(0,i.jsx)(_r(d[5]).NavigationContainer,Object.assign({},v,{ref:u,linking:b,children:(0,i.jsx)(l,{})}))}return t.forwardRef(r)};var e=n(_r(d[1])),t=(function(n,e){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(n,e){if(!e&&n&&n.__esModule)return n;var o,l,r={__proto__:null,default:n};if(null===n||"object"!=typeof n&&"function"!=typeof n)return r;if(o=e?i:t){if(o.has(n))return o.get(n);o.set(n,r)}for(var u in n)"default"!==u&&{}.hasOwnProperty.call(n,u)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,u))&&(l.get||l.set)?o(r,u,l):r[u]=n[u]);return r})(n,e)})(_r(d[2])),i=_r(d[3]),o=["linking"]},615,[1,4,75,244,508,605]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLinkBuilder=function(){var e,n,o,r=t.useContext(_r(d[1]).NavigationHelpersContext),u=t.useContext(_r(d[1]).NavigationRouteContext),i=t.useContext(_r(d[2]).LinkingContext).options,l=(0,_r(d[1]).useStateForPath)(),s=null!=(e=null==i?void 0:i.getPathFromState)?e:_r(d[1]).getPathFromState,f=null!=(n=null==i?void 0:i.getStateFromPath)?n:_r(d[1]).getStateFromPath,c=null!=(o=null==i?void 0:i.getActionFromState)?o:_r(d[1]).getActionFromState,v=t.useCallback(function(t,e){var n;if(!1!==(null==i?void 0:i.enabled)){var o=!!(r&&null!=u&&u.key&&l)&&(u.key===(null==(n=(0,_r(d[1]).findFocusedRoute)(l))?void 0:n.key)&&r.getState().routes.some(function(t){return t.key===u.key})),f={routes:[{name:t,params:e}]},c=function(t){if(t){var e=t.routes[0];return o&&!e.state?f:{routes:[Object.assign({},e,{state:c(e.state)})]}}return f},v=c(l);return s(v,null==i?void 0:i.config)}},[null==i?void 0:i.enabled,null==i?void 0:i.config,null==u?void 0:u.key,r,l,s]),p=t.useCallback(function(t){if(!t.startsWith('/'))throw new Error(`The href must start with '/' (${t}).`);var e=f(t,null==i?void 0:i.config);if(e){var n=c(e,null==i?void 0:i.config);return null!=n?n:_r(d[1]).CommonActions.reset(e)}throw new Error('Failed to parse the href to a navigation state.')},[null==i?void 0:i.config,f,c]);return{buildHref:v,buildAction:p}};var t=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,u,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(r=e?o:n){if(r.has(t))return r.get(t);r.set(t,i)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(u.get||u.set)?r(i,l,u):i[l]=t[l]);return i})(t,e)})(_r(d[0]))},616,[75,508,603]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLinkTo=function(){var t=e.useContext(_r(d[1]).NavigationContainerRefContext),n=(0,_r(d[2]).useLinkBuilder)().buildAction;return e.useCallback(function(e){if(void 0===t)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");var r=n(e);t.dispatch(r)},[n,t])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},617,[75,508,616]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLocale=function(){var t=e.useContext(_r(d[1]).LocaleDirContext);if(void 0===t)throw new Error("Couldn't determine the text direction. Is your component inside NavigationContainer?");return{direction:t}};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},618,[75,604]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useRoutePath=function(){var t,n=e.useContext(_r(d[1]).LinkingContext).options,o=(0,_r(d[2]).useStateForPath)();if(void 0===o)throw new Error("Couldn't find a state for the route object. Is your component inside a screen in a navigator?");var r=null!=(t=null==n?void 0:n.getPathFromState)?t:_r(d[2]).getPathFromState;return e.useMemo(function(){if(!1!==(null==n?void 0:n.enabled))return r(o,null==n?void 0:n.config)},[null==n?void 0:n.enabled,null==n?void 0:n.config,o,r])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?r(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},619,[75,603,508]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useScrollToTop=function(t){var n=e.useContext(_r(d[1]).NavigationContext),o=(0,_r(d[1]).useRoute)();if(void 0===n)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");e.useEffect(function(){for(var e=[],u=n;u;)'tab'===u.getState().type&&e.push(u),u=u.getParent();if(0!==e.length){var c=e.map(function(u){return u.addListener('tabPress',function(u){var c=n.isFocused(),l=e.includes(n)||n.getState().routes[0].key===o.key;requestAnimationFrame(function(){var e=r(t);c&&l&&e&&!u.defaultPrevented&&('scrollToTop'in e?e.scrollToTop():'scrollTo'in e?e.scrollTo({y:0,animated:!0}):'scrollToOffset'in e?e.scrollToOffset({offset:0,animated:!0}):'scrollResponderScrollTo'in e&&e.scrollResponderScrollTo({y:0,animated:!0}))})})});return function(){c.forEach(function(e){return e()})}}},[n,t,o.key])};var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,u,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,c)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(u.get||u.set)?o(c,l,u):c[l]=e[l]);return c})(e,r)})(_r(d[0]));function r(e){return null==e.current?null:'scrollToTop'in e.current||'scrollTo'in e.current||'scrollToOffset'in e.current||'scrollResponderScrollTo'in e.current?e.current:'getScrollResponder'in e.current?e.current.getScrollResponder():'getNode'in e.current?e.current.getNode():e.current}},620,[75,508]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},621,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))}),Object.keys(r(d[1])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[1])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[1])[n]}}))}),Object.keys(r(d[2])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[2])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[2])[n]}}))}),Object.keys(r(d[3])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[3])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[3])[n]}}))})},622,[623,626,628,630]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SafeAreaInsetsContext=_e.SafeAreaFrameContext=_e.SafeAreaContext=_e.SafeAreaConsumer=void 0,_e.SafeAreaListener=function(e){var t=e.onChange,r=e.style,i=e.children,o=(0,n.default)(e,u);return(0,l.jsx)(_r(d[6]).NativeSafeAreaProvider,Object.assign({},o,{style:[c.fill,r],onInsetsChange:function(e){t({insets:e.nativeEvent.insets,frame:e.nativeEvent.frame})},children:i}))},_e.SafeAreaProvider=function(e){var u,v,h,S,x,C=e.children,y=e.initialMetrics,A=e.initialSafeAreaInsets,w=e.style,p=(0,n.default)(e,o),j=r.useContext(s),b=r.useContext(f),P=r.useState(null!=(u=null!=(v=null!=(h=null==y?void 0:y.insets)?h:A)?v:j)?u:null),_=(0,t.default)(P,2),I=_[0],M=_[1],O=r.useState(null!=(S=null!=(x=null==y?void 0:y.frame)?x:b)?S:{x:0,y:0,width:i.Dimensions.get('window').width,height:i.Dimensions.get('window').height}),k=(0,t.default)(O,2),E=k[0],D=k[1],F=r.useCallback(function(e){var t=e.nativeEvent,n=t.frame,r=t.insets;D(function(e){return!n||n.height===e.height&&n.width===e.width&&n.x===e.x&&n.y===e.y?e:n}),M(function(e){return e&&r.bottom===e.bottom&&r.left===e.left&&r.right===e.right&&r.top===e.top?e:r})},[]);return(0,l.jsx)(_r(d[6]).NativeSafeAreaProvider,Object.assign({style:[c.fill,w],onInsetsChange:F},p,{children:null!=I?(0,l.jsx)(f.Provider,{value:E,children:(0,l.jsx)(s.Provider,{value:I,children:C})}):null}))},_e.useSafeArea=function(){return h()},_e.useSafeAreaFrame=function(){var e=r.useContext(f);if(null==e)throw new Error(v);return e},_e.useSafeAreaInsets=h,_e.withSafeAreaInsets=function(e){return r.forwardRef(function(t,n){var r=h();return(0,l.jsx)(e,Object.assign({},t,{insets:r,ref:n}))})};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?i(o,u,l):o[u]=e[u]);return o})(e,t)})(_r(d[3])),i=_r(d[4]),l=_r(d[5]),o=["children","initialMetrics","initialSafeAreaInsets","style"],u=["onChange","style","children"];var s=_e.SafeAreaInsetsContext=r.createContext(null),f=_e.SafeAreaFrameContext=r.createContext(null);var c=i.StyleSheet.create({fill:{flex:1}});var v='No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.';function h(){var e=r.useContext(s);if(null==e)throw new Error(v);return e}_e.SafeAreaConsumer=s.Consumer,_e.SafeAreaContext=s},623,[1,34,4,75,2,244,624]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NativeSafeAreaProvider",{enumerable:!0,get:function(){return n.default}});var n=t(r(d[1]))},624,[1,625]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;n(r(d[1]));var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNCSafeAreaProvider",directEventTypes:{topInsetsChange:{registrationName:"onInsetsChange"}},validAttributes:Object.assign({},r(d[2]).ConditionallyIgnoredEventHandlers({onInsetsChange:!0}))};e.default=r(d[3]).get('RNCSafeAreaProvider',function(){return t})},625,[1,275,105,78]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SafeAreaView=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?n(i,u,o):i[u]=e[u]);return i})(e,t)})(_r(d[2])),f=r,n=e(_r(d[3])),o=_r(d[4]),i=["edges"];var u={top:'additive',left:'additive',bottom:'additive',right:'additive'};_e.SafeAreaView=f.forwardRef(function(e,f){var l=e.edges,c=(0,t.default)(e,i),v=(0,r.useMemo)(function(){var e,t,r,f;if(null==l)return u;var n=Array.isArray(l)?l.reduce(function(e,t){return e[t]='additive',e},{}):l;return{top:null!=(e=n.top)?e:'off',right:null!=(t=n.right)?t:'off',bottom:null!=(r=n.bottom)?r:'off',left:null!=(f=n.left)?f:'off'}},[l]);return(0,o.jsx)(n.default,Object.assign({},c,{edges:v,ref:f}))})},626,[1,4,75,627,244]);
__d(function(g,r,i,a,m,e,d){var _=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;_(r(d[1]));var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNCSafeAreaView",validAttributes:{mode:!0,edges:!0}};e.default=r(d[2]).get('RNCSafeAreaView',function(){return t})},627,[1,275,78]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.initialWindowSafeAreaInsets=e.initialWindowMetrics=void 0;var t,l,s=n(r(d[1])),o=e.initialWindowMetrics=null!=(t=null==s.default||null==s.default.getConstants||null==(l=s.default.getConstants())?void 0:l.initialWindowMetrics)?t:null;e.initialWindowSafeAreaInsets=null==o?void 0:o.insets},628,[1,629]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);e.default=t.TurboModuleRegistry.get('RNCSafeAreaContext')},629,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},630,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n={Assets:!0,Background:!0,Badge:!0,Button:!0,getDefaultSidebarWidth:!0,getDefaultHeaderHeight:!0,getHeaderTitle:!0,Header:!0,HeaderBackButton:!0,HeaderBackContext:!0,HeaderBackground:!0,HeaderButton:!0,HeaderHeightContext:!0,HeaderShownContext:!0,HeaderTitle:!0,useHeaderHeight:!0,getLabel:!0,Label:!0,Lazy:!0,MissingIcon:!0,PlatformPressable:!0,ResourceSavingView:!0,SafeAreaProviderCompat:!0,Screen:!0,Text:!0,useFrameSize:!0};e.Assets=void 0,Object.defineProperty(e,"Background",{enumerable:!0,get:function(){return r(d[1]).Background}}),Object.defineProperty(e,"Badge",{enumerable:!0,get:function(){return r(d[2]).Badge}}),Object.defineProperty(e,"Button",{enumerable:!0,get:function(){return r(d[3]).Button}}),Object.defineProperty(e,"Header",{enumerable:!0,get:function(){return r(d[4]).Header}}),Object.defineProperty(e,"HeaderBackButton",{enumerable:!0,get:function(){return r(d[5]).HeaderBackButton}}),Object.defineProperty(e,"HeaderBackContext",{enumerable:!0,get:function(){return r(d[6]).HeaderBackContext}}),Object.defineProperty(e,"HeaderBackground",{enumerable:!0,get:function(){return r(d[7]).HeaderBackground}}),Object.defineProperty(e,"HeaderButton",{enumerable:!0,get:function(){return r(d[8]).HeaderButton}}),Object.defineProperty(e,"HeaderHeightContext",{enumerable:!0,get:function(){return r(d[9]).HeaderHeightContext}}),Object.defineProperty(e,"HeaderShownContext",{enumerable:!0,get:function(){return r(d[10]).HeaderShownContext}}),Object.defineProperty(e,"HeaderTitle",{enumerable:!0,get:function(){return r(d[11]).HeaderTitle}}),Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return r(d[12]).Label}}),Object.defineProperty(e,"Lazy",{enumerable:!0,get:function(){return r(d[13]).Lazy}}),Object.defineProperty(e,"MissingIcon",{enumerable:!0,get:function(){return r(d[14]).MissingIcon}}),Object.defineProperty(e,"PlatformPressable",{enumerable:!0,get:function(){return r(d[15]).PlatformPressable}}),Object.defineProperty(e,"ResourceSavingView",{enumerable:!0,get:function(){return r(d[16]).ResourceSavingView}}),Object.defineProperty(e,"SafeAreaProviderCompat",{enumerable:!0,get:function(){return r(d[17]).SafeAreaProviderCompat}}),Object.defineProperty(e,"Screen",{enumerable:!0,get:function(){return r(d[18]).Screen}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return r(d[19]).Text}}),Object.defineProperty(e,"getDefaultHeaderHeight",{enumerable:!0,get:function(){return r(d[20]).getDefaultHeaderHeight}}),Object.defineProperty(e,"getDefaultSidebarWidth",{enumerable:!0,get:function(){return r(d[21]).getDefaultSidebarWidth}}),Object.defineProperty(e,"getHeaderTitle",{enumerable:!0,get:function(){return r(d[22]).getHeaderTitle}}),Object.defineProperty(e,"getLabel",{enumerable:!0,get:function(){return r(d[23]).getLabel}}),Object.defineProperty(e,"useFrameSize",{enumerable:!0,get:function(){return r(d[24]).useFrameSize}}),Object.defineProperty(e,"useHeaderHeight",{enumerable:!0,get:function(){return r(d[25]).useHeaderHeight}});var u=t(r(d[26])),o=t(r(d[27])),c=t(r(d[28])),f=t(r(d[29])),b=t(r(d[30]));Object.keys(r(d[31])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[31])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[31])[t]}}))});e.Assets=[u.default,o.default,b.default,f.default,c.default]},631,[1,632,633,642,645,651,664,660,657,665,649,659,666,667,668,643,669,670,671,644,658,672,673,674,648,675,652,653,662,663,646,676]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Background=function(e){var u=e.style,f=(0,t.default)(e,o),i=(0,_r(d[5]).useTheme)().colors;return(0,n.jsx)(r.Animated.View,Object.assign({},f,{style:[{flex:1,backgroundColor:i.background},u]}))};var t=e(_r(d[1])),r=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i])})(e,t)})(_r(d[2])),_r(d[3])),n=_r(d[4]),o=["style"]},632,[1,4,75,2,244,503]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Badge=function(e){var v=e.children,p=e.style,h=e.visible,b=void 0===h||h,y=e.size,_=void 0===y?18:y,S=(0,n.default)(e,l),w=i.useState(function(){return new o.Animated.Value(b?1:0)}),O=(0,t.default)(w,1)[0],k=i.useState(b),j=(0,t.default)(k,2),M=j[0],A=j[1],P=(0,_r(d[7]).useTheme)(),x=P.colors,z=P.fonts;if(i.useEffect(function(){if(M)return o.Animated.timing(O,{toValue:b?1:0,duration:150,useNativeDriver:c}).start(function(e){e.finished&&!b&&A(!1)}),function(){return O.stopAnimation()}},[O,M,b]),!M){if(!b)return null;A(!0)}var C=o.StyleSheet.flatten(p)||{},W=C.backgroundColor,R=void 0===W?x.notification:W,D=(0,n.default)(C,f),H=(0,r.default)(R).isLight()?'black':'white',L=_/2,T=Math.floor(3*_/4);return(0,u.jsx)(o.Animated.Text,Object.assign({numberOfLines:1,style:[{transform:[{scale:O.interpolate({inputRange:[0,1],outputRange:[.5,1]})}],color:H,lineHeight:_-1,height:_,minWidth:_,opacity:O,backgroundColor:R,fontSize:T,borderRadius:L,borderCurve:'continuous'},z.regular,s.container,D]},S,{children:v}))};var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?i(u,l,o):u[l]=e[l]);return u})(e,t)})(_r(d[4])),o=_r(d[5]),u=_r(d[6]),l=["children","style","visible","size"],f=["backgroundColor"];var c='web'!==o.Platform.OS;var s=o.StyleSheet.create({container:{alignSelf:'flex-end',textAlign:'center',paddingHorizontal:4,overflow:'hidden'}})},633,[1,34,4,634,75,2,244,503]);
__d(function(g,r,_i,_a,_m,e,d){var t=r(d[0]),o=r(d[1]),n=['keyword','gray','hex'],a={};for(var i of Object.keys(r(d[2])))a[o(r(d[2])[i].labels).sort().join('')]=i;var h={};function l(t,i){if(!(this instanceof l))return new l(t,i);if(i&&i in n&&(i=null),i&&!(i in r(d[2])))throw new Error('Unknown model: '+i);var s,c;if(null==t)this.model='rgb',this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=o(t.color),this.valpha=t.valpha;else if('string'==typeof t){var u=r(d[3]).get(t);if(null===u)throw new Error('Unable to parse color from string: '+t);this.model=u.model,c=r(d[2])[this.model].channels,this.color=u.value.slice(0,c),this.valpha='number'==typeof u.value[c]?u.value[c]:1}else if(t.length>0){this.model=i||'rgb',c=r(d[2])[this.model].channels;var f=Array.prototype.slice.call(t,0,c);this.color=b(f,c),this.valpha='number'==typeof t[c]?t[c]:1}else if('number'==typeof t)this.model='rgb',this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var v=Object.keys(t);'alpha'in t&&(v.splice(v.indexOf('alpha'),1),this.valpha='number'==typeof t.alpha?t.alpha:0);var p=v.sort().join('');if(!(p in a))throw new Error('Unable to parse color from object: '+JSON.stringify(t));this.model=a[p];var m=r(d[2])[this.model].labels,y=[];for(s=0;s<m.length;s++)y.push(t[m[s]]);this.color=b(y)}if(h[this.model])for(c=r(d[2])[this.model].channels,s=0;s<c;s++){var w=h[this.model][s];w&&(this.color[s]=w(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var n=this.model in r(d[3]).to?this:this.rgb(),a=1===(n=n.round('number'==typeof t?t:1)).valpha?n.color:[].concat(o(n.color),[this.valpha]);return r(d[3]).to[n.model](a)},percentString:function(t){var n=this.rgb().round('number'==typeof t?t:1),a=1===n.valpha?n.color:[].concat(o(n.color),[this.valpha]);return r(d[3]).to.rgb.percent(a)},array:function(){return 1===this.valpha?o(this.color):[].concat(o(this.color),[this.valpha])},object:function(){for(var t={},o=r(d[2])[this.model].channels,n=r(d[2])[this.model].labels,a=0;a<o;a++)t[n[a]]=this.color[a];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new l([].concat(o(this.color.map(f(t))),[this.valpha]),this.model)},alpha:function(t){return void 0!==t?new l([].concat(o(this.color),[Math.max(0,Math.min(1,t))]),this.model):this.valpha},red:v('rgb',0,p(255)),green:v('rgb',1,p(255)),blue:v('rgb',2,p(255)),hue:v(['hsl','hsv','hsl','hwb','hcg'],0,function(t){return(t%360+360)%360}),saturationl:v('hsl',1,p(100)),lightness:v('hsl',2,p(100)),saturationv:v('hsv',1,p(100)),value:v('hsv',2,p(100)),chroma:v('hcg',1,p(100)),gray:v('hcg',2,p(100)),white:v('hwb',1,p(100)),wblack:v('hwb',2,p(100)),cyan:v('cmyk',0,p(100)),magenta:v('cmyk',1,p(100)),yellow:v('cmyk',2,p(100)),black:v('cmyk',3,p(100)),x:v('xyz',0,p(95.047)),y:v('xyz',1,p(100)),z:v('xyz',2,p(108.833)),l:v('lab',0,p(100)),a:v('lab',1),b:v('lab',2),keyword:function(t){return void 0!==t?new l(t):r(d[2])[this.model].keyword(this.color)},hex:function(t){return void 0!==t?new l(t):r(d[3]).to.hex(this.rgb().round().color)},hexa:function(t){if(void 0!==t)return new l(t);var o=this.rgb().round().color,n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n='0'+n),r(d[3]).to.hex(o)+n},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){var o=this.rgb().color,n=[];for(var a of o.entries()){var i=t(a,2),h=i[0],l=i[1]/255;n[h]=l<=.04045?l/12.92:((l+.055)/1.055)**2.4}return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(t){var o=this.luminosity(),n=t.luminosity();return o>n?(o+.05)/(n+.05):(n+.05)/(o+.05)},level:function(t){var o=this.contrast(t);return o>=7?'AAA':o>=4.5?'AA':''},isDark:function(){var t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),o=0;o<3;o++)t.color[o]=255-t.color[o];return t},lighten:function(t){var o=this.hsl();return o.color[2]+=o.color[2]*t,o},darken:function(t){var o=this.hsl();return o.color[2]-=o.color[2]*t,o},saturate:function(t){var o=this.hsl();return o.color[1]+=o.color[1]*t,o},desaturate:function(t){var o=this.hsl();return o.color[1]-=o.color[1]*t,o},whiten:function(t){var o=this.hwb();return o.color[1]+=o.color[1]*t,o},blacken:function(t){var o=this.hwb();return o.color[2]+=o.color[2]*t,o},grayscale:function(){var t=this.rgb().color,o=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(o,o,o)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var o=this.hsl(),n=o.color[0];return n=(n=(n+t)%360)<0?360+n:n,o.color[0]=n,o},mix:function(t,o){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var n=t.rgb(),a=this.rgb(),i=void 0===o?.5:o,h=2*i-1,s=n.alpha()-a.alpha(),c=((h*s===-1?h:(h+s)/(1+h*s))+1)/2,u=1-c;return l.rgb(c*n.red()+u*a.red(),c*n.green()+u*a.green(),c*n.blue()+u*a.blue(),n.alpha()*i+a.alpha()*(1-i))}};var s=function(t){if(n.includes(t))return 1;var a=r(d[2])[t].channels;l.prototype[t]=function(){if(this.model===t)return new l(this);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>0?new l(a,t):new l([].concat(o((h=r(d[2])[this.model][t].raw(this.color),Array.isArray(h)?h:[h])),[this.valpha]),t);var h},l[t]=function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];var h=n[0];return'number'==typeof h&&(h=b(n,a)),new l(h,t)}};for(var c of Object.keys(r(d[2])))s(c);function u(t,o){return Number(t.toFixed(o))}function f(t){return function(o){return u(o,t)}}function v(t,o,n){for(var a of t=Array.isArray(t)?t:[t])(h[a]||(h[a]=[]))[o]=n;return t=t[0],function(a){var i;return void 0!==a?(n&&(a=n(a)),(i=this[t]()).color[o]=a,i):(i=this[t]().color[o],n&&(i=n(i)),i)}}function p(t){return function(o){return Math.max(0,Math.min(t,o))}}function b(t,o){for(var n=0;n<o;n++)'number'!=typeof t[n]&&(t[n]=0);return t}_m.exports=l},634,[34,42,635,639]);
__d(function(g,r,_i,a,m,e,d){var n={};function o(n){var o=function(){for(var o=arguments.length,t=new Array(o),c=0;c<o;c++)t[c]=arguments[c];var i=t[0];return null==i?i:(i.length>1&&(t=i),n(t))};return'conversion'in n&&(o.conversion=n.conversion),o}function t(n){var o=function(){for(var o=arguments.length,t=new Array(o),c=0;c<o;c++)t[c]=arguments[c];var i=t[0];if(null==i)return i;i.length>1&&(t=i);var v=n(t);if('object'==typeof v)for(var f=v.length,l=0;l<f;l++)v[l]=Math.round(v[l]);return v};return'conversion'in n&&(o.conversion=n.conversion),o}Object.keys(r(d[0])).forEach(function(c){n[c]={},Object.defineProperty(n[c],'channels',{value:r(d[0])[c].channels}),Object.defineProperty(n[c],'labels',{value:r(d[0])[c].labels});var i=r(d[1])(c);Object.keys(i).forEach(function(v){var f=i[v];n[c][v]=t(f),n[c][v].raw=o(f)})}),m.exports=n},635,[636,638]);
__d(function(_g,_r,_i,_a,_m,e,d){var r=_r(d[0]),n={};for(var a of Object.keys(_r(d[1])))n[_r(d[1])[a]]=a;var t={rgb:{channels:3,labels:'rgb'},hsl:{channels:3,labels:'hsl'},hsv:{channels:3,labels:'hsv'},hwb:{channels:3,labels:'hwb'},cmyk:{channels:4,labels:'cmyk'},xyz:{channels:3,labels:'xyz'},lab:{channels:3,labels:'lab'},lch:{channels:3,labels:'lch'},hex:{channels:1,labels:['hex']},keyword:{channels:1,labels:['keyword']},ansi16:{channels:1,labels:['ansi16']},ansi256:{channels:1,labels:['ansi256']},hcg:{channels:3,labels:['h','c','g']},apple:{channels:3,labels:['r16','g16','b16']},gray:{channels:1,labels:['gray']}};for(var h of(_m.exports=t,Object.keys(t))){if(!('channels'in t[h]))throw new Error('missing channels property: '+h);if(!('labels'in t[h]))throw new Error('missing channel labels property: '+h);if(t[h].labels.length!==t[h].channels)throw new Error('channel and label counts mismatch: '+h);var u=t[h],c=u.channels,s=u.labels;delete t[h].channels,delete t[h].labels,Object.defineProperty(t[h],'channels',{value:c}),Object.defineProperty(t[h],'labels',{value:s})}function l(r,n){return(r[0]-n[0])**2+(r[1]-n[1])**2+(r[2]-n[2])**2}t.rgb.hsl=function(r){var n,a=r[0]/255,t=r[1]/255,h=r[2]/255,u=Math.min(a,t,h),c=Math.max(a,t,h),s=c-u;c===u?n=0:a===c?n=(t-h)/s:t===c?n=2+(h-a)/s:h===c&&(n=4+(a-t)/s),(n=Math.min(60*n,360))<0&&(n+=360);var l=(u+c)/2;return[n,100*(c===u?0:l<=.5?s/(c+u):s/(2-c-u)),100*l]},t.rgb.hsv=function(r){var n,a,t,h,u,c=r[0]/255,s=r[1]/255,l=r[2]/255,i=Math.max(c,s,l),o=i-Math.min(c,s,l),b=function(r){return(i-r)/6/o+.5};return 0===o?(h=0,u=0):(u=o/i,n=b(c),a=b(s),t=b(l),c===i?h=t-a:s===i?h=.3333333333333333+n-t:l===i&&(h=.6666666666666666+a-n),h<0?h+=1:h>1&&(h-=1)),[360*h,100*u,100*i]},t.rgb.hwb=function(r){var n=r[0],a=r[1],h=r[2];return[t.rgb.hsl(r)[0],100*(.00392156862745098*Math.min(n,Math.min(a,h))),100*(h=1-.00392156862745098*Math.max(n,Math.max(a,h)))]},t.rgb.cmyk=function(r){var n=r[0]/255,a=r[1]/255,t=r[2]/255,h=Math.min(1-n,1-a,1-t);return[100*((1-n-h)/(1-h)||0),100*((1-a-h)/(1-h)||0),100*((1-t-h)/(1-h)||0),100*h]},t.rgb.keyword=function(r){var a=n[r];if(a)return a;var t,h=1/0;for(var u of Object.keys(_r(d[1]))){var c=l(r,_r(d[1])[u]);c<h&&(h=c,t=u)}return t},t.keyword.rgb=function(r){return _r(d[1])[r]},t.rgb.xyz=function(r){var n=r[0]/255,a=r[1]/255,t=r[2]/255;return[100*(.4124*(n=n>.04045?((n+.055)/1.055)**2.4:n/12.92)+.3576*(a=a>.04045?((a+.055)/1.055)**2.4:a/12.92)+.1805*(t=t>.04045?((t+.055)/1.055)**2.4:t/12.92)),100*(.2126*n+.7152*a+.0722*t),100*(.0193*n+.1192*a+.9505*t)]},t.rgb.lab=function(r){var n=t.rgb.xyz(r),a=n[0],h=n[1],u=n[2];return[116*(h=(h/=100)>.008856?h**.3333333333333333:7.787*h+.13793103448275862)-16,500*((a=(a/=95.047)>.008856?a**.3333333333333333:7.787*a+.13793103448275862)-h),200*(h-(u=(u/=108.883)>.008856?u**.3333333333333333:7.787*u+.13793103448275862))]},t.hsl.rgb=function(r){var n,a,t,h=r[0]/360,u=r[1]/100,c=r[2]/100;if(0===u)return[t=255*c,t,t];for(var s=2*c-(n=c<.5?c*(1+u):c+u-c*u),l=[0,0,0],i=0;i<3;i++)(a=h+.3333333333333333*-(i-1))<0&&a++,a>1&&a--,t=6*a<1?s+6*(n-s)*a:2*a<1?n:3*a<2?s+(n-s)*(.6666666666666666-a)*6:s,l[i]=255*t;return l},t.hsl.hsv=function(r){var n=r[0],a=r[1]/100,t=r[2]/100,h=a,u=Math.max(t,.01);return a*=(t*=2)<=1?t:2-t,h*=u<=1?u:2-u,[n,100*(0===t?2*h/(u+h):2*a/(t+a)),100*((t+a)/2)]},t.hsv.rgb=function(r){var n=r[0]/60,a=r[1]/100,t=r[2]/100,h=Math.floor(n)%6,u=n-Math.floor(n),c=255*t*(1-a),s=255*t*(1-a*u),l=255*t*(1-a*(1-u));switch(t*=255,h){case 0:return[t,l,c];case 1:return[s,t,c];case 2:return[c,t,l];case 3:return[c,s,t];case 4:return[l,c,t];case 5:return[t,c,s]}},t.hsv.hsl=function(r){var n,a,t=r[0],h=r[1]/100,u=r[2]/100,c=Math.max(u,.01);a=(2-h)*u;var s=(2-h)*c;return n=h*c,[t,100*(n=(n/=s<=1?s:2-s)||0),100*(a/=2)]},t.hwb.rgb=function(r){var n,a=r[0]/360,t=r[1]/100,h=r[2]/100,u=t+h;u>1&&(t/=u,h/=u);var c=Math.floor(6*a),s=1-h;n=6*a-c,1&c&&(n=1-n);var l,i,o,b=t+n*(s-t);switch(c){default:case 6:case 0:l=s,i=b,o=t;break;case 1:l=b,i=s,o=t;break;case 2:l=t,i=s,o=b;break;case 3:l=t,i=b,o=s;break;case 4:l=b,i=t,o=s;break;case 5:l=s,i=t,o=b}return[255*l,255*i,255*o]},t.cmyk.rgb=function(r){var n=r[0]/100,a=r[1]/100,t=r[2]/100,h=r[3]/100;return[255*(1-Math.min(1,n*(1-h)+h)),255*(1-Math.min(1,a*(1-h)+h)),255*(1-Math.min(1,t*(1-h)+h))]},t.xyz.rgb=function(r){var n,a,t,h=r[0]/100,u=r[1]/100,c=r[2]/100;return n=(n=3.2406*h+-1.5372*u+-.4986*c)>.0031308?1.055*n**.4166666666666667-.055:12.92*n,a=(a=-.9689*h+1.8758*u+.0415*c)>.0031308?1.055*a**.4166666666666667-.055:12.92*a,t=(t=.0557*h+-.204*u+1.057*c)>.0031308?1.055*t**.4166666666666667-.055:12.92*t,[255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1)),255*(t=Math.min(Math.max(0,t),1))]},t.xyz.lab=function(r){var n=r[0],a=r[1],t=r[2];return[116*(a=(a/=100)>.008856?a**.3333333333333333:7.787*a+.13793103448275862)-16,500*((n=(n/=95.047)>.008856?n**.3333333333333333:7.787*n+.13793103448275862)-a),200*(a-(t=(t/=108.883)>.008856?t**.3333333333333333:7.787*t+.13793103448275862))]},t.lab.xyz=function(r){var n,a,t,h=(a=(r[0]+16)/116)**3,u=(n=r[1]/500+a)**3,c=(t=a-r[2]/200)**3;return a=h>.008856?h:(a-.13793103448275862)/7.787,n=u>.008856?u:(n-.13793103448275862)/7.787,t=c>.008856?c:(t-.13793103448275862)/7.787,[n*=95.047,a*=100,t*=108.883]},t.lab.lch=function(r){var n,a=r[0],t=r[1],h=r[2];return(n=360*Math.atan2(h,t)/2/Math.PI)<0&&(n+=360),[a,Math.sqrt(t*t+h*h),n]},t.lch.lab=function(r){var n=r[0],a=r[1],t=r[2]/360*2*Math.PI;return[n,a*Math.cos(t),a*Math.sin(t)]},t.rgb.ansi16=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=r(n,3),u=h[0],c=h[1],s=h[2],l=null===a?t.rgb.hsv(n)[2]:a;if(0===(l=Math.round(l/50)))return 30;var i=30+(Math.round(s/255)<<2|Math.round(c/255)<<1|Math.round(u/255));return 2===l&&(i+=60),i},t.hsv.ansi16=function(r){return t.rgb.ansi16(t.hsv.rgb(r),r[2])},t.rgb.ansi256=function(r){var n=r[0],a=r[1],t=r[2];return n===a&&a===t?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(a/255*5)+Math.round(t/255*5)},t.ansi16.rgb=function(r){var n=r%10;if(0===n||7===n)return r>50&&(n+=3.5),[n=n/10.5*255,n,n];var a=.5*(1+~~(r>50));return[(1&n)*a*255,(n>>1&1)*a*255,(n>>2&1)*a*255]},t.ansi256.rgb=function(r){if(r>=232){var n=10*(r-232)+8;return[n,n,n]}var a;return r-=16,[Math.floor(r/36)/5*255,Math.floor((a=r%36)/6)/5*255,a%6/5*255]},t.rgb.hex=function(r){var n=(((255&Math.round(r[0]))<<16)+((255&Math.round(r[1]))<<8)+(255&Math.round(r[2]))).toString(16).toUpperCase();return'000000'.substring(n.length)+n},t.hex.rgb=function(r){var n=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];var a=n[0];3===n[0].length&&(a=a.split('').map(function(r){return r+r}).join(''));var t=parseInt(a,16);return[t>>16&255,t>>8&255,255&t]},t.rgb.hcg=function(r){var n,a=r[0]/255,t=r[1]/255,h=r[2]/255,u=Math.max(Math.max(a,t),h),c=Math.min(Math.min(a,t),h),s=u-c;return n=s<=0?0:u===a?(t-h)/s%6:u===t?2+(h-a)/s:4+(a-t)/s,n/=6,[360*(n%=1),100*s,100*(s<1?c/(1-s):0)]},t.hsl.hcg=function(r){var n=r[1]/100,a=r[2]/100,t=a<.5?2*n*a:2*n*(1-a),h=0;return t<1&&(h=(a-.5*t)/(1-t)),[r[0],100*t,100*h]},t.hsv.hcg=function(r){var n=r[1]/100,a=r[2]/100,t=n*a,h=0;return t<1&&(h=(a-t)/(1-t)),[r[0],100*t,100*h]},t.hcg.rgb=function(r){var n=r[0]/360,a=r[1]/100,t=r[2]/100;if(0===a)return[255*t,255*t,255*t];var h,u=[0,0,0],c=n%1*6,s=c%1,l=1-s;switch(Math.floor(c)){case 0:u[0]=1,u[1]=s,u[2]=0;break;case 1:u[0]=l,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=s;break;case 3:u[0]=0,u[1]=l,u[2]=1;break;case 4:u[0]=s,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=l}return h=(1-a)*t,[255*(a*u[0]+h),255*(a*u[1]+h),255*(a*u[2]+h)]},t.hcg.hsv=function(r){var n=r[1]/100,a=n+r[2]/100*(1-n),t=0;return a>0&&(t=n/a),[r[0],100*t,100*a]},t.hcg.hsl=function(r){var n=r[1]/100,a=r[2]/100*(1-n)+.5*n,t=0;return a>0&&a<.5?t=n/(2*a):a>=.5&&a<1&&(t=n/(2*(1-a))),[r[0],100*t,100*a]},t.hcg.hwb=function(r){var n=r[1]/100,a=n+r[2]/100*(1-n);return[r[0],100*(a-n),100*(1-a)]},t.hwb.hcg=function(r){var n=r[1]/100,a=1-r[2]/100,t=a-n,h=0;return t<1&&(h=(a-t)/(1-t)),[r[0],100*t,100*h]},t.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]},t.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]},t.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]},t.gray.hsl=function(r){return[0,0,r[0]]},t.gray.hsv=t.gray.hsl,t.gray.hwb=function(r){return[0,100,r[0]]},t.gray.cmyk=function(r){return[0,0,0,r[0]]},t.gray.lab=function(r){return[r[0],0,0]},t.gray.hex=function(r){var n=255&Math.round(r[0]/100*255),a=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return'000000'.substring(a.length)+a},t.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]}},636,[34,637]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},637,[]);
__d(function(g,r,_i,a,m,e,d){function n(){for(var n={},t=Object.keys(r(d[0])),u=t.length,c=0;c<u;c++)n[t[c]]={distance:-1,parent:null};return n}function t(t){var u=n(),c=[t];for(u[t].distance=0;c.length;)for(var o=c.pop(),i=Object.keys(r(d[0])[o]),f=i.length,p=0;p<f;p++){var s=i[p],l=u[s];-1===l.distance&&(l.distance=u[o].distance+1,l.parent=o,c.unshift(s))}return u}function u(n,t){return function(u){return t(n(u))}}function c(n,t){for(var c=[t[n].parent,n],o=r(d[0])[t[n].parent][n],i=t[n].parent;t[i].parent;)c.unshift(t[i].parent),o=u(r(d[0])[t[i].parent][i],o),i=t[i].parent;return o.conversion=c,o}m.exports=function(n){for(var u=t(n),o={},i=Object.keys(u),f=i.length,p=0;p<f;p++){var s=i[p];null!==u[s].parent&&(o[s]=c(s,u))}return o}},638,[636]);
__d(function(_g,_r,_i,_a,m,e,d){var r=Object.hasOwnProperty,t=Object.create(null);for(var a in _r(d[0]))r.call(_r(d[0]),a)&&(t[_r(d[0])[a]]=a);var n=m.exports={to:{},get:{}};function s(r,t,a){return Math.min(Math.max(t,r),a)}function o(r){var t=Math.round(r).toString(16).toUpperCase();return t.length<2?'0'+t:t}n.get=function(r){var t,a;switch(r.substring(0,3).toLowerCase()){case'hsl':t=n.get.hsl(r),a='hsl';break;case'hwb':t=n.get.hwb(r),a='hwb';break;default:t=n.get.rgb(r),a='rgb'}return t?{model:a,value:t}:null},n.get.rgb=function(t){if(!t)return null;var a,n,o,l=[0,0,0,1];if(a=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=a[2],a=a[1],n=0;n<3;n++){var u=2*n;l[n]=parseInt(a.slice(u,u+2),16)}o&&(l[3]=parseInt(o,16)/255)}else if(a=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(a=a[1])[3],n=0;n<3;n++)l[n]=parseInt(a[n]+a[n],16);o&&(l[3]=parseInt(o+o,16)/255)}else if(a=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)l[n]=parseInt(a[n+1],0);a[4]&&(a[5]?l[3]=.01*parseFloat(a[4]):l[3]=parseFloat(a[4]))}else{if(!(a=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(a=t.match(/^(\w+)$/))?'transparent'===a[1]?[0,0,0,0]:r.call(_r(d[0]),a[1])?((l=_r(d[0])[a[1]])[3]=1,l):null:null;for(n=0;n<3;n++)l[n]=Math.round(2.55*parseFloat(a[n+1]));a[4]&&(a[5]?l[3]=.01*parseFloat(a[4]):l[3]=parseFloat(a[4]))}for(n=0;n<3;n++)l[n]=s(l[n],0,255);return l[3]=s(l[3],0,1),l},n.get.hsl=function(r){if(!r)return null;var t=r.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var a=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,s(parseFloat(t[2]),0,100),s(parseFloat(t[3]),0,100),s(isNaN(a)?1:a,0,1)]}return null},n.get.hwb=function(r){if(!r)return null;var t=r.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var a=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,s(parseFloat(t[2]),0,100),s(parseFloat(t[3]),0,100),s(isNaN(a)?1:a,0,1)]}return null},n.to.hex=function(){var r=_r(d[1])(arguments);return'#'+o(r[0])+o(r[1])+o(r[2])+(r[3]<1?o(Math.round(255*r[3])):'')},n.to.rgb=function(){var r=_r(d[1])(arguments);return r.length<4||1===r[3]?'rgb('+Math.round(r[0])+', '+Math.round(r[1])+', '+Math.round(r[2])+')':'rgba('+Math.round(r[0])+', '+Math.round(r[1])+', '+Math.round(r[2])+', '+r[3]+')'},n.to.rgb.percent=function(){var r=_r(d[1])(arguments),t=Math.round(r[0]/255*100),a=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return r.length<4||1===r[3]?'rgb('+t+'%, '+a+'%, '+n+'%)':'rgba('+t+'%, '+a+'%, '+n+'%, '+r[3]+')'},n.to.hsl=function(){var r=_r(d[1])(arguments);return r.length<4||1===r[3]?'hsl('+r[0]+', '+r[1]+'%, '+r[2]+'%)':'hsla('+r[0]+', '+r[1]+'%, '+r[2]+'%, '+r[3]+')'},n.to.hwb=function(){var r=_r(d[1])(arguments),t='';return r.length>=4&&1!==r[3]&&(t=', '+r[3]),'hwb('+r[0]+', '+r[1]+'%, '+r[2]+'%'+t+')'},n.to.keyword=function(r){return t[r.slice(0,3)]}},639,[637,640]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=Array.prototype.concat,n=Array.prototype.slice,o=m.exports=function(o){for(var c=[],u=0,p=o.length;u<p;u++){var i=o[u];r(d[0])(i)?c=t.call(c,n.call(i)):c.push(i)}return c};o.wrap=function(t){return function(){return t(o(arguments))}}},640,[641]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return!(!n||'string'==typeof n)&&(n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&'String'!==n.constructor.name))}},641,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Button=function(e){return'screen'in e||'action'in e?(0,i.jsx)(l,Object.assign({},e)):(0,i.jsx)(u,Object.assign({},e))};var t=e(_r(d[1])),r=e(_r(d[2])),n=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?i(s,c,o):s[c]=e[c])})(e,t)})(_r(d[3])),_r(d[4])),i=_r(d[5]),o=["screen","params","action","href"],s=["variant","color","android_ripple","style","children"];var c=40;function l(e){var r=e.screen,n=e.params,s=e.action,c=e.href,l=(0,t.default)(e,o),f=(0,_r(d[6]).useLinkProps)({screen:r,params:n,action:s,href:c});return(0,i.jsx)(u,Object.assign({},l,f))}function u(e){var o,l,u=e.variant,p=void 0===u?'tinted':u,b=e.color,v=e.android_ripple,h=e.style,j=e.children,y=(0,t.default)(e,s),_=(0,_r(d[6]).useTheme)(),O=_.colors,k=_.fonts,x=null!=b?b:O.primary;switch(p){case'plain':o='transparent',l=x;break;case'tinted':o=(0,r.default)(x).fade(.85).string(),l=x;break;case'filled':o=x,l=(0,r.default)(x).isDark()?'white':(0,r.default)(x).darken(.71).string()}return(0,i.jsx)(_r(d[7]).PlatformPressable,Object.assign({},y,{android_ripple:Object.assign({radius:c,color:(0,r.default)(l).fade(.85).string()},v),pressOpacity:'ios'===n.Platform.OS?void 0:1,hoverEffect:{color:l},style:[{backgroundColor:o},f.button,h],children:(0,i.jsx)(_r(d[8]).Text,{style:[{color:l},k.regular,f.text],children:j})}))}var f=n.StyleSheet.create({button:{paddingHorizontal:24,paddingVertical:10,borderRadius:c,borderCurve:'continuous'},text:{fontSize:14,lineHeight:20,letterSpacing:.1,textAlign:'center'}})},642,[1,4,634,75,2,244,503,643,644]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PlatformPressable=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?n(l,s,i):l[s]=e[s]);return l})(e,t)})(_r(d[3])),n=_r(d[4]),i=_r(d[5]),l=["disabled","onPress","onPressIn","onPressOut","android_ripple","pressColor","pressOpacity","hoverEffect","style","children"];var s=n.Animated.createAnimatedComponent(n.Pressable),u='android'===n.Platform.OS&&n.Platform.Version>=21,c='web'!==n.Platform.OS;function f(e,f){var v=e.disabled,p=e.onPress,y=e.onPressIn,P=e.onPressOut,h=e.android_ripple,O=e.pressColor,_=e.pressOpacity,j=void 0===_?.3:_,w=e.hoverEffect,S=e.style,K=e.children,k=(0,r.default)(e,l),x=(0,_r(d[6]).useTheme)().dark,M=o.useState(function(){return new n.Animated.Value(1)}),$=(0,t.default)(M,1)[0],A=function(e,t){u||n.Animated.timing($,{toValue:e,duration:t,easing:n.Easing.inOut(n.Easing.quad),useNativeDriver:c}).start()};return(0,i.jsxs)(s,Object.assign({ref:f,accessible:!0,role:'web'===n.Platform.OS&&null!=k.href?'link':'button',onPress:v?void 0:function(e){if('web'===n.Platform.OS&&null!==k.href){var t='metaKey'in e&&e.metaKey||'altKey'in e&&e.altKey||'ctrlKey'in e&&e.ctrlKey||'shiftKey'in e&&e.shiftKey,r=!('button'in e)||(null==e.button||0===e.button),o=!e.currentTarget||!('target'in e.currentTarget)||[void 0,null,'','self'].includes(e.currentTarget.target);!t&&r&&o&&(e.preventDefault(),null==p||p(e))}else null==p||p(e)},onPressIn:v?void 0:function(e){A(j,0),null==y||y(e)},onPressOut:v?void 0:function(e){A(1,200),null==P||P(e)},android_ripple:u&&!v?Object.assign({color:void 0!==O?O:x?'rgba(255, 255, 255, .32)':'rgba(0, 0, 0, .32)'},h):void 0,style:[{cursor:'web'!==n.Platform.OS&&'ios'!==n.Platform.OS||v?'auto':'pointer',opacity:u||v?1:$},S]},k,{children:[v?null:(0,i.jsx)(b,Object.assign({},w)),K]}))}(_e.PlatformPressable=o.forwardRef(f)).displayName='PlatformPressable';var v=String.raw,p="__react-navigation_elements_Pressable_hover",y=v`
  .${p} {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    background-color: var(--overlay-color);
    opacity: 0;
    transition: opacity 0.15s;
    pointer-events: none;
  }

  a:hover > .${p}, button:hover > .${p} {
    opacity: var(--overlay-hover-opacity);
  }

  a:active > .${p}, button:active > .${p} {
    opacity: var(--overlay-active-opacity);
  }
`,b=function(e){var t=e.color,r=e.hoverOpacity,o=void 0===r?.08:r,l=e.activeOpacity,s=void 0===l?.16:l;return'web'!==n.Platform.OS||null==t?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{href:p,precedence:"elements",children:y}),(0,i.jsx)("div",{className:p,style:{'--overlay-color':t,'--overlay-hover-opacity':o,'--overlay-active-opacity':s}})]})}},643,[1,34,4,75,2,244,503]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Text=function(t){var n=t.style,c=(0,s.default)(t,u),f=(0,r(d[4]).useTheme)(),v=f.colors,x=f.fonts;return(0,o.jsx)(l.Text,Object.assign({},c,{style:[{color:v.text},x.regular,n]}))};var s=t(r(d[1])),l=r(d[2]),o=r(d[3]),u=["style"]},644,[1,4,2,244,503]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Header=function(e){var c=(0,_r(d[8]).useSafeAreaInsets)(),f=(0,_r(d[9]).useFrameSize)(function(e){return e},!0),p=(0,_r(d[10]).useTheme)().colors,S=(0,_r(d[10]).useNavigation)(),C=i.useContext(_r(d[11]).HeaderShownContext),y=i.useState(!1),R=(0,o.default)(y,2),B=R[0],x=R[1],v=i.useState(void 0),w=(0,o.default)(v,2),E=w[0],O=w[1],k=e.layout,T=void 0===k?f:k,j=e.modal,W=void 0!==j&&j,H=e.back,L=e.title,P=e.headerTitle,M=e.headerTitleAlign,V=void 0===M?'ios'===n.Platform.OS?'center':'left':M,_=e.headerLeft,A=void 0===_?H?function(e){return(0,s.jsx)(_r(d[12]).HeaderBackButton,Object.assign({},e))}:void 0:_,D=e.headerSearchBarOptions,F=e.headerTransparent,I=e.headerTintColor,z=e.headerBackground,G=e.headerRight,N=e.headerTitleAllowFontScaling,q=e.headerTitleStyle,J=e.headerLeftContainerStyle,K=e.headerRightContainerStyle,Q=e.headerTitleContainerStyle,U=e.headerBackButtonDisplayMode,X=void 0===U?'ios'===n.Platform.OS?'default':'minimal':U,Y=e.headerBackTitleStyle,Z=e.headerBackgroundContainerStyle,$=e.headerStyle,ee=e.headerShadowVisible,re=e.headerPressColor,oe=e.headerPressOpacity,te=e.headerStatusBarHeight,de=void 0===te?C?0:c.top:te,ae=(0,_r(d[13]).getDefaultHeaderHeight)(T,W,de),ie=n.StyleSheet.flatten($||{}),ne=ie.height,le=void 0===ne?ae:ne,se=ie.maxHeight,be=ie.minHeight,ue=ie.backfaceVisibility,he=ie.backgroundColor,ce=ie.borderBlockColor,fe=ie.borderBlockEndColor,pe=ie.borderBlockStartColor,ge=ie.borderBottomColor,Se=ie.borderBottomEndRadius,me=ie.borderBottomLeftRadius,Ce=ie.borderBottomRightRadius,ye=ie.borderBottomStartRadius,Re=ie.borderBottomWidth,Be=ie.borderColor,xe=ie.borderCurve,ve=ie.borderEndColor,we=ie.borderEndEndRadius,Ee=ie.borderEndStartRadius,Oe=ie.borderEndWidth,ke=ie.borderLeftColor,Te=ie.borderLeftWidth,je=ie.borderRadius,We=ie.borderRightColor,He=ie.borderRightWidth,Le=ie.borderStartColor,Pe=ie.borderStartEndRadius,Me=ie.borderStartStartRadius,Ve=ie.borderStartWidth,Ae=ie.borderStyle,De=ie.borderTopColor,Fe=ie.borderTopEndRadius,Ie=ie.borderTopLeftRadius,ze=ie.borderTopRightRadius,Ge=ie.borderTopStartRadius,Ne=ie.borderTopWidth,qe=ie.borderWidth,Je=ie.boxShadow,Ke=ie.elevation,Qe=ie.filter,Ue=ie.mixBlendMode,Xe=ie.opacity,Ye=ie.shadowColor,Ze=ie.shadowOffset,$e=ie.shadowOpacity,er=ie.shadowRadius,rr=ie.transform,or=ie.transformOrigin,tr=((0,r.default)(ie,b),{backfaceVisibility:ue,backgroundColor:he,borderBlockColor:ce,borderBlockEndColor:fe,borderBlockStartColor:pe,borderBottomColor:ge,borderBottomEndRadius:Se,borderBottomLeftRadius:me,borderBottomRightRadius:Ce,borderBottomStartRadius:ye,borderBottomWidth:Re,borderColor:Be,borderCurve:xe,borderEndColor:ve,borderEndEndRadius:we,borderEndStartRadius:Ee,borderEndWidth:Oe,borderLeftColor:ke,borderLeftWidth:Te,borderRadius:je,borderRightColor:We,borderRightWidth:He,borderStartColor:Le,borderStartEndRadius:Pe,borderStartStartRadius:Me,borderStartWidth:Ve,borderStyle:Ae,borderTopColor:De,borderTopEndRadius:Fe,borderTopLeftRadius:Ie,borderTopRightRadius:ze,borderTopStartRadius:Ge,borderTopWidth:Ne,borderWidth:qe,boxShadow:Je,elevation:Ke,filter:Qe,mixBlendMode:Ue,opacity:Xe,shadowColor:Ye,shadowOffset:Ze,shadowOpacity:$e,shadowRadius:er,transform:rr,transformOrigin:or});for(var dr in tr)void 0===tr[dr]&&delete tr[dr];var ar=Object.assign({},F&&{backgroundColor:'transparent'},(F||!1===ee)&&Object.assign({borderBottomWidth:0},n.Platform.select({android:{elevation:0},web:{boxShadow:'none'},default:{shadowOpacity:0}})),tr),ir=null!=I?I:n.Platform.select({ios:p.primary,default:p.text}),nr=A?A({tintColor:ir,pressColor:re,pressOpacity:oe,displayMode:X,titleLayout:E,screenLayout:T,canGoBack:Boolean(H),onPress:H?S.goBack:void 0,label:null==H?void 0:H.title,labelStyle:Y,href:null==H?void 0:H.href}):null,lr=G?G({tintColor:ir,pressColor:re,pressOpacity:oe,canGoBack:Boolean(H)}):null,sr='function'!=typeof P?function(e){return(0,s.jsx)(_r(d[14]).HeaderTitle,Object.assign({},e))}:P;return(0,s.jsxs)(n.Animated.View,{pointerEvents:"box-none",style:[{height:le,minHeight:be,maxHeight:se,opacity:Xe,transform:rr}],children:[(0,s.jsx)(n.Animated.View,{pointerEvents:"box-none",style:[n.StyleSheet.absoluteFill,Z],children:z?z({style:ar}):(0,s.jsx)(_r(d[15]).HeaderBackground,{pointerEvents:!F||'transparent'!==ar.backgroundColor&&0!==(0,t.default)(ar.backgroundColor).alpha()?'auto':'none',style:ar})}),(0,s.jsx)(n.View,{pointerEvents:"none",style:{height:de}}),(0,s.jsxs)(n.View,{pointerEvents:"box-none",style:[h.content,'ios'===n.Platform.OS&&f.width>=u?h.large:null],children:[(0,s.jsx)(n.Animated.View,{pointerEvents:"box-none",style:[h.start,!B&&'center'===V&&h.expand,{marginStart:c.left},J],children:nr}),'ios'!==n.Platform.OS&&B?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Animated.View,{pointerEvents:"box-none",style:[h.title,{maxWidth:'center'===V?T.width-2*((nr?'minimal'!==X?80:32:16)+(lr||D?16:0)+Math.max(c.left,c.right)):T.width-((nr?52:16)+(lr||D?52:16)+c.left-c.right)},'left'===V&&nr?{marginStart:4}:{marginHorizontal:16},Q],children:sr({children:L,allowFontScaling:N,tintColor:I,onLayout:function(e){var r=e.nativeEvent.layout,o=r.height,t=r.width;O(function(e){return e&&o===e.height&&t===e.width?e:{height:o,width:t}})},style:q})}),(0,s.jsxs)(n.Animated.View,{pointerEvents:"box-none",style:[h.end,h.expand,{marginEnd:c.right},K],children:[lr,D?(0,s.jsx)(_r(d[16]).HeaderButton,{tintColor:ir,pressColor:re,pressOpacity:oe,onPress:function(){x(!0),null==D||null==D.onOpen||D.onOpen()},children:(0,s.jsx)(_r(d[17]).HeaderIcon,{source:l.default,tintColor:ir})}):null]})]}),'ios'===n.Platform.OS||B?(0,s.jsx)(_r(d[18]).HeaderSearchBar,Object.assign({},D,{visible:B,onClose:function(){x(!1),null==D||null==D.onClose||D.onClose()},tintColor:I,style:['ios'===n.Platform.OS?[n.StyleSheet.absoluteFill,{paddingTop:de?0:4},{backgroundColor:null!=he?he:p.card}]:!nr&&{marginStart:8}]})):null]})]})};var r=e(_r(d[1])),o=e(_r(d[2])),t=e(_r(d[3])),i=(function(e,r){if("function"==typeof WeakMap)var o=new WeakMap,t=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var i,n,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=r?t:o){if(i.has(e))return i.get(e);i.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((n=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(n.get||n.set)?i(l,s,n):l[s]=e[s]);return l})(e,r)})(_r(d[4])),n=_r(d[5]),l=e(_r(d[6])),s=_r(d[7]),b=["height","maxHeight","minHeight","backfaceVisibility","backgroundColor","borderBlockColor","borderBlockEndColor","borderBlockStartColor","borderBottomColor","borderBottomEndRadius","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStartRadius","borderBottomWidth","borderColor","borderCurve","borderEndColor","borderEndEndRadius","borderEndStartRadius","borderEndWidth","borderLeftColor","borderLeftWidth","borderRadius","borderRightColor","borderRightWidth","borderStartColor","borderStartEndRadius","borderStartStartRadius","borderStartWidth","borderStyle","borderTopColor","borderTopEndRadius","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","borderTopWidth","borderWidth","boxShadow","elevation","filter","mixBlendMode","opacity","shadowColor","shadowOffset","shadowOpacity","shadowRadius","transform","transformOrigin"];var u=414;var h=n.StyleSheet.create({content:{flex:1,flexDirection:'row',alignItems:'stretch'},large:{marginHorizontal:5},title:{justifyContent:'center'},start:{flexDirection:'row',alignItems:'center',justifyContent:'flex-start'},end:{flexDirection:'row',alignItems:'center',justifyContent:'flex-end'},expand:{flexGrow:1,flexBasis:0}})},645,[1,4,34,634,75,2,646,244,622,648,503,649,651,658,659,660,657,654,661]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:24,height:24,scales:[1,2,3,4],hash:"940453dc5cbfaa96cf907b3aa7791ece",name:"search-icon",type:"png"})},646,[647]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getAssetByID",{enumerable:!0,get:function(){return r(d[0]).getAssetByID}}),Object.defineProperty(e,"registerAsset",{enumerable:!0,get:function(){return r(d[0]).registerAsset}})},647,[96]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.FrameSizeProvider=function(e){var c=e.initialFrame,f=e.render,h=t.useRef({width:c.width,height:c.height}),s=t.useRef(new Set),l=(0,n.default)(function(){return h.current}),v=(0,n.default)(function(e){return s.current.add(e),function(){s.current.delete(e)}}),w=(0,n.default)(function(e){var t,r=!1,n=!1,i=v(function(){clearTimeout(t),r=!0,n?t=setTimeout(function(){r&&(r=!1,e())},100):(n=!0,setTimeout(function(){n=!1},100),r=!1,e())});return function(){i(),clearTimeout(t)}}),b=t.useMemo(function(){return{getCurrent:l,subscribe:v,subscribeThrottled:w}},[v,w,l]),p=(0,n.default)(function(e){h.current.height===e.height&&h.current.width===e.width||(h.current={width:e.width,height:e.height},s.current.forEach(function(e){return e()}))}),y=t.useRef(null);t.useEffect(function(){var e;'web'!==r.Platform.OS&&(null==(e=y.current)||e.measure(function(e,t,r,n){p({width:r,height:n})}))},[p]);return(0,i.jsxs)(u.Provider,{value:b,children:['web'===r.Platform.OS?(0,i.jsx)(o,{onChange:p}):null,f({ref:y,onLayout:function(e){var t=e.nativeEvent.layout,r=t.width,n=t.height;p({width:r,height:n})}})]})},_e.useFrameSize=function(e,r){var n=t.useContext(u);if(null==n)throw new Error('useFrameSize must be used within a FrameSizeProvider');return(0,_r(d[5]).useSyncExternalStoreWithSelector)(r?n.subscribeThrottled:n.subscribe,n.getCurrent,n.getCurrent,e)};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,u,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?i(o,c,u):o[c]=e[c]);return o})(e,t)})(_r(d[1])),r=_r(d[2]),n=e(_r(d[3])),i=_r(d[4]);var u=t.createContext(void 0);function o(e){var r=e.onChange,n=t.useRef(null);return t.useEffect(function(){if(null!=n.current){var e=n.current.getBoundingClientRect();r({width:e.width,height:e.height});var t=new ResizeObserver(function(e){var t=e[0];if(t){var n=t.contentRect,i=n.width,u=n.height;r({width:i,height:u})}});return t.observe(n.current),function(){t.disconnect()}}},[r]),(0,i.jsx)("div",{ref:n,style:{position:'absolute',left:0,right:0,top:0,bottom:0,pointerEvents:'none',visibility:'hidden'}})}},648,[1,75,2,510,244,595]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderShownContext=void 0;e.HeaderShownContext=(0,r(d[0]).getNamedContext)('HeaderShownContext',!1)},649,[650]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.getNamedContext=function(e,r){var o=globalThis[n].get(e);if(o)return o;return(o=t.createContext(r)).displayName=e,globalThis[n].set(e,o),o};var e,t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(l,u,i):l[u]=e[u]);return l})(e,t)})(_r(d[0]));var n='__react_navigation__elements_contexts';globalThis[n]=null!=(e=globalThis[n])?e:new Map},650,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.HeaderBackButton=function(e){var c=e.disabled,f=e.allowFontScaling,y=e.backImage,b=e.label,h=e.labelStyle,p=e.displayMode,x=void 0===p?'ios'===l.Platform.OS?'default':'minimal':p,w=e.onLabelLayout,k=e.onPress,O=e.pressColor,S=e.pressOpacity,j=e.screenLayout,v=e.tintColor,L=e.titleLayout,M=e.truncatedLabel,P=void 0===M?'Back':M,_=e.accessibilityLabel,C=void 0===_?b&&'Back'!==b?`${b}, back`:'Go back':_,I=e.testID,W=e.style,A=e.href,E=(0,_r(d[7]).useTheme)(),F=E.colors,V=E.fonts,B=(0,_r(d[7]).useLocale)().direction,D=n.useState(null),H=(0,t.default)(D,2),z=H[0],N=H[1],R=n.useState(null),T=(0,t.default)(R,2),G=T[0],q=T[1];return(0,o.jsx)(_r(d[10]).HeaderButton,{disabled:c,href:A,accessibilityLabel:C,testID:I,onPress:function(){k&&requestAnimationFrame(function(){return k()})},pressColor:O,pressOpacity:S,style:[u.container,W],children:(0,o.jsxs)(n.Fragment,{children:[y?y({tintColor:null!=v?v:F.text}):(0,o.jsx)(_r(d[8]).HeaderIcon,{source:i.default,tintColor:v,style:[u.icon,'minimal'!==x&&u.iconWithLabel]}),(function(){if('minimal'===x)return null;var e=L&&j?(j.width-L.width)/2-(s+_r(d[8]).ICON_MARGIN):null,t='default'===x?b:P,n=e&&z&&G?e>z?t:e>G?P:null:t,i=[V.regular,u.label,h],c=[i,{position:'absolute',top:0,left:0,opacity:0}],p=(0,o.jsxs)(l.View,{style:u.labelWrapper,children:[b&&'default'===x?(0,o.jsx)(l.Animated.Text,{style:c,numberOfLines:1,onLayout:function(e){return N(e.nativeEvent.layout.width)},children:b}):null,P?(0,o.jsx)(l.Animated.Text,{style:c,numberOfLines:1,onLayout:function(e){return q(e.nativeEvent.layout.width)},children:P}):null,n?(0,o.jsx)(l.Animated.Text,{accessible:!1,onLayout:w,style:[v?{color:v}:null,i],numberOfLines:1,allowFontScaling:!!f,children:n}):null]});return y||'ios'!==l.Platform.OS?p:(0,o.jsx)(_r(d[9]).MaskedView,{maskElement:(0,o.jsxs)(l.View,{style:[u.iconMaskContainer,j?{minWidth:j.width/2-27}:null],children:[(0,o.jsx)(l.Image,{source:r.default,resizeMode:"contain",style:[u.iconMask,'rtl'===B&&u.flip]}),(0,o.jsx)(l.View,{style:u.iconMaskFillerRect})]}),children:p})})()]})})};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,l=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,r,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?l:n){if(i.has(e))return i.get(e);i.set(e,o)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((r=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(r.get||r.set)?i(o,s,r):o[s]=e[s]);return o})(e,t)})(_r(d[2])),l=_r(d[3]),i=e(_r(d[4])),r=e(_r(d[5])),o=_r(d[6]);var s='ios'===l.Platform.OS?13:24,c='ios'===l.Platform.OS?22:3,u=l.StyleSheet.create({container:Object.assign({paddingHorizontal:0,minWidth:l.StyleSheet.hairlineWidth},l.Platform.select({ios:null,default:{marginVertical:3,marginHorizontal:11}})),label:{fontSize:17,letterSpacing:.35},labelWrapper:{flexDirection:'row',alignItems:'flex-start',marginEnd:_r(d[8]).ICON_MARGIN},icon:{width:s,marginEnd:c},iconWithLabel:'ios'===l.Platform.OS?{marginEnd:6}:{},iconMaskContainer:{flex:1,flexDirection:'row',justifyContent:'center'},iconMaskFillerRect:{flex:1,backgroundColor:'#000'},iconMask:{height:21,width:13,marginStart:-14.5,marginVertical:12,alignSelf:'center'},flip:{transform:'scaleX(-1)'}})},651,[1,34,75,2,652,653,244,503,654,655,657]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:24,height:24,scales:[1,2,3,4],hash:"dbc3af23c3cbbe45d326afc1d31c2e92",name:"back-icon",type:"png"})},652,[647]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:50,height:85,scales:[1],hash:"0a328cd9c1afd0afe8e3b1ec5165b1b4",name:"back-icon-mask",type:"png"})},653,[647]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderIcon=function(t){var l=t.source,u=t.style,I=(0,o.default)(t,n),O=(0,r(d[4]).useTheme)().colors,_=(0,r(d[4]).useLocale)().direction;return(0,c.jsx)(s.Image,Object.assign({source:l,resizeMode:"contain",fadeDuration:0,tintColor:O.text,style:[f.icon,'rtl'===_&&f.flip,u]},I))},e.ICON_SIZE=e.ICON_MARGIN=void 0;var o=t(r(d[1])),s=r(d[2]),c=r(d[3]),n=["source","style"];var l=e.ICON_SIZE='ios'===s.Platform.OS?21:24,u=e.ICON_MARGIN='ios'===s.Platform.OS?8:3,f=s.StyleSheet.create({icon:{width:l,height:l,margin:u},flip:{transform:'scaleX(-1)'}})},654,[1,4,2,244,503]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MaskedView",{enumerable:!0,get:function(){return r(d[0]).MaskedView}})},655,[656]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MaskedView=function(e){var n=e.children,o=(0,r.default)(e,f);if(u&&t)return(0,i.jsx)(t,Object.assign({},o,{children:n}));return n};var t,r=e(_r(d[1])),n=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,u)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((f=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(f.get||f.set)?i(u,o,f):u[o]=e[o])})(e,t)})(_r(d[2])),_r(d[3])),i=_r(d[4]),f=["children"];try{t=_r(d[5]).default}catch(e){}var u=null!=n.UIManager.getViewManagerConfig('RNCMaskedView')},656,[1,4,75,2,244,null]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.HeaderButton=void 0;var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var i,n,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=r?o:t){if(i.has(e))return i.get(e);i.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((n=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(n.get||n.set)?i(s,l,n):s[l]=e[l]);return s})(e,r)})(_r(d[0])),r=_r(d[1]),t=_r(d[2]);function o(e,o){var s=e.disabled,l=e.onPress,f=e.pressColor,u=e.pressOpacity,c=e.accessibilityLabel,p=e.testID,b=e.style,y=e.href,P=e.children;return(0,t.jsx)(_r(d[3]).PlatformPressable,{ref:o,disabled:s,href:y,"aria-label":c,testID:p,onPress:l,pressColor:f,pressOpacity:u,android_ripple:i,style:[n.container,s&&n.disabled,b],hitSlop:r.Platform.select({ios:void 0,default:{top:16,right:16,bottom:16,left:16}}),children:P})}(_e.HeaderButton=e.forwardRef(o)).displayName='HeaderButton';var i={borderless:!0,foreground:'android'===r.Platform.OS&&r.Platform.Version>=23,radius:20},n=r.StyleSheet.create({container:{flexDirection:'row',alignItems:'center',paddingHorizontal:8,borderRadius:10,borderCurve:'continuous'},disabled:{opacity:.5}})},657,[75,2,244,643]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultHeaderHeight=function(o,f,l){var s,u='ios'===t.Platform.OS&&l>50?l-(5+1/t.PixelRatio.get()):l,P=o.width>o.height;s='ios'===t.Platform.OS?t.Platform.isPad||t.Platform.isTV?f?56:50:P?32:f?56:44:64;return s+u};var t=r(d[0])},658,[2]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderTitle=function(t){var u=t.tintColor,c=t.style,v=(0,l.default)(t,s),y=(0,r(d[4]).useTheme)(),S=y.colors,b=y.fonts;return(0,n.jsx)(o.Animated.Text,Object.assign({role:"heading","aria-level":"1",numberOfLines:1},v,{style:[{color:void 0===u?S.text:u},o.Platform.select({ios:b.bold,default:b.medium}),f.title,c]}))};var l=t(r(d[1])),o=r(d[2]),n=r(d[3]),s=["tintColor","style"];var f=o.StyleSheet.create({title:o.Platform.select({ios:{fontSize:17},android:{fontSize:20},default:{fontSize:18}})})},659,[1,4,2,244,503]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.HeaderBackground=function(e){var l=e.style,s=(0,t.default)(e,n),f=(0,_r(d[5]).useTheme)(),c=f.colors,u=f.dark;return(0,o.jsx)(r.Animated.View,Object.assign({style:[i.container,Object.assign({backgroundColor:c.card,borderBottomColor:c.border},'ios'===r.Platform.OS&&{shadowColor:u?'rgba(255, 255, 255, 0.45)':'rgba(0, 0, 0, 1)'}),l]},s))};var t=e(_r(d[1])),r=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?n(l,s,i):l[s]=e[s])})(e,t)})(_r(d[2])),_r(d[3])),o=_r(d[4]),n=["style"];var i=r.StyleSheet.create({container:Object.assign({flex:1},r.Platform.select({android:{elevation:4},ios:{shadowOpacity:.3,shadowRadius:0,shadowOffset:{width:0,height:r.StyleSheet.hairlineWidth}},default:{borderBottomWidth:r.StyleSheet.hairlineWidth}}))})},660,[1,4,75,2,244,503]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.HeaderSearchBar=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?o(i,u,l):i[u]=e[u]);return i})(e,t)})(_r(d[4])),l=_r(d[5]),i=e(_r(d[6])),u=e(_r(d[7])),s=e(_r(d[8])),c=_r(d[9]),f=["visible","inputType","autoFocus","autoCapitalize","placeholder","cancelButtonText","enterKeyHint","onChangeText","onClose","tintColor","style"];var p={text:'text',number:'numeric',phone:'tel',email:'email'},h='web'!==l.Platform.OS;function v(e,v){var b=e.visible,x=e.inputType,C=e.autoFocus,P=void 0===C||C,S=e.autoCapitalize,j=e.placeholder,T=void 0===j?'Search':j,B=e.cancelButtonText,w=void 0===B?'Cancel':B,H=e.enterKeyHint,O=void 0===H?'search':H,z=e.onChangeText,I=e.onClose,_=e.tintColor,k=e.style,M=(0,n.default)(e,f),A=(0,_r(d[10]).useNavigation)(),R=(0,_r(d[10]).useTheme)(),V=R.dark,D=R.colors,E=R.fonts,N=o.useState(''),W=(0,t.default)(N,2),F=W[0],K=W[1],L=o.useState(b),q=(0,t.default)(L,2),G=q[0],J=q[1],Q=o.useState(function(){return new l.Animated.Value(b?1:0)}),U=(0,t.default)(Q,1)[0],X=o.useState(function(){return new l.Animated.Value(0)}),Y=(0,t.default)(X,1)[0],Z=o.useRef(b),$=o.useRef(!1),ee=o.useRef(null);o.useEffect(function(){if(b!==Z.current)return l.Animated.timing(U,{toValue:b?1:0,duration:100,useNativeDriver:h}).start(function(e){e.finished&&(J(b),Z.current=b)}),function(){U.stopAnimation()}},[b,U]);var te=''!==F;o.useEffect(function(){$.current!==te&&l.Animated.timing(Y,{toValue:te?1:0,duration:100,useNativeDriver:h}).start(function(e){e.finished&&($.current=te)})},[Y,te]);var ne=o.useCallback(function(){var e,t;null==(e=ee.current)||e.clear(),null==(t=ee.current)||t.focus(),K('')},[]),re=o.useCallback(function(){ne(),null==z||z({nativeEvent:{text:''}})},[ne,z]),oe=o.useCallback(function(){re(),I()},[re,I]);if(o.useEffect(function(){return null==A?void 0:A.addListener('blur',oe)},[oe,A]),o.useImperativeHandle(v,function(){return{focus:function(){var e;null==(e=ee.current)||e.focus()},blur:function(){var e;null==(e=ee.current)||e.blur()},setText:function(e){var t;null==(t=ee.current)||t.setNativeProps({text:e}),K(e)},clearText:ne,cancelSearch:oe}},[oe,ne]),!b&&!G)return null;var ae=null!=_?_:D.text;return(0,c.jsxs)(l.Animated.View,{pointerEvents:b?'auto':'none',"aria-live":"polite","aria-hidden":!b,style:[y.container,{opacity:U},k],children:[(0,c.jsxs)(l.View,{style:y.searchbarContainer,children:[(0,c.jsx)(_r(d[11]).HeaderIcon,{source:s.default,tintColor:ae,style:y.inputSearchIcon}),(0,c.jsx)(l.TextInput,Object.assign({},M,{ref:ee,onChange:z,onChangeText:K,autoFocus:P,autoCapitalize:'systemDefault'===S?void 0:S,inputMode:p[null!=x?x:'text'],enterKeyHint:O,placeholder:T,placeholderTextColor:(0,r.default)(ae).alpha(.5).string(),cursorColor:D.primary,selectionHandleColor:D.primary,selectionColor:(0,r.default)(D.primary).alpha(.3).string(),style:[E.regular,y.searchbar,{backgroundColor:l.Platform.select({ios:V?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)',default:'transparent'}),color:ae,borderBottomColor:(0,r.default)(ae).alpha(.2).string()}]})),'ios'===l.Platform.OS?(0,c.jsx)(_r(d[12]).PlatformPressable,{onPress:re,style:[{opacity:Y,transform:[{scale:Y}]},y.clearButton],children:(0,c.jsx)(l.Image,{source:i.default,resizeMode:"contain",tintColor:ae,style:y.clearIcon})}):null]}),'ios'!==l.Platform.OS?(0,c.jsx)(_r(d[13]).HeaderButton,{onPress:function(){F?re():I()},style:y.closeButton,children:(0,c.jsx)(_r(d[11]).HeaderIcon,{source:u.default,tintColor:ae})}):null,'ios'===l.Platform.OS?(0,c.jsx)(_r(d[12]).PlatformPressable,{onPress:oe,style:y.cancelButton,children:(0,c.jsx)(_r(d[14]).Text,{style:[E.regular,{color:null!=_?_:D.primary},y.cancelText],children:w})}):null]})}var y=l.StyleSheet.create({container:{flex:1,flexDirection:'row',alignItems:'stretch'},inputSearchIcon:Object.assign({position:'absolute',opacity:.5,left:l.Platform.select({ios:16,default:4}),top:l.Platform.select({ios:-1,default:17})},l.Platform.select({ios:{height:18,width:18},default:{}})),closeButton:{position:'absolute',opacity:.5,right:l.Platform.select({ios:0,default:8}),top:l.Platform.select({ios:-2,default:17})},clearButton:{position:'absolute',right:0,top:-7,bottom:0,justifyContent:'center',padding:8},clearIcon:{height:16,width:16,opacity:.5},cancelButton:{alignSelf:'center',top:-4},cancelText:{fontSize:17,marginHorizontal:12},searchbarContainer:{flex:1},searchbar:l.Platform.select({ios:{flex:1,fontSize:17,paddingHorizontal:32,marginLeft:16,marginTop:-1,marginBottom:4,borderRadius:8,borderCurve:'continuous'},default:{flex:1,fontSize:18,paddingHorizontal:36,marginRight:8,marginTop:8,marginBottom:8,borderBottomWidth:1}})});_e.HeaderSearchBar=o.forwardRef(v)},661,[1,34,4,634,75,2,662,663,646,244,503,654,643,657,644]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:64,height:64,scales:[1,1,2,3,4],hash:"61378328a719f21f093de82dd89ecfb0",name:"clear-icon",type:"png"})},662,[647]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:96,height:96,scales:[1,1,2,3,4],hash:"3162e8a244d8f6fbd259e79043e23ce4",name:"close-icon",type:"png"})},663,[647]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderBackContext=void 0;e.HeaderBackContext=(0,r(d[0]).getNamedContext)('HeaderBackContext',void 0)},664,[650]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderHeightContext=void 0;e.HeaderHeightContext=(0,r(d[0]).getNamedContext)('HeaderHeightContext',void 0)},665,[650]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Label=function(t){var n=t.tintColor,c=t.style,b=(0,l.default)(t,s);return(0,o.jsx)(r(d[4]).Text,Object.assign({numberOfLines:1},b,{style:[u.label,null!=n&&{color:n},c]}))};var l=t(r(d[1])),n=r(d[2]),o=r(d[3]),s=["tintColor","style"];var u=n.StyleSheet.create({label:{textAlign:'center',backgroundColor:'transparent'}})},666,[1,4,2,244,644]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Lazy=function(e){var n=e.enabled,u=e.visible,f=e.children,i=r.useState(!!n&&u),l=(0,t.default)(i,2),o=l[0],c=l[1],s=!(n||u||o);if(r.useEffect(function(){if(!1!==s){var e=requestIdleCallback(function(){c(!0)});return function(){return cancelIdleCallback(e)}}},[s]),u&&!1===o)return c(!0),f;if(o)return f;return null};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(f.get||f.set)?u(i,l,f):i[l]=e[l]);return i})(e,t)})(_r(d[2]))},667,[1,34,75]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MissingIcon=function(t){var c=t.color,s=t.size,l=t.style;return(0,n.jsx)(r(d[2]).Text,{style:[o.icon,{color:c,fontSize:s},l],children:"\u23f7"})};var t=r(d[0]),n=r(d[1]);var o=t.StyleSheet.create({icon:{backgroundColor:'transparent'}})},668,[2,244,644]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ResourceSavingView=function(e){var l=e.visible,c=e.children,s=e.style,f=(0,t.default)(e,i);if('web'===n.Platform.OS)return(0,r.jsx)(n.View,Object.assign({hidden:!l,style:[{display:l?'flex':'none'},o.container,s],pointerEvents:l?'auto':'none'},f,{children:c}));return(0,r.jsx)(n.View,{style:[o.container,s],pointerEvents:l?'auto':'none',children:(0,r.jsx)(n.View,{collapsable:!1,removeClippedSubviews:'ios'!==n.Platform.OS&&'macos'!==n.Platform.OS||!l,pointerEvents:l?'auto':'none',style:l?o.attached:o.detached,children:c})})};var t=e(_r(d[1])),n=((function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,l)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?i(l,c,o):l[c]=e[c])})(e,t)})(_r(d[2])),_r(d[3])),r=_r(d[4]),i=["visible","children","style"];var o=n.StyleSheet.create({container:{flex:1,overflow:'hidden'},attached:{flex:1},detached:{flex:1,top:3e4}})},669,[1,4,75,2,244]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.SafeAreaProviderCompat=s;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(n=t?i:r){if(n.has(e))return n.get(e);n.set(e,f)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?n(f,l,o):f[l]=e[l]);return f})(e,t)})(_r(d[0])),t=_r(d[1]),r=_r(d[2]);var i=t.Dimensions.get('window'),n=i.width,o=void 0===n?0:n,f=i.height,l=void 0===f?0:f,u='web'===t.Platform.OS||null==_r(d[3]).initialWindowMetrics?{frame:{x:0,y:0,width:o,height:l},insets:{top:0,left:0,right:0,bottom:0}}:_r(d[3]).initialWindowMetrics;function s(i){var n=i.children,o=i.style,f=e.useContext(_r(d[3]).SafeAreaInsetsContext);return(0,r.jsx)(_r(d[4]).FrameSizeProvider,{initialFrame:u.frame,render:function(e){var i=e.ref,l=e.onLayout;return f?(0,r.jsx)(t.View,{ref:i,onLayout:l,style:[c.container,o],children:n}):(0,r.jsx)(_r(d[3]).SafeAreaProvider,{initialMetrics:u,style:o,onLayout:l,children:n})}})}s.initialMetrics=u;var c=t.StyleSheet.create({container:{flex:1}})},670,[75,2,244,622,648]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Screen=function(e){var u=(0,_r(d[5]).useSafeAreaInsets)(),l=n.useContext(_r(d[6]).HeaderShownContext),s=n.useContext(_r(d[7]).HeaderHeightContext),c=e.focused,f=e.modal,h=void 0!==f&&f,v=e.header,x=e.headerShown,p=void 0===x||x,y=e.headerTransparent,j=e.headerStatusBarHeight,S=void 0===j?l?0:u.top:j,_=e.navigation,b=e.route,w=e.children,H=e.style,C=(0,_r(d[8]).useFrameSize)(function(e){return(0,_r(d[9]).getDefaultHeaderHeight)(e,h,S)}),P=n.useRef(null),M=n.useState(C),O=(0,t.default)(M,2),k=O[0],E=O[1];return n.useLayoutEffect(function(){var e;null==(e=P.current)||e.measure(function(e,t,n,r){E(r)})},[b.name]),(0,o.jsxs)(_r(d[10]).Background,{"aria-hidden":!c,style:[i.container,H],collapsable:!1,children:[p?(0,o.jsx)(_r(d[11]).NavigationContext.Provider,{value:_,children:(0,o.jsx)(_r(d[11]).NavigationRouteContext.Provider,{value:b,children:(0,o.jsx)(r.View,{ref:P,pointerEvents:"box-none",onLayout:function(e){var t=e.nativeEvent.layout.height;E(t)},style:[i.header,y?i.absolute:null],children:v})})}):null,(0,o.jsx)(r.View,{style:i.content,children:(0,o.jsx)(_r(d[6]).HeaderShownContext.Provider,{value:l||!1!==p,children:(0,o.jsx)(_r(d[7]).HeaderHeightContext.Provider,{value:p?k:null!=s?s:0,children:w})})})]})};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?o(u,l,i):u[l]=e[l]);return u})(e,t)})(_r(d[2])),r=_r(d[3]),o=_r(d[4]);var i=r.StyleSheet.create({container:{flex:1},content:{flex:1},header:{zIndex:1},absolute:{position:'absolute',top:0,start:0,end:0}})},671,[1,34,75,2,244,622,649,665,648,658,632,503]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultSidebarWidth=void 0;e.getDefaultSidebarWidth=function(t){var u=t.width;return u-56<=360?u-56:360}},672,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHeaderTitle=function(t,l){return'string'==typeof t.headerTitle?t.headerTitle:void 0!==t.title?t.title:l}},673,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLabel=function(t,l){return void 0!==t.label?t.label:void 0!==t.title?t.title:l}},674,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useHeaderHeight=function(){var t=e.useContext(_r(d[1]).HeaderHeightContext);if(void 0===t)throw new Error("Couldn't find the header height. Are you inside a screen in a navigator with a header?");return t};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},675,[75,665]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},676,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=function(t,n){var u;return function(){for(var o=this,c=arguments.length,f=new Array(c),l=0;l<c;l++)f[l]=arguments[l];clearTimeout(u),u=setTimeout(function(){t.apply(o,f)},n)}}},677,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0});var r={enableScreens:!0,enableFreeze:!0,screensEnabled:!0,freezeEnabled:!0,Screen:!0,InnerScreen:!0,ScreenContext:!0,ScreenStackHeaderConfig:!0,ScreenStackHeaderSubview:!0,ScreenStackHeaderLeftView:!0,ScreenStackHeaderCenterView:!0,ScreenStackHeaderRightView:!0,ScreenStackHeaderBackButtonImage:!0,ScreenStackHeaderSearchBarView:!0,SearchBar:!0,ScreenContainer:!0,ScreenStack:!0,ScreenStackItem:!0,FullWindowOverlay:!0,ScreenFooter:!0,ScreenContentWrapper:!0,isSearchBarAvailableForCurrentPlatform:!0,executeNativeBackPress:!0,compatibilityFlags:!0,featureFlags:!0,useTransitionProgress:!0,BottomTabs:!0,BottomTabsScreen:!0};Object.defineProperty(_e,"BottomTabs",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(_e,"BottomTabsScreen",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(_e,"FullWindowOverlay",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(_e,"InnerScreen",{enumerable:!0,get:function(){return t.InnerScreen}}),Object.defineProperty(_e,"Screen",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(_e,"ScreenContainer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(_e,"ScreenContentWrapper",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(_e,"ScreenContext",{enumerable:!0,get:function(){return t.ScreenContext}}),Object.defineProperty(_e,"ScreenFooter",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(_e,"ScreenStack",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(_e,"ScreenStackHeaderBackButtonImage",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderBackButtonImage}}),Object.defineProperty(_e,"ScreenStackHeaderCenterView",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderCenterView}}),Object.defineProperty(_e,"ScreenStackHeaderConfig",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderConfig}}),Object.defineProperty(_e,"ScreenStackHeaderLeftView",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderLeftView}}),Object.defineProperty(_e,"ScreenStackHeaderRightView",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderRightView}}),Object.defineProperty(_e,"ScreenStackHeaderSearchBarView",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderSearchBarView}}),Object.defineProperty(_e,"ScreenStackHeaderSubview",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderSubview}}),Object.defineProperty(_e,"ScreenStackItem",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"SearchBar",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(_e,"compatibilityFlags",{enumerable:!0,get:function(){return _r(d[2]).compatibilityFlags}}),Object.defineProperty(_e,"enableFreeze",{enumerable:!0,get:function(){return _r(d[3]).enableFreeze}}),Object.defineProperty(_e,"enableScreens",{enumerable:!0,get:function(){return _r(d[3]).enableScreens}}),Object.defineProperty(_e,"executeNativeBackPress",{enumerable:!0,get:function(){return _r(d[4]).executeNativeBackPress}}),Object.defineProperty(_e,"featureFlags",{enumerable:!0,get:function(){return _r(d[2]).featureFlags}}),Object.defineProperty(_e,"freezeEnabled",{enumerable:!0,get:function(){return _r(d[3]).freezeEnabled}}),Object.defineProperty(_e,"isSearchBarAvailableForCurrentPlatform",{enumerable:!0,get:function(){return _r(d[4]).isSearchBarAvailableForCurrentPlatform}}),Object.defineProperty(_e,"screensEnabled",{enumerable:!0,get:function(){return _r(d[3]).screensEnabled}}),Object.defineProperty(_e,"useTransitionProgress",{enumerable:!0,get:function(){return b.default}}),_r(d[5]),Object.keys(_r(d[6])).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in _e&&_e[e]===_r(d[6])[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return _r(d[6])[e]}}))});var t=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var c,u,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(c=r?n:t){if(c.has(e))return c.get(e);c.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?c(o,i,u):o[i]=e[i]);return o})(e,r)})(_r(d[7])),n=e(_r(d[8])),c=e(_r(d[9])),u=e(_r(d[10])),o=e(_r(d[11])),i=e(_r(d[12])),f=e(_r(d[13])),l=e(_r(d[14])),b=e(_r(d[15])),S=e(_r(d[16])),p=e(_r(d[17]))},678,[1,679,680,685,683,686,687,691,699,701,704,708,716,714,710,718,719,726]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenStackHeaderSubview=e.ScreenStackHeaderSearchBarView=e.ScreenStackHeaderRightView=e.ScreenStackHeaderLeftView=e.ScreenStackHeaderConfig=e.ScreenStackHeaderCenterView=e.ScreenStackHeaderBackButtonImage=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=r(d[4]),c=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),S=r(d[8]),h=["style"],v=["style"],b=["style"],y=e.ScreenStackHeaderSubview=f.default;(e.ScreenStackHeaderConfig=s.default.forwardRef(function(t,n){var s=t.headerLeftBarButtonItems,u=t.headerRightBarButtonItems,f=s&&r(d[9]).isHeaderBarButtonsAvailableForCurrentPlatform?(0,r(d[10]).prepareHeaderBarButtonItems)(s,'left'):void 0,h=u&&r(d[9]).isHeaderBarButtonsAvailableForCurrentPlatform?(0,r(d[10]).prepareHeaderBarButtonItems)(u,'right'):void 0,v=r(d[9]).isHeaderBarButtonsAvailableForCurrentPlatform&&((null==f?void 0:f.length)||(null==h?void 0:h.length)),b=v?function(t){var n=[].concat((0,o.default)(null!=f?f:[]),(0,o.default)(null!=h?h:[])).find(function(n){return n&&'buttonId'in n&&n.buttonId===t.nativeEvent.buttonId});n&&'button'===n.type&&n.onPress&&n.onPress()}:void 0,y=v?function(t){var n=function(t,o){for(var s of t.items)if('items'in s){var u=n(s,o);if(u)return u}else if('menuId'in s&&s.menuId===o)return s},s=[].concat((0,o.default)(null!=f?f:[]),(0,o.default)(null!=h?h:[]));for(var u of s)if(u&&'menu'===u.type&&u.menu){var c=n(u.menu,t.nativeEvent.menuId);if(c)return void c.onPress()}}:void 0;return(0,S.jsx)(l.default,Object.assign({},t,{userInterfaceStyle:t.experimental_userInterfaceStyle,headerLeftBarButtonItems:f,headerRightBarButtonItems:h,onPressHeaderBarButtonItem:b,onPressHeaderBarButtonMenuItem:y,ref:n,style:p.headerConfig,pointerEvents:"box-none",synchronousShadowStateUpdatesEnabled:c.default.experiment.synchronousHeaderConfigUpdatesEnabled}))})).displayName='ScreenStackHeaderConfig';e.ScreenStackHeaderBackButtonImage=function(t){return(0,S.jsx)(y,{type:"back",style:p.headerSubview,synchronousShadowStateUpdatesEnabled:c.default.experiment.synchronousHeaderSubviewUpdatesEnabled,children:(0,S.jsx)(u.Image,Object.assign({resizeMode:"center",fadeDuration:0},t))})},e.ScreenStackHeaderRightView=function(t){var o=t.style,s=(0,n.default)(t,h);return(0,S.jsx)(y,Object.assign({},s,{type:"right",synchronousShadowStateUpdatesEnabled:c.default.experiment.synchronousHeaderSubviewUpdatesEnabled,style:[p.headerSubview,o]}))},e.ScreenStackHeaderLeftView=function(t){var o=t.style,s=(0,n.default)(t,v);return(0,S.jsx)(y,Object.assign({},s,{type:"left",synchronousShadowStateUpdatesEnabled:c.default.experiment.synchronousHeaderSubviewUpdatesEnabled,style:[p.headerSubview,o]}))},e.ScreenStackHeaderCenterView=function(t){var o=t.style,s=(0,n.default)(t,b);return(0,S.jsx)(y,Object.assign({},s,{type:"center",synchronousShadowStateUpdatesEnabled:c.default.experiment.synchronousHeaderSubviewUpdatesEnabled,style:[p.headerSubviewCenter,o]}))},e.ScreenStackHeaderSearchBarView=function(t){return(0,S.jsx)(y,Object.assign({},t,{type:"searchBar",synchronousShadowStateUpdatesEnabled:c.default.experiment.synchronousHeaderSubviewUpdatesEnabled,style:p.headerSubview}))};var p=u.StyleSheet.create({headerSubview:{flexDirection:'row',alignItems:'center',justifyContent:'center'},headerSubviewCenter:{flexDirection:'row',alignItems:'center',justifyContent:'center',flexShrink:1},headerConfig:{position:'absolute',width:'100%',flexDirection:'row',justifyContent:'space-between',alignItems:'ios'===u.Platform.OS?'center':void 0}})},679,[1,4,42,75,2,680,681,682,244,683,684]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.featureFlags=e.default=e.compatibilityFlags=void 0;var t=!1,n=!1,o=!1,s=!1,l=!0,c=(e.compatibilityFlags={isNewBackTitleImplementation:!0,usesHeaderFlexboxImplementation:!0,usesNewAndroidHeaderHeightImplementation:!0},{experiment:{controlledBottomTabs:t,synchronousScreenUpdatesEnabled:n,synchronousHeaderConfigUpdatesEnabled:o,synchronousHeaderSubviewUpdatesEnabled:s,androidResetScreenShadowStateOnOrientationChangeEnabled:l},stable:{}}),u=function(t,n){return{get:function(){return c.experiment[t]},set:function(o){o!==c.experiment[t]&&c.experiment[t]!==n&&console.error(`[RNScreens] ${t} feature flag modified for a second time; this might lead to unexpected effects`),c.experiment[t]=o}}},b=u('controlledBottomTabs',t),p=u('synchronousScreenUpdatesEnabled',n),h=u('synchronousHeaderConfigUpdatesEnabled',o),S=u('synchronousHeaderSubviewUpdatesEnabled',s),f=u('androidResetScreenShadowStateOnOrientationChangeEnabled',l),E=e.featureFlags={experiment:{get controlledBottomTabs(){return b.get()},set controlledBottomTabs(t){b.set(t)},get synchronousScreenUpdatesEnabled(){return p.get()},set synchronousScreenUpdatesEnabled(t){p.set(t)},get synchronousHeaderConfigUpdatesEnabled(){return h.get()},set synchronousHeaderConfigUpdatesEnabled(t){h.set(t)},get synchronousHeaderSubviewUpdatesEnabled(){return S.get()},set synchronousHeaderSubviewUpdatesEnabled(t){S.set(t)},get androidResetScreenShadowStateOnOrientationChangeEnabled(){return f.get()},set androidResetScreenShadowStateOnOrientationChangeEnabled(t){f.set(t)}},stable:{}};e.default=E},680,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenStackHeaderConfig",directEventTypes:{topAttached:{registrationName:"onAttached"},topDetached:{registrationName:"onDetached"},topPressHeaderBarButtonItem:{registrationName:"onPressHeaderBarButtonItem"},topPressHeaderBarButtonMenuItem:{registrationName:"onPressHeaderBarButtonMenuItem"}},validAttributes:Object.assign({backgroundColor:{process:r(d[1]).default},backTitle:!0,backTitleFontFamily:!0,backTitleFontSize:!0,backTitleVisible:!0,color:{process:r(d[1]).default},direction:!0,hidden:!0,hideShadow:!0,largeTitle:!0,largeTitleFontFamily:!0,largeTitleFontSize:!0,largeTitleFontWeight:!0,largeTitleBackgroundColor:{process:r(d[1]).default},largeTitleHideShadow:!0,largeTitleColor:{process:r(d[1]).default},translucent:!0,title:!0,titleFontFamily:!0,titleFontSize:!0,titleFontWeight:!0,titleColor:{process:r(d[1]).default},disableBackButtonMenu:!0,backButtonDisplayMode:!0,hideBackButton:!0,backButtonInCustomView:!0,blurEffect:!0,topInsetEnabled:!0,headerLeftBarButtonItems:!0,headerRightBarButtonItems:!0,synchronousShadowStateUpdatesEnabled:!0,userInterfaceStyle:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onAttached:!0,onDetached:!0,onPressHeaderBarButtonItem:!0,onPressHeaderBarButtonMenuItem:!0}))};e.default=r(d[3]).get('RNSScreenStackHeaderConfig',function(){return t})},681,[2,55,105,78]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenStackHeaderSubview",validAttributes:{type:!0,hidesSharedBackground:!0,synchronousShadowStateUpdatesEnabled:!0}};e.default=r(d[1]).get('RNSScreenStackHeaderSubview',function(){return t})},682,[2,78]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.executeNativeBackPress=function(){return t.BackHandler.exitApp(),!0},e.isSearchBarAvailableForCurrentPlatform=e.isHeaderBarButtonsAvailableForCurrentPlatform=void 0,e.parseBooleanToOptionalBooleanNativeProp=function(t){switch(t){case void 0:return'undefined';case!0:return'true';case!1:return'false'}};var t=r(d[0]);e.isSearchBarAvailableForCurrentPlatform=['ios','android'].includes(t.Platform.OS),e.isHeaderBarButtonsAvailableForCurrentPlatform='ios'===t.Platform.OS},683,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.prepareHeaderBarButtonItems=void 0;var o=r(d[0]),t=function(o,n,l){return Object.assign({},o,{items:o.items.map(function(o,s){var c,u='sfSymbol'===(null==(c=o.icon)?void 0:c.type)?o.icon.name:void 0;return'submenu'===o.type?Object.assign({},o,{sfSymbolName:u},t(o,s,l)):Object.assign({},o,{sfSymbolName:u,menuId:`${s}-${n}-${l}`})})})};e.prepareHeaderBarButtonItems=function(n,l){return null==n?void 0:n.map(function(n,s){var c,u,b,p,y,v,S;if('spacing'===n.type)return n;'imageSource'===(null==(c=n.icon)?void 0:c.type)?v=o.Image.resolveAssetSource(n.icon.imageSource):'templateSource'===(null==(u=n.icon)?void 0:u.type)&&(S=o.Image.resolveAssetSource(n.icon.templateSource));var f=n.titleStyle?Object.assign({},n.titleStyle,{color:(0,o.processColor)(n.titleStyle.color)}):void 0,j=n.tintColor?(0,o.processColor)(n.tintColor):void 0,O=n.badge?Object.assign({},n.badge,{style:Object.assign({},n.badge.style,{color:(0,o.processColor)(null==(b=n.badge.style)?void 0:b.color),backgroundColor:(0,o.processColor)(null==(p=n.badge.style)?void 0:p.backgroundColor)})}):void 0,C=Object.assign({},n,{imageSource:v,templateSource:S,sfSymbolName:'sfSymbol'===(null==(y=n.icon)?void 0:y.type)?n.icon.name:void 0,titleStyle:f,tintColor:j,badge:O});return'button'===n.type?Object.assign({},C,{buttonId:`${s}-${l}`}):'menu'===n.type?Object.assign({},C,{menu:t(n.menu,s,l)}):null})}},684,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.enableFreeze=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!t)return;l=n},e.enableScreens=function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(o=l,!t)return;o&&!n.UIManager.getViewManagerConfig('RNSScreen')&&console.error("Screen native module hasn't been linked. Please check the react-native-screens README for more details")},e.freezeEnabled=function(){return l},e.isNativePlatformSupported=void 0,e.screensEnabled=function(){return o};var n=r(d[0]),t=e.isNativePlatformSupported='ios'===n.Platform.OS||'android'===n.Platform.OS||'windows'===n.Platform.OS,o=t;var l=!1},685,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(d[0]);e.default=u.TurboModuleRegistry.get('RNSModule')},686,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))}),Object.keys(r(d[1])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[1])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[1])[n]}}))}),Object.keys(r(d[2])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[2])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[2])[n]}}))})},687,[688,689,690]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},688,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},689,[]);
__d(function(g,r,i,a,m,e,d){},690,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ScreenContext=e.InnerScreen=void 0;var n=t(r(d[1])),l=t(r(d[2])),o=r(d[3]),s=t(r(d[4])),u=t(r(d[5])),v=t(r(d[6])),c=t(r(d[7])),f=t(r(d[8])),p=r(d[9]),S=["enabled","freezeOnBlur","shouldFreeze"],h=["active","activityState","children","isNativeStack","fullScreenSwipeEnabled","gestureResponseDistance","scrollEdgeEffects","onGestureCancel","style"],b=["active","activityState","style","onComponentRef"],w=o.Animated.createAnimatedComponent(v.default),y=o.Animated.createAnimatedComponent(c.default),E=e.InnerScreen=l.default.forwardRef(function(t,v){var c=l.default.useRef(null);l.default.useImperativeHandle(v,function(){return c.current},[]);var E=(0,r(d[10]).usePrevious)(t.activityState),A=function(n){c.current=n,null==t.onComponentRef||t.onComponentRef(n)},C=l.default.useRef(new o.Animated.Value(0)).current,D=l.default.useRef(new o.Animated.Value(0)).current,x=l.default.useRef(new o.Animated.Value(0)).current,R=t.enabled,I=void 0===R?(0,r(d[11]).screensEnabled)():R,O=t.freezeOnBlur,_=void 0===O?(0,r(d[11]).freezeEnabled)():O,j=t.shouldFreeze,P=(0,n.default)(t,S),N=P.sheetAllowedDetents,T=void 0===N?[1]:N,z=P.sheetLargestUndimmedDetentIndex,W=void 0===z?r(d[12]).SHEET_DIMMED_ALWAYS:z,k=P.sheetGrabberVisible,V=void 0!==k&&k,G=P.sheetCornerRadius,M=void 0===G?-1:G,U=P.sheetExpandsWhenScrolledToEdge,B=void 0===U||U,F=P.sheetElevation,L=void 0===F?24:F,H=P.sheetInitialDetentIndex,Y=void 0===H?0:H,q=P.sheetShouldOverflowTopInset,J=void 0!==q&&q,K=P.screenId,Q=P.stackPresentation,X=P.onAppear,Z=P.onDisappear,$=P.onWillAppear,ee=P.onWillDisappear;if(I&&r(d[11]).isNativePlatformSupported){var te,ne,ae,le,ie,oe=(0,r(d[12]).resolveSheetAllowedDetents)(T),re=(0,r(d[12]).resolveSheetLargestUndimmedDetent)(W,oe.length-1),de=(0,r(d[12]).resolveSheetInitialDetentIndex)(Y,oe.length-1),se=o.Platform.select({ios:!(void 0===Q||'push'===Q||'containedModal'===Q||'containedTransparentModal'===Q),android:!1,default:!1})?y:w,ue=P.active,ve=P.activityState,ce=P.children,fe=P.isNativeStack,pe=P.fullScreenSwipeEnabled,ge=P.gestureResponseDistance,Se=P.scrollEdgeEffects,he=P.onGestureCancel,be=P.style,we=(0,n.default)(P,h);if(void 0!==ue&&void 0===ve&&(console.warn('It appears that you are using old version of react-navigation library. Please update @react-navigation/bottom-tabs, @react-navigation/stack and @react-navigation/drawer to version 5.10.0 or above to take full advantage of new functionality added to react-native-screens'),ve=0!==ue?2:0),fe&&void 0!==E&&void 0!==ve&&E>ve)throw new Error('[RNScreens] activityState cannot be decreased in NativeStack');var ye=_&&(void 0!==j?j:0===ve);return(0,p.jsx)(u.default,{freeze:ye,children:(0,p.jsx)(se,Object.assign({},we,{onAppear:X,onDisappear:Z,onWillAppear:$,onWillDisappear:ee,onGestureCancel:null!=(te=he)?te:function(){},style:[be,{zIndex:void 0}],activityState:ve,screenId:K,sheetAllowedDetents:oe,sheetLargestUndimmedDetent:re,sheetElevation:L,sheetShouldOverflowTopInset:J,sheetGrabberVisible:V,sheetCornerRadius:M,sheetExpandsWhenScrolledToEdge:B,sheetInitialDetent:de,fullScreenSwipeEnabled:(0,r(d[13]).parseBooleanToOptionalBooleanNativeProp)(pe),gestureResponseDistance:{start:null!=(ne=null==ge?void 0:ge.start)?ne:-1,end:null!=(ae=null==ge?void 0:ge.end)?ae:-1,top:null!=(le=null==ge?void 0:ge.top)?le:-1,bottom:null!=(ie=null==ge?void 0:ge.bottom)?ie:-1},ref:function(t){var n,l,o;null!=t&&null!=(n=t.viewConfig)&&null!=(n=n.validAttributes)&&n.style?t.viewConfig.validAttributes.style=Object.assign({},t.viewConfig.validAttributes.style,{display:null}):null!=t&&null!=(l=t._viewConfig)&&null!=(l=l.validAttributes)&&l.style?t._viewConfig.validAttributes.style=Object.assign({},t._viewConfig.validAttributes.style,{display:null}):null!=t&&null!=(o=t.__viewConfig)&&null!=(o=o.validAttributes)&&o.style&&(t.__viewConfig.validAttributes.style=Object.assign({},t.__viewConfig.validAttributes.style,{display:null})),A(t)},onTransitionProgress:fe?o.Animated.event([{nativeEvent:{progress:D,closing:C,goingForward:x}}],{useNativeDriver:!0}):void 0,bottomScrollEdgeEffect:null==Se?void 0:Se.bottom,leftScrollEdgeEffect:null==Se?void 0:Se.left,rightScrollEdgeEffect:null==Se?void 0:Se.right,topScrollEdgeEffect:null==Se?void 0:Se.top,synchronousShadowStateUpdatesEnabled:f.default.experiment.synchronousScreenUpdatesEnabled,androidResetScreenShadowStateOnOrientationChangeEnabled:f.default.experiment.androidResetScreenShadowStateOnOrientationChangeEnabled,children:fe?(0,p.jsx)(s.default.Provider,{value:{progress:D,closing:C,goingForward:x},children:ce}):ce}))})}var me=P.active,Ee=P.activityState,Ae=P.style,Ce=(P.onComponentRef,(0,n.default)(P,b));return void 0!==me&&void 0===Ee&&(Ee=0!==me?2:0),(0,p.jsx)(o.Animated.View,Object.assign({style:[Ae,{display:0!==Ee?'flex':'none'}],ref:A},Ce))}),A=e.ScreenContext=l.default.createContext(E),C=l.default.forwardRef(function(t,n){var o=l.default.useContext(A)||E;return(0,p.jsx)(o,Object.assign({},t,{ref:n}))});C.displayName='Screen';e.default=C},691,[1,4,75,2,692,693,695,696,680,244,697,685,698,683]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.createContext(void 0)},692,[75]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),n=r(d[3]);e.default=function(t){var c=t.freeze,l=t.children,o=f.default.useState(!1),v=(0,u.default)(o,2),s=v[0],_=v[1];return f.default.useEffect(function(){var t=setTimeout(function(){_(c)},0);return function(){clearTimeout(t)}},[c]),(0,n.jsx)(r(d[4]).Freeze,{freeze:!!c&&s,children:l})}},693,[1,34,75,244,694]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Freeze=function(n){var f=n.freeze,o=n.children,i=n.placeholder,u=void 0===i?null:i;return(0,r.jsx)(e.Suspense,{fallback:u,children:(0,r.jsx)(t,{freeze:f,children:o})})};var e=(function(e,r){if("function"==typeof WeakMap)var n=new WeakMap,t=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var f,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(f=r?t:n){if(f.has(e))return f.get(e);f.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?f(i,u,o):i[u]=e[u]);return i})(e,r)})(_r(d[0])),r=_r(d[1]);var n={then:function(){}};function t(t){var f=t.freeze,o=t.children;if(f)throw n;return(0,r.jsx)(e.Fragment,{children:o})}},694,[75,244]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreen",directEventTypes:{topAppear:{registrationName:"onAppear"},topDisappear:{registrationName:"onDisappear"},topDismissed:{registrationName:"onDismissed"},topNativeDismissCancelled:{registrationName:"onNativeDismissCancelled"},topWillAppear:{registrationName:"onWillAppear"},topWillDisappear:{registrationName:"onWillDisappear"},topHeaderHeightChange:{registrationName:"onHeaderHeightChange"},topTransitionProgress:{registrationName:"onTransitionProgress"},topGestureCancel:{registrationName:"onGestureCancel"},topHeaderBackButtonClicked:{registrationName:"onHeaderBackButtonClicked"},topSheetDetentChanged:{registrationName:"onSheetDetentChanged"}},validAttributes:Object.assign({screenId:!0,sheetAllowedDetents:!0,sheetLargestUndimmedDetent:!0,sheetGrabberVisible:!0,sheetCornerRadius:!0,sheetExpandsWhenScrolledToEdge:!0,sheetInitialDetent:!0,sheetElevation:!0,sheetShouldOverflowTopInset:!0,customAnimationOnSwipe:!0,fullScreenSwipeEnabled:!0,fullScreenSwipeShadowEnabled:!0,homeIndicatorHidden:!0,preventNativeDismiss:!0,gestureEnabled:!0,statusBarColor:{process:r(d[1]).default},statusBarHidden:!0,screenOrientation:!0,statusBarAnimation:!0,statusBarStyle:!0,statusBarTranslucent:!0,gestureResponseDistance:!0,stackPresentation:!0,stackAnimation:!0,transitionDuration:!0,replaceAnimation:!0,swipeDirection:!0,hideKeyboardOnSwipe:!0,activityState:!0,navigationBarColor:{process:r(d[1]).default},navigationBarTranslucent:!0,navigationBarHidden:!0,nativeBackButtonDismissalEnabled:!0,bottomScrollEdgeEffect:!0,leftScrollEdgeEffect:!0,rightScrollEdgeEffect:!0,topScrollEdgeEffect:!0,synchronousShadowStateUpdatesEnabled:!0,androidResetScreenShadowStateOnOrientationChangeEnabled:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onAppear:!0,onDisappear:!0,onDismissed:!0,onNativeDismissCancelled:!0,onWillAppear:!0,onWillDisappear:!0,onHeaderHeightChange:!0,onTransitionProgress:!0,onGestureCancel:!0,onHeaderBackButtonClicked:!0,onSheetDetentChanged:!0}))};e.default=r(d[3]).get('RNSScreen',function(){return t})},695,[2,55,105,78]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSModalScreen",directEventTypes:{topAppear:{registrationName:"onAppear"},topDisappear:{registrationName:"onDisappear"},topDismissed:{registrationName:"onDismissed"},topNativeDismissCancelled:{registrationName:"onNativeDismissCancelled"},topWillAppear:{registrationName:"onWillAppear"},topWillDisappear:{registrationName:"onWillDisappear"},topHeaderHeightChange:{registrationName:"onHeaderHeightChange"},topTransitionProgress:{registrationName:"onTransitionProgress"},topGestureCancel:{registrationName:"onGestureCancel"},topHeaderBackButtonClicked:{registrationName:"onHeaderBackButtonClicked"},topSheetDetentChanged:{registrationName:"onSheetDetentChanged"}},validAttributes:Object.assign({screenId:!0,sheetAllowedDetents:!0,sheetLargestUndimmedDetent:!0,sheetGrabberVisible:!0,sheetCornerRadius:!0,sheetExpandsWhenScrolledToEdge:!0,sheetInitialDetent:!0,sheetElevation:!0,sheetShouldOverflowTopInset:!0,customAnimationOnSwipe:!0,fullScreenSwipeEnabled:!0,fullScreenSwipeShadowEnabled:!0,homeIndicatorHidden:!0,preventNativeDismiss:!0,gestureEnabled:!0,statusBarColor:{process:r(d[1]).default},statusBarHidden:!0,screenOrientation:!0,statusBarAnimation:!0,statusBarStyle:!0,statusBarTranslucent:!0,gestureResponseDistance:!0,stackPresentation:!0,stackAnimation:!0,transitionDuration:!0,replaceAnimation:!0,swipeDirection:!0,hideKeyboardOnSwipe:!0,activityState:!0,navigationBarColor:{process:r(d[1]).default},navigationBarTranslucent:!0,navigationBarHidden:!0,nativeBackButtonDismissalEnabled:!0,synchronousShadowStateUpdatesEnabled:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onAppear:!0,onDisappear:!0,onDismissed:!0,onNativeDismissCancelled:!0,onWillAppear:!0,onWillDisappear:!0,onHeaderHeightChange:!0,onTransitionProgress:!0,onGestureCancel:!0,onHeaderBackButtonClicked:!0,onSheetDetentChanged:!0}))};e.default=r(d[3]).get('RNSModalScreen',function(){return t})},696,[2,55,105,78]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.usePrevious=function(n){var t=(0,u.useRef)();return(0,u.useEffect)(function(){t.current=n}),t.current};var u=r(d[0])},697,[75]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SHEET_FIT_TO_CONTENTS=e.SHEET_DIMMED_ALWAYS=e.SHEET_COMPAT_MEDIUM=e.SHEET_COMPAT_LARGE=e.SHEET_COMPAT_ALL=void 0,e.assertDetentsArrayIsSorted=function(t){for(var n=1;n<t.length;n++)if(t[n-1]>t[n])throw new Error('[RNScreens] The detent array is not sorted in ascending order!')},e.resolveSheetAllowedDetents=function(_){return Array.isArray(_)?('android'===t.Platform.OS&&_.length>3&&(_=_.slice(0,3)),_):'fitToContents'===_?n:'large'===_?E:'medium'===_?o:'all'===_?T:E},e.resolveSheetInitialDetentIndex=function(t,n){'last'===t?t=n:null==t&&(t=0);if(!i(t,0,n))return 0;return t},e.resolveSheetLargestUndimmedDetent=function(t,n){return'number'==typeof t?i(t,_,n)?t:_:'last'===t?n:'none'===t||'all'===t?_:'large'===t?1:'medium'===t?0:_};var t=r(d[0]),n=e.SHEET_FIT_TO_CONTENTS=[-1],E=e.SHEET_COMPAT_LARGE=[1],o=e.SHEET_COMPAT_MEDIUM=[.5],T=e.SHEET_COMPAT_ALL=[.5,1],_=e.SHEET_DIMMED_ALWAYS=-1;function i(t,n,E){return Number.isInteger(t)&&t>=n&&t<=E}},698,[2]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(_r(d[1])),t=e(_r(d[2])),o=_r(d[3]),r=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var r,u,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(r=n?o:t){if(r.has(e))return r.get(e);r.set(e,c)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?r(c,i,u):c[i]=e[i]);return c})(e,n)})(_r(d[4])),u=_r(d[5]),c=["obscureBackground","hideNavigationBar","onFocus","onBlur","onSearchButtonPress","onCancelButtonPress","onChangeText"];var i=r.default,l=r.Commands;function f(e){var n;return Object.assign({},e,{autoCapitalize:null!=(n=e.autoCapitalize)?n:'systemDefault'})}_e.default=t.default.forwardRef(function(e,r){var s=t.default.useRef(null);t.default.useImperativeHandle(r,function(){return{blur:function(){p(function(e){return l.blur(e)})},focus:function(){p(function(e){return l.focus(e)})},toggleCancelButton:function(e){p(function(n){return l.toggleCancelButton(n,e)})},clearText:function(){p(function(e){return l.clearText(e)})},setText:function(e){p(function(n){return l.setText(n,e)})},cancelSearch:function(){p(function(e){return l.cancelSearch(e)})}}});var p=t.default.useCallback(function(e){var n=s.current;n?e(n):console.warn('Reference to native search bar component has not been updated yet')},[s]);if(!_r(d[6]).isSearchBarAvailableForCurrentPlatform)return console.warn('Importing SearchBar is only valid on iOS and Android devices.'),o.View;var v=f(e),B=v.obscureBackground,h=v.hideNavigationBar,b=v.onFocus,C=v.onBlur,P=v.onSearchButtonPress,y=v.onCancelButtonPress,O=v.onChangeText,S=(0,n.default)(v,c);return(0,u.jsx)(i,Object.assign({ref:s},S,{obscureBackground:(0,_r(d[6]).parseBooleanToOptionalBooleanNativeProp)(B),hideNavigationBar:(0,_r(d[6]).parseBooleanToOptionalBooleanNativeProp)(h),onSearchFocus:b,onSearchBlur:C,onSearchButtonPress:P,onCancelButtonPress:y,onChangeText:O}))})},699,[1,4,75,2,700,244,683]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=e.Commands=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSSearchBar",directEventTypes:{topSearchFocus:{registrationName:"onSearchFocus"},topSearchBlur:{registrationName:"onSearchBlur"},topSearchButtonPress:{registrationName:"onSearchButtonPress"},topCancelButtonPress:{registrationName:"onCancelButtonPress"},topChangeText:{registrationName:"onChangeText"},topClose:{registrationName:"onClose"},topOpen:{registrationName:"onOpen"}},validAttributes:Object.assign({hideWhenScrolling:!0,autoCapitalize:!0,placeholder:!0,placement:!0,allowToolbarIntegration:!0,obscureBackground:!0,hideNavigationBar:!0,cancelButtonText:!0,barTintColor:{process:r(d[1]).default},tintColor:{process:r(d[1]).default},textColor:{process:r(d[1]).default},autoFocus:!0,disableBackButtonOverride:!0,inputType:!0,hintTextColor:{process:r(d[1]).default},headerIconColor:{process:r(d[1]).default},shouldShowHintSearchIcon:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onSearchFocus:!0,onSearchBlur:!0,onSearchButtonPress:!0,onCancelButtonPress:!0,onChangeText:!0,onClose:!0,onOpen:!0}))};e.default=r(d[3]).get('RNSSearchBar',function(){return t}),e.Commands={blur:function(t){r(d[4]).dispatchCommand(t,"blur",[])},focus:function(t){r(d[4]).dispatchCommand(t,"focus",[])},clearText:function(t){r(d[4]).dispatchCommand(t,"clearText",[])},toggleCancelButton:function(t,o){r(d[4]).dispatchCommand(t,"toggleCancelButton",[o])},setText:function(t,o){r(d[4]).dispatchCommand(t,"setText",[o])},cancelSearch:function(t){r(d[4]).dispatchCommand(t,"cancelSearch",[])}}},700,[2,55,105,78,107]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=r(d[2]),u=(t(r(d[3])),t(r(d[4]))),f=t(r(d[5])),l=r(d[6]),o=["enabled","hasTwoStates"];e.default=function(t){var v=t.enabled,b=void 0===v?(0,r(d[7]).screensEnabled)():v,c=t.hasTwoStates,j=(0,s.default)(t,o);if(b&&r(d[7]).isNativePlatformSupported){if(c){var O='ios'===n.Platform.OS?f.default:u.default;return(0,l.jsx)(O,Object.assign({},j))}return(0,l.jsx)(u.default,Object.assign({},j))}return(0,l.jsx)(n.View,Object.assign({},j))}},701,[1,4,2,75,702,703,244,685]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenContainer",validAttributes:{}};e.default=r(d[1]).get('RNSScreenContainer',function(){return t})},702,[2,78]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenNavigationContainer",validAttributes:{}};e.default=r(d[1]).get('RNSScreenNavigationContainer',function(){return t})},703,[2,78]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),s=n(r(d[2])),u=n(r(d[3])),c=n(r(d[4])),o=r(d[5]),f=["goBackGesture","screensRefs","currentScreenId","transitionAnimation","screenEdgeGesture","onFinishTransitioning","children"],l=function(n,t){var s='GHWrapper'!==n.name&&void 0!==t;(0,u.default)(s,'Cannot detect GestureDetectorProvider in a screen that uses `goBackGesture`. Make sure your navigator is wrapped in GestureDetectorProvider.')},v=function(n,t,s){var c=void 0!==s&&null===n&&void 0===t;(0,u.default)(c,'Custom Screen Transition require screensRefs and currentScreenId to be provided.')};e.default=function(n){var u,G=n.goBackGesture,h=n.screensRefs,k=n.currentScreenId,R=n.transitionAnimation,C=n.screenEdgeGesture,S=n.onFinishTransitioning,p=n.children,x=(0,t.default)(n,f),E=s.default.useRef(null!=(u=null==h?void 0:h.current)?u:{}),b=s.default.useRef(null),j=s.default.useContext(r(d[6]).GHContext),B=s.default.useRef({stackUseEffectCallback:function(n){}});return s.default.useEffect(function(){B.current.stackUseEffectCallback(b)}),l(j,G),v(E,k,G),(0,o.jsx)(r(d[6]).RNSScreensRefContext.Provider,{value:E,children:(0,o.jsx)(j,{gestureDetectorBridge:B,goBackGesture:G,transitionAnimation:R,screenEdgeGesture:null!=C&&C,screensRefs:E,currentScreenId:k,children:(0,o.jsx)(c.default,Object.assign({},x,{onFinishTransitioning:S,ref:b,children:p}))})})}},704,[1,4,75,705,706,244,707]);
__d(function(g,r,i,a,m,e,d){new Set;m.exports=function(n){}},705,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenStack",directEventTypes:{topFinishTransitioning:{registrationName:"onFinishTransitioning"}},validAttributes:Object.assign({},r(d[1]).ConditionallyIgnoredEventHandlers({onFinishTransitioning:!0}))};e.default=r(d[2]).get('RNSScreenStack',function(){return n})},706,[2,105,78]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RNSScreensRefContext=e.GHContext=void 0;var n=t(r(d[1])),o=r(d[2]);e.GHContext=n.default.createContext(function(t){return(0,o.jsx)(o.Fragment,{children:t.children})}),e.RNSScreensRefContext=n.default.createContext(null)},707,[1,75,244]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,l,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,s)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?o(s,i,l):s[i]=e[i]);return s})(e,t)})(_r(d[2])),r=_r(d[3]),o=e(_r(d[4])),l=e(_r(d[5])),s=e(_r(d[6])),i=e(_r(d[7])),c=e(_r(d[8])),u=_r(d[9]),f=["children","headerConfig","activityState","shouldFreeze","stackPresentation","sheetAllowedDetents","contentStyle","style","screenId","onHeaderHeightChange","unstable_sheetFooter"],h=["backgroundColor"];_e.default=n.forwardRef(function(e,h){var b,P,k,C=e.children,j=e.headerConfig,O=e.activityState,x=e.shouldFreeze,H=e.stackPresentation,_=e.sheetAllowedDetents,w=e.contentStyle,E=e.style,F=e.screenId,N=e.onHeaderHeightChange,R=e.unstable_sheetFooter,I=(0,t.default)(e,f),W=n.useRef(null),M=n.useContext(_r(d[10]).RNSScreensRefContext);n.useImperativeHandle(h,function(){return W.current});var D=null!=H?H:'push',z=null!=(b=null==j?void 0:j.hidden)&&b,T='android'!==r.Platform.OS&&('push'!==D&&!1===z),V=n.useRef(z);n.useEffect(function(){(0,o.default)('android'!==r.Platform.OS&&'push'!==D&&V.current!==z,"Dynamically changing header's visibility in modals will result in remounting the screen and losing all local state."),V.current=z},[z,D]);var A=void 0===(null==I?void 0:I.scrollEdgeEffects)||Object.values(I.scrollEdgeEffects).some(function(e){return'hidden'!==e}),L=void 0!==(null==j?void 0:j.blurEffect)&&'none'!==j.blurEffect;(0,o.default)(A&&L&&'ios'===r.Platform.OS&&parseInt(r.Platform.Version,10)>=26,'[RNScreens] Using both `blurEffect` and `scrollEdgeEffects` simultaneously may cause overlapping effects.');var B,U=S(_,D);if('formSheet'===D&&'ios'===r.Platform.OS&&w){var q=v(w);B=q.screenStyles,w=q.contentWrapperStyles}var G='ios'===r.Platform.OS&&parseInt(r.Platform.Version,10)>=26,J=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.default,{contentStyle:w,style:U,stackPresentation:D,children:G?(0,u.jsx)(c.default,{edges:p(j),children:C}):C}),(0,u.jsx)(_r(d[11]).ScreenStackHeaderConfig,Object.assign({},j)),'formSheet'===D&&R&&(0,u.jsx)(_r(d[12]).FooterComponent,{children:R()})]});return(0,u.jsx)(s.default,Object.assign({ref:function(e){if(W.current=e,null!==M){var t=M.current;null===e?delete t[F]:t[F]={current:e}}else console.warn('Looks like RNSScreensRefContext is missing. Make sure the ScreenStack component is wrapped in it')},enabled:!0,isNativeStack:!0,activityState:O,shouldFreeze:x,screenId:F,stackPresentation:D,hasLargeHeader:null!=(P=null==j?void 0:j.largeTitle)&&P,sheetAllowedDetents:_,style:[E,B],onHeaderHeightChange:T?void 0:N},I,{children:T?(0,u.jsx)(i.default,{style:y.container,children:(0,u.jsx)(s.default,{enabled:!0,isNativeStack:!0,activityState:O,shouldFreeze:x,hasLargeHeader:null!=(k=null==j?void 0:j.largeTitle)&&k,style:r.StyleSheet.absoluteFill,onHeaderHeightChange:N,children:J})}):J}))});function S(e,t){var n='ios'===r.Platform.OS,o=r.Platform.constants.reactNativeVersion.minor;return'formSheet'!==t?y.container:n?'fitToContents'!==e&&o>=82&&_r(d[13]).featureFlags.experiment.synchronousScreenUpdatesEnabled?y.container:y.absoluteWithNoBottom:'fitToContents'===e?{}:y.container}function v(e){var n=r.StyleSheet.flatten(e);return{screenStyles:{backgroundColor:n.backgroundColor},contentWrapperStyles:(0,t.default)(n,h)}}function p(e){return'ios'!==r.Platform.OS||parseInt(r.Platform.Version,10)<26?{}:null!=e&&e.translucent||null!=e&&e.hidden?{}:{top:!0}}var y=r.StyleSheet.create({container:{flex:1},absoluteWithNoBottom:{position:'absolute',top:0,start:0,end:0}})},708,[1,4,75,2,705,709,691,704,712,244,707,679,714,680]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=((function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?f(u,l,o):u[l]=e[l])})(e,t)})(_r(d[2])),_r(d[3]),e(_r(d[4])),e(_r(d[5]))),r=_r(d[6]),f=["contentStyle","style"];_e.default=function(e){var o=e.contentStyle,u=e.style,l=(0,t.default)(e,f);return(0,r.jsx)(n.default,Object.assign({style:[u,o]},l))}},709,[1,4,75,2,242,710,244]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t(r(d[1]));var l=t(r(d[2])),u=r(d[3]);e.default=function(t){return(0,u.jsx)(l.default,Object.assign({collapsable:!1},t))}},710,[1,75,711,244]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenContentWrapper",validAttributes:{}};e.default=r(d[1]).get('RNSScreenContentWrapper',function(){return t})},711,[2,78]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t(r(d[1]));var l=t(r(d[2])),f=r(d[3]),s=r(d[4]);e.default=function(t){return(0,s.jsx)(l.default,Object.assign({},t,{style:[n.flex,t.style],edges:(f=t.edges,Object.assign({top:!1,bottom:!1,left:!1,right:!1},f))}));var f};var n=f.StyleSheet.create({flex:{flex:1}})},712,[1,75,713,2,244]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSSafeAreaView",validAttributes:{edges:!0,insetType:!0}};e.default=r(d[1]).get('RNSSafeAreaView',function(){return t})},713,[2,78]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.FooterComponent=function(n){var t=n.children;return(0,o.jsx)(l,{collapsable:!1,children:t})},e.default=void 0;n(r(d[1]));var t=n(r(d[2])),o=r(d[3]);function l(n){return(0,o.jsx)(t.default,Object.assign({},n))}e.default=l},714,[1,75,715,244]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenFooter",validAttributes:{}};e.default=r(d[1]).get('RNSScreenFooter',function(){return t})},715,[2,78]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;l(r(d[1]));var n=r(d[2]),t=l(r(d[3])),s=r(d[4]),o=t.default;e.default=function(l){var t=(0,n.useWindowDimensions)(),c=t.width,u=t.height;return'ios'!==n.Platform.OS?(console.warn('Using FullWindowOverlay is only valid on iOS devices.'),(0,s.jsx)(n.View,Object.assign({},l))):(0,s.jsx)(o,{style:[n.StyleSheet.absoluteFill,{width:c,height:u}],accessibilityContainerViewIsModal:l.unstable_accessibilityContainerViewIsModal,children:l.children})}},716,[1,75,2,717,244]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var l=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSFullWindowOverlay",validAttributes:{accessibilityContainerViewIsModal:!0}};e.default=r(d[1]).get('RNSFullWindowOverlay',function(){return l})},717,[2,78]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){var e=t.useContext(r.default);if(void 0===e)throw new Error("Couldn't find values for transition progress. Are you inside a screen in Native Stack?");return e};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[1])),r=e(_r(d[2]))},718,[1,75,692]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?o(i,u,l):i[u]=e[u]);return i})(e,t)})(_r(d[3])),o=_r(d[4]),l=e(_r(d[5])),i=e(_r(d[6])),u=e(_r(d[7])),f=e(_r(d[8])),c=_r(d[9]),s=["onNativeFocusChange","experimentalControlNavigationStateInJS","bottomAccessory"];_e.default=function(e){(0,_r(d[10]).bottomTabsDebugLog)("BottomTabs render");var b=e.onNativeFocusChange,h=e.experimentalControlNavigationStateInJS,p=void 0===h?i.default.experiment.controlledBottomTabs:h,y=e.bottomAccessory,S=(0,n.default)(e,s),j=r.default.useRef(null),N=r.default.useRef(-1);r.default.useEffect(function(){var e;null!=j.current?N.current=null!=(e=(0,o.findNodeHandle)(j.current))?e:-1:N.current=-1},[]);var _=r.default.useCallback(function(e){var t;(0,_r(d[10]).bottomTabsDebugLog)(`BottomTabs [${null!=(t=N.current)?t:-1}] onNativeFocusChange: ${JSON.stringify(e.nativeEvent)}`),null==b||b(e)},[b]),x=(0,r.useState)('regular'),P=(0,t.default)(x,2),C=P[0],O=P[1];return(0,c.jsxs)(l.default,Object.assign({style:v.fillParent,onNativeFocusChange:_,controlNavigationStateInJS:p,ref:j},S,{children:[S.children,y&&'ios'===o.Platform.OS&&parseInt(o.Platform.Version,10)>=26&&(o.Platform.constants.reactNativeVersion.minor>=82?(0,c.jsxs)(u.default,{children:[(0,c.jsx)(f.default,{environment:"regular",children:y('regular')}),(0,c.jsx)(f.default,{environment:"inline",children:y('inline')})]}):(0,c.jsx)(u.default,{onEnvironmentChange:function(e){O(e.nativeEvent.environment)},children:y(C)}))]}))};var v=o.StyleSheet.create({fillParent:{flex:1,width:'100%',height:'100%'}})},719,[1,34,4,75,2,720,680,721,723,244,725]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSBottomTabs",directEventTypes:{topNativeFocusChange:{registrationName:"onNativeFocusChange"}},validAttributes:Object.assign({tabBarBackgroundColor:{process:r(d[1]).default},tabBarItemTitleFontFamily:!0,tabBarItemTitleFontSize:!0,tabBarItemTitleFontSizeActive:!0,tabBarItemTitleFontWeight:!0,tabBarItemTitleFontStyle:!0,tabBarItemTitleFontColor:{process:r(d[1]).default},tabBarItemTitleFontColorActive:{process:r(d[1]).default},tabBarItemIconColor:{process:r(d[1]).default},tabBarItemIconColorActive:{process:r(d[1]).default},tabBarItemActiveIndicatorColor:{process:r(d[1]).default},tabBarItemActiveIndicatorEnabled:!0,tabBarItemRippleColor:{process:r(d[1]).default},tabBarItemLabelVisibilityMode:!0,tabBarTintColor:{process:r(d[1]).default},tabBarMinimizeBehavior:!0,tabBarControllerMode:!0,tabBarHidden:!0,controlNavigationStateInJS:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onNativeFocusChange:!0}))};e.default=r(d[3]).get('RNSBottomTabs',function(){return t})},720,[2,55,105,78]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){return(0,u.jsx)(t.default,Object.assign({},l,{collapsable:!1,style:[l.style,s.StyleSheet.absoluteFill]}))};l(r(d[1]));var t=l(r(d[2])),s=r(d[3]),u=r(d[4])},721,[1,75,722,2,244]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSBottomTabsAccessory",directEventTypes:{topEnvironmentChange:{registrationName:"onEnvironmentChange"}},validAttributes:Object.assign({},r(d[1]).ConditionallyIgnoredEventHandlers({onEnvironmentChange:!0}))};e.default=r(d[2]).get('RNSBottomTabsAccessory',function(){return n})},722,[2,105,78]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){return(0,u.jsx)(s.default,Object.assign({},l,{collapsable:!1,style:[l.style,t.StyleSheet.absoluteFill]}))};l(r(d[1]));var t=r(d[2]),s=l(r(d[3])),u=r(d[4])},723,[1,75,2,724,244]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSBottomTabsAccessoryContent",validAttributes:{environment:!0}};e.default=r(d[1]).get('RNSBottomTabsAccessoryContent',function(){return t})},724,[2,78]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.bottomTabsDebugLog=function(){var n;o&&(n=console).log.apply(n,arguments)},e.internalEnableDetailedBottomTabsLogging=function(){o=!0};var o=!1},725,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),n=o(r(d[2])),l=o(r(d[3])),c=r(d[4]),s=o(r(d[5])),u=r(d[6]),f=["onWillAppear","onDidAppear","onWillDisappear","onDidDisappear","isFocused","freezeContents","icon","selectedIcon","standardAppearance","scrollEdgeAppearance","scrollEdgeEffects","experimental_userInterfaceStyle"];function p(o){if(o){var t=o.stacked,n=o.inline,l=o.compactInline,s=o.tabBarBackgroundColor,u=o.tabBarShadowColor;return Object.assign({},o,{stacked:b(t),inline:b(n),compactInline:b(l),tabBarBackgroundColor:(0,c.processColor)(s),tabBarShadowColor:(0,c.processColor)(u)})}}function b(o){if(o){var t=o.normal,n=o.selected,l=o.focused,c=o.disabled;return Object.assign({},o,{normal:S(t),selected:S(n),focused:S(l),disabled:S(c)})}}function S(o){if(o){var t=o.tabBarItemTitleFontColor,n=o.tabBarItemIconColor,l=o.tabBarItemBadgeBackgroundColor,s=o.tabBarItemTitleFontWeight;return Object.assign({},o,{tabBarItemTitleFontColor:(0,c.processColor)(t),tabBarItemIconColor:(0,c.processColor)(n),tabBarItemBadgeBackgroundColor:(0,c.processColor)(l),tabBarItemTitleFontWeight:void 0!==s?String(s):void 0})}}function v(o,t,n){return!!(0,r(d[9]).freezeEnabled)()&&(void 0!==n?n:r(d[10]).featureFlags.experiment.controlledBottomTabs?!o&&!t:!o)}function I(o){if(!o)return{};var t;if('imageSource'===o.type)return(t=c.Image.resolveAssetSource(o.imageSource))||console.error('[RNScreens] failed to resolve an asset for bottom tab icon'),{imageIconResource:t||void 0};if('drawableResource'===o.type)return{drawableIconResourceName:o.name};throw new Error('[RNScreens] Incorrect icon format for Android. You must provide `imageSource` or `drawableResource`.')}function y(o){if(!o)return{};if('sfSymbol'===o.type)return{iconType:'sfSymbol',iconSfSymbolName:o.name};if('imageSource'===o.type)return{iconType:'image',iconImageSource:o.imageSource};if('templateSource'===o.type)return{iconType:'template',iconImageSource:o.templateSource};throw new Error('[RNScreens] Incorrect icon format for iOS. You must provide `sfSymbol`, `imageSource` or `templateSource`.')}function h(o,t){if('android'===c.Platform.OS){var n=I((null==o?void 0:o.android)||(null==o?void 0:o.shared));return Object.assign({},n)}if('ios'===c.Platform.OS){var l=y((null==o?void 0:o.ios)||(null==o?void 0:o.shared)),s=l.iconImageSource,u=l.iconSfSymbolName,f=l.iconType,p=y(t),b=p.iconImageSource,S=p.iconSfSymbolName,v=p.iconType;if(void 0!==f&&void 0!==v&&f!==v)throw new Error('[RNScreens] icon and selectedIcon must be same type.');if(void 0===f&&void 0!==v)throw new Error('[RNScreens] To use selectedIcon prop, the icon prop must also be provided.');return{iconType:f,iconImageSource:s,iconSfSymbolName:u,selectedIconImageSource:b,selectedIconSfSymbolName:S}}return{}}e.default=function(o){var b,S=l.default.useRef(null),I=l.default.useRef(-1);l.default.useEffect(function(){var o;null!=S.current?I.current=null!=(o=(0,c.findNodeHandle)(S.current))?o:-1:I.current=-1},[]);var y=l.default.useState(!1),C=(0,n.default)(y,2),D=C[0],E=C[1],B=o.onWillAppear,A=o.onDidAppear,w=o.onWillDisappear,N=o.onDidDisappear,F=o.isFocused,R=void 0!==F&&F,k=o.freezeContents,W=o.icon,O=o.selectedIcon,$=o.standardAppearance,j=o.scrollEdgeAppearance,x=o.scrollEdgeEffects,z=o.experimental_userInterfaceStyle,_=(0,t.default)(o,f),L=v(D,R,k),P=l.default.useCallback(function(o){(0,r(d[7]).bottomTabsDebugLog)(`TabsScreen [${I.current}] onWillAppear received`),E(!0),null==B||B(o)},[B]),K=l.default.useCallback(function(o){(0,r(d[7]).bottomTabsDebugLog)(`TabsScreen [${I.current}] onDidAppear received`),null==A||A(o)},[A]),V=l.default.useCallback(function(o){(0,r(d[7]).bottomTabsDebugLog)(`TabsScreen [${I.current}] onWillDisappear received`),null==w||w(o)},[w]),Y=l.default.useCallback(function(o){(0,r(d[7]).bottomTabsDebugLog)(`TabsScreen [${I.current}] onDidDisappear received`),E(!1),null==N||N(o)},[N]);(0,r(d[7]).bottomTabsDebugLog)(`TabsScreen [${null!=(b=I.current)?b:-1}] render; tabKey: ${_.tabKey} shouldFreeze: ${L}, isFocused: ${R} nativeViewIsVisible: ${D}`);var H=h(W,O);return(0,u.jsx)(s.default,Object.assign({collapsable:!1,style:T.fillParent,onWillAppear:P,onDidAppear:K,onWillDisappear:V,onDidDisappear:Y,isFocused:R},H,{standardAppearance:p($),scrollEdgeAppearance:p(j),ref:S,bottomScrollEdgeEffect:null==x?void 0:x.bottom,leftScrollEdgeEffect:null==x?void 0:x.left,rightScrollEdgeEffect:null==x?void 0:x.right,topScrollEdgeEffect:null==x?void 0:x.top,isTitleUndefined:null===_.title||void 0===_.title,userInterfaceStyle:z},_,{children:(0,u.jsx)(r(d[8]).Freeze,{freeze:L,placeholder:_.placeholder,children:_.children})}))};var T=c.StyleSheet.create({fillParent:{position:'absolute',flex:1,width:'100%',height:'100%'}})},726,[1,4,34,75,2,727,244,725,694,685,680]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;r(d[0]);var t,o=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSBottomTabsScreen",directEventTypes:{topLifecycleStateChange:{registrationName:"onLifecycleStateChange"},topWillAppear:{registrationName:"onWillAppear"},topDidAppear:{registrationName:"onDidAppear"},topWillDisappear:{registrationName:"onWillDisappear"},topDidDisappear:{registrationName:"onDidDisappear"}},validAttributes:Object.assign({isFocused:!0,tabKey:!0,title:!0,isTitleUndefined:!0,badgeValue:!0,orientation:!0,drawableIconResourceName:!0,imageIconResource:{process:(t=r(d[1]),'default'in t?t.default:t)},tabBarItemBadgeTextColor:{process:r(d[2]).default},tabBarItemBadgeBackgroundColor:{process:r(d[2]).default},standardAppearance:!0,scrollEdgeAppearance:!0,iconType:!0,iconImageSource:{process:(function(t){return'default'in t?t.default:t})(r(d[1]))},iconSfSymbolName:!0,selectedIconImageSource:{process:(function(t){return'default'in t?t.default:t})(r(d[1]))},selectedIconSfSymbolName:!0,systemItem:!0,specialEffects:!0,overrideScrollViewContentInsetAdjustmentBehavior:!0,bottomScrollEdgeEffect:!0,leftScrollEdgeEffect:!0,rightScrollEdgeEffect:!0,topScrollEdgeEffect:!0,userInterfaceStyle:!0},r(d[3]).ConditionallyIgnoredEventHandlers({onLifecycleStateChange:!0,onWillAppear:!0,onDidAppear:!0,onWillDisappear:!0,onDidDisappear:!0}))};e.default=r(d[4]).get('RNSBottomTabsScreen',function(){return o})},727,[2,93,55,105,78]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useHeaderConfigProps=function(t){var o,u,h=t.headerBackIcon,f=t.headerBackImageSource,S=t.headerBackButtonDisplayMode,b=t.headerBackButtonMenuEnabled,p=t.headerBackTitle,k=t.headerBackTitleStyle,v=t.headerBackVisible,B=t.headerShadowVisible,j=t.headerLargeStyle,T=t.headerLargeTitle,x=t.headerLargeTitleEnabled,w=void 0===x?T:x,F=t.headerLargeTitleShadowVisible,O=t.headerLargeTitleStyle,C=t.headerBackground,P=t.headerLeft,V=t.headerRight,H=t.headerShown,I=t.headerStyle,L=t.headerBlurEffect,z=t.headerTintColor,E=t.headerTitle,_=t.headerTitleAlign,M=t.headerTitleStyle,A=t.headerTransparent,R=t.headerSearchBarOptions,W=t.headerTopInsetEnabled,G=t.headerBack,J=t.route,N=t.title,$=t.unstable_headerLeftItems,D=t.unstable_headerRightItems,q=(0,r(d[7]).useLocale)().direction,K=(0,r(d[7]).useTheme)(),Q=K.colors,U=K.fonts,X=K.dark,Y=null!=z?z:'ios'===c.Platform.OS?Q.primary:Q.text,Z=c.StyleSheet.flatten([U.regular,k])||{},ee=c.StyleSheet.flatten([c.Platform.select({ios:U.heavy,default:U.medium}),O])||{},te=c.StyleSheet.flatten([c.Platform.select({ios:U.bold,default:U.medium}),M])||{},le=c.StyleSheet.flatten(I)||{},ne=c.StyleSheet.flatten(j)||{},ae=(0,r(d[8]).processFonts)([Z.fontFamily,ee.fontFamily,te.fontFamily]),ie=(0,n.default)(ae,3),re=ie[0],oe=ie[1],ue=ie[2],de='fontSize'in Z?Z.fontSize:void 0,ce=(0,r(d[9]).getHeaderTitle)({title:N,headerTitle:E},J.name),se='color'in te?te.color:null!=z?z:Q.text,he='fontSize'in te?te.fontSize:void 0,fe=te.fontWeight,me=ne.backgroundColor,Se='color'in ee?ee.color:void 0,ge='fontSize'in ee?ee.fontSize:void 0,ye=ee.fontWeight,be={color:se};null!=te.fontFamily&&(be.fontFamily=te.fontFamily);null!=he&&(be.fontSize=he);null!=fe&&(be.fontWeight=fe);var pe=null!=(o=le.backgroundColor)?o:null!=C||A||'ios'===c.Platform.OS&&w?'transparent':Q.card,ke=null!=G,ve=null==P?void 0:P({tintColor:Y,canGoBack:ke,label:null!=p?p:null==G?void 0:G.title,href:void 0}),Be=null==V?void 0:V({tintColor:Y,canGoBack:ke}),je='function'==typeof E?E({tintColor:Y,children:ce}):null,Te=('boolean'==typeof r(d[10]).isSearchBarAvailableForCurrentPlatform?r(d[10]).isSearchBarAvailableForCurrentPlatform:'ios'===c.Platform.OS&&null!=r(d[10]).SearchBar)&&null!=R,xe=v||'android'===c.Platform.OS&&null!=je&&null==ve,we=null!=C||A||(Te||w)&&'ios'===c.Platform.OS&&!1!==A,Fe='ios'===c.Platform.OS&&parseInt(c.Platform.Version,10)>=14&&(null==re||'System'===re)&&null==de&&!1!==b,Oe='center'===_,Ce=null==$?void 0:$({tintColor:Y,canGoBack:ke}),Pe=null==D?void 0:D({tintColor:Y,canGoBack:ke});Pe&&(Pe=(0,l.default)(Pe).reverse());var Ve=(0,s.jsxs)(s.Fragment,{children:['ios'===c.Platform.OS?(0,s.jsxs)(s.Fragment,{children:[Ce?Ce.map(function(t,l){return'custom'===t.type?(0,s.jsx)(r(d[10]).ScreenStackHeaderLeftView,{hidesSharedBackground:t.hidesSharedBackground,children:t.element},l):null}):null!=ve?(0,s.jsx)(r(d[10]).ScreenStackHeaderLeftView,{children:ve}):null,null!=je?(0,s.jsx)(r(d[10]).ScreenStackHeaderCenterView,{children:je}):null]}):(0,s.jsxs)(s.Fragment,{children:[null!=ve||'function'==typeof E?(0,s.jsxs)(r(d[10]).ScreenStackHeaderLeftView,{style:Oe?null:{flex:1},children:[ve,'center'!==_?'function'==typeof E?(0,s.jsx)(c.View,{style:{flex:1},children:je}):(0,s.jsx)(c.View,{style:{flex:1},children:(0,s.jsx)(r(d[9]).HeaderTitle,{tintColor:Y,style:be,children:ce})}):null]}):null,Oe?(0,s.jsx)(r(d[10]).ScreenStackHeaderCenterView,{children:'function'==typeof E?je:(0,s.jsx)(r(d[9]).HeaderTitle,{tintColor:Y,style:be,children:ce})}):null]}),void 0!==h||void 0!==f?(0,s.jsx)(r(d[10]).ScreenStackHeaderBackButtonImage,{source:null!=(u=null==h?void 0:h.source)?u:f}):null,'ios'===c.Platform.OS&&Pe?Pe.map(function(t,l){return'custom'===t.type?(0,s.jsx)(r(d[10]).ScreenStackHeaderRightView,{hidesSharedBackground:t.hidesSharedBackground,children:t.element},l):null}):null!=Be?(0,s.jsx)(r(d[10]).ScreenStackHeaderRightView,{children:Be}):null,Te?(0,s.jsx)(r(d[10]).ScreenStackHeaderSearchBarView,{children:(0,s.jsx)(r(d[10]).SearchBar,Object.assign({},R))}):null]});return{backButtonInCustomView:xe,backgroundColor:pe,backTitle:p,backTitleVisible:Fe?void 0:'minimal'!==S,backButtonDisplayMode:Fe?S:void 0,backTitleFontFamily:re,backTitleFontSize:de,blurEffect:L,color:Y,direction:q,disableBackButtonMenu:!1===b,hidden:!1===H,hideBackButton:!1===v,hideShadow:!1===B||null!=C||A&&!0!==B,largeTitle:w,largeTitleBackgroundColor:me,largeTitleColor:Se,largeTitleFontFamily:oe,largeTitleFontSize:ge,largeTitleFontWeight:ye,largeTitleHideShadow:!1===F,title:ce,titleColor:se,titleFontFamily:ue,titleFontSize:he,titleFontWeight:String(fe),topInsetEnabled:W,translucent:!0===we,children:Ve,headerLeftBarButtonItems:y(Ce,Q,U),headerRightBarButtonItems:y(Pe,Q,U),experimental_userInterfaceStyle:X?'dark':'light'}};var l=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=r(d[5]),s=r(d[6]),h=["badge","label","labelStyle","icon"],f=["label","inline","layout","items","multiselectable"],S=["label","description"],y=function(t,l,n){return null==t?void 0:t.map(function(t,c){if('custom'===t.type)return null;if('spacing'===t.type){if(null==t.spacing)throw new Error(`Spacing item must have a 'spacing' property defined: ${JSON.stringify(t)}`);return t}if('button'===t.type||'menu'===t.type){if('menu'===t.type&&null==t.menu)throw new Error(`Menu item must have a 'menu' property defined: ${JSON.stringify(t)}`);var s=t.badge,f=t.label,S=t.labelStyle,y=t.icon,p=(0,o.default)(t,h),k=Object.assign({},p,{index:c,title:f,titleStyle:Object.assign({},n.regular,S),icon:'image'===(null==y?void 0:y.type)?!1===y.tinted?{type:'imageSource',imageSource:y.source}:{type:'templateSource',templateSource:y.source}:y});if('menu'===k.type&&'menu'===t.type){var v=t.menu,B=v.multiselectable,j=v.layout;k=Object.assign({},k,{menu:Object.assign({},k.menu,{singleSelection:!B,displayAsPalette:'palette'===j,items:t.menu.items.map(b)})})}if(s){var T,x,w=null!=(T=null==(x=s.style)?void 0:x.backgroundColor)?T:l.notification,F=(0,u.default)(w).isLight()?'black':'white';k=Object.assign({},k,{badge:Object.assign({},s,{value:String(s.value),style:Object.assign({backgroundColor:w,color:F},n.regular,s.style)})})}return k}throw new Error(`Invalid item type: ${JSON.stringify(t)}. Valid types are 'button', 'menu', 'custom' and 'spacing'.`)}).filter(function(t){return null!=t})},b=function(t){if('submenu'===t.type){var l=t.label,n=t.inline,u=t.layout,c=t.items,s=t.multiselectable,h=(0,o.default)(t,f);return Object.assign({},h,{title:l,displayAsPalette:'palette'===u,displayInline:n,singleSelection:!s,items:c.map(b)})}var y=t.label,p=t.description,k=(0,o.default)(t,S);return Object.assign({},k,{title:y,subtitle:p})}},728,[1,42,34,4,634,2,244,503,729,631,678]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.processFonts=function(t){var o,u=null==(o=n.default.fontFamily)?void 0:o.process;if('function'==typeof u)return t.map(u);return t};var n=t(r(d[1]))},729,[1,49]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnimatedHeaderHeightContext=void 0,_e.useAnimatedHeaderHeight=function(){var r=e.useContext(t);if(void 0===r)throw new Error("Couldn't find the header height. Are you inside a screen in a native stack navigator?");return r};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?i(u,f,o):u[f]=e[f]);return u})(e,t)})(_r(d[0]));var t=_e.AnimatedHeaderHeightContext=e.createContext(void 0)},730,[75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useDismissedRouteError=function(e){var r,o=n.useState(null),i=(0,t.default)(o,2),u=i[0],s=i[1],f=u?null==(r=e.routes.find(function(e){return e.key===u}))?void 0:r.name:null;return n.useEffect(function(){if(f){var e=`The screen '${f}' was removed natively but didn't get removed from JS state. This can happen if the action was prevented in a 'beforeRemove' listener, which is not fully supported in native-stack.\n\nConsider using a 'usePreventRemove' hook with 'headerBackButtonMenuEnabled: false' to prevent users from natively going back multiple screens.`;console.error(e)}},[f]),{setNextDismissedKey:s}};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?o(u,s,i):u[s]=e[s]);return u})(e,t)})(_r(d[2]))},731,[1,34,75]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useInvalidPreventRemoveError=function(n){var t,r,o=(0,_r(d[1]).usePreventRemoveContext)().preventedRoutes,u=Object.keys(o)[0],i=n[u],l=null==i||null==(t=i.options)?void 0:t.headerBackButtonMenuEnabled,s=null==i||null==(r=i.route)?void 0:r.name;e.useEffect(function(){if(null!=u&&l){var e=`The screen ${s} uses 'usePreventRemove' hook alongside 'headerBackButtonMenuEnabled: true', which is not supported. \n\nConsider removing 'headerBackButtonMenuEnabled: true' from ${s} screen to get rid of this error.`;console.error(e)}},[u,l,s])};var e=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=n?r:t){if(o.has(e))return o.get(e);o.set(e,i)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(u.get||u.set)?o(i,l,u):i[l]=e[l]);return i})(e,n)})(_r(d[0]))},732,[75,503]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getModalRouteKeys=void 0;e.getModalRouteKeys=function(n,t){return n.reduce(function(n,o){var l,u,s=(null!=(l=null==(u=t[o.key])?void 0:u.options)?l:{}).presentation;return(n.length&&!s||'modal'===s||'transparentModal'===s||'containedModal'===s||'containedTransparentModal'===s||'fullScreenModal'===s||'formSheet'===s||'pageSheet'===s)&&n.push(o.key),n},[])}},733,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createNativeStackNavigator=function(e){return(0,_r(d[4]).createNavigatorFactory)(o)(e)};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?i(s,u,o):s[u]=e[u]);return s})(e,t)})(_r(d[2])),n=_r(d[3]),i=["id","initialRouteName","UNSTABLE_routeNamesChangeBehavior","children","layout","screenListeners","screenOptions","screenLayout","UNSTABLE_router"];function o(e){var o=e.id,s=e.initialRouteName,u=e.UNSTABLE_routeNamesChangeBehavior,c=e.children,l=e.layout,f=e.screenListeners,p=e.screenOptions,v=e.screenLayout,N=e.UNSTABLE_router,y=(0,t.default)(e,i),_=(0,_r(d[4]).useNavigationBuilder)(_r(d[4]).StackRouter,{id:o,initialRouteName:s,UNSTABLE_routeNamesChangeBehavior:u,children:c,layout:l,screenListeners:f,screenOptions:p,screenLayout:v,UNSTABLE_router:N}),L=_.state,h=_.describe,B=_.descriptors,O=_.navigation,S=_.NavigationContent;return r.useEffect(function(){return null==O||null==O.addListener?void 0:O.addListener('tabPress',function(e){var t=O.isFocused();requestAnimationFrame(function(){L.index>0&&t&&!e.defaultPrevented&&O.dispatch(Object.assign({},_r(d[4]).StackActions.popToTop(),{target:L.key}))})})},[O,L.index,L.key]),(0,n.jsx)(S,{children:(0,n.jsx)(_r(d[5]).NativeStackView,Object.assign({},y,{state:L,navigation:O,descriptors:B,describe:h}))})}},734,[1,4,75,244,503,502]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.getHomeserverUrl=function(){return u},_e.matrixService=void 0,_e.setHomeserverUrl=function(e){u=e};var t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),r=l(_r(d[4])),s=r,o=e(_r(d[5])),a=l(_r(d[6]));function l(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(l=function(e,t){if(!t&&e&&e.__esModule)return e;var r,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,o)}for(var a in e)"default"!==a&&{}.hasOwnProperty.call(e,a)&&((s=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,a))&&(s.get||s.set)?r(o,a,s):o[a]=e[a]);return o})(e,t)}var u='https://matrix.org',c='wata-matrix-credentials';var f=(function(){return(0,i.default)(function e(){(0,n.default)(this,e),this.client=null,this.syncCallbacks=[],this.roomCallbacks=[],this.messageCallbacks=[]},[{key:"login",value:(v=(0,t.default)(function*(e,t){var n=s.createClient({baseUrl:u}),i=yield n.login('m.login.password',{user:e,password:t});yield a.setGenericPassword(i.user_id,JSON.stringify({accessToken:i.access_token,userId:i.user_id,deviceId:i.device_id}),{service:c}),this.client=s.createClient({baseUrl:u,accessToken:i.access_token,userId:i.user_id,deviceId:i.device_id}),this.setupEventListeners(),yield this.client.startClient({initialSyncLimit:20})}),function(e,t){return v.apply(this,arguments)})},{key:"restoreSession",value:(f=(0,t.default)(function*(){try{var e=yield a.getGenericPassword({service:c});if(!e)return!1;var t=JSON.parse(e.password),n=t.accessToken,i=t.userId,r=t.deviceId;return this.client=s.createClient({baseUrl:u,accessToken:n,userId:i,deviceId:r}),this.setupEventListeners(),yield this.client.startClient({initialSyncLimit:20}),!0}catch(e){return!1}}),function(){return f.apply(this,arguments)})},{key:"logout",value:(l=(0,t.default)(function*(){this.client&&(this.client.stopClient(),yield this.client.logout(),this.client=null),yield a.resetGenericPassword({service:c})}),function(){return l.apply(this,arguments)})},{key:"setupEventListeners",value:function(){var e=this;this.client&&(this.client.on(s.ClientEvent.Sync,function(t){e.syncCallbacks.forEach(function(e){return e(t)}),'PREPARED'!==t&&'SYNCING'!==t||e.notifyRoomUpdate()}),this.client.on(s.RoomEvent.Timeline,function(t,n){if(n){if('m.room.message'===t.getType())if('m.audio'===t.getContent().msgtype){var i=e.eventToVoiceMessage(t);i&&e.messageCallbacks.forEach(function(e){return e(n.roomId,i)})}e.notifyRoomUpdate()}}))}},{key:"eventToVoiceMessage",value:function(e){var t,n,i,r,s=e.getContent();if('m.audio'!==s.msgtype)return null;var o=e.getSender();return o?{eventId:e.getId()||'',sender:o,senderName:(null==(t=this.client)||null==(t=t.getUser(o))?void 0:t.displayName)||o,timestamp:e.getTs(),audioUrl:(null==(n=this.client)?void 0:n.mxcUrlToHttp(s.url))||'',duration:(null==(i=s.info)?void 0:i.duration)||0,isOwn:o===(null==(r=this.client)?void 0:r.getUserId())}:null}},{key:"notifyRoomUpdate",value:function(){var e=this.getDirectRooms();this.roomCallbacks.forEach(function(t){return t(e)})}},{key:"getDirectRooms",value:function(){if(!this.client)return[];var e=this.client.getRooms(),t=[];for(var n of e){var i,r=this.isDirectRoom(n),s=n.timeline.filter(function(e){return'm.room.message'===e.getType()}).pop();t.push({roomId:n.roomId,name:n.name||'Unknown',avatarUrl:n.getAvatarUrl(u,48,48,'crop'),lastMessage:(null==s||null==(i=s.getContent())?void 0:i.body)||null,lastMessageTime:(null==s?void 0:s.getTs())||null,isDirect:r})}return t.sort(function(e,t){return e.lastMessageTime?t.lastMessageTime?t.lastMessageTime-e.lastMessageTime:-1:1})}},{key:"isDirectRoom",value:function(e){var t,n=null==(t=this.client)?void 0:t.getAccountData('m.direct');if(!n)return!1;var i=n.getContent();for(var r of Object.keys(i)){var s;if(null!=(s=i[r])&&s.includes(e.roomId))return!0}return!1}},{key:"sendVoiceMessage",value:(e=(0,t.default)(function*(e,t,n,i,s){if(!this.client)throw new Error('Not logged in');var a=yield o.default.readFile(t,'base64'),l=_r(d[7]).Buffer.from(a,'base64'),u=yield this.client.uploadContent(l,{type:n,name:'voice-message.m4a'});yield this.client.sendMessage(e,{msgtype:r.MsgType.Audio,body:'Voice message',url:u.content_uri,info:{mimetype:n,duration:i,size:s}})}),function(t,n,i,r,s){return e.apply(this,arguments)})},{key:"getVoiceMessages",value:function(e){var t=this;if(!this.client)return[];var n=this.client.getRoom(e);return n?n.timeline.filter(function(e){var t=e.getContent();return'm.room.message'===e.getType()&&'m.audio'===t.msgtype}).map(function(e){return t.eventToVoiceMessage(e)}).filter(function(e){return null!==e}):[]}},{key:"onSyncStateChange",value:function(e){var t=this;return this.syncCallbacks.push(e),function(){t.syncCallbacks=t.syncCallbacks.filter(function(t){return t!==e})}}},{key:"onRoomUpdate",value:function(e){var t=this;return this.roomCallbacks.push(e),function(){t.roomCallbacks=t.roomCallbacks.filter(function(t){return t!==e})}}},{key:"onNewVoiceMessage",value:function(e){var t=this;return this.messageCallbacks.push(e),function(){t.messageCallbacks=t.messageCallbacks.filter(function(t){return t!==e})}}},{key:"getUserId",value:function(){var e;return(null==(e=this.client)?void 0:e.getUserId())||null}},{key:"isLoggedIn",value:function(){return null!==this.client}}]);var e,l,f,v})();_e.matrixService=new f},735,[1,356,11,12,736,999,1002,1006]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e,t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]));if(Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in _e&&_e[e]===t[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return t[e]}}))}),globalThis.__js_sdk_entrypoint)throw new Error("Multiple matrix-js-sdk entrypoints detected!");globalThis.__js_sdk_entrypoint=!0;try{e=globalThis.indexedDB}catch(e){}e&&t.setCryptoStoreFactory(function(){return new t.IndexedDBCryptoStore(e,"matrix-js-sdk:crypto")}),globalThis.matrixcs=t},736,[737]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={setCryptoStoreFactory:!0,createClient:!0,createRoomWidgetClient:!0,TypedEventEmitter:!0,LocationAssetType:!0,IdentityProviderBrand:!0,SSOAction:!0,ContentHelpers:!0,SecretStorage:!0,createNewMatrixCall:!0,CallEvent:!0,GroupCall:!0,GroupCallEvent:!0,GroupCallIntent:!0,GroupCallState:!0,GroupCallType:!0,GroupCallStatsReportEvent:!0,SyncState:!0,SetPresence:!0,SlidingSyncEvent:!0,MediaHandlerEvent:!0,CallFeedEvent:!0,StatsReport:!0,Relations:!0,RelationsEvent:!0,LocalStorageErrors:!0,localStorageErrorsEventsEmitter:!0,DebugLogger:!0};Object.defineProperty(_e,"CallEvent",{enumerable:!0,get:function(){return _r(d[0]).CallEvent}}),Object.defineProperty(_e,"CallFeedEvent",{enumerable:!0,get:function(){return _r(d[1]).CallFeedEvent}}),_e.ContentHelpers=void 0,Object.defineProperty(_e,"DebugLogger",{enumerable:!0,get:function(){return _r(d[2]).DebugLogger}}),Object.defineProperty(_e,"GroupCall",{enumerable:!0,get:function(){return _r(d[3]).GroupCall}}),Object.defineProperty(_e,"GroupCallEvent",{enumerable:!0,get:function(){return _r(d[3]).GroupCallEvent}}),Object.defineProperty(_e,"GroupCallIntent",{enumerable:!0,get:function(){return _r(d[3]).GroupCallIntent}}),Object.defineProperty(_e,"GroupCallState",{enumerable:!0,get:function(){return _r(d[3]).GroupCallState}}),Object.defineProperty(_e,"GroupCallStatsReportEvent",{enumerable:!0,get:function(){return _r(d[3]).GroupCallStatsReportEvent}}),Object.defineProperty(_e,"GroupCallType",{enumerable:!0,get:function(){return _r(d[3]).GroupCallType}}),Object.defineProperty(_e,"IdentityProviderBrand",{enumerable:!0,get:function(){return _r(d[4]).IdentityProviderBrand}}),Object.defineProperty(_e,"LocalStorageErrors",{enumerable:!0,get:function(){return _r(d[5]).LocalStorageErrors}}),Object.defineProperty(_e,"LocationAssetType",{enumerable:!0,get:function(){return _r(d[6]).LocationAssetType}}),Object.defineProperty(_e,"MediaHandlerEvent",{enumerable:!0,get:function(){return _r(d[7]).MediaHandlerEvent}}),Object.defineProperty(_e,"Relations",{enumerable:!0,get:function(){return _r(d[8]).Relations}}),Object.defineProperty(_e,"RelationsEvent",{enumerable:!0,get:function(){return _r(d[8]).RelationsEvent}}),Object.defineProperty(_e,"SSOAction",{enumerable:!0,get:function(){return _r(d[4]).SSOAction}}),_e.SecretStorage=void 0,Object.defineProperty(_e,"SetPresence",{enumerable:!0,get:function(){return _r(d[9]).SetPresence}}),Object.defineProperty(_e,"SlidingSyncEvent",{enumerable:!0,get:function(){return _r(d[10]).SlidingSyncEvent}}),Object.defineProperty(_e,"StatsReport",{enumerable:!0,get:function(){return _r(d[11]).StatsReport}}),Object.defineProperty(_e,"SyncState",{enumerable:!0,get:function(){return _r(d[9]).SyncState}}),Object.defineProperty(_e,"TypedEventEmitter",{enumerable:!0,get:function(){return _r(d[12]).TypedEventEmitter}}),_e.createClient=function(e){return new(_r(d[16]).MatrixClient)(c(e))},Object.defineProperty(_e,"createNewMatrixCall",{enumerable:!0,get:function(){return _r(d[0]).createNewMatrixCall}}),_e.createRoomWidgetClient=function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return new(_r(d[17]).RoomWidgetClient)(e,t,r,c(n),o)},Object.defineProperty(_e,"localStorageErrorsEventsEmitter",{enumerable:!0,get:function(){return _r(d[5]).localStorageErrorsEventsEmitter}}),_e.setCryptoStoreFactory=function(e){o=e},Object.keys(_r(d[13])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[13])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[13])[t]}}))}),Object.keys(_r(d[14])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[14])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[14])[t]}}))}),Object.keys(_r(d[15])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[15])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[15])[t]}}))}),Object.keys(_r(d[16])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[16])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[16])[t]}}))}),Object.keys(_r(d[17])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[17])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[17])[t]}}))}),Object.keys(_r(d[18])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[18])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[18])[t]}}))}),Object.keys(_r(d[19])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[19])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[19])[t]}}))}),Object.keys(_r(d[20])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[20])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[20])[t]}}))}),Object.keys(_r(d[21])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[21])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[21])[t]}}))}),Object.keys(_r(d[22])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[22])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[22])[t]}}))}),Object.keys(_r(d[23])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[23])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[23])[t]}}))}),Object.keys(_r(d[24])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[24])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[24])[t]}}))}),Object.keys(_r(d[25])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[25])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[25])[t]}}))}),Object.keys(_r(d[26])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[26])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[26])[t]}}))}),Object.keys(_r(d[27])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[27])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[27])[t]}}))}),Object.keys(_r(d[28])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[28])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[28])[t]}}))}),Object.keys(_r(d[29])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[29])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[29])[t]}}))}),Object.keys(_r(d[30])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[30])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[30])[t]}}))}),Object.keys(_r(d[31])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[31])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[31])[t]}}))}),Object.keys(_r(d[32])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[32])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[32])[t]}}))}),Object.keys(_r(d[12])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[12])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[12])[t]}}))}),Object.keys(_r(d[33])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[33])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[33])[t]}}))}),Object.keys(_r(d[34])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[34])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[34])[t]}}))}),Object.keys(_r(d[35])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[35])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[35])[t]}}))}),Object.keys(_r(d[36])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[36])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[36])[t]}}))}),Object.keys(_r(d[37])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[37])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[37])[t]}}))}),Object.keys(_r(d[38])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[38])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[38])[t]}}))}),Object.keys(_r(d[39])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[39])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[39])[t]}}))}),Object.keys(_r(d[40])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[40])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[40])[t]}}))}),Object.keys(_r(d[41])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[41])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[41])[t]}}))}),Object.keys(_r(d[42])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[42])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[42])[t]}}))}),Object.keys(_r(d[43])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[43])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[43])[t]}}))}),Object.keys(_r(d[44])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[44])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[44])[t]}}))}),Object.keys(_r(d[45])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[45])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[45])[t]}}))}),Object.keys(_r(d[46])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[46])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[46])[t]}}))}),Object.keys(_r(d[47])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[47])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[47])[t]}}))}),Object.keys(_r(d[48])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[48])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[48])[t]}}))}),Object.keys(_r(d[49])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[49])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[49])[t]}}))}),Object.keys(_r(d[50])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[50])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[50])[t]}}))}),Object.keys(_r(d[51])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[51])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[51])[t]}}))}),Object.keys(_r(d[52])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[52])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[52])[t]}}))}),Object.keys(_r(d[6])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[6])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[6])[t]}}))}),Object.keys(_r(d[53])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[53])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[53])[t]}}))}),Object.keys(_r(d[4])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[4])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[4])[t]}}))}),Object.keys(_r(d[54])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[54])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[54])[t]}}))}),Object.keys(_r(d[55])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[55])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[55])[t]}}))}),Object.keys(_r(d[56])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[56])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[56])[t]}}))}),Object.keys(_r(d[57])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[57])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[57])[t]}}))}),Object.keys(_r(d[58])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[58])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[58])[t]}}))}),Object.keys(_r(d[59])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[59])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[59])[t]}}))}),Object.keys(_r(d[60])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[60])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[60])[t]}}))}),Object.keys(_r(d[61])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[61])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[61])[t]}}))});var t=n(_r(d[62]));_e.ContentHelpers=t;var r=n(_r(d[63]));function n(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(n=function(e,t){if(!t&&e&&e.__esModule)return e;var n,c,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((c=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(c.get||c.set)?n(u,l,c):u[l]=e[l]);return u})(e,t)}_e.SecretStorage=r;var o=function(){return new(_r(d[13]).MemoryCryptoStore)};function c(e){var t,r,n;return e.store=null!==(t=e.store)&&void 0!==t?t:new(_r(d[14]).MemoryStore)({localStorage:globalThis.localStorage}),e.scheduler=null!==(r=e.scheduler)&&void 0!==r?r:new(_r(d[15]).MatrixScheduler),e.cryptoStore=null!==(n=e.cryptoStore)&&void 0!==n?n:o(),e}},737,[738,760,746,757,961,962,753,805,812,836,864,924,762,875,963,855,796,964,813,814,907,989,847,745,824,771,806,810,809,828,768,766,795,838,894,905,912,825,991,992,908,909,993,874,870,769,765,804,858,901,904,770,802,996,829,755,800,767,831,772,997,998,799,859]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MatrixCall=_e.FALLBACK_ICE_SERVER=_e.CallType=_e.CallState=_e.CallParty=_e.CallEvent=_e.CallErrorCode=_e.CallError=_e.CallDirection=void 0,_e.createNewMatrixCall=function(e,t,n){if(!O())return null;var i=!!n&&n.forceTURN,r={client:e,roomId:t,invitee:null==n?void 0:n.invitee,turnServers:e.getTurnServers(),forceTURN:e.forceTURN||i,opponentDeviceId:null==n?void 0:n.opponentDeviceId,opponentSessionId:null==n?void 0:n.opponentSessionId,groupCallId:null==n?void 0:n.groupCallId},o=new L(r);return e.reEmitter.reEmit(o,Object.values(M)),o},_e.genCallID=D,_e.setTracksEnabled=b,_e.supportsMatrixCall=O;var t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),c=e(_r(d[7])),s=e(_r(d[8])),u=e(_r(d[9])),v=e(_r(d[10]));function f(e,t,n){return t=(0,c.default)(t),(0,l.default)(e,p()?Reflect.construct(t,n||[],(0,c.default)(e).constructor):t.apply(e,n))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=_e.CallState=(function(e){return e.Fledgling="fledgling",e.InviteSent="invite_sent",e.WaitLocalMedia="wait_local_media",e.CreateOffer="create_offer",e.CreateAnswer="create_answer",e.Connecting="connecting",e.Connected="connected",e.Ringing="ringing",e.Ended="ended",e})({}),y=_e.CallType=(function(e){return e.Voice="voice",e.Video="video",e})({}),I=_e.CallDirection=(function(e){return e.Inbound="inbound",e.Outbound="outbound",e})({}),w=_e.CallParty=(function(e){return e.Local="local",e.Remote="remote",e})({}),M=_e.CallEvent=(function(e){return e.Hangup="hangup",e.State="state",e.Error="error",e.Replaced="replaced",e.LocalHoldUnhold="local_hold_unhold",e.RemoteHoldUnhold="remote_hold_unhold",e.HoldUnhold="hold_unhold",e.FeedsChanged="feeds_changed",e.AssertedIdentityChanged="asserted_identity_changed",e.LengthChanged="length_changed",e.DataChannel="datachannel",e.SendVoipEvent="send_voip_event",e.PeerConnectionCreated="peer_connection_created",e})({}),k=_e.CallErrorCode=(function(e){return e.UserHangup="user_hangup",e.LocalOfferFailed="local_offer_failed",e.NoUserMedia="no_user_media",e.UnknownDevices="unknown_devices",e.SendInvite="send_invite",e.CreateAnswer="create_answer",e.CreateOffer="create_offer",e.SendAnswer="send_answer",e.SetRemoteDescription="set_remote_description",e.SetLocalDescription="set_local_description",e.AnsweredElsewhere="answered_elsewhere",e.IceFailed="ice_failed",e.InviteTimeout="invite_timeout",e.Replaced="replaced",e.SignallingFailed="signalling_timeout",e.UserBusy="user_busy",e.Transferred="transferred",e.NewSession="new_session",e})({}),T=_e.FALLBACK_ICE_SERVER="stun:turn.matrix.org",P=6e4,R=_e.CallError=(function(e){function t(e,n,r){var l;return(0,o.default)(this,t),l=f(this,t,[n+": "+r]),(0,i.default)(l,"code",void 0),l.code=e,l}return(0,s.default)(t,e),(0,r.default)(t)})((0,u.default)(Error));function D(){return Date.now().toString()+(0,_r(d[11]).secureRandomString)(16)}function F(e){return[{mediaType:"audio",codec:"opus",enableDtx:!0,maxAverageBitrate:e?12e3:void 0}]}function E(e,t){return e+":"+t}var L=_e.MatrixCall=(function(e){function l(e){var t,n,r;if((0,o.default)(this,l),t=f(this,l),n=t,(0,i.default)(t,"roomId",void 0),(0,i.default)(t,"callId",void 0),(0,i.default)(t,"invitee",void 0),(0,i.default)(t,"hangupParty",void 0),(0,i.default)(t,"hangupReason",void 0),(0,i.default)(t,"direction",void 0),(0,i.default)(t,"ourPartyId",void 0),(0,i.default)(t,"peerConn",void 0),(0,i.default)(t,"toDeviceSeq",0),(0,i.default)(t,"isPtt",!1),(0,i.default)(t,"_state",S.Fledgling),(0,i.default)(t,"client",void 0),(0,i.default)(t,"forceTURN",void 0),(0,i.default)(t,"turnServers",void 0),(0,i.default)(t,"candidateSendQueue",[]),(0,i.default)(t,"candidateSendTries",0),(0,i.default)(t,"candidatesEnded",!1),(0,i.default)(t,"feeds",[]),(0,i.default)(t,"transceivers",new Map),(0,i.default)(t,"inviteOrAnswerSent",!1),(0,i.default)(t,"waitForLocalAVStream",!1),(0,i.default)(t,"successor",void 0),(0,i.default)(t,"opponentMember",void 0),(0,i.default)(t,"opponentVersion",void 0),(0,i.default)(t,"opponentPartyId",void 0),(0,i.default)(t,"opponentCaps",void 0),(0,i.default)(t,"iceDisconnectedTimeout",void 0),(0,i.default)(t,"iceReconnectionTimeOut",void 0),(0,i.default)(t,"inviteTimeout",void 0),(0,i.default)(t,"removeTrackListeners",new Map),(0,i.default)(t,"remoteOnHold",!1),(0,i.default)(t,"callStatsAtEnd",void 0),(0,i.default)(t,"makingOffer",!1),(0,i.default)(t,"ignoreOffer",!1),(0,i.default)(t,"isSettingRemoteAnswerPending",!1),(0,i.default)(t,"responsePromiseChain",void 0),(0,i.default)(t,"remoteCandidateBuffer",new Map),(0,i.default)(t,"remoteAssertedIdentity",void 0),(0,i.default)(t,"remoteSDPStreamMetadata",void 0),(0,i.default)(t,"callLengthInterval",void 0),(0,i.default)(t,"callStartTime",void 0),(0,i.default)(t,"opponentDeviceId",void 0),(0,i.default)(t,"hasOpponentDeviceInfo",void 0),(0,i.default)(t,"opponentSessionId",void 0),(0,i.default)(t,"groupCallId",void 0),(0,i.default)(t,"stopVideoTrackTimer",void 0),(0,i.default)(t,"isOnlyDataChannelAllowed",void 0),(0,i.default)(t,"stats",void 0),(0,i.default)(t,"gotLocalIceCandidate",function(e){if(e.candidate){if(t.candidatesEnded&&_r(d[12]).logger.warn("Call ".concat(t.callId," gotLocalIceCandidate() got candidate after candidates have ended!")),_r(d[12]).logger.debug("Call ".concat(t.callId," got local ICE ").concat(e.candidate.sdpMid," ").concat(e.candidate.candidate)),t.callHasEnded())return;""===e.candidate.candidate?t.queueCandidate(null):t.queueCandidate(e.candidate)}}),(0,i.default)(t,"onIceGatheringStateChange",function(e){var n;_r(d[12]).logger.debug("Call ".concat(t.callId," onIceGatheringStateChange() ice gathering state changed to ").concat(t.peerConn.iceGatheringState)),"complete"===(null===(n=t.peerConn)||void 0===n?void 0:n.iceGatheringState)&&(t.queueCandidate(null),_r(d[12]).logger.debug("Call ".concat(t.callId," onIceGatheringStateChange() ice gathering state complete, set candidates have ended")))}),(0,i.default)(t,"getLocalOfferFailed",function(e){_r(d[12]).logger.error("Call ".concat(t.callId," getLocalOfferFailed() running"),e),t.emit(M.Error,new R(k.LocalOfferFailed,"Failed to get local offer!",e),t),t.terminate(w.Local,k.LocalOfferFailed,!1)}),(0,i.default)(t,"getUserMediaFailed",function(e){t.successor?t.successor.getUserMediaFailed(e):(_r(d[12]).logger.warn("Call ".concat(t.callId," getUserMediaFailed() failed to get user media - ending call"),e),t.emit(M.Error,new R(k.NoUserMedia,"Couldn't start capturing media! Is your microphone set up and does this app have permission?",e),t),t.terminate(w.Local,k.NoUserMedia,!1))}),(0,i.default)(t,"placeCallFailed",function(e){t.successor?t.successor.placeCallFailed(e):(_r(d[12]).logger.warn("Call ".concat(t.callId," placeCallWithCallFeeds() failed - ending call"),e),t.emit(M.Error,new R(k.IceFailed,"Couldn't start call! Invalid ICE server configuration.",e),t),t.terminate(w.Local,k.IceFailed,!1))}),(0,i.default)(t,"onIceConnectionStateChanged",function(){var e,n,i,r,o,l;if(!t.callHasEnded()){if(_r(d[12]).logger.debug("Call ".concat(t.callId," onIceConnectionStateChanged() running (state=").concat(null===(e=t.peerConn)||void 0===e?void 0:e.iceConnectionState,", conn=").concat(null===(n=t.peerConn)||void 0===n?void 0:n.connectionState,")")),["connected","completed"].includes(null!==(i=null===(r=t.peerConn)||void 0===r?void 0:r.iceConnectionState)&&void 0!==i?i:""))clearTimeout(t.iceDisconnectedTimeout),t.iceDisconnectedTimeout=void 0,t.iceReconnectionTimeOut&&clearTimeout(t.iceReconnectionTimeOut),t.state=S.Connected,t.callLengthInterval||t.callStartTime||(t.callStartTime=Date.now(),t.callLengthInterval=setInterval(function(){t.emit(M.LengthChanged,Math.round((Date.now()-t.callStartTime)/1e3),t)},1e3));else if("failed"==(null===(o=t.peerConn)||void 0===o?void 0:o.iceConnectionState)){var c,s;if(t.candidatesEnded=!1,null!==(c=t.peerConn)&&void 0!==c&&c.restartIce)t.candidatesEnded=!1,_r(d[12]).logger.debug("Call ".concat(t.callId," onIceConnectionStateChanged() ice restart (state=").concat(null===(s=t.peerConn)||void 0===s?void 0:s.iceConnectionState,")")),t.peerConn.restartIce();else _r(d[12]).logger.info("Call ".concat(t.callId," onIceConnectionStateChanged() hanging up call (ICE failed and no ICE restart method)")),t.hangup(k.IceFailed,!1)}else"disconnected"==(null===(l=t.peerConn)||void 0===l?void 0:l.iceConnectionState)&&(t.candidatesEnded=!1,t.iceReconnectionTimeOut=setTimeout(function(){var e,n,i;_r(d[12]).logger.info("Call ".concat(t.callId," onIceConnectionStateChanged() ICE restarting because of ICE disconnected, (state=").concat(null===(e=t.peerConn)||void 0===e?void 0:e.iceConnectionState,", conn=").concat(null===(n=t.peerConn)||void 0===n?void 0:n.connectionState,")")),null!==(i=t.peerConn)&&void 0!==i&&i.restartIce&&(t.candidatesEnded=!1,t.peerConn.restartIce()),t.iceReconnectionTimeOut=void 0},2e3),t.iceDisconnectedTimeout=setTimeout(function(){_r(d[12]).logger.info("Call ".concat(t.callId," onIceConnectionStateChanged() hanging up call (ICE disconnected for too long)")),t.hangup(k.IceFailed,!1)},3e4),t.state=S.Connecting);if(t.isPtt&&["failed","disconnected"].includes(t.peerConn.iceConnectionState))for(var u of t.getRemoteFeeds())u.setAudioVideoMuted(!0,!0)}}),(0,i.default)(t,"onSignallingStateChanged",function(){var e;_r(d[12]).logger.debug("Call ".concat(t.callId," onSignallingStateChanged() running (state=").concat(null===(e=t.peerConn)||void 0===e?void 0:e.signalingState,")"))}),(0,i.default)(t,"onTrack",function(e){if(0!==e.streams.length){var n=e.streams[0];if(t.pushRemoteFeed(n),!t.removeTrackListeners.has(n)){var i=function(){0===n.getTracks().length&&(_r(d[12]).logger.info("Call ".concat(t.callId," onTrack() removing track (streamId=").concat(n.id,")")),t.deleteFeedByStream(n),n.removeEventListener("removetrack",i),t.removeTrackListeners.delete(n))};n.addEventListener("removetrack",i),t.removeTrackListeners.set(n,i)}}else _r(d[12]).logger.warn("Call ".concat(t.callId," onTrack() called with streamless track streamless (kind=").concat(e.track.kind,")"))}),(0,i.default)(t,"onDataChannel",function(e){t.emit(M.DataChannel,e.channel,t)}),(0,i.default)(t,"onNegotiationNeeded",(0,v.default)(function*(){_r(d[12]).logger.info("Call ".concat(n.callId," onNegotiationNeeded() negotiation is needed!")),n.state===S.CreateOffer||0!==n.opponentVersion?n.queueGotLocalOffer():_r(d[12]).logger.info("Call ".concat(n.callId," onNegotiationNeeded() opponent does not support renegotiation: ignoring negotiationneeded event"))})),(0,i.default)(t,"onHangupReceived",function(e){_r(d[12]).logger.debug("Call ".concat(t.callId," onHangupReceived() running")),t.partyIdMatches(e)||t.state===S.Ringing?t.terminate(w.Remote,e.reason||k.UserHangup,!0):_r(d[12]).logger.info("Call ".concat(t.callId," onHangupReceived() ignoring message from party ID ").concat(e.party_id,": our partner is ").concat(t.opponentPartyId))}),(0,i.default)(t,"onRejectReceived",function(e){_r(d[12]).logger.debug("Call ".concat(t.callId," onRejectReceived() running")),[S.InviteSent,S.Ringing].includes(t.state)||t.state===S.Fledgling&&t.direction===I.Inbound?t.terminate(w.Remote,e.reason||k.UserHangup,!0):_r(d[12]).logger.debug("Call ".concat(t.callId," onRejectReceived() called in wrong state (state=").concat(t.state,")"))}),(0,i.default)(t,"onAnsweredElsewhere",function(e){_r(d[12]).logger.debug("Call ".concat(t.callId," onAnsweredElsewhere() running")),t.terminate(w.Remote,k.AnsweredElsewhere,!0)}),t.roomId=e.roomId,t.invitee=e.invitee,t.client=e.client,!t.client.deviceId)throw new Error("Client must have a device ID to start calls");for(var c of(t.forceTURN=null!==(r=e.forceTURN)&&void 0!==r&&r,t.ourPartyId=t.client.deviceId,t.opponentDeviceId=e.opponentDeviceId,t.opponentSessionId=e.opponentSessionId,t.groupCallId=e.groupCallId,t.turnServers=e.turnServers||[],0===t.turnServers.length&&t.client.isFallbackICEServerAllowed()&&t.turnServers.push({urls:[T]}),t.turnServers))(0,_r(d[13]).checkObjectHasKeys)(c,["urls"]);return t.callId=D(),t.isOnlyDataChannelAllowed=t.client.isVoipWithNoMediaAllowed,t}return(0,s.default)(l,e),(0,r.default)(l,[{key:"placeVoiceCall",value:function(){var e=this;return(0,v.default)(function*(){yield e.placeCall(!0,!1)})()}},{key:"placeVideoCall",value:function(){var e=this;return(0,v.default)(function*(){yield e.placeCall(!0,!0)})()}},{key:"createDataChannel",value:function(e,t){var n=this.peerConn.createDataChannel(e,t);return this.emit(M.DataChannel,n,this),n}},{key:"getOpponentMember",value:function(){return this.opponentMember}},{key:"getOpponentDeviceId",value:function(){return this.opponentDeviceId}},{key:"getOpponentSessionId",value:function(){return this.opponentSessionId}},{key:"opponentCanBeTransferred",value:function(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.transferee"])}},{key:"opponentSupportsDTMF",value:function(){return Boolean(this.opponentCaps&&this.opponentCaps["m.call.dtmf"])}},{key:"getRemoteAssertedIdentity",value:function(){return this.remoteAssertedIdentity}},{key:"state",get:function(){return this._state},set:function(e){var t=this._state;this._state=e,this.emit(M.State,e,t,this)}},{key:"type",get:function(){return this.hasUserMediaVideoSender||this.hasRemoteUserMediaVideoTrack?y.Video:y.Voice}},{key:"hasLocalUserMediaVideoTrack",get:function(){var e;return!(null===(e=this.localUsermediaStream)||void 0===e||!e.getVideoTracks().length)}},{key:"hasRemoteUserMediaVideoTrack",get:function(){return this.getRemoteFeeds().some(function(e){var t;return e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Usermedia&&(null===(t=e.stream)||void 0===t?void 0:t.getVideoTracks().length)})}},{key:"hasLocalUserMediaAudioTrack",get:function(){var e;return!(null===(e=this.localUsermediaStream)||void 0===e||!e.getAudioTracks().length)}},{key:"hasRemoteUserMediaAudioTrack",get:function(){return this.getRemoteFeeds().some(function(e){var t;return e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Usermedia&&!(null===(t=e.stream)||void 0===t||!t.getAudioTracks().length)})}},{key:"hasUserMediaAudioSender",get:function(){var e;return Boolean(null===(e=this.transceivers.get(E(_r(d[14]).SDPStreamMetadataPurpose.Usermedia,"audio")))||void 0===e?void 0:e.sender)}},{key:"hasUserMediaVideoSender",get:function(){var e;return Boolean(null===(e=this.transceivers.get(E(_r(d[14]).SDPStreamMetadataPurpose.Usermedia,"video")))||void 0===e?void 0:e.sender)}},{key:"localUsermediaFeed",get:function(){return this.getLocalFeeds().find(function(e){return e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Usermedia})}},{key:"localScreensharingFeed",get:function(){return this.getLocalFeeds().find(function(e){return e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Screenshare})}},{key:"localUsermediaStream",get:function(){var e;return null===(e=this.localUsermediaFeed)||void 0===e?void 0:e.stream}},{key:"localScreensharingStream",get:function(){var e;return null===(e=this.localScreensharingFeed)||void 0===e?void 0:e.stream}},{key:"remoteUsermediaFeed",get:function(){return this.getRemoteFeeds().find(function(e){return e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Usermedia})}},{key:"remoteScreensharingFeed",get:function(){return this.getRemoteFeeds().find(function(e){return e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Screenshare})}},{key:"remoteUsermediaStream",get:function(){var e;return null===(e=this.remoteUsermediaFeed)||void 0===e?void 0:e.stream}},{key:"remoteScreensharingStream",get:function(){var e;return null===(e=this.remoteScreensharingFeed)||void 0===e?void 0:e.stream}},{key:"getFeedByStreamId",value:function(e){return this.getFeeds().find(function(t){return t.stream.id===e})}},{key:"getFeeds",value:function(){return this.feeds}},{key:"getLocalFeeds",value:function(){return this.feeds.filter(function(e){return e.isLocal()})}},{key:"getRemoteFeeds",value:function(){return this.feeds.filter(function(e){return!e.isLocal()})}},{key:"initOpponentCrypto",value:function(){var e=this;return(0,v.default)(function*(){var t;if(e.opponentDeviceId&&e.client.getUseE2eForGroupCall()){if(e.client.getCrypto()){var n=e.invitee||(null===(t=e.getOpponentMember())||void 0===t?void 0:t.userId);if(!n)throw new Error("Couldn't find opponent user ID to init crypto");throw e.hasOpponentDeviceInfo=!1,new(_r(d[15]).GroupCallUnknownDeviceError)(n)}e.hasOpponentDeviceInfo=!0}})()}},{key:"getLocalSDPStreamMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};for(var n of this.getLocalFeeds())e&&(n.sdpMetadataStreamId=n.stream.id),t[n.sdpMetadataStreamId]={purpose:n.purpose,audio_muted:n.isAudioMuted(),video_muted:n.isVideoMuted()};return t}},{key:"noIncomingFeeds",value:function(){return!this.feeds.some(function(e){return!e.isLocal()})}},{key:"pushRemoteFeed",value:function(e){if(this.opponentSupportsSDPStreamMetadata()){var t=this.getOpponentMember().userId,n=this.remoteSDPStreamMetadata[e.id].purpose,i=this.remoteSDPStreamMetadata[e.id].audio_muted,r=this.remoteSDPStreamMetadata[e.id].video_muted;n?this.getFeedByStreamId(e.id)?_r(d[12]).logger.warn("Call ".concat(this.callId," pushRemoteFeed() ignoring stream because we already have a feed for it (streamId=").concat(e.id,")")):(this.feeds.push(new(_r(d[16]).CallFeed)({client:this.client,call:this,roomId:this.roomId,userId:t,deviceId:this.getOpponentDeviceId(),stream:e,purpose:n,audioMuted:i,videoMuted:r})),this.emit(M.FeedsChanged,this.feeds,this),_r(d[12]).logger.info("Call ".concat(this.callId," pushRemoteFeed() pushed stream (streamId=").concat(e.id,", active=").concat(e.active,", purpose=").concat(n,")"))):_r(d[12]).logger.warn("Call ".concat(this.callId," pushRemoteFeed() ignoring stream because we didn't get any metadata about it (streamId=").concat(e.id,")"))}else this.pushRemoteFeedWithoutMetadata(e)}},{key:"pushRemoteFeedWithoutMetadata",value:function(e){var t,n=this.getOpponentMember().userId,i=_r(d[14]).SDPStreamMetadataPurpose.Usermedia,r=null===(t=this.feeds.find(function(e){return!e.isLocal()}))||void 0===t?void 0:t.stream;r&&e.id!==r.id?_r(d[12]).logger.warn("Call ".concat(this.callId," pushRemoteFeedWithoutMetadata() ignoring new stream because we already have stream (streamId=").concat(e.id,")")):this.getFeedByStreamId(e.id)?_r(d[12]).logger.warn("Call ".concat(this.callId," pushRemoteFeedWithoutMetadata() ignoring stream because we already have a feed for it (streamId=").concat(e.id,")")):(this.feeds.push(new(_r(d[16]).CallFeed)({client:this.client,call:this,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:n,deviceId:this.getOpponentDeviceId(),stream:e,purpose:i})),this.emit(M.FeedsChanged,this.feeds,this),_r(d[12]).logger.info("Call ".concat(this.callId," pushRemoteFeedWithoutMetadata() pushed stream (streamId=").concat(e.id,", active=").concat(e.active,")")))}},{key:"pushNewLocalFeed",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.client.getUserId();b(e.getAudioTracks(),!0),b(e.getVideoTracks(),!0),this.getFeedByStreamId(e.id)?_r(d[12]).logger.warn("Call ".concat(this.callId," pushNewLocalFeed() ignoring stream because we already have a feed for it (streamId=").concat(e.id,")")):this.pushLocalFeed(new(_r(d[16]).CallFeed)({client:this.client,roomId:this.roomId,audioMuted:!1,videoMuted:!1,userId:i,deviceId:this.getOpponentDeviceId(),stream:e,purpose:t}),n)}},{key:"pushLocalFeed",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.feeds.some(function(t){return e.stream.id===t.stream.id}))_r(d[12]).logger.info("Call ".concat(this.callId," pushLocalFeed() ignoring duplicate local stream (streamId=").concat(e.stream.id,")"));else{if(this.feeds.push(e),n){var i=function(){_r(d[12]).logger.info("Call ".concat(t.callId," pushLocalFeed() adding track to peer connection (id=").concat(r.id,", kind=").concat(r.kind,", streamId=").concat(e.stream.id,", streamPurpose=").concat(e.purpose,", enabled=").concat(r.enabled,")"));var n=E(e.purpose,r.kind);if(t.transceivers.has(n)){var i=t.transceivers.get(n);i.sender.replaceTrack(r),i.direction="inactive"===i.direction?"sendonly":"sendrecv"}else{var o=t.peerConn.addTrack(r,e.stream),l=t.peerConn.getTransceivers().find(function(e){return e.sender===o});l?t.transceivers.set(n,l):_r(d[12]).logger.warn("Call ".concat(t.callId," pushLocalFeed() didn't find a matching transceiver after adding track!"))}};for(var r of e.stream.getTracks())i()}_r(d[12]).logger.info("Call ".concat(this.callId," pushLocalFeed() pushed stream (id=").concat(e.stream.id,", active=").concat(e.stream.active,", purpose=").concat(e.purpose,")")),this.emit(M.FeedsChanged,this.feeds,this)}}},{key:"removeLocalFeed",value:function(e){var t=E(e.purpose,"audio"),n=E(e.purpose,"video");for(var i of[t,n])if(this.transceivers.has(i)){var r=this.transceivers.get(i);r.sender&&this.peerConn.removeTrack(r.sender)}e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Screenshare&&this.client.getMediaHandler().stopScreensharingStream(e.stream),this.deleteFeed(e)}},{key:"deleteAllFeeds",value:function(){for(var e of this.feeds)e.isLocal()&&this.groupCallId||e.dispose();this.feeds=[],this.emit(M.FeedsChanged,this.feeds,this)}},{key:"deleteFeedByStream",value:function(e){var t=this.getFeedByStreamId(e.id);t?this.deleteFeed(t):_r(d[12]).logger.warn("Call ".concat(this.callId," deleteFeedByStream() didn't find the feed to delete (streamId=").concat(e.id,")"))}},{key:"deleteFeed",value:function(e){e.dispose(),this.feeds.splice(this.feeds.indexOf(e),1),this.emit(M.FeedsChanged,this.feeds,this)}},{key:"getCurrentCallStats",value:function(){var e=this;return(0,v.default)(function*(){return e.callHasEnded()?e.callStatsAtEnd:e.collectCallStats()})()}},{key:"collectCallStats",value:function(){var e=this;return(0,v.default)(function*(){if(e.peerConn){var t=yield e.peerConn.getStats(),n=[];return t.forEach(function(e){n.push(e)}),n}})()}},{key:"initWithInvite",value:function(e){var t=this;return(0,v.default)(function*(){var n,i=e.getContent();t.direction=I.Inbound,(yield t.client.checkTurnServers())||_r(d[12]).logger.warn("Call ".concat(t.callId," initWithInvite() failed to get TURN credentials! Proceeding with call anyway..."));var r=i[_r(d[14]).SDPStreamMetadataKey];r?t.updateRemoteSDPStreamMetadata(r):_r(d[12]).logger.debug("Call ".concat(t.callId," initWithInvite() did not get any SDPStreamMetadata! Can not send/receive multiple streams")),t.peerConn=t.createPeerConnection(),t.emit(M.PeerConnectionCreated,t.peerConn,t),t.chooseOpponent(e),yield t.initOpponentCrypto();try{yield t.peerConn.setRemoteDescription(i.offer),_r(d[12]).logger.debug("Call ".concat(t.callId," initWithInvite() set remote description: ").concat(i.offer.type)),yield t.addBufferedIceCandidates()}catch(e){return _r(d[12]).logger.debug("Call ".concat(t.callId," initWithInvite() failed to set remote description"),e),void t.terminate(w.Local,k.SetRemoteDescription,!1)}var o=null===(n=t.feeds.find(function(e){return!e.isLocal()}))||void 0===n?void 0:n.stream;if(!(t.isOnlyDataChannelAllowed||o&&0!==o.getTracks().length))return _r(d[12]).logger.error("Call ".concat(t.callId," initWithInvite() no remote stream or no tracks after setting remote description!")),void t.terminate(w.Local,k.SetRemoteDescription,!1);if(t.state=S.Ringing,e.getLocalAge()){var l=setTimeout(function(){var e;t.state==S.Ringing&&(_r(d[12]).logger.debug("Call ".concat(t.callId," initWithInvite() invite has expired. Hanging up.")),t.hangupParty=w.Remote,t.state=S.Ended,t.stopAllMedia(),"closed"!=t.peerConn.signalingState&&t.peerConn.close(),null===(e=t.stats)||void 0===e||e.removeStatsReportGatherer(t.callId),t.emit(M.Hangup,t))},i.lifetime-e.getLocalAge()),c=function(e){e!==S.Ringing&&(clearTimeout(l),t.off(M.State,c))};t.on(M.State,c)}})()}},{key:"initWithHangup",value:function(e){this.state=S.Ended}},{key:"shouldAnswerWithMediaType",value:function(e,t,n){return e&&!t?(_r(d[12]).logger.warn("Call ".concat(this.callId," shouldAnswerWithMediaType() unable to answer with ").concat(n," because the other side isn't sending it either.")),!1):(0,_r(d[13]).isNullOrUndefined)(e)||e===t||this.opponentSupportsSDPStreamMetadata()?null!=e?e:t:(_r(d[12]).logger.warn("Call ".concat(this.callId," shouldAnswerWithMediaType() unable to answer with ").concat(n,"=").concat(e," because the other side doesn't support it. Answering with ").concat(n,"=").concat(t,".")),t)}},{key:"answer",value:function(e,t){var n=this;return(0,v.default)(function*(){if(!n.inviteOrAnswerSent){if(!1===e&&!1===t)throw new Error("You CANNOT answer a call without media");if(n.localUsermediaStream||n.waitForLocalAVStream)n.waitForLocalAVStream&&(n.state=S.WaitLocalMedia);else{var i=n.state,r=n.shouldAnswerWithMediaType(e,n.hasRemoteUserMediaAudioTrack,"audio"),o=n.shouldAnswerWithMediaType(t,n.hasRemoteUserMediaVideoTrack,"video");n.state=S.WaitLocalMedia,n.waitForLocalAVStream=!0;try{var l,c=yield n.client.getMediaHandler().getUserMediaStream(r,o);n.waitForLocalAVStream=!1;var s=[new(_r(d[16]).CallFeed)({client:n.client,roomId:n.roomId,userId:n.client.getUserId(),deviceId:null!==(l=n.client.getDeviceId())&&void 0!==l?l:void 0,stream:c,purpose:_r(d[14]).SDPStreamMetadataPurpose.Usermedia,audioMuted:!1,videoMuted:!1})];n.localScreensharingFeed&&s.push(n.localScreensharingFeed),n.answerWithCallFeeds(s)}catch(e){if(!o)return void n.getUserMediaFailed(e);_r(d[12]).logger.warn("Call ".concat(n.callId," answer() failed to getUserMedia(), trying to getUserMedia() without video")),n.state=i,n.waitForLocalAVStream=!1,yield n.answer(r,!1)}}}})()}},{key:"answerWithCallFeeds",value:function(e){this.inviteOrAnswerSent||this.queueGotCallFeedsForAnswer(e)}},{key:"replacedBy",value:function(e){_r(d[12]).logger.debug("Call ".concat(this.callId," replacedBy() running (newCallId=").concat(e.callId,")")),this.state===S.WaitLocalMedia?(_r(d[12]).logger.debug("Call ".concat(this.callId," replacedBy() telling new call to wait for local media (newCallId=").concat(e.callId,")")),e.waitForLocalAVStream=!0):[S.CreateOffer,S.InviteSent].includes(this.state)&&(e.direction===I.Outbound?e.queueGotCallFeedsForAnswer([]):(_r(d[12]).logger.debug("Call ".concat(this.callId," replacedBy() handing local stream to new call(newCallId=").concat(e.callId,")")),e.queueGotCallFeedsForAnswer(this.getLocalFeeds().map(function(e){return e.clone()})))),this.successor=e,this.emit(M.Replaced,e,this),this.hangup(k.Replaced,!0)}},{key:"hangup",value:function(e,t){if(!this.callHasEnded()&&(_r(d[12]).logger.debug("Call ".concat(this.callId," hangup() ending call (reason=").concat(e,")")),this.terminate(w.Local,e,!t),![S.Fledgling,S.WaitLocalMedia].includes(this.state))){var n={};(this.opponentVersion&&0!==this.opponentVersion||e!==k.UserHangup)&&(n.reason=e),this.sendVoipEvent(_r(d[17]).EventType.CallHangup,n)}}},{key:"reject",value:function(){if(this.state!==S.Ringing)throw Error("Call must be in 'ringing' state to reject!");if(0===this.opponentVersion)return _r(d[12]).logger.info("Call ".concat(this.callId," reject() opponent version is less than 1: sending hangup instead of reject (opponentVersion=").concat(this.opponentVersion,")")),void this.hangup(k.UserHangup,!0);_r(d[12]).logger.debug("Rejecting call: "+this.callId),this.terminate(w.Local,k.UserHangup,!0),this.sendVoipEvent(_r(d[17]).EventType.CallReject,{})}},{key:"upgradeCall",value:function(e,t){var n=this;return(0,v.default)(function*(){if((e||t)&&n.opponentSupportsSDPStreamMetadata())try{_r(d[12]).logger.debug("Call ".concat(n.callId," upgradeCall() upgrading call (audio=").concat(e,", video=").concat(t,")"));var i=e||n.hasLocalUserMediaAudioTrack,r=t||n.hasLocalUserMediaVideoTrack,o=yield n.client.getMediaHandler().getUserMediaStream(i,r,!1);yield n.updateLocalUsermediaStream(o,e,t)}catch(e){_r(d[12]).logger.error("Call ".concat(n.callId," upgradeCall() failed to upgrade the call"),e),n.emit(M.Error,new R(k.NoUserMedia,"Failed to get camera access: ",e),n)}})()}},{key:"opponentSupportsSDPStreamMetadata",value:function(){return Boolean(this.remoteSDPStreamMetadata)}},{key:"isScreensharing",value:function(){return Boolean(this.localScreensharingStream)}},{key:"setScreensharingEnabled",value:function(e,t){var n=this;return(0,v.default)(function*(){if(e&&n.isScreensharing())return _r(d[12]).logger.warn("Call ".concat(n.callId," setScreensharingEnabled() there is already a screensharing stream - there is nothing to do!")),!0;if(!e&&!n.isScreensharing())return _r(d[12]).logger.warn("Call ".concat(n.callId," setScreensharingEnabled() there already isn't a screensharing stream - there is nothing to do!")),!1;if(!n.opponentSupportsSDPStreamMetadata())return n.setScreensharingEnabledWithoutMetadataSupport(e,t);if(_r(d[12]).logger.debug("Call ".concat(n.callId," setScreensharingEnabled() running (enabled=").concat(e,")")),!e){var i=n.transceivers.get(E(_r(d[14]).SDPStreamMetadataPurpose.Screenshare,"audio")),r=n.transceivers.get(E(_r(d[14]).SDPStreamMetadataPurpose.Screenshare,"video"));for(var o of[i,r])o&&o.sender&&n.peerConn.removeTrack(o.sender);return n.client.getMediaHandler().stopScreensharingStream(n.localScreensharingStream),n.deleteFeedByStream(n.localScreensharingStream),!1}try{var l=yield n.client.getMediaHandler().getScreensharingStream(t);return!!l&&(n.pushNewLocalFeed(l,_r(d[14]).SDPStreamMetadataPurpose.Screenshare),!0)}catch(e){return _r(d[12]).logger.error("Call ".concat(n.callId," setScreensharingEnabled() failed to get screen-sharing stream:"),e),!1}})()}},{key:"setScreensharingEnabledWithoutMetadataSupport",value:function(e,t){var n=this;return(0,v.default)(function*(){if(_r(d[12]).logger.debug("Call ".concat(n.callId," setScreensharingEnabledWithoutMetadataSupport() running (enabled=").concat(e,")")),!e){var i,r,o=null===(i=n.localUsermediaStream)||void 0===i?void 0:i.getTracks().find(function(e){return"video"===e.kind}),l=null===(r=n.transceivers.get(E(_r(d[14]).SDPStreamMetadataPurpose.Usermedia,"video")))||void 0===r?void 0:r.sender;return null==l||l.replaceTrack(null!=o?o:null),n.client.getMediaHandler().stopScreensharingStream(n.localScreensharingStream),n.deleteFeedByStream(n.localScreensharingStream),!1}try{var c,s=yield n.client.getMediaHandler().getScreensharingStream(t);if(!s)return!1;var u=s.getTracks().find(function(e){return"video"===e.kind}),v=null===(c=n.transceivers.get(E(_r(d[14]).SDPStreamMetadataPurpose.Usermedia,"video")))||void 0===c?void 0:c.sender;return null==v||v.replaceTrack(null!=u?u:null),n.pushNewLocalFeed(s,_r(d[14]).SDPStreamMetadataPurpose.Screenshare,!1),!0}catch(e){return _r(d[12]).logger.error("Call ".concat(n.callId," setScreensharingEnabledWithoutMetadataSupport() failed to get screen-sharing stream:"),e),!1}})()}},{key:"updateLocalUsermediaStream",value:function(e){var t=arguments,n=this;return(0,v.default)(function*(){var i=t.length>1&&void 0!==t[1]&&t[1],r=t.length>2&&void 0!==t[2]&&t[2],o=n.localUsermediaFeed,l=i||!o.isAudioMuted()&&!n.remoteOnHold,c=r||!o.isVideoMuted()&&!n.remoteOnHold;for(var s of(_r(d[12]).logger.log("Call ".concat(n.callId," updateLocalUsermediaStream() running (streamId=").concat(e.id,", audio=").concat(l,", video=").concat(c,")")),b(e.getAudioTracks(),l),b(e.getVideoTracks(),c),n.localUsermediaStream.getTracks()))n.localUsermediaStream.removeTrack(s),s.stop();for(var u of e.getTracks())n.localUsermediaStream.addTrack(u);var v=function*(){var t=E(_r(d[14]).SDPStreamMetadataPurpose.Usermedia,f.kind),i=n.transceivers.get(t),r=null==i?void 0:i.sender,l=!1;if(r)try{_r(d[12]).logger.info("Call ".concat(n.callId," updateLocalUsermediaStream() replacing track (id=").concat(f.id,", kind=").concat(f.kind,", streamId=").concat(e.id,", streamPurpose=").concat(o.purpose,")")),yield r.replaceTrack(f),i.direction="inactive"===i.direction?"sendonly":"sendrecv",l=!0}catch(e){_r(d[12]).logger.warn("Call ".concat(n.callId," updateLocalUsermediaStream() replaceTrack failed: adding new transceiver instead"),e)}if(!l){_r(d[12]).logger.info("Call ".concat(n.callId," updateLocalUsermediaStream() adding track to peer connection (id=").concat(f.id,", kind=").concat(f.kind,", streamId=").concat(e.id,", streamPurpose=").concat(o.purpose,")"));var c=n.peerConn.addTrack(f,n.localUsermediaStream),s=n.peerConn.getTransceivers().find(function(e){return e.sender===c});s?n.transceivers.set(t,s):_r(d[12]).logger.warn("Call ".concat(n.callId," updateLocalUsermediaStream() couldn't find matching transceiver for newly added track!"))}};for(var f of e.getTracks())yield*v()})()}},{key:"setLocalVideoMuted",value:function(e){var t=this;return(0,v.default)(function*(){var n,i;if(_r(d[12]).logger.log("Call ".concat(t.callId," setLocalVideoMuted() running ").concat(e)),e||void 0===t.stopVideoTrackTimer||(clearTimeout(t.stopVideoTrackTimer),t.stopVideoTrackTimer=void 0),!(yield t.client.getMediaHandler().hasVideoDevice()))return t.isLocalVideoMuted();if(!t.hasUserMediaVideoSender&&!e)return null===(i=t.localUsermediaFeed)||void 0===i||i.setAudioVideoMuted(null,e),yield t.upgradeCall(!1,!0),t.isLocalVideoMuted();if(!e&&0===t.localUsermediaStream.getVideoTracks().length){var r=yield t.client.getMediaHandler().getUserMediaStream(!0,!0);yield t.updateLocalUsermediaStream(r)}return null===(n=t.localUsermediaFeed)||void 0===n||n.setAudioVideoMuted(null,e),t.updateMuteStatus(),yield t.sendMetadataUpdate(),e&&(t.stopVideoTrackTimer=setTimeout(function(){for(var e of t.localUsermediaStream.getVideoTracks())e.stop(),t.localUsermediaStream.removeTrack(e)},120)),t.isLocalVideoMuted()})()}},{key:"isLocalVideoMuted",value:function(){var e,t;return null!==(e=null===(t=this.localUsermediaFeed)||void 0===t?void 0:t.isVideoMuted())&&void 0!==e&&e}},{key:"setMicrophoneMuted",value:function(e){var t=this;return(0,v.default)(function*(){var n;return _r(d[12]).logger.log("Call ".concat(t.callId," setMicrophoneMuted() running ").concat(e)),(yield t.client.getMediaHandler().hasAudioDevice())?e||t.hasUserMediaAudioSender&&t.hasLocalUserMediaAudioTrack?(null===(n=t.localUsermediaFeed)||void 0===n||n.setAudioVideoMuted(e,null),t.updateMuteStatus(),yield t.sendMetadataUpdate(),t.isMicrophoneMuted()):(yield t.upgradeCall(!0,!1),t.isMicrophoneMuted()):t.isMicrophoneMuted()})()}},{key:"isMicrophoneMuted",value:function(){var e,t;return null!==(e=null===(t=this.localUsermediaFeed)||void 0===t?void 0:t.isAudioMuted())&&void 0!==e&&e}},{key:"isRemoteOnHold",value:function(){return this.remoteOnHold}},{key:"setRemoteOnHold",value:function(e){if(this.isRemoteOnHold()!==e){for(var t of(this.remoteOnHold=e,this.peerConn.getTransceivers()))t.direction=e?"sendonly":"sendrecv";this.updateMuteStatus(),this.sendMetadataUpdate(),this.emit(M.RemoteHoldUnhold,this.remoteOnHold,this)}}},{key:"isLocalOnHold",value:function(){if(this.state!==S.Connected)return!1;var e=!0;for(var t of this.peerConn.getTransceivers()){["inactive","recvonly"].includes(t.currentDirection)||(e=!1)}return e}},{key:"sendDtmfDigit",value:function(e){for(var t of this.peerConn.getSenders()){var n;if("audio"===(null===(n=t.track)||void 0===n?void 0:n.kind)&&t.dtmf)return void t.dtmf.insertDTMF(e)}throw new Error("Unable to find a track to send DTMF on")}},{key:"updateMuteStatus",value:function(){var e=this.isMicrophoneMuted()||this.remoteOnHold,t=this.isLocalVideoMuted()||this.remoteOnHold;_r(d[12]).logger.log("Call ".concat(this.callId," updateMuteStatus stream ").concat(this.localUsermediaStream.id," micShouldBeMuted ").concat(e," vidShouldBeMuted ").concat(t)),b(this.localUsermediaStream.getAudioTracks(),!e),b(this.localUsermediaStream.getVideoTracks(),!t)}},{key:"sendMetadataUpdate",value:function(){var e=this;return(0,v.default)(function*(){yield e.sendVoipEvent(_r(d[17]).EventType.CallSDPStreamMetadataChangedPrefix,(0,i.default)({},_r(d[14]).SDPStreamMetadataKey,e.getLocalSDPStreamMetadata()))})()}},{key:"gotCallFeedsForInvite",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.successor)this.successor.queueGotCallFeedsForAnswer(e);else if(this.callHasEnded())this.stopAllMedia();else{for(var n of e)this.pushLocalFeed(n);t&&this.peerConn.addTransceiver("video",{direction:"recvonly"}),this.state=S.CreateOffer,_r(d[12]).logger.debug("Call ".concat(this.callId," gotUserMediaForInvite() run"))}}},{key:"sendAnswer",value:function(){var e=this;return(0,v.default)(function*(){var t=(0,i.default)({answer:{sdp:e.peerConn.localDescription.sdp,type:e.peerConn.localDescription.type}},_r(d[14]).SDPStreamMetadataKey,e.getLocalSDPStreamMetadata(!0));t.capabilities={"m.call.transferee":e.client.supportsCallTransfer,"m.call.dtmf":!1};var n=e.discardDuplicateCandidates();_r(d[12]).logger.info("Call ".concat(e.callId," sendAnswer() discarding ").concat(n," candidates that will be sent in answer"));try{yield e.sendVoipEvent(_r(d[17]).EventType.CallAnswer,t),e.inviteOrAnswerSent=!0}catch(t){e.state=S.Ringing,t instanceof _r(d[18]).MatrixError&&t.event&&e.client.cancelPendingEvent(t.event);var r=k.SendAnswer,o="Failed to send answer";throw"UnknownDeviceError"==t.name&&(r=k.UnknownDevices,o="Unknown devices present in the room"),e.emit(M.Error,new R(r,o,t),e),t}e.sendCandidateQueue()})()}},{key:"queueGotCallFeedsForAnswer",value:function(e){var t=this;this.responsePromiseChain?this.responsePromiseChain=this.responsePromiseChain.then(function(){return t.gotCallFeedsForAnswer(e)}):this.responsePromiseChain=this.gotCallFeedsForAnswer(e)}},{key:"mungeSdp",value:function(e,t){var n=this,i=(0,_r(d[19]).parse)(e.sdp);i.media.forEach(function(e){var i=new Map,r=new Map;for(var o of e.rtp)i.set(o.payload,o.codec),r.set(o.codec,o.payload);for(var l of t)if(l.mediaType===e.type)if(r.has(l.codec)){var c=[];void 0!==l.enableDtx&&c.push("usedtx=".concat(l.enableDtx?"1":"0")),void 0!==l.maxAverageBitrate&&c.push("maxaveragebitrate=".concat(l.maxAverageBitrate));var s=!1;for(var u of e.fmtp)i.get(u.payload)===l.codec&&(s=!0,u.config+=";"+c.join(";"));s||e.fmtp.push({payload:r.get(l.codec),config:c.join(";")})}else _r(d[12]).logger.info("Call ".concat(n.callId," mungeSdp() ignoring SDP modifications for ").concat(l.codec," as it's not present."))}),e.sdp=(0,_r(d[19]).write)(i)}},{key:"createOffer",value:function(){var e=this;return(0,v.default)(function*(){var t=yield e.peerConn.createOffer();return e.mungeSdp(t,F(e.isPtt)),t})()}},{key:"createAnswer",value:function(){var e=this;return(0,v.default)(function*(){var t=yield e.peerConn.createAnswer();return e.mungeSdp(t,F(e.isPtt)),t})()}},{key:"gotCallFeedsForAnswer",value:function(e){var t=this;return(0,v.default)(function*(){if(!t.callHasEnded()){for(var n of(t.waitForLocalAVStream=!1,e))t.pushLocalFeed(n);var i;t.state=S.CreateAnswer;try{t.getRidOfRTXCodecs(),i=yield t.createAnswer()}catch(e){return _r(d[12]).logger.debug("Call ".concat(t.callId," gotCallFeedsForAnswer() failed to create answer: "),e),void t.terminate(w.Local,k.CreateAnswer,!0)}try{if(yield t.peerConn.setLocalDescription(i),t.callHasEnded())return;if(t.state=S.Connecting,yield new Promise(function(e){setTimeout(e,200)}),t.callHasEnded())return;t.sendAnswer()}catch(e){return _r(d[12]).logger.debug("Call ".concat(t.callId," gotCallFeedsForAnswer() error setting local description!"),e),void t.terminate(w.Local,k.SetLocalDescription,!0)}}})()}},{key:"onRemoteIceCandidatesReceived",value:function(e){var t=this;return(0,v.default)(function*(){if(!t.callHasEnded()){var i=e.getContent(),r=i.candidates;if(r){var o=0===i.version?null:i.party_id||null;if(void 0!==t.opponentPartyId)t.partyIdMatches(i)?yield t.addIceCandidates(r):_r(d[12]).logger.info("Call ".concat(t.callId," onRemoteIceCandidatesReceived() ignoring candidates from party ID ").concat(i.party_id,": we have chosen party ID ").concat(t.opponentPartyId));else if(o){_r(d[12]).logger.info("Call ".concat(t.callId," onRemoteIceCandidatesReceived() buffering ").concat(r.length," candidates until we pick an opponent"));var l=t.remoteCandidateBuffer.get(o)||[];l.push.apply(l,(0,n.default)(r)),t.remoteCandidateBuffer.set(o,l)}}else _r(d[12]).logger.info("Call ".concat(t.callId," onRemoteIceCandidatesReceived() ignoring candidates event with no candidates!"))}})()}},{key:"onAnswerReceived",value:function(e){var t=this;return(0,v.default)(function*(){var n=e.getContent();if(_r(d[12]).logger.debug("Call ".concat(t.callId," onAnswerReceived() running (hangupParty=").concat(n.party_id,")")),t.callHasEnded())_r(d[12]).logger.debug("Call ".concat(t.callId," onAnswerReceived() ignoring answer because call has ended"));else if(void 0===t.opponentPartyId){t.chooseOpponent(e),yield t.addBufferedIceCandidates(),t.state=S.Connecting;var i=n[_r(d[14]).SDPStreamMetadataKey];i?t.updateRemoteSDPStreamMetadata(i):_r(d[12]).logger.warn("Call ".concat(t.callId," onAnswerReceived() did not get any SDPStreamMetadata! Can not send/receive multiple streams"));try{t.isSettingRemoteAnswerPending=!0,yield t.peerConn.setRemoteDescription(n.answer),t.isSettingRemoteAnswerPending=!1,_r(d[12]).logger.debug("Call ".concat(t.callId," onAnswerReceived() set remote description: ").concat(n.answer.type))}catch(e){return t.isSettingRemoteAnswerPending=!1,_r(d[12]).logger.debug("Call ".concat(t.callId," onAnswerReceived() failed to set remote description"),e),void t.terminate(w.Local,k.SetRemoteDescription,!1)}if(null!==t.opponentPartyId)try{yield t.sendVoipEvent(_r(d[17]).EventType.CallSelectAnswer,{selected_party_id:t.opponentPartyId})}catch(e){_r(d[12]).logger.warn("Call ".concat(t.callId," onAnswerReceived() failed to send select_answer event"),e)}}else _r(d[12]).logger.info("Call ".concat(t.callId," onAnswerReceived() ignoring answer from party ID ").concat(n.party_id,": we already have an answer/reject from ").concat(t.opponentPartyId))})()}},{key:"onSelectAnswerReceived",value:function(e){var t=this;return(0,v.default)(function*(){if(t.direction===I.Inbound){var n=e.getContent().selected_party_id;null!=n?n!==t.ourPartyId&&(_r(d[12]).logger.info("Call ".concat(t.callId," onSelectAnswerReceived() got select_answer for party ID ").concat(n,": we are party ID ").concat(t.ourPartyId,".")),yield t.terminate(w.Remote,k.AnsweredElsewhere,!0)):_r(d[12]).logger.warn("Call ".concat(t.callId," onSelectAnswerReceived() got nonsensical select_answer with null/undefined selected_party_id: ignoring"))}else _r(d[12]).logger.warn("Call ".concat(t.callId," onSelectAnswerReceived() got select_answer for an outbound call: ignoring"))})()}},{key:"onNegotiateReceived",value:function(e){var t=this;return(0,v.default)(function*(){var n=e.getContent(),r=n.description;if(r&&r.sdp&&r.type){var o=t.direction===I.Inbound,l=!t.makingOffer&&("stable"===t.peerConn.signalingState||t.isSettingRemoteAnswerPending),c="offer"===r.type&&!l;if(t.ignoreOffer=!o&&c,t.ignoreOffer)_r(d[12]).logger.info("Call ".concat(t.callId," onNegotiateReceived() ignoring colliding negotiate event because we're impolite"));else{var s=t.isLocalOnHold(),u=n[_r(d[14]).SDPStreamMetadataKey];u?t.updateRemoteSDPStreamMetadata(u):_r(d[12]).logger.warn("Call ".concat(t.callId," onNegotiateReceived() received negotiation event without SDPStreamMetadata!"));try{if(t.isSettingRemoteAnswerPending="answer"==r.type,yield t.peerConn.setRemoteDescription(r),t.isSettingRemoteAnswerPending=!1,_r(d[12]).logger.debug("Call ".concat(t.callId," onNegotiateReceived() set remote description: ").concat(r.type)),"offer"===r.type){var v,f;try{t.getRidOfRTXCodecs(),f=yield t.createAnswer()}catch(e){return _r(d[12]).logger.debug("Call ".concat(t.callId," onNegotiateReceived() failed to create answer: "),e),void t.terminate(w.Local,k.CreateAnswer,!0)}yield t.peerConn.setLocalDescription(f),_r(d[12]).logger.debug("Call ".concat(t.callId," onNegotiateReceived() create an answer")),t.sendVoipEvent(_r(d[17]).EventType.CallNegotiate,(0,i.default)({lifetime:P,description:null===(v=t.peerConn.localDescription)||void 0===v?void 0:v.toJSON()},_r(d[14]).SDPStreamMetadataKey,t.getLocalSDPStreamMetadata(!0)))}}catch(e){t.isSettingRemoteAnswerPending=!1,_r(d[12]).logger.warn("Call ".concat(t.callId," onNegotiateReceived() failed to complete negotiation"),e)}var p=t.isLocalOnHold();s!==p&&(t.emit(M.LocalHoldUnhold,p,t),t.emit(M.HoldUnhold,p))}}else _r(d[12]).logger.info("Call ".concat(t.callId," onNegotiateReceived() ignoring invalid m.call.negotiate event"))})()}},{key:"updateRemoteSDPStreamMetadata",value:function(e){for(var t of(this.remoteSDPStreamMetadata=(0,_r(d[13]).recursivelyAssign)(this.remoteSDPStreamMetadata||{},e,!0),this.getRemoteFeeds())){var n,i=t.stream.id,r=this.remoteSDPStreamMetadata[i];t.setAudioVideoMuted(null==r?void 0:r.audio_muted,null==r?void 0:r.video_muted),t.purpose=null===(n=this.remoteSDPStreamMetadata[i])||void 0===n?void 0:n.purpose}}},{key:"onSDPStreamMetadataChangedReceived",value:function(e){var t=e.getContent()[_r(d[14]).SDPStreamMetadataKey];this.updateRemoteSDPStreamMetadata(t)}},{key:"onAssertedIdentityReceived",value:function(e){var t=this;return(0,v.default)(function*(){var n=e.getContent();n.asserted_identity&&(t.remoteAssertedIdentity={id:n.asserted_identity.id,displayName:n.asserted_identity.display_name},t.emit(M.AssertedIdentityChanged,t))})()}},{key:"callHasEnded",value:function(){return this.state===S.Ended}},{key:"queueGotLocalOffer",value:function(){var e=this;this.responsePromiseChain?this.responsePromiseChain=this.responsePromiseChain.then(function(){return e.wrappedGotLocalOffer()}):this.responsePromiseChain=this.wrappedGotLocalOffer()}},{key:"wrappedGotLocalOffer",value:function(){var e=this;return(0,v.default)(function*(){e.makingOffer=!0;try{yield e.gotLocalOffer()}catch(t){return void e.getLocalOfferFailed(t)}finally{e.makingOffer=!1}})()}},{key:"gotLocalOffer",value:function(){var e=this;return(0,v.default)(function*(){if(_r(d[12]).logger.debug("Call ".concat(e.callId," gotLocalOffer() running")),e.callHasEnded())_r(d[12]).logger.debug("Call ".concat(e.callId," gotLocalOffer() ignoring newly created offer because the call has ended\""));else{var t;try{e.getRidOfRTXCodecs(),t=yield e.createOffer()}catch(t){return _r(d[12]).logger.debug("Call ".concat(e.callId," gotLocalOffer() failed to create offer: "),t),void e.terminate(w.Local,k.CreateOffer,!0)}try{yield e.peerConn.setLocalDescription(t)}catch(t){return _r(d[12]).logger.debug("Call ".concat(e.callId," gotLocalOffer() error setting local description!"),t),void e.terminate(w.Local,k.SetLocalDescription,!0)}if("gathering"===e.peerConn.iceGatheringState&&(yield new Promise(function(e){setTimeout(e,200)})),!e.callHasEnded()){var n,i,r=e.state===S.CreateOffer?_r(d[17]).EventType.CallInvite:_r(d[17]).EventType.CallNegotiate,o={lifetime:P};if(r===_r(d[17]).EventType.CallInvite&&e.invitee&&(o.invitee=e.invitee),e.state===S.CreateOffer)o.offer=null===(n=e.peerConn.localDescription)||void 0===n?void 0:n.toJSON();else o.description=null===(i=e.peerConn.localDescription)||void 0===i?void 0:i.toJSON();o.capabilities={"m.call.transferee":e.client.supportsCallTransfer,"m.call.dtmf":!1},o[_r(d[14]).SDPStreamMetadataKey]=e.getLocalSDPStreamMetadata(!0);var l=e.discardDuplicateCandidates();_r(d[12]).logger.info("Call ".concat(e.callId," gotLocalOffer() discarding ").concat(l," candidates that will be sent in offer"));try{yield e.sendVoipEvent(r,o)}catch(t){_r(d[12]).logger.error("Call ".concat(e.callId," gotLocalOffer() failed to send invite"),t),t instanceof _r(d[18]).MatrixError&&t.event&&e.client.cancelPendingEvent(t.event);var c=k.SignallingFailed,s="Signalling failed";return e.state===S.CreateOffer&&(c=k.SendInvite,s="Failed to send invite"),"UnknownDeviceError"==t.name&&(c=k.UnknownDevices,s="Unknown devices present in the room"),e.emit(M.Error,new R(c,s,t),e),void e.terminate(w.Local,c,!1)}e.sendCandidateQueue(),e.state===S.CreateOffer&&(e.inviteOrAnswerSent=!0,e.state=S.InviteSent,e.inviteTimeout=setTimeout(function(){e.inviteTimeout=void 0,e.state===S.InviteSent&&e.hangup(k.InviteTimeout,!1)},P))}}})()}},{key:"getRidOfRTXCodecs",value:function(){if(RTCRtpReceiver.getCapabilities&&RTCRtpSender.getCapabilities){var e=this.transceivers.get(E(_r(d[14]).SDPStreamMetadataPurpose.Screenshare,"video"));if(e&&e.setCodecPreferences){var t=RTCRtpReceiver.getCapabilities("video").codecs,i=RTCRtpSender.getCapabilities("video").codecs,r=[];for(var o of[].concat((0,n.default)(t),(0,n.default)(i)))if("video/rtx"!==o.mimeType){r.push(o);try{e.setCodecPreferences(r)}catch(e){_r(d[12]).logger.info("Working around buggy WebRTC impl: claimed to support codec but threw when setting codec preferences",o,e),r.pop()}}}}}},{key:"sendVoipEvent",value:function(e,t){var n=this;return(0,v.default)(function*(){var r=C(C({},t),{},{version:"1",call_id:n.callId,party_id:n.ourPartyId,conf_id:n.groupCallId});if(n.opponentDeviceId){var o,l=n.toDeviceSeq++,c=C(C({},r),{},(0,i.default)({device_id:n.client.deviceId,sender_session_id:n.client.getSessionId(),dest_session_id:n.opponentSessionId,seq:l},_r(d[17]).ToDeviceMessageId,(0,_r(d[20]).v4)()));n.emit(M.SendVoipEvent,{type:"toDevice",eventType:e,userId:n.invitee||(null===(o=n.getOpponentMember())||void 0===o?void 0:o.userId),opponentDeviceId:n.opponentDeviceId,content:c},n);var s=n.invitee||n.getOpponentMember().userId;if(n.client.getUseE2eForGroupCall()){if(!n.hasOpponentDeviceInfo)return void _r(d[12]).logger.warn("Call ".concat(n.callId," sendVoipEvent() failed: we do not have opponentDeviceInfo"));throw new Error("Unimplemented")}yield n.client.sendToDevice(e,new Map([[s,new Map([[n.opponentDeviceId,c]])]]))}else{var u;n.emit(M.SendVoipEvent,{type:"sendEvent",eventType:e,roomId:n.roomId,content:r,userId:n.invitee||(null===(u=n.getOpponentMember())||void 0===u?void 0:u.userId)},n),yield n.client.sendEvent(n.roomId,e,r)}})()}},{key:"queueCandidate",value:function(e){var t=this;if(e?this.candidateSendQueue.push(e):this.candidatesEnded=!0,this.state!==S.Ringing&&this.inviteOrAnswerSent){var n=this.direction===I.Inbound?500:2e3;0===this.candidateSendTries&&setTimeout(function(){t.sendCandidateQueue()},n)}}},{key:"discardDuplicateCandidates",value:function(){for(var e=0,t=[],n=0;n<this.candidateSendQueue.length;n++){var i=this.candidateSendQueue[n];""===i.candidate?t.push(i):e++}return this.candidateSendQueue=t,e}},{key:"transfer",value:function(e){var t=this;return(0,v.default)(function*(){var n=yield t.client.getProfileInfo(e),i=D(),r={replacement_id:D(),target_user:{id:e,display_name:n.displayname,avatar_url:n.avatar_url},create_call:i};yield t.sendVoipEvent(_r(d[17]).EventType.CallReplaces,r),yield t.terminate(w.Local,k.Transferred,!0)})()}},{key:"transferToCall",value:function(e){var t=this;return(0,v.default)(function*(){var n,i,r=null===(n=e.getOpponentMember())||void 0===n?void 0:n.userId,o=r?yield t.client.getProfileInfo(r):void 0,l=null===(i=t.getOpponentMember())||void 0===i?void 0:i.userId,c=l?yield t.client.getProfileInfo(l):void 0,s=D(),u={replacement_id:D(),target_user:{id:l,display_name:null==c?void 0:c.displayname,avatar_url:null==c?void 0:c.avatar_url},await_call:s};yield e.sendVoipEvent(_r(d[17]).EventType.CallReplaces,u);var v={replacement_id:D(),target_user:{id:r,display_name:null==o?void 0:o.displayname,avatar_url:null==o?void 0:o.avatar_url},create_call:s};yield t.sendVoipEvent(_r(d[17]).EventType.CallReplaces,v),yield t.terminate(w.Local,k.Transferred,!0),yield e.terminate(w.Local,k.Transferred,!0)})()}},{key:"terminate",value:function(e,n,i){var r=this;return(0,v.default)(function*(){var o;if(!r.callHasEnded()){for(var l of(r.hangupParty=e,r.hangupReason=n,r.state=S.Ended,r.inviteTimeout&&(clearTimeout(r.inviteTimeout),r.inviteTimeout=void 0),void 0!==r.iceDisconnectedTimeout&&(clearTimeout(r.iceDisconnectedTimeout),r.iceDisconnectedTimeout=void 0),r.callLengthInterval&&(clearInterval(r.callLengthInterval),r.callLengthInterval=void 0),void 0!==r.stopVideoTrackTimer&&(clearTimeout(r.stopVideoTrackTimer),r.stopVideoTrackTimer=void 0),r.removeTrackListeners)){var c=(0,t.default)(l,2),s=c[0],u=c[1];s.removeEventListener("removetrack",u)}r.removeTrackListeners.clear(),r.callStatsAtEnd=yield r.collectCallStats(),r.stopAllMedia(),r.deleteAllFeeds(),r.peerConn&&"closed"!==r.peerConn.signalingState&&r.peerConn.close(),null===(o=r.stats)||void 0===o||o.removeStatsReportGatherer(r.callId),i&&r.emit(M.Hangup,r),r.client.callEventHandler.calls.delete(r.callId)}})()}},{key:"stopAllMedia",value:function(){for(var e of(_r(d[12]).logger.debug("Call ".concat(this.callId," stopAllMedia() running")),this.feeds))if(e.isLocal()&&e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Usermedia)this.client.getMediaHandler().stopUserMediaStream(e.stream);else if(e.isLocal()&&e.purpose===_r(d[14]).SDPStreamMetadataPurpose.Screenshare)this.client.getMediaHandler().stopScreensharingStream(e.stream);else if(!e.isLocal())for(var t of(_r(d[12]).logger.debug("Call ".concat(this.callId," stopAllMedia() stopping stream (streamId=").concat(e.stream.id,")")),e.stream.getTracks()))t.stop()}},{key:"checkForErrorListener",value:function(){if(0===this.listeners(_r(d[21]).EventEmitterEvents.Error).length)throw new Error("You MUST attach an error listener using call.on('error', function() {})")}},{key:"sendCandidateQueue",value:function(){var e=this;return(0,v.default)(function*(){if(0!==e.candidateSendQueue.length&&!e.callHasEnded()){var t=e.candidateSendQueue;e.candidateSendQueue=[],++e.candidateSendTries;var i={candidates:t.map(function(e){return e.toJSON()})};e.candidatesEnded&&i.candidates.push({candidate:""}),_r(d[12]).logger.debug("Call ".concat(e.callId," sendCandidateQueue() attempting to send ").concat(t.length," candidates"));try{yield e.sendVoipEvent(_r(d[17]).EventType.CallCandidates,i),e.candidateSendTries=0,e.sendCandidateQueue()}catch(i){var r;if(i instanceof _r(d[18]).MatrixError&&i.event&&e.client.cancelPendingEvent(i.event),(r=e.candidateSendQueue).push.apply(r,(0,n.default)(t)),e.candidateSendTries>5){_r(d[12]).logger.debug("Call ".concat(e.callId," sendCandidateQueue() failed to send candidates on attempt ").concat(e.candidateSendTries,". Giving up on this call."),i);var o=k.SignallingFailed;return e.emit(M.Error,new R(o,"Signalling failed",i),e),void e.hangup(o,!1)}var l=500*Math.pow(2,e.candidateSendTries);++e.candidateSendTries,_r(d[12]).logger.debug("Call ".concat(e.callId," sendCandidateQueue() failed to send candidates. Retrying in ").concat(l,"ms"),i),setTimeout(function(){e.sendCandidateQueue()},l)}}})()}},{key:"placeCall",value:function(e,t){var n=this;return(0,v.default)(function*(){if(!e)throw new Error("You CANNOT start a call without audio");var i;n.state=S.WaitLocalMedia;try{var r,o=yield n.client.getMediaHandler().getUserMediaStream(e,t);b(o.getAudioTracks(),!0),b(o.getVideoTracks(),!0),i=new(_r(d[16]).CallFeed)({client:n.client,roomId:n.roomId,userId:n.client.getUserId(),deviceId:null!==(r=n.client.getDeviceId())&&void 0!==r?r:void 0,stream:o,purpose:_r(d[14]).SDPStreamMetadataPurpose.Usermedia,audioMuted:!1,videoMuted:!1})}catch(e){return void n.getUserMediaFailed(e)}try{yield n.placeCallWithCallFeeds([i])}catch(e){return void n.placeCallFailed(e)}})()}},{key:"placeCallWithCallFeeds",value:function(e){var t=arguments,n=this;return(0,v.default)(function*(){var i=t.length>1&&void 0!==t[1]&&t[1];n.checkForErrorListener(),n.direction=I.Outbound,yield n.initOpponentCrypto(),n.client.callEventHandler.calls.set(n.callId,n),(yield n.client.checkTurnServers())||_r(d[12]).logger.warn("Call ".concat(n.callId," placeCallWithCallFeeds() failed to get TURN credentials! Proceeding with call anyway...")),n.peerConn=n.createPeerConnection(),n.emit(M.PeerConnectionCreated,n.peerConn,n),n.gotCallFeedsForInvite(e,i)})()}},{key:"createPeerConnection",value:function(){var e,t=new window.RTCPeerConnection({iceTransportPolicy:this.forceTURN?"relay":void 0,iceServers:this.turnServers.length?this.turnServers:void 0,iceCandidatePoolSize:this.client.iceCandidatePoolSize,bundlePolicy:"max-bundle"});t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChanged),t.addEventListener("signalingstatechange",this.onSignallingStateChanged),t.addEventListener("icecandidate",this.gotLocalIceCandidate),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t.addEventListener("track",this.onTrack),t.addEventListener("negotiationneeded",this.onNegotiationNeeded),t.addEventListener("datachannel",this.onDataChannel);var n=this.getOpponentMember(),i=n?n.userId:"unknown";return null===(e=this.stats)||void 0===e||e.addStatsReportGatherer(this.callId,i,t),t}},{key:"partyIdMatches",value:function(e){return(0===e.version?null:e.party_id||null)===this.opponentPartyId}},{key:"chooseOpponent",value:function(e){var t,n,i=e.getContent();(_r(d[12]).logger.debug("Call ".concat(this.callId," chooseOpponent() running (partyId=").concat(i.party_id,")")),this.opponentVersion=i.version,0===this.opponentVersion?this.opponentPartyId=null:this.opponentPartyId=i.party_id||null,this.opponentCaps=i.capabilities||{},this.opponentMember=null!==(t=this.client.getRoom(this.roomId).getMember(e.getSender()))&&void 0!==t?t:void 0,this.opponentMember)&&(null===(n=this.stats)||void 0===n||n.updateOpponentMember(this.callId,this.opponentMember.userId))}},{key:"addBufferedIceCandidates",value:function(){var e=this;return(0,v.default)(function*(){var t=e.remoteCandidateBuffer.get(e.opponentPartyId);t&&(_r(d[12]).logger.info("Call ".concat(e.callId," addBufferedIceCandidates() adding ").concat(t.length," buffered candidates for opponent ").concat(e.opponentPartyId)),yield e.addIceCandidates(t)),e.remoteCandidateBuffer.clear()})()}},{key:"addIceCandidates",value:function(e){var t=this;return(0,v.default)(function*(){for(var n of e){null!==n.sdpMid&&void 0!==n.sdpMid||null!==n.sdpMLineIndex&&void 0!==n.sdpMLineIndex?_r(d[12]).logger.debug("Call ".concat(t.callId," addIceCandidates() got remote ICE candidate (sdpMid=").concat(n.sdpMid,", candidate=").concat(n.candidate,")")):_r(d[12]).logger.debug("Call ".concat(t.callId," addIceCandidates() got remote ICE end-of-candidates"));try{yield t.peerConn.addIceCandidate(n)}catch(e){t.ignoreOffer?_r(d[12]).logger.debug("Call ".concat(t.callId," addIceCandidates() failed to add remote ICE candidate because ignoring offer"),e):_r(d[12]).logger.info("Call ".concat(t.callId," addIceCandidates() failed to add remote ICE candidate"),e)}}})()}},{key:"hasPeerConnection",get:function(){return Boolean(this.peerConn)}},{key:"initStats",value:function(e){this.stats=e,this.stats.start()}}])})(_r(d[21]).TypedEventEmitter);function b(e,t){for(var n of e)n.enabled=t}function O(){if("undefined"==typeof window||"undefined"==typeof document)return!1;try{var e,t,n;if(!Boolean(null!==(e=null!==(t=null!==(n=window.RTCPeerConnection)&&void 0!==n?n:window.RTCSessionDescription)&&void 0!==t?t:window.RTCIceCandidate)&&void 0!==e?e:navigator.mediaDevices))return _r(d[12]).logger.error("WebRTC is not supported in this browser / environment"),!1}catch(e){return _r(d[12]).logger.error("Exception thrown when trying to access WebRTC",e),!1}return!0}},738,[1,34,42,739,12,11,18,20,23,144,743,744,746,748,756,757,760,765,814,930,940,762]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,n,t){return(n=(0,r.default)(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e};var r=e(_r(d[1]))},739,[1,740]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var f=(0,n.default)(t,"string");return"symbol"==(0,u.default)(f)?f:f+""};var u=t(r(d[1])),n=t(r(d[2]))},740,[1,741,742]);
__d(function(g,r,i,a,m,e,d){function o(t){return e.default=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},741,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,t){if("object"!=(0,r.default)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var u=i.call(e,t||"default");if("object"!=(0,r.default)(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)};var r=e(_r(d[1]))},742,[1,741]);
__d(function(g,_r,_i,_a,m,_e,d){function n(n,e,t,o,r,u,i){try{var c=n[u](i),f=c.value}catch(n){return void t(n)}c.done?e(f):Promise.resolve(f).then(o,r)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){return function(){var t=this,o=arguments;return new Promise(function(r,u){var i=e.apply(t,o);function c(e){n(i,r,u,c,f,"next",e)}function f(e){n(i,r,u,c,f,"throw",e)}c(void 0)})}}},743,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.UPPERCASE=e.LOWERCASE=e.DIGITS=void 0,e.secureRandomBase64Url=function(n){var t=new Uint8Array(n);return globalThis.crypto.getRandomValues(t),(0,r(d[0]).encodeUnpaddedBase64Url)(t)},e.secureRandomString=function(u){return l(u,t+n+o)},e.secureRandomStringFrom=l;var n=e.LOWERCASE="abcdefghijklmnopqrstuvwxyz",t=e.UPPERCASE="ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=e.DIGITS="0123456789";function l(n,t){if(t.length<2||t.length>256)throw new Error("Character set must be between 2 and 256 characters long");if(n<1||n>32768)throw new Error("Requested random string length must be between 1 and 32768");for(var o=256-256%t.length,l=new Uint8Array(Math.floor(1.3*n)),u=l.length,s=[];s.length<n;){u===l.length&&(globalThis.crypto.getRandomValues(l),u=0);var h=l[u++];h<o&&s.push(t[h%t.length])}return s.join("")}},744,[745]);
__d(function(g,r,i,a,m,e,d){function n(n,t){if("function"==typeof n.toBase64)return n.toBase64(t);var o=btoa(n.reduce(function(n,t){return n+String.fromCharCode(t)},""));return t.omitPadding&&(o=o.replace(/={1,2}$/,"")),"base64url"===t.alphabet&&(o=o.replace(/\+/g,"-").replace(/\//g,"_")),o}function t(n,t){return"function"==typeof Uint8Array.fromBase64?Uint8Array.fromBase64(n,t):Uint8Array.from(atob(n),function(n){return n.charCodeAt(0)})}Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBase64=function(n){return t(n.replace(/-/g,"+").replace(/_/g,"/"),{alphabet:"base64",lastChunkHandling:"loose"})},e.encodeBase64=function(t){return n(t,{alphabet:"base64",omitPadding:!1})},e.encodeUnpaddedBase64=function(t){return n(t,{alphabet:"base64",omitPadding:!0})},e.encodeUnpaddedBase64Url=function(t){return n(t,{alphabet:"base64url",omitPadding:!0})}},745,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.logger=e.LogSpan=e.DebugLogger=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4]));l.default.methodFactory=function(t,n,o){return function(){for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];var l,f;return this.prefix&&o.unshift(this.prefix),"error"===t||"warn"===t||"trace"===t||"info"===t||"debug"===t?(l=console)[t].apply(l,o):(f=console).log.apply(f,o)}};e.logger=(function t(n){var o="matrix"+(void 0===n?"":"-".concat(n)),u=l.default.getLogger(o);return void 0===u.getChild&&(u.prefix=n,u.getChild=function(o){var l=t((null!=n?n:"")+o);return l.methodFactory=u.methodFactory,l.rebuild(),l},u.setLevel(l.default.levels.DEBUG,!1)),u})(),e.LogSpan=(function(){return(0,o.default)(function t(o,l){(0,n.default)(this,t),this.parent=o,(0,u.default)(this,"name",void 0),this.name=l+":"},[{key:"trace",value:function(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=this.parent).trace.apply(t,[this.name].concat(o))}},{key:"debug",value:function(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=this.parent).debug.apply(t,[this.name].concat(o))}},{key:"info",value:function(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=this.parent).info.apply(t,[this.name].concat(o))}},{key:"warn",value:function(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=this.parent).warn.apply(t,[this.name].concat(o))}},{key:"error",value:function(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=this.parent).error.apply(t,[this.name].concat(o))}}])})(),e.DebugLogger=(function(){function t(o){(0,n.default)(this,t),this.debugInstance=o}return(0,o.default)(t,[{key:"trace",value:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.debugWithPrefix.apply(this,["[TRACE]"].concat(n))}},{key:"debug",value:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.debugWithPrefix.apply(this,["[DEBUG]"].concat(n))}},{key:"info",value:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.debugWithPrefix.apply(this,["[INFO]"].concat(n))}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.debugWithPrefix.apply(this,["[WARN]"].concat(n))}},{key:"error",value:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.debugWithPrefix.apply(this,["[ERROR]"].concat(n))}},{key:"getChild",value:function(n){return new t(this.debugInstance.extend(n))}},{key:"debugWithPrefix",value:function(t){for(var n,o=arguments.length,u=new Array(o>1?o-1:0),l=1;l<o;l++)u[l-1]=arguments[l];if(0===u.length)n="";else if(u[0]instanceof Error){var f=u.shift();n=f.stack||f.message}else n="string"==typeof u[0]?u.shift():"%O";this.debugInstance.apply(this,[t+" "+n].concat(u))}}])})()},746,[1,11,12,739,747]);
__d(function(g,r,_i,a,m,_e,d){!(function(e,o){"use strict";'function'==typeof define&&define.amd?define(o):'object'==typeof m&&m.exports?m.exports=o():e.log=o()})(this,function(){"use strict";var e=function(){},o="undefined",n=typeof window!==o&&typeof window.navigator!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),t=["trace","debug","info","warn","error"],l={},i=null;function c(e,o){var n=e[o];if('function'==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(o){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function f(t){return'debug'===t&&(t='log'),typeof console!==o&&('trace'===t&&n?u:void 0!==console[t]?c(console,t):void 0!==console.log?c(console,'log'):e)}function s(){for(var n=this.getLevel(),l=0;l<t.length;l++){var i=t[l];this[i]=l<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===o&&n<this.levels.SILENT)return"No console available for logging"}function p(e){return function(){typeof console!==o&&(s.call(this),this[e].apply(this,arguments))}}function v(e,o,n){return f(e)||p.apply(this,arguments)}function y(e,n){var c,u,f,p=this,y="loglevel";function w(e){var n=(t[e]||'silent').toUpperCase();if(typeof window!==o&&y){try{return void(window.localStorage[y]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(y)+"="+n+";"}catch(e){}}}function h(){var e;if(typeof window!==o&&y){try{e=window.localStorage[y]}catch(e){}if(typeof e===o)try{var n=window.document.cookie,t=encodeURIComponent(y),l=n.indexOf(t+"=");-1!==l&&(e=/^([^;]+)/.exec(n.slice(l+t.length+1))[1])}catch(e){}return void 0===p.levels[e]&&(e=void 0),e}}function L(){if(typeof window!==o&&y){try{window.localStorage.removeItem(y)}catch(e){}try{window.document.cookie=encodeURIComponent(y)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function b(e){var o=e;if("string"==typeof o&&void 0!==p.levels[o.toUpperCase()]&&(o=p.levels[o.toUpperCase()]),"number"==typeof o&&o>=0&&o<=p.levels.SILENT)return o;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?y+=":"+e:"symbol"==typeof e&&(y=void 0),p.name=e,p.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},p.methodFactory=n||v,p.getLevel=function(){return null!=f?f:null!=u?u:c},p.setLevel=function(e,o){return f=b(e),!1!==o&&w(f),s.call(p)},p.setDefaultLevel=function(e){u=b(e),h()||p.setLevel(e,!1)},p.resetLevel=function(){f=null,L(),s.call(p)},p.enableAll=function(e){p.setLevel(p.levels.TRACE,e)},p.disableAll=function(e){p.setLevel(p.levels.SILENT,e)},p.rebuild=function(){if(i!==p&&(c=b(i.getLevel())),s.call(p),i===p)for(var e in l)l[e].rebuild()},c=b(i?i.getLevel():"WARN");var E=h();null!=E&&(f=b(E)),s.call(p)}(i=new y).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var o=l[e];return o||(o=l[e]=new y(e,i.methodFactory)),o};var w=typeof window!==o?window.log:void 0;return i.noConflict=function(){return typeof window!==o&&window.log===i&&(window.log=w),i},i.getLoggers=function(){return l},i.default=i,i})},747,[]);
__d(function(g,_r,_i,_a,m,_e,_d){var r=_r(_d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MapWithDefault=_e.DEFAULT_ALPHABET=void 0,_e.alphabetPad=A,_e.averageBetweenStrings=function(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,n=Math.max(r.length,e.length),o=D(A(r,n,t),t),i=D(A(e,n,t),t),u=(o+i)/BigInt(2);if(u===o||u==i)return E(u,t)+t[0];return E(u,t)},_e.baseToString=E,_e.checkObjectHasKeys=function(r,e){for(var t of e)if(!r.hasOwnProperty(t))throw new Error("Missing required key: "+t)},_e.chunkPromises=function(r,e){return j.apply(this,arguments)},_e.decodeParams=function(r){var e={},t=new URLSearchParams(r);for(var n of t.keys()){var o=t.getAll(n);e[n]=1===o.length?o[0]:o}return e},_e.deepCompare=function r(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("number"==typeof e&&isNaN(e)&&isNaN(t))return!0;if(null===e||null===t)return e===t;if(!(e instanceof Object))return!1;if(e.constructor!==t.constructor||e.prototype!==t.prototype)return!1;if(e instanceof RegExp||e instanceof Date)return e.toString()===t.toString();if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else{for(var o in t)if(t.hasOwnProperty(o)!==e.hasOwnProperty(o))return!1;for(var i in e)if(t.hasOwnProperty(i)!==e.hasOwnProperty(i)||!r(e[i],t[i]))return!1}return!0},_e.deepCopy=function(r){return JSON.parse(JSON.stringify(r))},_e.deepSortedObjectEntries=function r(e){if("object"!=typeof e)return e;if(null==e||Array.isArray(e))return e;var t=[];for(var n of Object.entries(e)){var o=(0,c.default)(n,2),i=o[0],u=o[1];t.push([i,r(u)])}return t.sort(function(r,e){return B(r[0],e[0])}),t},_e.encodeParams=function(r,e){var t=null!=e?e:new URLSearchParams,n=function(r){null!=a&&(Array.isArray(a)?a.forEach(function(e){t.append(r,String(e))}):t.append(r,String(a)))};for(var o of Object.entries(r)){var i=(0,c.default)(o,2),u=i[0],a=i[1];n(u)}return t},_e.encodeUri=function(r,e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];null!=n&&(r=r.replace(t,encodeURIComponent(n)))}return r},_e.ensureNoTrailingSlash=function(r){return null!=r&&r.endsWith("/")?r.slice(0,-1):r},_e.escapeRegExp=P,_e.globToRegexp=function(r){return P(r).replace(/\\\*/g,".*").replace(/\?/g,".")},_e.immediate=function(){return new Promise(function(r){return setTimeout(r)})},_e.internaliseString=function(r){r instanceof String&&(r=r.toString());h.has(r)||h.set(r,r);return h.get(r)},_e.isFunction=function(r){return"[object Function]"===Object.prototype.toString.call(r)},_e.isNullOrUndefined=function(r){return null==r},_e.isNumber=function(r){return"number"==typeof r&&isFinite(r)},_e.isSupportedReceiptType=function(r){return[_r(_d[14]).ReceiptType.Read,_r(_d[14]).ReceiptType.ReadPrivate].includes(r)},_e.lexicographicCompare=B,_e.logDuration=function(r,e,t){return w.apply(this,arguments)},_e.logDurationSync=function(r,e,t){var n=Date.now();try{return t()}finally{var o=Date.now();r.debug("[Perf]: ".concat(e," took ").concat(o-n,"ms"))}},_e.mapsEqual=function(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(r,e){return r===e};if(r.size!==e.size)return!1;for(var n of r){var o=(0,c.default)(n,2),i=o[0],u=o[1],a=e.get(i);if(void 0===a||!t(u,a))return!1}return!0},_e.nextString=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;return E(D(r,e)+BigInt(1),e)},_e.noUnsafeEventProps=function(r){return!(_(r.room_id)||_(r.sender)||_(r.event_id))},_e.normalize=function(r){return O(r.toLowerCase()).replace(/[\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~\u2000-\u206f\u2e00-\u2e7f]/g,"").toLowerCase()},_e.prevString=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;return E(D(r,e)-BigInt(1),e)},_e.promiseMapSeries=function(r,e){return S.apply(this,arguments)},_e.promiseTry=function(r){return Promise.resolve(r())},_e.recursiveMapToObject=R,_e.recursivelyAssign=function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o of Object.entries(t)){var i=(0,c.default)(o,2),u=i[0],a=i[1];e[u]instanceof Object&&a?r(e[u],a):null==a&&n||N(e,u,a)}return e},_e.removeDirectionOverrideChars=function(r){if("string"==typeof r)return r.replace(/[\u202d-\u202e]/g,"");return""},_e.removeElement=function(r,e,t){var n;if(t){for(n=r.length-1;n>=0;n--)if(e(r[n],n,r))return r.splice(n,1),!0}else for(n=0;n<r.length;n++)if(e(r[n],n,r))return r.splice(n,1),!0;return!1},_e.removeHiddenChars=O,_e.replaceParam=function(r,e,t){var n=y(y({},t),{},(0,f.default)({},e,t[r]));return delete n[r],n},_e.safeSet=N,_e.simpleRetryOperation=function(r,e){return(0,p.default)(function(e){return r(e)},{retries:1/0,shouldRetry:e?function(r){var t=r.error;return e(t)}:void 0,factor:2,minTimeout:3e3,maxTimeout:15e3})},_e.sleep=function(r,e){return new Promise(function(t){setTimeout(t,r,e)})},_e.sortEventsByLatestContentTimestamp=function(r,e){return C(e)-C(r)},_e.stringToBase=D,_e.unsafeProp=_;var e=r(_r(_d[1])),t=r(_r(_d[2])),n=r(_r(_d[3])),o=r(_r(_d[4])),i=r(_r(_d[5])),u=r(_r(_d[6])),a=r(_r(_d[7])),f=r(_r(_d[8])),c=r(_r(_d[9])),l=r(_r(_d[10])),s=r(_r(_d[11])),p=r(_r(_d[12]));function v(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(v=function(){return!!r})()}function d(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function y(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?d(Object(t),!0).forEach(function(e){(0,f.default)(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}var h=new Map;function O(r){return"string"==typeof r?(0,s.default)(r.normalize("NFD").replace(b,"")):""}var b=/[\u2000-\u200F\u202A-\u202F\u0300-\u036F\uFEFF\u061C\u2800\u2062-\u2063\s]/g;function P(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(){return(w=(0,l.default)(function*(r,e,t){var n=Date.now();try{return yield t()}finally{var o=Date.now();r.debug("[Perf]: ".concat(e," took ").concat(o-n,"ms"))}})).apply(this,arguments)}function S(){return(S=(0,l.default)(function*(r,e){for(var t of r)yield e(yield t)})).apply(this,arguments)}function j(){return(j=(0,l.default)(function*(r,e){for(var t=[],n=0;n<r.length;n+=e)t.push.apply(t,(0,a.default)(yield Promise.all(r.slice(n,n+e).map(function(r){return r()}))));return t})).apply(this,arguments)}var T=_e.DEFAULT_ALPHABET=(function(){for(var r="",e=32;e<=126;e++)r+=String.fromCharCode(e);return r})();function A(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return r.padEnd(e,t[0])}function E(r){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,n=BigInt(t.length);if(r<=n)return null!==(e=t[Number(r)-1])&&void 0!==e?e:"";var o=r/n,i=Number(r%n)-1;return i<0&&(o-=BigInt(Math.abs(i)),i=Number(n)-1),E(o,t)+t[i]}function D(r){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,t=BigInt(e.length),n=BigInt(0),o=r.length-1,i=BigInt(0);o>=0;o--,i++){var u=r.charCodeAt(o)-e.charCodeAt(0);n+=BigInt(1+u)*t**i}return n}function B(r,e){return r<e?-1:r>e?1:0}function C(r){var e;return null!==(e=_r(_d[13]).M_TIMESTAMP.findIn(r.getContent()))&&void 0!==e?e:-1}function M(r){return r instanceof Map?R(r):Array.isArray(r)?r.map(function(r){return M(r)}):r}function R(r){var e=new Map;for(var t of r){var n=(0,c.default)(t,2),o=n[0],i=n[1];e.set(o,M(i))}return Object.fromEntries(e.entries())}function _(r){return"__proto__"===r||"prototype"===r||"constructor"===r}function N(r,e,t){if(_(e))throw new Error("Trying to modify prototype or constructor");r[e]=t}_e.MapWithDefault=(function(r){function u(r){var t,i,a,f;return(0,e.default)(this,u),i=this,a=u,a=(0,o.default)(a),(t=(0,n.default)(i,v()?Reflect.construct(a,f||[],(0,o.default)(i).constructor):a.apply(i,f))).createDefault=r,t}return(0,i.default)(u,r),(0,t.default)(u,[{key:"getOrCreate",value:function(r){return this.has(r)||this.set(r,this.createDefault()),this.get(r)}}])})((0,u.default)(Map))},748,[1,11,12,18,20,23,144,42,739,34,743,749,751,753,755]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=RegExp(Object.keys(r(d[0])).map(function(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,'\\$1')}).join('|'),'g');function t(n){return r(d[0])[n]}m.exports=function(c){return c.replace(n,t)}},749,[750]);
__d(function(l,o,O,i,n,r,T){n.exports={0:"O",1:"l","\u05ad":"\u0596","\u05ae":"\u0598","\u05a8":"\u0599","\u05a4":"\u059a","\u1ab4":"\u06db","\u20db":"\u06db","\u0619":"\u0313","\u08f3":"\u0313","\u0343":"\u0313","\u0315":"\u0313","\u064f":"\u0313","\u065d":"\u0314","\u059c":"\u0301","\u059d":"\u0301","\u0618":"\u0301","\u0747":"\u0301","\u0341":"\u0301","\u0954":"\u0301","\u064e":"\u0301","\u0340":"\u0300","\u0953":"\u0300","\u030c":"\u0306","\ua67c":"\u0306","\u0658":"\u0306","\u065a":"\u0306","\u036e":"\u0306","\u06e8":"\u0306\u0307","\u0310":"\u0306\u0307","\u0901":"\u0306\u0307","\u0981":"\u0306\u0307","\u0a81":"\u0306\u0307","\u0b01":"\u0306\u0307","\u0c00":"\u0306\u0307","\u0c81":"\u0306\u0307","\u0d01":"\u0306\u0307","\ud805\udcbf":"\u0306\u0307","\u1cd0":"\u0302","\u0311":"\u0302","\u065b":"\u0302","\u07ee":"\u0302","\ua6f0":"\u0302","\u05af":"\u030a","\u06df":"\u030a","\u17d3":"\u030a","\u309a":"\u030a","\u0652":"\u030a","\u0b82":"\u030a","\u1036":"\u030a","\u17c6":"\u030a","\ud804\udf00":"\u030a","\u0e4d":"\u030a","\u0ecd":"\u030a","\u0366":"\u030a","\u2dea":"\u030a","\u08eb":"\u0308","\u07f3":"\u0308","\u064b":"\u030b","\u08f0":"\u030b","\u0342":"\u0303","\u0653":"\u0303","\u05c4":"\u0307","\u06ec":"\u0307","\u0740":"\u0307","\u08ea":"\u0307","\u0741":"\u0307","\u0358":"\u0307","\u05b9":"\u0307","\u05ba":"\u0307","\u05c2":"\u0307","\u05c1":"\u0307","\u07ed":"\u0307","\u0902":"\u0307","\u0a02":"\u0307","\u0a82":"\u0307","\u0bcd":"\u0307","\u0337":"\u0338","\u1ab7":"\u0328","\u0322":"\u0328","\u0345":"\u0328","\u1cd2":"\u0304","\u0305":"\u0304","\u0659":"\u0304","\u07eb":"\u0304","\ua6f1":"\u0304","\u1cda":"\u030e","\u0657":"\u0312","\u0357":"\u0350","\u08ff":"\u0350","\u08f8":"\u0350","\u0900":"\u0352","\u1ced":"\u0316","\u1cdc":"\u0329","\u0656":"\u0329","\u1cd5":"\u032b","\u0347":"\u0333","\u08f9":"\u0354","\u08fa":"\u0355","\u309b":"\uff9e","\u309c":"\uff9f","\u0336":"\u0335","\u302c":"\u0309","\u05c5":"\u0323","\u08ed":"\u0323","\u1cdd":"\u0323","\u05b4":"\u0323","\u065c":"\u0323","\u093c":"\u0323","\u09bc":"\u0323","\u0a3c":"\u0323","\u0abc":"\u0323","\u0b3c":"\u0323","\ud804\uddca":"\u0323","\ud805\udcc3":"\u0323","\ud802\ude3a":"\u0323","\u08ee":"\u0324","\u1cde":"\u0324","\u0f37":"\u0325","\u302d":"\u0325","\u0327":"\u0326","\u0321":"\u0326","\u0339":"\u0326","\u1cd9":"\u032d","\u1cd8":"\u032e","\u0952":"\u0331","\u0320":"\u0331","\u08f1":"\u064c","\u08e8":"\u064c","\u08e5":"\u064c","\ufc5e":"\ufe72\u0651","\u08f2":"\u064d","\ufc5f":"\ufe74\u0651","\ufcf2":"\ufe77\u0651","\ufc60":"\ufe76\u0651","\ufcf3":"\ufe79\u0651","\ufc61":"\ufe78\u0651","\u061a":"\u0650","\u0317":"\u0650","\ufcf4":"\ufe7b\u0651","\ufc62":"\ufe7a\u0651","\ufc63":"\ufe7c\u0670","\u065f":"\u0655","\u030d":"\u0670","\u0742":"\u073c","\u0a03":"\u0983","\u0c03":"\u0983","\u0c83":"\u0983","\u0d03":"\u0983","\u0d83":"\u0983","\u1038":"\u0983","\ud805\udcc1":"\u0983","\u17cb":"\u0e48","\u0ec8":"\u0e48","\u0ec9":"\u0e49","\u0eca":"\u0e4a","\u0ecb":"\u0e4b","\ua66f":"\u20e9","\u2028":" ","\u2029":" ","\u1680":" ","\u2000":" ","\u2001":" ","\u2002":" ","\u2003":" ","\u2004":" ","\u2005":" ","\u2006":" ","\u2008":" ","\u2009":" ","\u200a":" ","\u205f":" ","\xa0":" ","\u2007":" ","\u202f":" ","\u07fa":"_","\ufe4d":"_","\ufe4e":"_","\ufe4f":"_","\u2010":"-","\u2011":"-","\u2012":"-","\u2013":"-","\ufe58":"-","\u06d4":"-","\u2043":"-","\u02d7":"-","\u2212":"-","\u2796":"-","\u2cba":"-","\u2a29":"-\u0313","\u2e1a":"-\u0308","\ufb29":"-\u0307","\u2238":"-\u0307","\u2a2a":"-\u0323","\ua4fe":"-.","\uff5e":"\u301c","\u060d":",","\u066b":",","\u201a":",","\xb8":",","\ua4f9":",","\u2e32":"\u060c","\u066c":"\u060c","\u037e":";","\u2e35":"\u061b","\u0903":":","\u0a83":":","\uff1a":":","\u0589":":","\u0703":":","\u0704":":","\u16ec":":","\ufe30":":","\u1803":":","\u1809":":","\u205a":":","\u05c3":":","\u02f8":":","\ua789":":","\u2236":":","\u02d0":":","\ua4fd":":","\u2a74":"::=","\u29f4":":\u2192","\uff01":"!","\u01c3":"!","\u2d51":"!","\u203c":"!!","\u2049":"!?","\u0294":"?","\u0241":"?","\u097d":"?","\u13ae":"?","\ua6eb":"?","\u2048":"?!","\u2047":"??","\u2e2e":"\u061f","\ud834\udd6d":".","\u2024":".","\u0701":".","\u0702":".","\ua60e":".","\ud802\ude50":".","\u0660":".","\u06f0":".","\ua4f8":".","\ua4fb":".,","\u2025":"..","\ua4fa":"..","\u2026":"...","\ua6f4":"\ua6f3\ua6f3","\u30fb":"\xb7","\uff65":"\xb7","\u16eb":"\xb7","\u0387":"\xb7","\u2e31":"\xb7","\ud800\udd01":"\xb7","\u2022":"\xb7","\u2027":"\xb7","\u2219":"\xb7","\u22c5":"\xb7","\ua78f":"\xb7","\u1427":"\xb7","\u22ef":"\xb7\xb7\xb7","\u2d48":"\xb7\xb7\xb7","\u1444":"\xb7<","\u22d7":"\xb7>","\u1437":"\xb7>","\u1440":"\xb7>","\u152f":"\xb74","\u147e":"\xb7b","\u1480":"\xb7b\u0307","\u147a":"\xb7d","\u1498":"\xb7J","\u14b6":"\xb7L","\u1476":"\xb7P","\u1457":"\xb7U","\u143a":"\xb7V","\u143c":"\xb7\u0245","\u14ae":"\xb7\u0393","\u140e":"\xb7\u0394","\u1459":"\xb7\u0548","\u140c":"\xb7\u1401","\u1410":"\xb7\u1404","\u1412":"\xb7\u1405","\u1414":"\xb7\u1406","\u1417":"\xb7\u140a","\u1419":"\xb7\u140b","\u143e":"\xb7\u1432","\u1442":"\xb7\u1434","\u1446":"\xb7\u1439","\u145b":"\xb7\u144f","\u1454":"\xb7\u1450","\u145d":"\xb7\u1450","\u145f":"\xb7\u1451","\u1461":"\xb7\u1455","\u1463":"\xb7\u1456","\u1474":"\xb7\u146b","\u1478":"\xb7\u146e","\u147c":"\xb7\u1470","\u1492":"\xb7\u1489","\u1494":"\xb7\u148b","\u1496":"\xb7\u148c","\u149a":"\xb7\u148e","\u149c":"\xb7\u1490","\u149e":"\xb7\u1491","\u14ac":"\xb7\u14a3","\u14b0":"\xb7\u14a6","\u14b2":"\xb7\u14a7","\u14b4":"\xb7\u14a8","\u14b8":"\xb7\u14ab","\u14c9":"\xb7\u14c0","\u18c6":"\xb7\u14c2","\u18c8":"\xb7\u14c3","\u18ca":"\xb7\u14c4","\u18cc":"\xb7\u14c5","\u14cb":"\xb7\u14c7","\u14cd":"\xb7\u14c8","\u14dc":"\xb7\u14d3","\u14de":"\xb7\u14d5","\u14e0":"\xb7\u14d6","\u14e2":"\xb7\u14d7","\u14e4":"\xb7\u14d8","\u14e6":"\xb7\u14da","\u14e8":"\xb7\u14db","\u14f6":"\xb7\u14ed","\u14f8":"\xb7\u14ef","\u14fa":"\xb7\u14f0","\u14fc":"\xb7\u14f1","\u14fe":"\xb7\u14f2","\u1500":"\xb7\u14f4","\u1502":"\xb7\u14f5","\u1517":"\xb7\u1510","\u1519":"\xb7\u1511","\u151b":"\xb7\u1512","\u151d":"\xb7\u1513","\u151f":"\xb7\u1514","\u1521":"\xb7\u1515","\u1523":"\xb7\u1516","\u1531":"\xb7\u1528","\u1533":"\xb7\u1529","\u1535":"\xb7\u152a","\u1537":"\xb7\u152b","\u1539":"\xb7\u152d","\u153b":"\xb7\u152e","\u18ce":"\xb7\u1543","\u18cf":"\xb7\u1546","\u18d0":"\xb7\u1547","\u18d1":"\xb7\u1548","\u18d2":"\xb7\u1549","\u18d3":"\xb7\u154b","\u154e":"\xb7\u154c","\u155b":"\xb7\u155a","\u1568":"\xb7\u1567","\u18b3":"\xb7\u18b1","\u18b6":"\xb7\u18b4","\u18b9":"\xb7\u18b8","\u18c2":"\xb7\u18c0","\ua830":"\u0964","\u0965":"\u0964\u0964","\u1c3c":"\u1c3b\u1c3b","\u104b":"\u104a\u104a","\u1aa9":"\u1aa8\u1aa8","\u1aab":"\u1aaa\u1aa8","\u1b5f":"\u1b5e\u1b5e","\ud802\ude57":"\ud802\ude56\ud802\ude56","\ud805\udc4c":"\ud805\udc4b\ud805\udc4b","\ud805\ude42":"\ud805\ude41\ud805\ude41","\ud807\udc42":"\ud807\udc41\ud807\udc41","\u1c7f":"\u1c7e\u1c7e","\u055d":"'","\uff07":"'","\u2018":"'","\u2019":"'","\u201b":"'","\u2032":"'","\u2035":"'","\u055a":"'","\u05f3":"'","`":"'","\u1fef":"'","\uff40":"'","\xb4":"'","\u0384":"'","\u1ffd":"'","\u1fbd":"'","\u1fbf":"'","\u1ffe":"'","\u02b9":"'","\u0374":"'","\u02c8":"'","\u02ca":"'","\u02cb":"'","\u02f4":"'","\u02bb":"'","\u02bd":"'","\u02bc":"'","\u02be":"'","\ua78c":"'","\u05d9":"'","\u07f4":"'","\u07f5":"'","\u144a":"'","\u16cc":"'","\ud81b\udf51":"'","\ud81b\udf52":"'","\u1cd3":"''","\"":"''","\uff02":"''","\u201c":"''","\u201d":"''","\u201f":"''","\u2033":"''","\u2036":"''","\u3003":"''","\u05f4":"''","\u02dd":"''","\u02ba":"''","\u02f6":"''","\u02ee":"''","\u05f2":"''","\u2034":"'''","\u2037":"'''","\u2057":"''''","\u0181":"'B","\u018a":"'D","\u0149":"'n","\u01a4":"'P","\u01ac":"'T","\u01b3":"'Y","\uff3b":"(","\u2768":"(","\u2772":"(","\u3014":"(","\ufd3e":"(","\u2e28":"((","\u3220":"(\u30fc)","\u2475":"(2)","\u2487":"(2O)","\u2476":"(3)","\u2477":"(4)","\u2478":"(5)","\u2479":"(6)","\u247a":"(7)","\u247b":"(8)","\u247c":"(9)","\u249c":"(a)","\ud83c\udd10":"(A)","\u249d":"(b)","\ud83c\udd11":"(B)","\u249e":"(c)","\ud83c\udd12":"(C)","\u249f":"(d)","\ud83c\udd13":"(D)","\u24a0":"(e)","\ud83c\udd14":"(E)","\u24a1":"(f)","\ud83c\udd15":"(F)","\u24a2":"(g)","\ud83c\udd16":"(G)","\u24a3":"(h)","\ud83c\udd17":"(H)","\u24a4":"(i)","\u24a5":"(j)","\ud83c\udd19":"(J)","\u24a6":"(k)","\ud83c\udd1a":"(K)","\u2474":"(l)","\ud83c\udd18":"(l)","\u24a7":"(l)","\ud83c\udd1b":"(L)","\u247f":"(l2)","\u2480":"(l3)","\u2481":"(l4)","\u2482":"(l5)","\u2483":"(l6)","\u2484":"(l7)","\u2485":"(l8)","\u2486":"(l9)","\u247e":"(ll)","\u247d":"(lO)","\ud83c\udd1c":"(M)","\u24a9":"(n)","\ud83c\udd1d":"(N)","\u24aa":"(o)","\ud83c\udd1e":"(O)","\u24ab":"(p)","\ud83c\udd1f":"(P)","\u24ac":"(q)","\ud83c\udd20":"(Q)","\u24ad":"(r)","\ud83c\udd21":"(R)","\u24a8":"(rn)","\u24ae":"(s)","\ud83c\udd22":"(S)","\ud83c\udd2a":"(S)","\u24af":"(t)","\ud83c\udd23":"(T)","\u24b0":"(u)","\ud83c\udd24":"(U)","\u24b1":"(v)","\ud83c\udd25":"(V)","\u24b2":"(w)","\ud83c\udd26":"(W)","\u24b3":"(x)","\ud83c\udd27":"(X)","\u24b4":"(y)","\ud83c\udd28":"(Y)","\u24b5":"(z)","\ud83c\udd29":"(Z)","\u3200":"(\u1100)","\u320e":"(\uac00)","\u3201":"(\u1102)","\u320f":"(\ub098)","\u3202":"(\u1103)","\u3210":"(\ub2e4)","\u3203":"(\u1105)","\u3211":"(\ub77c)","\u3204":"(\u1106)","\u3212":"(\ub9c8)","\u3205":"(\u1107)","\u3213":"(\ubc14)","\u3206":"(\u1109)","\u3214":"(\uc0ac)","\u3207":"(\u110b)","\u3215":"(\uc544)","\u321d":"(\uc624\uc804)","\u321e":"(\uc624\ud6c4)","\u3208":"(\u110c)","\u3216":"(\uc790)","\u321c":"(\uc8fc)","\u3209":"(\u110e)","\u3217":"(\ucc28)","\u320a":"(\u110f)","\u3218":"(\uce74)","\u320b":"(\u1110)","\u3219":"(\ud0c0)","\u320c":"(\u1111)","\u321a":"(\ud30c)","\u320d":"(\u1112)","\u321b":"(\ud558)","\u3226":"(\u4e03)","\u3222":"(\u4e09)","\ud83c\ude41":"(\u4e09)","\u3228":"(\u4e5d)","\u3221":"(\u4e8c)","\ud83c\ude42":"(\u4e8c)","\u3224":"(\u4e94)","\u3239":"(\u4ee3)","\u323d":"(\u4f01)","\u3241":"(\u4f11)","\u3227":"(\u516b)","\u3225":"(\u516d)","\u3238":"(\u52b4)","\ud83c\ude47":"(\u52dd)","\u3229":"(\u5341)","\u323f":"(\u5354)","\u3234":"(\u540d)","\u323a":"(\u547c)","\u3223":"(\u56db)","\u322f":"(\u571f)","\u323b":"(\u5b66)","\ud83c\ude43":"(\u5b89)","\ud83c\ude45":"(\u6253)","\ud83c\ude48":"(\u6557)","\u3230":"(\u65e5)","\u322a":"(\u6708)","\u3232":"(\u6709)","\u322d":"(\u6728)","\ud83c\ude40":"(\u672c)","\u3231":"(\u682a)","\u322c":"(\u6c34)","\u322b":"(\u706b)","\ud83c\ude44":"(\u70b9)","\u3235":"(\u7279)","\ud83c\ude46":"(\u76d7)","\u323c":"(\u76e3)","\u3233":"(\u793e)","\u3237":"(\u795d)","\u3240":"(\u796d)","\u3242":"(\u81ea)","\u3243":"(\u81f3)","\u3236":"(\u8ca1)","\u323e":"(\u8cc7)","\u322e":"(\u91d1)","\uff3d":")","\u2769":")","\u2773":")","\u3015":")","\ufd3f":")","\u2e29":"))","\u2774":"{","\ud834\udd14":"{","\u2775":"}","\u301a":"\u27e6","\u301b":"\u27e7","\u27e8":"\u276c","\u2329":"\u276c","\u3008":"\u276c","\u31db":"\u276c","\u304f":"\u276c","\ud847\udfe8":"\u276c","\u27e9":"\u276d","\u232a":"\u276d","\u3009":"\u276d","\uff3e":"\ufe3f","\u2e3f":"\xb6","\u204e":"*","\u066d":"*","\u2217":"*","\ud800\udf1f":"*","\u1735":"/","\u2041":"/","\u2215":"/","\u2044":"/","\u2571":"/","\u27cb":"/","\u29f8":"/","\ud834\ude3a":"/","\u31d3":"/","\u3033":"/","\u2cc6":"/","\u30ce":"/","\u4e3f":"/","\u2f03":"/","\u29f6":"/\u0304","\u2afd":"//","\u2afb":"///","\uff3c":"\\","\ufe68":"\\","\u2216":"\\","\u27cd":"\\","\u29f5":"\\","\u29f9":"\\","\ud834\ude0f":"\\","\ud834\ude3b":"\\","\u31d4":"\\","\u4e36":"\\","\u2f02":"\\","\u2cf9":"\\\\","\u244a":"\\\\","\u27c8":"\\\u1455","\ua778":"&","\u0af0":"\u0970","\ud804\udcbb":"\u0970","\ud804\uddc7":"\u0970","\u26ac":"\u0970","\ud804\udddb":"\ua8fc","\u17d9":"\u0e4f","\u17d5":"\u0e5a","\u17da":"\u0e5b","\u0f0c":"\u0f0b","\u0f0e":"\u0f0d\u0f0d","\u02c4":"^","\u02c6":"^","\ua67e":"\u02c7","\u02d8":"\u02c7","\u203e":"\u02c9","\ufe49":"\u02c9","\ufe4a":"\u02c9","\ufe4b":"\u02c9","\ufe4c":"\u02c9","\xaf":"\u02c9","\uffe3":"\u02c9","\u2594":"\u02c9","\u044a":"\u02c9b","\ua651":"\u02c9bi","\u0375":"\u02cf","\u02fb":"\u02ea","\ua716":"\u02ea","\ua714":"\u02eb","\u3002":"\u02f3","\u2e30":"\xb0","\u02da":"\xb0","\u2218":"\xb0","\u25cb":"\xb0","\u25e6":"\xb0","\u235c":"\xb0\u0332","\u2364":"\xb0\u0308","\u2103":"\xb0C","\u2109":"\xb0F","\u0bf5":"\u0bf3","\u0f1b":"\u0f1a\u0f1a","\u0f1f":"\u0f1a\u0f1d","\u0fce":"\u0f1d\u0f1a","\u0f1e":"\u0f1d\u0f1d","\u24b8":"\xa9","\u24c7":"\xae","\u24c5":"\u2117","\ud834\ude1b":"\u2144","\u2bec":"\u219e","\u2bed":"\u219f","\u2bee":"\u21a0","\u2bef":"\u21a1","\u21b5":"\u21b2","\u2965":"\u21c3\u21c2","\u296f":"\u21c3\u16da","\ud835\udedb":"\u2202","\ud835\udf15":"\u2202","\ud835\udf4f":"\u2202","\ud835\udf89":"\u2202","\ud835\udfc3":"\u2202","\ud83a\udccc":"\u2202","\ud83a\udccd":"\u2202\u0335","\xf0":"\u2202\u0335","\u2300":"\u2205","\ud835\udec1":"\u2207","\ud835\udefb":"\u2207","\ud835\udf35":"\u2207","\ud835\udf6f":"\u2207","\ud835\udfa9":"\u2207","\ud806\udca8":"\u2207","\u2362":"\u2207\u0308","\u236b":"\u2207\u0334","\u2588":"\u220e","\u25a0":"\u220e","\u2a3f":"\u2210","\u16ed":"+","\u2795":"+","\ud800\ude9b":"+","\u2a23":"+\u0302","\u2a22":"+\u030a","\u2a24":"+\u0303","\u2214":"+\u0307","\u2a25":"+\u0323","\u2a26":"+\u0330","\u2a27":"+\u2082","\u2797":"\xf7","\u2039":"<","\u276e":"<","\u02c2":"<","\ud834\ude36":"<","\u1438":"<","\u16b2":"<","\u22d6":"<\xb7","\u2cb4":"<\xb7","\u1445":"<\xb7","\u226a":"<<","\u22d8":"<<<","\u1400":"=","\u2e40":"=","\u30a0":"=","\ua4ff":"=","\u225a":"=\u0306","\u2259":"=\u0302","\u2257":"=\u030a","\u2250":"=\u0307","\u2251":"=\u0307\u0323","\u2a6e":"=\u20f0","\u2a75":"==","\u2a76":"===","\u225e":"=\u036b","\u203a":">","\u276f":">","\u02c3":">","\ud834\ude37":">","\u1433":">","\ud81b\udf3f":">","\u1441":">\xb7","\u2aa5":"><","\u226b":">>","\u2a20":">>","\u22d9":">>>","\u2053":"~","\u02dc":"~","\u1fc0":"~","\u223c":"~","\u2368":"~\u0308","\u2e1e":"~\u0307","\u2a6a":"~\u0307","\u2e1f":"~\u0323","\ud83a\udcc8":"\u2220","\u22c0":"\u2227","\u222f":"\u222e\u222e","\u2230":"\u222e\u222e\u222e","\u2e2b":"\u2234","\u2e2a":"\u2235","\u2e2c":"\u2237","\ud804\uddde":"\u2248","\u264e":"\u224f","\ud83d\udf5e":"\u224f","\u2263":"\u2261","\u2a03":"\u228d","\u2a04":"\u228e","\ud834\ude38":"\u228f","\ud834\ude39":"\u2290","\u2a05":"\u2293","\u2a06":"\u2294","\u2a02":"\u2297","\u235f":"\u229b","\ud83d\udf71":"\u22a0","\ud83d\udf55":"\u22a1","\u25c1":"\u22b2","\u25b7":"\u22b3","\u2363":"\u22c6\u0308","\ufe34":"\u2307","\u25e0":"\u2312","\u2a3d":"\u2319","\u2325":"\u2324","\u29c7":"\u233b","\u25ce":"\u233e","\u29be":"\u233e","\u29c5":"\u2342","\u29b0":"\u2349","\u23c3":"\u234b","\u23c2":"\u234e","\u23c1":"\u2355","\u23c6":"\u236d","\u2638":"\u2388","\ufe35":"\u23dc","\ufe36":"\u23dd","\ufe37":"\u23de","\ufe38":"\u23df","\ufe39":"\u23e0","\ufe3a":"\u23e1","\u25b1":"\u23e5","\u23fc":"\u23fb","\ufe31":"\u2502","\uff5c":"\u2502","\u2503":"\u2502","\u250f":"\u250c","\u2523":"\u251c","\u2590":"\u258c","\u2597":"\u2596","\u259d":"\u2598","\u2610":"\u25a1","\uffed":"\u25aa","\u25b8":"\u25b6","\u25ba":"\u25b6","\u2ce9":"\u2627","\ud83d\udf0a":"\u2629","\ud83c\udf12":"\u263d","\ud83c\udf19":"\u263d","\u23fe":"\u263e","\ud83c\udf18":"\u263e","\u29d9":"\u299a","\ud83d\udf3a":"\u29df","\u2a3e":"\u2a1f","\ud800\udda0":"\u2ce8","\u2669":"\ud834\udd58\ud834\udd65","\u266a":"\ud834\udd58\ud834\udd65\ud834\udd6e","\u24ea":"\ud83c\udd0d","\u21ba":"\ud83c\udd0e","\u02d9":"\u0971","\u0d4e":"\u0971","\uff0d":"\u30fc","\u2014":"\u30fc","\u2015":"\u30fc","\u2500":"\u30fc","\u2501":"\u30fc","\u31d0":"\u30fc","\ua7f7":"\u30fc","\u1173":"\u30fc","\u3161":"\u30fc","\u4e00":"\u30fc","\u2f00":"\u30fc","\u1196":"\u30fc\u30fc","\ud7b9":"\u30fc\u1161","\ud7ba":"\u30fc\u1165","\ud7bb":"\u30fc\u1165\u4e28","\ud7bc":"\u30fc\u1169","\u1195":"\u30fc\u116e","\u1174":"\u30fc\u4e28","\u3162":"\u30fc\u4e28","\u1197":"\u30fc\u4e28\u116e","\ud83c\udd0f":"$\u20e0","\u20a4":"\xa3","\u3012":"\u20b8","\u3036":"\u20b8","\u1b5c":"\u1b50","\ua9c6":"\ua9d0","\ud805\udcd1":"\u09e7","\u0ce7":"\u0c67","\u1065":"\u1041","\u2460":"\u2780","\u2469":"\u2789","\u23e8":"\u2081\u2080","\ud835\udfd0":"2","\ud835\udfda":"2","\ud835\udfe4":"2","\ud835\udfee":"2","\ud835\udff8":"2","\ud83e\udff2":"2","\ua75a":"2","\u01a7":"2","\u03e8":"2","\ua644":"2","\u14bf":"2","\ua6ef":"2","\ua9cf":"\u0662","\u06f2":"\u0662","\u0ae8":"\u0968","\ud805\udcd2":"\u09e8","\u0ce8":"\u0c68","\u2461":"\u2781","\u01bb":"2\u0335","\ud83c\udd03":"2,","\u2489":"2.","\u33f5":"22\u65e5","\u336e":"22\u70b9","\u33f6":"23\u65e5","\u336f":"23\u70b9","\u33f7":"24\u65e5","\u3370":"24\u70b9","\u33f8":"25\u65e5","\u33f9":"26\u65e5","\u33fa":"27\u65e5","\u33fb":"28\u65e5","\u33fc":"29\u65e5","\u33f4":"2l\u65e5","\u336d":"2l\u70b9","\u249b":"2O.","\u33f3":"2O\u65e5","\u336c":"2O\u70b9","\u0de9":"\u0de8\u0dcf","\u0def":"\u0de8\u0dd3","\u33e1":"2\u65e5","\u32c1":"2\u6708","\u335a":"2\u70b9","\ud834\ude06":"3","\ud835\udfd1":"3","\ud835\udfdb":"3","\ud835\udfe5":"3","\ud835\udfef":"3","\ud835\udff9":"3","\ud83e\udff3":"3","\ua7ab":"3","\u021c":"3","\u01b7":"3","\ua76a":"3","\u2ccc":"3","\u0417":"3","\u04e0":"3","\ud81b\udf3b":"3","\ud806\udcca":"3","\u06f3":"\u0663","\ud83a\udcc9":"\u0663","\u0ae9":"\u0969","\u2462":"\u2782","\u0498":"3\u0326","\ud83c\udd04":"3,","\u248a":"3.","\u33fe":"3l\u65e5","\u33fd":"3O\u65e5","\u33e2":"3\u65e5","\u32c2":"3\u6708","\u335b":"3\u70b9","\ud835\udfd2":"4","\ud835\udfdc":"4","\ud835\udfe6":"4","\ud835\udff0":"4","\ud835\udffa":"4","\ud83e\udff4":"4","\u13ce":"4","\ud806\udcaf":"4","\u06f4":"\u0664","\u0aea":"\u096a","\u2463":"\u2783","\ud83c\udd05":"4,","\u248b":"4.","\u1530":"4\xb7","\u33e3":"4\u65e5","\u32c3":"4\u6708","\u335c":"4\u70b9","\ud835\udfd3":"5","\ud835\udfdd":"5","\ud835\udfe7":"5","\ud835\udff1":"5","\ud835\udffb":"5","\ud83e\udff5":"5","\u01bc":"5","\ud806\udcbb":"5","\u2464":"\u2784","\ud83c\udd06":"5,","\u248c":"5.","\u33e4":"5\u65e5","\u32c4":"5\u6708","\u335d":"5\u70b9","\ud835\udfd4":"6","\ud835\udfde":"6","\ud835\udfe8":"6","\ud835\udff2":"6","\ud835\udffc":"6","\ud83e\udff6":"6","\u2cd2":"6","\u0431":"6","\u13ee":"6","\ud806\udcd5":"6","\u06f6":"\u0666","\ud805\udcd6":"\u09ec","\u2465":"\u2785","\ud83c\udd07":"6,","\u248d":"6.","\u33e5":"6\u65e5","\u32c5":"6\u6708","\u335e":"6\u70b9","\ud834\ude12":"7","\ud835\udfd5":"7","\ud835\udfdf":"7","\ud835\udfe9":"7","\ud835\udff3":"7","\ud835\udffd":"7","\ud83e\udff7":"7","\ud801\udcd2":"7","\ud806\udcc6":"7","\u2466":"\u2786","\ud83c\udd08":"7,","\u248e":"7.","\u33e6":"7\u65e5","\u32c6":"7\u6708","\u335f":"7\u70b9","\u0b03":"8","\u09ea":"8","\u0a6a":"8","\ud83a\udccb":"8","\ud835\udfd6":"8","\ud835\udfe0":"8","\ud835\udfea":"8","\ud835\udff4":"8","\ud835\udffe":"8","\ud83e\udff8":"8","\u0223":"8","\u0222":"8","\ud800\udf1a":"8","\u0aee":"\u096e","\u2467":"\u2787","\ud83c\udd09":"8,","\u248f":"8.","\u33e7":"8\u65e5","\u32c7":"8\u6708","\u3360":"8\u70b9","\u0a67":"9","\u0b68":"9","\u09ed":"9","\u0d6d":"9","\ud835\udfd7":"9","\ud835\udfe1":"9","\ud835\udfeb":"9","\ud835\udff5":"9","\ud835\udfff":"9","\ud83e\udff9":"9","\ua76e":"9","\u2cca":"9","\ud806\udccc":"9","\ud806\udcac":"9","\ud806\udcd6":"9","\u0967":"\u0669","\ud806\udce4":"\u0669","\u06f9":"\u0669","\u0cef":"\u0c6f","\u2468":"\u2788","\ud83c\udd0a":"9,","\u2490":"9.","\u33e8":"9\u65e5","\u32c8":"9\u6708","\u3361":"9\u70b9","\u237a":"a","\uff41":"a","\ud835\udc1a":"a","\ud835\udc4e":"a","\ud835\udc82":"a","\ud835\udcb6":"a","\ud835\udcea":"a","\ud835\udd1e":"a","\ud835\udd52":"a","\ud835\udd86":"a","\ud835\uddba":"a","\ud835\uddee":"a","\ud835\ude22":"a","\ud835\ude56":"a","\ud835\ude8a":"a","\u0251":"a","\u03b1":"a","\ud835\udec2":"a","\ud835\udefc":"a","\ud835\udf36":"a","\ud835\udf70":"a","\ud835\udfaa":"a","\u0430":"a","\u2df6":"\u0363","\uff21":"A","\ud835\udc00":"A","\ud835\udc34":"A","\ud835\udc68":"A","\ud835\udc9c":"A","\ud835\udcd0":"A","\ud835\udd04":"A","\ud835\udd38":"A","\ud835\udd6c":"A","\ud835\udda0":"A","\ud835\uddd4":"A","\ud835\ude08":"A","\ud835\ude3c":"A","\ud835\ude70":"A","\u0391":"A","\ud835\udea8":"A","\ud835\udee2":"A","\ud835\udf1c":"A","\ud835\udf56":"A","\ud835\udf90":"A","\u0410":"A","\u13aa":"A","\u15c5":"A","\ua4ee":"A","\ud81b\udf40":"A","\ud800\udea0":"A","\u2376":"a\u0332","\u01ce":"\u0103","\u01cd":"\u0102","\u0227":"\xe5","\u0226":"\xc5","\u1e9a":"\u1ea3","\u2100":"a/c","\u2101":"a/s","\ua733":"aa","\ua732":"AA","\xe6":"ae","\u04d5":"ae","\xc6":"AE","\u04d4":"AE","\ua735":"ao","\ua734":"AO","\ud83d\udf07":"AR","\ua737":"au","\ua736":"AU","\ua739":"av","\ua73b":"av","\ua738":"AV","\ua73a":"AV","\ua73d":"ay","\ua73c":"AY","\uab7a":"\u1d00","\u2200":"\u2c6f","\ud834\ude17":"\u2c6f","\u15c4":"\u2c6f","\ua4ef":"\u2c6f","\ud801\udc1f":"\u2c70","\ud835\udc1b":"b","\ud835\udc4f":"b","\ud835\udc83":"b","\ud835\udcb7":"b","\ud835\udceb":"b","\ud835\udd1f":"b","\ud835\udd53":"b","\ud835\udd87":"b","\ud835\uddbb":"b","\ud835\uddef":"b","\ud835\ude23":"b","\ud835\ude57":"b","\ud835\ude8b":"b","\u0184":"b","\u042c":"b","\u13cf":"b","\u1472":"b","\u15af":"b","\uff22":"B","\u212c":"B","\ud835\udc01":"B","\ud835\udc35":"B","\ud835\udc69":"B","\ud835\udcd1":"B","\ud835\udd05":"B","\ud835\udd39":"B","\ud835\udd6d":"B","\ud835\udda1":"B","\ud835\uddd5":"B","\ud835\ude09":"B","\ud835\ude3d":"B","\ud835\ude71":"B","\ua7b4":"B","\u0392":"B","\ud835\udea9":"B","\ud835\udee3":"B","\ud835\udf1d":"B","\ud835\udf57":"B","\ud835\udf91":"B","\u0412":"B","\u13f4":"B","\u15f7":"B","\ua4d0":"B","\ud800\ude82":"B","\ud800\udea1":"B","\ud800\udf01":"B","\u0253":"b\u0314","\u1473":"b\u0307","\u0183":"b\u0304","\u0182":"b\u0304","\u0411":"b\u0304","\u0180":"b\u0335","\u048d":"b\u0335","\u048c":"b\u0335","\u0463":"b\u0335","\u0462":"b\u0335","\u147f":"b\xb7","\u1481":"b\u0307\xb7","\u1488":"b'","\u042b":"bl","\u0432":"\u0299","\u13fc":"\u0299","\uff43":"c","\u217d":"c","\ud835\udc1c":"c","\ud835\udc50":"c","\ud835\udc84":"c","\ud835\udcb8":"c","\ud835\udcec":"c","\ud835\udd20":"c","\ud835\udd54":"c","\ud835\udd88":"c","\ud835\uddbc":"c","\ud835\uddf0":"c","\ud835\ude24":"c","\ud835\ude58":"c","\ud835\ude8c":"c","\u1d04":"c","\u03f2":"c","\u2ca5":"c","\u0441":"c","\uabaf":"c","\ud801\udc3d":"c","\u2ded":"\u0368","\ud83d\udf4c":"C","\ud806\udcf2":"C","\ud806\udce9":"C","\uff23":"C","\u216d":"C","\u2102":"C","\u212d":"C","\ud835\udc02":"C","\ud835\udc36":"C","\ud835\udc6a":"C","\ud835\udc9e":"C","\ud835\udcd2":"C","\ud835\udd6e":"C","\ud835\udda2":"C","\ud835\uddd6":"C","\ud835\ude0a":"C","\ud835\ude3e":"C","\ud835\ude72":"C","\u03f9":"C","\u2ca4":"C","\u0421":"C","\u13df":"C","\ua4da":"C","\ud800\udea2":"C","\ud800\udf02":"C","\ud801\udc15":"C","\ud801\udd1c":"C","\xa2":"c\u0338","\u023c":"c\u0338","\u20a1":"C\u20eb","\ud83c\udd6e":"C\u20e0","\xe7":"c\u0326","\u04ab":"c\u0326","\xc7":"C\u0326","\u04aa":"C\u0326","\u0187":"C'","\u2105":"c/o","\u2106":"c/u","\ud83c\udd6d":"\u33c4\t\u20dd","\u22f4":"\ua793","\u025b":"\ua793","\u03b5":"\ua793","\u03f5":"\ua793","\ud835\udec6":"\ua793","\ud835\udedc":"\ua793","\ud835\udf00":"\ua793","\ud835\udf16":"\ua793","\ud835\udf3a":"\ua793","\ud835\udf50":"\ua793","\ud835\udf74":"\ua793","\ud835\udf8a":"\ua793","\ud835\udfae":"\ua793","\ud835\udfc4":"\ua793","\u2c89":"\ua793","\u0454":"\ua793","\u0511":"\ua793","\uab9b":"\ua793","\ud806\udcce":"\ua793","\ud801\udc29":"\ua793","\u20ac":"\ua792","\u2c88":"\ua792","\u0404":"\ua792","\u2377":"\ua793\u0332","\u037d":"\ua73f","\u03ff":"\ua73e","\u217e":"d","\u2146":"d","\ud835\udc1d":"d","\ud835\udc51":"d","\ud835\udc85":"d","\ud835\udcb9":"d","\ud835\udced":"d","\ud835\udd21":"d","\ud835\udd55":"d","\ud835\udd89":"d","\ud835\uddbd":"d","\ud835\uddf1":"d","\ud835\ude25":"d","\ud835\ude59":"d","\ud835\ude8d":"d","\u0501":"d","\u13e7":"d","\u146f":"d","\ua4d2":"d","\u216e":"D","\u2145":"D","\ud835\udc03":"D","\ud835\udc37":"D","\ud835\udc6b":"D","\ud835\udc9f":"D","\ud835\udcd3":"D","\ud835\udd07":"D","\ud835\udd3b":"D","\ud835\udd6f":"D","\ud835\udda3":"D","\ud835\uddd7":"D","\ud835\ude0b":"D","\ud835\ude3f":"D","\ud835\ude73":"D","\u13a0":"D","\u15de":"D","\u15ea":"D","\ua4d3":"D","\u0257":"d\u0314","\u0256":"d\u0328","\u018c":"d\u0304","\u0111":"d\u0335","\u0110":"D\u0335","\xd0":"D\u0335","\u0189":"D\u0335","\u20ab":"d\u0335\u0331","\ua77a":"\ua779","\u147b":"d\xb7","\u1487":"d'","\u02a4":"d\u021d","\u01f3":"dz","\u02a3":"dz","\u01f2":"Dz","\u01f1":"DZ","\u01c6":"d\u017e","\u01c5":"D\u017e","\u01c4":"D\u017d","\u02a5":"d\u0291","\uab70":"\u1d05","\u2e39":"\u1e9f","\u03b4":"\u1e9f","\ud835\udec5":"\u1e9f","\ud835\udeff":"\u1e9f","\ud835\udf39":"\u1e9f","\ud835\udf73":"\u1e9f","\ud835\udfad":"\u1e9f","\u056e":"\u1e9f","\u1577":"\u1e9f","\u212e":"e","\uff45":"e","\u212f":"e","\u2147":"e","\ud835\udc1e":"e","\ud835\udc52":"e","\ud835\udc86":"e","\ud835\udcee":"e","\ud835\udd22":"e","\ud835\udd56":"e","\ud835\udd8a":"e","\ud835\uddbe":"e","\ud835\uddf2":"e","\ud835\ude26":"e","\ud835\ude5a":"e","\ud835\ude8e":"e","\uab32":"e","\u0435":"e","\u04bd":"e","\u2df7":"\u0364","\u22ff":"E","\uff25":"E","\u2130":"E","\ud835\udc04":"E","\ud835\udc38":"E","\ud835\udc6c":"E","\ud835\udcd4":"E","\ud835\udd08":"E","\ud835\udd3c":"E","\ud835\udd70":"E","\ud835\udda4":"E","\ud835\uddd8":"E","\ud835\ude0c":"E","\ud835\ude40":"E","\ud835\ude74":"E","\u0395":"E","\ud835\udeac":"E","\ud835\udee6":"E","\ud835\udf20":"E","\ud835\udf5a":"E","\ud835\udf94":"E","\u0415":"E","\u2d39":"E","\u13ac":"E","\ua4f0":"E","\ud806\udca6":"E","\ud806\udcae":"E","\ud800\ude86":"E","\u011b":"\u0115","\u011a":"\u0114","\u0247":"e\u0338","\u0246":"E\u0338","\u04bf":"e\u0328","\uab7c":"\u1d07","\u0259":"\u01dd","\u04d9":"\u01dd","\u2203":"\u018e","\u2d3a":"\u018e","\ua4f1":"\u018e","\u025a":"\u01dd\u02de","\u1d14":"\u01ddo","\uab41":"\u01ddo\u0338","\uab42":"\u01ddo\u0335","\u04d8":"\u018f","\ud834\ude21":"\u0190","\u2107":"\u0190","\u0510":"\u0190","\u13cb":"\u0190","\ud81b\udf2d":"\u0190","\ud801\udc01":"\u0190","\u1d9f":"\u1d4b","\u1d08":"\u025c","\u0437":"\u025c","\u0499":"\u025c\u0326","\ud801\udc42":"\u025e","\ua79d":"\u029a","\ud801\udc2a":"\u029a","\ud835\udc1f":"f","\ud835\udc53":"f","\ud835\udc87":"f","\ud835\udcbb":"f","\ud835\udcef":"f","\ud835\udd23":"f","\ud835\udd57":"f","\ud835\udd8b":"f","\ud835\uddbf":"f","\ud835\uddf3":"f","\ud835\ude27":"f","\ud835\ude5b":"f","\ud835\ude8f":"f","\uab35":"f","\ua799":"f","\u017f":"f","\u1e9d":"f","\u0584":"f","\ud834\ude13":"F","\u2131":"F","\ud835\udc05":"F","\ud835\udc39":"F","\ud835\udc6d":"F","\ud835\udcd5":"F","\ud835\udd09":"F","\ud835\udd3d":"F","\ud835\udd71":"F","\ud835\udda5":"F","\ud835\uddd9":"F","\ud835\ude0d":"F","\ud835\ude41":"F","\ud835\ude75":"F","\ua798":"F","\u03dc":"F","\ud835\udfca":"F","\u15b4":"F","\ua4dd":"F","\ud806\udcc2":"F","\ud806\udca2":"F","\ud800\ude87":"F","\ud800\udea5":"F","\ud801\udd25":"F","\u0192":"f\u0326","\u0191":"F\u0326","\u1d6e":"f\u0334","\u213b":"FAX","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u02a9":"f\u014b","\u15b5":"\u2132","\ua4de":"\u2132","\ud834\ude30":"\ua7fb","\u15b7":"\ua7fb","\uff47":"g","\u210a":"g","\ud835\udc20":"g","\ud835\udc54":"g","\ud835\udc88":"g","\ud835\udcf0":"g","\ud835\udd24":"g","\ud835\udd58":"g","\ud835\udd8c":"g","\ud835\uddc0":"g","\ud835\uddf4":"g","\ud835\ude28":"g","\ud835\ude5c":"g","\ud835\ude90":"g","\u0261":"g","\u1d83":"g","\u018d":"g","\u0581":"g","\ud835\udc06":"G","\ud835\udc3a":"G","\ud835\udc6e":"G","\ud835\udca2":"G","\ud835\udcd6":"G","\ud835\udd0a":"G","\ud835\udd3e":"G","\ud835\udd72":"G","\ud835\udda6":"G","\ud835\uddda":"G","\ud835\ude0e":"G","\ud835\ude42":"G","\ud835\ude76":"G","\u050c":"G","\u13c0":"G","\u13f3":"G","\ua4d6":"G","\u1da2":"\u1d4d","\u0260":"g\u0314","\u01e7":"\u011f","\u01e6":"\u011e","\u01f5":"\u0123","\u01e5":"g\u0335","\u01e4":"G\u0335","\u0193":"G'","\u050d":"\u0262","\uab90":"\u0262","\u13fb":"\u0262","\uff48":"h","\u210e":"h","\ud835\udc21":"h","\ud835\udc89":"h","\ud835\udcbd":"h","\ud835\udcf1":"h","\ud835\udd25":"h","\ud835\udd59":"h","\ud835\udd8d":"h","\ud835\uddc1":"h","\ud835\uddf5":"h","\ud835\ude29":"h","\ud835\ude5d":"h","\ud835\ude91":"h","\u04bb":"h","\u0570":"h","\u13c2":"h","\uff28":"H","\u210b":"H","\u210c":"H","\u210d":"H","\ud835\udc07":"H","\ud835\udc3b":"H","\ud835\udc6f":"H","\ud835\udcd7":"H","\ud835\udd73":"H","\ud835\udda7":"H","\ud835\udddb":"H","\ud835\ude0f":"H","\ud835\ude43":"H","\ud835\ude77":"H","\u0397":"H","\ud835\udeae":"H","\ud835\udee8":"H","\ud835\udf22":"H","\ud835\udf5c":"H","\ud835\udf96":"H","\u2c8e":"H","\u041d":"H","\u13bb":"H","\u157c":"H","\ua4e7":"H","\ud800\udecf":"H","\u1d78":"\u1d34","\u0266":"h\u0314","\ua695":"h\u0314","\u13f2":"h\u0314","\u2c67":"H\u0329","\u04a2":"H\u0329","\u0127":"h\u0335","\u210f":"h\u0335","\u045b":"h\u0335","\u0126":"H\u0335","\u04c9":"H\u0326","\u04c7":"H\u0326","\u043d":"\u029c","\uab8b":"\u029c","\u04a3":"\u029c\u0329","\u04ca":"\u029c\u0326","\u04c8":"\u029c\u0326","\u050a":"\u01f6","\uab80":"\u2c76","\u0370":"\u2c75","\u13a8":"\u2c75","\u13b0":"\u2c75","\ua6b1":"\u2c75","\ua795":"\ua727","\u02db":"i","\u2373":"i","\uff49":"i","\u2170":"i","\u2139":"i","\u2148":"i","\ud835\udc22":"i","\ud835\udc56":"i","\ud835\udc8a":"i","\ud835\udcbe":"i","\ud835\udcf2":"i","\ud835\udd26":"i","\ud835\udd5a":"i","\ud835\udd8e":"i","\ud835\uddc2":"i","\ud835\uddf6":"i","\ud835\ude2a":"i","\ud835\ude5e":"i","\ud835\ude92":"i","\u0131":"i","\ud835\udea4":"i","\u026a":"i","\u0269":"i","\u03b9":"i","\u1fbe":"i","\u037a":"i","\ud835\udeca":"i","\ud835\udf04":"i","\ud835\udf3e":"i","\ud835\udf78":"i","\ud835\udfb2":"i","\u0456":"i","\ua647":"i","\u04cf":"i","\uab75":"i","\u13a5":"i","\ud806\udcc3":"i","\u24db":"\u24be","\u2378":"i\u0332","\u01d0":"\u012d","\u01cf":"\u012c","\u0268":"i\u0335","\u1d7b":"i\u0335","\u1d7c":"i\u0335","\u2171":"ii","\u2172":"iii","\u0133":"ij","\u2173":"iv","\u2178":"ix","\uff4a":"j","\u2149":"j","\ud835\udc23":"j","\ud835\udc57":"j","\ud835\udc8b":"j","\ud835\udcbf":"j","\ud835\udcf3":"j","\ud835\udd27":"j","\ud835\udd5b":"j","\ud835\udd8f":"j","\ud835\uddc3":"j","\ud835\uddf7":"j","\ud835\ude2b":"j","\ud835\ude5f":"j","\ud835\ude93":"j","\u03f3":"j","\u0458":"j","\uff2a":"J","\ud835\udc09":"J","\ud835\udc3d":"J","\ud835\udc71":"J","\ud835\udca5":"J","\ud835\udcd9":"J","\ud835\udd0d":"J","\ud835\udd41":"J","\ud835\udd75":"J","\ud835\udda9":"J","\ud835\udddd":"J","\ud835\ude11":"J","\ud835\ude45":"J","\ud835\ude79":"J","\ua7b2":"J","\u037f":"J","\u0408":"J","\u13ab":"J","\u148d":"J","\ua4d9":"J","\u0249":"j\u0335","\u0248":"J\u0335","\u1499":"J\xb7","\ud835\udea5":"\u0237","\u0575":"\u0237","\uab7b":"\u1d0a","\ud835\udc24":"k","\ud835\udc58":"k","\ud835\udc8c":"k","\ud835\udcc0":"k","\ud835\udcf4":"k","\ud835\udd28":"k","\ud835\udd5c":"k","\ud835\udd90":"k","\ud835\uddc4":"k","\ud835\uddf8":"k","\ud835\ude2c":"k","\ud835\ude60":"k","\ud835\ude94":"k","\u212a":"K","\uff2b":"K","\ud835\udc0a":"K","\ud835\udc3e":"K","\ud835\udc72":"K","\ud835\udca6":"K","\ud835\udcda":"K","\ud835\udd0e":"K","\ud835\udd42":"K","\ud835\udd76":"K","\ud835\uddaa":"K","\ud835\uddde":"K","\ud835\ude12":"K","\ud835\ude46":"K","\ud835\ude7a":"K","\u039a":"K","\ud835\udeb1":"K","\ud835\udeeb":"K","\ud835\udf25":"K","\ud835\udf5f":"K","\ud835\udf99":"K","\u2c94":"K","\u041a":"K","\u13e6":"K","\u16d5":"K","\ua4d7":"K","\ud801\udd18":"K","\u0199":"k\u0314","\u2c69":"K\u0329","\u049a":"K\u0329","\u20ad":"K\u0335","\ua740":"K\u0335","\u049e":"K\u0335","\u0198":"K'","\u05c0":"l","|":"l","\u2223":"l","\u23fd":"l","\uffe8":"l","\u0661":"l","\u06f1":"l","\ud800\udf20":"l","\ud83a\udcc7":"l","\ud835\udfcf":"l","\ud835\udfd9":"l","\ud835\udfe3":"l","\ud835\udfed":"l","\ud835\udff7":"l","\ud83e\udff1":"l",I:"l","\uff29":"l","\u2160":"l","\u2110":"l","\u2111":"l","\ud835\udc08":"l","\ud835\udc3c":"l","\ud835\udc70":"l","\ud835\udcd8":"l","\ud835\udd40":"l","\ud835\udd74":"l","\ud835\udda8":"l","\ud835\udddc":"l","\ud835\ude10":"l","\ud835\ude44":"l","\ud835\ude78":"l","\u0196":"l","\uff4c":"l","\u217c":"l","\u2113":"l","\ud835\udc25":"l","\ud835\udc59":"l","\ud835\udc8d":"l","\ud835\udcc1":"l","\ud835\udcf5":"l","\ud835\udd29":"l","\ud835\udd5d":"l","\ud835\udd91":"l","\ud835\uddc5":"l","\ud835\uddf9":"l","\ud835\ude2d":"l","\ud835\ude61":"l","\ud835\ude95":"l","\u01c0":"l","\u0399":"l","\ud835\udeb0":"l","\ud835\udeea":"l","\ud835\udf24":"l","\ud835\udf5e":"l","\ud835\udf98":"l","\u2c92":"l","\u0406":"l","\u04c0":"l","\u05d5":"l","\u05df":"l","\u0627":"l","\ud83b\ude00":"l","\ud83b\ude80":"l","\ufe8e":"l","\ufe8d":"l","\u07ca":"l","\u2d4f":"l","\u16c1":"l","\ua4f2":"l","\ud81b\udf28":"l","\ud800\ude8a":"l","\ud800\udf09":"l","\ud834\ude2a":"L","\u216c":"L","\u2112":"L","\ud835\udc0b":"L","\ud835\udc3f":"L","\ud835\udc73":"L","\ud835\udcdb":"L","\ud835\udd0f":"L","\ud835\udd43":"L","\ud835\udd77":"L","\ud835\uddab":"L","\ud835\udddf":"L","\ud835\ude13":"L","\ud835\ude47":"L","\ud835\ude7b":"L","\u2cd0":"L","\u13de":"L","\u14aa":"L","\ua4e1":"L","\ud81b\udf16":"L","\ud806\udca3":"L","\ud806\udcb2":"L","\ud801\udc1b":"L","\ud801\udd26":"L","\ufd3c":"l\u030b","\ufd3d":"l\u030b","\u0142":"l\u0338","\u0141":"L\u0338","\u026d":"l\u0328","\u0197":"l\u0335","\u019a":"l\u0335","\u026b":"l\u0334","\u0625":"l\u0655","\ufe88":"l\u0655","\ufe87":"l\u0655","\u0673":"l\u0655","\u0140":"l\xb7","\u013f":"l\xb7","\u14b7":"l\xb7","\ud83c\udd02":"l,","\u2488":"l.","\u05f1":"l'","\u2493":"l2.","\u33eb":"l2\u65e5","\u32cb":"l2\u6708","\u3364":"l2\u70b9","\u2494":"l3.","\u33ec":"l3\u65e5","\u3365":"l3\u70b9","\u2495":"l4.","\u33ed":"l4\u65e5","\u3366":"l4\u70b9","\u2496":"l5.","\u33ee":"l5\u65e5","\u3367":"l5\u70b9","\u2497":"l6.","\u33ef":"l6\u65e5","\u3368":"l6\u70b9","\u2498":"l7.","\u33f0":"l7\u65e5","\u3369":"l7\u70b9","\u2499":"l8.","\u33f1":"l8\u65e5","\u336a":"l8\u70b9","\u249a":"l9.","\u33f2":"l9\u65e5","\u336b":"l9\u70b9","\u01c9":"lj","\u0132":"lJ","\u01c8":"Lj","\u01c7":"LJ","\u2016":"ll","\u2225":"ll","\u2161":"ll","\u01c1":"ll","\u05f0":"ll","\ud800\udd99":"l\u0335l\u0335","\u2492":"ll.","\u2162":"lll","\ud800\udd98":"l\u0335l\u0335S\u0335","\u33ea":"ll\u65e5","\u32ca":"ll\u6708","\u3363":"ll\u70b9","\u042e":"lO","\u2491":"lO.","\u33e9":"lO\u65e5","\u32c9":"lO\u6708","\u3362":"lO\u70b9","\u02aa":"ls","\u20b6":"lt","\u2163":"lV","\u2168":"lX","\u026e":"l\u021d","\u02ab":"lz","\u0623":"l\u0674","\ufe84":"l\u0674","\ufe83":"l\u0674","\u0672":"l\u0674","\u0675":"l\u0674","\ufdf3":"l\u0643\u0628\u0631","\ufdf2":"l\u0644\u0644\u0651\u0670o","\u33e0":"l\u65e5","\u32c0":"l\u6708","\u3359":"l\u70b9","\u2cd1":"\u029f","\uabae":"\u029f","\ud801\udc43":"\u029f","\uff2d":"M","\u216f":"M","\u2133":"M","\ud835\udc0c":"M","\ud835\udc40":"M","\ud835\udc74":"M","\ud835\udcdc":"M","\ud835\udd10":"M","\ud835\udd44":"M","\ud835\udd78":"M","\ud835\uddac":"M","\ud835\udde0":"M","\ud835\ude14":"M","\ud835\ude48":"M","\ud835\ude7c":"M","\u039c":"M","\ud835\udeb3":"M","\ud835\udeed":"M","\ud835\udf27":"M","\ud835\udf61":"M","\ud835\udf9b":"M","\u03fa":"M","\u2c98":"M","\u041c":"M","\u13b7":"M","\u15f0":"M","\u16d6":"M","\ua4df":"M","\ud800\udeb0":"M","\ud800\udf11":"M","\u04cd":"M\u0326","\ud83d\udf6b":"MB","\u2de8":"\u1ddf","\ud835\udc27":"n","\ud835\udc5b":"n","\ud835\udc8f":"n","\ud835\udcc3":"n","\ud835\udcf7":"n","\ud835\udd2b":"n","\ud835\udd5f":"n","\ud835\udd93":"n","\ud835\uddc7":"n","\ud835\uddfb":"n","\ud835\ude2f":"n","\ud835\ude63":"n","\ud835\ude97":"n","\u0578":"n","\u057c":"n","\uff2e":"N","\u2115":"N","\ud835\udc0d":"N","\ud835\udc41":"N","\ud835\udc75":"N","\ud835\udca9":"N","\ud835\udcdd":"N","\ud835\udd11":"N","\ud835\udd79":"N","\ud835\uddad":"N","\ud835\udde1":"N","\ud835\ude15":"N","\ud835\ude49":"N","\ud835\ude7d":"N","\u039d":"N","\ud835\udeb4":"N","\ud835\udeee":"N","\ud835\udf28":"N","\ud835\udf62":"N","\ud835\udf9c":"N","\u2c9a":"N","\ua4e0":"N","\ud801\udd13":"N","\ud800\udd8e":"N\u030a","\u0273":"n\u0328","\u019e":"n\u0329","\u03b7":"n\u0329","\ud835\udec8":"n\u0329","\ud835\udf02":"n\u0329","\ud835\udf3c":"n\u0329","\ud835\udf76":"n\u0329","\ud835\udfb0":"n\u0329","\u019d":"N\u0326","\u1d70":"n\u0334","\u01cc":"nj","\u01cb":"Nj","\u01ca":"NJ","\u2116":"No","\u0377":"\u1d0e","\u0438":"\u1d0e","\ud801\udc4d":"\u1d0e","\u0146":"\u0272","\u0c02":"o","\u0c82":"o","\u0d02":"o","\u0d82":"o","\u0966":"o","\u0a66":"o","\u0ae6":"o","\u0be6":"o","\u0c66":"o","\u0ce6":"o","\u0d66":"o","\u0e50":"o","\u0ed0":"o","\u1040":"o","\u0665":"o","\u06f5":"o","\uff4f":"o","\u2134":"o","\ud835\udc28":"o","\ud835\udc5c":"o","\ud835\udc90":"o","\ud835\udcf8":"o","\ud835\udd2c":"o","\ud835\udd60":"o","\ud835\udd94":"o","\ud835\uddc8":"o","\ud835\uddfc":"o","\ud835\ude30":"o","\ud835\ude64":"o","\ud835\ude98":"o","\u1d0f":"o","\u1d11":"o","\uab3d":"o","\u03bf":"o","\ud835\uded0":"o","\ud835\udf0a":"o","\ud835\udf44":"o","\ud835\udf7e":"o","\ud835\udfb8":"o","\u03c3":"o","\ud835\uded4":"o","\ud835\udf0e":"o","\ud835\udf48":"o","\ud835\udf82":"o","\ud835\udfbc":"o","\u2c9f":"o","\u043e":"o","\u10ff":"o","\u0585":"o","\u05e1":"o","\u0647":"o","\ud83b\ude24":"o","\ud83b\ude64":"o","\ud83b\ude84":"o","\ufeeb":"o","\ufeec":"o","\ufeea":"o","\ufee9":"o","\u06be":"o","\ufbac":"o","\ufbad":"o","\ufbab":"o","\ufbaa":"o","\u06c1":"o","\ufba8":"o","\ufba9":"o","\ufba7":"o","\ufba6":"o","\u06d5":"o","\u0d20":"o","\u101d":"o","\ud801\udcea":"o","\ud806\udcc8":"o","\ud806\udcd7":"o","\ud801\udc2c":"o","\u07c0":"O","\u09e6":"O","\u0b66":"O","\u3007":"O","\ud805\udcd0":"O","\ud806\udce0":"O","\ud835\udfce":"O","\ud835\udfd8":"O","\ud835\udfe2":"O","\ud835\udfec":"O","\ud835\udff6":"O","\ud83e\udff0":"O","\uff2f":"O","\ud835\udc0e":"O","\ud835\udc42":"O","\ud835\udc76":"O","\ud835\udcaa":"O","\ud835\udcde":"O","\ud835\udd12":"O","\ud835\udd46":"O","\ud835\udd7a":"O","\ud835\uddae":"O","\ud835\udde2":"O","\ud835\ude16":"O","\ud835\ude4a":"O","\ud835\ude7e":"O","\u039f":"O","\ud835\udeb6":"O","\ud835\udef0":"O","\ud835\udf2a":"O","\ud835\udf64":"O","\ud835\udf9e":"O","\u2c9e":"O","\u041e":"O","\u0555":"O","\u2d54":"O","\u12d0":"O","\u0b20":"O","\ud801\udcc2":"O","\ua4f3":"O","\ud806\udcb5":"O","\ud800\ude92":"O","\ud800\udeab":"O","\ud801\udc04":"O","\ud801\udd16":"O","\u2070":"\xba","\u1d52":"\xba","\u01d2":"\u014f","\u01d1":"\u014e","\u06ff":"o\u0302","\u0150":"\xd6","\xf8":"o\u0338","\uab3e":"o\u0338","\xd8":"O\u0338","\u2d41":"O\u0338","\u01fe":"O\u0338\u0301","\u0275":"o\u0335","\ua74b":"o\u0335","\u04e9":"o\u0335","\u0473":"o\u0335","\uab8e":"o\u0335","\uabbb":"o\u0335","\u2296":"O\u0335","\u229d":"O\u0335","\u236c":"O\u0335","\ud834\ude1a":"O\u0335","\ud83d\udf14":"O\u0335","\u019f":"O\u0335","\ua74a":"O\u0335","\u03b8":"O\u0335","\u03d1":"O\u0335","\ud835\udec9":"O\u0335","\ud835\udedd":"O\u0335","\ud835\udf03":"O\u0335","\ud835\udf17":"O\u0335","\ud835\udf3d":"O\u0335","\ud835\udf51":"O\u0335","\ud835\udf77":"O\u0335","\ud835\udf8b":"O\u0335","\ud835\udfb1":"O\u0335","\ud835\udfc5":"O\u0335","\u0398":"O\u0335","\u03f4":"O\u0335","\ud835\udeaf":"O\u0335","\ud835\udeb9":"O\u0335","\ud835\udee9":"O\u0335","\ud835\udef3":"O\u0335","\ud835\udf23":"O\u0335","\ud835\udf2d":"O\u0335","\ud835\udf5d":"O\u0335","\ud835\udf67":"O\u0335","\ud835\udf97":"O\u0335","\ud835\udfa1":"O\u0335","\u04e8":"O\u0335","\u0472":"O\u0335","\u2d31":"O\u0335","\u13be":"O\u0335","\u13eb":"O\u0335","\uab74":"o\u031b","\ufcd9":"o\u0670","\ud83c\udd01":"O,","\ud83c\udd00":"O.","\u01a1":"o'","\u01a0":"O'","\u13a4":"O'","%":"\xba/\u2080","\u066a":"\xba/\u2080","\u2052":"\xba/\u2080","\u2030":"\xba/\u2080\u2080","\u0609":"\xba/\u2080\u2080","\u2031":"\xba/\u2080\u2080\u2080","\u060a":"\xba/\u2080\u2080\u2080","\u0153":"oe","\u0152":"OE","\u0276":"o\u1d07","\u221e":"oo","\ua74f":"oo","\ua699":"oo","\ua74e":"OO","\ua698":"OO","\ufcd7":"o\u062c","\ufc51":"o\u062c","\ufcd8":"o\u0645","\ufc52":"o\u0645","\ufd93":"o\u0645\u062c","\ufd94":"o\u0645\u0645","\ufc53":"o\u0649","\ufc54":"o\u0649","\u0d5f":"o\u0d30o","\u1010":"o\u102c","\u3358":"O\u70b9","\u2184":"\u0254","\u1d10":"\u0254","\u037b":"\u0254","\ud801\udc4b":"\u0254","\u2183":"\u0186","\u03fd":"\u0186","\ua4db":"\u0186","\ud801\udc23":"\u0186","\uab3f":"\u0254\u0338","\uab62":"\u0254e","\ud801\udc3f":"\u0277","\u2374":"p","\uff50":"p","\ud835\udc29":"p","\ud835\udc5d":"p","\ud835\udc91":"p","\ud835\udcc5":"p","\ud835\udcf9":"p","\ud835\udd2d":"p","\ud835\udd61":"p","\ud835\udd95":"p","\ud835\uddc9":"p","\ud835\uddfd":"p","\ud835\ude31":"p","\ud835\ude65":"p","\ud835\ude99":"p","\u03c1":"p","\u03f1":"p","\ud835\uded2":"p","\ud835\udee0":"p","\ud835\udf0c":"p","\ud835\udf1a":"p","\ud835\udf46":"p","\ud835\udf54":"p","\ud835\udf80":"p","\ud835\udf8e":"p","\ud835\udfba":"p","\ud835\udfc8":"p","\u2ca3":"p","\u0440":"p","\uff30":"P","\u2119":"P","\ud835\udc0f":"P","\ud835\udc43":"P","\ud835\udc77":"P","\ud835\udcab":"P","\ud835\udcdf":"P","\ud835\udd13":"P","\ud835\udd7b":"P","\ud835\uddaf":"P","\ud835\udde3":"P","\ud835\ude17":"P","\ud835\ude4b":"P","\ud835\ude7f":"P","\u03a1":"P","\ud835\udeb8":"P","\ud835\udef2":"P","\ud835\udf2c":"P","\ud835\udf66":"P","\ud835\udfa0":"P","\u2ca2":"P","\u0420":"P","\u13e2":"P","\u146d":"P","\ua4d1":"P","\ud800\ude95":"P","\u01a5":"p\u0314","\u1d7d":"p\u0335","\u1477":"p\xb7","\u1486":"P'","\u1d29":"\u1d18","\uabb2":"\u1d18","\u03c6":"\u0278","\u03d5":"\u0278","\ud835\uded7":"\u0278","\ud835\udedf":"\u0278","\ud835\udf11":"\u0278","\ud835\udf19":"\u0278","\ud835\udf4b":"\u0278","\ud835\udf53":"\u0278","\ud835\udf85":"\u0278","\ud835\udf8d":"\u0278","\ud835\udfbf":"\u0278","\ud835\udfc7":"\u0278","\u2cab":"\u0278","\u0444":"\u0278","\ud835\udc2a":"q","\ud835\udc5e":"q","\ud835\udc92":"q","\ud835\udcc6":"q","\ud835\udcfa":"q","\ud835\udd2e":"q","\ud835\udd62":"q","\ud835\udd96":"q","\ud835\uddca":"q","\ud835\uddfe":"q","\ud835\ude32":"q","\ud835\ude66":"q","\ud835\ude9a":"q","\u051b":"q","\u0563":"q","\u0566":"q","\u211a":"Q","\ud835\udc10":"Q","\ud835\udc44":"Q","\ud835\udc78":"Q","\ud835\udcac":"Q","\ud835\udce0":"Q","\ud835\udd14":"Q","\ud835\udd7c":"Q","\ud835\uddb0":"Q","\ud835\udde4":"Q","\ud835\ude18":"Q","\ud835\ude4c":"Q","\ud835\ude80":"Q","\u2d55":"Q","\u02a0":"q\u0314","\ud83d\udf00":"QE","\u1d90":"\u024b","\u1d0b":"\u0138","\u03ba":"\u0138","\u03f0":"\u0138","\ud835\udecb":"\u0138","\ud835\udede":"\u0138","\ud835\udf05":"\u0138","\ud835\udf18":"\u0138","\ud835\udf3f":"\u0138","\ud835\udf52":"\u0138","\ud835\udf79":"\u0138","\ud835\udf8c":"\u0138","\ud835\udfb3":"\u0138","\ud835\udfc6":"\u0138","\u2c95":"\u0138","\u043a":"\u0138","\uabb6":"\u0138","\u049b":"\u0138\u0329","\u049f":"\u0138\u0335","\ud835\udc2b":"r","\ud835\udc5f":"r","\ud835\udc93":"r","\ud835\udcc7":"r","\ud835\udcfb":"r","\ud835\udd2f":"r","\ud835\udd63":"r","\ud835\udd97":"r","\ud835\uddcb":"r","\ud835\uddff":"r","\ud835\ude33":"r","\ud835\ude67":"r","\ud835\ude9b":"r","\uab47":"r","\uab48":"r","\u1d26":"r","\u2c85":"r","\u0433":"r","\uab81":"r","\ud834\ude16":"R","\u211b":"R","\u211c":"R","\u211d":"R","\ud835\udc11":"R","\ud835\udc45":"R","\ud835\udc79":"R","\ud835\udce1":"R","\ud835\udd7d":"R","\ud835\uddb1":"R","\ud835\udde5":"R","\ud835\ude19":"R","\ud835\ude4d":"R","\ud835\ude81":"R","\u01a6":"R","\u13a1":"R","\u13d2":"R","\ud801\udcb4":"R","\u1587":"R","\ua4e3":"R","\ud81b\udf35":"R","\u027d":"r\u0328","\u027c":"r\u0329","\u024d":"r\u0335","\u0493":"r\u0335","\u1d72":"r\u0334","\u0491":"r'","\ud806\udce3":"rn",m:"rn","\u217f":"rn","\ud835\udc26":"rn","\ud835\udc5a":"rn","\ud835\udc8e":"rn","\ud835\udcc2":"rn","\ud835\udcf6":"rn","\ud835\udd2a":"rn","\ud835\udd5e":"rn","\ud835\udd92":"rn","\ud835\uddc6":"rn","\ud835\uddfa":"rn","\ud835\ude2e":"rn","\ud835\ude62":"rn","\ud835\ude96":"rn","\ud805\udf00":"rn","\u20a5":"rn\u0338","\u0271":"rn\u0326","\u1d6f":"rn\u0334","\u20a8":"Rs","\uab71":"\u0280","\uaba2":"\u0280","\u044f":"\u1d19","\u1d73":"\u027e\u0334","\u2129":"\u027f","\uff53":"s","\ud835\udc2c":"s","\ud835\udc60":"s","\ud835\udc94":"s","\ud835\udcc8":"s","\ud835\udcfc":"s","\ud835\udd30":"s","\ud835\udd64":"s","\ud835\udd98":"s","\ud835\uddcc":"s","\ud835\ude00":"s","\ud835\ude34":"s","\ud835\ude68":"s","\ud835\ude9c":"s","\ua731":"s","\u01bd":"s","\u0455":"s","\uabaa":"s","\ud806\udcc1":"s","\ud801\udc48":"s","\uff33":"S","\ud835\udc12":"S","\ud835\udc46":"S","\ud835\udc7a":"S","\ud835\udcae":"S","\ud835\udce2":"S","\ud835\udd16":"S","\ud835\udd4a":"S","\ud835\udd7e":"S","\ud835\uddb2":"S","\ud835\udde6":"S","\ud835\ude1a":"S","\ud835\ude4e":"S","\ud835\ude82":"S","\u0405":"S","\u054f":"S","\u13d5":"S","\u13da":"S","\ua4e2":"S","\ud81b\udf3a":"S","\ud800\ude96":"S","\ud801\udc20":"S","\u0282":"s\u0328","\u1d74":"s\u0334","\ua7b5":"\xdf","\u03b2":"\xdf","\u03d0":"\xdf","\ud835\udec3":"\xdf","\ud835\udefd":"\xdf","\ud835\udf37":"\xdf","\ud835\udf71":"\xdf","\ud835\udfab":"\xdf","\u13f0":"\xdf","\ud83d\udf5c":"sss","\ufb06":"st","\u222b":"\u0283","\uab4d":"\u0283","\u2211":"\u01a9","\u2140":"\u01a9","\u03a3":"\u01a9","\ud835\udeba":"\u01a9","\ud835\udef4":"\u01a9","\ud835\udf2e":"\u01a9","\ud835\udf68":"\u01a9","\ud835\udfa2":"\u01a9","\u2d49":"\u01a9","\u222c":"\u0283\u0283","\u222d":"\u0283\u0283\u0283","\u2a0c":"\u0283\u0283\u0283\u0283","\ud835\udc2d":"t","\ud835\udc61":"t","\ud835\udc95":"t","\ud835\udcc9":"t","\ud835\udcfd":"t","\ud835\udd31":"t","\ud835\udd65":"t","\ud835\udd99":"t","\ud835\uddcd":"t","\ud835\ude01":"t","\ud835\ude35":"t","\ud835\ude69":"t","\ud835\ude9d":"t","\u22a4":"T","\u27d9":"T","\ud83d\udf68":"T","\uff34":"T","\ud835\udc13":"T","\ud835\udc47":"T","\ud835\udc7b":"T","\ud835\udcaf":"T","\ud835\udce3":"T","\ud835\udd17":"T","\ud835\udd4b":"T","\ud835\udd7f":"T","\ud835\uddb3":"T","\ud835\udde7":"T","\ud835\ude1b":"T","\ud835\ude4f":"T","\ud835\ude83":"T","\u03a4":"T","\ud835\udebb":"T","\ud835\udef5":"T","\ud835\udf2f":"T","\ud835\udf69":"T","\ud835\udfa3":"T","\u2ca6":"T","\u0422":"T","\u13a2":"T","\ua4d4":"T","\ud81b\udf0a":"T","\ud806\udcbc":"T","\ud800\ude97":"T","\ud800\udeb1":"T","\ud800\udf15":"T","\u01ad":"t\u0314","\u2361":"T\u0308","\u023e":"T\u0338","\u021a":"\u0162","\u01ae":"T\u0328","\u04ac":"T\u0329","\u20ae":"T\u20eb","\u0167":"t\u0335","\u0166":"T\u0335","\u1d75":"t\u0334","\u10a0":"\ua786","\ua728":"T3","\u02a8":"t\u0255","\u2121":"TEL","\ua777":"tf","\u02a6":"ts","\u02a7":"t\u0283","\ua729":"t\u021d","\u03c4":"\u1d1b","\ud835\uded5":"\u1d1b","\ud835\udf0f":"\u1d1b","\ud835\udf49":"\u1d1b","\ud835\udf83":"\u1d1b","\ud835\udfbd":"\u1d1b","\u0442":"\u1d1b","\uab72":"\u1d1b","\u04ad":"\u1d1b\u0329","\u0163":"\u01ab","\u021b":"\u01ab","\u13bf":"\u01ab","\ud835\udc2e":"u","\ud835\udc62":"u","\ud835\udc96":"u","\ud835\udcca":"u","\ud835\udcfe":"u","\ud835\udd32":"u","\ud835\udd66":"u","\ud835\udd9a":"u","\ud835\uddce":"u","\ud835\ude02":"u","\ud835\ude36":"u","\ud835\ude6a":"u","\ud835\ude9e":"u","\ua79f":"u","\u1d1c":"u","\uab4e":"u","\uab52":"u","\u028b":"u","\u03c5":"u","\ud835\uded6":"u","\ud835\udf10":"u","\ud835\udf4a":"u","\ud835\udf84":"u","\ud835\udfbe":"u","\u057d":"u","\ud801\udcf6":"u","\ud806\udcd8":"u","\u222a":"U","\u22c3":"U","\ud835\udc14":"U","\ud835\udc48":"U","\ud835\udc7c":"U","\ud835\udcb0":"U","\ud835\udce4":"U","\ud835\udd18":"U","\ud835\udd4c":"U","\ud835\udd80":"U","\ud835\uddb4":"U","\ud835\udde8":"U","\ud835\ude1c":"U","\ud835\ude50":"U","\ud835\ude84":"U","\u054d":"U","\u1200":"U","\ud801\udcce":"U","\u144c":"U","\ua4f4":"U","\ud81b\udf42":"U","\ud806\udcb8":"U","\u01d4":"\u016d","\u01d3":"\u016c","\u1d7e":"u\u0335","\uab9c":"u\u0335","\u0244":"U\u0335","\u13cc":"U\u0335","\u1458":"U\xb7","\u1467":"U'","\u1d6b":"ue","\uab63":"uo","\u1e43":"\uab51","\u057a":"\u0270","\u1223":"\u0270","\u2127":"\u01b1","\u162e":"\u01b1","\u1634":"\u01b1","\u1d7f":"\u028a\u0335","\u2228":"v","\u22c1":"v","\uff56":"v","\u2174":"v","\ud835\udc2f":"v","\ud835\udc63":"v","\ud835\udc97":"v","\ud835\udccb":"v","\ud835\udcff":"v","\ud835\udd33":"v","\ud835\udd67":"v","\ud835\udd9b":"v","\ud835\uddcf":"v","\ud835\ude03":"v","\ud835\ude37":"v","\ud835\ude6b":"v","\ud835\ude9f":"v","\u1d20":"v","\u03bd":"v","\ud835\udece":"v","\ud835\udf08":"v","\ud835\udf42":"v","\ud835\udf7c":"v","\ud835\udfb6":"v","\u0475":"v","\u05d8":"v","\ud805\udf06":"v","\uaba9":"v","\ud806\udcc0":"v","\ud834\ude0d":"V","\u0667":"V","\u06f7":"V","\u2164":"V","\ud835\udc15":"V","\ud835\udc49":"V","\ud835\udc7d":"V","\ud835\udcb1":"V","\ud835\udce5":"V","\ud835\udd19":"V","\ud835\udd4d":"V","\ud835\udd81":"V","\ud835\uddb5":"V","\ud835\udde9":"V","\ud835\ude1d":"V","\ud835\ude51":"V","\ud835\ude85":"V","\u0474":"V","\u2d38":"V","\u13d9":"V","\u142f":"V","\ua6df":"V","\ua4e6":"V","\ud81b\udf08":"V","\ud806\udca0":"V","\ud801\udd1d":"V","\ud800\udd97":"V\u0335","\u143b":"V\xb7","\ud83d\udf6c":"VB","\u2175":"vi","\u2176":"vii","\u2177":"viii","\u2165":"Vl","\u2166":"Vll","\u2167":"Vlll","\ud83d\udf08":"V\u1de4","\u1d27":"\u028c","\ud801\udcd8":"\u028c","\u0668":"\u0245","\u06f8":"\u0245","\u039b":"\u0245","\ud835\udeb2":"\u0245","\ud835\udeec":"\u0245","\ud835\udf26":"\u0245","\ud835\udf60":"\u0245","\ud835\udf9a":"\u0245","\u041b":"\u0245","\u2d37":"\u0245","\ud801\udcb0":"\u0245","\u1431":"\u0245","\ua6ce":"\u0245","\ua4e5":"\u0245","\ud81b\udf3d":"\u0245","\ud800\ude8d":"\u0245","\u04c5":"\u0245\u0326","\u143d":"\u0245\xb7","\u026f":"w","\ud835\udc30":"w","\ud835\udc64":"w","\ud835\udc98":"w","\ud835\udccc":"w","\ud835\udd00":"w","\ud835\udd34":"w","\ud835\udd68":"w","\ud835\udd9c":"w","\ud835\uddd0":"w","\ud835\ude04":"w","\ud835\ude38":"w","\ud835\ude6c":"w","\ud835\udea0":"w","\u1d21":"w","\u0461":"w","\u051d":"w","\u0561":"w","\ud805\udf0a":"w","\ud805\udf0e":"w","\ud805\udf0f":"w","\uab83":"w","\ud806\udcef":"W","\ud806\udce6":"W","\ud835\udc16":"W","\ud835\udc4a":"W","\ud835\udc7e":"W","\ud835\udcb2":"W","\ud835\udce6":"W","\ud835\udd1a":"W","\ud835\udd4e":"W","\ud835\udd82":"W","\ud835\uddb6":"W","\ud835\uddea":"W","\ud835\ude1e":"W","\ud835\ude52":"W","\ud835\ude86":"W","\u051c":"W","\u13b3":"W","\u13d4":"W","\ua4ea":"W","\u047d":"w\u0486\u0487","\ud805\udcc5":"w\u0307","\u20a9":"W\u0335","\ua761":"w\u0326","\u1d0d":"\u028d","\u043c":"\u028d","\uab87":"\u028d","\u04ce":"\u028d\u0326","\u166e":"x","\xd7":"x","\u292b":"x","\u292c":"x","\u2a2f":"x","\uff58":"x","\u2179":"x","\ud835\udc31":"x","\ud835\udc65":"x","\ud835\udc99":"x","\ud835\udccd":"x","\ud835\udd01":"x","\ud835\udd35":"x","\ud835\udd69":"x","\ud835\udd9d":"x","\ud835\uddd1":"x","\ud835\ude05":"x","\ud835\ude39":"x","\ud835\ude6d":"x","\ud835\udea1":"x","\u0445":"x","\u1541":"x","\u157d":"x","\u2def":"\u036f","\u166d":"X","\u2573":"X","\ud800\udf22":"X","\ud806\udcec":"X","\uff38":"X","\u2169":"X","\ud835\udc17":"X","\ud835\udc4b":"X","\ud835\udc7f":"X","\ud835\udcb3":"X","\ud835\udce7":"X","\ud835\udd1b":"X","\ud835\udd4f":"X","\ud835\udd83":"X","\ud835\uddb7":"X","\ud835\uddeb":"X","\ud835\ude1f":"X","\ud835\ude53":"X","\ud835\ude87":"X","\ua7b3":"X","\u03a7":"X","\ud835\udebe":"X","\ud835\udef8":"X","\ud835\udf32":"X","\ud835\udf6c":"X","\ud835\udfa6":"X","\u2cac":"X","\u0425":"X","\u2d5d":"X","\u16b7":"X","\ua4eb":"X","\ud800\ude90":"X","\ud800\udeb4":"X","\ud800\udf17":"X","\ud801\udd27":"X","\u2a30":"x\u0307","\u04b2":"X\u0329","\ud800\udd96":"X\u0335","\u217a":"xi","\u217b":"xii","\u216a":"Xl","\u216b":"Xll","\u0263":"y","\u1d8c":"y","\uff59":"y","\ud835\udc32":"y","\ud835\udc66":"y","\ud835\udc9a":"y","\ud835\udcce":"y","\ud835\udd02":"y","\ud835\udd36":"y","\ud835\udd6a":"y","\ud835\udd9e":"y","\ud835\uddd2":"y","\ud835\ude06":"y","\ud835\ude3a":"y","\ud835\ude6e":"y","\ud835\udea2":"y","\u028f":"y","\u1eff":"y","\uab5a":"y","\u03b3":"y","\u213d":"y","\ud835\udec4":"y","\ud835\udefe":"y","\ud835\udf38":"y","\ud835\udf72":"y","\ud835\udfac":"y","\u0443":"y","\u04af":"y","\u10e7":"y","\ud806\udcdc":"y","\uff39":"Y","\ud835\udc18":"Y","\ud835\udc4c":"Y","\ud835\udc80":"Y","\ud835\udcb4":"Y","\ud835\udce8":"Y","\ud835\udd1c":"Y","\ud835\udd50":"Y","\ud835\udd84":"Y","\ud835\uddb8":"Y","\ud835\uddec":"Y","\ud835\ude20":"Y","\ud835\ude54":"Y","\ud835\ude88":"Y","\u03a5":"Y","\u03d2":"Y","\ud835\udebc":"Y","\ud835\udef6":"Y","\ud835\udf30":"Y","\ud835\udf6a":"Y","\ud835\udfa4":"Y","\u2ca8":"Y","\u0423":"Y","\u04ae":"Y","\u13a9":"Y","\u13bd":"Y","\ua4ec":"Y","\ud81b\udf43":"Y","\ud806\udca4":"Y","\ud800\udeb2":"Y","\u01b4":"y\u0314","\u024f":"y\u0335","\u04b1":"y\u0335","\xa5":"Y\u0335","\u024e":"Y\u0335","\u04b0":"Y\u0335","\u0292":"\u021d","\ua76b":"\u021d","\u2ccd":"\u021d","\u04e1":"\u021d","\u10f3":"\u021d","\ud835\udc33":"z","\ud835\udc67":"z","\ud835\udc9b":"z","\ud835\udccf":"z","\ud835\udd03":"z","\ud835\udd37":"z","\ud835\udd6b":"z","\ud835\udd9f":"z","\ud835\uddd3":"z","\ud835\ude07":"z","\ud835\ude3b":"z","\ud835\ude6f":"z","\ud835\udea3":"z","\u1d22":"z","\uab93":"z","\ud806\udcc4":"z","\ud800\udef5":"Z","\ud806\udce5":"Z","\uff3a":"Z","\u2124":"Z","\u2128":"Z","\ud835\udc19":"Z","\ud835\udc4d":"Z","\ud835\udc81":"Z","\ud835\udcb5":"Z","\ud835\udce9":"Z","\ud835\udd85":"Z","\ud835\uddb9":"Z","\ud835\udded":"Z","\ud835\ude21":"Z","\ud835\ude55":"Z","\ud835\ude89":"Z","\u0396":"Z","\ud835\udead":"Z","\ud835\udee7":"Z","\ud835\udf21":"Z","\ud835\udf5b":"Z","\ud835\udf95":"Z","\u13c3":"Z","\ua4dc":"Z","\ud806\udca9":"Z","\u0290":"z\u0328","\u01b6":"z\u0335","\u01b5":"Z\u0335","\u0225":"z\u0326","\u0224":"Z\u0326","\u1d76":"z\u0334","\u01bf":"\xfe","\u03f8":"\xfe","\u03f7":"\xde","\ud801\udcc4":"\xde","\u2079":"\ua770","\u1d24":"\u01a8","\u03e9":"\u01a8","\ua645":"\u01a8","\u044c":"\u0185","\uab9f":"\u0185","\u044b":"\u0185i","\uab7e":"\u0242","\u02e4":"\u02c1","\ua6cd":"\u02a1","\u2299":"\u0298","\u2609":"\u0298","\u2a00":"\u0298","\ua668":"\u0298","\u2d59":"\u0298","\ud801\udcc3":"\u0298","\u213e":"\u0393","\ud835\udeaa":"\u0393","\ud835\udee4":"\u0393","\ud835\udf1e":"\u0393","\ud835\udf58":"\u0393","\ud835\udf92":"\u0393","\u2c84":"\u0393","\u0413":"\u0393","\u13b1":"\u0393","\u14a5":"\u0393","\ud81b\udf07":"\u0393","\u0492":"\u0393\u0335","\u14af":"\u0393\xb7","\u0490":"\u0393'","\u2206":"\u0394","\u25b3":"\u0394","\ud83d\udf02":"\u0394","\ud835\udeab":"\u0394","\ud835\udee5":"\u0394","\ud835\udf1f":"\u0394","\ud835\udf59":"\u0394","\ud835\udf93":"\u0394","\u2c86":"\u0394","\u2d60":"\u0394","\u1403":"\u0394","\ud81b\udf1a":"\u0394","\ud800\ude85":"\u0394","\ud800\udea3":"\u0394","\u2359":"\u0394\u0332","\u140f":"\u0394\xb7","\u142c":"\u0394\u1420","\ud835\udfcb":"\u03dd","\ud835\udec7":"\u03b6","\ud835\udf01":"\u03b6","\ud835\udf3b":"\u03b6","\ud835\udf75":"\u03b6","\ud835\udfaf":"\u03b6","\u2ce4":"\u03d7","\ud835\udecc":"\u03bb","\ud835\udf06":"\u03bb","\ud835\udf40":"\u03bb","\ud835\udf7a":"\u03bb","\ud835\udfb4":"\u03bb","\u2c96":"\u03bb","\ud801\udcdb":"\u03bb","\xb5":"\u03bc","\ud835\udecd":"\u03bc","\ud835\udf07":"\u03bc","\ud835\udf41":"\u03bc","\ud835\udf7b":"\u03bc","\ud835\udfb5":"\u03bc","\ud835\udecf":"\u03be","\ud835\udf09":"\u03be","\ud835\udf43":"\u03be","\ud835\udf7d":"\u03be","\ud835\udfb7":"\u03be","\ud835\udeb5":"\u039e","\ud835\udeef":"\u039e","\ud835\udf29":"\u039e","\ud835\udf63":"\u039e","\ud835\udf9d":"\u039e","\u03d6":"\u03c0","\u213c":"\u03c0","\ud835\uded1":"\u03c0","\ud835\udee1":"\u03c0","\ud835\udf0b":"\u03c0","\ud835\udf1b":"\u03c0","\ud835\udf45":"\u03c0","\ud835\udf55":"\u03c0","\ud835\udf7f":"\u03c0","\ud835\udf8f":"\u03c0","\ud835\udfb9":"\u03c0","\ud835\udfc9":"\u03c0","\u1d28":"\u03c0","\u043f":"\u03c0","\u220f":"\u03a0","\u213f":"\u03a0","\ud835\udeb7":"\u03a0","\ud835\udef1":"\u03a0","\ud835\udf2b":"\u03a0","\ud835\udf65":"\u03a0","\ud835\udf9f":"\u03a0","\u2ca0":"\u03a0","\u041f":"\u03a0","\ua6db":"\u03a0","\ud800\udead":"\u03d8","\ud800\udf12":"\u03d8","\u03db":"\u03c2","\ud835\uded3":"\u03c2","\ud835\udf0d":"\u03c2","\ud835\udf47":"\u03c2","\ud835\udf81":"\u03c2","\ud835\udfbb":"\u03c2","\ud835\udebd":"\u03a6","\ud835\udef7":"\u03a6","\ud835\udf31":"\u03a6","\ud835\udf6b":"\u03a6","\ud835\udfa5":"\u03a6","\u2caa":"\u03a6","\u0424":"\u03a6","\u0553":"\u03a6","\u1240":"\u03a6","\u16f0":"\u03a6","\ud800\udeb3":"\u03a6","\uab53":"\u03c7","\uab55":"\u03c7","\ud835\uded8":"\u03c7","\ud835\udf12":"\u03c7","\ud835\udf4c":"\u03c7","\ud835\udf86":"\u03c7","\ud835\udfc0":"\u03c7","\u2cad":"\u03c7","\ud835\uded9":"\u03c8","\ud835\udf13":"\u03c8","\ud835\udf4d":"\u03c8","\ud835\udf87":"\u03c8","\ud835\udfc1":"\u03c8","\u0471":"\u03c8","\ud801\udcf9":"\u03c8","\ud835\udebf":"\u03a8","\ud835\udef9":"\u03a8","\ud835\udf33":"\u03a8","\ud835\udf6d":"\u03a8","\ud835\udfa7":"\u03a8","\u2cae":"\u03a8","\u0470":"\u03a8","\ud801\udcd1":"\u03a8","\u16d8":"\u03a8","\ud800\udeb5":"\u03a8","\u2375":"\u03c9","\ua7b7":"\u03c9","\ud835\udeda":"\u03c9","\ud835\udf14":"\u03c9","\ud835\udf4e":"\u03c9","\ud835\udf88":"\u03c9","\ud835\udfc2":"\u03c9","\u2cb1":"\u03c9","\ua64d":"\u03c9","\u2126":"\u03a9","\ud835\udec0":"\u03a9","\ud835\udefa":"\u03a9","\ud835\udf34":"\u03a9","\ud835\udf6e":"\u03a9","\ud835\udfa8":"\u03a9","\u162f":"\u03a9","\u1635":"\u03a9","\ud800\udeb6":"\u03a9","\u2379":"\u03c9\u0332","\u1f7d":"\u1ff4","\u2630":"\u2cb6","\u2cdc":"\u03ec","\u0497":"\u0436\u0329","\u0496":"\u0416\u0329","\ud834\ude0b":"\u0418","\u0376":"\u0418","\ua6a1":"\u0418","\ud801\udc25":"\u0418","\u0419":"\u040d","\u048a":"\u040d\u0326","\u045d":"\u0439","\u048b":"\u0439\u0326","\ud801\udcbc":"\u04c3","\u1d2b":"\u043b","\u04c6":"\u043b\u0326","\uab60":"\u0459","\ud801\udceb":"\ua669","\u1dee":"\u2dec","\ud801\udccd":"\u040b","\ud834\ude02":"\u04fe","\ud834\ude22":"\u0460","\u13c7":"\u0460","\u15ef":"\u0460","\u047c":"\u0460\u0486\u0487","\u18ed":"\u0460\xb7","\ua7b6":"\ua64c","\u04cc":"\u04b7","\u04cb":"\u04b6","\u04be":"\u04bc\u0328","\u2cbd":"\u0448","\u2cbc":"\u0428","\ua650":"\u042al","\u2108":"\u042d","\ud83d\udf01":"\ua658","\ud81b\udf1c":"\ua658","\ua992":"\u2c3f","\u0587":"\u0565\u0582","\u1294":"\u0571","\ufb14":"\u0574\u0565","\ufb15":"\u0574\u056b","\ufb17":"\u0574\u056d","\ufb13":"\u0574\u0576","\u2229":"\u0548","\u22c2":"\u0548","\ud834\ude45":"\u0548","\u1260":"\u0548","\u144e":"\u0548","\ua4f5":"\u0548","\u145a":"\u0548\xb7","\u1468":"\u0548'","\ufb16":"\u057e\u0576","\u20bd":"\u0554","\u02d3":"\u0559","\u02bf":"\u0559","\u2135":"\u05d0","\ufb21":"\u05d0","\ufb2f":"\ufb2e","\ufb30":"\ufb2e","\ufb4f":"\u05d0\u05dc","\u2136":"\u05d1","\u2137":"\u05d2","\u2138":"\u05d3","\ufb22":"\u05d3","\ufb23":"\u05d4","\ufb39":"\ufb1d","\ufb24":"\u05db","\ufb25":"\u05dc","\ufb26":"\u05dd","\ufb20":"\u05e2","\ufb27":"\u05e8","\ufb2b":"\ufb2a","\ufb49":"\ufb2a","\ufb2d":"\ufb2c","\ufb28":"\u05ea","\ufe80":"\u0621","\u06fd":"\u0621\u0348","\ufe82":"\u0622","\ufe81":"\u0622","\ufb51":"\u0671","\ufb50":"\u0671","\ud83b\ude01":"\u0628","\ud83b\ude21":"\u0628","\ud83b\ude61":"\u0628","\ud83b\ude81":"\u0628","\ud83b\udea1":"\u0628","\ufe91":"\u0628","\ufe92":"\u0628","\ufe90":"\u0628","\ufe8f":"\u0628","\u0751":"\u0628\u06db","\u08b6":"\u0628\u06e2","\u08a1":"\u0628\u0654","\ufca0":"\u0628o","\ufce2":"\u0628o","\ufc9c":"\u0628\u062c","\ufc05":"\u0628\u062c","\ufc9d":"\u0628\u062d","\ufc06":"\u0628\u062d","\ufdc2":"\u0628\u062d\u0649","\ufc9e":"\u0628\u062e","\ufc07":"\u0628\u062e","\ufcd2":"\u0628\u062e","\ufc4b":"\u0628\u062e","\ufd9e":"\u0628\u062e\u0649","\ufc6a":"\u0628\u0631","\ufc6b":"\u0628\u0632","\ufc9f":"\u0628\u0645","\ufce1":"\u0628\u0645","\ufc6c":"\u0628\u0645","\ufc08":"\u0628\u0645","\ufc6d":"\u0628\u0646","\ufc6e":"\u0628\u0649","\ufc09":"\u0628\u0649","\ufc6f":"\u0628\u0649","\ufc0a":"\u0628\u0649","\ufb54":"\u067b","\ufb55":"\u067b","\ufb53":"\u067b","\ufb52":"\u067b","\u06d0":"\u067b","\ufbe6":"\u067b","\ufbe7":"\u067b","\ufbe5":"\u067b","\ufbe4":"\u067b","\ufb5c":"\u0680","\ufb5d":"\u0680","\ufb5b":"\u0680","\ufb5a":"\u0680","\u08a9":"\u0754","\u0767":"\u0754","\u2365":"\u0629","\xf6":"\u0629","\ufe94":"\u0629","\ufe93":"\u0629","\u06c3":"\u0629","\ud83b\ude15":"\u062a","\ud83b\ude35":"\u062a","\ud83b\ude75":"\u062a","\ud83b\ude95":"\u062a","\ud83b\udeb5":"\u062a","\ufe97":"\u062a","\ufe98":"\u062a","\ufe96":"\u062a","\ufe95":"\u062a","\ufca5":"\u062ao","\ufce4":"\u062ao","\ufca1":"\u062a\u062c","\ufc0b":"\u062a\u062c","\ufd50":"\u062a\u062c\u0645","\ufda0":"\u062a\u062c\u0649","\ufd9f":"\u062a\u062c\u0649","\ufca2":"\u062a\u062d","\ufc0c":"\u062a\u062d","\ufd52":"\u062a\u062d\u062c","\ufd51":"\u062a\u062d\u062c","\ufd53":"\u062a\u062d\u0645","\ufca3":"\u062a\u062e","\ufc0d":"\u062a\u062e","\ufd54":"\u062a\u062e\u0645","\ufda2":"\u062a\u062e\u0649","\ufda1":"\u062a\u062e\u0649","\ufc70":"\u062a\u0631","\ufc71":"\u062a\u0632","\ufca4":"\u062a\u0645","\ufce3":"\u062a\u0645","\ufc72":"\u062a\u0645","\ufc0e":"\u062a\u0645","\ufd55":"\u062a\u0645\u062c","\ufd56":"\u062a\u0645\u062d","\ufd57":"\u062a\u0645\u062e","\ufda4":"\u062a\u0645\u0649","\ufda3":"\u062a\u0645\u0649","\ufc73":"\u062a\u0646","\ufc74":"\u062a\u0649","\ufc0f":"\u062a\u0649","\ufc75":"\u062a\u0649","\ufc10":"\u062a\u0649","\ufb60":"\u067a","\ufb61":"\u067a","\ufb5f":"\u067a","\ufb5e":"\u067a","\ufb64":"\u067f","\ufb65":"\u067f","\ufb63":"\u067f","\ufb62":"\u067f","\ud83b\ude02":"\u062c","\ud83b\ude22":"\u062c","\ud83b\ude42":"\u062c","\ud83b\ude62":"\u062c","\ud83b\ude82":"\u062c","\ud83b\udea2":"\u062c","\ufe9f":"\u062c","\ufea0":"\u062c","\ufe9e":"\u062c","\ufe9d":"\u062c","\ufca7":"\u062c\u062d","\ufc15":"\u062c\u062d","\ufda6":"\u062c\u062d\u0649","\ufdbe":"\u062c\u062d\u0649","\ufdfb":"\u062c\u0644 \u062c\u0644l\u0644o","\ufca8":"\u062c\u0645","\ufc16":"\u062c\u0645","\ufd59":"\u062c\u0645\u062d","\ufd58":"\u062c\u0645\u062d","\ufda7":"\u062c\u0645\u0649","\ufda5":"\u062c\u0645\u0649","\ufd1d":"\u062c\u0649","\ufd01":"\u062c\u0649","\ufd1e":"\u062c\u0649","\ufd02":"\u062c\u0649","\ufb78":"\u0683","\ufb79":"\u0683","\ufb77":"\u0683","\ufb76":"\u0683","\ufb74":"\u0684","\ufb75":"\u0684","\ufb73":"\u0684","\ufb72":"\u0684","\ufb7c":"\u0686","\ufb7d":"\u0686","\ufb7b":"\u0686","\ufb7a":"\u0686","\ufb80":"\u0687","\ufb81":"\u0687","\ufb7f":"\u0687","\ufb7e":"\u0687","\ud83b\ude07":"\u062d","\ud83b\ude27":"\u062d","\ud83b\ude47":"\u062d","\ud83b\ude67":"\u062d","\ud83b\ude87":"\u062d","\ud83b\udea7":"\u062d","\ufea3":"\u062d","\ufea4":"\u062d","\ufea2":"\u062d","\ufea1":"\u062d","\u0685":"\u062d\u06db","\u0681":"\u062d\u0654","\u0772":"\u062d\u0654","\ufca9":"\u062d\u062c","\ufc17":"\u062d\u062c","\ufdbf":"\u062d\u062c\u0649","\ufcaa":"\u062d\u0645","\ufc18":"\u062d\u0645","\ufd5b":"\u062d\u0645\u0649","\ufd5a":"\u062d\u0645\u0649","\ufd1b":"\u062d\u0649","\ufcff":"\u062d\u0649","\ufd1c":"\u062d\u0649","\ufd00":"\u062d\u0649","\ud83b\ude17":"\u062e","\ud83b\ude37":"\u062e","\ud83b\ude57":"\u062e","\ud83b\ude77":"\u062e","\ud83b\ude97":"\u062e","\ud83b\udeb7":"\u062e","\ufea7":"\u062e","\ufea8":"\u062e","\ufea6":"\u062e","\ufea5":"\u062e","\ufcab":"\u062e\u062c","\ufc19":"\u062e\u062c","\ufc1a":"\u062e\u062d","\ufcac":"\u062e\u0645","\ufc1b":"\u062e\u0645","\ufd1f":"\u062e\u0649","\ufd03":"\u062e\u0649","\ufd20":"\u062e\u0649","\ufd04":"\u062e\u0649","\ud800\udee1":"\u062f","\ud83b\ude03":"\u062f","\ud83b\ude83":"\u062f","\ud83b\udea3":"\u062f","\ufeaa":"\u062f","\ufea9":"\u062f","\u0688":"\u062f\u0615","\ufb89":"\u062f\u0615","\ufb88":"\u062f\u0615","\u068e":"\u062f\u06db","\ufb87":"\u062f\u06db","\ufb86":"\u062f\u06db","\u06ee":"\u062f\u0302","\u08ae":"\u062f\u0324\u0323","\ud83b\ude18":"\u0630","\ud83b\ude98":"\u0630","\ud83b\udeb8":"\u0630","\ufeac":"\u0630","\ufeab":"\u0630","\ufc5b":"\u0630\u0670","\u068b":"\u068a\u0615","\ufb85":"\u068c","\ufb84":"\u068c","\ufb83":"\u068d","\ufb82":"\u068d","\ud83b\ude13":"\u0631","\ud83b\ude93":"\u0631","\ud83b\udeb3":"\u0631","\ufeae":"\u0631","\ufead":"\u0631","\u0691":"\u0631\u0615","\ufb8d":"\u0631\u0615","\ufb8c":"\u0631\u0615","\u0698":"\u0631\u06db","\ufb8b":"\u0631\u06db","\ufb8a":"\u0631\u06db","\u0692":"\u0631\u0306","\u08b9":"\u0631\u0306\u0307","\u06ef":"\u0631\u0302","\u076c":"\u0631\u0654","\ufc5c":"\u0631\u0670","\ufdf6":"\u0631\u0633\u0648\u0644","\ufdfc":"\u0631\u0649l\u0644","\ud83b\ude06":"\u0632","\ud83b\ude86":"\u0632","\ud83b\udea6":"\u0632","\ufeb0":"\u0632","\ufeaf":"\u0632","\u08b2":"\u0632\u0302","\u0771":"\u0697\u0615","\ud83b\ude0e":"\u0633","\ud83b\ude2e":"\u0633","\ud83b\ude4e":"\u0633","\ud83b\ude6e":"\u0633","\ud83b\ude8e":"\u0633","\ud83b\udeae":"\u0633","\ufeb3":"\u0633","\ufeb4":"\u0633","\ufeb2":"\u0633","\ufeb1":"\u0633","\u0634":"\u0633\u06db","\ud83b\ude14":"\u0633\u06db","\ud83b\ude34":"\u0633\u06db","\ud83b\ude54":"\u0633\u06db","\ud83b\ude74":"\u0633\u06db","\ud83b\ude94":"\u0633\u06db","\ud83b\udeb4":"\u0633\u06db","\ufeb7":"\u0633\u06db","\ufeb8":"\u0633\u06db","\ufeb6":"\u0633\u06db","\ufeb5":"\u0633\u06db","\u077e":"\u0633\u0302","\ufd31":"\u0633o","\ufce8":"\u0633o","\ufd32":"\u0633\u06dbo","\ufcea":"\u0633\u06dbo","\ufcad":"\u0633\u062c","\ufd34":"\u0633\u062c","\ufc1c":"\u0633\u062c","\ufd2d":"\u0633\u06db\u062c","\ufd37":"\u0633\u06db\u062c","\ufd25":"\u0633\u06db\u062c","\ufd09":"\u0633\u06db\u062c","\ufd5d":"\u0633\u062c\u062d","\ufd5e":"\u0633\u062c\u0649","\ufd69":"\u0633\u06db\u062c\u0649","\ufcae":"\u0633\u062d","\ufd35":"\u0633\u062d","\ufc1d":"\u0633\u062d","\ufd2e":"\u0633\u06db\u062d","\ufd38":"\u0633\u06db\u062d","\ufd26":"\u0633\u06db\u062d","\ufd0a":"\u0633\u06db\u062d","\ufd5c":"\u0633\u062d\u062c","\ufd68":"\u0633\u06db\u062d\u0645","\ufd67":"\u0633\u06db\u062d\u0645","\ufdaa":"\u0633\u06db\u062d\u0649","\ufcaf":"\u0633\u062e","\ufd36":"\u0633\u062e","\ufc1e":"\u0633\u062e","\ufd2f":"\u0633\u06db\u062e","\ufd39":"\u0633\u06db\u062e","\ufd27":"\u0633\u06db\u062e","\ufd0b":"\u0633\u06db\u062e","\ufda8":"\u0633\u062e\u0649","\ufdc6":"\u0633\u062e\u0649","\ufd2a":"\u0633\u0631","\ufd0e":"\u0633\u0631","\ufd29":"\u0633\u06db\u0631","\ufd0d":"\u0633\u06db\u0631","\ufcb0":"\u0633\u0645","\ufce7":"\u0633\u0645","\ufc1f":"\u0633\u0645","\ufd30":"\u0633\u06db\u0645","\ufce9":"\u0633\u06db\u0645","\ufd28":"\u0633\u06db\u0645","\ufd0c":"\u0633\u06db\u0645","\ufd61":"\u0633\u0645\u062c","\ufd60":"\u0633\u0645\u062d","\ufd5f":"\u0633\u0645\u062d","\ufd6b":"\u0633\u06db\u0645\u062e","\ufd6a":"\u0633\u06db\u0645\u062e","\ufd63":"\u0633\u0645\u0645","\ufd62":"\u0633\u0645\u0645","\ufd6d":"\u0633\u06db\u0645\u0645","\ufd6c":"\u0633\u06db\u0645\u0645","\ufd17":"\u0633\u0649","\ufcfb":"\u0633\u0649","\ufd18":"\u0633\u0649","\ufcfc":"\u0633\u0649","\ufd19":"\u0633\u06db\u0649","\ufcfd":"\u0633\u06db\u0649","\ufd1a":"\u0633\u06db\u0649","\ufcfe":"\u0633\u06db\u0649","\ud800\udef2":"\u0635","\ud83b\ude11":"\u0635","\ud83b\ude31":"\u0635","\ud83b\ude51":"\u0635","\ud83b\ude71":"\u0635","\ud83b\ude91":"\u0635","\ud83b\udeb1":"\u0635","\ufebb":"\u0635","\ufebc":"\u0635","\ufeba":"\u0635","\ufeb9":"\u0635","\u069e":"\u0635\u06db","\u08af":"\u0635\u0324\u0323","\ufcb1":"\u0635\u062d","\ufc20":"\u0635\u062d","\ufd65":"\u0635\u062d\u062d","\ufd64":"\u0635\u062d\u062d","\ufda9":"\u0635\u062d\u0649","\ufcb2":"\u0635\u062e","\ufd2b":"\u0635\u0631","\ufd0f":"\u0635\u0631","\ufdf5":"\u0635\u0644\u0639\u0645","\ufdf9":"\u0635\u0644\u0649","\ufdf0":"\u0635\u0644\u0649","\ufdfa":"\u0635\u0644\u0649 l\u0644\u0644o \u0639\u0644\u0649o \u0648\u0633\u0644\u0645","\ufcb3":"\u0635\u0645","\ufc21":"\u0635\u0645","\ufdc5":"\u0635\u0645\u0645","\ufd66":"\u0635\u0645\u0645","\ufd21":"\u0635\u0649","\ufd05":"\u0635\u0649","\ufd22":"\u0635\u0649","\ufd06":"\u0635\u0649","\ud83b\ude19":"\u0636","\ud83b\ude39":"\u0636","\ud83b\ude59":"\u0636","\ud83b\ude79":"\u0636","\ud83b\ude99":"\u0636","\ud83b\udeb9":"\u0636","\ufebf":"\u0636","\ufec0":"\u0636","\ufebe":"\u0636","\ufebd":"\u0636","\ufcb4":"\u0636\u062c","\ufc22":"\u0636\u062c","\ufcb5":"\u0636\u062d","\ufc23":"\u0636\u062d","\ufd6e":"\u0636\u062d\u0649","\ufdab":"\u0636\u062d\u0649","\ufcb6":"\u0636\u062e","\ufc24":"\u0636\u062e","\ufd70":"\u0636\u062e\u0645","\ufd6f":"\u0636\u062e\u0645","\ufd2c":"\u0636\u0631","\ufd10":"\u0636\u0631","\ufcb7":"\u0636\u0645","\ufc25":"\u0636\u0645","\ufd23":"\u0636\u0649","\ufd07":"\u0636\u0649","\ufd24":"\u0636\u0649","\ufd08":"\u0636\u0649","\ud800\udee8":"\u0637","\ud83b\ude08":"\u0637","\ud83b\ude68":"\u0637","\ud83b\ude88":"\u0637","\ud83b\udea8":"\u0637","\ufec3":"\u0637","\ufec4":"\u0637","\ufec2":"\u0637","\ufec1":"\u0637","\u069f":"\u0637\u06db","\ufcb8":"\u0637\u062d","\ufc26":"\u0637\u062d","\ufd33":"\u0637\u0645","\ufd3a":"\u0637\u0645","\ufc27":"\u0637\u0645","\ufd72":"\u0637\u0645\u062d","\ufd71":"\u0637\u0645\u062d","\ufd73":"\u0637\u0645\u0645","\ufd74":"\u0637\u0645\u0649","\ufd11":"\u0637\u0649","\ufcf5":"\u0637\u0649","\ufd12":"\u0637\u0649","\ufcf6":"\u0637\u0649","\ud83b\ude1a":"\u0638","\ud83b\ude7a":"\u0638","\ud83b\ude9a":"\u0638","\ud83b\udeba":"\u0638","\ufec7":"\u0638","\ufec8":"\u0638","\ufec6":"\u0638","\ufec5":"\u0638","\ufcb9":"\u0638\u0645","\ufd3b":"\u0638\u0645","\ufc28":"\u0638\u0645","\u060f":"\u0639","\ud83b\ude0f":"\u0639","\ud83b\ude2f":"\u0639","\ud83b\ude4f":"\u0639","\ud83b\ude6f":"\u0639","\ud83b\ude8f":"\u0639","\ud83b\udeaf":"\u0639","\ufecb":"\u0639","\ufecc":"\u0639","\ufeca":"\u0639","\ufec9":"\u0639","\ufcba":"\u0639\u062c","\ufc29":"\u0639\u062c","\ufdc4":"\u0639\u062c\u0645","\ufd75":"\u0639\u062c\u0645","\ufdf7":"\u0639\u0644\u0649o","\ufcbb":"\u0639\u0645","\ufc2a":"\u0639\u0645","\ufd77":"\u0639\u0645\u0645","\ufd76":"\u0639\u0645\u0645","\ufd78":"\u0639\u0645\u0649","\ufdb6":"\u0639\u0645\u0649","\ufd13":"\u0639\u0649","\ufcf7":"\u0639\u0649","\ufd14":"\u0639\u0649","\ufcf8":"\u0639\u0649","\ud83b\ude1b":"\u063a","\ud83b\ude3b":"\u063a","\ud83b\ude5b":"\u063a","\ud83b\ude7b":"\u063a","\ud83b\ude9b":"\u063a","\ud83b\udebb":"\u063a","\ufecf":"\u063a","\ufed0":"\u063a","\ufece":"\u063a","\ufecd":"\u063a","\ufcbc":"\u063a\u062c","\ufc2b":"\u063a\u062c","\ufcbd":"\u063a\u0645","\ufc2c":"\u063a\u0645","\ufd79":"\u063a\u0645\u0645","\ufd7b":"\u063a\u0645\u0649","\ufd7a":"\u063a\u0645\u0649","\ufd15":"\u063a\u0649","\ufcf9":"\u063a\u0649","\ufd16":"\u063a\u0649","\ufcfa":"\u063a\u0649","\ud83b\ude10":"\u0641","\ud83b\ude30":"\u0641","\ud83b\ude70":"\u0641","\ud83b\ude90":"\u0641","\ud83b\udeb0":"\u0641","\ufed3":"\u0641","\ufed4":"\u0641","\ufed2":"\u0641","\ufed1":"\u0641","\u06a7":"\u0641","\ufcbe":"\u0641\u062c","\ufc2d":"\u0641\u062c","\ufcbf":"\u0641\u062d","\ufc2e":"\u0641\u062d","\ufcc0":"\u0641\u062e","\ufc2f":"\u0641\u062e","\ufd7d":"\u0641\u062e\u0645","\ufd7c":"\u0641\u062e\u0645","\ufcc1":"\u0641\u0645","\ufc30":"\u0641\u0645","\ufdc1":"\u0641\u0645\u0649","\ufc7c":"\u0641\u0649","\ufc31":"\u0641\u0649","\ufc7d":"\u0641\u0649","\ufc32":"\u0641\u0649","\ud83b\ude1e":"\u06a1","\ud83b\ude7e":"\u06a1","\u08bb":"\u06a1","\u066f":"\u06a1","\ud83b\ude1f":"\u06a1","\ud83b\ude5f":"\u06a1","\u08bc":"\u06a1","\u06a4":"\u06a1\u06db","\ufb6c":"\u06a1\u06db","\ufb6d":"\u06a1\u06db","\ufb6b":"\u06a1\u06db","\ufb6a":"\u06a1\u06db","\u06a8":"\u06a1\u06db","\u08a4":"\u06a2\u06db","\ufb70":"\u06a6","\ufb71":"\u06a6","\ufb6f":"\u06a6","\ufb6e":"\u06a6","\ud83b\ude12":"\u0642","\ud83b\ude32":"\u0642","\ud83b\ude52":"\u0642","\ud83b\ude72":"\u0642","\ud83b\ude92":"\u0642","\ud83b\udeb2":"\u0642","\ufed7":"\u0642","\ufed8":"\u0642","\ufed6":"\u0642","\ufed5":"\u0642","\ufcc2":"\u0642\u062d","\ufc33":"\u0642\u062d","\ufdf1":"\u0642\u0644\u0649","\ufcc3":"\u0642\u0645","\ufc34":"\u0642\u0645","\ufdb4":"\u0642\u0645\u062d","\ufd7e":"\u0642\u0645\u062d","\ufd7f":"\u0642\u0645\u0645","\ufdb2":"\u0642\u0645\u0649","\ufc7e":"\u0642\u0649","\ufc35":"\u0642\u0649","\ufc7f":"\u0642\u0649","\ufc36":"\u0642\u0649","\ud83b\ude0a":"\u0643","\ud83b\ude2a":"\u0643","\ud83b\ude6a":"\u0643","\ufedb":"\u0643","\ufedc":"\u0643","\ufeda":"\u0643","\ufed9":"\u0643","\u06a9":"\u0643","\ufb90":"\u0643","\ufb91":"\u0643","\ufb8f":"\u0643","\ufb8e":"\u0643","\u06aa":"\u0643","\u06ad":"\u0643\u06db","\ufbd5":"\u0643\u06db","\ufbd6":"\u0643\u06db","\ufbd4":"\u0643\u06db","\ufbd3":"\u0643\u06db","\u0763":"\u0643\u06db","\ufc80":"\u0643l","\ufc37":"\u0643l","\ufcc4":"\u0643\u062c","\ufc38":"\u0643\u062c","\ufcc5":"\u0643\u062d","\ufc39":"\u0643\u062d","\ufcc6":"\u0643\u062e","\ufc3a":"\u0643\u062e","\ufcc7":"\u0643\u0644","\ufceb":"\u0643\u0644","\ufc81":"\u0643\u0644","\ufc3b":"\u0643\u0644","\ufcc8":"\u0643\u0645","\ufcec":"\u0643\u0645","\ufc82":"\u0643\u0645","\ufc3c":"\u0643\u0645","\ufdc3":"\u0643\u0645\u0645","\ufdbb":"\u0643\u0645\u0645","\ufdb7":"\u0643\u0645\u0649","\ufc83":"\u0643\u0649","\ufc3d":"\u0643\u0649","\ufc84":"\u0643\u0649","\ufc3e":"\u0643\u0649","\u0762":"\u06ac","\ufb94":"\u06af","\ufb95":"\u06af","\ufb93":"\u06af","\ufb92":"\u06af","\u08b0":"\u06af","\u06b4":"\u06af\u06db","\ufb9c":"\u06b1","\ufb9d":"\u06b1","\ufb9b":"\u06b1","\ufb9a":"\u06b1","\ufb98":"\u06b3","\ufb99":"\u06b3","\ufb97":"\u06b3","\ufb96":"\u06b3","\ud83b\ude0b":"\u0644","\ud83b\ude2b":"\u0644","\ud83b\ude4b":"\u0644","\ud83b\ude8b":"\u0644","\ud83b\udeab":"\u0644","\ufedf":"\u0644","\ufee0":"\u0644","\ufede":"\u0644","\ufedd":"\u0644","\u06b7":"\u0644\u06db","\u06b5":"\u0644\u0306","\ufefc":"\u0644l","\ufefb":"\u0644l","\ufefa":"\u0644l\u0655","\ufef9":"\u0644l\u0655","\ufef8":"\u0644l\u0674","\ufef7":"\u0644l\u0674","\ufccd":"\u0644o","\ufef6":"\u0644\u0622","\ufef5":"\u0644\u0622","\ufcc9":"\u0644\u062c","\ufc3f":"\u0644\u062c","\ufd83":"\u0644\u062c\u062c","\ufd84":"\u0644\u062c\u062c","\ufdba":"\u0644\u062c\u0645","\ufdbc":"\u0644\u062c\u0645","\ufdac":"\u0644\u062c\u0649","\ufcca":"\u0644\u062d","\ufc40":"\u0644\u062d","\ufdb5":"\u0644\u062d\u0645","\ufd80":"\u0644\u062d\u0645","\ufd82":"\u0644\u062d\u0649","\ufd81":"\u0644\u062d\u0649","\ufccb":"\u0644\u062e","\ufc41":"\u0644\u062e","\ufd86":"\u0644\u062e\u0645","\ufd85":"\u0644\u062e\u0645","\ufccc":"\u0644\u0645","\ufced":"\u0644\u0645","\ufc85":"\u0644\u0645","\ufc42":"\u0644\u0645","\ufd88":"\u0644\u0645\u062d","\ufd87":"\u0644\u0645\u062d","\ufdad":"\u0644\u0645\u0649","\ufc86":"\u0644\u0649","\ufc43":"\u0644\u0649","\ufc87":"\u0644\u0649","\ufc44":"\u0644\u0649","\ud83b\ude0c":"\u0645","\ud83b\ude2c":"\u0645","\ud83b\ude6c":"\u0645","\ud83b\ude8c":"\u0645","\ud83b\udeac":"\u0645","\ufee3":"\u0645","\ufee4":"\u0645","\ufee2":"\u0645","\ufee1":"\u0645","\u08a7":"\u0645\u06db","\u06fe":"\u0645\u0348","\ufc88":"\u0645l","\ufcce":"\u0645\u062c","\ufc45":"\u0645\u062c","\ufd8c":"\u0645\u062c\u062d","\ufd92":"\u0645\u062c\u062e","\ufd8d":"\u0645\u062c\u0645","\ufdc0":"\u0645\u062c\u0649","\ufccf":"\u0645\u062d","\ufc46":"\u0645\u062d","\ufd89":"\u0645\u062d\u062c","\ufd8a":"\u0645\u062d\u0645","\ufdf4":"\u0645\u062d\u0645\u062f","\ufd8b":"\u0645\u062d\u0649","\ufcd0":"\u0645\u062e","\ufc47":"\u0645\u062e","\ufd8e":"\u0645\u062e\u062c","\ufd8f":"\u0645\u062e\u0645","\ufdb9":"\u0645\u062e\u0649","\ufcd1":"\u0645\u0645","\ufc89":"\u0645\u0645","\ufc48":"\u0645\u0645","\ufdb1":"\u0645\u0645\u0649","\ufc49":"\u0645\u0649","\ufc4a":"\u0645\u0649","\ud83b\ude0d":"\u0646","\ud83b\ude2d":"\u0646","\ud83b\ude4d":"\u0646","\ud83b\ude6d":"\u0646","\ud83b\ude8d":"\u0646","\ud83b\udead":"\u0646","\ufee7":"\u0646","\ufee8":"\u0646","\ufee6":"\u0646","\ufee5":"\u0646","\u0768":"\u0646\u0615","\u0769":"\u0646\u0306","\ufcd6":"\u0646o","\ufcef":"\u0646o","\ufdb8":"\u0646\u062c\u062d","\ufdbd":"\u0646\u062c\u062d","\ufd98":"\u0646\u062c\u0645","\ufd97":"\u0646\u062c\u0645","\ufd99":"\u0646\u062c\u0649","\ufdc7":"\u0646\u062c\u0649","\ufcd3":"\u0646\u062d","\ufc4c":"\u0646\u062d","\ufd95":"\u0646\u062d\u0645","\ufd96":"\u0646\u062d\u0649","\ufdb3":"\u0646\u062d\u0649","\ufcd4":"\u0646\u062e","\ufc4d":"\u0646\u062e","\ufc8a":"\u0646\u0631","\ufc8b":"\u0646\u0632","\ufcd5":"\u0646\u0645","\ufcee":"\u0646\u0645","\ufc8c":"\u0646\u0645","\ufc4e":"\u0646\u0645","\ufd9b":"\u0646\u0645\u0649","\ufd9a":"\u0646\u0645\u0649","\ufc8d":"\u0646\u0646","\ufc8e":"\u0646\u0649","\ufc4f":"\u0646\u0649","\ufc8f":"\u0646\u0649","\ufc50":"\u0646\u0649","\u06c2":"\u06c0","\ufba5":"\u06c0","\ufba4":"\u06c0","\ud800\udee4":"\u0648","\ud83b\ude05":"\u0648","\ud83b\ude85":"\u0648","\ud83b\udea5":"\u0648","\ufeee":"\u0648","\ufeed":"\u0648","\u08b1":"\u0648","\u06cb":"\u0648\u06db","\ufbdf":"\u0648\u06db","\ufbde":"\u0648\u06db","\u06c7":"\u0648\u0313","\ufbd8":"\u0648\u0313","\ufbd7":"\u0648\u0313","\u06c6":"\u0648\u0306","\ufbda":"\u0648\u0306","\ufbd9":"\u0648\u0306","\u06c9":"\u0648\u0302","\ufbe3":"\u0648\u0302","\ufbe2":"\u0648\u0302","\u06c8":"\u0648\u0670","\ufbdc":"\u0648\u0670","\ufbdb":"\u0648\u0670","\u0624":"\u0648\u0674","\ufe86":"\u0648\u0674","\ufe85":"\u0648\u0674","\u0676":"\u0648\u0674","\u0677":"\u0648\u0313\u0674","\ufbdd":"\u0648\u0313\u0674","\ufdf8":"\u0648\u0633\u0644\u0645","\ufbe1":"\u06c5","\ufbe0":"\u06c5","\u066e":"\u0649","\ud83b\ude1c":"\u0649","\ud83b\ude7c":"\u0649","\u06ba":"\u0649","\ud83b\ude1d":"\u0649","\ud83b\ude5d":"\u0649","\ufb9f":"\u0649","\ufb9e":"\u0649","\u08bd":"\u0649","\ufbe8":"\u0649","\ufbe9":"\u0649","\ufef0":"\u0649","\ufeef":"\u0649","\u064a":"\u0649","\ud83b\ude09":"\u0649","\ud83b\ude29":"\u0649","\ud83b\ude49":"\u0649","\ud83b\ude69":"\u0649","\ud83b\ude89":"\u0649","\ud83b\udea9":"\u0649","\ufef3":"\u0649","\ufef4":"\u0649","\ufef2":"\u0649","\ufef1":"\u0649","\u06cc":"\u0649","\ufbfe":"\u0649","\ufbff":"\u0649","\ufbfd":"\u0649","\ufbfc":"\u0649","\u06d2":"\u0649","\ufbaf":"\u0649","\ufbae":"\u0649","\u0679":"\u0649\u0615","\ufb68":"\u0649\u0615","\ufb69":"\u0649\u0615","\ufb67":"\u0649\u0615","\ufb66":"\u0649\u0615","\u06bb":"\u0649\u0615","\ufba2":"\u0649\u0615","\ufba3":"\u0649\u0615","\ufba1":"\u0649\u0615","\ufba0":"\u0649\u0615","\u067e":"\u0649\u06db","\ufb58":"\u0649\u06db","\ufb59":"\u0649\u06db","\ufb57":"\u0649\u06db","\ufb56":"\u0649\u06db","\u062b":"\u0649\u06db","\ud83b\ude16":"\u0649\u06db","\ud83b\ude36":"\u0649\u06db","\ud83b\ude76":"\u0649\u06db","\ud83b\ude96":"\u0649\u06db","\ud83b\udeb6":"\u0649\u06db","\ufe9b":"\u0649\u06db","\ufe9c":"\u0649\u06db","\ufe9a":"\u0649\u06db","\ufe99":"\u0649\u06db","\u06bd":"\u0649\u06db","\u06d1":"\u0649\u06db","\u063f":"\u0649\u06db","\u08b7":"\u0649\u06db\u06e2","\u0756":"\u0649\u0306","\u06ce":"\u0649\u0306","\u08ba":"\u0649\u0306\u0307","\u063d":"\u0649\u0302","\u08a8":"\u0649\u0654","\ufc90":"\u0649\u0670","\ufc5d":"\u0649\u0670","\ufcde":"\u0649o","\ufcf1":"\u0649o","\ufce6":"\u0649\u06dbo","\u0626":"\u0649\u0674","\ufe8b":"\u0649\u0674","\ufe8c":"\u0649\u0674","\ufe8a":"\u0649\u0674","\ufe89":"\u0649\u0674","\u0678":"\u0649\u0674","\ufbeb":"\u0649\u0674l","\ufbea":"\u0649\u0674l","\ufc9b":"\u0649\u0674o","\ufce0":"\u0649\u0674o","\ufbed":"\u0649\u0674o","\ufbec":"\u0649\u0674o","\ufbf8":"\u0649\u0674\u067b","\ufbf7":"\u0649\u0674\u067b","\ufbf6":"\u0649\u0674\u067b","\ufc97":"\u0649\u0674\u062c","\ufc00":"\u0649\u0674\u062c","\ufc98":"\u0649\u0674\u062d","\ufc01":"\u0649\u0674\u062d","\ufc99":"\u0649\u0674\u062e","\ufc64":"\u0649\u0674\u0631","\ufc65":"\u0649\u0674\u0632","\ufc9a":"\u0649\u0674\u0645","\ufcdf":"\u0649\u0674\u0645","\ufc66":"\u0649\u0674\u0645","\ufc02":"\u0649\u0674\u0645","\ufc67":"\u0649\u0674\u0646","\ufbef":"\u0649\u0674\u0648","\ufbee":"\u0649\u0674\u0648","\ufbf1":"\u0649\u0674\u0648\u0313","\ufbf0":"\u0649\u0674\u0648\u0313","\ufbf3":"\u0649\u0674\u0648\u0306","\ufbf2":"\u0649\u0674\u0648\u0306","\ufbf5":"\u0649\u0674\u0648\u0670","\ufbf4":"\u0649\u0674\u0648\u0670","\ufbfb":"\u0649\u0674\u0649","\ufbfa":"\u0649\u0674\u0649","\ufc68":"\u0649\u0674\u0649","\ufbf9":"\u0649\u0674\u0649","\ufc03":"\u0649\u0674\u0649","\ufc69":"\u0649\u0674\u0649","\ufc04":"\u0649\u0674\u0649","\ufcda":"\u0649\u062c","\ufc55":"\u0649\u062c","\ufc11":"\u0649\u06db\u062c","\ufdaf":"\u0649\u062c\u0649","\ufcdb":"\u0649\u062d","\ufc56":"\u0649\u062d","\ufdae":"\u0649\u062d\u0649","\ufcdc":"\u0649\u062e","\ufc57":"\u0649\u062e","\ufc91":"\u0649\u0631","\ufc76":"\u0649\u06db\u0631","\ufc92":"\u0649\u0632","\ufc77":"\u0649\u06db\u0632","\ufcdd":"\u0649\u0645","\ufcf0":"\u0649\u0645","\ufc93":"\u0649\u0645","\ufc58":"\u0649\u0645","\ufca6":"\u0649\u06db\u0645","\ufce5":"\u0649\u06db\u0645","\ufc78":"\u0649\u06db\u0645","\ufc12":"\u0649\u06db\u0645","\ufd9d":"\u0649\u0645\u0645","\ufd9c":"\u0649\u0645\u0645","\ufdb0":"\u0649\u0645\u0649","\ufc94":"\u0649\u0646","\ufc79":"\u0649\u06db\u0646","\ufc95":"\u0649\u0649","\ufc59":"\u0649\u0649","\ufc96":"\u0649\u0649","\ufc5a":"\u0649\u0649","\ufc7a":"\u0649\u06db\u0649","\ufc13":"\u0649\u06db\u0649","\ufc7b":"\u0649\u06db\u0649","\ufc14":"\u0649\u06db\u0649","\ufbb1":"\u06d3","\ufbb0":"\u06d3","\ud800\udeb8":"\u2d40","\u205e":"\u2d42","\u2e3d":"\u2d42","\u2999":"\u2d42","\ufe19":"\u2d57","\u205d":"\u2d57","\u22ee":"\u2d57","\u0544":"\u1206","\u054c":"\u1261","\u053b":"\u12ae","\u054a":"\u1323","\u0906":"\u0905\u093e","\u0912":"\u0905\u093e\u0946","\u0913":"\u0905\u093e\u0947","\u0914":"\u0905\u093e\u0948","\u0904":"\u0905\u0946","\u0911":"\u0905\u0949","\u090d":"\u090f\u0945","\u090e":"\u090f\u0946","\u0910":"\u090f\u0947","\u0908":"\u0930\u094d\u0907","\u0abd":"\u093d","\ud804\udddc":"\ua8fb","\ud804\uddcb":"\u093a","\u0ac1":"\u0941","\u0ac2":"\u0942","\u0a4b":"\u0946","\u0a4d":"\u094d","\u0acd":"\u094d","\u0986":"\u0985\u09be","\u09e0":"\u098b\u09c3","\u09e1":"\u098b\u09c3","\ud805\udc92":"\u0998","\ud805\udc94":"\u099a","\ud805\udc96":"\u099c","\ud805\udc98":"\u099e","\ud805\udc99":"\u099f","\ud805\udc9b":"\u09a1","\ud805\udcaa":"\u09a3","\ud805\udc9e":"\u09a4","\ud805\udc9f":"\u09a5","\ud805\udca0":"\u09a6","\ud805\udca1":"\u09a7","\ud805\udca2":"\u09a8","\ud805\udca3":"\u09aa","\ud805\udca9":"\u09ac","\ud805\udca7":"\u09ae","\ud805\udca8":"\u09af","\ud805\udcab":"\u09b0","\ud805\udc9d":"\u09b2","\ud805\udcad":"\u09b7","\ud805\udcae":"\u09b8","\ud805\udcc4":"\u09bd","\ud805\udcb0":"\u09be","\ud805\udcb1":"\u09bf","\ud805\udcb9":"\u09c7","\ud805\udcbc":"\u09cb","\ud805\udcbe":"\u09cc","\ud805\udcc2":"\u09cd","\ud805\udcbd":"\u09d7","\u0a09":"\u0a73\u0a41","\u0a0a":"\u0a73\u0a42","\u0a06":"\u0a05\u0a3e","\u0a10":"\u0a05\u0a48","\u0a14":"\u0a05\u0a4c","\u0a07":"\u0a72\u0a3f","\u0a08":"\u0a72\u0a40","\u0a0f":"\u0a72\u0a47","\u0a86":"\u0a85\u0abe","\u0a91":"\u0a85\u0abe\u0ac5","\u0a93":"\u0a85\u0abe\u0ac7","\u0a94":"\u0a85\u0abe\u0ac8","\u0a8d":"\u0a85\u0ac5","\u0a8f":"\u0a85\u0ac7","\u0a90":"\u0a85\u0ac8","\u0b06":"\u0b05\u0b3e","\u0bee":"\u0b85","\u0bb0":"\u0b88","\u0bbe":"\u0b88","\u0beb":"\u0b88\u0bc1","\u0be8":"\u0b89","\u0d09":"\u0b89","\u0b8a":"\u0b89\u0bb3","\u0d0a":"\u0b89\u0d57","\u0bed":"\u0b8e","\u0bf7":"\u0b8e\u0bb5","\u0b9c":"\u0b90","\u0d1c":"\u0b90","\u0be7":"\u0b95","\u0bea":"\u0b9a","\u0bec":"\u0b9a\u0bc1","\u0bf2":"\u0b9a\u0bc2","\u0d3a":"\u0b9f\u0bbf","\u0d23":"\u0ba3","\u0bfa":"\u0ba8\u0bc0","\u0bf4":"\u0bae\u0bc0","\u0bf0":"\u0baf","\u0d34":"\u0bb4","\u0bd7":"\u0bb3","\u0bc8":"\u0ba9","\u0d36":"\u0bb6","\u0bf8":"\u0bb7","\u0d3f":"\u0bbf","\u0d40":"\u0bbf","\u0bca":"\u0bc6\u0b88","\u0bcc":"\u0bc6\u0bb3","\u0bcb":"\u0bc7\u0b88","\u0c85":"\u0c05","\u0c86":"\u0c06","\u0c87":"\u0c07","\u0c60":"\u0c0b\u0c3e","\u0c61":"\u0c0c\u0c3e","\u0c92":"\u0c12","\u0c14":"\u0c12\u0c4c","\u0c94":"\u0c12\u0c4c","\u0c13":"\u0c12\u0c55","\u0c93":"\u0c12\u0c55","\u0c9c":"\u0c1c","\u0c9e":"\u0c1e","\u0c22":"\u0c21\u0323","\u0ca3":"\u0c23","\u0c25":"\u0c27\u05bc","\u0c2d":"\u0c2c\u0323","\u0caf":"\u0c2f","\u0c20":"\u0c30\u05bc","\u0cb1":"\u0c31","\u0cb2":"\u0c32","\u0c37":"\u0c35\u0323","\u0c39":"\u0c35\u0c3e","\u0c2e":"\u0c35\u0c41","\u0c42":"\u0c41\u0c3e","\u0c44":"\u0c43\u0c3e","\u0ce1":"\u0c8c\u0cbe","\u0d08":"\u0d07\u0d57","\u0d10":"\u0d0e\u0d46","\u0d13":"\u0d12\u0d3e","\u0d14":"\u0d12\u0d57","\u0d61":"\u0d1e","\u0d6b":"\u0d26\u0d4d\u0d30","\u0d79":"\u0d28\u0d41","\u0d0c":"\u0d28\u0d41","\u0d19":"\u0d28\u0d41","\u0d6f":"\u0d28\u0d4d","\u0d7b":"\u0d28\u0d4d","\u0d6c":"\u0d28\u0d4d\u0d28","\u0d5a":"\u0d28\u0d4d\u0d2e","\u0d31":"\u0d30","\u0d6a":"\u0d30\u0d4d","\u0d7c":"\u0d30\u0d4d","\u0d6e":"\u0d35\u0d4d\u0d30","\u0d76":"\u0d39\u0d4d\u0d2e","\u0d42":"\u0d41","\u0d43":"\u0d41","\u0d48":"\u0d46\u0d46","\u0dea":"\u0da2","\u0deb":"\u0daf","\ud805\udc13":"\ud805\udc34\ud805\udc42\ud805\udc12","\ud805\udc19":"\ud805\udc34\ud805\udc42\ud805\udc18","\ud805\udc24":"\ud805\udc34\ud805\udc42\ud805\udc23","\ud805\udc2a":"\ud805\udc34\ud805\udc42\ud805\udc29","\ud805\udc2d":"\ud805\udc34\ud805\udc42\ud805\udc2c","\ud805\udc2f":"\ud805\udc34\ud805\udc42\ud805\udc2e","\ud805\uddd8":"\ud805\udd82","\ud805\uddd9":"\ud805\udd82","\ud805\uddda":"\ud805\udd83","\ud805\udddb":"\ud805\udd84","\ud805\udddc":"\ud805\uddb2","\ud805\udddd":"\ud805\uddb3","\u0e03":"\u0e02","\u0e14":"\u0e04","\u0e15":"\u0e04","\u0e21":"\u0e06","\u0e88":"\u0e08","\u0e0b":"\u0e0a","\u0e0f":"\u0e0e","\u0e17":"\u0e11","\u0e9a":"\u0e1a","\u0e9b":"\u0e1b","\u0e9d":"\u0e1d","\u0e9e":"\u0e1e","\u0e9f":"\u0e1f","\u0e26":"\u0e20","\u0e8d":"\u0e22","\u17d4":"\u0e2f","\u0e45":"\u0e32","\u0e33":"\u030a\u0e32","\u17b7":"\u0e34","\u17b8":"\u0e35","\u17b9":"\u0e36","\u17ba":"\u0e37","\u0eb8":"\u0e38","\u0eb9":"\u0e39","\u0e41":"\u0e40\u0e40","\u0edc":"\u0eab\u0e99","\u0edd":"\u0eab\u0ea1","\u0eb3":"\u030a\u0eb2","\u0f02":"\u0f60\u0f74\u0f82\u0f7f","\u0f03":"\u0f60\u0f74\u0f82\u0f14","\u0f6a":"\u0f62","\u0f00":"\u0f68\u0f7c\u0f7e","\u0f77":"\u0fb2\u0f71\u0f80","\u0f79":"\u0fb3\u0f71\u0f80","\ud807\udcb2":"\ud807\udcaa","\u1081":"\u1002\u103e","\u1000":"\u1002\u102c","\u1070":"\u1003\u103e","\u1066":"\u1015\u103e","\u101f":"\u1015\u102c","\u106f":"\u1015\u102c\u103e","\u107e":"\u107d\u103e","\u1029":"\u101e\u103c","\u102a":"\u101e\u103c\u1031\u102c\u103a","\u109e":"\u1083\u030a","\u17a3":"\u17a2","\u19d0":"\u199e","\u19d1":"\u19b1","\u1a80":"\u1a45","\u1a90":"\u1a45","\uaa53":"\uaa01","\uaa56":"\uaa23","\u1b52":"\u1b0d","\u1b53":"\u1b11","\u1b58":"\u1b28","\ua9a3":"\ua99d","\u1896":"\u185c","\u1855":"\u1835","\u1ff6":"\u13ef","\u140d":"\u1401\xb7","\u142b":"\u1401\u1420","\u1411":"\u1404\xb7","\u1413":"\u1405\xb7","\u142d":"\u1405\u1420","\u1415":"\u1406\xb7","\u1418":"\u140a\xb7","\u142e":"\u140a\u1420","\u141a":"\u140b\xb7","\u18dd":"\u141e\u18df","\u14d1":"\u1421","\u1540":"\u1429","\u143f":"\u1432\xb7","\u1443":"\u1434\xb7","\u2369":"\u1435","\u1447":"\u1439\xb7","\u145c":"\u144f\xb7","\u2e27":"\u1450","\u2283":"\u1450","\u145e":"\u1450\xb7","\u1469":"\u1450'","\u27c9":"\u1450/","\u2ad7":"\u1450\u1455","\u1460":"\u1451\xb7","\u2e26":"\u1455","\u2282":"\u1455","\u1462":"\u1455\xb7","\u146a":"\u1455'","\u1464":"\u1456\xb7","\u1475":"\u146b\xb7","\u1485":"\u146b'","\u1479":"\u146e\xb7","\u147d":"\u1470\xb7","\u1603":"\u1489","\u1493":"\u1489\xb7","\u1495":"\u148b\xb7","\u1497":"\u148c\xb7","\u149b":"\u148e\xb7","\u1602":"\u1490","\u149d":"\u1490\xb7","\u149f":"\u1491\xb7","\u14ad":"\u14a3\xb7","\u14b1":"\u14a6\xb7","\u14b3":"\u14a7\xb7","\u14b5":"\u14a8\xb7","\u14b9":"\u14ab\xb7","\u14ca":"\u14c0\xb7","\u18c7":"\u14c2\xb7","\u18c9":"\u14c3\xb7","\u18cb":"\u14c4\xb7","\u18cd":"\u14c5\xb7","\u14cc":"\u14c7\xb7","\u14ce":"\u14c8\xb7","\u1604":"\u14d3","\u14dd":"\u14d3\xb7","\u14df":"\u14d5\xb7","\u14e1":"\u14d6\xb7","\u14e3":"\u14d7\xb7","\u14e5":"\u14d8\xb7","\u1607":"\u14da","\u14e7":"\u14da\xb7","\u14e9":"\u14db\xb7","\u14f7":"\u14ed\xb7","\u14f9":"\u14ef\xb7","\u14fb":"\u14f0\xb7","\u14fd":"\u14f1\xb7","\u14ff":"\u14f2\xb7","\u1501":"\u14f4\xb7","\u1503":"\u14f5\xb7","\u150c":"\u150b<","\u150e":"\u150bb","\u150d":"\u150b\u1455","\u150f":"\u150b\u1490","\u1518":"\u1510\xb7","\u151a":"\u1511\xb7","\u151c":"\u1512\xb7","\u151e":"\u1513\xb7","\u1520":"\u1514\xb7","\u1522":"\u1515\xb7","\u1524":"\u1516\xb7","\u1532":"\u1528\xb7","\u1534":"\u1529\xb7","\u1536":"\u152a\xb7","\u1538":"\u152b\xb7","\u153a":"\u152d\xb7","\u153c":"\u152e\xb7","\u1622":"\u1543","\u18e0":"\u1543\xb7","\u1623":"\u1546","\u1624":"\u154a","\u154f":"\u154c\xb7","\u1583":"\u1550b","\u1584":"\u1550b\u0307","\u1581":"\u1550d","\u157f":"\u1550P","\u166f":"\u1550\u146b","\u157e":"\u1550\u146c","\u1580":"\u1550\u146e","\u1582":"\u1550\u1470","\u1585":"\u1550\u1483","\u155c":"\u155a\xb7","\u18e3":"\u155e\xb7","\u18e4":"\u1566\xb7","\u1569":"\u1567\xb7","\u18e5":"\u156b\xb7","\u18e8":"\u1586\xb7","\u1591":"\u1595J","\u1670":"\u1595\u1489","\u158e":"\u1595\u148a","\u158f":"\u1595\u148b","\u1590":"\u1595\u148c","\u1592":"\u1595\u148e","\u1593":"\u1595\u1490","\u1594":"\u1595\u1491","\u1673":"\u1596J","\u1671":"\u1596\u148b","\u1672":"\u1596\u148c","\u1674":"\u1596\u148e","\u1675":"\u1596\u1490","\u1676":"\u1596\u1491","\u18ea":"\u1597\xb7","\u1677":"\u15a7\xb7","\u1678":"\u15a8\xb7","\u1679":"\u15a9\xb7","\u167a":"\u15aa\xb7","\u167b":"\u15ab\xb7","\u167c":"\u15ac\xb7","\u167d":"\u15ad\xb7","\u2aab":"\u15d2","\u2aaa":"\u15d5","\ua4f7":"\u15e1","\u18f0":"\u15f4\xb7","\u18f2":"\u161b\xb7","\u1dbb":"\u1646","\ua4ed":"\u1660","\u1dba":"\u18d4","\u1d3e":"\u18d6","\u18dc":"\u18df\u141e","\u02e1":"\u18f3","\u02b3":"\u18f4","\u02e2":"\u18f5","\u18db":"\u18f5","\ua6b0":"\u16b9","\u16e1":"\u16bc","\u237f":"\u16bd","\u16c2":"\u16bd","\ud834\ude3f":"\u16cb","\u2191":"\u16cf","\u21bf":"\u16d0","\u296e":"\u16d0\u21c2","\u2963":"\u16d0\u16da","\u2d63":"\u16ef","\u21be":"\u16da","\u2a21":"\u16da","\u22c4":"\u16dc","\u25c7":"\u16dc","\u25ca":"\u16dc","\u2662":"\u16dc","\ud83d\udf54":"\u16dc","\ud806\udcb7":"\u16dc","\ud800\ude94":"\u16dc","\u235a":"\u16dc\u0332","\u22c8":"\u16de","\u2a1d":"\u16de","\ud801\udcd0":"\u16e6","\u2195":"\u16e8","\ud803\udcfc":"\ud803\udc82","\ud803\udcfa":"\ud803\udca5","\u3131":"\u1100","\u11a8":"\u1100","\u1101":"\u1100\u1100","\u3132":"\u1100\u1100","\u11a9":"\u1100\u1100","\u11fa":"\u1100\u1102","\u115a":"\u1100\u1103","\u11c3":"\u1100\u1105","\u11fb":"\u1100\u1107","\u11aa":"\u1100\u1109","\u3133":"\u1100\u1109","\u11c4":"\u1100\u1109\u1100","\u11fc":"\u1100\u110e","\u11fd":"\u1100\u110f","\u11fe":"\u1100\u1112","\u3134":"\u1102","\u11ab":"\u1102","\u1113":"\u1102\u1100","\u11c5":"\u1102\u1100","\u1114":"\u1102\u1102","\u3165":"\u1102\u1102","\u11ff":"\u1102\u1102","\u1115":"\u1102\u1103","\u3166":"\u1102\u1103","\u11c6":"\u1102\u1103","\ud7cb":"\u1102\u1105","\u1116":"\u1102\u1107","\u115b":"\u1102\u1109","\u11c7":"\u1102\u1109","\u3167":"\u1102\u1109","\u115c":"\u1102\u110c","\u11ac":"\u1102\u110c","\u3135":"\u1102\u110c","\ud7cc":"\u1102\u110e","\u11c9":"\u1102\u1110","\u115d":"\u1102\u1112","\u11ad":"\u1102\u1112","\u3136":"\u1102\u1112","\u11c8":"\u1102\u1140","\u3168":"\u1102\u1140","\u3137":"\u1103","\u11ae":"\u1103","\u1117":"\u1103\u1100","\u11ca":"\u1103\u1100","\u1104":"\u1103\u1103","\u3138":"\u1103\u1103","\ud7cd":"\u1103\u1103","\ud7ce":"\u1103\u1103\u1107","\u115e":"\u1103\u1105","\u11cb":"\u1103\u1105","\ua960":"\u1103\u1106","\ua961":"\u1103\u1107","\ud7cf":"\u1103\u1107","\ua962":"\u1103\u1109","\ud7d0":"\u1103\u1109","\ud7d1":"\u1103\u1109\u1100","\ua963":"\u1103\u110c","\ud7d2":"\u1103\u110c","\ud7d3":"\u1103\u110e","\ud7d4":"\u1103\u1110","\u3139":"\u1105","\u11af":"\u1105","\ua964":"\u1105\u1100","\u11b0":"\u1105\u1100","\u313a":"\u1105\u1100","\ua965":"\u1105\u1100\u1100","\ud7d5":"\u1105\u1100\u1100","\u11cc":"\u1105\u1100\u1109","\u3169":"\u1105\u1100\u1109","\ud7d6":"\u1105\u1100\u1112","\u1118":"\u1105\u1102","\u11cd":"\u1105\u1102","\ua966":"\u1105\u1103","\u11ce":"\u1105\u1103","\u316a":"\u1105\u1103","\ua967":"\u1105\u1103\u1103","\u11cf":"\u1105\u1103\u1112","\u1119":"\u1105\u1105","\u11d0":"\u1105\u1105","\ud7d7":"\u1105\u1105\u110f","\ua968":"\u1105\u1106","\u11b1":"\u1105\u1106","\u313b":"\u1105\u1106","\u11d1":"\u1105\u1106\u1100","\u11d2":"\u1105\u1106\u1109","\ud7d8":"\u1105\u1106\u1112","\ua969":"\u1105\u1107","\u11b2":"\u1105\u1107","\u313c":"\u1105\u1107","\ud7d9":"\u1105\u1107\u1103","\ua96a":"\u1105\u1107\u1107","\u11d3":"\u1105\u1107\u1109","\u316b":"\u1105\u1107\u1109","\ua96b":"\u1105\u1107\u110b","\u11d5":"\u1105\u1107\u110b","\ud7da":"\u1105\u1107\u1111","\u11d4":"\u1105\u1107\u1112","\ua96c":"\u1105\u1109","\u11b3":"\u1105\u1109","\u313d":"\u1105\u1109","\u11d6":"\u1105\u1109\u1109","\u111b":"\u1105\u110b","\ud7dd":"\u1105\u110b","\ua96d":"\u1105\u110c","\ua96e":"\u1105\u110f","\u11d8":"\u1105\u110f","\u11b4":"\u1105\u1110","\u313e":"\u1105\u1110","\u11b5":"\u1105\u1111","\u313f":"\u1105\u1111","\u111a":"\u1105\u1112","\u3140":"\u1105\u1112","\u113b":"\u1105\u1112","\u11b6":"\u1105\u1112","\ud7f2":"\u1105\u1112","\u11d7":"\u1105\u1140","\u316c":"\u1105\u1140","\ud7db":"\u1105\u114c","\u11d9":"\u1105\u1159","\u316d":"\u1105\u1159","\ud7dc":"\u1105\u1159\u1112","\u3141":"\u1106","\u11b7":"\u1106","\ua96f":"\u1106\u1100","\u11da":"\u1106\u1100","\ud7de":"\u1106\u1102","\ud7df":"\u1106\u1102\u1102","\ua970":"\u1106\u1103","\u11db":"\u1106\u1105","\ud7e0":"\u1106\u1106","\u111c":"\u1106\u1107","\u316e":"\u1106\u1107","\u11dc":"\u1106\u1107","\ud7e1":"\u1106\u1107\u1109","\ua971":"\u1106\u1109","\u11dd":"\u1106\u1109","\u316f":"\u1106\u1109","\u11de":"\u1106\u1109\u1109","\u111d":"\u1106\u110b","\u3171":"\u1106\u110b","\u11e2":"\u1106\u110b","\ud7e2":"\u1106\u110c","\u11e0":"\u1106\u110e","\u11e1":"\u1106\u1112","\u11df":"\u1106\u1140","\u3170":"\u1106\u1140","\u3142":"\u1107","\u11b8":"\u1107","\u111e":"\u1107\u1100","\u3172":"\u1107\u1100","\u111f":"\u1107\u1102","\u1120":"\u1107\u1103","\u3173":"\u1107\u1103","\ud7e3":"\u1107\u1103","\u11e3":"\u1107\u1105","\ud7e4":"\u1107\u1105\u1111","\ud7e5":"\u1107\u1106","\u1108":"\u1107\u1107","\u3143":"\u1107\u1107","\ud7e6":"\u1107\u1107","\u112c":"\u1107\u1107\u110b","\u3179":"\u1107\u1107\u110b","\u1121":"\u1107\u1109","\u3144":"\u1107\u1109","\u11b9":"\u1107\u1109","\u1122":"\u1107\u1109\u1100","\u3174":"\u1107\u1109\u1100","\u1123":"\u1107\u1109\u1103","\u3175":"\u1107\u1109\u1103","\ud7e7":"\u1107\u1109\u1103","\u1124":"\u1107\u1109\u1107","\u1125":"\u1107\u1109\u1109","\u1126":"\u1107\u1109\u110c","\ua972":"\u1107\u1109\u1110","\u112b":"\u1107\u110b","\u3178":"\u1107\u110b","\u11e6":"\u1107\u110b","\u1127":"\u1107\u110c","\u3176":"\u1107\u110c","\ud7e8":"\u1107\u110c","\u1128":"\u1107\u110e","\ud7e9":"\u1107\u110e","\ua973":"\u1107\u110f","\u1129":"\u1107\u1110","\u3177":"\u1107\u1110","\u112a":"\u1107\u1111","\u11e4":"\u1107\u1111","\ua974":"\u1107\u1112","\u11e5":"\u1107\u1112","\u3145":"\u1109","\u11ba":"\u1109","\u112d":"\u1109\u1100","\u317a":"\u1109\u1100","\u11e7":"\u1109\u1100","\u112e":"\u1109\u1102","\u317b":"\u1109\u1102","\u112f":"\u1109\u1103","\u317c":"\u1109\u1103","\u11e8":"\u1109\u1103","\u1130":"\u1109\u1105","\u11e9":"\u1109\u1105","\u1131":"\u1109\u1106","\ud7ea":"\u1109\u1106","\u1132":"\u1109\u1107","\u317d":"\u1109\u1107","\u11ea":"\u1109\u1107","\u1133":"\u1109\u1107\u1100","\ud7eb":"\u1109\u1107\u110b","\u110a":"\u1109\u1109","\u3146":"\u1109\u1109","\u11bb":"\u1109\u1109","\ud7ec":"\u1109\u1109\u1100","\ud7ed":"\u1109\u1109\u1103","\ua975":"\u1109\u1109\u1107","\u1134":"\u1109\u1109\u1109","\u1135":"\u1109\u110b","\u1136":"\u1109\u110c","\u317e":"\u1109\u110c","\ud7ef":"\u1109\u110c","\u1137":"\u1109\u110e","\ud7f0":"\u1109\u110e","\u1138":"\u1109\u110f","\u1139":"\u1109\u1110","\ud7f1":"\u1109\u1110","\u113a":"\u1109\u1111","\ud7ee":"\u1109\u1140","\u3147":"\u110b","\u11bc":"\u110b","\u1141":"\u110b\u1100","\u11ec":"\u110b\u1100","\u11ed":"\u110b\u1100\u1100","\u1142":"\u110b\u1103","\ua976":"\u110b\u1105","\u1143":"\u110b\u1106","\u1144":"\u110b\u1107","\u1145":"\u110b\u1109","\u11f1":"\u110b\u1109","\u3182":"\u110b\u1109","\u1147":"\u110b\u110b","\u3180":"\u110b\u110b","\u11ee":"\u110b\u110b","\u1148":"\u110b\u110c","\u1149":"\u110b\u110e","\u11ef":"\u110b\u110f","\u114a":"\u110b\u1110","\u114b":"\u110b\u1111","\ua977":"\u110b\u1112","\u1146":"\u110b\u1140","\u11f2":"\u110b\u1140","\u3183":"\u110b\u1140","\u3148":"\u110c","\u11bd":"\u110c","\ud7f7":"\u110c\u1107","\ud7f8":"\u110c\u1107\u1107","\u114d":"\u110c\u110b","\u110d":"\u110c\u110c","\u3149":"\u110c\u110c","\ud7f9":"\u110c\u110c","\ua978":"\u110c\u110c\u1112","\u314a":"\u110e","\u11be":"\u110e","\u1152":"\u110e\u110f","\u1153":"\u110e\u1112","\u314b":"\u110f","\u11bf":"\u110f","\u314c":"\u1110","\u11c0":"\u1110","\ua979":"\u1110\u1110","\u314d":"\u1111","\u11c1":"\u1111","\u1156":"\u1111\u1107","\u11f3":"\u1111\u1107","\ud7fa":"\u1111\u1109","\u1157":"\u1111\u110b","\u3184":"\u1111\u110b","\u11f4":"\u1111\u110b","\ud7fb":"\u1111\u1110","\ua97a":"\u1111\u1112","\u314e":"\u1112","\u11c2":"\u1112","\u11f5":"\u1112\u1102","\u11f6":"\u1112\u1105","\u11f7":"\u1112\u1106","\u11f8":"\u1112\u1107","\ua97b":"\u1112\u1109","\u1158":"\u1112\u1112","\u3185":"\u1112\u1112","\u113d":"\u113c\u113c","\u113f":"\u113e\u113e","\u317f":"\u1140","\u11eb":"\u1140","\ud7f3":"\u1140\u1107","\ud7f4":"\u1140\u1107\u110b","\u3181":"\u114c","\u11f0":"\u114c","\ud7f5":"\u114c\u1106","\ud7f6":"\u114c\u1112","\u114f":"\u114e\u114e","\u1151":"\u1150\u1150","\u3186":"\u1159","\u11f9":"\u1159","\ua97c":"\u1159\u1159","\u3164":"\u1160","\u314f":"\u1161","\u11a3":"\u1161\u30fc","\u1176":"\u1161\u1169","\u1177":"\u1161\u116e","\u1162":"\u1161\u4e28","\u3150":"\u1161\u4e28","\u3151":"\u1163","\u1178":"\u1163\u1169","\u1179":"\u1163\u116d","\u11a4":"\u1163\u116e","\u1164":"\u1163\u4e28","\u3152":"\u1163\u4e28","\u3153":"\u1165","\u117c":"\u1165\u30fc","\u117a":"\u1165\u1169","\u117b":"\u1165\u116e","\u1166":"\u1165\u4e28","\u3154":"\u1165\u4e28","\u3155":"\u1167","\u11a5":"\u1167\u1163","\u117d":"\u1167\u1169","\u117e":"\u1167\u116e","\u1168":"\u1167\u4e28","\u3156":"\u1167\u4e28","\u3157":"\u1169","\u116a":"\u1169\u1161","\u3158":"\u1169\u1161","\u116b":"\u1169\u1161\u4e28","\u3159":"\u1169\u1161\u4e28","\u11a6":"\u1169\u1163","\u11a7":"\u1169\u1163\u4e28","\u117f":"\u1169\u1165","\u1180":"\u1169\u1165\u4e28","\ud7b0":"\u1169\u1167","\u1181":"\u1169\u1167\u4e28","\u1182":"\u1169\u1169","\ud7b1":"\u1169\u1169\u4e28","\u1183":"\u1169\u116e","\u116c":"\u1169\u4e28","\u315a":"\u1169\u4e28","\u315b":"\u116d","\ud7b2":"\u116d\u1161","\ud7b3":"\u116d\u1161\u4e28","\u1184":"\u116d\u1163","\u3187":"\u116d\u1163","\u1186":"\u116d\u1163","\u1185":"\u116d\u1163\u4e28","\u3188":"\u116d\u1163\u4e28","\ud7b4":"\u116d\u1165","\u1187":"\u116d\u1169","\u1188":"\u116d\u4e28","\u3189":"\u116d\u4e28","\u315c":"\u116e","\u1189":"\u116e\u1161","\u118a":"\u116e\u1161\u4e28","\u116f":"\u116e\u1165","\u315d":"\u116e\u1165","\u118b":"\u116e\u1165\u30fc","\u1170":"\u116e\u1165\u4e28","\u315e":"\u116e\u1165\u4e28","\ud7b5":"\u116e\u1167","\u118c":"\u116e\u1167\u4e28","\u118d":"\u116e\u116e","\u1171":"\u116e\u4e28","\u315f":"\u116e\u4e28","\ud7b6":"\u116e\u4e28\u4e28","\u3160":"\u1172","\u118e":"\u1172\u1161","\ud7b7":"\u1172\u1161\u4e28","\u118f":"\u1172\u1165","\u1190":"\u1172\u1165\u4e28","\u1191":"\u1172\u1167","\u318a":"\u1172\u1167","\u1192":"\u1172\u1167\u4e28","\u318b":"\u1172\u1167\u4e28","\ud7b8":"\u1172\u1169","\u1193":"\u1172\u116e","\u1194":"\u1172\u4e28","\u318c":"\u1172\u4e28","\u318d":"\u119e","\ud7c5":"\u119e\u1161","\u119f":"\u119e\u1165","\ud7c6":"\u119e\u1165\u4e28","\u11a0":"\u119e\u116e","\u11a2":"\u119e\u119e","\u11a1":"\u119e\u4e28","\u318e":"\u119e\u4e28","\u30d8":"\u3078","\u2341":"\u303c","\u29c4":"\u303c","\ua49e":"\ua04a","\ua4ac":"\ua050","\ua49c":"\ua0c0","\ua4a8":"\ua132","\ua4bf":"\ua259","\ua4be":"\ua2b1","\ua494":"\ua2cd","\ua4c0":"\ua3ab","\ua4c2":"\ua3b5","\ua4ba":"\ua3bf","\ua4b0":"\ua3c2","\ua4a7":"\ua458","\u22a5":"\ua4d5","\u27c2":"\ua4d5","\ud834\ude1c":"\ua4d5","\ua7b1":"\ua4d5","\ua79e":"\ua4e4","\u2141":"\ua4e8","\u2142":"\ua4f6","\ud834\ude15":"\ua4f6","\ud834\ude2b":"\ua4f6","\ud81b\udf26":"\ua4f6","\ud801\udc11":"\ua4f6","\u2143":"\ud81b\udf00","\ud806\udee6":"\ud806\udee5\ud806\udeef","\ud806\udee8":"\ud806\udee5\ud806\udee5","\ud806\udee9":"\ud806\udee5\ud806\udee5\ud806\udeef","\ud806\udeea":"\ud806\udee5\ud806\udee5\ud806\udef0","\ud806\udee7":"\ud806\udee5\ud806\udef0","\ud806\udef4":"\ud806\udef3\ud806\udeef","\ud806\udef6":"\ud806\udef3\ud806\udef3","\ud806\udef7":"\ud806\udef3\ud806\udef3\ud806\udeef","\ud806\udef8":"\ud806\udef3\ud806\udef3\ud806\udef0","\ud806\udef5":"\ud806\udef3\ud806\udef0","\ud806\udeec":"\ud806\udeeb\ud806\udeef","\ud806\udeed":"\ud806\udeeb\ud806\udeeb","\ud806\udeee":"\ud806\udeeb\ud806\udeeb\ud806\udeef","\u2295":"\ud800\udea8","\u2a01":"\ud800\udea8","\ud83d\udf28":"\ud800\udea8","\ua69a":"\ud800\udea8","\u25bd":"\ud800\udebc","\ud834\ude14":"\ud800\udebc","\ud83d\udf04":"\ud800\udebc","\u29d6":"\ud800\udec0","\ua79b":"\ud801\udc3a","\ua79a":"\ud801\udc12","\ud801\udca0":"\ud801\udc86","\ud800\udfd1":"\ud800\udf82","\ud800\udfd3":"\ud800\udf93","\ud808\udc38":"\ud800\udf9a","\u2625":"\ud802\udd9e","\ud80c\udef9":"\ud802\udd9e","\u3039":"\u5344","\uf967":"\u4e0d","\ud87e\udc00":"\u4e3d","\ufa70":"\u4e26","\u239c":"\u4e28","\u239f":"\u4e28","\u23a2":"\u4e28","\u23a5":"\u4e28","\u23aa":"\u4e28","\u23ae":"\u4e28","\u31d1":"\u4e28","\u1175":"\u4e28","\u3163":"\u4e28","\u2f01":"\u4e28","\u119c":"\u4e28\u30fc","\u1198":"\u4e28\u1161","\u1199":"\u4e28\u1163","\ud7bd":"\u4e28\u1163\u1169","\ud7be":"\u4e28\u1163\u4e28","\ud7bf":"\u4e28\u1167","\ud7c0":"\u4e28\u1167\u4e28","\u119a":"\u4e28\u1169","\ud7c1":"\u4e28\u1169\u4e28","\ud7c2":"\u4e28\u116d","\u119b":"\u4e28\u116e","\ud7c3":"\u4e28\u1172","\u119d":"\u4e28\u119e","\ud7c4":"\u4e28\u4e28","\uf905":"\u4e32","\ud87e\udc01":"\u4e38","\uf95e":"\u4e39","\ud87e\udc02":"\u4e41","\u31e0":"\u4e59","\u2f04":"\u4e59","\u31df":"\u4e5a","\u2e83":"\u4e5a","\u31d6":"\u4e5b","\u2e82":"\u4e5b","\u2ef2":"\u4e80","\uf91b":"\u4e82","\u31da":"\u4e85","\u2f05":"\u4e85","\uf9ba":"\u4e86","\u30cb":"\u4e8c","\u2f06":"\u4e8c","\ud87e\udc03":"\ud840\udd22","\u2f07":"\u4ea0","\uf977":"\u4eae","\u2f08":"\u4eba","\u30a4":"\u4ebb","\u2e85":"\u4ebb","\uf9fd":"\u4ec0","\ud87e\udc19":"\u4ecc","\uf9a8":"\u4ee4","\ud87e\udc04":"\u4f60","\u5002":"\u4f75","\ud87e\udc07":"\u4f75","\ufa73":"\u4f80","\uf92d":"\u4f86","\uf9b5":"\u4f8b","\ufa30":"\u4fae","\ud87e\udc05":"\u4fae","\ud87e\udc06":"\u4fbb","\uf965":"\u4fbf","\u503c":"\u5024","\uf9d4":"\u502b","\ud87e\udc08":"\u507a","\ud87e\udc09":"\u5099","\ud87e\udc0b":"\u50cf","\uf9bb":"\u50da","\ufa31":"\u50e7","\ud87e\udc0a":"\u50e7","\ud87e\udc0c":"\u349e","\u2f09":"\u513f","\ufa0c":"\u5140","\u2e8e":"\u5140","\ufa74":"\u5145","\ufa32":"\u514d","\ud87e\udc0e":"\u514d","\ud87e\udc0f":"\u5154","\ud87e\udc10":"\u5164","\u2f0a":"\u5165","\ud87e\udc14":"\u5167","\ufa72":"\u5168","\uf978":"\u5169","\u30cf":"\u516b","\u2f0b":"\u516b","\uf9d1":"\u516d","\ud87e\udc11":"\u5177","\ud87e\udc12":"\ud841\udd1c","\ud87e\udd1b":"\ud841\udd25","\ufa75":"\u5180","\ud87e\udc13":"\u34b9","\u2f0c":"\u5182","\ud87e\udc15":"\u518d","\ud87e\udc16":"\ud841\udd4b","\ud87e\udcd2":"\u5192","\ud87e\udcd3":"\u5195","\ud87e\uddca":"\u34bb","\ud87e\udcd4":"\u6700","\u2f0d":"\u5196","\ud87e\udc17":"\u5197","\ud87e\udc18":"\u51a4","\u2f0e":"\u51ab","\ud87e\udc1a":"\u51ac","\ufa71":"\u51b5","\ud87e\udc1b":"\u51b5","\uf92e":"\u51b7","\uf979":"\u51c9","\uf955":"\u51cc","\uf954":"\u51dc","\ufa15":"\u51de","\u2f0f":"\u51e0","\ud87e\udc0d":"\ud841\ude3a","\ud87e\udc1d":"\u51f5","\u2f10":"\u51f5","\u2f11":"\u5200","\u2e89":"\u5202","\ud87e\udc1e":"\u5203","\ufa00":"\u5207","\ud87e\udc50":"\u5207","\uf99c":"\u5217","\uf9dd":"\u5229","\ud87e\udc1f":"\u34df","\uf9ff":"\u523a","\ud87e\udc20":"\u523b","\ud87e\udc21":"\u5246","\ud87e\udc22":"\u5272","\ud87e\udc23":"\u5277","\uf9c7":"\u5289","\ud87e\uddd9":"\ud842\udc04","\u30ab":"\u529b","\uf98a":"\u529b","\u2f12":"\u529b","\uf99d":"\u52a3","\ud87e\udc24":"\u3515","\ud87e\udd92":"\u52b3","\ufa76":"\u52c7","\ud87e\udc25":"\u52c7","\ufa33":"\u52c9","\ud87e\udc26":"\u52c9","\uf952":"\u52d2","\uf92f":"\u52de","\ufa34":"\u52e4","\ud87e\udc27":"\u52e4","\uf97f":"\u52f5","\u2f13":"\u52f9","\ufa77":"\u52fa","\ud87e\udc28":"\u52fa","\ud87e\udc29":"\u5305","\ud87e\udc2a":"\u5306","\ud87e\udddd":"\ud842\udcde","\u2f14":"\u5315","\uf963":"\u5317","\ud87e\udc2b":"\u5317","\u2f15":"\u531a","\u2f16":"\u5338","\uf9eb":"\u533f","\u2f17":"\u5341","\u3038":"\u5341","\u303a":"\u5345","\ud87e\udc2c":"\u5349","\u0fd6":"\u534d","\u0fd5":"\u5350","\ufa35":"\u5351","\ud87e\udc2d":"\u5351","\ud87e\udc2e":"\u535a","\u30c8":"\u535c","\u2f18":"\u535c","\u2f19":"\u5369","\u2e8b":"\u353e","\ud87e\udc2f":"\u5373","\uf91c":"\u5375","\ud87e\udc30":"\u537d","\ud87e\udc31":"\u537f","\ud87e\udc32":"\u537f","\ud87e\udc33":"\u537f","\u2f1a":"\u5382","\ud87e\udc34":"\ud842\ude2c","\u2f1b":"\u53b6","\uf96b":"\u53c3","\u2f1c":"\u53c8","\ud87e\udc36":"\u53ca","\ud87e\udc37":"\u53df","\ud87e\udc38":"\ud842\udf63","\u30ed":"\u53e3","\u2f1d":"\u53e3","\u56d7":"\u53e3","\u2f1e":"\u53e3","\uf906":"\u53e5","\ud87e\udc39":"\u53eb","\ud87e\udc3a":"\u53f1","\ud87e\udc3b":"\u5406","\uf9de":"\u540f","\uf9ed":"\u541d","\ud87e\udc3d":"\u5438","\uf980":"\u5442","\ud87e\udc3e":"\u5448","\ud87e\udc3f":"\u5468","\ud87e\udc3c":"\u549e","\ud87e\udc40":"\u54a2","\uf99e":"\u54bd","\u439b":"\u3588","\ud87e\udc41":"\u54f6","\ud87e\udc42":"\u5510","\ud87e\udc43":"\u5553","\u555f":"\u5553","\ufa79":"\u5555","\ud87e\udc44":"\u5563","\ud87e\udc45":"\u5584","\ud87e\udc46":"\u5584","\uf90b":"\u5587","\ufa7a":"\u5599","\ud87e\udc47":"\u5599","\ufa36":"\u559d","\ufa78":"\u559d","\ud87e\udc48":"\u55ab","\ud87e\udc49":"\u55b3","\ufa0d":"\u55c0","\ud87e\udc4a":"\u55c2","\ufa7b":"\u55e2","\ufa37":"\u5606","\ud87e\udc4c":"\u5606","\ud87e\udc4e":"\u5651","\ud87e\udc4f":"\u5674","\ufa38":"\u5668","\uf9a9":"\u56f9","\ud87e\udc4b":"\u5716","\ud87e\udc4d":"\u5717","\u2f1f":"\u571f","\u58eb":"\u571f","\u2f20":"\u571f","\ud87e\udc55":"\u578b","\ud87e\udc52":"\u57ce","\u39b3":"\u363d","\ud87e\udc53":"\u57f4","\ud87e\udc54":"\u580d","\ud87e\udc57":"\u5831","\ud87e\udc56":"\u5832","\ufa39":"\u5840","\ufa10":"\u585a","\ufa7c":"\u585a","\uf96c":"\u585e","\u586b":"\u5861","\u58ff":"\u58ab","\ud87e\udc58":"\u58ac","\ufa7d":"\u58b3","\uf94a":"\u58d8","\uf942":"\u58df","\ud87e\udc59":"\ud845\udce4","\ud87e\udc51":"\u58ee","\ud87e\udc5a":"\u58f2","\ud87e\udc5b":"\u58f7","\u2f21":"\u5902","\ud87e\udc5c":"\u5906","\u2f22":"\u590a","\u30bf":"\u5915","\u2f23":"\u5915","\ud87e\udc5d":"\u591a","\ud87e\udc5e":"\u5922","\u2f24":"\u5927","\ufa7e":"\u5944","\uf90c":"\u5948","\uf909":"\u5951","\ufa7f":"\u5954","\ud87e\udc5f":"\u5962","\uf981":"\u5973","\u2f25":"\u5973","\ud87e\udc60":"\ud845\udea8","\ud87e\udc61":"\ud845\udeea","\ud87e\udc65":"\u59d8","\ud87e\udc62":"\u59ec","\ud87e\udc63":"\u5a1b","\ud87e\udc64":"\u5a27","\ufa80":"\u5a62","\ud87e\udc66":"\u5a66","\u5b00":"\u5aaf","\ud87e\udc67":"\u36ee","\ud87e\udc68":"\u36fc","\ud87e\udd86":"\u5ab5","\ud87e\udc69":"\u5b08","\ufa81":"\u5b28","\ud87e\udc6a":"\u5b3e","\ud87e\udc6b":"\u5b3e","\u2f26":"\u5b50","\u2f27":"\u5b80","\ufa04":"\u5b85","\ud87e\udc6c":"\ud846\uddc8","\ud87e\udc6d":"\u5bc3","\ud87e\udc6e":"\u5bd8","\uf95f":"\u5be7","\uf9aa":"\u5be7","\ud87e\udc6f":"\u5be7","\uf9bc":"\u5bee","\ud87e\udc70":"\u5bf3","\ud87e\udc71":"\ud846\udf18","\u2f28":"\u5bf8","\ud87e\udc72":"\u5bff","\ud87e\udc73":"\u5c06","\u2f29":"\u5c0f","\ud87e\udc75":"\u5c22","\u2e90":"\u5c22","\u2f2a":"\u5c22","\u2e8f":"\u5c23","\ud87e\udc76":"\u3781","\u2f2b":"\u5c38","\uf9bd":"\u5c3f","\ud87e\udc77":"\u5c60","\uf94b":"\u5c62","\ufa3b":"\u5c64","\uf9df":"\u5c65","\ufa3c":"\u5c6e","\ud87e\udc78":"\u5c6e","\u2f2c":"\u5c6e","\ud87e\udcf8":"\ud847\udd0b","\u2f2d":"\u5c71","\ud87e\udc79":"\u5cc0","\ud87e\udc7a":"\u5c8d","\ud87e\udc7b":"\ud847\udde4","\ud87e\udc7d":"\ud847\udde6","\uf9d5":"\u5d19","\ud87e\udc7c":"\u5d43","\uf921":"\u5d50","\ud87e\udc7f":"\u5d6b","\ud87e\udc7e":"\u5d6e","\ud87e\udc80":"\u5d7c","\ud87e\uddf4":"\u5db2","\uf9ab":"\u5dba","\u2f2e":"\u5ddb","\ud87e\udc82":"\u5de2","\u30a8":"\u5de5","\u2f2f":"\u5de5","\u2f30":"\u5df1","\u2e92":"\u5df3","\ud87e\udc83":"\u382f","\ud87e\udc84":"\u5dfd","\u2f31":"\u5dfe","\u5e32":"\u5e21","\ud87e\udc85":"\u5e28","\ud87e\udc86":"\u5e3d","\ud87e\udc87":"\u5e69","\ud87e\udc88":"\u3862","\ud87e\udc89":"\ud848\udd83","\u2f32":"\u5e72","\uf98e":"\u5e74","\ud87e\udd39":"\ud848\udd9f","\u2e93":"\u5e7a","\u2f33":"\u5e7a","\u2f34":"\u5e7f","\ufa01":"\u5ea6","\ud87e\udc8a":"\u387c","\ud87e\udc8b":"\u5eb0","\ud87e\udc8c":"\u5eb3","\ud87e\udc8d":"\u5eb6","\uf928":"\u5eca","\ud87e\udc8e":"\u5eca","\uf9a2":"\u5ec9","\ufa82":"\u5ed2","\ufa0b":"\u5ed3","\ufa83":"\u5ed9","\uf982":"\u5eec","\u2f35":"\u5ef4","\ud87e\udc90":"\u5efe","\u2f36":"\u5efe","\ud87e\udc91":"\ud848\udf31","\ud87e\udc92":"\ud848\udf31","\uf943":"\u5f04","\u2f37":"\u5f0b","\u2f38":"\u5f13","\ud87e\udc94":"\u5f22","\ud87e\udc95":"\u5f22","\u2f39":"\u5f50","\u2e94":"\u5f51","\ud87e\udc74":"\u5f53","\ud87e\udc96":"\u38c7","\u2f3a":"\u5f61","\ud87e\udc99":"\u5f62","\ufa84":"\u5f69","\ud87e\udc9a":"\u5f6b","\u2f3b":"\u5f73","\uf9d8":"\u5f8b","\ud87e\udc9b":"\u38e3","\ud87e\udc9c":"\u5f9a","\uf966":"\u5fa9","\ufa85":"\u5fad","\u2f3c":"\u5fc3","\u2e96":"\u5fc4","\u2e97":"\u38fa","\ud87e\udc9d":"\u5fcd","\ud87e\udc9e":"\u5fd7","\uf9a3":"\u5ff5","\ud87e\udc9f":"\u5ff9","\uf960":"\u6012","\uf9ac":"\u601c","\ufa6b":"\u6075","\ud87e\udca2":"\u391c","\ud87e\udca1":"\u393a","\ud87e\udca0":"\u6081","\ufa3d":"\u6094","\ud87e\udca3":"\u6094","\ud87e\udca5":"\u60c7","\ufa86":"\u60d8","\uf9b9":"\u60e1","\ud87e\udca4":"\ud849\uded4","\ufa88":"\u6108","\ufa3e":"\u6168","\uf9d9":"\u6144","\ud87e\udca6":"\u6148","\ud87e\udca7":"\u614c","\ud87e\udca9":"\u614c","\ufa87":"\u614e","\ud87e\udca8":"\u614e","\ufa8a":"\u6160","\ud87e\udcaa":"\u617a","\ufa3f":"\u618e","\ufa89":"\u618e","\ud87e\udcab":"\u618e","\uf98f":"\u6190","\ud87e\udcad":"\u61a4","\ud87e\udcae":"\u61af","\ud87e\udcac":"\u61b2","\ufad0":"\ud84a\udc44","\ufacf":"\ud84a\udc4a","\ud87e\udcaf":"\u61de","\ufa40":"\u61f2","\ufa8b":"\u61f2","\ud87e\udcb0":"\u61f2","\uf90d":"\u61f6","\ud87e\udcb1":"\u61f6","\uf990":"\u6200","\u2f3d":"\u6208","\ud87e\udcb2":"\u6210","\ud87e\udcb3":"\u621b","\uf9d2":"\u622e","\ufa8c":"\u6234","\u2f3e":"\u6236","\u6238":"\u6236","\u2f3f":"\u624b","\u2e98":"\u624c","\ud87e\udcb4":"\u625d","\ud87e\udcb5":"\u62b1","\uf925":"\u62c9","\uf95b":"\u62cf","\ufa02":"\u62d3","\ud87e\udcb6":"\u62d4","\ud87e\udcba":"\u62fc","\uf973":"\u62fe","\ud87e\udcb8":"\ud84a\udf0c","\ud87e\udcb9":"\u633d","\ud87e\udcb7":"\u6350","\ud87e\udcbb":"\u6368","\uf9a4":"\u637b","\ud87e\udcbc":"\u6383","\uf975":"\u63a0","\ud87e\udcc1":"\u63a9","\ufa8d":"\u63c4","\ud87e\udcbd":"\u63e4","\ufa8f":"\u6452","\ud87e\udcbe":"\ud84a\udff1","\ufa8e":"\u641c","\ud87e\udcbf":"\u6422","\ud87e\udcc0":"\u63c5","\ud87e\udcc3":"\u6469","\ud87e\udcc6":"\u6477","\ud87e\udcc4":"\u647e","\ud87e\udcc2":"\u3a2e","\u6409":"\u3a41","\uf991":"\u649a","\ud87e\udcc5":"\u649d","\uf930":"\u64c4","\ud87e\udcc7":"\u3a6c","\u2f40":"\u652f","\u2f41":"\u6534","\u2e99":"\u6535","\ufa41":"\u654f","\ud87e\udcc8":"\u654f","\ufa90":"\u6556","\ud87e\udcc9":"\u656c","\uf969":"\u6578","\ud87e\udcca":"\ud84c\udc0a","\u2f42":"\u6587","\u2eeb":"\u6589","\u2f43":"\u6597","\uf9be":"\u6599","\u2f44":"\u65a4","\u2f45":"\u65b9","\uf983":"\u65c5","\u2f46":"\u65e0","\u2e9b":"\u65e1","\ufa42":"\u65e2","\ud87e\udccb":"\u65e3","\u2f47":"\u65e5","\uf9e0":"\u6613","\u66f6":"\u3ada","\ud87e\udcd1":"\u3ae4","\ud87e\udccd":"\u6649","\u6669":"\u665a","\ufa12":"\u6674","\ufa91":"\u6674","\ufa43":"\u6691","\ud87e\udccf":"\u6691","\uf9c5":"\u6688","\ud87e\udcd0":"\u3b08","\ud87e\udcd5":"\u669c","\ufa06":"\u66b4","\uf98b":"\u66c6","\ud87e\udcce":"\u3b19","\ud87e\udc97":"\ud84c\udeb8","\u2f48":"\u66f0","\uf901":"\u66f4","\ud87e\udccc":"\u66f8","\u2f49":"\u6708","\ud87e\udd80":"\ud84c\udf5f","\u80a6":"\u670c","\u80d0":"\u670f","\u80ca":"\u6710","\u8101":"\u6713","\u80f6":"\u3b35","\uf929":"\u6717","\ufa92":"\u6717","\ud87e\udcd8":"\u6717","\u8127":"\u6718","\ufa93":"\u671b","\ud87e\udcd9":"\u671b","\u5e50":"\u3b3a","\u4420":"\u3b3b","\ud87e\udd89":"\ud84c\udf93","\u81a7":"\u6723","\ud87e\udd8a":"\ud84c\udf9c","\u2f4a":"\u6728","\uf9e1":"\u674e","\ud87e\udcdc":"\u6753","\ufa94":"\u6756","\ud87e\udcdb":"\u675e","\ud87e\udcdd":"\ud84c\udfc3","\u67ff":"\u676e","\uf9c8":"\u677b","\ud87e\udce0":"\u6785","\uf9f4":"\u6797","\ud87e\udcde":"\u3b49","\ufad1":"\ud84c\udfd5","\uf9c9":"\u67f3","\ud87e\udcdf":"\u67fa","\uf9da":"\u6817","\ud87e\udce5":"\u681f","\ud87e\udce1":"\u6852","\ud87e\udce3":"\ud84d\udc6d","\uf97a":"\u6881","\ufa44":"\u6885","\ud87e\udce2":"\u6885","\ud87e\udce4":"\u688e","\uf9e2":"\u68a8","\ud87e\udce6":"\u6914","\ud87e\udce8":"\u6942","\ufad2":"\u3b9d","\ud87e\udce7":"\u3b9d","\u69e9":"\u3ba3","\u6a27":"\u699d","\ud87e\udce9":"\u69a3","\ud87e\udcea":"\u69ea","\uf914":"\u6a02","\uf95c":"\u6a02","\uf9bf":"\u6a02","\uf94c":"\u6a13","\ud87e\udcec":"\ud84d\udea3","\ud87e\udceb":"\u6aa8","\uf931":"\u6ad3","\ud87e\udced":"\u6adb","\uf91d":"\u6b04","\ud87e\udcee":"\u3c18","\u2f4b":"\u6b20","\ud87e\udcef":"\u6b21","\ud87e\udcf0":"\ud84e\udca7","\ud87e\udcf1":"\u6b54","\ud87e\udcf2":"\u3c4e","\u2f4c":"\u6b62","\u2eed":"\u6b6f","\ud87e\udcf3":"\u6b72","\uf98c":"\u6b77","\ufa95":"\u6b79","\u2f4d":"\u6b79","\u2e9e":"\u6b7a","\ud87e\udcf4":"\u6b9f","\uf9a5":"\u6bae","\u2f4e":"\u6bb3","\uf970":"\u6bba","\ufa96":"\u6bba","\ud87e\udcf5":"\u6bba","\ud87e\udcf6":"\u6bbb","\ud87e\udcf7":"\ud84e\ude8d","\u2f4f":"\u6bcb","\u2e9f":"\u6bcd","\ud87e\udcf9":"\ud84e\udefa","\u2f50":"\u6bd4","\u2f51":"\u6bdb","\u2f52":"\u6c0f","\u2ea0":"\u6c11","\u2f53":"\u6c14","\u2f54":"\u6c34","\u2ea1":"\u6c35","\u2ea2":"\u6c3a","\ud87e\udcfa":"\u6c4e","\ud87e\udcfe":"\u6c67","\uf972":"\u6c88","\ud87e\udcfc":"\u6cbf","\uf968":"\u6ccc","\ud87e\udcfd":"\u6ccd","\uf9e3":"\u6ce5","\ud87e\udcfb":"\ud84f\udcbc","\uf915":"\u6d1b","\ufa05":"\u6d1e","\ud87e\udd07":"\u6d34","\ud87e\udd00":"\u6d3e","\uf9ca":"\u6d41","\ufa97":"\u6d41","\ud87e\udd02":"\u6d41","\ud87e\udcff":"\u6d16","\ud87e\udd03":"\u6d69","\uf92a":"\u6d6a","\ufa45":"\u6d77","\ud87e\udd01":"\u6d77","\ud87e\udd04":"\u6d78","\ud87e\udd05":"\u6d85","\ud87e\udd06":"\ud84f\udd1e","\uf9f5":"\u6dcb","\uf94d":"\u6dda","\uf9d6":"\u6dea","\ud87e\udd0e":"\u6df9","\ufa46":"\u6e1a","\ud87e\udd08":"\u6e2f","\ud87e\udd09":"\u6e6e","\u6f59":"\u6e88","\ufa99":"\u6ecb","\ud87e\udd0b":"\u6ecb","\uf9cb":"\u6e9c","\uf9ec":"\u6eba","\ud87e\udd0c":"\u6ec7","\uf904":"\u6ed1","\ufa98":"\u6edb","\ud87e\udd0a":"\u3d33","\uf94e":"\u6f0f","\ufa47":"\u6f22","\ufa9a":"\u6f22","\uf992":"\u6f23","\ud87e\udd0d":"\ud84f\uded1","\ud87e\udd0f":"\u6f6e","\ud87e\udd10":"\ud84f\udf5e","\ud87e\udd11":"\ud84f\udf8e","\ud87e\udd12":"\u6fc6","\uf922":"\u6feb","\uf984":"\u6ffe","\ud87e\udd15":"\u701b","\ufa9b":"\u701e","\ud87e\udd14":"\u701e","\ud87e\udd13":"\u7039","\ud87e\udd17":"\u704a","\ud87e\udd16":"\u3d96","\u2f55":"\u706b","\u2ea3":"\u706c","\ud87e\udc35":"\u7070","\ud87e\udd19":"\u7077","\ud87e\udd18":"\u707d","\uf9fb":"\u7099","\ud87e\udd1a":"\u70ad","\uf99f":"\u70c8","\uf916":"\u70d9","\ufa48":"\u716e","\ufa9c":"\u716e","\ud87e\udd1d":"\ud850\ude63","\ud87e\udd1c":"\u7145","\uf993":"\u7149","\ufa6c":"\ud850\udeee","\ud87e\udd1e":"\u719c","\uf9c0":"\u71ce","\uf9ee":"\u71d0","\ud87e\udd1f":"\ud850\udfab","\uf932":"\u7210","\uf91e":"\u721b","\ud87e\udd20":"\u7228","\u2f56":"\u722a","\ufa49":"\u722b","\u2ea4":"\u722b","\ufa9e":"\u7235","\ud87e\udd21":"\u7235","\u2f57":"\u7236","\u2f58":"\u723b","\u2ea6":"\u4e2c","\u2f59":"\u723f","\u2f5a":"\u7247","\ud87e\udd22":"\u7250","\u2f5b":"\u7259","\ud87e\udd23":"\ud851\ude08","\u2f5c":"\u725b","\uf946":"\u7262","\ud87e\udd24":"\u7280","\ud87e\udd25":"\u7295","\u2f5d":"\u72ac","\u2ea8":"\u72ad","\ufa9f":"\u72af","\uf9fa":"\u72c0","\ud87e\udd26":"\ud851\udf35","\uf92b":"\u72fc","\ufa16":"\u732a","\ufaa0":"\u732a","\ud87e\udd27":"\ud852\udc14","\uf9a7":"\u7375","\ud87e\udd28":"\u737a","\u2f5e":"\u7384","\uf961":"\u7387","\uf9db":"\u7387","\u2f5f":"\u7389","\ud87e\udd29":"\u738b","\ud87e\udd2a":"\u3eac","\ud87e\udd2b":"\u73a5","\uf9ad":"\u73b2","\ud87e\udd2c":"\u3eb8","\ud87e\udd2d":"\u3eb8","\uf917":"\u73de","\uf9cc":"\u7409","\uf9e4":"\u7406","\ufa4a":"\u7422","\ud87e\udd2e":"\u7447","\ud87e\udd2f":"\u745c","\uf9ae":"\u7469","\ufaa1":"\u7471","\ud87e\udd30":"\u7471","\ud87e\udd31":"\u7485","\uf994":"\u7489","\uf9ef":"\u7498","\ud87e\udd32":"\u74ca","\u2f60":"\u74dc","\u2f61":"\u74e6","\ud87e\udd33":"\u3f1b","\ufaa2":"\u7506","\u2f62":"\u7518","\u2f63":"\u751f","\ud87e\udd34":"\u7524","\u2f64":"\u7528","\u2f65":"\u7530","\ufaa3":"\u753b","\ud87e\udd36":"\u753e","\ud87e\udd35":"\ud853\udc36","\uf9cd":"\u7559","\uf976":"\u7565","\uf962":"\u7570","\ud87e\udd38":"\u7570","\ud87e\udd37":"\ud853\udc92","\u2f66":"\u758b","\u2f67":"\u7592","\uf9e5":"\u75e2","\ud87e\udd3a":"\u7610","\ufaa5":"\u761f","\ufaa4":"\u761d","\uf9c1":"\u7642","\uf90e":"\u7669","\u2f68":"\u7676","\u2f69":"\u767d","\ud87e\udd3b":"\ud853\udfa1","\ud87e\udd3c":"\ud853\udfb8","\u2f6a":"\u76ae","\u2f6b":"\u76bf","\ud87e\udd3d":"\ud854\udc44","\ud87e\udd3e":"\u3ffc","\ufa17":"\u76ca","\ufaa6":"\u76ca","\ufaa7":"\u76db","\uf933":"\u76e7","\ud87e\udd3f":"\u4008","\u2f6c":"\u76ee","\ufaa8":"\u76f4","\ud87e\udd40":"\u76f4","\ud87e\udd42":"\ud854\udcf2","\ud87e\udd41":"\ud854\udcf3","\uf96d":"\u7701","\ufad3":"\u4018","\ud87e\udd43":"\ud854\udd19","\ud87e\udd45":"\u771e","\ud87e\udd46":"\u771f","\ud87e\udd47":"\u771f","\ud87e\udd44":"\ud854\udd33","\ufaaa":"\u7740","\ufaa9":"\u774a","\ud87e\udd48":"\u774a","\u9fc3":"\u4039","\ufad4":"\u4039","\ud87e\udd49":"\u4039","\u6663":"\u403f","\ud87e\udd4b":"\u4046","\ud87e\udd4a":"\u778b","\ufad5":"\ud854\ude49","\ufa9d":"\u77a7","\u2f6d":"\u77db","\u2f6e":"\u77e2","\u2f6f":"\u77f3","\ud87e\udd4c":"\u4096","\ud87e\udd4d":"\ud855\udc1d","\u784f":"\u7814","\ud87e\udd4e":"\u784e","\uf9ce":"\u786b","\uf93b":"\u788c","\ud87e\udd4f":"\u788c","\ufa4b":"\u7891","\uf947":"\u78ca","\ufaab":"\u78cc","\ud87e\udd50":"\u78cc","\uf964":"\u78fb","\ud87e\udd51":"\u40e3","\uf985":"\u792a","\u2f70":"\u793a","\u2ead":"\u793b","\ufa18":"\u793c","\ufa4c":"\u793e","\ufa4e":"\u7948","\ufa4d":"\u7949","\ud87e\udd52":"\ud855\ude26","\ufa4f":"\u7950","\ufa50":"\u7956","\ud87e\udd53":"\u7956","\ufa51":"\u795d","\ufa19":"\u795e","\ufa1a":"\u7965","\ufa61":"\u8996","\ufab8":"\u8996","\uf93c":"\u797f","\ud87e\udd54":"\ud855\ude9a","\ufa52":"\u798d","\ufa53":"\u798e","\ufa1b":"\u798f","\ud87e\udd56":"\u798f","\ud87e\udd55":"\ud855\udec5","\uf9b6":"\u79ae","\u2f71":"\u79b8","\u2f72":"\u79be","\uf995":"\u79ca","\ud87e\udd58":"\u412f","\ud87e\udd57":"\u79eb","\uf956":"\u7a1c","\ud87e\udd5a":"\u7a4a","\ufa54":"\u7a40","\ud87e\udd59":"\u7a40","\ud87e\udd5b":"\u7a4f","\u2f73":"\u7a74","\ufa55":"\u7a81","\ud87e\udd5c":"\ud856\udd7c","\ufaac":"\u7ab1","\uf9f7":"\u7acb","\u2f74":"\u7acb","\u2eef":"\u7adc","\ud87e\udd5d":"\ud856\udea7","\ud87e\udd5e":"\ud856\udea7","\ud87e\udd5f":"\u7aee","\u2f75":"\u7af9","\uf9f8":"\u7b20","\ufa56":"\u7bc0","\ufaad":"\u7bc0","\ud87e\udd60":"\u4202","\ud87e\udd61":"\ud856\udfab","\ud87e\udd62":"\u7bc6","\ud87e\udd64":"\u4227","\ud87e\udd63":"\u7bc9","\ud87e\udd65":"\ud857\udc80","\ufad6":"\ud857\udcd0","\uf9a6":"\u7c3e","\uf944":"\u7c60","\u2f76":"\u7c73","\ufaae":"\u7c7b","\uf9f9":"\u7c92","\ufa1d":"\u7cbe","\ud87e\udd66":"\u7cd2","\ufa03":"\u7cd6","\ud87e\udd68":"\u7ce8","\ud87e\udd67":"\u42a0","\ud87e\udd69":"\u7ce3","\uf97b":"\u7ce7","\u2f77":"\u7cf8","\u2eaf":"\u7cf9","\ud87e\udd6b":"\ud857\udf86","\ud87e\udd6a":"\u7d00","\uf9cf":"\u7d10","\uf96a":"\u7d22","\uf94f":"\u7d2f","\u7d76":"\u7d55","\ud87e\udd6c":"\u7d63","\ufaaf":"\u7d5b","\uf93d":"\u7da0","\uf957":"\u7dbe","\ud87e\udd6e":"\u7dc7","\uf996":"\u7df4","\ufa57":"\u7df4","\ufab0":"\u7df4","\ud87e\udd6f":"\u7e02","\ud87e\udd6d":"\u4301","\ufa58":"\u7e09","\uf950":"\u7e37","\ufa59":"\u7e41","\ud87e\udd70":"\u7e45","\ud87e\udc98":"\ud858\uddda","\ud87e\udd71":"\u4334","\u2f78":"\u7f36","\ud87e\udd72":"\ud858\ude28","\ufab1":"\u7f3e","\ud87e\udd73":"\ud858\ude47","\u2f79":"\u7f51","\u2eab":"\u7f52","\u2eb2":"\u7f52","\u2eb1":"\u7f53","\ud87e\udd74":"\u4359","\ufa5a":"\u7f72","\ud87e\udd75":"\ud858\uded9","\uf9e6":"\u7f79","\ud87e\udd76":"\u7f7a","\uf90f":"\u7f85","\ud87e\udd77":"\ud858\udf3e","\u2f7a":"\u7f8a","\ud87e\udd78":"\u7f95","\uf9af":"\u7f9a","\ufa1e":"\u7fbd","\u2f7b":"\u7fbd","\ud87e\udd79":"\u7ffa","\uf934":"\u8001","\u2f7c":"\u8001","\u2eb9":"\u8002","\ufa5b":"\u8005","\ufab2":"\u8005","\ud87e\udd7a":"\u8005","\u2f7d":"\u800c","\ud87e\udd7b":"\ud859\udcda","\u2f7e":"\u8012","\ud87e\udd7c":"\ud859\udd23","\u2f7f":"\u8033","\uf9b0":"\u8046","\ud87e\udd7d":"\u8060","\ud87e\udd7e":"\ud859\udda8","\uf997":"\u806f","\ud87e\udd7f":"\u8070","\uf945":"\u807e","\u2f80":"\u807f","\u2eba":"\u8080","\u2f81":"\u8089","\uf953":"\u808b","\ud87e\udcd6":"\u80ad","\ud87e\udd82":"\u80b2","\ud87e\udd81":"\u43d5","\ud87e\udcd7":"\u43d9","\u8141":"\u80fc","\ud87e\udd83":"\u8103","\ud87e\udd85":"\u813e","\ud87e\udd84":"\u440b","\ud87e\udcda":"\u6721","\ud87e\udd87":"\ud859\udfa7","\ud87e\udd88":"\ud859\udfb5","\u6726":"\u4443","\uf926":"\u81d8","\u2f82":"\u81e3","\uf9f6":"\u81e8","\u2f83":"\u81ea","\ufa5c":"\u81ed","\u2f84":"\u81f3","\u2f85":"\u81fc","\ud87e\udc93":"\u8201","\ud87e\udd8b":"\u8201","\ud87e\udd8c":"\u8204","\u2f86":"\u820c","\ufa6d":"\u8218","\u2f87":"\u821b","\u2f88":"\u821f","\ud87e\udd8e":"\u446b","\u2f89":"\u826e","\uf97c":"\u826f","\u2f8a":"\u8272","\u2f8b":"\u8278","\ufa5d":"\u8279","\ufa5e":"\u8279","\u2ebe":"\u8279","\u2ebf":"\u8279","\u2ec0":"\u8279","\ud87e\udd90":"\u828b","\ud87e\udd8f":"\u8291","\ud87e\udd91":"\u829d","\ud87e\udd93":"\u82b1","\ud87e\udd94":"\u82b3","\ud87e\udd95":"\u82bd","\uf974":"\u82e5","\ud87e\udd98":"\u82e5","\ud87e\udd96":"\u82e6","\ud87e\udd97":"\ud85a\udf3c","\uf9fe":"\u8336","\ufab3":"\u8352","\ud87e\udd9a":"\u8363","\ud87e\udd99":"\u831d","\ud87e\udd9c":"\u8323","\ud87e\udd9d":"\u83bd","\ud87e\udda0":"\u8353","\uf93e":"\u83c9","\ud87e\udda1":"\u83ca","\ud87e\udda2":"\u83cc","\ud87e\udda3":"\u83dc","\ud87e\udd9e":"\u83e7","\ufab4":"\u83ef","\uf958":"\u83f1","\ufa5f":"\u8457","\ud87e\udd9f":"\u8457","\ud87e\udda4":"\ud85b\udc36","\ud87e\udd9b":"\u83ad","\uf918":"\u843d","\uf96e":"\u8449","\u853f":"\u848d","\ud87e\udda6":"\ud85b\udcd5","\ud87e\udda5":"\ud85b\udd6b","\uf999":"\u84ee","\ud87e\udda8":"\u84f1","\ud87e\udda9":"\u84f3","\uf9c2":"\u84fc","\ud87e\uddaa":"\u8516","\ud87e\udda7":"\u452b","\ud87e\uddac":"\u8564","\ud87e\uddad":"\ud85b\udf2c","\uf923":"\u85cd","\ud87e\uddae":"\u455d","\ud87e\uddb0":"\ud85b\udfb1","\ud87e\uddaf":"\u4561","\uf9f0":"\u85fa","\uf935":"\u8606","\ud87e\uddb2":"\u456b","\ufa20":"\u8612","\uf91f":"\u862d","\ud87e\uddb1":"\ud85c\udcd2","\u8641":"\u8637","\uf910":"\u863f","\u2f8c":"\u864d","\u2ec1":"\u864e","\ud87e\uddb3":"\u8650","\uf936":"\u865c","\ud87e\uddb4":"\u865c","\ud87e\uddb5":"\u8667","\ud87e\uddb6":"\u8669","\u2f8d":"\u866b","\ud87e\uddb7":"\u86a9","\ud87e\uddb8":"\u8688","\ud87e\uddba":"\u86e2","\ud87e\uddb9":"\u870e","\ud87e\uddbc":"\u8728","\ud87e\uddbd":"\u876b","\ud87e\uddc0":"\u87e1","\ufab5":"\u8779","\ud87e\uddbb":"\u8779","\ud87e\uddbe":"\u8786","\ud87e\uddbf":"\u45d7","\ud87e\uddab":"\ud85c\udfca","\uf911":"\u87ba","\ud87e\uddc1":"\u8801","\ud87e\uddc2":"\u45f9","\uf927":"\u881f","\u2f8e":"\u8840","\ufa08":"\u884c","\u2f8f":"\u884c","\ud87e\uddc3":"\u8860","\ud87e\uddc4":"\u8863","\u2f90":"\u8863","\u2ec2":"\u8864","\uf9a0":"\u88c2","\ud87e\uddc5":"\ud85d\ude67","\uf9e7":"\u88cf","\ud87e\uddc6":"\u88d7","\ud87e\uddc7":"\u88de","\uf9e8":"\u88e1","\uf912":"\u88f8","\ud87e\uddc9":"\u88fa","\ud87e\uddc8":"\u4635","\ufa60":"\u8910","\ufab6":"\u8941","\uf924":"\u8964","\u2f91":"\u897e","\u2ec4":"\u897f","\u2ec3":"\u8980","\ufab7":"\u8986","\ufa0a":"\u898b","\u2f92":"\u898b","\ud87e\uddcb":"\ud85e\udcae","\u2ec5":"\u89c1","\u2f93":"\u89d2","\u2f94":"\u8a00","\ud87e\uddcc":"\ud85e\udd66","\u8a7d":"\u8a2e","\u8a1e":"\u46b6","\ud87e\uddcd":"\u46be","\ud87e\uddce":"\u46c7","\ud87e\uddcf":"\u8aa0","\uf96f":"\u8aaa","\uf9a1":"\u8aaa","\ufab9":"\u8abf","\ufabb":"\u8acb","\uf97d":"\u8ad2","\uf941":"\u8ad6","\ufabe":"\u8aed","\ud87e\uddd0":"\u8aed","\ufa22":"\u8af8","\ufaba":"\u8af8","\uf95d":"\u8afe","\ufabd":"\u8afe","\ufa62":"\u8b01","\ufabc":"\u8b01","\ufa63":"\u8b39","\ufabf":"\u8b39","\uf9fc":"\u8b58","\uf95a":"\u8b80","\u8b8f":"\u8b86","\ufac0":"\u8b8a","\ud87e\uddd1":"\u8b8a","\u2ec8":"\u8ba0","\u2f95":"\u8c37","\u2f96":"\u8c46","\uf900":"\u8c48","\ud87e\uddd2":"\u8c55","\u2f97":"\u8c55","\u8c63":"\u8c5c","\u2f98":"\u8c78","\ud87e\uddd3":"\ud85f\udca8","\u2f99":"\u8c9d","\ud87e\uddd4":"\u8cab","\ud87e\uddd5":"\u8cc1","\uf948":"\u8cc2","\uf903":"\u8cc8","\ufa64":"\u8cd3","\ufa65":"\u8d08","\ufac1":"\u8d08","\ud87e\uddd6":"\u8d1b","\u2ec9":"\u8d1d","\u2f9a":"\u8d64","\u2f9b":"\u8d70","\ud87e\uddd7":"\u8d77","\u8d86":"\u8d7f","\ufad7":"\ud85f\uded3","\ud87e\uddd8":"\ud85f\udf2f","\u2f9c":"\u8db3","\ud87e\uddda":"\u8dcb","\ud87e\udddb":"\u8dbc","\u8dfa":"\u8de5","\uf937":"\u8def","\ud87e\udddc":"\u8df0","\u8e9b":"\u8e97","\u2f9d":"\u8eab","\uf902":"\u8eca","\u2f9e":"\u8eca","\ud87e\uddde":"\u8ed4","\u8f27":"\u8eff","\uf998":"\u8f26","\uf9d7":"\u8f2a","\ufac2":"\u8f38","\ud87e\udddf":"\u8f38","\ufa07":"\u8f3b","\uf98d":"\u8f62","\u2ecb":"\u8f66","\u2f9f":"\u8f9b","\ud87e\udd8d":"\u8f9e","\uf971":"\u8fb0","\u2fa0":"\u8fb0","\u2fa1":"\u8fb5","\ufa66":"\u8fb6","\u2ecc":"\u8fb6","\u2ecd":"\u8fb6","\ud87e\udc81":"\u5de1","\uf99a":"\u9023","\ufa25":"\u9038","\ufa67":"\u9038","\ufac3":"\u9072","\uf9c3":"\u907c","\ud87e\udde0":"\ud861\uddd2","\ud87e\udde1":"\ud861\udded","\uf913":"\u908f","\u2fa2":"\u9091","\ud87e\udde2":"\u9094","\uf92c":"\u90ce","\u90de":"\u90ce","\ufa2e":"\u90ce","\ud87e\udde3":"\u90f1","\ufa26":"\u90fd","\ud87e\udde5":"\ud861\udf2e","\ud87e\udde4":"\u9111","\ud87e\udde6":"\u911b","\u2fa3":"\u9149","\uf919":"\u916a","\ufac4":"\u9199","\uf9b7":"\u91b4","\u2fa4":"\u91c6","\uf9e9":"\u91cc","\u2fa5":"\u91cc","\uf97e":"\u91cf","\uf90a":"\u91d1","\u2fa6":"\u91d1","\uf9b1":"\u9234","\ud87e\udde7":"\u9238","\ufac5":"\u9276","\ud87e\udde8":"\u92d7","\ud87e\udde9":"\u92d8","\ud87e\uddea":"\u927c","\uf93f":"\u9304","\uf99b":"\u934a","\u93ae":"\u93ad","\ud87e\uddeb":"\u93f9","\ud87e\uddec":"\u9415","\ud87e\udded":"\ud862\udffa","\u2ed0":"\u9485","\u2ed1":"\u9577","\u2fa7":"\u9577","\u2ed2":"\u9578","\u2ed3":"\u957f","\u2fa8":"\u9580","\ud87e\uddee":"\u958b","\ud87e\uddef":"\u4995","\uf986":"\u95ad","\ud87e\uddf0":"\u95b7","\ud87e\uddf1":"\ud863\udd77","\u2ed4":"\u95e8","\u2fa9":"\u961c","\u2ecf":"\u961d","\u2ed6":"\u961d","\uf9c6":"\u962e","\uf951":"\u964b","\ufa09":"\u964d","\uf959":"\u9675","\uf9d3":"\u9678","\ufac6":"\u967c","\uf9dc":"\u9686","\uf9f1":"\u96a3","\ud87e\uddf2":"\u49e6","\u2faa":"\u96b6","\ufa2f":"\u96b7","\u96b8":"\u96b7","\uf9b8":"\u96b7","\u2fab":"\u96b9","\ud87e\uddf3":"\u96c3","\uf9ea":"\u96e2","\ufa68":"\u96e3","\ufac7":"\u96e3","\u2fac":"\u96e8","\uf9b2":"\u96f6","\uf949":"\u96f7","\ud87e\uddf5":"\u9723","\ud87e\uddf6":"\ud864\udd45","\uf938":"\u9732","\uf9b3":"\u9748","\u2fad":"\u9751","\u2ed8":"\u9752","\ufa1c":"\u9756","\ufac8":"\u9756","\ud87e\udc1c":"\ud864\udddf","\u2fae":"\u975e","\u2faf":"\u9762","\ud87e\uddf7":"\ud864\ude1a","\u2fb0":"\u9769","\ud87e\uddf8":"\u4a6e","\ud87e\uddf9":"\u4a76","\u2fb1":"\u97cb","\ufac9":"\u97db","\ud87e\uddfa":"\u97e0","\u2ed9":"\u97e6","\u2fb2":"\u97ed","\ud87e\uddfb":"\ud865\udc0a","\u2fb3":"\u97f3","\ufa69":"\u97ff","\ufaca":"\u97ff","\u2fb4":"\u9801","\ud87e\uddfc":"\u4ab2","\ufacb":"\u980b","\ud87e\uddfe":"\u980b","\ud87e\uddff":"\u980b","\uf9b4":"\u9818","\ud87e\ude00":"\u9829","\ud87e\uddfd":"\ud865\udc96","\ufa6a":"\u983b","\ufacc":"\u983b","\uf9d0":"\u985e","\u2eda":"\u9875","\u2fb5":"\u98a8","\ud87e\ude01":"\ud865\uddb6","\u2edb":"\u98ce","\u2fb6":"\u98db","\u2edc":"\u98de","\u2edd":"\u98df","\u2fb7":"\u98df","\u2edf":"\u98e0","\ud87e\ude02":"\u98e2","\ufa2a":"\u98ef","\ufa2b":"\u98fc","\ud87e\ude03":"\u4b33","\ufa2c":"\u9928","\ud87e\ude04":"\u9929","\u2ee0":"\u9963","\u2fb8":"\u9996","\u2fb9":"\u9999","\ud87e\ude05":"\u99a7","\u2fba":"\u99ac","\ud87e\ude06":"\u99c2","\uf91a":"\u99f1","\ud87e\ude07":"\u99fe","\uf987":"\u9a6a","\u2ee2":"\u9a6c","\u2fbb":"\u9aa8","\ud87e\ude08":"\u4bce","\u2fbc":"\u9ad8","\u2fbd":"\u9adf","\ud87e\ude09":"\ud866\udf30","\ufacd":"\u9b12","\ud87e\ude0a":"\u9b12","\u2fbe":"\u9b25","\u2fbf":"\u9b2f","\u2fc0":"\u9b32","\u2fc1":"\u9b3c","\u2ee4":"\u9b3c","\u2fc2":"\u9b5a","\uf939":"\u9b6f","\ud87e\ude0b":"\u9c40","\uf9f2":"\u9c57","\u2ee5":"\u9c7c","\u2fc3":"\u9ce5","\ud87e\ude0c":"\u9cfd","\ud87e\ude0d":"\u4cce","\ud87e\ude0f":"\u9d67","\ud87e\ude0e":"\u4ced","\ud87e\ude10":"\ud868\udcce","\ufa2d":"\u9db4","\ud87e\ude12":"\ud868\udd05","\ud87e\ude11":"\u4cf8","\uf93a":"\u9dfa","\ud87e\ude13":"\ud868\ude0e","\uf920":"\u9e1e","\u9e43":"\u9e42","\u2fc4":"\u9e75","\uf940":"\u9e7f","\u2fc5":"\u9e7f","\ud87e\ude14":"\ud868\ude91","\uf988":"\u9e97","\uf9f3":"\u9e9f","\u2fc6":"\u9ea5","\u2ee8":"\u9ea6","\ud87e\ude15":"\u9ebb","\u2fc7":"\u9ebb","\ud87e\udc8f":"\ud868\udf92","\u2fc8":"\u9ec3","\u2ee9":"\u9ec4","\u2fc9":"\u9ecd","\uf989":"\u9ece","\ud87e\ude16":"\u4d56","\u2fca":"\u9ed1","\u9ed2":"\u9ed1","\ufa3a":"\u58a8","\ud87e\ude17":"\u9ef9","\u2fcb":"\u9ef9","\u2fcc":"\u9efd","\ud87e\ude19":"\u9f05","\ud87e\ude18":"\u9efe","\u2fcd":"\u9f0e","\ud87e\ude1a":"\u9f0f","\u2fce":"\u9f13","\ud87e\ude1b":"\u9f16","\u2fcf":"\u9f20","\ud87e\ude1c":"\u9f3b","\u2fd0":"\u9f3b","\ufad8":"\u9f43","\u2fd1":"\u9f4a","\u2eec":"\u9f50","\u2fd2":"\u9f52","\ud87e\ude1d":"\ud869\ude00","\u2eee":"\u9f7f","\uf9c4":"\u9f8d","\u2fd3":"\u9f8d","\ufad9":"\u9f8e","\u2ef0":"\u9f99","\uf907":"\u9f9c","\uf908":"\u9f9c","\uface":"\u9f9c","\u2fd4":"\u9f9c","\u2ef3":"\u9f9f","\u2fd5":"\u9fa0"}},750,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AbortError=void 0,_e.default=I,_e.makeRetriable=function(e,t){return function(){for(var n=this,o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return I(function(){return e.apply(n,u)},t)}};var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),l=e(r(d[5])),f=e(r(d[6])),s=e(r(d[7])),c=e(r(d[8]));function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function y(e){if('number'==typeof e){if(e<0)throw new TypeError('Expected `retries` to be a non-negative number.');if(Number.isNaN(e))throw new TypeError('Expected `retries` to be a valid number or Infinity, got NaN.')}else if(void 0!==e)throw new TypeError('Expected `retries` to be a number or Infinity.')}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.min,u=void 0===o?0:o,l=n.allowInfinity,f=void 0!==l&&l;if(void 0!==t){if('number'!=typeof t||Number.isNaN(t))throw new TypeError(`Expected \`${e}\` to be a number${f?' or Infinity':''}.`);if(!f&&!Number.isFinite(t))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(t<u)throw new TypeError(`Expected \`${e}\` to be \u2265 ${u}.`)}}var w=_e.AbortError=(function(e){function t(e){var n,f,s,c;((0,o.default)(this,t),f=this,s=t,s=(0,l.default)(s),n=(0,u.default)(f,h()?Reflect.construct(s,c||[],(0,l.default)(f).constructor):s.apply(f,c)),e instanceof Error)?(n.originalError=e,e=e.message):(n.originalError=new Error(e),n.originalError.stack=n.stack);return n.name='AbortError',n.message=e,n}return(0,f.default)(t,e),(0,n.default)(t)})((0,s.default)(Error));function b(e,t){var n=Math.max(1,e+1),o=t.randomize?Math.random()+1:1,u=Math.round(o*t.minTimeout*t.factor**(n-1));return u=Math.min(u,t.maxTimeout)}function v(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,t.default)(function*(e){var t,n,o,u=e.error,l=e.attemptNumber,f=e.retriesConsumed,s=e.startTime,h=e.options,y=u instanceof Error?u:new TypeError(`Non-error was thrown: "${u}". You should only throw errors.`);if(y instanceof w)throw y.originalError;var p=Number.isFinite(h.retries)?Math.max(0,h.retries-f):h.retries,T=null!=(t=h.maxRetryTime)?t:Number.POSITIVE_INFINITY,E=Object.freeze({error:y,attemptNumber:l,retriesLeft:p,retriesConsumed:f});if(yield h.onFailedAttempt(E),v(s,T)<=0)throw y;var I,N=yield h.shouldConsumeRetry(E),x=v(s,T);if(x<=0||p<=0)throw y;if(y instanceof TypeError&&!(0,c.default)(y)){var R;if(N)throw y;return null==(R=h.signal)||R.throwIfAborted(),!1}if(!(yield h.shouldRetry(E)))throw y;if(!N)return null==(I=h.signal)||I.throwIfAborted(),!1;var A=b(f,h),F=Math.min(A,x);return null==(n=h.signal)||n.throwIfAborted(),F>0&&(yield new Promise(function(e,t){var n,o=function(){var e;clearTimeout(u),null==(e=h.signal)||e.removeEventListener('abort',o),t(h.signal.reason)},u=setTimeout(function(){var t;null==(t=h.signal)||t.removeEventListener('abort',o),e()},F);h.unref&&(null==u.unref||u.unref()),null==(n=h.signal)||n.addEventListener('abort',o,{once:!0})})),null==(o=h.signal)||o.throwIfAborted(),!0})).apply(this,arguments)}function I(e){return N.apply(this,arguments)}function N(){return N=(0,t.default)(function*(e){var t,n,o,u,l,f,s,c,h,w,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y((b=Object.assign({},b)).retries),Object.hasOwn(b,'forever'))throw new Error('The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.');null!=(t=b).retries||(t.retries=10),null!=(n=b).factor||(n.factor=2),null!=(o=b).minTimeout||(o.minTimeout=1e3),null!=(u=b).maxTimeout||(u.maxTimeout=Number.POSITIVE_INFINITY),null!=(l=b).maxRetryTime||(l.maxRetryTime=Number.POSITIVE_INFINITY),null!=(f=b).randomize||(f.randomize=!1),null!=(s=b).onFailedAttempt||(s.onFailedAttempt=function(){}),null!=(c=b).shouldRetry||(c.shouldRetry=function(){return!0}),null!=(h=b).shouldConsumeRetry||(h.shouldConsumeRetry=function(){return!0}),p('factor',b.factor,{min:0,allowInfinity:!1}),p('minTimeout',b.minTimeout,{min:0,allowInfinity:!1}),p('maxTimeout',b.maxTimeout,{min:0,allowInfinity:!0}),p('maxRetryTime',b.maxRetryTime,{min:0,allowInfinity:!0}),b.factor>0||(b.factor=1),null==(w=b.signal)||w.throwIfAborted();for(var v=0,E=0,I=performance.now();!Number.isFinite(b.retries)||E<=b.retries;){v++;try{var N,x;null==(N=b.signal)||N.throwIfAborted();var R=yield e(v);return null==(x=b.signal)||x.throwIfAborted(),R}catch(e){(yield T({error:e,attemptNumber:v,retriesConsumed:E,startTime:I,options:b}))&&E++}}throw new Error('Retry attempts exhausted without throwing an error.')}),N.apply(this,arguments)}},751,[1,356,12,11,18,20,23,144,752]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t||!o(t)||'TypeError'!==t.name||'string'!=typeof t.message)return!1;var c=t.message,f=t.stack;if('Load failed'===c)return void 0===f||'__sentry_captured__'in t;if(c.startsWith('error sending request for url'))return!0;return n.has(c)};var t=Object.prototype.toString,o=function(o){return'[object Error]'===t.call(o)},n=new Set(['network error','Failed to fetch','NetworkError when attempting to fetch resource.','The Internet connection appears to be offline.','Network request failed','fetch failed','terminated',' A network error occurred.','Network connection lost'])},752,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.M_TIMESTAMP=e.M_LOCATION=e.M_ASSET=e.LocationAssetType=void 0;e.LocationAssetType=(function(t){return t.Self="m.self",t.Pin="m.pin",t})({}),e.M_ASSET=new(r(d[0]).UnstableValue)("m.asset","org.matrix.msc3488.asset"),e.M_TIMESTAMP=new(r(d[0]).UnstableValue)("m.ts","org.matrix.msc3488.ts"),e.M_LOCATION=new(r(d[0]).UnstableValue)("m.location","org.matrix.msc3488.location")},753,[754]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnstableValue=_e.ServerControlledNamespacedValue=_e.NamespacedValue=void 0;var t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),l=e(r(d[4])),s=e(r(d[5])),o=e(r(d[6]));function f(e,u,l){return u=(0,n.default)(u),(0,t.default)(e,c()?Reflect.construct(u,l||[],(0,n.default)(e).constructor):u.apply(e,l))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var h=_e.NamespacedValue=(function(){return(0,s.default)(function e(t,n){if((0,l.default)(this,e),this.stable=t,this.unstable=n,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")},[{key:"name",get:function(){return this.stable?this.stable:this.unstable}},{key:"altName",get:function(){return this.stable?this.unstable:null}},{key:"names",get:function(){var e=[this.name],t=this.altName;return t&&e.push(t),e}},{key:"matches",value:function(e){return this.name===e||this.altName===e}},{key:"findIn",value:function(e){var t=void 0;return this.name&&(t=null==e?void 0:e[this.name]),!t&&this.altName&&(t=null==e?void 0:e[this.altName]),t}},{key:"includedIn",value:function(e){var t=!1;return this.name&&(t=e.includes(this.name)),!t&&this.altName&&(t=e.includes(this.altName)),t}}])})();_e.ServerControlledNamespacedValue=(function(e){function t(){var e;return(0,l.default)(this,t),e=f(this,t,arguments),(0,o.default)(e,"preferUnstable",!1),e}return(0,u.default)(t,e),(0,s.default)(t,[{key:"setPreferUnstable",value:function(e){this.preferUnstable=e}},{key:"name",get:function(){return this.stable&&!this.preferUnstable?this.stable:this.unstable}}])})(h),_e.UnstableValue=(function(e){function t(e,n){var u;if((0,l.default)(this,t),!(u=f(this,t,[e,n])).unstable)throw new Error("Unstable value must be supplied");return u}return(0,u.default)(t,e),(0,s.default)(t,[{key:"name",get:function(){return this.unstable}},{key:"altName",get:function(){return this.stable}}])})(h)},754,[1,18,20,23,11,12,739]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ReceiptType=e.MAIN_ROOM_TIMELINE=void 0;e.ReceiptType=(function(t){return t.Read="m.read",t.FullyRead="m.fully_read",t.ReadPrivate="m.read.private",t})({}),e.MAIN_ROOM_TIMELINE="main"},755,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SDPStreamMetadataPurpose=e.SDPStreamMetadataKey=void 0;e.SDPStreamMetadataKey="org.matrix.msc3077.sdp_stream_metadata",e.SDPStreamMetadataPurpose=(function(t){return t.Usermedia="m.usermedia",t.Screenshare="m.screenshare",t})({})},756,[]);
__d(function(g,_r,i,a,m,_e,_d){var e=_r(_d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.OtherUserSpeakingError=_e.GroupCallUnknownDeviceError=_e.GroupCallType=_e.GroupCallTerminationReason=_e.GroupCallStatsReportEvent=_e.GroupCallState=_e.GroupCallIntent=_e.GroupCallEvent=_e.GroupCallErrorCode=_e.GroupCallError=_e.GroupCall=void 0;var t=e(_r(_d[1])),l=e(_r(_d[2])),r=e(_r(_d[3])),n=e(_r(_d[4])),o=e(_r(_d[5])),d=e(_r(_d[6])),s=e(_r(_d[7])),c=e(_r(_d[8])),u=e(_r(_d[9])),p=e(_r(_d[10])),v=e(_r(_d[11]));function h(e,t,l){return t=(0,s.default)(t),(0,d.default)(e,f()?Reflect.construct(t,l||[],(0,s.default)(e).constructor):t.apply(e,l))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function C(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,r)}return l}function S(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?C(Object(l),!0).forEach(function(t){(0,v.default)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):C(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}_e.GroupCallIntent=(function(e){return e.Ring="m.ring",e.Prompt="m.prompt",e.Room="m.room",e})({});var I=_e.GroupCallType=(function(e){return e.Video="m.video",e.Voice="m.voice",e})({}),F=_e.GroupCallTerminationReason=(function(e){return e.CallEnded="call_ended",e})({}),M=_e.GroupCallEvent=(function(e){return e.GroupCallStateChanged="group_call_state_changed",e.ActiveSpeakerChanged="active_speaker_changed",e.CallsChanged="calls_changed",e.UserMediaFeedsChanged="user_media_feeds_changed",e.ScreenshareFeedsChanged="screenshare_feeds_changed",e.LocalScreenshareStateChanged="local_screenshare_state_changed",e.LocalMuteStateChanged="local_mute_state_changed",e.ParticipantsChanged="participants_changed",e.Error="group_call_error",e})({}),E=_e.GroupCallStatsReportEvent=(function(e){return e.ConnectionStats="GroupCall.connection_stats",e.ByteSentStats="GroupCall.byte_sent_stats",e.SummaryStats="GroupCall.summary_stats",e.CallFeedStats="GroupCall.call_feed_stats",e})({}),y=_e.GroupCallErrorCode=(function(e){return e.NoUserMedia="no_user_media",e.UnknownDevice="unknown_device",e.PlaceCallFailed="place_call_failed",e})({}),k=_e.GroupCallError=(function(e){function t(e,l,r){var d;return(0,n.default)(this,t),r?(d=h(this,t,[l+": "+r]),(0,v.default)((0,o.default)(d),"code",void 0)):(d=h(this,t,[l]),(0,v.default)((0,o.default)(d),"code",void 0)),d.code=e,(0,o.default)(d)}return(0,c.default)(t,e),(0,r.default)(t)})((0,u.default)(Error)),_=(_e.GroupCallUnknownDeviceError=(function(e){function t(e){var l;return(0,n.default)(this,t),(l=h(this,t,[y.UnknownDevice,"No device found for "+e])).userId=e,l}return(0,c.default)(t,e),(0,r.default)(t)})(k),_e.OtherUserSpeakingError=(function(e){function t(){return(0,n.default)(this,t),h(this,t,["Cannot unmute: another user is speaking"])}return(0,c.default)(t,e),(0,r.default)(t)})((0,u.default)(Error)),_e.GroupCallState=(function(e){return e.LocalCallFeedUninitialized="local_call_feed_uninitialized",e.InitializingLocalCallFeed="initializing_local_call_feed",e.LocalCallFeedInitialized="local_call_feed_initialized",e.Entered="entered",e.Ended="ended",e})({}));function T(e){var t;return(null===(t=e.getOpponentMember())||void 0===t?void 0:t.userId)||e.invitee||null}_e.GroupCall=(function(e){function o(e,t,r,d,s,c,u,p,f){var C,S,I;(0,n.default)(this,o);var F=arguments.length>9&&void 0!==arguments[9]&&arguments[9],y=arguments.length>10?arguments[10]:void 0;return(C=h(this,o)).client=e,C.room=t,C.type=r,C.isPtt=d,C.intent=s,C.dataChannelsEnabled=u,C.dataChannelOptions=p,C.useLivekit=F,(0,v.default)(C,"activeSpeakerInterval",1e3),(0,v.default)(C,"retryCallInterval",5e3),(0,v.default)(C,"participantTimeout",15e3),(0,v.default)(C,"pttMaxTransmitTime",2e4),(0,v.default)(C,"activeSpeaker",void 0),(0,v.default)(C,"localCallFeed",void 0),(0,v.default)(C,"localScreenshareFeed",void 0),(0,v.default)(C,"localDesktopCapturerSourceId",void 0),(0,v.default)(C,"userMediaFeeds",[]),(0,v.default)(C,"screenshareFeeds",[]),(0,v.default)(C,"groupCallId",void 0),(0,v.default)(C,"allowCallWithoutVideoAndAudio",void 0),(0,v.default)(C,"calls",new Map),(0,v.default)(C,"callHandlers",new Map),(0,v.default)(C,"activeSpeakerLoopInterval",void 0),(0,v.default)(C,"retryCallLoopInterval",void 0),(0,v.default)(C,"retryCallCounts",new Map),(0,v.default)(C,"reEmitter",void 0),(0,v.default)(C,"transmitTimer",null),(0,v.default)(C,"participantsExpirationTimer",null),(0,v.default)(C,"resendMemberStateTimer",null),(0,v.default)(C,"initWithAudioMuted",!1),(0,v.default)(C,"initWithVideoMuted",!1),(0,v.default)(C,"initCallFeedPromise",void 0),(0,v.default)(C,"_livekitServiceURL",void 0),(0,v.default)(C,"stats",void 0),(0,v.default)(C,"statsCollectIntervalTime",0),(0,v.default)(C,"onConnectionStats",function(e){C.emit(E.ConnectionStats,{report:e})}),(0,v.default)(C,"onByteSentStats",function(e){C.emit(E.ByteSentStats,{report:e})}),(0,v.default)(C,"onSummaryStats",function(e){_r(_d[12]).SummaryStatsReportGatherer.extendSummaryReport(e,C.participants),C.emit(E.SummaryStats,{report:e})}),(0,v.default)(C,"onCallFeedReport",function(e){C.localCallFeed&&(e=_r(_d[13]).CallFeedStatsReporter.expandCallFeedReport(e,[C.localCallFeed],"from-local-feed"));var t=[];C.forEachCall(function(l){l.callId===e.callId&&l.getFeeds().forEach(function(e){return t.push(e)})}),e=_r(_d[13]).CallFeedStatsReporter.expandCallFeedReport(e,t,"from-call-feed"),C.emit(E.CallFeedStats,{report:e})}),(0,v.default)(C,"_state",_.LocalCallFeedUninitialized),(0,v.default)(C,"_participants",new Map),(0,v.default)(C,"_creationTs",null),(0,v.default)(C,"_enteredViaAnotherSession",!1),(0,v.default)(C,"onIncomingCall",function(e){var t,l;if(e.roomId===C.room.roomId)if(e.state===_r(_d[14]).CallState.Ringing){if(!e.groupCallId||e.groupCallId!==C.groupCallId)return _r(_d[15]).logger.log("GroupCall ".concat(C.groupCallId," onIncomingCall() ignored because it doesn't match the current group call")),void e.reject();var r=null===(t=e.getOpponentMember())||void 0===t?void 0:t.userId;if(void 0!==r)if(C.useLivekit)_r(_d[15]).logger.info("Received incoming call whilst in signaling-only mode! Ignoring.");else{var n=null!==(l=C.calls.get(r))&&void 0!==l?l:new Map,o=n.get(e.getOpponentDeviceId());if((null==o?void 0:o.callId)!==e.callId){_r(_d[15]).logger.log("GroupCall ".concat(C.groupCallId," onIncomingCall() incoming call (userId=").concat(r,", callId=").concat(e.callId,")")),o&&o.hangup(_r(_d[14]).CallErrorCode.Replaced,!1),n.set(e.getOpponentDeviceId(),e),C.calls.set(r,n),C.initCall(e);var d=C.getLocalFeeds().map(function(e){return e.clone()});if(!C.callExpected(e))for(var s of d)(0,_r(_d[14]).setTracksEnabled)(s.stream.getAudioTracks(),!1),(0,_r(_d[14]).setTracksEnabled)(s.stream.getVideoTracks(),!1);e.answerWithCallFeeds(d),C.emit(M.CallsChanged,C.calls)}}else _r(_d[15]).logger.warn("GroupCall ".concat(C.groupCallId," onIncomingCall() incoming call with no member - ignoring"))}else _r(_d[15]).logger.warn("GroupCall ".concat(C.groupCallId," onIncomingCall() incoming call no longer in ringing state - ignoring"))}),(0,v.default)(C,"onRetryCallLoop",function(){var e=!1;for(var t of C.participants){var r=(0,l.default)(t,2),n=r[0].userId,o=r[1],d=C.calls.get(n),s=C.retryCallCounts.get(n);for(var c of o){var u,p,v=(0,l.default)(c,2),h=v[0],f=v[1],S=null==d?void 0:d.get(h),I=null!==(u=null===(p=s)||void 0===p?void 0:p.get(h))&&void 0!==u?u:0;(null==S?void 0:S.getOpponentSessionId())!==f.sessionId&&C.wantsOutgoingCall(n,h)&&I<3&&(void 0===s&&(s=new Map,C.retryCallCounts.set(n,s)),s.set(h,I+1),e=!0)}}e&&C.placeOutgoingCalls()}),(0,v.default)(C,"onCallFeedsChanged",function(e){var t=T(e),l=e.getOpponentDeviceId();if(!t)throw new Error("Cannot change call feeds without user id");var r=C.getUserMediaFeed(t,l),n=e.remoteUsermediaFeed,o=n!==r,d=C.calls.get(t),s=null==d?void 0:d.get(l);if((null==s?void 0:s.callId)===e.callId){o&&(!r&&n?C.addUserMediaFeed(n):r&&n?C.replaceUserMediaFeed(r,n):r&&!n&&C.removeUserMediaFeed(r));var c=C.getScreenshareFeed(t,l),u=e.remoteScreensharingFeed;u!==c&&(!c&&u?C.addScreenshareFeed(u):c&&u?C.replaceScreenshareFeed(c,u):c&&!u&&C.removeScreenshareFeed(c))}}),(0,v.default)(C,"onCallStateChanged",function(e,t,l){var r;if(t!==_r(_d[14]).CallState.Ended){var n=C.localCallFeed.isAudioMuted();e.localUsermediaStream&&e.isMicrophoneMuted()!==n&&e.setMicrophoneMuted(n);var o=C.localCallFeed.isVideoMuted();e.localUsermediaStream&&e.isLocalVideoMuted()!==o&&e.setLocalVideoMuted(o);var d=null===(r=e.getOpponentMember())||void 0===r?void 0:r.userId;if(t===_r(_d[14]).CallState.Connected&&d){var s=C.retryCallCounts.get(d);null==s||s.delete(e.getOpponentDeviceId()),0===(null==s?void 0:s.size)&&C.retryCallCounts.delete(d)}}}),(0,v.default)(C,"onCallHangup",function(e){var t,l;if(e.hangupReason!==_r(_d[14]).CallErrorCode.Replaced){var r=null!==(t=null===(l=e.getOpponentMember())||void 0===l?void 0:l.userId)&&void 0!==t?t:C.room.getMember(e.invitee).userId,n=C.calls.get(r);(null==n?void 0:n.get(e.getOpponentDeviceId()))===e&&(C.disposeCall(e,e.hangupReason),n.delete(e.getOpponentDeviceId()),0===n.size&&C.calls.delete(r),C.emit(M.CallsChanged,C.calls))}}),(0,v.default)(C,"onCallReplaced",function(e,t){var l=e.getOpponentMember().userId,r=C.calls.get(l);void 0===r&&(r=new Map,C.calls.set(l,r)),e.hangup(_r(_d[14]).CallErrorCode.Replaced,!1),C.initCall(t),r.set(e.getOpponentDeviceId(),t),C.emit(M.CallsChanged,C.calls)}),(0,v.default)(C,"onActiveSpeakerLoop",function(){var e=void 0,t=void 0;for(var l of C.userMediaFeeds)if(!(l.isLocal()&&C.userMediaFeeds.length>1)){var r=l.speakingVolumeSamples.reduce(function(e,t){return e+Math.max(t,_r(_d[16]).SPEAKING_THRESHOLD)})/l.speakingVolumeSamples.length;(!e||r>e)&&(e=r,t=l)}t&&C.activeSpeaker!==t&&e&&e>_r(_d[16]).SPEAKING_THRESHOLD&&(C.activeSpeaker=t,C.emit(M.ActiveSpeakerChanged,C.activeSpeaker))}),(0,v.default)(C,"onRoomState",function(){return C.updateParticipants()}),(0,v.default)(C,"onParticipantsChanged",function(){C.forEachCall(function(e){var t=C.callExpected(e);for(var l of e.getLocalFeeds())(0,_r(_d[14]).setTracksEnabled)(l.stream.getAudioTracks(),!l.isAudioMuted()&&t),(0,_r(_d[14]).setTracksEnabled)(l.stream.getVideoTracks(),!l.isVideoMuted()&&t)}),C.state!==_.Entered||C.useLivekit||C.placeOutgoingCalls()}),(0,v.default)(C,"onStateChanged",function(e,t){e!==_.Entered&&t!==_.Entered&&e!==_.Ended||(C.updateParticipants(),C.updateMemberState().catch(function(e){return _r(_d[15]).logger.error("GroupCall ".concat(C.groupCallId," onStateChanged() failed to update member state devices\""),e)}))}),(0,v.default)(C,"onLocalFeedsChanged",function(){C.state===_.Entered&&C.updateMemberState().catch(function(e){return _r(_d[15]).logger.error("GroupCall ".concat(C.groupCallId," onLocalFeedsChanged() failed to update member state feeds"),e)})}),C.reEmitter=new(_r(_d[17]).ReEmitter)(C),C.groupCallId=null!=c?c:(0,_r(_d[14]).genCallID)(),C._livekitServiceURL=y,C.creationTs=null!==(S=null===(I=t.currentState.getStateEvents(_r(_d[18]).EventType.GroupCallPrefix,C.groupCallId))||void 0===I?void 0:I.getTs())&&void 0!==S?S:null,C.updateParticipants(),t.on(_r(_d[19]).RoomStateEvent.Update,C.onRoomState),C.on(M.ParticipantsChanged,C.onParticipantsChanged),C.on(M.GroupCallStateChanged,C.onStateChanged),C.on(M.LocalScreenshareStateChanged,C.onLocalFeedsChanged),C.allowCallWithoutVideoAndAudio=!!f,C}return(0,c.default)(o,e),(0,r.default)(o,[{key:"create",value:function(){var e=this;return(0,p.default)(function*(){return e.creationTs=Date.now(),e.client.groupCallEventHandler.groupCalls.set(e.room.roomId,e),e.client.emit(_r(_d[20]).GroupCallEventHandlerEvent.Outgoing,e),yield e.sendCallStateEvent(),e})()}},{key:"sendCallStateEvent",value:function(){var e=this;return(0,p.default)(function*(){var t={"m.intent":e.intent,"m.type":e.type,"io.element.ptt":e.isPtt,dataChannelsEnabled:e.dataChannelsEnabled,dataChannelOptions:e.dataChannelsEnabled?e.dataChannelOptions:void 0};e.livekitServiceURL&&(t["io.element.livekit_service_url"]=e.livekitServiceURL),yield e.client.sendStateEvent(e.room.roomId,_r(_d[18]).EventType.GroupCallPrefix,t,e.groupCallId)})()}},{key:"livekitServiceURL",get:function(){return this._livekitServiceURL}},{key:"updateLivekitServiceURL",value:function(e){return this._livekitServiceURL=e,this.sendCallStateEvent()}},{key:"state",get:function(){return this._state},set:function(e){var t=this._state;e!==t&&(this._state=e,this.emit(M.GroupCallStateChanged,e,t))}},{key:"participants",get:function(){return this._participants},set:function(e){var t=this._participants,l=function(e,t){return e.sessionId===t.sessionId&&e.screensharing===t.screensharing};(0,_r(_d[21]).mapsEqual)(e,t,function(e,t){return(0,_r(_d[21]).mapsEqual)(e,t,l)})||(this._participants=e,this.emit(M.ParticipantsChanged,e))}},{key:"creationTs",get:function(){return this._creationTs},set:function(e){this._creationTs=e}},{key:"enteredViaAnotherSession",get:function(){return this._enteredViaAnotherSession},set:function(e){this._enteredViaAnotherSession=e,this.updateParticipants()}},{key:"forEachCall",value:function(e){for(var t of this.calls.values())for(var l of t.values())e(l)}},{key:"getLocalFeeds",value:function(){var e=[];return this.localCallFeed&&e.push(this.localCallFeed),this.localScreenshareFeed&&e.push(this.localScreenshareFeed),e}},{key:"hasLocalParticipant",value:function(){var e,t;return null!==(e=null===(t=this.participants.get(this.room.getMember(this.client.getUserId())))||void 0===t?void 0:t.has(this.client.getDeviceId()))&&void 0!==e&&e}},{key:"callExpected",value:function(e){var t,l=T(e),r=null===l?null:this.room.getMember(l),n=e.getOpponentDeviceId();return null!==r&&void 0!==n&&void 0!==(null===(t=this.participants.get(r))||void 0===t?void 0:t.get(n))}},{key:"initLocalCallFeed",value:function(){var e=this;return(0,p.default)(function*(){if(e.useLivekit)_r(_d[15]).logger.info("Livekit group call: not starting local call feed.");else{if(e.state!==_.LocalCallFeedUninitialized)throw new Error("Cannot initialize local call feed in the \"".concat(e.state,"\" state."));if(e.state=_.InitializingLocalCallFeed,e.initCallFeedPromise)return e.initCallFeedPromise;try{e.initCallFeedPromise=e.initLocalCallFeedInternal(),yield e.initCallFeedPromise}finally{e.initCallFeedPromise=void 0}}})()}},{key:"initLocalCallFeedInternal",value:function(){var e=this;return(0,p.default)(function*(){var t;_r(_d[15]).logger.log("GroupCall ".concat(e.groupCallId," initLocalCallFeedInternal() running"));try{t=yield e.client.getMediaHandler().getUserMediaStream(!0,e.type===I.Video)}catch(l){if(!e.allowCallWithoutVideoAndAudio)throw e.state=_.LocalCallFeedUninitialized,l;t=new MediaStream}if(e._state!==_.InitializingLocalCallFeed)throw e.client.getMediaHandler().stopUserMediaStream(t),new Error("Group call disposed while gathering media stream");var l=new(_r(_d[16]).CallFeed)({client:e.client,roomId:e.room.roomId,userId:e.client.getUserId(),deviceId:e.client.getDeviceId(),stream:t,purpose:_r(_d[22]).SDPStreamMetadataPurpose.Usermedia,audioMuted:e.initWithAudioMuted||0===t.getAudioTracks().length||e.isPtt,videoMuted:e.initWithVideoMuted||0===t.getVideoTracks().length});(0,_r(_d[14]).setTracksEnabled)(t.getAudioTracks(),!l.isAudioMuted()),(0,_r(_d[14]).setTracksEnabled)(t.getVideoTracks(),!l.isVideoMuted()),e.localCallFeed=l,e.addUserMediaFeed(l),e.state=_.LocalCallFeedInitialized})()}},{key:"updateLocalUsermediaStream",value:function(e){var t=this;return(0,p.default)(function*(){if(t.localCallFeed){var l=t.localCallFeed.stream;t.localCallFeed.setNewStream(e);var r=t.localCallFeed.isAudioMuted(),n=t.localCallFeed.isVideoMuted();_r(_d[15]).logger.log("GroupCall ".concat(t.groupCallId," updateLocalUsermediaStream() (oldStreamId=").concat(l.id,", newStreamId=").concat(e.id,", micShouldBeMuted=").concat(r,", vidShouldBeMuted=").concat(n,")")),(0,_r(_d[14]).setTracksEnabled)(e.getAudioTracks(),!r),(0,_r(_d[14]).setTracksEnabled)(e.getVideoTracks(),!n),t.client.getMediaHandler().stopUserMediaStream(l)}})()}},{key:"enter",value:function(){var e=this;return(0,p.default)(function*(){if(e.state===_.LocalCallFeedUninitialized)yield e.initLocalCallFeed();else if(e.state!==_.LocalCallFeedInitialized)throw new Error("Cannot enter call in the \"".concat(e.state,"\" state"));for(var t of(_r(_d[15]).logger.log("GroupCall ".concat(e.groupCallId," enter() running")),e.state=_.Entered,e.client.on(_r(_d[23]).CallEventHandlerEvent.Incoming,e.onIncomingCall),e.client.callEventHandler.calls.values()))e.onIncomingCall(t);e.useLivekit||(e.retryCallLoopInterval=setInterval(e.onRetryCallLoop,e.retryCallInterval),e.activeSpeaker=void 0,e.onActiveSpeakerLoop(),e.activeSpeakerLoopInterval=setInterval(e.onActiveSpeakerLoop,e.activeSpeakerInterval))})()}},{key:"dispose",value:function(){var e;this.localCallFeed&&(this.removeUserMediaFeed(this.localCallFeed),this.localCallFeed=void 0),this.localScreenshareFeed&&(this.client.getMediaHandler().stopScreensharingStream(this.localScreenshareFeed.stream),this.removeScreenshareFeed(this.localScreenshareFeed),this.localScreenshareFeed=void 0,this.localDesktopCapturerSourceId=void 0),this.client.getMediaHandler().stopAllStreams(),null!==this.transmitTimer&&(clearTimeout(this.transmitTimer),this.transmitTimer=null),void 0!==this.retryCallLoopInterval&&(clearInterval(this.retryCallLoopInterval),this.retryCallLoopInterval=void 0),null!==this.participantsExpirationTimer&&(clearTimeout(this.participantsExpirationTimer),this.participantsExpirationTimer=null),this.state===_.Entered&&(this.forEachCall(function(e){return e.hangup(_r(_d[14]).CallErrorCode.UserHangup,!1)}),this.activeSpeaker=void 0,clearInterval(this.activeSpeakerLoopInterval),this.retryCallCounts.clear(),clearInterval(this.retryCallLoopInterval),this.client.removeListener(_r(_d[23]).CallEventHandlerEvent.Incoming,this.onIncomingCall),null===(e=this.stats)||void 0===e||e.stop())}},{key:"leave",value:function(){this.dispose(),this.state=_.LocalCallFeedUninitialized}},{key:"terminate",value:function(){var e=arguments,t=this;return(0,p.default)(function*(){var l=!(e.length>0&&void 0!==e[0])||e[0];if(t.dispose(),t.room.off(_r(_d[19]).RoomStateEvent.Update,t.onRoomState),t.client.groupCallEventHandler.groupCalls.delete(t.room.roomId),t.client.emit(_r(_d[20]).GroupCallEventHandlerEvent.Ended,t),t.state=_.Ended,l){var r=t.room.currentState.getStateEvents(_r(_d[18]).EventType.GroupCallPrefix,t.groupCallId);yield t.client.sendStateEvent(t.room.roomId,_r(_d[18]).EventType.GroupCallPrefix,S(S({},r.getContent()),{},{"m.terminated":F.CallEnded}),t.groupCallId)}})()}},{key:"isLocalVideoMuted",value:function(){return!this.localCallFeed||this.localCallFeed.isVideoMuted()}},{key:"isMicrophoneMuted",value:function(){return!this.localCallFeed||this.localCallFeed.isAudioMuted()}},{key:"setMicrophoneMuted",value:function(e){var t=this;return(0,p.default)(function*(){if(!e&&!(yield t.client.getMediaHandler().hasAudioDevice()))return!1;var l=!e&&t.isPtt;t.isPtt&&(!e&&t.isMicrophoneMuted()?t.transmitTimer=setTimeout(function(){t.setMicrophoneMuted(!0)},t.pttMaxTransmitTime):e&&!t.isMicrophoneMuted()&&(null!==t.transmitTimer&&clearTimeout(t.transmitTimer),t.transmitTimer=null)),t.forEachCall(function(t){var l;return null===(l=t.localUsermediaFeed)||void 0===l?void 0:l.setAudioVideoMuted(e,null)});var r=(function(){var e=(0,p.default)(function*(){var e=[];t.forEachCall(function(t){return e.push(t.sendMetadataUpdate())}),yield Promise.all(e).catch(function(e){return _r(_d[15]).logger.info("GroupCall ".concat(t.groupCallId," setMicrophoneMuted() failed to send some metadata updates"),e)})});return function(){return e.apply(this,arguments)}})();if(l&&(yield r()),t.localCallFeed){if(_r(_d[15]).logger.log("GroupCall ".concat(t.groupCallId," setMicrophoneMuted() (streamId=").concat(t.localCallFeed.stream.id,", muted=").concat(e,")")),!(yield t.checkAudioPermissionIfNecessary(e)))return!1;t.localCallFeed.setAudioVideoMuted(e,null),(0,_r(_d[14]).setTracksEnabled)(t.localCallFeed.stream.getAudioTracks(),!e)}else _r(_d[15]).logger.log("GroupCall ".concat(t.groupCallId," setMicrophoneMuted() no stream muted (muted=").concat(e,")")),t.initWithAudioMuted=e;return t.forEachCall(function(l){return(0,_r(_d[14]).setTracksEnabled)(l.localUsermediaFeed.stream.getAudioTracks(),!e&&t.callExpected(l))}),t.emit(M.LocalMuteStateChanged,e,t.isLocalVideoMuted()),l||(yield r()),!0})()}},{key:"checkAudioPermissionIfNecessary",value:function(e){var t=this;return(0,p.default)(function*(){try{if(!e&&t.localCallFeed&&!t.localCallFeed.hasAudioTrack){var l=yield t.client.getMediaHandler().getUserMediaStream(!0,!t.localCallFeed.isVideoMuted());if(0===(null==l?void 0:l.getTracks().length))return _r(_d[15]).logger.log("GroupCall ".concat(t.groupCallId," setMicrophoneMuted() no device to receive local stream, muted=").concat(e)),!1}}catch(l){return _r(_d[15]).logger.log("GroupCall ".concat(t.groupCallId," setMicrophoneMuted() no device or permission to receive local stream, muted=").concat(e)),!1}return!0})()}},{key:"setLocalVideoMuted",value:function(e){var t=this;return(0,p.default)(function*(){if(!e&&!(yield t.client.getMediaHandler().hasVideoDevice()))return!1;if(t.localCallFeed){_r(_d[15]).logger.log("GroupCall ".concat(t.groupCallId," setLocalVideoMuted() (stream=").concat(t.localCallFeed.stream.id,", muted=").concat(e,")"));try{var l=yield t.client.getMediaHandler().getUserMediaStream(!0,!e);yield t.updateLocalUsermediaStream(l),t.localCallFeed.setAudioVideoMuted(null,e),(0,_r(_d[14]).setTracksEnabled)(t.localCallFeed.stream.getVideoTracks(),!e)}catch(l){return _r(_d[15]).logger.log("GroupCall ".concat(t.groupCallId," setLocalVideoMuted() no device or permission to receive local stream, muted=").concat(e)),!1}}else _r(_d[15]).logger.log("GroupCall ".concat(t.groupCallId," setLocalVideoMuted() no stream muted (muted=").concat(e,")")),t.initWithVideoMuted=e;var r=[];return t.forEachCall(function(t){return r.push(t.setLocalVideoMuted(e))}),yield Promise.all(r),t.forEachCall(function(l){return(0,_r(_d[14]).setTracksEnabled)(l.localUsermediaFeed.stream.getVideoTracks(),!e&&t.callExpected(l))}),t.emit(M.LocalMuteStateChanged,t.isMicrophoneMuted(),e),!0})()}},{key:"setScreensharingEnabled",value:function(e){var t=arguments,l=this;return(0,p.default)(function*(){var r=t.length>1&&void 0!==t[1]?t[1]:{};if(e===l.isScreensharing())return e;if(!e)return l.forEachCall(function(e){e.localScreensharingFeed&&e.removeLocalFeed(e.localScreensharingFeed)}),l.client.getMediaHandler().stopScreensharingStream(l.localScreenshareFeed.stream),l.removeScreenshareFeed(l.localScreenshareFeed),l.localScreenshareFeed=void 0,l.localDesktopCapturerSourceId=void 0,l.emit(M.LocalScreenshareStateChanged,!1,void 0,void 0),!1;try{_r(_d[15]).logger.log("GroupCall ".concat(l.groupCallId," setScreensharingEnabled() is asking for screensharing permissions"));var n=yield l.client.getMediaHandler().getScreensharingStream(r),o=function*(e){var t=function(){l.setScreensharingEnabled(!1),e.removeEventListener("ended",t)};e.addEventListener("ended",t)};for(var d of n.getTracks())yield*o(d);return _r(_d[15]).logger.log("GroupCall ".concat(l.groupCallId," setScreensharingEnabled() granted screensharing permissions. Setting screensharing enabled on all calls")),l.localDesktopCapturerSourceId=r.desktopCapturerSourceId,l.localScreenshareFeed=new(_r(_d[16]).CallFeed)({client:l.client,roomId:l.room.roomId,userId:l.client.getUserId(),deviceId:l.client.getDeviceId(),stream:n,purpose:_r(_d[22]).SDPStreamMetadataPurpose.Screenshare,audioMuted:!1,videoMuted:!1}),l.addScreenshareFeed(l.localScreenshareFeed),l.emit(M.LocalScreenshareStateChanged,!0,l.localScreenshareFeed,l.localDesktopCapturerSourceId),l.forEachCall(function(e){return e.pushLocalFeed(l.localScreenshareFeed.clone())}),!0}catch(e){if(r.throwOnFail)throw e;return _r(_d[15]).logger.error("GroupCall ".concat(l.groupCallId," setScreensharingEnabled() enabling screensharing error"),e),l.emit(M.Error,new k(y.NoUserMedia,"Failed to get screen-sharing stream: ",e)),!1}})()}},{key:"isScreensharing",value:function(){return!!this.localScreenshareFeed}},{key:"wantsOutgoingCall",value:function(e,t){var l=this.client.getUserId(),r=this.client.getDeviceId();return e>=l&&(e!==l||t>r)}},{key:"placeOutgoingCalls",value:function(){var e=this,t=!1,r=function(r){var n,o=null!==(n=e.calls.get(r))&&void 0!==n?n:new Map,d=function(l){var n=o.get(l);if((null==n?void 0:n.getOpponentSessionId())!==v.sessionId&&e.wantsOutgoingCall(r,l)){t=!0,void 0!==n&&(_r(_d[15]).logger.debug("GroupCall ".concat(e.groupCallId," placeOutgoingCalls() replacing call (userId=").concat(r,", deviceId=").concat(l,", callId=").concat(n.callId,")")),n.hangup(_r(_d[14]).CallErrorCode.NewSession,!1));var d=(0,_r(_d[14]).createNewMatrixCall)(e.client,e.room.roomId,{invitee:r,opponentDeviceId:l,opponentSessionId:v.sessionId,groupCallId:e.groupCallId});null===d?(_r(_d[15]).logger.error("GroupCall ".concat(e.groupCallId," placeOutgoingCalls() failed to create call (userId=").concat(r,", device=").concat(l,")")),o.delete(l)):(e.initCall(d),o.set(l,d),_r(_d[15]).logger.debug("GroupCall ".concat(e.groupCallId," placeOutgoingCalls() placing call (userId=").concat(r,", deviceId=").concat(l,", sessionId=").concat(v.sessionId,")")),d.placeCallWithCallFeeds(e.getLocalFeeds().map(function(e){return e.clone()}),v.screensharing).then(function(){e.dataChannelsEnabled&&d.createDataChannel("datachannel",e.dataChannelOptions)}).catch(function(t){_r(_d[15]).logger.warn("GroupCall ".concat(e.groupCallId," placeOutgoingCalls() failed to place call (userId=").concat(r,")"),t),t instanceof _r(_d[14]).CallError&&t.code===y.UnknownDevice?e.emit(M.Error,t):e.emit(M.Error,new k(y.PlaceCallFailed,"Failed to place call to ".concat(r))),d.hangup(_r(_d[14]).CallErrorCode.SignallingFailed,!1),o.get(l)===d&&o.delete(l)}))}};for(var c of s){var u=(0,l.default)(c,2),p=u[0],v=u[1];d(p)}o.size>0?e.calls.set(r,o):e.calls.delete(r)};for(var n of this.participants){var o=(0,l.default)(n,2),d=o[0].userId,s=o[1];r(d)}t&&this.emit(M.CallsChanged,this.calls)}},{key:"getMemberStateEvents",value:function(e){return void 0===e?this.room.currentState.getStateEvents(_r(_d[18]).EventType.GroupCallMemberPrefix):this.room.currentState.getStateEvents(_r(_d[18]).EventType.GroupCallMemberPrefix,e)}},{key:"initCall",value:function(e){var t=this,l=T(e);if(!l)throw new Error("Cannot init call without user id");var r=function(){return t.onCallFeedsChanged(e)},n=function(l,r){return t.onCallStateChanged(e,l,r)},o=this.onCallHangup,d=function(l){return t.onCallReplaced(e,l)},s=this.callHandlers.get(l);void 0===s&&(s=new Map,this.callHandlers.set(l,s)),s.set(e.getOpponentDeviceId(),{onCallFeedsChanged:r,onCallStateChanged:n,onCallHangup:o,onCallReplaced:d}),e.on(_r(_d[14]).CallEvent.FeedsChanged,r),e.on(_r(_d[14]).CallEvent.State,n),e.on(_r(_d[14]).CallEvent.Hangup,o),e.on(_r(_d[14]).CallEvent.Replaced,d),e.isPtt=this.isPtt,this.reEmitter.reEmit(e,Object.values(_r(_d[14]).CallEvent)),e.initStats(this.getGroupCallStats()),r()}},{key:"disposeCall",value:function(e,t){var l=T(e),r=e.getOpponentDeviceId();if(!l)throw new Error("Cannot dispose call without user id");var n=this.callHandlers.get(l),o=n.get(r),d=o.onCallFeedsChanged,s=o.onCallStateChanged,c=o.onCallHangup,u=o.onCallReplaced;if(e.removeListener(_r(_d[14]).CallEvent.FeedsChanged,d),e.removeListener(_r(_d[14]).CallEvent.State,s),e.removeListener(_r(_d[14]).CallEvent.Hangup,c),e.removeListener(_r(_d[14]).CallEvent.Replaced,u),n.delete(l),0===n.size&&this.callHandlers.delete(l),e.hangupReason!==_r(_d[14]).CallErrorCode.Replaced){var p=this.getUserMediaFeed(l,r);p&&this.removeUserMediaFeed(p);var v=this.getScreenshareFeed(l,r);v&&this.removeScreenshareFeed(v)}}},{key:"getUserMediaFeed",value:function(e,t){return this.userMediaFeeds.find(function(l){return l.userId===e&&l.deviceId===t})}},{key:"addUserMediaFeed",value:function(e){this.userMediaFeeds.push(e),e.measureVolumeActivity(!0),this.emit(M.UserMediaFeedsChanged,this.userMediaFeeds)}},{key:"replaceUserMediaFeed",value:function(e,t){var l=this.userMediaFeeds.findIndex(function(t){return t.userId===e.userId&&t.deviceId===e.deviceId});if(-1===l)throw new Error("Couldn't find user media feed to replace");this.userMediaFeeds.splice(l,1,t),e.dispose(),t.measureVolumeActivity(!0),this.emit(M.UserMediaFeedsChanged,this.userMediaFeeds)}},{key:"removeUserMediaFeed",value:function(e){var t=this.userMediaFeeds.findIndex(function(t){return t.userId===e.userId&&t.deviceId===e.deviceId});if(-1===t)throw new Error("Couldn't find user media feed to remove");this.userMediaFeeds.splice(t,1),e.dispose(),this.emit(M.UserMediaFeedsChanged,this.userMediaFeeds),this.activeSpeaker===e&&(this.activeSpeaker=this.userMediaFeeds[0],this.emit(M.ActiveSpeakerChanged,this.activeSpeaker))}},{key:"getScreenshareFeed",value:function(e,t){return this.screenshareFeeds.find(function(l){return l.userId===e&&l.deviceId===t})}},{key:"addScreenshareFeed",value:function(e){this.screenshareFeeds.push(e),this.emit(M.ScreenshareFeedsChanged,this.screenshareFeeds)}},{key:"replaceScreenshareFeed",value:function(e,t){var l=this.screenshareFeeds.findIndex(function(t){return t.userId===e.userId&&t.deviceId===e.deviceId});if(-1===l)throw new Error("Couldn't find screenshare feed to replace");this.screenshareFeeds.splice(l,1,t),e.dispose(),this.emit(M.ScreenshareFeedsChanged,this.screenshareFeeds)}},{key:"removeScreenshareFeed",value:function(e){var t=this.screenshareFeeds.findIndex(function(t){return t.userId===e.userId&&t.deviceId===e.deviceId});if(-1===t)throw new Error("Couldn't find screenshare feed to remove");this.screenshareFeeds.splice(t,1),e.dispose(),this.emit(M.ScreenshareFeedsChanged,this.screenshareFeeds)}},{key:"updateParticipants",value:function(){var e=this,t=this.room.getMember(this.client.getSafeUserId());if(t)if(null!==this.participantsExpirationTimer&&(clearTimeout(this.participantsExpirationTimer),this.participantsExpirationTimer=null),this.state!==_.Ended){var l=new Map,r=Date.now(),n=this.state===_.Entered||this.enteredViaAnotherSession,o=1/0;for(var d of this.getMemberStateEvents()){var s=this.room.getMember(d.getStateKey()),c=d.getContent(),u=(Array.isArray(c["m.calls"])?c["m.calls"]:[]).find(function(t){return t["m.call_id"]===e.groupCallId}),p=(Array.isArray(null==u?void 0:u["m.devices"])?u["m.devices"]:[]).filter(function(e){return"string"==typeof e.device_id&&"string"==typeof e.session_id&&"number"==typeof e.expires_ts&&e.expires_ts>r&&Array.isArray(e.feeds)});if(n||(null==s?void 0:s.userId)!==this.client.getUserId()||(p=p.filter(function(t){return t.device_id!==e.client.getDeviceId()})),p.length>0&&(null==s?void 0:s.membership)===_r(_d[24]).KnownMembership.Join){var v=new Map;for(var h of(l.set(s,v),p))v.set(h.device_id,{sessionId:h.session_id,screensharing:h.feeds.some(function(e){return e.purpose===_r(_d[22]).SDPStreamMetadataPurpose.Screenshare})}),h.expires_ts<o&&(o=h.expires_ts)}}if(n){var f=l.get(t);void 0===f&&(f=new Map,l.set(t,f)),f.has(this.client.getDeviceId())||f.set(this.client.getDeviceId(),{sessionId:this.client.getSessionId(),screensharing:this.getLocalFeeds().some(function(e){return e.purpose===_r(_d[22]).SDPStreamMetadataPurpose.Screenshare})})}this.participants=l,o<1/0&&(this.participantsExpirationTimer=setTimeout(function(){return e.updateParticipants()},o-r))}else this.participants=new Map;else _r(_d[15]).logger.warn("GroupCall ".concat(this.groupCallId," updateParticipants() tried to update participants before local room member is available"))}},{key:"updateDevices",value:function(e){var t=arguments,l=this;return(0,p.default)(function*(){var r,n=t.length>1&&void 0!==t[1]&&t[1],o=Date.now(),d=l.client.getUserId(),s=l.getMemberStateEvents(d),c=null!==(r=null==s?void 0:s.getContent())&&void 0!==r?r:{},u=Array.isArray(c["m.calls"])?c["m.calls"]:[],p=null,v=[];for(var h of u)h["m.call_id"]===l.groupCallId?p=h:v.push(h);null===p&&(p={});var f=(Array.isArray(p["m.devices"])?p["m.devices"]:[]).filter(function(e){return"string"==typeof e.device_id&&"string"==typeof e.session_id&&"number"==typeof e.expires_ts&&e.expires_ts>o&&Array.isArray(e.feeds)}),C=e(f);if(null!==C){var I=[].concat(v);C.length>0&&I.push(S(S({},p),{},{"m.call_id":l.groupCallId,"m.devices":C}));var F={"m.calls":I};yield l.client.sendStateEvent(l.room.roomId,_r(_d[18]).EventType.GroupCallMemberPrefix,F,d,{keepAlive:n})}})()}},{key:"addDeviceToMemberState",value:function(){var e=this;return(0,p.default)(function*(){yield e.updateDevices(function(l){return[].concat((0,t.default)(l.filter(function(t){return t.device_id!==e.client.getDeviceId()})),[{device_id:e.client.getDeviceId(),session_id:e.client.getSessionId(),expires_ts:Date.now()+36e5,feeds:e.getLocalFeeds().map(function(e){return{purpose:e.purpose}})}])})})()}},{key:"updateMemberState",value:function(){var e=this;return(0,p.default)(function*(){null!==e.resendMemberStateTimer&&(clearInterval(e.resendMemberStateTimer),e.resendMemberStateTimer=null),e.state===_.Entered?(yield e.addDeviceToMemberState(),e.resendMemberStateTimer=setInterval((0,p.default)(function*(){_r(_d[15]).logger.log("GroupCall ".concat(e.groupCallId," updateMemberState() resending call member state\""));try{yield e.addDeviceToMemberState()}catch(t){_r(_d[15]).logger.error("GroupCall ".concat(e.groupCallId," updateMemberState() failed to resend call member state"),t)}}),27e5)):yield e.updateDevices(function(t){return t.filter(function(t){return t.device_id!==e.client.getDeviceId()})},!0)})()}},{key:"cleanMemberState",value:function(){var e=this;return(0,p.default)(function*(){var t=(yield e.client.getDevices()).devices,l=new Map(t.map(function(e){return[e.device_id,e]}));yield e.updateDevices(function(t){var r=t.filter(function(t){var r=l.get(t.device_id);return void 0!==(null==r?void 0:r.last_seen_ts)&&!(t.device_id===e.client.getDeviceId()&&e.state!==_.Entered&&!e.enteredViaAnotherSession)});return r.length===t.length?null:r})})()}},{key:"getGroupCallStats",value:function(){if(void 0===this.stats){var e=this.client.getUserId()||"unknown";this.stats=new(_r(_d[25]).GroupCallStats)(this.groupCallId,e,this.statsCollectIntervalTime),this.stats.reports.on(_r(_d[26]).StatsReport.CONNECTION_STATS,this.onConnectionStats),this.stats.reports.on(_r(_d[26]).StatsReport.BYTE_SENT_STATS,this.onByteSentStats),this.stats.reports.on(_r(_d[26]).StatsReport.SUMMARY_STATS,this.onSummaryStats),this.stats.reports.on(_r(_d[26]).StatsReport.CALL_FEED_REPORT,this.onCallFeedReport)}return this.stats}},{key:"setGroupCallStatsInterval",value:function(e){this.statsCollectIntervalTime=e,void 0!==this.stats&&(this.stats.stop(),this.stats.setInterval(e),e>0&&this.stats.start())}}])})(_r(_d[27]).TypedEventEmitter)},757,[1,42,34,12,11,19,18,20,23,144,743,739,758,759,738,746,760,764,765,766,835,748,756,834,767,922,924,762]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.SummaryStatsReportGatherer=void 0;var o=t(r(d[1])),u=t(r(d[2]));e.SummaryStatsReportGatherer=(function(){return(0,u.default)(function t(u){(0,o.default)(this,t),this.emitter=u},[{key:"build",value:function(t){var o=this,u=t.filter(function(t){return!t.isFirstCollection}),c=u.length,n=t.length;if(0!==c){var v={receivedAudio:0,receivedVideo:0,receivedMedia:0,concealedAudio:0,totalAudio:0},l=0,s=0;u.forEach(function(t){o.countTrackListReceivedMedia(v,t),o.countConcealedAudio(v,t),l=o.buildMaxJitter(l,t),s=o.buildMaxPacketLoss(s,t)});var k={percentageReceivedMedia:Number((v.receivedMedia/c).toFixed(5)),percentageReceivedVideoMedia:Number((v.receivedVideo/c).toFixed(5)),percentageReceivedAudioMedia:Number((v.receivedAudio/c).toFixed(5)),maxJitter:l,maxPacketLoss:s,percentageConcealedAudio:Number(v.totalAudio>0?(v.concealedAudio/v.totalAudio).toFixed(5):0),peerConnections:n};this.emitter.emitSummaryStatsReport(k)}}},{key:"countTrackListReceivedMedia",value:function(t,o){var u=!1,c=!1;(o.receivedAudioMedia>0||0===o.audioTrackSummary.count)&&(t.receivedAudio++,u=!0),(o.receivedVideoMedia>0||0===o.videoTrackSummary.count||o.videoTrackSummary.muted>0&&o.videoTrackSummary.muted===o.videoTrackSummary.count)&&(t.receivedVideo++,c=!0),c&&u&&t.receivedMedia++}},{key:"buildMaxJitter",value:function(t,o){return t<o.videoTrackSummary.maxJitter&&(t=o.videoTrackSummary.maxJitter),t<o.audioTrackSummary.maxJitter&&(t=o.audioTrackSummary.maxJitter),t}},{key:"buildMaxPacketLoss",value:function(t,o){return t<o.videoTrackSummary.maxPacketLoss&&(t=o.videoTrackSummary.maxPacketLoss),t<o.audioTrackSummary.maxPacketLoss&&(t=o.audioTrackSummary.maxPacketLoss),t}},{key:"countConcealedAudio",value:function(t,o){t.concealedAudio+=o.audioTrackSummary.concealedAudio,t.totalAudio+=o.audioTrackSummary.totalAudio}}],[{key:"extendSummaryReport",value:function(t,o){var u=[],c=[];for(var n of o)for(var v of(c.push(n),n[1]))u.push(v);t.opponentDevicesInCall=Math.max(0,u.length-1),t.opponentUsersInCall=Math.max(0,c.length-1),t.diffDevicesToPeerConnections=Math.max(0,u.length-1)-t.peerConnections,t.ratioPeerConnectionToDevices=0==Math.max(0,u.length-1)?0:t.peerConnections/(u.length-1)}}])})()},758,[1,11,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.CallFeedStatsReporter=void 0;var n=t(r(d[1])),l=t(r(d[2]));e.CallFeedStatsReporter=(function(){function t(){(0,n.default)(this,t)}return(0,l.default)(t,null,[{key:"buildCallFeedReport",value:function(n,l,u){var o=u.getTransceivers(),c=[];return o.forEach(function(n){var l,u=null!==(l=n.sender)&&void 0!==l&&l.track?t.buildTrackStats(n.sender.track,"sender"):null,o=t.buildTrackStats(n.receiver.track,"receiver");c.push({mid:null==n.mid?"null":n.mid,direction:n.direction,currentDirection:null==n.currentDirection?"null":n.currentDirection,sender:u,receiver:o})}),{callId:n,opponentMemberId:l,transceiver:c,callFeeds:[]}}},{key:"buildTrackStats",value:function(t){var n,l,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--",o=null===(n=t.getSettings())||void 0===n?void 0:n.deviceId,c=null===(l=t.getConstraints())||void 0===l?void 0:l.deviceId;return{id:t.id,kind:t.kind,settingDeviceId:null!=o?o:"unknown",constrainDeviceId:null!=c?c:"unknown",muted:t.muted,enabled:t.enabled,readyState:t.readyState,label:u}}},{key:"expandCallFeedReport",value:function(n,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown";return l.forEach(function(l){var o=l.stream.getAudioTracks(),c=l.stream.getVideoTracks(),s=o.length>0?t.buildTrackStats(l.stream.getAudioTracks()[0],l.purpose):null,v=c.length>0?t.buildTrackStats(l.stream.getVideoTracks()[0],l.purpose):null,k={stream:l.stream.id,type:l.isLocal()?"local":"remote",audio:s,video:v,purpose:l.purpose,prefix:u,isVideoMuted:l.isVideoMuted(),isAudioMuted:l.isAudioMuted()};n.callFeeds.push(k)}),n}}])})()},759,[1,11,12]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SPEAKING_THRESHOLD=_e.CallFeedEvent=_e.CallFeed=void 0;var t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),u=e(r(d[4])),s=e(r(d[5])),l=e(r(d[6]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var h=_e.SPEAKING_THRESHOLD=-60,v=_e.CallFeedEvent=(function(e){return e.NewStream="new_stream",e.MuteStateChanged="mute_state_changed",e.LocalVolumeChanged="local_volume_changed",e.VolumeChanged="volume_changed",e.ConnectedChanged="connected_changed",e.Speaking="speaking",e.Disposed="disposed",e})({});_e.CallFeed=(function(e){function f(e){var o,s,p,k;return(0,t.default)(this,f),s=this,p=f,p=(0,u.default)(p),o=(0,n.default)(s,c()?Reflect.construct(p,k||[],(0,u.default)(s).constructor):p.apply(s,k)),(0,l.default)(o,"stream",void 0),(0,l.default)(o,"sdpMetadataStreamId",void 0),(0,l.default)(o,"userId",void 0),(0,l.default)(o,"deviceId",void 0),(0,l.default)(o,"purpose",void 0),(0,l.default)(o,"speakingVolumeSamples",void 0),(0,l.default)(o,"client",void 0),(0,l.default)(o,"call",void 0),(0,l.default)(o,"roomId",void 0),(0,l.default)(o,"audioMuted",void 0),(0,l.default)(o,"videoMuted",void 0),(0,l.default)(o,"localVolume",1),(0,l.default)(o,"measuringVolumeActivity",!1),(0,l.default)(o,"audioContext",void 0),(0,l.default)(o,"analyser",void 0),(0,l.default)(o,"frequencyBinCount",void 0),(0,l.default)(o,"speakingThreshold",h),(0,l.default)(o,"speaking",!1),(0,l.default)(o,"volumeLooperTimeout",void 0),(0,l.default)(o,"_disposed",!1),(0,l.default)(o,"_connected",!1),(0,l.default)(o,"onAddTrack",function(){o.emit(v.NewStream,o.stream)}),(0,l.default)(o,"onCallState",function(e){e===r(d[7]).CallState.Connected?o.connected=!0:e===r(d[7]).CallState.Connecting&&(o.connected=!1)}),(0,l.default)(o,"volumeLooper",function(){if(o.analyser&&o.measuringVolumeActivity){o.analyser.getFloatFrequencyData(o.frequencyBinCount);var e=-1/0;for(var t of o.frequencyBinCount)t>e&&(e=t);o.speakingVolumeSamples.shift(),o.speakingVolumeSamples.push(e),o.emit(v.VolumeChanged,e);var n=!1;for(var u of o.speakingVolumeSamples)if(u>o.speakingThreshold){n=!0;break}o.speaking!==n&&(o.speaking=n,o.emit(v.Speaking,o.speaking)),o.volumeLooperTimeout=setTimeout(o.volumeLooper,200)}}),o.client=e.client,o.call=e.call,o.roomId=e.roomId,o.userId=e.userId,o.deviceId=e.deviceId,o.purpose=e.purpose,o.audioMuted=e.audioMuted,o.videoMuted=e.videoMuted,o.speakingVolumeSamples=new Array(8).fill(-1/0),o.sdpMetadataStreamId=e.stream.id,o.updateStream(null,e.stream),o.stream=e.stream,o.hasAudioTrack&&o.initVolumeMeasuring(),e.call&&(e.call.addListener(r(d[7]).CallEvent.State,o.onCallState),o.onCallState(e.call.state)),o}return(0,s.default)(f,e),(0,o.default)(f,[{key:"connected",get:function(){return this.isLocal()||this._connected},set:function(e){this._connected=e,this.emit(v.ConnectedChanged,this.connected)}},{key:"hasAudioTrack",get:function(){return this.stream.getAudioTracks().length>0}},{key:"updateStream",value:function(e,t){if(t!==e){var o=this.measuringVolumeActivity;e&&(e.removeEventListener("addtrack",this.onAddTrack),this.measureVolumeActivity(!1)),this.stream=t,t.addEventListener("addtrack",this.onAddTrack),this.hasAudioTrack?(this.initVolumeMeasuring(),o&&this.measureVolumeActivity(!0)):this.measureVolumeActivity(!1),this.emit(v.NewStream,this.stream)}}},{key:"initVolumeMeasuring",value:function(){this.hasAudioTrack&&(this.audioContext||(this.audioContext=(0,r(d[8]).acquireContext)()),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=512,this.analyser.smoothingTimeConstant=.1,this.audioContext.createMediaStreamSource(this.stream).connect(this.analyser),this.frequencyBinCount=new Float32Array(this.analyser.frequencyBinCount))}},{key:"getMember",value:function(){var e,t=this.client.getRoom(this.roomId);return null!==(e=null==t?void 0:t.getMember(this.userId))&&void 0!==e?e:null}},{key:"isLocal",value:function(){return this.userId===this.client.getUserId()&&(void 0===this.deviceId||this.deviceId===this.client.getDeviceId())}},{key:"isAudioMuted",value:function(){return 0===this.stream.getAudioTracks().length||this.audioMuted}},{key:"isVideoMuted",value:function(){return 0===this.stream.getVideoTracks().length||this.videoMuted}},{key:"isSpeaking",value:function(){return this.speaking}},{key:"setNewStream",value:function(e){this.updateStream(this.stream,e)}},{key:"setAudioVideoMuted",value:function(e,t){null!==e&&(this.audioMuted!==e&&this.speakingVolumeSamples.fill(-1/0),this.audioMuted=e),null!==t&&(this.videoMuted=t),this.emit(v.MuteStateChanged,this.audioMuted,this.videoMuted)}},{key:"measureVolumeActivity",value:function(e){if(e){if(!this.analyser||!this.frequencyBinCount||!this.hasAudioTrack)return;this.measuringVolumeActivity=!0,this.volumeLooper()}else this.measuringVolumeActivity=!1,this.speakingVolumeSamples.fill(-1/0),this.emit(v.VolumeChanged,-1/0)}},{key:"setSpeakingThreshold",value:function(e){this.speakingThreshold=e}},{key:"clone",value:function(){var e=this.client.getMediaHandler(),t=this.stream.clone();return r(d[9]).logger.log("CallFeed clone() cloning stream (originalStreamId=".concat(this.stream.id,", newStreamId").concat(t.id,")")),this.purpose===r(d[10]).SDPStreamMetadataPurpose.Usermedia?e.userMediaStreams.push(t):e.screensharingStreams.push(t),new f({client:this.client,roomId:this.roomId,userId:this.userId,deviceId:this.deviceId,stream:t,purpose:this.purpose,audioMuted:this.audioMuted,videoMuted:this.videoMuted})}},{key:"dispose",value:function(){var e,t;clearTimeout(this.volumeLooperTimeout),null===(e=this.stream)||void 0===e||e.removeEventListener("addtrack",this.onAddTrack),null===(t=this.call)||void 0===t||t.removeListener(r(d[7]).CallEvent.State,this.onCallState),this.audioContext&&(this.audioContext=void 0,this.analyser=void 0,(0,r(d[8]).releaseContext)()),this._disposed=!0,this.emit(v.Disposed)}},{key:"disposed",get:function(){return this._disposed},set:function(e){this._disposed=e}},{key:"getLocalVolume",value:function(){return this.localVolume}},{key:"setLocalVolume",value:function(e){this.localVolume=e,this.emit(v.LocalVolumeChanged,e)}}])})(r(d[11]).TypedEventEmitter)},760,[1,11,12,18,20,23,739,738,761,746,756,762]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.releaseContext=e.acquireContext=void 0;var n=null,t=0;e.acquireContext=function(){return null===n&&(n=new AudioContext),t++,n},e.releaseContext=function(){var o;0===--t&&(null===(o=n)||void 0===o||o.close(),n=null)}},761,[]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TypedEventEmitter=_e.EventEmitterEvents=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),u=e(_r(d[4])),o=e(_r(d[5])),s=e(_r(d[6])),l=e(_r(d[7]));function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function c(e,t,n,r){var s=(0,o.default)((0,u.default)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof s?function(e){return s.apply(n,e)}:s}_e.EventEmitterEvents=(function(e){return e.NewListener="newListener",e.RemoveListener="removeListener",e.Error="error",e})({}),_e.TypedEventEmitter=(function(e){function o(){return(0,t.default)(this,o),e=this,n=o,s=arguments,n=(0,u.default)(n),(0,r.default)(e,f()?Reflect.construct(n,s||[],(0,u.default)(e).constructor):n.apply(e,s));var e,n,s}return(0,s.default)(o,e),(0,n.default)(o,[{key:"addListener",value:function(e,t){return c(o,"addListener",this,3)([e,t])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return c(o,"emit",this,3)([e].concat(n))}},{key:"emitPromised",value:function(e){var t=arguments,n=this;return(0,l.default)(function*(){for(var r=t.length,u=new Array(r>1?r-1:0),o=1;o<r;o++)u[o-1]=t[o];var s=n.listeners(e);return Promise.allSettled(s.map(function(e){return e.apply(void 0,u)})).then(function(){return s.length>0})})()}},{key:"listenerCount",value:function(e){return c(o,"listenerCount",this,3)([e])}},{key:"listeners",value:function(e){return c(o,"listeners",this,3)([e])}},{key:"off",value:function(e,t){return c(o,"off",this,3)([e,t])}},{key:"on",value:function(e,t){return c(o,"on",this,3)([e,t])}},{key:"once",value:function(e,t){return c(o,"once",this,3)([e,t])}},{key:"prependListener",value:function(e,t){return c(o,"prependListener",this,3)([e,t])}},{key:"prependOnceListener",value:function(e,t){return c(o,"prependOnceListener",this,3)([e,t])}},{key:"removeAllListeners",value:function(e){return void 0===e?c(o,"removeAllListeners",this,3)([]):c(o,"removeAllListeners",this,3)([e])}},{key:"removeListener",value:function(e,t){return c(o,"removeListener",this,3)([e,t])}},{key:"rawListeners",value:function(e){return c(o,"rawListeners",this,3)([e])}}])})(_r(d[8]).EventEmitter)},762,[1,11,12,18,20,21,23,743,763]);
__d(function(g,r,_i,a,_m,e,d){'use strict';var t,n='object'==typeof Reflect?Reflect:null,i=n&&'function'==typeof n.apply?n.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};t=n&&'function'==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}_m.exports=s,_m.exports.once=function(t,n){return new Promise(function(i,o){function s(i){t.removeListener(n,u),o(i)}function u(){'function'==typeof t.removeListener&&t.removeListener('error',s),i([].slice.call(arguments))}b(t,n,u,{once:!0}),'error'!==n&&w(t,s,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function f(t){if('function'!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function v(t,n,i,o){var s,u,v,p;if(f(i),void 0===(u=t._events)?(u=t._events=Object.create(null),t._eventsCount=0):(void 0!==u.newListener&&(t.emit('newListener',n,i.listener?i.listener:i),u=t._events),v=u[n]),void 0===v)v=u[n]=i,++t._eventsCount;else if('function'==typeof v?v=u[n]=o?[i,v]:[v,i]:o?v.unshift(i):v.push(i),(s=c(t))>0&&v.length>s&&!v.warned){v.warned=!0;var l=new Error('Possible EventEmitter memory leak detected. '+v.length+' '+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name='MaxListenersExceededWarning',l.emitter=t,l.type=n,l.count=v.length,p=l,console&&console.warn&&console.warn(p)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,n,i){var o={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},s=p.bind(o);return s.listener=i,o.wrapFn=s,s}function h(t,n,i){var o=t._events;if(void 0===o)return[];var s=o[n];return void 0===s?[]:'function'==typeof s?i?[s.listener||s]:[s]:i?_(s):m(s,s.length)}function y(t){var n=this._events;if(void 0!==n){var i=n[t];if('function'==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,n){for(var i=new Array(n),o=0;o<n;++o)i[o]=t[o];return i}function L(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function _(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}function w(t,n,i){'function'==typeof t.on&&b(t,'error',n,i)}function b(t,n,i,o){if('function'==typeof t.on)o.once?t.once(n,i):t.on(n,i);else{if('function'!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(n,function s(u){o.once&&t.removeEventListener(n,s),i(u)})}}Object.defineProperty(s,'defaultMaxListeners',{enumerable:!0,get:function(){return u},set:function(t){if('number'!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+'.');u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if('number'!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+'.');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);var s='error'===t,u=this._events;if(void 0!==u)s=s&&void 0===u.error;else if(!s)return!1;if(s){var f;if(n.length>0&&(f=n[0]),f instanceof Error)throw f;var c=new Error('Unhandled error.'+(f?' ('+f.message+')':''));throw c.context=f,c}var v=u[t];if(void 0===v)return!1;if('function'==typeof v)i(v,this,n);else{var p=v.length,l=m(v,p);for(o=0;o<p;++o)i(l[o],this,n)}return!0},s.prototype.addListener=function(t,n){return v(this,t,n,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,n){return v(this,t,n,!0)},s.prototype.once=function(t,n){return f(n),this.on(t,l(this,t,n)),this},s.prototype.prependOnceListener=function(t,n){return f(n),this.prependListener(t,l(this,t,n)),this},s.prototype.removeListener=function(t,n){var i,o,s,u,c;if(f(n),void 0===(o=this._events))return this;if(void 0===(i=o[t]))return this;if(i===n||i.listener===n)0===--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit('removeListener',t,i.listener||n));else if('function'!=typeof i){for(s=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){c=i[u].listener,s=u;break}if(s<0)return this;0===s?i.shift():L(i,s),1===i.length&&(o[t]=i[0]),void 0!==o.removeListener&&this.emit('removeListener',t,c||n)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var n,i,o;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var s,u=Object.keys(i);for(o=0;o<u.length;++o)'removeListener'!==(s=u[o])&&this.removeAllListeners(s);return this.removeAllListeners('removeListener'),this._events=Object.create(null),this._eventsCount=0,this}if('function'==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,n){return'function'==typeof t.listenerCount?t.listenerCount(n):y.call(t,n)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},763,[]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TypedReEmitter=_e.ReEmitter=void 0;var e=t(_r(d[1])),r=t(_r(d[2])),n=t(_r(d[3])),o=t(_r(d[4])),u=t(_r(d[5])),f=t(_r(d[6])),c=t(_r(d[7]));function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function s(t,e,o,u){var f=(0,n.default)((0,r.default)(1&u?t.prototype:t),e,o);return 2&u&&"function"==typeof f?function(t){return f.apply(o,t)}:f}var v=_e.ReEmitter=(function(){return(0,f.default)(function t(e){(0,u.default)(this,t),this.target=e,(0,c.default)(this,"reEmitters",new WeakMap)},[{key:"reEmit",value:function(t,e){var r=this,n=this.reEmitters.get(t);n||(n=new Map,this.reEmitters.set(t,n));var o=function(e){if(n.has(e))return 1;var o=function(){var n;if("error"!==e||0!==r.target.listenerCount("error")){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];(n=r.target).emit.apply(n,[e].concat(u,[t]))}};t.on(e,o),n.set(e,o)};for(var u of e)o(u)}},{key:"stopReEmitting",value:function(t,e){var r=this.reEmitters.get(t);if(r){for(var n of e)t.off(n,r.get(n)),r.delete(n);0===r.size&&this.reEmitters.delete(t)}}}])})();_e.TypedReEmitter=(function(t){function n(t){return(0,u.default)(this,n),o=this,f=n,c=[t],f=(0,r.default)(f),(0,e.default)(o,l()?Reflect.construct(f,c||[],(0,r.default)(o).constructor):f.apply(o,c));var o,f,c}return(0,o.default)(n,t),(0,f.default)(n,[{key:"reEmit",value:function(t,e){s(n,"reEmit",this,3)([t,e])}},{key:"stopReEmitting",value:function(t,e){s(n,"stopReEmitting",this,3)([t,e])}}])})(v)},764,[1,18,20,21,23,11,12,739]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.UNSTABLE_MSC3089_TREE_SUBTYPE=e.UNSTABLE_MSC3089_LEAF=e.UNSTABLE_MSC3089_BRANCH=e.UNSTABLE_MSC3088_PURPOSE=e.UNSTABLE_MSC3088_ENABLED=e.UNSTABLE_MSC2716_MARKER=e.UNSTABLE_ELEMENT_FUNCTIONAL_USERS=e.UNSIGNED_THREAD_ID_FIELD=e.UNSIGNED_MEMBERSHIP_FIELD=e.ToDeviceMessageId=e.RoomType=e.RoomCreateTypeField=e.RelationType=e.PUSHER_ENABLED=e.PUSHER_DEVICE_ID=e.MsgType=e.MSC3912_RELATION_BASED_REDACTIONS_PROP=e.LOCAL_NOTIFICATION_SETTINGS_PREFIX=e.EventType=e.EVENT_VISIBILITY_CHANGE_TYPE=void 0;e.EventType=(function(o){return o.RoomCanonicalAlias="m.room.canonical_alias",o.RoomCreate="m.room.create",o.RoomJoinRules="m.room.join_rules",o.RoomMember="m.room.member",o.RoomThirdPartyInvite="m.room.third_party_invite",o.RoomPowerLevels="m.room.power_levels",o.RoomName="m.room.name",o.RoomTopic="m.room.topic",o.RoomAvatar="m.room.avatar",o.RoomPinnedEvents="m.room.pinned_events",o.RoomEncryption="m.room.encryption",o.RoomHistoryVisibility="m.room.history_visibility",o.RoomGuestAccess="m.room.guest_access",o.RoomServerAcl="m.room.server_acl",o.RoomTombstone="m.room.tombstone",o.RoomPredecessor="org.matrix.msc3946.room_predecessor",o.PolicyRuleUser="m.policy.rule.user",o.PolicyRuleRoom="m.policy.rule.room",o.PolicyRuleServer="m.policy.rule.server",o.SpaceChild="m.space.child",o.SpaceParent="m.space.parent",o.RoomRedaction="m.room.redaction",o.RoomMessage="m.room.message",o.RoomMessageEncrypted="m.room.encrypted",o.Sticker="m.sticker",o.CallInvite="m.call.invite",o.CallCandidates="m.call.candidates",o.CallAnswer="m.call.answer",o.CallHangup="m.call.hangup",o.CallReject="m.call.reject",o.CallSelectAnswer="m.call.select_answer",o.CallNegotiate="m.call.negotiate",o.CallSDPStreamMetadataChanged="m.call.sdp_stream_metadata_changed",o.CallSDPStreamMetadataChangedPrefix="org.matrix.call.sdp_stream_metadata_changed",o.CallReplaces="m.call.replaces",o.CallAssertedIdentity="m.call.asserted_identity",o.CallAssertedIdentityPrefix="org.matrix.call.asserted_identity",o.CallEncryptionKeysPrefix="io.element.call.encryption_keys",o.KeyVerificationRequest="m.key.verification.request",o.KeyVerificationStart="m.key.verification.start",o.KeyVerificationCancel="m.key.verification.cancel",o.KeyVerificationMac="m.key.verification.mac",o.KeyVerificationDone="m.key.verification.done",o.KeyVerificationKey="m.key.verification.key",o.KeyVerificationAccept="m.key.verification.accept",o.KeyVerificationReady="m.key.verification.ready",o.RoomMessageFeedback="m.room.message.feedback",o.Reaction="m.reaction",o.PollStart="org.matrix.msc3381.poll.start",o.Typing="m.typing",o.Receipt="m.receipt",o.Presence="m.presence",o.FullyRead="m.fully_read",o.Tag="m.tag",o.SpaceOrder="org.matrix.msc3230.space_order",o.PushRules="m.push_rules",o.Direct="m.direct",o.IgnoredUserList="m.ignored_user_list",o.RoomKey="m.room_key",o.RoomKeyRequest="m.room_key_request",o.ForwardedRoomKey="m.forwarded_room_key",o.Dummy="m.dummy",o.SecretRequest="m.secret.request",o.SecretSend="m.secret.send",o.GroupCallPrefix="org.matrix.msc3401.call",o.GroupCallMemberPrefix="org.matrix.msc3401.call.member",o.RTCMembership="org.matrix.msc4143.rtc.member",o.CallNotify="org.matrix.msc4075.call.notify",o.RTCNotification="org.matrix.msc4075.rtc.notification",o.RTCDecline="org.matrix.msc4310.rtc.decline",o})({}),e.RelationType=(function(o){return o.Annotation="m.annotation",o.Replace="m.replace",o.Reference="m.reference",o.Thread="m.thread",o})({}),e.MsgType=(function(o){return o.Text="m.text",o.Emote="m.emote",o.Notice="m.notice",o.Image="m.image",o.File="m.file",o.Audio="m.audio",o.Location="m.location",o.Video="m.video",o.KeyVerificationRequest="m.key.verification.request",o})({}),e.RoomCreateTypeField="type",e.RoomType=(function(o){return o.Space="m.space",o.UnstableCall="org.matrix.msc3417.call",o.ElementVideo="io.element.video",o})({}),e.ToDeviceMessageId="org.matrix.msgid",e.UNSTABLE_MSC3088_PURPOSE=new(r(d[0]).UnstableValue)("m.room.purpose","org.matrix.msc3088.purpose"),e.UNSTABLE_MSC3088_ENABLED=new(r(d[0]).UnstableValue)("m.enabled","org.matrix.msc3088.enabled"),e.UNSTABLE_MSC3089_TREE_SUBTYPE=new(r(d[0]).UnstableValue)("m.data_tree","org.matrix.msc3089.data_tree"),e.UNSTABLE_MSC3089_LEAF=new(r(d[0]).UnstableValue)("m.leaf","org.matrix.msc3089.leaf"),e.UNSTABLE_MSC3089_BRANCH=new(r(d[0]).UnstableValue)("m.branch","org.matrix.msc3089.branch"),e.UNSTABLE_MSC2716_MARKER=new(r(d[0]).UnstableValue)("m.room.marker","org.matrix.msc2716.marker"),e.MSC3912_RELATION_BASED_REDACTIONS_PROP=new(r(d[0]).UnstableValue)("with_rel_types","org.matrix.msc3912.with_relations"),e.UNSTABLE_ELEMENT_FUNCTIONAL_USERS=new(r(d[0]).UnstableValue)("io.element.functional_members","io.element.functional_members"),e.EVENT_VISIBILITY_CHANGE_TYPE=new(r(d[0]).UnstableValue)("m.visibility","org.matrix.msc3531.visibility"),e.PUSHER_ENABLED=new(r(d[0]).UnstableValue)("enabled","org.matrix.msc3881.enabled"),e.PUSHER_DEVICE_ID=new(r(d[0]).UnstableValue)("device_id","org.matrix.msc3881.device_id"),e.LOCAL_NOTIFICATION_SETTINGS_PREFIX=new(r(d[0]).UnstableValue)("m.local_notification_settings","org.matrix.msc3890.local_notification_settings"),e.UNSIGNED_THREAD_ID_FIELD=new(r(d[0]).UnstableValue)("thread_id","org.matrix.msc4023.thread_id"),e.UNSIGNED_MEMBERSHIP_FIELD=new(r(d[0]).NamespacedValue)("membership","io.element.msc4115.membership")},765,[754]);
__d(function(g,r,i,a,_m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RoomStateEvent=_e.RoomState=void 0;var t=e(r(d[1])),n=e(r(d[2])),s=e(r(d[3])),o=e(r(d[4])),u=e(r(d[5])),v=e(r(d[6])),m=e(r(d[7])),l=e(r(d[8]));function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var h=(function(e){return e[e.NotStarted=0]="NotStarted",e[e.InProgress=1]="InProgress",e[e.Finished=2]="Finished",e})(h||{}),c=_e.RoomStateEvent=(function(e){return e.Events="RoomState.events",e.Members="RoomState.members",e.NewMember="RoomState.newMember",e.Update="RoomState.update",e.BeaconLiveness="RoomState.BeaconLiveness",e.Marker="RoomState.Marker",e})({});_e.RoomState=(function(e){function p(e){var t;(0,n.default)(this,p);var s,v,m,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:h.NotStarted};return s=this,v=p,v=(0,u.default)(v),(t=(0,o.default)(s,f()?Reflect.construct(v,m||[],(0,u.default)(s).constructor):v.apply(s,m))).roomId=e,t.oobMemberFlags=c,(0,l.default)(t,"reEmitter",new(r(d[9]).TypedReEmitter)(t)),(0,l.default)(t,"sentinels",{}),(0,l.default)(t,"displayNameToUserIds",new Map),(0,l.default)(t,"userIdsToDisplayNames",{}),(0,l.default)(t,"tokenToInvite",{}),(0,l.default)(t,"joinedMemberCount",null),(0,l.default)(t,"summaryJoinedMemberCount",null),(0,l.default)(t,"invitedMemberCount",null),(0,l.default)(t,"summaryInvitedMemberCount",null),(0,l.default)(t,"modified",-1),(0,l.default)(t,"members",{}),(0,l.default)(t,"events",new Map),(0,l.default)(t,"paginationToken",null),(0,l.default)(t,"beacons",new Map),(0,l.default)(t,"_liveBeaconIds",[]),(0,l.default)(t,"getVersionWarning",!1),t.updateModifiedTime(),t}return(0,v.default)(p,e),(0,s.default)(p,[{key:"getRoomVersion",value:function(){var e,t=this.getStateEvents(r(d[10]).EventType.RoomCreate,"");return t?null!==(e=t.getContent().room_version)&&void 0!==e?e:"1":(this.getVersionWarning||(r(d[11]).logger.warn("[getVersion] Room "+this.roomId+" does not have an m.room.create event"),this.getVersionWarning=!0),"1")}},{key:"getJoinedMemberCount",value:function(){return null!==this.summaryJoinedMemberCount?this.summaryJoinedMemberCount:(null===this.joinedMemberCount&&(this.joinedMemberCount=this.getMembers().reduce(function(e,t){return t.membership===r(d[12]).KnownMembership.Join?e+1:e},0)),this.joinedMemberCount)}},{key:"setJoinedMemberCount",value:function(e){this.summaryJoinedMemberCount=e}},{key:"getInvitedMemberCount",value:function(){return null!==this.summaryInvitedMemberCount?this.summaryInvitedMemberCount:(null===this.invitedMemberCount&&(this.invitedMemberCount=this.getMembers().reduce(function(e,t){return t.membership===r(d[12]).KnownMembership.Invite?e+1:e},0)),this.invitedMemberCount)}},{key:"setInvitedMemberCount",value:function(e){this.summaryInvitedMemberCount=e}},{key:"getMembers",value:function(){return Object.values(this.members)}},{key:"getMembersExcept",value:function(e){return this.getMembers().filter(function(t){return!e.includes(t.userId)})}},{key:"getMember",value:function(e){return this.members[e]||null}},{key:"getSentinelMember",value:function(e){if(!e)return null;var t=this.sentinels[e];if(void 0===t){t=new(r(d[13]).RoomMember)(this.roomId,e);var n=this.members[e];null!=n&&n.events.member&&t.setMembershipEvent(n.events.member,this),this.sentinels[e]=t}return t}},{key:"getStateEvents",value:function(e,t){if(!this.events.has(e))return void 0===t?[]:null;if(void 0===t)return Array.from(this.events.get(e).values());var n=this.events.get(e).get(t);return n||null}},{key:"hasLiveBeacons",get:function(){var e;return!(null===(e=this.liveBeaconIds)||void 0===e||!e.length)}},{key:"liveBeaconIds",get:function(){return this._liveBeaconIds}},{key:"clone",value:function(){var e=new p(this.roomId,this.oobMemberFlags),t=this.oobMemberFlags.status;return this.oobMemberFlags.status=h.NotStarted,Array.from(this.events.values()).forEach(function(t){e.setStateEvents(Array.from(t.values()))}),this.oobMemberFlags.status=t,null!==this.summaryInvitedMemberCount&&e.setInvitedMemberCount(this.getInvitedMemberCount()),null!==this.summaryJoinedMemberCount&&e.setJoinedMemberCount(this.getJoinedMemberCount()),this.oobMemberFlags.status==h.Finished&&this.getMembers().forEach(function(t){var n;t.isOutOfBand()&&(null===(n=e.getMember(t.userId))||void 0===n||n.markOutOfBand())}),e}},{key:"setUnknownStateEvents",value:function(e){var t=this,n=e.filter(function(e){return!t.events.has(e.getType())||!t.events.get(e.getType()).has(e.getStateKey())});this.setStateEvents(n)}},{key:"setStateEvents",value:function(e,t){var n=this;this.updateModifiedTime(),e.forEach(function(e){if(e.getRoomId()===n.roomId&&e.isState()){r(d[14]).M_BEACON_INFO.matches(e.getType())&&n.setBeacon(e);var t,s=n.getStateEventMatching(e);if(n.setStateEvent(e),e.getType()===r(d[10]).EventType.RoomMember)n.updateDisplayNameCache(e.getStateKey(),null!==(t=e.getContent().displayname)&&void 0!==t?t:""),n.updateThirdPartyTokenCache(e);n.emit(c.Events,e,n,s)}}),this.onBeaconLivenessChange(),e.forEach(function(e){if(e.getRoomId()===n.roomId&&e.isState())if(e.getType()===r(d[10]).EventType.RoomMember){var s=e.getStateKey();e.getContent().membership!==r(d[12]).KnownMembership.Leave&&e.getContent().membership!==r(d[12]).KnownMembership.Ban||(e.getContent().avatar_url=e.getContent().avatar_url||e.getPrevContent().avatar_url,e.getContent().displayname=e.getContent().displayname||e.getPrevContent().displayname);var o=n.getOrCreateMember(s,e);o.setMembershipEvent(e,n),n.updateMember(o),n.emit(c.Members,e,n,o)}else if(e.getType()===r(d[10]).EventType.RoomPowerLevels){if(""!==e.getStateKey())return;var u=Object.values(n.members),v=n.getStateEvents(r(d[10]).EventType.RoomCreate,""),m=y(n.getRoomVersion(),v);u.forEach(function(t){var s=t.getLastModifiedTime();if(v){var o=b(t.userId,e,m);t.setPowerLevel(o,e)}s!==t.getLastModifiedTime()&&n.emit(c.Members,e,n,t)}),n.sentinels={}}else r(d[10]).UNSTABLE_MSC2716_MARKER.matches(e.getType())&&n.emit(c.Marker,e,t)}),this.emit(c.Update,this)}},{key:"processBeaconEvents",value:function(e,n){var s=this;return(0,m.default)(function*(){if(e.length&&s.beacons.size){var o,u=(0,t.default)(s.beacons.values()).reduce(function(e,t){return e[t.beaconInfoId]=t,e},{}),v=function(e,t){if(r(d[14]).M_BEACON.matches(t.getType())){var n=u[e];n&&n.addLocations([t])}},l=function*(e){var t,s=null===(t=e.getRelation())||void 0===t?void 0:t.event_id;if(!s||!u[s])return{v:void 0};if(!r(d[14]).M_BEACON.matches(e.getType())&&!e.isEncrypted())return{v:void 0};try{yield n.decryptEventIfNeeded(e),v(s,e)}catch(t){e.isDecryptionFailure()&&e.once(r(d[15]).MatrixEventEvent.Decrypted,(0,m.default)(function*(){v(s,e)}))}};for(var f of e)if(o=yield*l(f))return o.v}})()}},{key:"getOrCreateMember",value:function(e,t){var n=this.members[e];return n||(n=new(r(d[13]).RoomMember)(this.roomId,e),this.members[e]=n,this.emit(c.NewMember,t,this,n)),n}},{key:"setStateEvent",value:function(e){this.events.has(e.getType())||this.events.set(e.getType(),new Map),this.events.get(e.getType()).set(e.getStateKey(),e)}},{key:"setBeacon",value:function(e){var t=(0,r(d[16]).getBeaconInfoIdentifier)(e);if(this.beacons.has(t)){var n,s=this.beacons.get(t);return e.isRedacted()?void(s.beaconInfoId===(null===(n=e.getRedactionEvent())||void 0===n?void 0:n.redacts)&&(s.destroy(),this.beacons.delete(t))):s.update(e)}if(!e.isRedacted()){var o=new(r(d[16]).Beacon)(e);this.reEmitter.reEmit(o,[r(d[16]).BeaconEvent.New,r(d[16]).BeaconEvent.Update,r(d[16]).BeaconEvent.Destroy,r(d[16]).BeaconEvent.LivenessChange]),this.emit(r(d[16]).BeaconEvent.New,e,o),o.on(r(d[16]).BeaconEvent.LivenessChange,this.onBeaconLivenessChange.bind(this)),o.on(r(d[16]).BeaconEvent.Destroy,this.onBeaconLivenessChange.bind(this)),this.beacons.set(o.identifier,o)}}},{key:"onBeaconLivenessChange",value:function(){this._liveBeaconIds=Array.from(this.beacons.values()).filter(function(e){return e.isLive}).map(function(e){return e.identifier}),this.emit(c.BeaconLiveness,this,this.hasLiveBeacons)}},{key:"getStateEventMatching",value:function(e){var t,n;return null!==(t=null===(n=this.events.get(e.getType()))||void 0===n?void 0:n.get(e.getStateKey()))&&void 0!==t?t:null}},{key:"updateMember",value:function(e){var t=this.getStateEvents(r(d[10]).EventType.RoomCreate,""),n=this.getStateEvents(r(d[10]).EventType.RoomPowerLevels,"");if(n&&t){var s=b(e.userId,n,y(this.getRoomVersion(),t));e.setPowerLevel(s,n)}delete this.sentinels[e.userId],this.members[e.userId]=e,this.joinedMemberCount=null,this.invitedMemberCount=null}},{key:"needsOutOfBandMembers",value:function(){return this.oobMemberFlags.status===h.NotStarted}},{key:"outOfBandMembersReady",value:function(){return this.oobMemberFlags.status===h.Finished}},{key:"markOutOfBandMembersStarted",value:function(){this.oobMemberFlags.status===h.NotStarted&&(this.oobMemberFlags.status=h.InProgress)}},{key:"markOutOfBandMembersFailed",value:function(){this.oobMemberFlags.status===h.InProgress&&(this.oobMemberFlags.status=h.NotStarted)}},{key:"clearOutOfBandMembers",value:function(){var e=this,t=0;Object.keys(this.members).forEach(function(n){e.members[n].isOutOfBand()&&(++t,delete e.members[n])}),r(d[11]).logger.log("LL: RoomState removed ".concat(t," members...")),this.oobMemberFlags.status=h.NotStarted}},{key:"setOutOfBandMembers",value:function(e){var t=this;r(d[11]).logger.log("LL: RoomState about to set ".concat(e.length," OOB members ...")),this.oobMemberFlags.status===h.InProgress&&(r(d[11]).logger.log("LL: RoomState put in finished state ..."),this.oobMemberFlags.status=h.Finished,e.forEach(function(e){return t.setOutOfBandMember(e)}),this.emit(c.Update,this))}},{key:"setOutOfBandMember",value:function(e){if(e.getType()===r(d[10]).EventType.RoomMember){var t=e.getStateKey(),n=this.getMember(t);if(!n||n.isOutOfBand()){var s=this.getOrCreateMember(t,e);s.setMembershipEvent(e,this),s.markOutOfBand(),this.updateDisplayNameCache(s.userId,s.name),this.setStateEvent(e),this.updateMember(s),this.emit(c.Members,e,this,s)}}}},{key:"setTypingEvent",value:function(e){Object.values(this.members).forEach(function(t){t.setTypingEvent(e)})}},{key:"getInviteForThreePidToken",value:function(e){return this.tokenToInvite[e]||null}},{key:"updateModifiedTime",value:function(){this.modified=Date.now()}},{key:"getLastModifiedTime",value:function(){return this.modified}},{key:"getUserIdsWithDisplayName",value:function(e){var t;return null!==(t=this.displayNameToUserIds.get((0,r(d[17]).removeHiddenChars)(e)))&&void 0!==t?t:[]}},{key:"maySendRedactionForEvent",value:function(e,t){var n=this.getMember(t);return!(!n||n.membership===r(d[12]).KnownMembership.Leave)&&(!e.status&&!e.isRedacted()&&(!!this.maySendEvent(r(d[10]).EventType.RoomRedaction,t)&&(e.getSender()===t||this.hasSufficientPowerLevelFor("redact",n.powerLevel))))}},{key:"hasSufficientPowerLevelFor",value:function(e,t){var n=this.getStateEvents(r(d[10]).EventType.RoomPowerLevels,""),s={};n&&(s=n.getContent());var o=50;return(0,r(d[17]).isNumber)(s[e])&&(o=s[e]),t>=o}},{key:"maySendMessage",value:function(e){return this.maySendEventOfType(r(d[10]).EventType.RoomMessage,e,!1)}},{key:"maySendEvent",value:function(e,t){return this.maySendEventOfType(e,t,!1)}},{key:"mayClientSendStateEvent",value:function(e,t){return!(t.isGuest()||!t.credentials.userId)&&this.maySendStateEvent(e,t.credentials.userId)}},{key:"maySendStateEvent",value:function(e,t){return this.maySendEventOfType(e,t,!0)}},{key:"maySendEventOfType",value:function(e,t,n){var s,o,u=this.getStateEvents(r(d[10]).EventType.RoomPowerLevels,""),v={},m=0,l=0;u&&(v=(o=u.getContent()).events||{},m=Number.isSafeInteger(o.state_default)?o.state_default:50,Number.isSafeInteger(o.events_default)&&(l=o.events_default));var f=n?m:l;Number.isSafeInteger(v[e])&&(f=v[e]);var h=this.getMember(t);return(null!==(s=null==h?void 0:h.powerLevel)&&void 0!==s?s:0)>=f}},{key:"mayTriggerNotifOfType",value:function(e,t){var n=this.getMember(t);if(!n)return!1;var s=this.getStateEvents(r(d[10]).EventType.RoomPowerLevels,""),o=50;return s&&s.getContent()&&s.getContent().notifications&&(0,r(d[17]).isNumber)(s.getContent().notifications[e])&&(o=s.getContent().notifications[e]),n.powerLevel>=o}},{key:"getJoinRule",value:function(){var e,t=this.getStateEvents(r(d[10]).EventType.RoomJoinRules,"");return(null!==(e=null==t?void 0:t.getContent())&&void 0!==e?e:{}).join_rule||r(d[18]).JoinRule.Invite}},{key:"getHistoryVisibility",value:function(){var e,t=this.getStateEvents(r(d[10]).EventType.RoomHistoryVisibility,"");return(null!==(e=null==t?void 0:t.getContent())&&void 0!==e?e:{}).history_visibility||r(d[18]).HistoryVisibility.Shared}},{key:"getGuestAccess",value:function(){var e,t=this.getStateEvents(r(d[10]).EventType.RoomGuestAccess,"");return(null!==(e=null==t?void 0:t.getContent())&&void 0!==e?e:{}).guest_access||r(d[18]).GuestAccess.Forbidden}},{key:"findPredecessor",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var e=this.getStateEvents(r(d[10]).EventType.RoomPredecessor,"");if(e){var t=e.getContent(),n=t.predecessor_room_id,s=t.last_known_event_id;"string"!=typeof s&&(s=void 0);var o=t.via_servers;if(Array.isArray(o)||(o=void 0),"string"==typeof n)return{roomId:n,eventId:s,viaServers:o}}}var u=this.getStateEvents(r(d[10]).EventType.RoomCreate,"");if(u){var v=u.getContent().predecessor;if(v){var m=v.room_id;if("string"==typeof m){var l=v.event_id;return"string"==typeof l&&""!==l||(l=void 0),{roomId:m,eventId:l}}}}return null}},{key:"updateThirdPartyTokenCache",value:function(e){if(e.getContent().third_party_invite){var t=(e.getContent().third_party_invite.signed||{}).token;if(t)this.getStateEvents(r(d[10]).EventType.RoomThirdPartyInvite,t)&&(this.tokenToInvite[t]=e)}}},{key:"updateDisplayNameCache",value:function(e,t){var n=this.userIdsToDisplayNames[e];if(delete this.userIdsToDisplayNames[e],n){var s=(0,r(d[17]).removeHiddenChars)(n),o=this.displayNameToUserIds.get(s);if(o){var u=o.filter(function(t){return t!==e});this.displayNameToUserIds.set(s,u)}}this.userIdsToDisplayNames[e]=t;var v=t&&(0,r(d[17]).removeHiddenChars)(t);if(v){var m,l=null!==(m=this.displayNameToUserIds.get(v))&&void 0!==m?m:[];l.push(e),this.displayNameToUserIds.set(v,l)}}}])})(r(d[19]).TypedEventEmitter);function y(e,t){var n=new Set;if((0,r(d[20]).shouldUseHydraForRoomVersion)(e)&&t){var s=t.getSender();s&&n.add(s);var o=t.getDirectionalContent().additional_creators;Array.isArray(o)&&o.forEach(function(e){return n.add(e)})}return n}function b(e,t,n){if(n.has(e))return 1/0;var s=t.getDirectionalContent(),o=s.users||{};return void 0!==o[e]&&Number.isInteger(o[e])?o[e]:void 0!==s.users_default?s.users_default:0}},766,[1,42,11,12,18,20,23,743,739,764,765,746,767,768,770,771,824,748,858,762,921]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.KnownMembership=void 0;e.KnownMembership=(function(n){return n.Ban="ban",n.Invite="invite",n.Join="join",n.Knock="knock",n.Leave="leave",n})({})},767,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RoomMemberEvent=_e.RoomMember=_e.MXID_PATTERN=void 0;var t=e(r(d[1])),n=e(r(d[2])),s=e(r(d[3])),o=e(r(d[4])),u=e(r(d[5])),v=e(r(d[6]));function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}var l=_e.RoomMemberEvent=(function(e){return e.Membership="RoomMember.membership",e.Name="RoomMember.name",e.PowerLevel="RoomMember.powerLevel",e.Typing="RoomMember.typing",e})({}),f=(_e.RoomMember=(function(e){function f(e,n){var u,l,p,c;return(0,t.default)(this,f),l=this,p=f,p=(0,o.default)(p),(u=(0,s.default)(l,h()?Reflect.construct(p,c||[],(0,o.default)(l).constructor):p.apply(l,c))).roomId=e,u.userId=n,(0,v.default)(u,"_isOutOfBand",!1),(0,v.default)(u,"modified",-1),(0,v.default)(u,"requestedProfileInfo",!1),(0,v.default)(u,"typing",!1),(0,v.default)(u,"name",void 0),(0,v.default)(u,"rawDisplayName",void 0),(0,v.default)(u,"powerLevel",0),(0,v.default)(u,"user",void 0),(0,v.default)(u,"membership",void 0),(0,v.default)(u,"disambiguate",!1),(0,v.default)(u,"events",{}),u.name=n,u.rawDisplayName=n,u.updateModifiedTime(),u}return(0,u.default)(f,e),(0,n.default)(f,[{key:"markOutOfBand",value:function(){this._isOutOfBand=!0}},{key:"isOutOfBand",value:function(){return this._isOutOfBand}},{key:"setMembershipEvent",value:function(e,t){var n,s,o=null!==(n=e.getDirectionalContent().displayname)&&void 0!==n?n:"";if(e.getType()===r(d[7]).EventType.RoomMember){this._isOutOfBand=!1,this.events.member=e;var u=this.membership;this.membership=e.getDirectionalContent().membership,void 0===this.membership&&r(d[8]).logger.trace("membership event with membership undefined (forwardLooking: ".concat(e.forwardLooking,")!"),e.getContent(),"prevcontent is ",e.getPrevContent()),this.disambiguate=c(this.userId,o,t);var v=this.name;this.name=y(this.userId,o,this.disambiguate),this.rawDisplayName=(0,r(d[9]).removeDirectionOverrideChars)(null!==(s=e.getDirectionalContent().displayname)&&void 0!==s?s:""),this.rawDisplayName&&(0,r(d[9]).removeHiddenChars)(this.rawDisplayName)||(this.rawDisplayName=this.userId),u!==this.membership&&(this.updateModifiedTime(),this.emit(l.Membership,e,this,u)),v!==this.name&&(this.updateModifiedTime(),this.emit(l.Name,e,this,v))}}},{key:"setPowerLevel",value:function(e,t){var n=this.powerLevel;this.powerLevel=e,n!==this.powerLevel&&(this.updateModifiedTime(),this.emit(l.PowerLevel,t,this))}},{key:"setTypingEvent",value:function(e){if("m.typing"===e.getType()){var t=this.typing;this.typing=!1;var n=e.getContent().user_ids;Array.isArray(n)&&(-1!==n.indexOf(this.userId)&&(this.typing=!0),t!==this.typing&&(this.updateModifiedTime(),this.emit(l.Typing,e,this)))}}},{key:"updateModifiedTime",value:function(){this.modified=Date.now()}},{key:"getLastModifiedTime",value:function(){return this.modified}},{key:"isKicked",value:function(){return this.membership===r(d[10]).KnownMembership.Leave&&void 0!==this.events.member&&this.events.member.getSender()!==this.events.member.getStateKey()}},{key:"getDMInviter",value:function(){if(this.events.member){var e=this.events.member,t=e.getContent(),n=e.getSender();if(t.membership===r(d[10]).KnownMembership.Join&&(t=e.getPrevContent(),n=e.getUnsigned().prev_sender),t.membership===r(d[10]).KnownMembership.Invite&&t.is_direct)return n}}},{key:"getAvatarUrl",value:function(e,t,n,s){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5?arguments[5]:void 0,v=arguments.length>6&&void 0!==arguments[6]&&arguments[6],h=this.getMxcAvatarUrl();if(!h&&!o)return null;var l=(0,r(d[11]).getHttpUriForMxc)(e,h,t,n,s,u,void 0,v);return l||null}},{key:"getMxcAvatarUrl",value:function(){return this.events.member?this.events.member.getDirectionalContent().avatar_url:this.user?this.user.avatarUrl:void 0}}])})(r(d[12]).TypedEventEmitter),_e.MXID_PATTERN=/@.+:.+/),p=/[\u200E\u200F\u202A-\u202F]/;function c(e,t,n){if(!t||t===e)return!1;if(!n)return!1;var s=(0,r(d[9]).removeHiddenChars)(t);return!!s&&(!!f.test(s)||(!!p.test(t)||!!n.getUserIdsWithDisplayName(t).some(function(t){return t!==e})))}function y(e,t,n){return t&&t!==e?n?(0,r(d[9]).removeDirectionOverrideChars)(t)+" ("+e+")":(0,r(d[9]).removeHiddenChars)(t)?(0,r(d[9]).removeDirectionOverrideChars)(t):e:e}},768,[1,11,12,18,20,23,739,765,746,748,767,769,762]);
__d(function(g,_r,i,_a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.getHttpUriForMxc=function(t,a,o,l,u){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],h=arguments.length>6?arguments[6]:void 0,v=arguments.length>7?arguments[7]:void 0;if("string"!=typeof a||!a)return"";if(!a.startsWith("mxc://"))return s?a:"";var f,_=a.slice(6).split("/"),x=(0,r.default)(_),p=x[0],w=x[1];if(e(x).slice(2).length>0||!n(p)||!c(w))return"";v&&(h=!0);var y=o||l||u?"thumbnail":"download";f=v?"/_matrix/client/v1/media/".concat(y):"/_matrix/media/v3/".concat(y);var P=new URL("".concat(f,"/").concat(p,"/").concat(w),t);o&&P.searchParams.set("width",Math.round(o).toString());l&&P.searchParams.set("height",Math.round(l).toString());u&&P.searchParams.set("method",u);"boolean"==typeof h&&P.searchParams.set("allow_redirect",JSON.stringify(h));return P.href};var r=t(_r(d[1]));function e(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,a=Array(r);e<r;e++)a[e]=t[e];return a}var a=/^(?:(?:\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|(?:\[[\dA-Fa-f:.]{2,45}])|(?:[A-Za-z\d\-.]{1,255}))(?::\d{1,5})?$/;function n(t){var r=a.exec(t);return(null==r?void 0:r[0])===t}var o=/^[\w-]+$/;function c(t){var r=o.exec(t);return(null==r?void 0:r[0])===t}},769,[1,610]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.M_BEACON_INFO=e.M_BEACON=void 0;e.M_BEACON_INFO=new(r(d[0]).UnstableValue)("m.beacon_info","org.matrix.msc3672.beacon_info"),e.M_BEACON=new(r(d[0]).UnstableValue)("m.beacon","org.matrix.msc3672.beacon")},770,[754]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"EventStatus",{enumerable:!0,get:function(){return r(d[1]).EventStatus}}),_e.MatrixEventEvent=_e.MatrixEvent=_e.MAX_STICKY_DURATION_MS=void 0;var t=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),l=e(r(d[5])),o=e(r(d[6])),u=e(r(d[7])),v=e(r(d[8])),c=e(r(d[9]));function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}var y=Object.freeze({visible:!0}),f=_e.MAX_STICKY_DURATION_MS=36e5,E=_e.MatrixEventEvent=(function(e){return e.Decrypted="Event.decrypted",e.BeforeRedaction="Event.beforeRedaction",e.VisibilityChange="Event.visibilityChange",e.LocalEventIdReplaced="Event.localEventIdReplaced",e.Status="Event.status",e.Replaced="Event.replaced",e.RelationsCreated="Event.relationsCreated",e.SentinelUpdated="Event.sentinelUpdated",e})({}),p=(_e.MatrixEvent=(function(e){function k(){var e,n;(0,s.default)(this,k);var l,v,c,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l=this,v=k,v=(0,u.default)(v),(e=(0,o.default)(l,h()?Reflect.construct(v,c||[],(0,u.default)(l).constructor):v.apply(l,c))).event=f,(0,t.default)(e,"pushDetails",{}),(0,t.default)(e,"_replacingEvent",null),(0,t.default)(e,"_localRedactionEvent",null),(0,t.default)(e,"_isCancelled",!1),(0,t.default)(e,"clearEvent",void 0),(0,t.default)(e,"visibility",y),(0,t.default)(e,"_hasCachedExtEv",!1),(0,t.default)(e,"_cachedExtEv",void 0),(0,t.default)(e,"_decryptionFailureReason",null),(0,t.default)(e,"senderCurve25519Key",null),(0,t.default)(e,"claimedEd25519Key",null),(0,t.default)(e,"decryptionPromise",null),(0,t.default)(e,"retryDecryption",!1),(0,t.default)(e,"txnId",void 0),(0,t.default)(e,"thread",void 0),(0,t.default)(e,"threadId",void 0),(0,t.default)(e,"localTimestamp",void 0),(0,t.default)(e,"sender",null),(0,t.default)(e,"target",null),(0,t.default)(e,"status",null),(0,t.default)(e,"error",null),(0,t.default)(e,"forwardLooking",!0),(0,t.default)(e,"reEmitter",void 0),(0,t.default)(e,"unstableStickyExpiresAt",void 0),["state_key","type","sender","room_id","membership"].forEach(function(e){"string"==typeof f[e]&&(f[e]=(0,r(d[10]).internaliseString)(f[e]))}),["membership","avatar_url","displayname"].forEach(function(e){var t;"string"==typeof(null===(t=f.content)||void 0===t?void 0:t[e])&&(f.content[e]=(0,r(d[10]).internaliseString)(f.content[e]))}),["rel_type"].forEach(function(e){var t;"string"==typeof(null===(t=f.content)||void 0===t||null===(t=t["m.relates_to"])||void 0===t?void 0:t[e])&&(f.content["m.relates_to"][e]=(0,r(d[10]).internaliseString)(f.content["m.relates_to"][e]))}),e.txnId=f.txn_id;var E=e.getAge(),p=Date.now();return e.localTimestamp=void 0!==E?p-E:null!==(n=e.getTs())&&void 0!==n?n:p,e.reEmitter=new(r(d[11]).TypedReEmitter)(e),e.unstableStickyInfo&&(e.unstableStickyInfo.duration_ttl_ms?e.unstableStickyExpiresAt=p+e.unstableStickyInfo.duration_ttl_ms:e.unstableStickyExpiresAt=Math.min(p,e.getTs())+e.unstableStickyInfo.duration_ms),e}return(0,v.default)(k,e),(0,l.default)(k,[{key:"setMetadata",value:function(e,t){var n,s,l=this.isState()&&this.getType()===r(d[12]).EventType.RoomMember&&this.getSender()===this.getStateKey(),o=!1;if(l||null===(n=this.sender)||void 0===n||null===(n=n.events)||void 0===n||!n.member){var u=e.getSentinelMember(this.getSender());u!==this.sender&&(o=!0),this.sender=u}if(l||(null===(s=this.target)||void 0===s||null===(s=s.events)||void 0===s||!s.member)&&this.getType()===r(d[12]).EventType.RoomMember){var v=e.getSentinelMember(this.getStateKey());v!==this.target&&(o=!0),this.target=v}this.isState()&&t&&(this.forwardLooking=!1),o&&this.emit(E.SentinelUpdated)}},{key:"unstableExtensibleEvent",get:function(){var e;this._hasCachedExtEv||(this._cachedExtEv=null!==(e=r(d[13]).ExtensibleEvents.parse(this.getEffectiveEvent()))&&void 0!==e?e:void 0);return this._cachedExtEv}},{key:"invalidateExtensibleEvent",value:function(){this._hasCachedExtEv=!1}},{key:"getEffectiveEvent",value:function(){var e=Object.assign({},this.getContent());if(this.getWireType()===r(d[12]).EventType.RoomMessageEncrypted)for(var t of Object.entries(this.getWireContent())){var s=(0,n.default)(t,2),l=s[0],o=s[1];["algorithm","ciphertext","device_id","sender_key","session_id"].includes(l)||void 0===e[l]&&(e[l]=o)}return Object.assign({},this.event,this.clearEvent,{content:e})}},{key:"getId",value:function(){return this.event.event_id}},{key:"getSender",value:function(){return this.event.sender}},{key:"getType",value:function(){return this.clearEvent?this.clearEvent.type:this.event.type}},{key:"getWireType",value:function(){return this.event.type}},{key:"getRoomId",value:function(){return this.event.room_id}},{key:"getTs",value:function(){return this.event.origin_server_ts}},{key:"getDate",value:function(){return this.event.origin_server_ts?new Date(this.event.origin_server_ts):null}},{key:"getDetails",value:function(){var e,t=this.getRoomId();if(t)return"id=".concat(this.getId()," type=").concat(this.getWireType()," sender=").concat(this.getSender()," room=").concat(t," ts=").concat(null===(e=this.getDate())||void 0===e?void 0:e.toISOString());var n=this.getContent()[r(d[12]).ToDeviceMessageId];return"msgid=".concat(n," type=").concat(this.getWireType()," sender=").concat(this.getSender())}},{key:"getOriginalContent",value:function(){var e,t;return this._localRedactionEvent?{}:this.clearEvent?null!==(t=this.clearEvent.content)&&void 0!==t?t:{}:null!==(e=this.event.content)&&void 0!==e?e:{}}},{key:"getContent",value:function(){return this._localRedactionEvent?{}:this._replacingEvent?null!==(e=this._replacingEvent.getContent()["m.new_content"])&&void 0!==e?e:{}:this.getOriginalContent();var e}},{key:"getWireContent",value:function(){return this.event.content||{}}},{key:"threadRootId",get:function(){var e;if(!this.isState()){var t=null===(e=this.getWireContent())||void 0===e?void 0:e["m.relates_to"];if((null==t?void 0:t.rel_type)===r(d[14]).THREAD_RELATION_TYPE.name)return t.event_id;if(this.thread)return this.thread.id;if(void 0!==this.threadId)return this.threadId;var n=this.getUnsigned();return"string"==typeof n[r(d[12]).UNSIGNED_THREAD_ID_FIELD.name]?n[r(d[12]).UNSIGNED_THREAD_ID_FIELD.name]:void 0}}},{key:"isThreadRoot",get:function(){return!this.isState()&&(!!this.getServerAggregatedRelation(r(d[14]).THREAD_RELATION_TYPE.name)||this.threadRootId===this.getId())}},{key:"replyEventId",get:function(){var e;return null===(e=this.getWireContent()["m.relates_to"])||void 0===e||null===(e=e["m.in_reply_to"])||void 0===e?void 0:e.event_id}},{key:"relationEventId",get:function(){var e;return null===(e=this.getWireContent())||void 0===e||null===(e=e["m.relates_to"])||void 0===e?void 0:e.event_id}},{key:"getPrevContent",value:function(){return this.getUnsigned().prev_content||{}}},{key:"getDirectionalContent",value:function(){return this.forwardLooking?this.getContent():this.getPrevContent()}},{key:"getAge",value:function(){return this.getUnsigned().age}},{key:"getLocalAge",value:function(){return Date.now()-this.localTimestamp}},{key:"getStateKey",value:function(){return this.clearEvent?this.clearEvent.state_key:this.event.state_key}},{key:"getWireStateKey",value:function(){return this.event.state_key}},{key:"isState",value:function(){return void 0!==this.event.state_key}},{key:"getMembershipAtEvent",value:function(){var e=this.getUnsigned();return r(d[12]).UNSIGNED_MEMBERSHIP_FIELD.findIn(e)}},{key:"makeEncrypted",value:function(e,t,n,s){this.clearEvent={type:this.event.type,content:this.event.content,state_key:this.event.state_key},this.event.type=e,this.event.content=t,this.senderCurve25519Key=n,this.claimedEd25519Key=s,this.isState()&&(this.event.state_key="".concat(this.clearEvent.type,":").concat(this.clearEvent.state_key))}},{key:"isBeingDecrypted",value:function(){return null!=this.decryptionPromise}},{key:"getDecryptionPromise",value:function(){return this.decryptionPromise}},{key:"isDecryptionFailure",value:function(){return null!==this._decryptionFailureReason}},{key:"decryptionFailureReason",get:function(){return this._decryptionFailureReason}},{key:"shouldAttemptDecryption",value:function(){return!this.isRedacted()&&(!this.isBeingDecrypted()&&(!this.clearEvent&&!!this.isEncrypted()))}},{key:"attemptDecryption",value:function(e){var t=arguments,n=this;return(0,c.default)(function*(){var s=t.length>1&&void 0!==t[1]?t[1]:{};if(!n.isEncrypted())throw new Error("Attempt to decrypt event which isn't encrypted");if(n.clearEvent&&!n.isDecryptionFailure())throw new Error("Attempt to decrypt event which has already been decrypted");return n.decryptionPromise?(r(d[15]).logger.log("Event ".concat(n.getId()," already being decrypted; queueing a retry")),n.retryDecryption=!0,n.decryptionPromise):(n.decryptionPromise=n.decryptionLoop(e,s),n.decryptionPromise)})()}},{key:"getKeyRequestRecipients",value:function(e){return[{userId:e,deviceId:"*"}]}},{key:"decryptionLoop",value:function(e){var t=arguments,n=this;return(0,c.default)(function*(){var s=t.length>1&&void 0!==t[1]?t[1]:{};for(yield Promise.resolve();;){n.retryDecryption=!1;var l=void 0;try{var o=yield e.decryptEvent(n);!0===s.isRetry&&r(d[15]).logger.info("Decrypted event on retry (".concat(n.getDetails(),")")),n.setClearData(o),n._decryptionFailureReason=null}catch(e){var u=e instanceof r(d[16]).DecryptionError?e.detailedString:String(e);if(l=e,n.retryDecryption){r(d[15]).logger.log("Error decrypting event (".concat(n.getDetails(),"), but retrying: ").concat(u));continue}r(d[15]).logger.warn("Error decrypting event (".concat(n.getDetails(),"): ").concat(u)),n.setClearDataForDecryptionFailure(String(e)),n._decryptionFailureReason=e instanceof r(d[16]).DecryptionError?e.code:r(d[17]).DecryptionFailureCode.UNKNOWN_ERROR}return n.decryptionPromise=null,n.retryDecryption=!1,n.setPushDetails(),void(!1!==s.emit&&n.emit(E.Decrypted,n,l))}})()}},{key:"setClearData",value:function(e){var t,n;this.clearEvent=e.clearEvent,this.senderCurve25519Key=null!==(t=e.senderCurve25519Key)&&void 0!==t?t:null,this.claimedEd25519Key=null!==(n=e.claimedEd25519Key)&&void 0!==n?n:null,this.invalidateExtensibleEvent()}},{key:"setClearDataForDecryptionFailure",value:function(e){this.clearEvent={type:r(d[12]).EventType.RoomMessage,content:{msgtype:"m.bad.encrypted",body:"** Unable to decrypt: ".concat(e," **")}},this.senderCurve25519Key=null,this.claimedEd25519Key=null,this.invalidateExtensibleEvent()}},{key:"getClearContent",value:function(){return this.clearEvent?this.clearEvent.content:null}},{key:"isEncrypted",value:function(){return this.event.type===r(d[12]).EventType.RoomMessageEncrypted}},{key:"getSenderKey",value:function(){return this.senderCurve25519Key}},{key:"getKeysClaimed",value:function(){return this.claimedEd25519Key?{ed25519:this.claimedEd25519Key}:{}}},{key:"getClaimedEd25519Key",value:function(){return this.claimedEd25519Key}},{key:"getForwardingCurve25519KeyChain",value:function(){return[]}},{key:"isKeySourceUntrusted",value:function(){return!1}},{key:"getUnsigned",value:function(){return this.event.unsigned||{}}},{key:"setUnsigned",value:function(e){this.event.unsigned=e}},{key:"unmarkLocallyRedacted",value:function(){var e=this._localRedactionEvent;return this._localRedactionEvent=null,this.event.unsigned&&(this.event.unsigned.redacted_because=void 0),!!e}},{key:"markLocallyRedacted",value:function(e){this._localRedactionEvent||(this.emit(E.BeforeRedaction,this,e),this._localRedactionEvent=e,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event)}},{key:"applyVisibilityEvent",value:function(e){var t,n,s=null===(t=null==e?void 0:e.visible)||void 0===t||t,l=null!==(n=null==e?void 0:e.reason)&&void 0!==n?n:null,o=!1;this.visibility.visible!==s?o=!0:this.visibility.visible||this.visibility.reason===l||(o=!0),o&&(this.visibility=s?y:Object.freeze({visible:!1,reason:l}),this.emit(E.VisibilityChange,this,s))}},{key:"messageVisibility",value:function(){return this.visibility}},{key:"makeRedacted",value:function(e,t){if(!e.event)throw new Error("invalid redactionEvent in makeRedacted");for(var n in this._localRedactionEvent=null,this.emit(E.BeforeRedaction,this,e),this._replacingEvent=null,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event,this.event)this.event.hasOwnProperty(n)&&!p.has(n)&&delete this.event[n];this.isEncrypted()&&(this.clearEvent=void 0);var s=this.getType()in _?_[this.getType()]:{},l=this.getContent();for(var o in l)l.hasOwnProperty(o)&&!s[o]&&delete l[o];!this.isThreadRoot&&this.threadRootId&&this.threadRootId!==this.getId()&&(this.moveAllRelatedToMainTimeline(t),e.moveToMainTimeline(t)),this.invalidateExtensibleEvent()}},{key:"moveAllRelatedToMainTimeline",value:function(e){var t=this.thread;if(this.moveToMainTimeline(e),t)for(var n of t.events){var s;(null===(s=n.getRelation())||void 0===s?void 0:s.event_id)===this.getId()&&n.moveAllRelatedToMainTimeline(e)}}},{key:"moveToMainTimeline",value:function(e){var t;null===(t=this.thread)||void 0===t||t.timelineSet.removeEvent(this.getId()),this.setThread(void 0);var n=e.getLiveTimeline();n.getTimelineSet().insertEventIntoTimeline(this,n,n.getState(r(d[18]).EventTimeline.FORWARDS),!1)}},{key:"isRedacted",value:function(){return Boolean(this.getUnsigned().redacted_because)}},{key:"isRedaction",value:function(){return this.getType()===r(d[12]).EventType.RoomRedaction}},{key:"asVisibilityChange",value:function(){if(!r(d[12]).EVENT_VISIBILITY_CHANGE_TYPE.matches(this.getType()))return null;var e=this.getRelation();if(!e||"m.reference"!=e.rel_type)return null;var t=e.event_id;if(!t)return null;var n=this.getWireContent(),s=!!n.visible,l=n.reason;return l&&"string"!=typeof l?null:{visible:s,reason:l,eventId:t}}},{key:"isVisibilityEvent",value:function(){return r(d[12]).EVENT_VISIBILITY_CHANGE_TYPE.matches(this.getType())}},{key:"getRedactionEvent",value:function(){var e,t,n,s;return this.isRedacted()?null!==(e=this.clearEvent)&&void 0!==e&&e.unsigned?null!==(n=null===(s=this.clearEvent)||void 0===s?void 0:s.unsigned.redacted_because)&&void 0!==n?n:null:null!==(t=this.event.unsigned)&&void 0!==t&&t.redacted_because?this.event.unsigned.redacted_because:{}:null}},{key:"getPushActions",value:function(){return this.pushDetails.actions||null}},{key:"getPushDetails",value:function(){return this.pushDetails}},{key:"setPushDetails",value:function(e,t){this.pushDetails={actions:e,rule:t}}},{key:"handleRemoteEcho",value:function(e){var t,n=this.getUnsigned(),s=this.getId();this.event=e,n.redacted_because&&(this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=n.redacted_because),this.setStatus(null),this.getId()!==s&&this.emit(E.LocalEventIdReplaced,this),this.localTimestamp=Date.now()-(null!==(t=this.getAge())&&void 0!==t?t:0)}},{key:"isSending",value:function(){return!!this.status}},{key:"setStatus",value:function(e){this.status=e,this.emit(E.Status,this,e)}},{key:"replaceLocalEventId",value:function(e){this.event.event_id=e,this.emit(E.LocalEventIdReplaced,this)}},{key:"isRelation",value:function(e){var t,n=null===(t=this.getWireContent())||void 0===t?void 0:t["m.relates_to"];return!(this.isState()&&null!=n&&n.rel_type&&[r(d[12]).RelationType.Replace,r(d[12]).RelationType.Thread].includes(n.rel_type))&&!(null==n||!n.rel_type||!n.event_id||e&&n.rel_type!==e)}},{key:"getRelation",value:function(){var e;return this.isRelation()&&null!==(e=this.getWireContent()["m.relates_to"])&&void 0!==e?e:null}},{key:"makeReplaced",value:function(e){this.isRedacted()&&e||this.isState()||this._replacingEvent!==e&&(this._replacingEvent=null!=e?e:null,this.emit(E.Replaced,this),this.invalidateExtensibleEvent())}},{key:"getAssociatedStatus",value:function(){return this._replacingEvent?this._replacingEvent.status:this._localRedactionEvent?this._localRedactionEvent.status:this.status}},{key:"getServerAggregatedRelation",value:function(e){var t;return null===(t=this.getUnsigned()["m.relations"])||void 0===t?void 0:t[e]}},{key:"replacingEventId",value:function(){var e=this.getServerAggregatedRelation(r(d[12]).RelationType.Replace);return e?e.event_id:this._replacingEvent?this._replacingEvent.getId():void 0}},{key:"replacingEvent",value:function(){return this._replacingEvent}},{key:"replacingEventDate",value:function(){var e=this.getServerAggregatedRelation(r(d[12]).RelationType.Replace);if(e){var t=e.origin_server_ts;if(Number.isFinite(t))return new Date(t)}else if(this._replacingEvent){var n;return null!==(n=this._replacingEvent.getDate())&&void 0!==n?n:void 0}}},{key:"localRedactionEvent",value:function(){return this._localRedactionEvent}},{key:"getAssociatedId",value:function(){var e=this.getRelation();return this.replyEventId?this.replyEventId:e?e.event_id:this.isRedaction()?this.event.redacts:void 0}},{key:"hasAssociation",value:function(){return!!this.getAssociatedId()}},{key:"updateAssociatedId",value:function(e){var t=this.getRelation();t?t.event_id=e:this.isRedaction()&&(this.event.redacts=e)}},{key:"flagCancelled",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isCancelled=e}},{key:"isCancelled",value:function(){return this._isCancelled}},{key:"toSnapshot",value:function(){var e=new k(JSON.parse(JSON.stringify(this.event)));for(var t of Object.entries(this)){var s=(0,n.default)(t,2),l=s[0],o=s[1];"event"!==l&&(e[l]=o)}return e}},{key:"isEquivalentTo",value:function(e){if(!e)return!1;if(e===this)return!0;var t=(0,r(d[10]).deepSortedObjectEntries)(this.event),n=(0,r(d[10]).deepSortedObjectEntries)(e.event);return JSON.stringify(t)===JSON.stringify(n)}},{key:"toJSON",value:function(){var e=this.getEffectiveEvent();return this.isEncrypted()?{decrypted:e,encrypted:this.event}:e}},{key:"setTxnId",value:function(e){this.txnId=e}},{key:"getTxnId",value:function(){return this.txnId}},{key:"setThread",value:function(e){this.isState()||(this.thread&&this.reEmitter.stopReEmitting(this.thread,[r(d[14]).ThreadEvent.Update]),this.thread=e,this.setThreadId(null==e?void 0:e.id),e&&this.reEmitter.reEmit(e,[r(d[14]).ThreadEvent.Update]))}},{key:"getThread",value:function(){return this.thread}},{key:"setThreadId",value:function(e){this.threadId=e}},{key:"unstableStickyInfo",get:function(){var e,t;if(null!==(e=this.event.msc4354_sticky)&&void 0!==e&&e.duration_ms)return{duration_ms:Math.min(f,this.event.msc4354_sticky.duration_ms),duration_ttl_ms:null===(t=this.event.unsigned)||void 0===t?void 0:t.msc4354_sticky_duration_ttl_ms}}}])})(r(d[19]).TypedEventEmitter),new Set(["event_id","type","room_id","user_id","sender","state_key","prev_state","content","unsigned","origin_server_ts"])),_=(0,t.default)((0,t.default)((0,t.default)({},r(d[12]).EventType.RoomMember,{membership:1}),r(d[12]).EventType.RoomJoinRules,{join_rule:1}),r(d[12]).EventType.RoomPowerLevels,{ban:1,events:1,events_default:1,kick:1,redact:1,state_default:1,users:1,users_default:1})},771,[1,772,739,34,11,12,18,20,23,743,748,764,765,773,795,746,899,877,810,762]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.EventStatus=void 0;e.EventStatus=(function(n){return n.NOT_SENT="not_sent",n.ENCRYPTING="encrypting",n.SENDING="sending",n.QUEUED="queued",n.SENT="sent",n.CANCELLED="cancelled",n})({})},772,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[0])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[0])[t]}}))}),Object.keys(r(d[1])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[1])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[1])[t]}}))}),Object.keys(r(d[2])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[2])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[2])[t]}}))}),Object.keys(r(d[3])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[3])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[3])[t]}}))}),Object.keys(r(d[4])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[4])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[4])[t]}}))}),Object.keys(r(d[5])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[5])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[5])[t]}}))}),Object.keys(r(d[6])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[6])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[6])[t]}}))}),Object.keys(r(d[7])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[7])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[7])[t]}}))}),Object.keys(r(d[8])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[8])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[8])[t]}}))}),Object.keys(r(d[9])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[9])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[9])[t]}}))}),Object.keys(r(d[10])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[10])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[10])[t]}}))}),Object.keys(r(d[11])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[11])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[11])[t]}}))}),Object.keys(r(d[12])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[12])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[12])[t]}}))}),Object.keys(r(d[13])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[13])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[13])[t]}}))}),Object.keys(r(d[14])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[14])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[14])[t]}}))}),Object.keys(r(d[15])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[15])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[15])[t]}}))}),Object.keys(r(d[16])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[16])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[16])[t]}}))}),Object.keys(r(d[17])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[17])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[17])[t]}}))}),Object.keys(r(d[18])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[18])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[18])[t]}}))}),Object.keys(r(d[19])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[19])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[19])[t]}}))}),Object.keys(r(d[20])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[20])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[20])[t]}}))})},773,[774,793,781,777,775,780,794,782,776,786,788,791,783,778,779,785,784,787,789,790,792]);
__d(function(g,r,_i,a,m,_e3,d){"use strict";function e(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=t(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var i=0,u=function(){};return{s:u,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,f=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){f=!0,s=e},f:function(){try{l||null==o.return||o.return()}finally{if(f)throw s}}}}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.ExtensibleEvents=void 0;var s=(function(){function t(){o(this,t),u(this,"interpreters",new(r(d[0]).NamespacedMap)([[r(d[1]).LEGACY_M_ROOM_MESSAGE,r(d[1]).parseMRoomMessage],[r(d[2]).M_MESSAGE,r(d[3]).parseMMessage],[r(d[2]).M_EMOTE,r(d[3]).parseMMessage],[r(d[2]).M_NOTICE,r(d[3]).parseMMessage],[r(d[4]).M_POLL_START,r(d[5]).parseMPoll],[r(d[4]).M_POLL_RESPONSE,r(d[5]).parseMPoll],[r(d[4]).M_POLL_END,r(d[5]).parseMPoll]])),u(this,"_unknownInterpretOrder",[r(d[2]).M_MESSAGE])}var n,s,l;return n=t,l=[{key:"defaultInstance",get:function(){return t._defaultInstance}},{key:"unknownInterpretOrder",get:function(){return t.defaultInstance.unknownInterpretOrder},set:function(e){t.defaultInstance.unknownInterpretOrder=e}},{key:"registerInterpreter",value:function(e,n){t.defaultInstance.registerInterpreter(e,n)}},{key:"parse",value:function(e){return t.defaultInstance.parse(e)}}],(s=[{key:"unknownInterpretOrder",get:function(){var e;return null!==(e=this._unknownInterpretOrder)&&void 0!==e?e:[]},set:function(e){this._unknownInterpretOrder=e}},{key:"registerInterpreter",value:function(e,t){this.interpreters.set(e,t)}},{key:"parse",value:function(t){try{if(this.interpreters.hasNamespaced(t.type))return this.interpreters.getNamespaced(t.type)(t);var n,o=e(this.unknownInterpretOrder);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(this.interpreters.has(i)){var u=this.interpreters.get(i)(t);if(u)return u}}}catch(e){o.e(e)}finally{o.f()}return null}catch(e){if(e instanceof r(d[6]).InvalidEventError)return null;throw e}}}])&&i(n.prototype,s),l&&i(n,l),Object.defineProperty(n,"prototype",{writable:!1}),t})();_e3.ExtensibleEvents=s,u(s,"_defaultInstance",new s)},774,[775,776,778,786,787,788,781]);
__d(function(g,r,_i,a,m,_e3,d){"use strict";function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=t(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,f=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return c=e.done,e},e:function(e){f=!0,u=e},f:function(){try{c||null==i.return||i.return()}finally{if(f)throw u}}}}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.NamespacedMap=void 0;var l=(function(){function t(n){var o,l,u;if(i(this,t),o=this,l="internalMap",u=new Map,l in o?Object.defineProperty(o,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[l]=u,n){var c,f=e(n);try{for(f.s();!(c=f.n()).done;){var s=c.value;this.set(s[0],s[1])}}catch(e){f.e(e)}finally{f.f()}}}var n,l,u;return n=t,(l=[{key:"get",value:function(e){return e.name&&this.internalMap.has(e.name)?this.internalMap.get(e.name):e.altName&&this.internalMap.has(e.altName)?this.internalMap.get(e.altName):null}},{key:"set",value:function(e,t){e.name&&this.internalMap.set(e.name,t),e.altName&&this.internalMap.set(e.altName,t)}},{key:"has",value:function(e){return!!this.get(e)}},{key:"delete",value:function(e){e.name&&this.internalMap.delete(e.name),e.altName&&this.internalMap.delete(e.altName)}},{key:"hasNamespaced",value:function(e){return this.internalMap.has(e)}},{key:"getNamespaced",value:function(e){return this.internalMap.get(e)}}])&&o(n.prototype,l),u&&o(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t})();_e3.NamespacedMap=l},775,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function n(n){for(var c=1;c<arguments.length;c++){var i=null!=arguments[c]?arguments[c]:{};c%2?t(Object(i),!0).forEach(function(t){o(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))})}return n}function o(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}Object.defineProperty(e,"__esModule",{value:!0}),e.LEGACY_M_ROOM_MESSAGE=void 0,e.parseMRoomMessage=function(t){var c,i,u;if(r(d[1]).M_MESSAGE.findIn(t.content)||r(d[1]).M_TEXT.findIn(t.content))return new(r(d[2]).MessageEvent)(t);var l,s=null===(c=t.content)||void 0===c?void 0:c.msgtype,f=null===(i=t.content)||void 0===i?void 0:i.body,M="org.matrix.custom.html"===(null===(u=t.content)||void 0===u?void 0:u.format)?t.content.formatted_body:null;return"m.text"===s?new(r(d[2]).MessageEvent)(n(n({},t),{},{content:n(n({},t.content),{},(l={},o(l,r(d[1]).M_TEXT.name,f),o(l,r(d[1]).M_HTML.name,M),l))})):"m.notice"===s?new(r(d[3]).NoticeEvent)(n(n({},t),{},{content:n(n({},t.content),{},(O={},o(O,r(d[1]).M_TEXT.name,f),o(O,r(d[1]).M_HTML.name,M),O))})):"m.emote"===s?new(r(d[4]).EmoteEvent)(n(n({},t),{},{content:n(n({},t.content),{},(b={},o(b,r(d[1]).M_TEXT.name,f),o(b,r(d[1]).M_HTML.name,M),b))})):null;var O,b};var c=new(r(d[0]).NamespacedValue)("m.room.message");e.LEGACY_M_ROOM_MESSAGE=c},776,[777,778,779,784,785]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)}function n(t,e){return n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}function o(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnstableValue=_e.NamespacedValue=void 0;var b=(function(){function t(e,n){if(c(this,t),this.stable=e,this.unstable=n,!this.unstable&&!this.stable)throw new Error("One of stable or unstable values must be supplied")}return f(t,[{key:"name",get:function(){return this.stable?this.stable:this.unstable}},{key:"altName",get:function(){return this.stable?this.unstable:null}},{key:"matches",value:function(t){return!!this.name&&this.name===t||!!this.altName&&this.altName===t}},{key:"findIn",value:function(t){var e;return this.name&&(e=null==t?void 0:t[this.name]),!e&&this.altName&&(e=null==t?void 0:t[this.altName]),e}},{key:"includedIn",value:function(t){var e=!1;return this.name&&(e=t.includes(this.name)),!e&&this.altName&&(e=t.includes(this.altName)),e}}]),t})();_e.NamespacedValue=b;var p=(function(t){e(b,t);var n,u,s=(n=b,u=i(),function(){var t,e=l(n);if(u){var i=l(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return o(this,t)});function b(t,e){var n;if(c(this,b),!(n=s.call(this,t,e)).unstable)throw new Error("Unstable value must be supplied");return n}return f(b,[{key:"name",get:function(){return this.unstable}},{key:"altName",get:function(){return this.stable}}]),b})(b);_e.UnstableValue=p},777,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.M_TEXT=e.M_NOTICE=e.M_MESSAGE=e.M_HTML=e.M_EMOTE=void 0;var t=new(r(d[0]).UnstableValue)("m.message","org.matrix.msc1767.message");e.M_MESSAGE=t;var s=new(r(d[0]).UnstableValue)("m.text","org.matrix.msc1767.text");e.M_TEXT=s;var M=new(r(d[0]).UnstableValue)("m.html","org.matrix.msc1767.html");e.M_HTML=M;var n=new(r(d[0]).UnstableValue)("m.emote","org.matrix.msc1767.emote");e.M_EMOTE=n;var l=new(r(d[0]).UnstableValue)("m.notice","org.matrix.msc1767.notice");e.M_NOTICE=l},778,[777]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(_e,"__esModule",{value:!0}),_e.MessageEvent=void 0;var p=(function(e){i(O,e);var t,c,p,b,v,h=(t=O,c=f(),function(){var e,n=l(t);if(c){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return u(this,e)});function O(e){var t;r(this,O),y(s(t=h.call(this,e)),"text",void 0),y(s(t),"html",void 0),y(s(t),"renderings",void 0);var n=_r(d[0]).M_MESSAGE.findIn(t.wireContent),o=_r(d[0]).M_TEXT.findIn(t.wireContent),i=_r(d[0]).M_HTML.findIn(t.wireContent);if((0,_r(d[1]).isProvided)(n)){if(!Array.isArray(n))throw new(_r(d[2]).InvalidEventError)("m.message contents must be an array");var c=n.find(function(e){return!(0,_r(d[1]).isProvided)(e.mimetype)||"text/plain"===e.mimetype}),u=n.find(function(e){return"text/html"===e.mimetype});if(!c)throw new(_r(d[2]).InvalidEventError)("m.message is missing a plain text representation");t.text=c.body,t.html=null==u?void 0:u.body,t.renderings=n}else{if(!(0,_r(d[1]).isOptionalAString)(o))throw new(_r(d[2]).InvalidEventError)("Missing textual representation for event");t.text=o,t.html=i,t.renderings=[{body:o,mimetype:"text/plain"}],t.html&&t.renderings.push({body:t.html,mimetype:"text/html"})}return t}return p=O,v=[{key:"from",value:function(e,t){var n;return new O({type:_r(d[0]).M_MESSAGE.name,content:(n={},y(n,_r(d[0]).M_TEXT.name,e),y(n,_r(d[0]).M_HTML.name,t),n)})}}],(b=[{key:"isEmote",get:function(){return _r(d[0]).M_EMOTE.matches(this.wireFormat.type)||(0,_r(d[1]).isProvided)(_r(d[0]).M_EMOTE.findIn(this.wireFormat.content))}},{key:"isNotice",get:function(){return _r(d[0]).M_NOTICE.matches(this.wireFormat.type)||(0,_r(d[1]).isProvided)(_r(d[0]).M_NOTICE.findIn(this.wireFormat.content))}},{key:"isEquivalentTo",value:function(e){return(0,_r(d[3]).isEventTypeSame)(e,_r(d[0]).M_MESSAGE)}},{key:"serializeMMessageOnly",value:function(){var e=y({},_r(d[0]).M_MESSAGE.name,this.renderings);if(1===this.renderings.length){var t=this.renderings[0].mimetype;void 0!==t&&"text/plain"!==t||(e=y({},_r(d[0]).M_TEXT.name,this.renderings[0].body))}return e}},{key:"serialize",value:function(){var e;return{type:"m.room.message",content:n(n({},this.serializeMMessageOnly()),{},{body:this.text,msgtype:"m.text",format:this.html?"org.matrix.custom.html":void 0,formatted_body:null!==(e=this.html)&&void 0!==e?e:void 0})}}}])&&o(p.prototype,b),v&&o(p,v),Object.defineProperty(p,"prototype",{writable:!1}),O})(_r(d[4]).ExtensibleEvent);_e.MessageEvent=p},779,[778,780,781,782,783]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){return null!=n}Object.defineProperty(e,"__esModule",{value:!0}),e.isOptionalAString=function(t){return n(t)&&'string'==typeof t},e.isProvided=n},780,[]);
__d(function(g,r,_i,_a,m,_e,d){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function u(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return f(t,arguments,a(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),p(o,t)},c(t)}function f(t,e,n){return f=l()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var u=new(Function.bind.apply(t,o));return n&&p(u,n.prototype),u},f.apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.InvalidEventError=void 0;var y=(function(t){o(b,t);var i,c,f,p,y,s=(i=b,c=l(),function(){var t,e=a(i);if(c){var n=a(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function b(t){return n(this,b),s.call(this,t)}return f=b,p&&e(f.prototype,p),y&&e(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f})(c(Error));_e.InvalidEventError=y},781,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEventTypeSame=function(t,n){if("string"==typeof t)return"string"==typeof n?n===t:n.matches(t);if("string"==typeof n)return t.matches(n);var s=n,c=t;return s.matches(c.name)||s.matches(c.altName)}},782,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensibleEvent=void 0;var i=(function(){function i(n){t(this,i),this.wireFormat=n}var o,c,u;return o=i,(c=[{key:"wireContent",get:function(){return this.wireFormat.content}}])&&n(o.prototype,c),u&&n(o,u),Object.defineProperty(o,"prototype",{writable:!1}),i})();e.ExtensibleEvent=i},783,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=c(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},i.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function l(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.NoticeEvent=void 0;var b=(function(e){u(O,e);var c,f,p,b,v,h=(c=O,f=y(),function(){var e,t=s(c);if(f){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function O(e){return n(this,O),h.call(this,e)}return p=O,v=[{key:"from",value:function(e,n){var o;return new O({type:r(d[1]).M_NOTICE.name,content:(o={},t(o,r(d[1]).M_TEXT.name,e),t(o,r(d[1]).M_HTML.name,n),o)})}}],(b=[{key:"isNotice",get:function(){return!0}},{key:"isEquivalentTo",value:function(e){return(0,r(d[0]).isEventTypeSame)(e,r(d[1]).M_NOTICE)||i(s(O.prototype),"isEquivalentTo",this).call(this,e)}},{key:"serialize",value:function(){var e=i(s(O.prototype),"serialize",this).call(this);return e.content.msgtype="m.notice",e}}])&&o(p.prototype,b),v&&o(p,v),Object.defineProperty(p,"prototype",{writable:!1}),O})(r(d[2]).MessageEvent);_e.NoticeEvent=b},784,[782,778,779]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=u(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},i.apply(this,arguments)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function l(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.EmoteEvent=void 0;var b=(function(e){c(O,e);var u,f,p,b,v,h=(u=O,f=y(),function(){var e,t=s(u);if(f){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function O(e){return n(this,O),h.call(this,e)}return p=O,v=[{key:"from",value:function(e,n){var o;return new O({type:r(d[1]).M_EMOTE.name,content:(o={},t(o,r(d[1]).M_TEXT.name,e),t(o,r(d[1]).M_HTML.name,n),o)})}}],(b=[{key:"isEmote",get:function(){return!0}},{key:"isEquivalentTo",value:function(e){return(0,r(d[0]).isEventTypeSame)(e,r(d[1]).M_EMOTE)||i(s(O.prototype),"isEquivalentTo",this).call(this,e)}},{key:"serialize",value:function(){var e=i(s(O.prototype),"serialize",this).call(this);return e.content.msgtype="m.emote",e}}])&&o(p.prototype,b),v&&o(p,v),Object.defineProperty(p,"prototype",{writable:!1}),O})(r(d[2]).MessageEvent);_e.EmoteEvent=b},785,[782,778,779]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseMMessage=function(t){if(r(d[0]).M_EMOTE.matches(t.type))return new(r(d[1]).EmoteEvent)(t);if(r(d[0]).M_NOTICE.matches(t.type))return new(r(d[2]).NoticeEvent)(t);return new(r(d[3]).MessageEvent)(t)}},786,[778,785,784,779]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.M_POLL_START=e.M_POLL_RESPONSE=e.M_POLL_KIND_UNDISCLOSED=e.M_POLL_KIND_DISCLOSED=e.M_POLL_END=void 0;var l=new(r(d[0]).UnstableValue)("m.poll.disclosed","org.matrix.msc3381.poll.disclosed");e.M_POLL_KIND_DISCLOSED=l;var _=new(r(d[0]).UnstableValue)("m.poll.undisclosed","org.matrix.msc3381.poll.undisclosed");e.M_POLL_KIND_UNDISCLOSED=_;var s=new(r(d[0]).UnstableValue)("m.poll.start","org.matrix.msc3381.poll.start");e.M_POLL_START=s;var o=new(r(d[0]).UnstableValue)("m.poll.response","org.matrix.msc3381.poll.response");e.M_POLL_RESPONSE=o;var L=new(r(d[0]).UnstableValue)("m.poll.end","org.matrix.msc3381.poll.end");e.M_POLL_END=L},787,[777]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseMPoll=function(t){if(r(d[0]).M_POLL_START.matches(t.type))return new(r(d[1]).PollStartEvent)(t);if(r(d[0]).M_POLL_RESPONSE.matches(t.type))return new(r(d[2]).PollResponseEvent)(t);if(r(d[0]).M_POLL_END.matches(t.type))return new(r(d[3]).PollEndEvent)(t);return null}},788,[787,789,790,792]);
__d(function(g,r,_i,_a,m,_e,d){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return a(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){var t=O();return function(){var n,o=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return b(this,n)}}function b(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(_e,"__esModule",{value:!0}),_e.PollStartEvent=_e.PollAnswerSubevent=void 0;var S=(function(e){p(n,e);var t=v(n);function n(e){var o;s(this,n),_(w(o=t.call(this,e)),"id",void 0);var i=e.content.id;if(!i||"string"!=typeof i)throw new(r(d[0]).InvalidEventError)("Answer ID must be a non-empty string");return o.id=i,o}return f(n,[{key:"serialize",value:function(){return{type:"org.matrix.sdk.poll.answer",content:u({id:this.id},this.serializeMMessageOnly())}}}],[{key:"from",value:function(e,t){return new n({type:"org.matrix.sdk.poll.answer",content:_({id:e},r(d[1]).M_TEXT.name,t)})}}]),n})(r(d[2]).MessageEvent);_e.PollAnswerSubevent=S;var P=(function(e){p(c,e);var a=v(c);function c(e){var t;s(this,c),_(w(t=a.call(this,e)),"question",void 0),_(w(t),"kind",void 0),_(w(t),"rawKind",void 0),_(w(t),"maxSelections",void 0),_(w(t),"answers",void 0);var n=r(d[3]).M_POLL_START.findIn(t.wireContent);if(!n.question)throw new(r(d[0]).InvalidEventError)("A question is required");if(t.question=new(r(d[2]).MessageEvent)({type:"org.matrix.sdk.poll.question",content:n.question}),t.rawKind=n.kind,r(d[3]).M_POLL_KIND_DISCLOSED.matches(t.rawKind)?t.kind=r(d[3]).M_POLL_KIND_DISCLOSED:t.kind=r(d[3]).M_POLL_KIND_UNDISCLOSED,t.maxSelections=Number.isFinite(n.max_selections)&&n.max_selections>0?n.max_selections:1,!Array.isArray(n.answers))throw new(r(d[0]).InvalidEventError)("Poll answers must be an array");var o=n.answers.slice(0,20).map(function(e){return new S({type:"org.matrix.sdk.poll.answer",content:e})});if(o.length<=0)throw new(r(d[0]).InvalidEventError)("No answers available");return t.answers=o,t}return f(c,[{key:"isEquivalentTo",value:function(e){return(0,r(d[4]).isEventTypeSame)(e,r(d[3]).M_POLL_START)}},{key:"serialize",value:function(){var e;return{type:r(d[3]).M_POLL_START.name,content:(e={},_(e,r(d[3]).M_POLL_START.name,{question:this.question.serialize().content,kind:this.rawKind,max_selections:this.maxSelections,answers:this.answers.map(function(e){return e.serialize().content})}),_(e,r(d[1]).M_TEXT.name,"".concat(this.question.text,"\n").concat(this.answers.map(function(e,t){return"".concat(t+1,". ").concat(e.text)}).join("\n"))),e)}}}],[{key:"from",value:function(e,a,u){var s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new c({type:r(d[3]).M_POLL_START.name,content:(s={},_(s,r(d[1]).M_TEXT.name,e),_(s,r(d[3]).M_POLL_START.name,{question:_({},r(d[1]).M_TEXT.name,e),kind:u instanceof r(d[5]).NamespacedValue?u.name:u,max_selections:l,answers:a.map(function(e){return _({id:(a=Array(16),i(a)||o(a)||n(a)||t()).map(function(){return E.charAt(Math.floor(Math.random()*E.length))}).join('')},r(d[1]).M_TEXT.name,e);var a})}),s)})}}]),c})(r(d[6]).ExtensibleEvent);_e.PollStartEvent=P;var E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"},789,[781,778,779,787,782,777,783]);
__d(function(g,r,_i,_a,m,_e,d){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function l(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(_e,"__esModule",{value:!0}),_e.PollResponseEvent=void 0;var f=(function(e){o(_,e);var i,f,p,y,v,E=(i=_,f=s(),function(){var e,t=a(i);if(f){var n=a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function _(e){var n;t(this,_),c(u(n=E.call(this,e)),"internalAnswerIds",void 0),c(u(n),"internalSpoiled",void 0),c(u(n),"pollEventId",void 0);var o=n.wireContent["m.relates_to"];if(!r(d[0]).REFERENCE_RELATION.matches(null==o?void 0:o.rel_type)||"string"!=typeof(null==o?void 0:o.event_id))throw new(r(d[1]).InvalidEventError)("Relationship must be a reference to an event");return n.pollEventId=o.event_id,n.validateAgainst(null),n}return p=_,v=[{key:"from",value:function(e,t){return new _({type:r(d[2]).M_POLL_RESPONSE.name,content:c({"m.relates_to":{rel_type:r(d[0]).REFERENCE_RELATION.name,event_id:t}},r(d[2]).M_POLL_RESPONSE.name,{answers:e})})}}],(y=[{key:"answerIds",get:function(){return this.internalAnswerIds}},{key:"spoiled",get:function(){return this.internalSpoiled}},{key:"validateAgainst",value:function(e){var t=r(d[2]).M_POLL_RESPONSE.findIn(this.wireContent);if(!Array.isArray(null==t?void 0:t.answers))return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);var n=t.answers;if(n.some(function(e){return"string"!=typeof e})||0===n.length)return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);if(e){if(n.some(function(t){return!e.answers.some(function(e){return e.id===t})}))return this.internalSpoiled=!0,void(this.internalAnswerIds=[]);n=n.slice(0,e.maxSelections)}this.internalAnswerIds=n,this.internalSpoiled=!1}},{key:"isEquivalentTo",value:function(e){return(0,r(d[3]).isEventTypeSame)(e,r(d[2]).M_POLL_RESPONSE)}},{key:"serialize",value:function(){return{type:r(d[2]).M_POLL_RESPONSE.name,content:c({"m.relates_to":{rel_type:r(d[0]).REFERENCE_RELATION.name,event_id:this.pollEventId}},r(d[2]).M_POLL_RESPONSE.name,{answers:this.spoiled?void 0:this.answerIds})}}}])&&n(p.prototype,y),v&&n(p,v),Object.defineProperty(p,"prototype",{writable:!1}),_})(r(d[4]).ExtensibleEvent);_e.PollResponseEvent=f},790,[791,781,787,782,783]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REFERENCE_RELATION=void 0;var E=new(r(d[0]).NamespacedValue)("m.reference");e.REFERENCE_RELATION=E},791,[777]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach(function(t){y(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(_e,"__esModule",{value:!0}),_e.PollEndEvent=void 0;var b=(function(e){c(_,e);var t,u,b,v,E,O=(t=_,u=s(),function(){var e,n=p(t);if(u){var o=p(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return l(this,e)});function _(e){var t;o(this,_),y(f(t=O.call(this,e)),"pollEventId",void 0),y(f(t),"closingMessage",void 0);var n=t.wireContent["m.relates_to"];if(!r(d[0]).REFERENCE_RELATION.matches(null==n?void 0:n.rel_type)||"string"!=typeof(null==n?void 0:n.event_id))throw new(r(d[1]).InvalidEventError)("Relationship must be a reference to an event");return t.pollEventId=n.event_id,t.closingMessage=new(r(d[2]).MessageEvent)(t.wireFormat),t}return b=_,E=[{key:"from",value:function(e,t){var n;return new _({type:r(d[4]).M_POLL_END.name,content:(n={"m.relates_to":{rel_type:r(d[0]).REFERENCE_RELATION.name,event_id:e}},y(n,r(d[4]).M_POLL_END.name,{}),y(n,r(d[5]).M_TEXT.name,t),n)})}}],(v=[{key:"isEquivalentTo",value:function(e){return(0,r(d[3]).isEventTypeSame)(e,r(d[4]).M_POLL_END)}},{key:"serialize",value:function(){return{type:r(d[4]).M_POLL_END.name,content:n(y({"m.relates_to":{rel_type:r(d[0]).REFERENCE_RELATION.name,event_id:this.pollEventId}},r(d[4]).M_POLL_END.name,{}),this.closingMessage.serialize().content)}}}])&&i(b.prototype,v),E&&i(b,E),Object.defineProperty(b,"prototype",{writable:!1}),_})(r(d[6]).ExtensibleEvent);_e.PollEndEvent=b},792,[791,781,779,782,787,778,783]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},793,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.LegacyMsgType=void 0,e.isEventLike=function(o,n){var s=o.content;if(n===t.Text)return r(d[0]).M_MESSAGE.matches(o.type)||"m.room.message"===o.type&&"m.text"===(null==s?void 0:s.msgtype);if(n===t.Emote)return r(d[0]).M_EMOTE.matches(o.type)||"m.room.message"===o.type&&"m.emote"===(null==s?void 0:s.msgtype);if(n===t.Notice)return r(d[0]).M_NOTICE.matches(o.type)||"m.room.message"===o.type&&"m.notice"===(null==s?void 0:s.msgtype);return!1},e.LegacyMsgType=t,(function(t){t.Text="m.text",t.Notice="m.notice",t.Emote="m.emote"})(t||(e.LegacyMsgType=t={}))},794,[778]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ThreadFilterType=_e.ThreadEvent=_e.Thread=_e.THREAD_RELATION_TYPE=_e.FeatureSupport=_e.FILTER_RELATED_BY_SENDERS=_e.FILTER_RELATED_BY_REL_TYPES=void 0,_e.determineFeatureSupport=function(e,t){return e?f.Stable:t?f.Experimental:f.None},_e.threadFilterTypeToFilter=function(e){if(e===P.My)return"participated";return"all"};var t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),u=e(_r(d[7])),s=e(_r(d[8]));function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=_e.ThreadEvent=(function(e){return e.New="Thread.new",e.Update="Thread.update",e.NewReply="Thread.newReply",e.ViewThread="Thread.viewThread",e.Delete="Thread.delete",e})({}),f=_e.FeatureSupport=(function(e){return e[e.None=0]="None",e[e.Experimental=1]="Experimental",e[e.Stable=2]="Stable",e})({});var E=_e.Thread=(function(e){function c(e,n,o){var l,p,f,E,y,R;if((0,t.default)(this,c),E=this,y=c,y=(0,r.default)(y),l=(0,i.default)(E,v()?Reflect.construct(y,R||[],(0,r.default)(E).constructor):y.apply(E,R)),p=l,l.id=e,l.rootEvent=n,(0,s.default)(l,"timelineSet",void 0),(0,s.default)(l,"_currentUserParticipated",!1),(0,s.default)(l,"reEmitter",void 0),(0,s.default)(l,"lastEvent",void 0),(0,s.default)(l,"replyCount",0),(0,s.default)(l,"lastPendingEvent",void 0),(0,s.default)(l,"pendingReplyCount",0),(0,s.default)(l,"room",void 0),(0,s.default)(l,"client",void 0),(0,s.default)(l,"pendingEventOrdering",void 0),(0,s.default)(l,"processRootEventPromise",void 0),(0,s.default)(l,"initialEventsFetched",!c.hasServerSideSupport),(0,s.default)(l,"initalEventFetchProm",void 0),(0,s.default)(l,"replayEvents",[]),(0,s.default)(l,"onTimelineReset",(0,u.default)(function*(){yield p.processRootEventPromise,p.processRootEventPromise=void 0})),(0,s.default)(l,"onBeforeRedaction",function(e,t){null!=e&&e.isRelation(S.name)&&l.room.eventShouldLiveIn(e).threadId===l.id&&e.getId()!==l.id&&!t.status&&(l.replyCount--,l.updatePendingReplyCount(),l.emit(h.Update,l))}),(0,s.default)(l,"onRedaction",(function(){var e=(0,u.default)(function*(e,t,n){if(n===p.id)if(p.replyCount<=0){for(var i of p.timeline)p.clearEventMetadata(i);p.lastEvent=p.rootEvent,p._currentUserParticipated=!1,p.emit(h.Delete,p)}else{var r;(null===(r=p.lastEvent)||void 0===r?void 0:r.getId())===e.getAssociatedId()&&(yield p.processRootEventPromise,p.processRootEventPromise=void 0),yield p.updateThreadMetadata()}});return function(t,n,i){return e.apply(this,arguments)}})()),(0,s.default)(l,"onTimelineEvent",function(e,t,n){if(!n){var i=e.getSender();i&&t&&l.shouldSendLocalEchoReceipt(i,e)&&t.addLocalEchoReceipt(i,e,_r(d[9]).ReceiptType.Read),e.getId()!==l.id&&e.isRelation(S.name)&&l.replyCount++}l.onEcho(e,null!=n&&n)}),(0,s.default)(l,"onLocalEcho",function(e){l.onEcho(e,!1)}),(0,s.default)(l,"onEcho",(function(){var e=(0,u.default)(function*(e,t){e.threadRootId===p.id&&p.lastEvent!==e&&(yield p.updateThreadMetadata(),e.isRelation(S.name)&&(t||(p.lastEvent=void 0,p.emit(h.NewReply,p,e))))});return function(t,n){return e.apply(this,arguments)}})()),l.setMaxListeners(1e3),null==o||!o.room)throw new Error("element-web#22141: A thread requires a room in order to function");return l.room=o.room,l.client=o.client,l.pendingEventOrdering=null!==(f=o.pendingEventOrdering)&&void 0!==f?f:_r(d[10]).PendingEventOrdering.Chronological,l.timelineSet=new(_r(d[11]).EventTimelineSet)(l.room,{timelineSupport:!0,pendingEvents:!0},l.client,l),l.reEmitter=new(_r(d[12]).TypedReEmitter)(l),l.reEmitter.reEmit(l.timelineSet,[_r(d[13]).RoomEvent.Timeline,_r(d[13]).RoomEvent.TimelineReset]),l.room.on(_r(d[14]).MatrixEventEvent.BeforeRedaction,l.onBeforeRedaction),l.room.on(_r(d[13]).RoomEvent.Redaction,l.onRedaction),l.room.on(_r(d[13]).RoomEvent.LocalEchoUpdated,l.onLocalEcho),l.room.on(_r(d[13]).RoomEvent.TimelineReset,l.onTimelineReset),l.timelineSet.on(_r(d[13]).RoomEvent.Timeline,l.onTimelineEvent),l.processReceipts(o.receipts),l.updateThreadMetadata(),l.setEventMetadata(l.rootEvent),l}return(0,l.default)(c,e),(0,n.default)(c,[{key:"fetchRootEvent",value:function(){var e=this;return(0,u.default)(function*(){try{var t=yield e.client.fetchRoomEvent(e.roomId,e.id),n=e.client.getEventMapper();e.rootEvent=n(t)}catch(e){_r(d[15]).logger.error("Failed to fetch thread root to construct thread with",e)}yield e.processEvent(e.rootEvent)})()}},{key:"shouldSendLocalEchoReceipt",value:function(e,t){var n;if((null!==(n=this.client.canSupport.get(_r(d[16]).Feature.RelationsRecursion))&&void 0!==n?n:_r(d[16]).ServerSupport.Unsupported)===_r(d[16]).ServerSupport.Unsupported){var i,r=null===(i=this.getReadReceiptForUserId(e))||void 0===i?void 0:i.eventId;if(r){var o=this.findEventById(r);if(o&&o.getTs()>t.getTs())return!1}}return!0}},{key:"roomState",get:function(){return this.room.getLiveTimeline().getState(_r(d[17]).EventTimeline.FORWARDS)}},{key:"addEventToTimeline",value:function(e,t){this.findEventById(e.getId())||this.timelineSet.addEventToTimeline(e,this.liveTimeline,{toStartOfTimeline:t,fromCache:!1,roomState:this.roomState,addToState:!1})}},{key:"insertEventIntoTimeline",value:function(e){var t=e.getId();t&&(this.findEventById(t)||this.timelineSet.insertEventIntoTimeline(e,this.liveTimeline,this.roomState,!1))}},{key:"addEvents",value:function(e,t){var n=this;e.forEach(function(e){return n.addEvent(e,t,!1)}),this.updateThreadMetadata()}},{key:"addEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setEventMetadata(e);var i=this.lastReply(),r=!i||e.localTimestamp>=i.localTimestamp;if(c.hasServerSideSupport){if(e.isRelation(_r(d[18]).RelationType.Annotation)||e.isRelation(_r(d[18]).RelationType.Replace))return void this.addRelatedThreadEvent(e,t);!t&&r?(this.addEventToTimeline(e,!1),this.fetchEditsWhereNeeded(e)):t?this.addEventToTimeline(e,t):this.insertEventIntoTimeline(e)}else this.addEventToTimeline(e,t),this.client.decryptEventIfNeeded(e);e.getId()!==this.id&&e.isRelation(S.name)&&!t&&r&&(this.lastEvent=void 0),n&&(this.emit(h.NewReply,this,e),this.updateThreadMetadata())}},{key:"addRelatedThreadEvent",value:function(e,t){var n,i,r;this.initialEventsFetched?(null!==(n=this.client.canSupport.get(_r(d[16]).Feature.RelationsRecursion))&&void 0!==n?n:_r(d[16]).ServerSupport.Unsupported)===_r(d[16]).ServerSupport.Unsupported?this.insertEventIntoTimeline(e):this.addEventToTimeline(e,t):(null===(i=this.replayEvents)||void 0===i||i.push(e),e.isRelation(_r(d[18]).RelationType.Annotation)&&(null===(r=this.timelineSet.relations)||void 0===r||r.aggregateChildEvent(e,this.timelineSet)))}},{key:"processEvent",value:function(e){var t=this;return(0,u.default)(function*(){e&&(t.setEventMetadata(e),yield t.fetchEditsWhereNeeded(e))})()}},{key:"processReceipts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(var t of e){var n=t.eventId,i=t.receiptType,r=t.userId,o=t.receipt,l=t.synthetic;this.addReceiptToStructure(n,i,r,o,l)}}},{key:"getRootEventBundledRelationship",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rootEvent;return null==e?void 0:e.getServerAggregatedRelation(S.name)}},{key:"processRootEvent",value:function(){var e=this;return(0,u.default)(function*(){var t=e.getRootEventBundledRelationship();if(c.hasServerSideSupport&&t){e.replyCount=t.count,e._currentUserParticipated=!!t.current_user_participated;var n=e.client.getEventMapper();e.lastEvent=n(p(p({},t.latest_event),{},{room_id:e.roomId})),e.updatePendingReplyCount(),yield e.processEvent(e.lastEvent)}})()}},{key:"updatePendingReplyCount",value:function(){var e=this,t=(this.pendingEventOrdering===_r(d[10]).PendingEventOrdering.Detached?this.room.getPendingEvents():this.events).filter(function(t){var n;return t.threadRootId===e.id&&t.isRelation(S.name)&&null!==t.status&&t.getId()!==(null===(n=e.lastEvent)||void 0===n?void 0:n.getId())});this.lastPendingEvent=t.length?t[t.length-1]:void 0,this.pendingReplyCount=t.length}},{key:"resetLiveTimeline",value:function(e,t){var n=this;return(0,u.default)(function*(){var i=n.liveTimeline;n.timelineSet.resetLiveTimeline(null!=e?e:void 0,null!=t?t:void 0);var r,o,l=n.liveTimeline;e&&(r=(yield n.client.createMessagesRequest(n.roomId,e,1,_r(d[17]).Direction.Forward)).end);t&&(o=(yield n.client.createMessagesRequest(n.roomId,t,1,_r(d[17]).Direction.Backward)).start);t&&i.getPaginationToken(_r(d[17]).Direction.Forward)===t&&i.setPaginationToken(null!=o?o:null,_r(d[17]).Direction.Forward),e&&l.getPaginationToken(_r(d[17]).Direction.Backward)===e&&l.setPaginationToken(null!=r?r:null,_r(d[17]).Direction.Backward)})()}},{key:"updateThreadFromRootEvent",value:function(){var e=this;return(0,u.default)(function*(){c.hasServerSideSupport&&(e.initialEventsFetched||e.lastEvent||(yield e.processRootEvent()),yield e.fetchRootEvent()),yield e.processRootEvent()})()}},{key:"updateThreadMetadata",value:function(){var e=this;return(0,u.default)(function*(){if(e.updatePendingReplyCount(),e.processRootEventPromise||(e.processRootEventPromise=e.updateThreadFromRootEvent()),yield e.processRootEventPromise,!e.initialEventsFetched)if(e.initalEventFetchProm)yield e.initalEventFetchProm;else try{for(var t of(e.timelineSet.resetLiveTimeline(),0===e.replyCount&&e.rootEvent?(e.timelineSet.addEventsToTimeline([e.rootEvent],!0,!1,e.liveTimeline,null),e.liveTimeline.setPaginationToken(null,_r(d[17]).Direction.Backward)):(e.initalEventFetchProm=e.client.paginateEventTimeline(e.liveTimeline,{backwards:!0}),yield e.initalEventFetchProm),e.initialEventsFetched=!0,e.replayEvents))e.addEvent(t,!1);e.replayEvents=null,e.emit(_r(d[13]).RoomEvent.TimelineReset,e.room,e.timelineSet,!0)}catch(t){_r(d[15]).logger.error("Failed to load start of newly created thread: ",t),e.initialEventsFetched=!1}e.emit(h.Update,e)})()}},{key:"fetchEditsWhereNeeded",value:function(){var e=arguments,t=this;return(0,u.default)(function*(){var n;if((null!==(n=t.client.canSupport.get(_r(d[16]).Feature.RelationsRecursion))&&void 0!==n?n:_r(d[16]).ServerSupport.Unsupported)===_r(d[16]).ServerSupport.Unsupported){for(var i=e.length,r=new Array(i),o=0;o<i;o++)r[o]=e[o];return Promise.all(r.filter(y).map((function(){var e=(0,u.default)(function*(e){try{var n=yield t.client.relations(t.roomId,e.getId(),_r(d[18]).RelationType.Replace,e.getType(),{limit:1});if(n.events.length){var i=n.events[0];e.makeReplaced(i),t.insertEventIntoTimeline(i)}}catch(e){_r(d[15]).logger.error("Failed to load edits for encrypted thread event",e)}});return function(t){return e.apply(this,arguments)}})()))}})()}},{key:"setEventMetadata",value:function(e){e&&(_r(d[17]).EventTimeline.setEventMetadata(e,this.roomState,!1),e.setThread(this))}},{key:"clearEventMetadata",value:function(e){var t;e&&(e.setThread(void 0),null===(t=e.event)||void 0===t||null===(t=t.unsigned)||void 0===t||null===(t=t["m.relations"])||void 0===t||delete t[S.name])}},{key:"findEventById",value:function(e){return this.timelineSet.findEventById(e)}},{key:"lastReply",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.isRelation(S.name)},t=this.timeline.length-1;t>=0;t--){var n=this.timeline[t];if(e(n))return n}return null}},{key:"roomId",get:function(){return this.room.roomId}},{key:"length",get:function(){return this.replyCount+this.pendingReplyCount}},{key:"replyToEvent",get:function(){var e,t;return null!==(e=null!==(t=this.lastPendingEvent)&&void 0!==t?t:this.lastEvent)&&void 0!==e?e:this.lastReply()}},{key:"timeline",get:function(){return this.events}},{key:"events",get:function(){return this.liveTimeline.getEvents()}},{key:"has",value:function(e){return this.timelineSet.findEventById(e)instanceof _r(d[14]).MatrixEvent}},{key:"hasCurrentUserParticipated",get:function(){return this._currentUserParticipated}},{key:"liveTimeline",get:function(){return this.timelineSet.getLiveTimeline()}},{key:"getUnfilteredTimelineSet",value:function(){return this.timelineSet}},{key:"addReceipt",value:function(e,t){throw new Error("Unsupported function on the thread model")}},{key:"getEventReadUpTo",value:function(e,t){var n=e===this.client.getUserId(),i=this.timeline[this.timeline.length-1];if(n&&i){var l=i.getTs()<this.room.getOldestThreadedReceiptTs(),u=i.getId();if(l&&u)return u}var s,v,p,h,f,E=(s=c,v="getEventReadUpTo",p=this,h=3,f=(0,o.default)((0,r.default)(1&h?s.prototype:s),v,p),2&h&&"function"==typeof f?function(e){return f.apply(p,e)}:f)([e,t]);if(i){var y=this.room.getLastUnthreadedReceiptFor(e);if(!y)return E;for(var R=(null===(T=this.timeline)||void 0===T?void 0:T.length)-1;R>=0;--R){var T,S,P=this.timeline[R];if(P.getId()===E)return E;if(P.getTs()<y.ts)return null!==(S=P.getId())&&void 0!==S?S:E}}return E}},{key:"hasUserReadEvent",value:function(e,t){if(e===this.client.getUserId()){var n,i,r,o,l,u,s=(null!==(n=null===(i=this.lastReply())||void 0===i?void 0:i.getTs())&&void 0!==n?n:0)<this.room.getOldestThreadedReceiptTs(),v=null!==(r=null===(o=this.room.getLastUnthreadedReceiptFor(e))||void 0===o?void 0:o.ts)&&void 0!==r?r:0,c=(null!==(l=null==this||null===(u=this.lastReply())||void 0===u?void 0:u.getTs())&&void 0!==l?l:0)<v;if(s||c)return!0}return this.room.hasUserReadEvent(e,t)}},{key:"setUnread",value:function(e,t){return this.room.setThreadUnreadNotificationCount(this.id,e,t)}},{key:"getLastUnthreadedReceiptFor",value:function(e){return this.room.getLastUnthreadedReceiptFor(e)}}],[{key:"setServerSideSupport",value:function(e){c.hasServerSideSupport=e,e!==f.Stable&&(R.setPreferUnstable(!0),T.setPreferUnstable(!0),S.setPreferUnstable(!0))}},{key:"setServerSideListSupport",value:function(e){c.hasServerSideListSupport=e}},{key:"setServerSideFwdPaginationSupport",value:function(e){c.hasServerSideFwdPaginationSupport=e}}])})(_r(d[19]).ReadReceipt);function y(e){return e.isEncrypted()&&(e.isRelation(S.name)||e.isThreadRoot)}(0,s.default)(E,"hasServerSideSupport",f.None),(0,s.default)(E,"hasServerSideListSupport",f.None),(0,s.default)(E,"hasServerSideFwdPaginationSupport",f.None);var R=_e.FILTER_RELATED_BY_SENDERS=new(_r(d[20]).ServerControlledNamespacedValue)("related_by_senders","io.element.relation_senders"),T=_e.FILTER_RELATED_BY_REL_TYPES=new(_r(d[20]).ServerControlledNamespacedValue)("related_by_rel_types","io.element.relation_types"),S=_e.THREAD_RELATION_TYPE=new(_r(d[20]).ServerControlledNamespacedValue)("m.thread","io.element.thread"),P=_e.ThreadFilterType=(function(e){return e[e.My=0]="My",e[e.All=1]="All",e})({})},795,[1,11,12,18,20,21,23,743,739,755,796,809,764,806,771,746,837,810,765,830,754]);
__d(function(e,t,r,n,o,i,a){var s=t(a[0]);Object.defineProperty(i,"__esModule",{value:!0}),i.UNSTABLE_MSC4354_STICKY_EVENTS=i.UNSTABLE_MSC4140_DELAYED_EVENTS=i.UNSTABLE_MSC4133_EXTENDED_PROFILES=i.UNSTABLE_MSC3852_LAST_SEEN_UA=i.UNSTABLE_MSC2666_SHARED_ROOMS=i.UNSTABLE_MSC2666_QUERY_MUTUAL_ROOMS=i.UNSTABLE_MSC2666_MUTUAL_ROOMS=i.STABLE_MSC4133_EXTENDED_PROFILES=i.PendingEventOrdering=i.MatrixClient=i.GET_LOGIN_TOKEN_CAPABILITY=i.ClientEvent=void 0,i.fixNotificationCountOnDecryption=O,i.inMainTimelineForReceipt=B,i.threadIdForReceipt=L;var u=s(t(a[1])),d=s(t(a[2])),l=s(t(a[3])),c=s(t(a[4])),v=s(t(a[5])),h=s(t(a[6])),p=s(t(a[7])),f=s(t(a[8])),y=s(t(a[9])),m=s(t(a[10])),g=k(t(a[11])),E=g,S=k(t(a[12]));function k(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(k=function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,a)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?o(a,s,i):a[s]=e[s]);return a})(e,t)}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R=function(){return!!e})()}var I=["server","limit","since"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P=6e5,b=(i.UNSTABLE_MSC3852_LAST_SEEN_UA=new(t(a[13]).UnstableValue)("last_seen_user_agent","org.matrix.msc3852.last_seen_user_agent"),i.PendingEventOrdering=(function(e){return e.Chronological="chronological",e.Detached="detached",e})({}),i.GET_LOGIN_TOKEN_CAPABILITY=new(t(a[13]).NamespacedValue)("m.get_login_token","org.matrix.msc3882.get_login_token"),i.UNSTABLE_MSC2666_SHARED_ROOMS="uk.half-shot.msc2666"),U=i.UNSTABLE_MSC2666_MUTUAL_ROOMS="uk.half-shot.msc2666.mutual_rooms",M=i.UNSTABLE_MSC2666_QUERY_MUTUAL_ROOMS="uk.half-shot.msc2666.query_mutual_rooms",w=i.UNSTABLE_MSC4140_DELAYED_EVENTS="org.matrix.msc4140",C=i.UNSTABLE_MSC4354_STICKY_EVENTS="org.matrix.msc4354",x=i.UNSTABLE_MSC4133_EXTENDED_PROFILES="uk.tcpip.msc4133",D=i.STABLE_MSC4133_EXTENDED_PROFILES="uk.tcpip.msc4133.stable",A="$",$=i.ClientEvent=(function(e){return e.Sync="sync",e.Event="event",e.ToDeviceEvent="toDeviceEvent",e.ReceivedToDeviceMessage="receivedToDeviceMessage",e.AccountData="accountData",e.Room="Room",e.DeleteRoom="deleteRoom",e.SyncUnexpectedError="sync.unexpectedError",e.ClientWellKnown="WellKnown.client",e.ReceivedVoipEvent="received_voip_event",e.TurnServers="turnServers",e.TurnServersError="turnServers.error",e})({}),q=new(t(a[13]).UnstableValue)("action","org.matrix.msc3824.action"),N=i.MatrixClient=(function(e){function r(e){var n,o,i,s,d,l,v,f,y,g;(0,c.default)(this,r),f=this,y=r,y=(0,p.default)(y),n=(0,h.default)(f,R()?Reflect.construct(y,g||[],(0,p.default)(f).constructor):y.apply(f,g)),s=n,(0,u.default)(n,"logger",void 0),(0,u.default)(n,"reEmitter",new(t(a[14]).TypedReEmitter)(n)),(0,u.default)(n,"olmVersion",null),(0,u.default)(n,"usingExternalCrypto",!1),(0,u.default)(n,"_store",void 0),(0,u.default)(n,"deviceId",void 0),(0,u.default)(n,"credentials",void 0),(0,u.default)(n,"legacyPickleKey",void 0),(0,u.default)(n,"scheduler",void 0),(0,u.default)(n,"clientRunning",!1),(0,u.default)(n,"timelineSupport",!1),(0,u.default)(n,"urlPreviewCache",{}),(0,u.default)(n,"identityServer",void 0),(0,u.default)(n,"http",void 0),(0,u.default)(n,"cryptoBackend",void 0),(0,u.default)(n,"enableEncryptedStateEvents",void 0),(0,u.default)(n,"cryptoCallbacks",void 0),(0,u.default)(n,"callEventHandler",void 0),(0,u.default)(n,"groupCallEventHandler",void 0),(0,u.default)(n,"supportsCallTransfer",!1),(0,u.default)(n,"forceTURN",!1),(0,u.default)(n,"iceCandidatePoolSize",0),(0,u.default)(n,"idBaseUrl",void 0),(0,u.default)(n,"baseUrl",void 0),(0,u.default)(n,"isVoipWithNoMediaAllowed",void 0),(0,u.default)(n,"disableVoip",void 0),(0,u.default)(n,"useLivekitForGroupCalls",void 0),(0,u.default)(n,"canSupportVoip",!1),(0,u.default)(n,"peekSync",null),(0,u.default)(n,"isGuestAccount",!1),(0,u.default)(n,"ongoingScrollbacks",{}),(0,u.default)(n,"notifTimelineSet",null),(0,u.default)(n,"legacyCryptoStore",void 0),(0,u.default)(n,"verificationMethods",void 0),(0,u.default)(n,"fallbackICEServerAllowed",!1),(0,u.default)(n,"syncApi",void 0),(0,u.default)(n,"roomNameGenerator",void 0),(0,u.default)(n,"pushRules",void 0),(0,u.default)(n,"syncLeftRoomsPromise",void 0),(0,u.default)(n,"syncedLeftRooms",!1),(0,u.default)(n,"clientOpts",void 0),(0,u.default)(n,"clientWellKnownIntervalID",void 0),(0,u.default)(n,"canResetTimelineCallback",void 0),(0,u.default)(n,"canSupport",new Map),(0,u.default)(n,"pushProcessor",new(t(a[15]).PushProcessor)(n)),(0,u.default)(n,"serverVersionsPromise",void 0),(0,u.default)(n,"clientWellKnown",void 0),(0,u.default)(n,"clientWellKnownPromise",void 0),(0,u.default)(n,"turnServers",[]),(0,u.default)(n,"turnServersExpiry",0),(0,u.default)(n,"checkTurnServersIntervalID",void 0),(0,u.default)(n,"txnCtr",0),(0,u.default)(n,"mediaHandler",new(t(a[16]).MediaHandler)(n)),(0,u.default)(n,"sessionId",void 0),(0,u.default)(n,"eventsBeingEncrypted",new Set),(0,u.default)(n,"useE2eForGroupCall",!0),(0,u.default)(n,"toDeviceMessageQueue",void 0),(0,u.default)(n,"livekitServiceURL",void 0),(0,u.default)(n,"_secretStorage",void 0),(0,u.default)(n,"ignoredInvites",void 0),(0,u.default)(n,"matrixRTC",void 0),(0,u.default)(n,"serverCapabilitiesService",void 0),(0,u.default)(n,"startCallEventHandler",function(){n.isInitialSyncComplete()&&((0,t(a[17]).supportsMatrixCall)()&&(n.callEventHandler.start(),n.groupCallEventHandler.start()),n.off($.Sync,n.startCallEventHandler))}),(0,u.default)(n,"startMatrixRTC",function(){n.isInitialSyncComplete()&&(n.matrixRTC.start(),n.off($.Sync,n.startMatrixRTC))}),(0,u.default)(n,"fixupRoomNotifications",function(){if(n.isInitialSyncComplete()){var e,r=(null!==(e=n.getRooms())&&void 0!==e?e:[]).filter(function(e){return e.getUnreadNotificationCount(t(a[18]).NotificationCountType.Total)>0});for(var o of r){var i=n.getSafeUserId();o.fixupNotifications(i)}n.off($.Sync,n.fixupRoomNotifications)}}),n.logger=null!==(o=e.logger)&&void 0!==o?o:t(a[19]).logger,e.baseUrl=E.ensureNoTrailingSlash(e.baseUrl),e.idBaseUrl=E.ensureNoTrailingSlash(e.idBaseUrl),n.baseUrl=e.baseUrl,n.idBaseUrl=e.idBaseUrl,n.identityServer=e.identityServer,n.usingExternalCrypto=null!==(i=e.usingExternalCrypto)&&void 0!==i&&i,n.store=e.store||new(t(a[20]).StubStore),n.deviceId=e.deviceId||null,n.sessionId=(0,t(a[21]).secureRandomString)(10);var S=e.userId||null;return n.credentials={userId:S},n.http=new(t(a[22]).MatrixHttpApi)(n,{fetchFn:e.fetchFn,baseUrl:e.baseUrl,idBaseUrl:e.idBaseUrl,accessToken:e.accessToken,refreshToken:e.refreshToken,tokenRefreshFunction:e.tokenRefreshFunction,prefix:t(a[22]).ClientPrefix.V3,onlyData:!0,extraParams:e.queryParams,localTimeoutMs:e.localTimeoutMs,useAuthorizationHeader:e.useAuthorizationHeader,logger:n.logger}),e.pickleKey&&(n.legacyPickleKey=e.pickleKey),n.useLivekitForGroupCalls=Boolean(e.useLivekitForGroupCalls),n.scheduler=e.scheduler,n.scheduler&&n.scheduler.setProcessFunction((function(){var e=(0,m.default)(function*(e){var r=s.getRoom(e.getRoomId());e.status!==t(a[23]).EventStatus.SENDING&&s.updatePendingEventStatus(r,e,t(a[23]).EventStatus.SENDING);var n=yield s.sendEventHttpRequest(e);return r&&r.updatePendingEvent(e,t(a[23]).EventStatus.SENT,n.event_id),n});return function(t){return e.apply(this,arguments)}})()),n.disableVoip=null!==(d=e.disableVoip)&&void 0!==d&&d,!n.disableVoip&&(0,t(a[17]).supportsMatrixCall)()&&(n.callEventHandler=new(t(a[24]).CallEventHandler)(n),n.groupCallEventHandler=new(t(a[25]).GroupCallEventHandler)(n),n.canSupportVoip=!0,n.on($.Sync,n.startCallEventHandler)),n.matrixRTC=new(t(a[26]).MatrixRTCSessionManager)(n.logger,n),n.serverCapabilitiesService=new(t(a[27]).ServerCapabilities)(n.logger,n.http),n.on($.Sync,n.fixupRoomNotifications),n.timelineSupport=Boolean(e.timelineSupport),n.legacyCryptoStore=e.cryptoStore,n.verificationMethods=e.verificationMethods,n.cryptoCallbacks=e.cryptoCallbacks||{},n.enableEncryptedStateEvents=null!==(l=e.enableEncryptedStateEvents)&&void 0!==l&&l,n.forceTURN=e.forceTURN||!1,n.iceCandidatePoolSize=void 0===e.iceCandidatePoolSize?0:e.iceCandidatePoolSize,n.supportsCallTransfer=e.supportsCallTransfer||!1,n.fallbackICEServerAllowed=e.fallbackICEServerAllowed||!1,n.isVoipWithNoMediaAllowed=e.isVoipWithNoMediaAllowed||!1,void 0!==e.useE2eForGroupCall&&(n.useE2eForGroupCall=e.useE2eForGroupCall),n.livekitServiceURL=e.livekitServiceURL,n.roomNameGenerator=e.roomNameGenerator,n.toDeviceMessageQueue=new(t(a[28]).ToDeviceMessageQueue)(n,n.logger),n.on(t(a[23]).MatrixEventEvent.Decrypted,function(e){O(n,e)}),n.ignoredInvites=new(t(a[29]).IgnoredInvites)(n),n._secretStorage=new(t(a[30]).ServerSideSecretStorageImpl)(n,null!==(v=e.cryptoCallbacks)&&void 0!==v?v:{}),n.setMaxListeners(0),n}return(0,f.default)(r,e),(0,v.default)(r,[{key:"store",get:function(){return this._store},set:function(e){var r=this;this._store=e,this._store.setUserCreator(function(e){return t(a[31]).User.createUser(e,r)})}},{key:"startClient",value:function(e){var r=this;return(0,m.default)(function*(){if(!r.clientRunning){r.clientRunning=!0,r.on($.Sync,r.startMatrixRTC);var n=r.getUserId();n&&r.store.storeUser(new(t(a[31]).User)(n)),r.supportsVoip()&&(r.checkTurnServersIntervalID=setInterval(function(){r.checkTurnServers()},P),r.checkTurnServers()),r.syncApi&&(r.logger.error("Still have sync object whilst not running: stopping old one"),r.syncApi.stop());try{yield r.getVersions();var o=yield r.doesServerSupportThread(),i=o.threads,s=o.list,u=o.fwdPagination;t(a[32]).Thread.setServerSideSupport(i),t(a[32]).Thread.setServerSideListSupport(s),t(a[32]).Thread.setServerSideFwdPaginationSupport(u)}catch(e){r.logger.error("Can't fetch server versions, continuing to initialise sync, this will be retried later",e)}r.clientOpts=null!=e?e:{},r.clientOpts.slidingSync?r.syncApi=new(t(a[33]).SlidingSyncSdk)(r.clientOpts.slidingSync,r,r.clientOpts,r.buildSyncApiOptions()):r.syncApi=new(t(a[34]).SyncApi)(r,r.clientOpts,r.buildSyncApiOptions()),r.syncApi.sync().catch(function(e){return r.logger.info("Sync startup aborted with an error:",e)}),void 0!==r.clientOpts.clientWellKnownPollPeriod&&(r.clientWellKnownIntervalID=setInterval(function(){r.fetchClientWellKnown()},1e3*r.clientOpts.clientWellKnownPollPeriod),r.fetchClientWellKnown()),r.toDeviceMessageQueue.start(),r.serverCapabilitiesService.start()}})()}},{key:"buildSyncApiOptions",value:function(){var e=this;return{cryptoCallbacks:this.cryptoBackend,canResetEntireTimeline:function(t){return!!e.canResetTimelineCallback&&e.canResetTimelineCallback(t)},logger:this.logger.getChild("sync")}}},{key:"stopClient",value:function(){var e,t,r,n,o;null===(e=this.cryptoBackend)||void 0===e||e.stop(),this.off($.Sync,this.startMatrixRTC),this.clientRunning&&(this.logger.debug("stopping MatrixClient"),this.clientRunning=!1,null===(t=this.syncApi)||void 0===t||t.stop(),this.syncApi=void 0,null===(r=this.peekSync)||void 0===r||r.stopPeeking(),null===(n=this.callEventHandler)||void 0===n||n.stop(),null===(o=this.groupCallEventHandler)||void 0===o||o.stop(),this.callEventHandler=void 0,this.groupCallEventHandler=void 0,globalThis.clearInterval(this.checkTurnServersIntervalID),this.checkTurnServersIntervalID=void 0,void 0!==this.clientWellKnownIntervalID&&globalThis.clearInterval(this.clientWellKnownIntervalID),this.toDeviceMessageQueue.stop(),this.matrixRTC.stop(),this.serverCapabilitiesService.stop())}},{key:"clearStores",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.clientRunning)throw new Error("Cannot clear stores while client is running");var n=[];n.push(this.store.deleteAllData()),this.legacyCryptoStore&&n.push(this.legacyCryptoStore.deleteAllData());var o=(function(){var n=(0,m.default)(function*(){var n;try{if(!(n=globalThis.indexedDB))return}catch(e){return}var o=function*(t){var r=new Promise(function(r,o){e.logger.info("Removing IndexedDB instance ".concat(t));var i=n.deleteDatabase(t);i.onsuccess=function(n){e.logger.info("Removed IndexedDB instance ".concat(t)),r(0)},i.onerror=function(n){e.logger.warn("Failed to remove IndexedDB instance ".concat(t,":"),n),r(0)},i.onblocked=function(r){e.logger.info("cannot yet remove IndexedDB instance ".concat(t))}});yield r};for(var i of["".concat(null!==(s=r.cryptoDatabasePrefix)&&void 0!==s?s:t(a[35]).RUST_SDK_STORE_PREFIX,"::matrix-sdk-crypto"),"".concat(null!==(u=r.cryptoDatabasePrefix)&&void 0!==u?u:t(a[35]).RUST_SDK_STORE_PREFIX,"::matrix-sdk-crypto-meta")]){var s,u;yield*o(i)}});return function(){return n.apply(this,arguments)}})();return n.push(o()),Promise.all(n).then()}},{key:"getUserId",value:function(){var e,t;return null!==(e=null===(t=this.credentials)||void 0===t?void 0:t.userId)&&void 0!==e?e:null}},{key:"getSafeUserId",value:function(){var e=this.getUserId();if(!e)throw new Error("Expected logged in user but found none.");return e}},{key:"getDomain",value:function(){var e;return null!==(e=this.credentials)&&void 0!==e&&e.userId?this.credentials.userId.replace(/^.*?:/,""):null}},{key:"getUserIdLocalpart",value:function(){var e,t;return null!==(e=null===(t=this.credentials)||void 0===t||null===(t=t.userId)||void 0===t?void 0:t.split(":")[0].substring(1))&&void 0!==e?e:null}},{key:"getDeviceId",value:function(){return this.deviceId}},{key:"getSessionId",value:function(){return this.sessionId}},{key:"supportsVoip",value:function(){return!this.disableVoip&&this.canSupportVoip}},{key:"getMediaHandler",value:function(){return this.mediaHandler}},{key:"setForceTURN",value:function(e){this.forceTURN=e}},{key:"setSupportsCallTransfer",value:function(e){this.supportsCallTransfer=e}},{key:"getUseE2eForGroupCall",value:function(){return this.useE2eForGroupCall}},{key:"createCall",value:function(e){return(0,t(a[17]).createNewMatrixCall)(this,e)}},{key:"createGroupCall",value:function(e,r,n,o,i,s){var u=this;return(0,m.default)(function*(){if(u.getGroupCallForRoom(e))throw new Error("".concat(e," already has an existing group call"));var d=u.getRoom(e);if(!d)throw new Error("Cannot find room ".concat(e));return new(t(a[36]).GroupCall)(u,d,r,n,o,void 0,i||u.isVoipWithNoMediaAllowed,s,u.isVoipWithNoMediaAllowed,u.useLivekitForGroupCalls,u.livekitServiceURL).create()})()}},{key:"getLivekitServiceURL",value:function(){return this.livekitServiceURL}},{key:"setLivekitServiceURL",value:function(e){this.livekitServiceURL=e}},{key:"waitUntilRoomReadyForGroupCalls",value:function(e){return this.groupCallEventHandler.waitUntilRoomReadyForGroupCalls(e)}},{key:"getGroupCallForRoom",value:function(e){return this.groupCallEventHandler.groupCalls.get(e)||null}},{key:"getSyncState",value:function(){var e,t;return null!==(e=null===(t=this.syncApi)||void 0===t?void 0:t.getSyncState())&&void 0!==e?e:null}},{key:"getSyncStateData",value:function(){return this.syncApi?this.syncApi.getSyncStateData():null}},{key:"isInitialSyncComplete",value:function(){var e=this.getSyncState();return!!e&&(e===t(a[34]).SyncState.Prepared||e===t(a[34]).SyncState.Syncing)}},{key:"isGuest",value:function(){return this.isGuestAccount}},{key:"setGuest",value:function(e){this.isGuestAccount=e}},{key:"getScheduler",value:function(){return this.scheduler}},{key:"retryImmediately",value:function(){var e,t;return this.toDeviceMessageQueue.sendQueue(),null!==(e=null===(t=this.syncApi)||void 0===t?void 0:t.retryImmediately())&&void 0!==e&&e}},{key:"getNotifTimelineSet",value:function(){return this.notifTimelineSet}},{key:"setNotifTimelineSet",value:function(e){this.notifTimelineSet=e}},{key:"getCapabilities",value:function(){var e=this;return(0,m.default)(function*(){var t=e.serverCapabilitiesService.getCachedCapabilities();return t||e.serverCapabilitiesService.fetchCapabilities()})()}},{key:"getCachedCapabilities",value:function(){return this.serverCapabilitiesService.getCachedCapabilities()}},{key:"fetchCapabilities",value:function(){return this.serverCapabilitiesService.fetchCapabilities()}},{key:"initRustCrypto",value:function(){var e=arguments,r=this;return(0,m.default)(function*(){var n,o,i=e.length>0&&void 0!==e[0]?e[0]:{};if(r.cryptoBackend)r.logger.warn("Attempt to re-initialise e2e encryption on MatrixClient");else{var s=r.getUserId();if(null===s)throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");var u=r.getDeviceId();if(null===u)throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");r.logger.debug("Downloading Rust crypto library");var d=yield t(a[38])(a[37],a.paths),l=yield d.initRustCrypto({logger:r.logger,http:r.http,userId:s,deviceId:u,secretStorage:r.secretStorage,cryptoCallbacks:r.cryptoCallbacks,storePrefix:!1===i.useIndexedDB?null:null!==(n=i.cryptoDatabasePrefix)&&void 0!==n?n:t(a[35]).RUST_SDK_STORE_PREFIX,storeKey:i.storageKey,storePassphrase:i.storagePassword,legacyCryptoStore:r.legacyCryptoStore,legacyPickleKey:null!==(o=r.legacyPickleKey)&&void 0!==o?o:"DEFAULT_KEY",legacyMigrationProgressListener:function(e,n){r.emit(t(a[39]).CryptoEvent.LegacyCryptoStoreMigrationProgress,e,n)},enableEncryptedStateEvents:r.enableEncryptedStateEvents});l.setSupportedVerificationMethods(r.verificationMethods),r.cryptoBackend=l,r.on(t(a[40]).RoomMemberEvent.Membership,l.onRoomMembership.bind(l)),r.on($.Event,function(e){l.onLiveEventFromSync(e)}),r.reEmitter.reEmit(l,[t(a[39]).CryptoEvent.VerificationRequestReceived,t(a[39]).CryptoEvent.UserTrustStatusChanged,t(a[39]).CryptoEvent.KeyBackupStatus,t(a[39]).CryptoEvent.KeyBackupSessionsRemaining,t(a[39]).CryptoEvent.KeyBackupFailed,t(a[39]).CryptoEvent.KeyBackupDecryptionKeyCached,t(a[39]).CryptoEvent.KeysChanged,t(a[39]).CryptoEvent.DevicesUpdated,t(a[39]).CryptoEvent.WillUpdateDevices,t(a[39]).CryptoEvent.DehydratedDeviceCreated,t(a[39]).CryptoEvent.DehydratedDeviceUploaded,t(a[39]).CryptoEvent.RehydrationStarted,t(a[39]).CryptoEvent.RehydrationProgress,t(a[39]).CryptoEvent.RehydrationCompleted,t(a[39]).CryptoEvent.RehydrationError,t(a[39]).CryptoEvent.DehydrationKeyCached,t(a[39]).CryptoEvent.DehydratedDeviceRotationError])}})()}},{key:"secretStorage",get:function(){return this._secretStorage}},{key:"getCrypto",value:function(){return this.cryptoBackend}},{key:"isRoomEncrypted",value:function(e){var t=this.getRoom(e);return!!t&&t.hasEncryptionStateEvent()}},{key:"isKeyBackupKeyStored",value:function(){return Promise.resolve(this.secretStorage.isStored("m.megolm_backup.v1"))}},{key:"makeKeyBackupPath",value:function(e,t,r){return{path:void 0!==t?E.encodeUri("/room_keys/keys/$roomId/$sessionId",{$roomId:e,$sessionId:t}):void 0!==e?E.encodeUri("/room_keys/keys/$roomId",{$roomId:e}):"/room_keys/keys",queryData:void 0===r?void 0:{version:r}}}},{key:"deleteKeysFromBackup",value:function(e,r,n){var o=this;return(0,m.default)(function*(){var i=o.makeKeyBackupPath(e,r,n);yield o.http.authedRequest(t(a[22]).Method.Delete,i.path,i.queryData,void 0,{prefix:t(a[22]).ClientPrefix.V3})})()}},{key:"getMediaConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e?"/media/config":"/config";return this.http.authedRequest(t(a[22]).Method.Get,r,void 0,void 0,{prefix:e?t(a[22]).ClientPrefix.V1:t(a[22]).MediaPrefix.V3})}},{key:"getRoom",value:function(e){return e?this.store.getRoom(e):null}},{key:"getRooms",value:function(){return this.store.getRooms()}},{key:"getVisibleRooms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.store.getRooms(),r=new Set(t);for(var n of r){var o=this.findPredecessorRooms(n,!0,e);for(var i of o)r.delete(i)}return Array.from(r)}},{key:"getUser",value:function(e){return this.store.getUser(e)}},{key:"getUsers",value:function(){return this.store.getUsers()}},{key:"setAccountData",value:function(e,r){var n=this;return(0,m.default)(function*(){if(!n.clientRunning)return n.logger.warn("Calling `setAccountData` before the client is started: `getAccountData` may return inconsistent results."),yield(0,t(a[22]).retryNetworkOperation)(5,function(){return n.setAccountDataRaw(e,r)});var o=n.store.getAccountData(e);if(o&&(0,g.deepCompare)(o.event.content,r))return{};var i=Promise.withResolvers();function s(t){t.getType()===e&&i.resolve()}n.addListener($.AccountData,s);try{var u=yield(0,t(a[22]).retryNetworkOperation)(5,function(){return n.setAccountDataRaw(e,r)});return yield i.promise,u}finally{n.removeListener($.AccountData,s)}})()}},{key:"setAccountDataRaw",value:function(e,r){var n=E.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:e});return this.http.authedRequest(t(a[22]).Method.Put,n,void 0,r)}},{key:"getAccountData",value:function(e){return this.store.getAccountData(e)}},{key:"getAccountDataFromServer",value:function(e){var r=this;return(0,m.default)(function*(){if(r.isInitialSyncComplete()){var n=r.store.getAccountData(e);return n?n.getContent():null}var o=E.encodeUri("/user/$userId/account_data/$type",{$userId:r.credentials.userId,$type:e});try{return yield r.http.authedRequest(t(a[22]).Method.Get,o)}catch(e){var i;if("M_NOT_FOUND"===(null===(i=e.data)||void 0===i?void 0:i.errcode))return null;throw e}})()}},{key:"deleteAccountData",value:function(e){var r=this;return(0,m.default)(function*(){var n=r.canSupport.get(t(a[41]).Feature.AccountDataDeletion);if(n!==t(a[41]).ServerSupport.Unsupported){var o=E.encodeUri("/user/$userId/account_data/$type",{$userId:r.getSafeUserId(),$type:e}),i=n===t(a[41]).ServerSupport.Unstable?{prefix:"/_matrix/client/unstable/org.matrix.msc3391"}:void 0;return yield r.http.authedRequest(t(a[22]).Method.Delete,o,void 0,void 0,i)}yield r.setAccountData(e,{})})()}},{key:"getIgnoredUsers",value:function(){var e=this.getAccountData(t(a[42]).EventType.IgnoredUserList);return null!=e&&e.getContent().ignored_users?Object.keys(e.getContent().ignored_users):[]}},{key:"setIgnoredUsers",value:function(e){var r={ignored_users:{}};return e.forEach(function(e){r.ignored_users[e]={}}),this.setAccountData(t(a[42]).EventType.IgnoredUserList,r)}},{key:"isUserIgnored",value:function(e){return this.getIgnoredUsers().includes(e)}},{key:"joinRoom",value:function(e){var r=arguments,n=this;return(0,m.default)(function*(){var o,i,s=r.length>1&&void 0!==r[1]?r[1]:{},u=n.getRoom(e),d=null==u?void 0:u.getMember(n.getSafeUserId()),l=null==d?void 0:d.membership,c=l==t(a[43]).KnownMembership.Invite&&null!==(o=null==d||null===(i=d.events.member)||void 0===i?void 0:i.getSender())&&void 0!==o?o:null;if(n.logger.debug("joinRoom[".concat(e,"]: preJoinMembership=").concat(l,", inviter=").concat(c,", opts=").concat(JSON.stringify(s))),l==t(a[43]).KnownMembership.Join)return u;var v=Promise.resolve();if(s.inviteSignUrl){var h=new URL(s.inviteSignUrl);h.searchParams.set("mxid",n.credentials.userId),v=n.http.requestOtherUrl(t(a[22]).Method.Post,h)}var p={};s.viaServers&&(p.via=p.server_name=s.viaServers.slice(0,3));var f={},y=yield v;y&&(f.third_party_signed=y);var m=E.encodeUri("/join/$roomid",{$roomid:e}),g=(yield n.http.authedRequest(t(a[22]).Method.Post,m,p,f)).room_id;s.acceptSharedHistory&&c&&n.cryptoBackend&&((yield n.cryptoBackend.maybeAcceptKeyBundle(g,c))||n.cryptoBackend.markRoomAsPendingKeyBundle(g,c));var S=n.getRoom(g);return null!=S&&S.hasMembershipState(n.credentials.userId,t(a[43]).KnownMembership.Join)?S:new(t(a[34]).SyncApi)(n,n.clientOpts,n.buildSyncApiOptions()).createRoom(g)})()}},{key:"knockRoom",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRoom(e);if(null!=n&&n.hasMembershipState(this.credentials.userId,t(a[43]).KnownMembership.Knock))return Promise.resolve({room_id:n.roomId});var o=E.encodeUri("/knock/$roomIdOrAlias",{$roomIdOrAlias:e}),i={};if(r.viaServers){var s=Array.isArray(r.viaServers)?r.viaServers.slice(0,3):[r.viaServers];i.server_name=s,i.via=s}var u={};return r.reason&&(u.reason=r.reason),this.http.authedRequest(t(a[22]).Method.Post,o,i,u)}},{key:"resendEvent",value:function(e,r){return this.toDeviceMessageQueue.sendQueue(),this.updatePendingEventStatus(r,e,t(a[23]).EventStatus.SENDING),this.encryptAndSendEvent(r,e)}},{key:"cancelPendingEvent",value:function(e){if(![t(a[23]).EventStatus.QUEUED,t(a[23]).EventStatus.NOT_SENT,t(a[23]).EventStatus.ENCRYPTING].includes(e.status))throw new Error("cannot cancel an event with status "+e.status);e.status===t(a[23]).EventStatus.ENCRYPTING?this.eventsBeingEncrypted.delete(e.getId()):this.scheduler&&e.status===t(a[23]).EventStatus.QUEUED&&this.scheduler.removeEventFromQueue(e);var r=this.getRoom(e.getRoomId());this.updatePendingEventStatus(r,e,t(a[23]).EventStatus.CANCELLED)}},{key:"setRoomName",value:function(e,r){return this.sendStateEvent(e,t(a[42]).EventType.RoomName,{name:r})}},{key:"setRoomTopic",value:function(e,r,n){var o=S.makeTopicContent(r,n);return this.sendStateEvent(e,t(a[42]).EventType.RoomTopic,o)}},{key:"getRoomTags",value:function(e){var r=E.encodeUri("/user/$userId/rooms/$roomId/tags",{$userId:this.credentials.userId,$roomId:e});return this.http.authedRequest(t(a[22]).Method.Get,r)}},{key:"setRoomTag",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=E.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:r});return this.http.authedRequest(t(a[22]).Method.Put,o,void 0,n)}},{key:"deleteRoomTag",value:function(e,r){var n=E.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:r});return this.http.authedRequest(t(a[22]).Method.Delete,n)}},{key:"setRoomAccountData",value:function(e,r,n){var o=E.encodeUri("/user/$userId/rooms/$roomId/account_data/$type",{$userId:this.credentials.userId,$roomId:e,$type:r});return this.http.authedRequest(t(a[22]).Method.Put,o,void 0,n)}},{key:"setPowerLevel",value:function(e,r,n){var o=this;return(0,m.default)(function*(){var i,s,u;o.clientRunning&&o.isInitialSyncComplete()&&(s=null===(u=o.getRoom(e))||void 0===u||null===(u=u.currentState)||void 0===u||null===(u=u.getStateEvents(t(a[42]).EventType.RoomPowerLevels,""))||void 0===u?void 0:u.getContent());if(!s)try{s=yield o.getStateEvent(e,t(a[42]).EventType.RoomPowerLevels,"")}catch(e){if(!(e instanceof t(a[22]).MatrixError&&"M_NOT_FOUND"===e.errcode))throw e;s={}}null!==(i=s=E.deepCopy(s))&&void 0!==i&&i.users||(s.users={});var d=Array.isArray(r)?r:[r];for(var l of d)null==n?delete s.users[l]:s.users[l]=n;return o.sendStateEvent(e,t(a[42]).EventType.RoomPowerLevels,s,"")})()}},{key:"unstable_createLiveBeacon",value:function(e,t){var r=this;return(0,m.default)(function*(){return r.unstable_setLiveBeacon(e,t)})()}},{key:"unstable_setLiveBeacon",value:function(e,r){var n=this;return(0,m.default)(function*(){return n.sendStateEvent(e,t(a[44]).M_BEACON_INFO.name,r,n.getUserId())})()}},{key:"sendEvent",value:function(e,t,r,n,o){var i,a,s,u;return null!=t&&t.startsWith(A)||null===t?(u=o,s=n,a=r,i=t):(u=n,s=r,a=t,i=null),this.addThreadRelationIfNeeded(s,i,e),this.sendCompleteEvent({roomId:e,threadId:i,eventObject:{type:a,content:s},txnId:u})}},{key:"addThreadRelationIfNeeded",value:function(e,r,n){var o;if(r&&(null===(o=e["m.relates_to"])||void 0===o||!o.rel_type)){var i,s,u=!(null===(i=e["m.relates_to"])||void 0===i||!i["m.in_reply_to"]);e["m.relates_to"]=_(_({},e["m.relates_to"]),{},{rel_type:t(a[32]).THREAD_RELATION_TYPE.name,event_id:r,is_falling_back:!u});var d,l,c=null===(s=this.getRoom(n))||void 0===s?void 0:s.getThread(r);if(c&&!u)e["m.relates_to"]["m.in_reply_to"]={event_id:null!==(d=null===(l=c.lastReply(function(e){return e.isRelation(t(a[32]).THREAD_RELATION_TYPE.name)&&!e.status}))||void 0===l?void 0:l.getId())&&void 0!==d?d:r}}}},{key:"sendCompleteEvent",value:function(e){var r=e.roomId,n=e.threadId,o=e.eventObject,i=e.delayOpts,s=e.queryDict,u=e.txnId;u||(u=this.makeTxnId());var d=new(t(a[23]).MatrixEvent)(Object.assign(o,{event_id:"~"+r+":"+u,user_id:this.credentials.userId,sender:this.credentials.userId,room_id:r,origin_server_ts:(new Date).getTime()})),l=this.getRoom(r),c=n?null==l?void 0:l.getThread(n):void 0;c&&d.setThread(c),i||(this.reEmitter.reEmit(d,[t(a[23]).MatrixEventEvent.Replaced,t(a[23]).MatrixEventEvent.VisibilityChange]),null==l||l.reEmitter.reEmit(d,[t(a[23]).MatrixEventEvent.BeforeRedaction]));var v=d.getAssociatedId();if(null!=v&&v.startsWith("~")){var h=null==l?void 0:l.getPendingEvents().find(function(e){return e.getId()===v});null==h||h.once(t(a[23]).MatrixEventEvent.LocalEventIdReplaced,function(){d.updateAssociatedId(h.getId())})}var p=d.getType();return this.logger.debug("sendEvent of type ".concat(p," in ").concat(r," with txnId ").concat(u).concat(i?" (delayed event)":"").concat(s?" query params: "+JSON.stringify(s):"")),d.setTxnId(u),d.setStatus(t(a[23]).EventStatus.SENDING),i?this.encryptAndSendEvent(l,d,i,s):(null==l||l.addPendingEvent(d,u),d.status===t(a[23]).EventStatus.NOT_SENT?Promise.reject(new Error("Event blocked by other events not yet sent")):this.encryptAndSendEvent(l,d,s))}},{key:"encryptAndSendEvent",value:function(e,r,n,o){var i=this;return(0,m.default)(function*(){var s=o;if(n&&(0,t(a[45]).isSendDelayedEventRequestOpts)(n))return i.sendEventHttpRequest(r,n,s);s||(s=n);try{var u;i.eventsBeingEncrypted.add(r.getId());try{yield i.encryptEventIfNeeded(r,null!=e?e:void 0)}finally{u=!i.eventsBeingEncrypted.delete(r.getId())}if(u)return{};r.status===t(a[23]).EventStatus.ENCRYPTING&&i.updatePendingEventStatus(e,r,t(a[23]).EventStatus.SENDING);var d=null;return i.scheduler&&(d=i.scheduler.queueEvent(r))&&i.scheduler.getQueueForEvent(r).length>1&&i.updatePendingEventStatus(e,r,t(a[23]).EventStatus.QUEUED),d||(d=i.sendEventHttpRequest(r,s),e&&(d=d.then(function(n){return e.updatePendingEvent(r,t(a[23]).EventStatus.SENT,n.event_id),n}))),yield d}catch(n){i.logger.error("Error sending event",n);try{r.error=n,i.updatePendingEventStatus(e,r,t(a[23]).EventStatus.NOT_SENT)}catch(e){i.logger.error("Exception in error handler!",e)}throw n instanceof t(a[22]).MatrixError&&(n.event=r),n}})()}},{key:"encryptEventIfNeeded",value:function(e,r){var n=this;return(0,m.default)(function*(){if(r&&(yield n.shouldEncryptEventForRoom(e,r))&&(n.cryptoBackend||!n.usingExternalCrypto)){if(!n.cryptoBackend)throw new Error("This room is configured to use encryption, but your client does not support encryption.");n.updatePendingEventStatus(r,e,t(a[23]).EventStatus.ENCRYPTING),yield n.cryptoBackend.encryptEvent(e,r)}})()}},{key:"shouldEncryptEventForRoom",value:function(e,r){var n=this;return(0,m.default)(function*(){var o;return!e.isEncrypted()&&(e.getType()!==t(a[42]).EventType.Reaction&&(!e.isRedaction()&&(!!r.hasEncryptionStateEvent()||!!(yield null===(o=n.cryptoBackend)||void 0===o?void 0:o.isEncryptionEnabledInRoom(r.roomId)))))})()}},{key:"getEncryptedIfNeededEventType",value:function(e,r){var n;return r===t(a[42]).EventType.Reaction?r:null!==(n=this.getRoom(e))&&void 0!==n&&n.hasEncryptionStateEvent()?t(a[42]).EventType.RoomMessageEncrypted:r}},{key:"updatePendingEventStatus",value:function(e,t,r){e?e.updatePendingEvent(t,r):t.setStatus(r)}},{key:"sendEventHttpRequest",value:function(e,r,n){var o=this,i=e.getTxnId();i||(i=this.makeTxnId(),e.setTxnId(i));var s,u={$roomId:e.getRoomId(),$eventType:e.getWireType(),$stateKey:e.getStateKey(),$txnId:i};if(e.isState()){var d="/rooms/$roomId/state/$eventType";e.getStateKey()&&e.getStateKey().length>0&&(d="/rooms/$roomId/state/$eventType/$stateKey"),s=E.encodeUri(d,u)}else if(e.isRedaction()&&e.event.redacts){s=E.encodeUri("/rooms/$roomId/redact/$redactsEventId/$txnId",_({$redactsEventId:e.event.redacts},u))}else s=E.encodeUri("/rooms/$roomId/send/$eventType/$txnId",u);var l=r&&(0,t(a[45]).isSendDelayedEventRequestOpts)(r)?r:void 0,c=l?n:r,v=e.getWireContent();return l?this.http.authedRequest(t(a[22]).Method.Put,s,_(_({},F(l)),c),v):this.http.authedRequest(t(a[22]).Method.Put,s,c,v).then(function(t){return o.logger.debug("Event sent to ".concat(e.getRoomId()," with event id ").concat(t.event_id)),t})}},{key:"redactEvent",value:function(e,r,n,o,i){var s,u,d;null!==(s=n)&&void 0!==s&&s.startsWith(A)||(i=o,o=n,n=r,r=null);var l={reason:null===(u=i)||void 0===u?void 0:u.reason};if(void 0!==(null===(d=i)||void 0===d?void 0:d.with_rel_types)){if(this.canSupport.get(t(a[41]).Feature.RelationBasedRedactions)===t(a[41]).ServerSupport.Unsupported)throw new Error("Server does not support relation based redactions "+"roomId ".concat(e," eventId ").concat(n," txnId: ").concat(o," threadId ").concat(r));l[this.canSupport.get(t(a[41]).Feature.RelationBasedRedactions)===t(a[41]).ServerSupport.Stable?t(a[42]).MSC3912_RELATION_BASED_REDACTIONS_PROP.stable:t(a[42]).MSC3912_RELATION_BASED_REDACTIONS_PROP.unstable]=i.with_rel_types}return this.sendCompleteEvent({roomId:e,threadId:r,eventObject:{type:t(a[42]).EventType.RoomRedaction,content:l,redacts:n},txnId:o})}},{key:"sendMessage",value:function(e,r,n,o){"string"!=typeof r&&null!==r&&(o=n,n=r,r=null);var i=t(a[42]).EventType.RoomMessage,s=n;return this.sendEvent(e,r,i,s,o)}},{key:"sendTextMessage",value:function(e,t,r,n){var o;null!==(o=t)&&void 0!==o&&o.startsWith(A)||null===t||(n=r,r=t,t=null);var i=S.makeTextMessage(r);return this.sendMessage(e,t,i,n)}},{key:"sendNotice",value:function(e,t,r,n){var o;null!==(o=t)&&void 0!==o&&o.startsWith(A)||null===t||(n=r,r=t,t=null);var i=S.makeNotice(r);return this.sendMessage(e,t,i,n)}},{key:"sendEmoteMessage",value:function(e,t,r,n){var o;null!==(o=t)&&void 0!==o&&o.startsWith(A)||null===t||(n=r,r=t,t=null);var i=S.makeEmoteMessage(r);return this.sendMessage(e,t,i,n)}},{key:"sendImageMessage",value:function(e,r,n,o){var i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Image";null!==(i=r)&&void 0!==i&&i.startsWith(A)||null===r||(s=o||"Image",o=n,n=r,r=null);var u={msgtype:t(a[42]).MsgType.Image,url:n,info:o,body:s};return this.sendMessage(e,r,u)}},{key:"sendStickerMessage",value:function(e,r,n,o){var i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Sticker";null!==(i=r)&&void 0!==i&&i.startsWith(A)||null===r||(s=o||"Sticker",o=n,n=r,r=null);var u={url:n,info:o,body:s};return this.sendEvent(e,r,t(a[42]).EventType.Sticker,u)}},{key:"sendHtmlMessage",value:function(e,t,r,n){var o;null!==(o=t)&&void 0!==o&&o.startsWith(A)||null===t||(n=r,r=t,t=null);var i=S.makeHtmlMessage(r,n);return this.sendMessage(e,t,i)}},{key:"sendHtmlNotice",value:function(e,t,r,n){var o;null!==(o=t)&&void 0!==o&&o.startsWith(A)||null===t||(n=r,r=t,t=null);var i=S.makeHtmlNotice(r,n);return this.sendMessage(e,t,i)}},{key:"sendHtmlEmote",value:function(e,t,r,n){var o;null!==(o=t)&&void 0!==o&&o.startsWith(A)||null===t||(n=r,r=t,t=null);var i=S.makeHtmlEmote(r,n);return this.sendMessage(e,t,i)}},{key:"_unstable_sendDelayedEvent",value:function(e,r,n,o,i,s){var u=this;return(0,m.default)(function*(){if(!(yield u.doesServerSupportUnstableFeature(w)))throw new(t(a[46]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","sendDelayedEvent");return u.addThreadRelationIfNeeded(i,n,e),u.sendCompleteEvent({roomId:e,threadId:n,eventObject:{type:o,content:i},delayOpts:r,txnId:s})})()}},{key:"_unstable_sendStickyDelayedEvent",value:function(e,r,n,o,i,s,u){var d=this;return(0,m.default)(function*(){if(!(yield d.doesServerSupportUnstableFeature(w)))throw new(t(a[46]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","getDelayedEvents");if(!(yield d.doesServerSupportUnstableFeature(C)))throw new(t(a[46]).UnsupportedStickyEventsEndpointError)("Server does not support the sticky events","sendStickyEvent");return d.addThreadRelationIfNeeded(s,o,e),d.sendCompleteEvent({roomId:e,threadId:o,eventObject:{type:i,content:s},queryDict:{"org.matrix.msc4354.sticky_duration_ms":r},delayOpts:n,txnId:u})})()}},{key:"_unstable_sendDelayedStateEvent",value:function(e,r,n,o){var i=arguments,s=this;return(0,m.default)(function*(){var u=i.length>4&&void 0!==i[4]?i[4]:"",d=i.length>5&&void 0!==i[5]?i[5]:{};if(!(yield s.doesServerSupportUnstableFeature(w)))throw new(t(a[46]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","sendDelayedStateEvent");var l={$roomId:e,$eventType:n,$stateKey:u},c=E.encodeUri("/rooms/$roomId/state/$eventType",l);return void 0!==u&&(c=E.encodeUri(c+"/$stateKey",l)),s.http.authedRequest(t(a[22]).Method.Put,c,F(r),o,d)})()}},{key:"_unstable_sendStickyEvent",value:function(e,r,n,o,i,s){var u=this;return(0,m.default)(function*(){if(!(yield u.doesServerSupportUnstableFeature(C)))throw new(t(a[46]).UnsupportedStickyEventsEndpointError)("Server does not support the sticky events","sendStickyEvent");return u.addThreadRelationIfNeeded(i,n,e),u.sendCompleteEvent({roomId:e,threadId:n,eventObject:{type:o,content:i},queryDict:{"org.matrix.msc4354.sticky_duration_ms":r},txnId:s})})()}},{key:"_unstable_getDelayedEvents",value:function(e,r,n){var o=this;return(0,m.default)(function*(){if(!(yield o.doesServerSupportUnstableFeature(w)))throw new(t(a[46]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","getDelayedEvents");var i={from:n,status:e,delay_id:r};return yield o.http.authedRequest(t(a[22]).Method.Get,"/delayed_events",i,void 0,{prefix:"".concat(t(a[22]).ClientPrefix.Unstable,"/").concat(w)})})()}},{key:"_unstable_updateDelayedEvent",value:function(e,r){var n=arguments,o=this;return(0,m.default)(function*(){var i=n.length>2&&void 0!==n[2]?n[2]:{};if(!(yield o.doesServerSupportUnstableFeature(w)))throw new(t(a[46]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","updateDelayedEvent");return yield o.updateScheduledDelayedEventWithActionInBody(e,r,i)})()}},{key:"_unstable_cancelScheduledDelayedEvent",value:function(e){var r=arguments,n=this;return(0,m.default)(function*(){var o=r.length>1&&void 0!==r[1]?r[1]:{};return yield n.updateScheduledDelayedEvent(e,t(a[45]).UpdateDelayedEventAction.Cancel,o)})()}},{key:"_unstable_restartScheduledDelayedEvent",value:function(e){var r=arguments,n=this;return(0,m.default)(function*(){var o=r.length>1&&void 0!==r[1]?r[1]:{};return yield n.updateScheduledDelayedEvent(e,t(a[45]).UpdateDelayedEventAction.Restart,o)})()}},{key:"_unstable_sendScheduledDelayedEvent",value:function(e){var r=arguments,n=this;return(0,m.default)(function*(){var o=r.length>1&&void 0!==r[1]?r[1]:{};return yield n.updateScheduledDelayedEvent(e,t(a[45]).UpdateDelayedEventAction.Send,o)})()}},{key:"updateScheduledDelayedEvent",value:function(e,r){var n=arguments,o=this;return(0,m.default)(function*(){var i=n.length>2&&void 0!==n[2]?n[2]:{};if(!(yield o.doesServerSupportUnstableFeature(w)))throw new(t(a[46]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","".concat(r,"ScheduledDelayedEvent"));try{var s=E.encodeUri("/delayed_events/$delayId/$action",{$delayId:e,$action:r});return yield o.http.request(t(a[22]).Method.Post,s,void 0,void 0,_(_({},i),{},{prefix:"".concat(t(a[22]).ClientPrefix.Unstable,"/").concat(w)}))}catch(n){if(n instanceof t(a[22]).MatrixError&&"M_UNRECOGNIZED"===n.errcode)return yield o.updateScheduledDelayedEventWithActionInBody(e,r,i);throw n}})()}},{key:"updateScheduledDelayedEventWithActionInBody",value:function(e,r){var n=arguments,o=this;return(0,m.default)(function*(){var i=n.length>2&&void 0!==n[2]?n[2]:{},s=E.encodeUri("/delayed_events/$delayId",{$delayId:e}),u={action:r};try{return yield o.http.request(t(a[22]).Method.Post,s,void 0,u,_(_({},i),{},{prefix:"".concat(t(a[22]).ClientPrefix.Unstable,"/").concat(w)}))}catch(e){if(e instanceof t(a[22]).MatrixError&&"M_MISSING_TOKEN"===e.errcode)return yield o.http.authedRequest(t(a[22]).Method.Post,s,void 0,u,_(_({},i),{},{prefix:"".concat(t(a[22]).ClientPrefix.Unstable,"/").concat(w)}));throw e}})()}},{key:"sendReceipt",value:function(e,r,n){var o=arguments,i=this;return(0,m.default)(function*(){var s=o.length>3&&void 0!==o[3]&&o[3];if(i.isGuest())return Promise.resolve({});var u=E.encodeUri("/rooms/$roomId/receipt/$receiptType/$eventId",{$roomId:e.getRoomId(),$receiptType:r,$eventId:e.getId()}),d=!s&&i.supportsThreads()?_(_({},n),{},{thread_id:L(e)}):n,l=i.http.authedRequest(t(a[22]).Method.Post,u,void 0,d||{}),c=i.getRoom(e.getRoomId());return c&&i.credentials.userId&&c.addLocalEchoReceipt(i.credentials.userId,e,r,s),l})()}},{key:"sendReadReceipt",value:function(e){var r=arguments,n=this;return(0,m.default)(function*(){var o=r.length>1&&void 0!==r[1]?r[1]:t(a[47]).ReceiptType.Read,i=r.length>2&&void 0!==r[2]&&r[2];if(e){var s=e.getId(),u=n.getRoom(e.getRoomId());if(null!=u&&u.hasPendingEvent(s))throw new Error("Cannot set read receipt to a pending event (".concat(s,")"));return n.sendReceipt(e,o,{},i)}})()}},{key:"setRoomReadMarkers",value:function(e,r,n,o){var i=this;return(0,m.default)(function*(){var s,u,d=i.getRoom(e);if(null!=d&&d.hasPendingEvent(r))throw new Error("Cannot set read marker to a pending event (".concat(r,")"));if(n){if(s=n.getId(),null!=d&&d.hasPendingEvent(s))throw new Error("Cannot set read receipt to a pending event (".concat(s,")"));null==d||d.addLocalEchoReceipt(i.credentials.userId,n,t(a[47]).ReceiptType.Read)}if(o){if(u=o.getId(),null!=d&&d.hasPendingEvent(u))throw new Error("Cannot set read receipt to a pending event (".concat(u,")"));null==d||d.addLocalEchoReceipt(i.credentials.userId,o,t(a[47]).ReceiptType.ReadPrivate)}return yield i.setRoomReadMarkersHttpRequest(e,r,s,u)})()}},{key:"sendRtcDecline",value:function(e,r){return this.sendEvent(e,t(a[42]).EventType.RTCDecline,{"m.relates_to":{event_id:r,rel_type:t(a[42]).RelationType.Reference}})}},{key:"getUrlPreview",value:function(e,r){r=6e4*Math.floor(r/6e4);var n=new URL(e);n.hash="";var o=r+"_"+(e=n.toString());if(o in this.urlPreviewCache)return this.urlPreviewCache[o];var i=this.http.authedRequest(t(a[22]).Method.Get,"/preview_url",{url:e,ts:r.toString()},void 0,{prefix:t(a[22]).MediaPrefix.V3,priority:"low"});return this.urlPreviewCache[o]=i,i}},{key:"sendTyping",value:function(e,r,n){if(this.isGuest())return Promise.resolve({});var o=E.encodeUri("/rooms/$roomId/typing/$userId",{$roomId:e,$userId:this.getUserId()}),i={typing:r};return r&&(i.timeout=n||2e4),this.http.authedRequest(t(a[22]).Method.Put,o,void 0,i)}},{key:"getRoomUpgradeHistory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getRoom(e);if(!n)return[];var o=this.findPredecessorRooms(n,t,r),i=this.findSuccessorRooms(n,t,r);return[].concat((0,l.default)(o),[n],(0,l.default)(i))}},{key:"findPredecessorRooms",value:function(e,r,n){for(var o,i=[],s=new Set([e.roomId]),u=null===(o=e.findPredecessor(n))||void 0===o?void 0:o.roomId;null!==u;){var d;if(u){if(s.has(u))break;s.add(u)}var l=this.getRoom(u);if(null===l)break;if(r){var c=l.currentState.getStateEvents(t(a[42]).EventType.RoomTombstone,"");if(!c||c.getContent().replacement_room!==e.roomId)break}i.splice(0,0,l),u=null===(d=(e=l).findPredecessor(n))||void 0===d?void 0:d.roomId}return i}},{key:"findSuccessorRooms",value:function(e,r,n){for(var o=[],i=e.currentState.getStateEvents(t(a[42]).EventType.RoomTombstone,"");i;){var s=this.getRoom(i.getContent().replacement_room);if(!s)break;if(s.roomId===e.roomId)break;if(r){var u,d=null===(u=s.findPredecessor(n))||void 0===u?void 0:u.roomId;if(!d||d!==e.roomId)break}if(o.push(s),new Set(o.map(function(e){return e.roomId})).size<o.length)return o.slice(0,o.length-1);i=(e=s).currentState.getStateEvents(t(a[42]).EventType.RoomTombstone,"")}return o}},{key:"invite",value:function(e,r){var n=arguments,o=this;return(0,m.default)(function*(){var i,s=n.length>2&&void 0!==n[2]?n[2]:{};("object"!=typeof s&&(s={reason:s}),s.shareEncryptedHistory)&&(yield null===(i=o.cryptoBackend)||void 0===i?void 0:i.shareRoomHistoryWithUser(e,r));return yield o.membershipChange(e,r,t(a[43]).KnownMembership.Invite,s.reason)})()}},{key:"inviteByEmail",value:function(e,t){return this.inviteByThreePid(e,"email",t)}},{key:"inviteByThreePid",value:function(e,r,n){var o=this;return(0,m.default)(function*(){var i,s=E.encodeUri("/rooms/$roomId/invite",{$roomId:e}),u=o.getIdentityServerUrl(!0);if(!u)return Promise.reject(new(t(a[22]).MatrixError)({error:"No supplied identity server URL",errcode:"ORG.MATRIX.JSSDK_MISSING_PARAM"}));var d={id_server:u,medium:r,address:n};if(null!==(i=o.identityServer)&&void 0!==i&&i.getAccessToken){var l=yield o.identityServer.getAccessToken();l&&(d.id_access_token=l)}return o.http.authedRequest(t(a[22]).Method.Post,s,void 0,d)})()}},{key:"leave",value:function(e){return this.membershipChange(e,void 0,t(a[43]).KnownMembership.Leave)}},{key:"leaveRoomChain",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getRoomUpgradeHistory(e,!0),o=n;if(!r)for(var i of(o=[],n))if(o.push(i),i.roomId===e)break;var a={},s=[],u=function(e){return t.leave(e).then(function(){delete a[e]}).catch(function(t){a[e]=t})};for(var d of o)s.push(u(d.roomId));return Promise.all(s).then(function(){return a})}},{key:"ban",value:function(e,r,n){return this.membershipChange(e,r,t(a[43]).KnownMembership.Ban,n)}},{key:"forget",value:function(e){var r=arguments,n=this;return(0,m.default)(function*(){var o=!(r.length>1&&void 0!==r[1])||r[1],i=E.encodeUri("/rooms/$room_id/forget",{$room_id:e}),s=yield n.http.authedRequest(t(a[22]).Method.Post,i);return o&&(n.store.removeRoom(e),n.emit($.DeleteRoom,e)),s})()}},{key:"unban",value:function(e,r){var n=E.encodeUri("/rooms/$roomId/unban",{$roomId:e}),o={user_id:r};return this.http.authedRequest(t(a[22]).Method.Post,n,void 0,o)}},{key:"kick",value:function(e,r,n){var o=E.encodeUri("/rooms/$roomId/kick",{$roomId:e}),i={user_id:r,reason:n};return this.http.authedRequest(t(a[22]).Method.Post,o,void 0,i)}},{key:"membershipChange",value:function(e,r,n,o){var i=E.encodeUri("/rooms/$room_id/$membership",{$room_id:e,$membership:n});return this.http.authedRequest(t(a[22]).Method.Post,i,void 0,{user_id:r,reason:o})}},{key:"getPushActionsForEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.getPushActions()||t){var r=this.pushProcessor.actionsAndRuleForEvent(e),n=r.actions,o=r.rule;e.setPushDetails(n,o)}return e.getPushActions()}},{key:"getPushDetailsForEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.getPushDetails()||t){var r=this.pushProcessor.actionsAndRuleForEvent(e),n=r.actions,o=r.rule;e.setPushDetails(n,o)}return e.getPushDetails()}},{key:"setProfileInfo",value:function(e,r){var n=E.encodeUri("/profile/$userId/$info",{$userId:this.credentials.userId,$info:e});return this.http.authedRequest(t(a[22]).Method.Put,n,void 0,r)}},{key:"setDisplayName",value:function(e){var r=this;return(0,m.default)(function*(){var n=yield r.setProfileInfo("displayname",{displayname:e}),o=r.getUser(r.getUserId());return o&&(o.displayName=e,o.emit(t(a[31]).UserEvent.DisplayName,o.events.presence,o)),n})()}},{key:"setAvatarUrl",value:function(e){var r=this;return(0,m.default)(function*(){var n=yield r.setProfileInfo("avatar_url",{avatar_url:e}),o=r.getUser(r.getUserId());return o&&(o.avatarUrl=e,o.emit(t(a[31]).UserEvent.AvatarUrl,o.events.presence,o)),n})()}},{key:"mxcUrlToHttp",value:function(e,r,n,o,i,s,u){return(0,t(a[48]).getHttpUriForMxc)(this.baseUrl,e,r,n,o,i,s,u)}},{key:"setSyncPresence",value:function(e){var t=this;return(0,m.default)(function*(){var r;null===(r=t.syncApi)||void 0===r||r.setPresence(e)})()}},{key:"setPresence",value:function(e){var r=this;return(0,m.default)(function*(){var n=E.encodeUri("/presence/$userId/status",{$userId:r.credentials.userId});if(-1===["offline","online","unavailable"].indexOf(e.presence))throw new Error("Bad presence value: "+e.presence);yield r.http.authedRequest(t(a[22]).Method.Put,n,void 0,e)})()}},{key:"getPresence",value:function(e){var r=E.encodeUri("/presence/$userId/status",{$userId:e});return this.http.authedRequest(t(a[22]).Method.Get,r)}},{key:"scrollback",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,o=0,i=this.ongoingScrollbacks[e.roomId]||{};if(i.promise)return i.promise;if(i.errorTs){var s=Date.now()-i.errorTs;o=Math.max(3e3-s,0)}if(null===e.oldState.paginationToken)return Promise.resolve(e);var u=this.store.scrollback(e,n).length;if(u===n)return Promise.resolve(e);n-=u;var l=new Promise(function(i,s){(0,g.sleep)(o).then(function(){return r.createMessagesRequest(e.roomId,e.oldState.paginationToken,n,t(a[49]).Direction.Backward)}).then(function(t){var n,o,a=t.chunk.map(r.getEventMapper());if(t.state){var s=t.state.map(r.getEventMapper());e.currentState.setUnknownStateEvents(s)}var u=e.partitionThreadedEvents(a),l=(0,d.default)(u,3),c=l[0],v=l[1],h=l[2];r.processAggregatedTimelineEvents(e,c),e.addEventsToTimeline(c,!0,!0,e.getLiveTimeline()),r.processThreadEvents(e,v,!0),h.forEach(function(t){return e.relations.aggregateChildEvent(t)}),e.oldState.paginationToken=null!==(n=t.end)&&void 0!==n?n:null,0===t.chunk.length&&(e.oldState.paginationToken=null),r.store.storeEvents(e,a,null!==(o=t.end)&&void 0!==o?o:null,!0),delete r.ongoingScrollbacks[e.roomId],i(e)}).catch(function(t){r.ongoingScrollbacks[e.roomId]={errorTs:Date.now()},s(t)})});return i={promise:l},this.ongoingScrollbacks[e.roomId]=i,l}},{key:"getEventMapper",value:function(e){return(0,t(a[50]).eventMapperFor)(this,e||{})}},{key:"getEventContext",value:function(e,r){var n=this;return(0,m.default)(function*(){var o,i=E.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:e,$eventId:r}),s={limit:"0"};null!==(o=n.clientOpts)&&void 0!==o&&o.lazyLoadMembers&&(s.filter=JSON.stringify(t(a[51]).Filter.LAZY_LOADING_MESSAGES_FILTER));var u,d,l,c=yield n.http.authedRequest(t(a[22]).Method.Get,i,s);if(c.event)return{start:c.start,end:c.end,event:c.event,events_after:null!==(u=c.events_after)&&void 0!==u?u:[],events_before:null!==(d=c.events_before)&&void 0!==d?d:[],state:null!==(l=c.state)&&void 0!==l?l:[]};throw new Error("'event' not in '/context' result - homeserver too old?")})()}},{key:"getEventTimeline",value:function(e,r){var n=this;return(0,m.default)(function*(){var o,i,s,u;if(!n.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(null==e||!e.room)throw new Error("getEventTimeline only supports room timelines");if(e.getTimelineForEvent(r))return e.getTimelineForEvent(r);if(e.thread&&n.supportsThreads())return null!==(u=yield n.getThreadTimeline(e,r))&&void 0!==u?u:null;var c=yield n.getEventContext(e.room.roomId,r);if(e.getTimelineForEvent(r))return e.getTimelineForEvent(r);var v=n.getEventMapper(),h=v(c.event);if(h.isRelation(t(a[32]).THREAD_RELATION_TYPE.name))return n.logger.warn("Tried loading a regular timeline at the position of a thread event"),null;var p,f=[].concat((0,l.default)(c.events_after.reverse().map(v)),[h],(0,l.default)(c.events_before.map(v))),y=e.getTimelineForEvent(f[0].getId());y?y.getState(t(a[49]).EventTimeline.BACKWARDS).setUnknownStateEvents(c.state.map(v)):((y=e.addTimeline()).initialiseState(c.state.map(v)),y.getState(t(a[49]).EventTimeline.FORWARDS).paginationToken=null!==(p=c.end)&&void 0!==p?p:null);var m=e.room.partitionThreadedEvents(f),g=(0,d.default)(m,3),E=g[0],S=g[1],k=g[2];return e.addEventsToTimeline(E,!0,!1,y,c.start),n.processThreadEvents(e.room,S,!0),n.processAggregatedTimelineEvents(e.room,E),k.forEach(function(t){return e.relations.aggregateChildEvent(t)}),null!==(o=null!==(i=e.getTimelineForEvent(r))&&void 0!==i?i:null===(s=e.room.findThreadForEvent(h))||void 0===s?void 0:s.liveTimeline)&&void 0!==o?o:y})()}},{key:"getThreadTimeline",value:function(e,r){var n=this;return(0,m.default)(function*(){if(!n.supportsThreads())throw new Error("could not get thread timeline: no client support");if(!e.room)throw new Error("could not get thread timeline: not a room timeline");if(!e.thread)throw new Error("could not get thread timeline: not a thread timeline");var o=yield n.getEventContext(e.room.roomId,r),i=n.getEventMapper(),s=i(o.event);if(e.canContain(s)){var u=n.canSupport.get(t(a[41]).Feature.RelationsRecursion)!==t(a[41]).ServerSupport.Unsupported;if(t(a[32]).Thread.hasServerSideSupport){if(t(a[32]).Thread.hasServerSideFwdPaginationSupport){var d,c,v;if(!e.thread)throw new Error("could not get thread timeline: not a thread timeline");var h=e.thread,p=yield n.fetchRelations(e.room.roomId,h.id,null,null,{dir:t(a[49]).Direction.Backward,from:o.start,recurse:u||void 0}),f=yield n.fetchRelations(e.room.roomId,h.id,null,null,{dir:t(a[49]).Direction.Forward,from:o.end,recurse:u||void 0}),y=[].concat((0,l.default)(f.chunk.reverse().filter((0,t(a[52]).getRelationsThreadFilter)(h.id)).map(i)),[s],(0,l.default)(p.chunk.filter((0,t(a[52]).getRelationsThreadFilter)(h.id)).map(i)));for(var m of y){var g;yield null===(g=e.thread)||void 0===g?void 0:g.processEvent(m)}var E=e.getTimelineForEvent(s.getId());if(E?E.getState(t(a[49]).EventTimeline.BACKWARDS).setUnknownStateEvents(o.state.map(i)):(E=e.addTimeline()).initialiseState(o.state.map(i)),e.addEventsToTimeline(y,!0,!1,E,f.next_batch),!p.next_batch){var S=yield n.fetchRoomEvent(e.room.roomId,h.id);e.addEventsToTimeline([i(S)],!0,!1,E,null)}return E.setPaginationToken(null!==(d=p.next_batch)&&void 0!==d?d:null,t(a[49]).Direction.Backward),E.setPaginationToken(null!==(c=f.next_batch)&&void 0!==c?c:null,t(a[49]).Direction.Forward),n.processAggregatedTimelineEvents(e.room,y),null!==(v=e.getTimelineForEvent(r))&&void 0!==v?v:E}for(var k,R=e.thread,I=yield n.fetchRelations(e.room.roomId,R.id,t(a[32]).THREAD_RELATION_TYPE.name,null,{dir:t(a[49]).Direction.Backward,from:o.start,recurse:u||void 0}),T=[],_=o.end;_;){var P=yield n.fetchRelations(e.room.roomId,R.id,t(a[32]).THREAD_RELATION_TYPE.name,null,{dir:t(a[49]).Direction.Forward,from:_,recurse:u||void 0});_=P.next_batch,T.push.apply(T,(0,l.default)(P.chunk))}var b=[].concat((0,l.default)(T.reverse().map(i)),[s],(0,l.default)(I.chunk.map(i)));for(var U of b){var M;yield null===(M=e.thread)||void 0===M?void 0:M.processEvent(U)}var w=e.getLiveTimeline();if(w.getState(t(a[49]).EventTimeline.BACKWARDS).setUnknownStateEvents(o.state.map(i)),e.addEventsToTimeline(b,!0,!1,w,null),!I.next_batch){var C=yield n.fetchRoomEvent(e.room.roomId,R.id);e.addEventsToTimeline([i(C)],!0,!1,w,null)}return w.setPaginationToken(null!==(k=I.next_batch)&&void 0!==k?k:null,t(a[49]).Direction.Backward),w.setPaginationToken(null,t(a[49]).Direction.Forward),n.processAggregatedTimelineEvents(e.room,b),w}}})()}},{key:"getLatestTimeline",value:function(e){var r=this;return(0,m.default)(function*(){if(!r.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(!e.room)throw new Error("getLatestTimeline only supports room timelines");var n,o;if(null!==e.threadListType)n=null===(o=(yield r.createThreadListMessagesRequest(e.room.roomId,null,1,t(a[49]).Direction.Backward,e.threadListType,e.getFilter())).chunk)||void 0===o?void 0:o[0];else if(e.thread&&t(a[32]).Thread.hasServerSideSupport){var i,s=r.canSupport.get(t(a[41]).Feature.RelationsRecursion)!==t(a[41]).ServerSupport.Unsupported;n=null===(i=(yield r.fetchRelations(e.room.roomId,e.thread.id,t(a[32]).THREAD_RELATION_TYPE.name,null,{dir:t(a[49]).Direction.Backward,limit:1,recurse:s||void 0})).chunk)||void 0===i?void 0:i[0]}else{var u,d,l=E.encodeUri("/rooms/$roomId/messages",{$roomId:e.room.roomId}),c={dir:"b"};null!==(u=r.clientOpts)&&void 0!==u&&u.lazyLoadMembers&&(c.filter=JSON.stringify(t(a[51]).Filter.LAZY_LOADING_MESSAGES_FILTER)),n=null===(d=(yield r.http.authedRequest(t(a[22]).Method.Get,l,c)).chunk)||void 0===d?void 0:d[0]}if(!n)throw new Error("No message returned when trying to construct getLatestTimeline");return r.getEventTimeline(e,n.event_id)})()}},{key:"createMessagesRequest",value:function(e,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=E.encodeUri("/rooms/$roomId/messages",{$roomId:e}),d={limit:o.toString(),dir:i};r&&(d.from=r);var l,c=null;(null!==(n=this.clientOpts)&&void 0!==n&&n.lazyLoadMembers&&(c=Object.assign({},t(a[51]).Filter.LAZY_LOADING_MESSAGES_FILTER)),s)&&(c=c||{},Object.assign(c,null===(l=s.getRoomTimelineFilterComponent())||void 0===l?void 0:l.toJSON()));return c&&(d.filter=JSON.stringify(c)),this.http.authedRequest(t(a[22]).Method.Get,u,d)}},{key:"createThreadListMessagesRequest",value:function(e,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t(a[49]).Direction.Backward,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t(a[32]).ThreadFilterType.All,u=arguments.length>5?arguments[5]:void 0,d=E.encodeUri("/rooms/$roomId/threads",{$roomId:e}),l={limit:o.toString(),dir:i,include:(0,t(a[32]).threadFilterTypeToFilter)(s)};r&&(l.from=r);var c,v={};(null!==(n=this.clientOpts)&&void 0!==n&&n.lazyLoadMembers&&(v=_({},t(a[51]).Filter.LAZY_LOADING_MESSAGES_FILTER)),u)&&(v=_(_({},v),null===(c=u.getRoomTimelineFilterComponent())||void 0===c?void 0:c.toJSON()));Object.keys(v).length&&(l.filter=JSON.stringify(v));var h={prefix:t(a[32]).Thread.hasServerSideListSupport===t(a[32]).FeatureSupport.Stable?t(a[22]).ClientPrefix.V1:"/_matrix/client/unstable/org.matrix.msc3856"};return this.http.authedRequest(t(a[22]).Method.Get,d,l,void 0,h).then(function(e){var t;return _(_({},e),{},{chunk:null===(t=e.chunk)||void 0===t?void 0:t.reverse(),start:e.prev_batch,end:e.next_batch})})}},{key:"paginateEventTimeline",value:function(e,r){var n=this,o=this,i=e.getTimelineSet()===this.notifTimelineSet,s=this.getRoom(e.getRoomId()),u=e.getTimelineSet().threadListType,l=e.getTimelineSet().thread,c=(r=r||{}).backwards||!1;if(i&&!c)throw new Error("paginateNotifTimeline can only paginate backwards");var v,h,p,f=c?t(a[49]).EventTimeline.BACKWARDS:t(a[49]).EventTimeline.FORWARDS,y=e.getPaginationToken(f),E=e.paginationRequests[f];if(E)return E;if(i)v={limit:(null!==(p=r.limit)&&void 0!==p?p:30).toString(),only:"highlight"},y&&"end"!==y&&(v.from=y),h=this.http.authedRequest(t(a[22]).Method.Get,"/notifications",v).then((function(){var t=(0,m.default)(function*(t){var r=t.next_token,n=[];t.notifications=t.notifications.filter(g.noUnsafeEventProps);for(var i=0;i<t.notifications.length;i++){var a=t.notifications[i],s=o.getEventMapper()(a.event);o.getPushDetailsForEvent(s,!0),s.event.room_id=a.room_id,n[i]=s}var u=e.getTimelineSet();return u.addEventsToTimeline(n,c,!1,e,r),o.processAggregatedTimelineEvents(u.room,n),c&&!t.next_token&&e.setPaginationToken(null,f),Boolean(t.next_token)});return function(e){return t.apply(this,arguments)}})()).finally(function(){e.paginationRequests[f]=null}),e.paginationRequests[f]=h;else if(null!==u){if(!s)throw new Error("Unknown room "+e.getRoomId());if(!t(a[32]).Thread.hasServerSideFwdPaginationSupport&&f===t(a[49]).Direction.Forward)throw new Error("Cannot paginate threads forwards without server-side support for MSC 3715");h=this.createThreadListMessagesRequest(e.getRoomId(),y,r.limit,f,u,e.getFilter()).then(function(t){if(t.state){var r=e.getState(f),o=t.state.filter(g.noUnsafeEventProps).map(n.getEventMapper());r.setUnknownStateEvents(o)}var i=t.end,a=t.chunk.filter(g.noUnsafeEventProps).map(n.getEventMapper());return e.getTimelineSet().addEventsToTimeline(a,c,!1,e,i),n.processAggregatedTimelineEvents(s,a),n.processThreadRoots(s,a,c),c&&t.end==t.start&&e.setPaginationToken(null,f),t.end!==t.start}).finally(function(){e.paginationRequests[f]=null}),e.paginationRequests[f]=h}else if(l){var S,k,R=this.getRoom(null!==(S=e.getRoomId())&&void 0!==S?S:void 0);if(!R)throw new Error("Unknown room "+e.getRoomId());var I=this.canSupport.get(t(a[41]).Feature.RelationsRecursion)!==t(a[41]).ServerSupport.Unsupported;h=this.fetchRelations(null!==(k=e.getRoomId())&&void 0!==k?k:"",l.id,null,null,{dir:f,limit:r.limit,from:null!=y?y:void 0,recurse:I||void 0}).then((function(){var r=(0,m.default)(function*(r){var n=o.getEventMapper(),i=r.chunk.filter(g.noUnsafeEventProps).filter((0,t(a[52]).getRelationsThreadFilter)(l.id)).map(n);for(var s of i.slice().reverse()){yield null==l?void 0:l.processEvent(s);var u=s.getSender();c&&null!==(null==l?void 0:l.getEventReadUpTo(u))||R.addLocalEchoReceipt(u,s,t(a[47]).ReceiptType.Read)}var d=r.next_batch,v=e.getTimelineSet();if(v.addEventsToTimeline(i,c,!1,e,null!=d?d:null),!d&&c){var h,p,y=null!==(h=l.rootEvent)&&void 0!==h?h:n(yield o.fetchRoomEvent(null!==(p=e.getRoomId())&&void 0!==p?p:"",l.id));v.addEventsToTimeline([y],!0,!1,e,null)}return o.processAggregatedTimelineEvents(v.room,i),c&&!d&&e.setPaginationToken(null,f),Boolean(d)});return function(e){return r.apply(this,arguments)}})()).finally(function(){e.paginationRequests[f]=null}),e.paginationRequests[f]=h}else{if(!s)throw new Error("Unknown room "+e.getRoomId());h=this.createMessagesRequest(e.getRoomId(),y,r.limit,f,e.getFilter()).then(function(r){if(r.state){var o=e.getState(f),i=r.state.filter(g.noUnsafeEventProps).map(n.getEventMapper());o.setUnknownStateEvents(i)}var u=r.end,l=r.chunk.filter(g.noUnsafeEventProps).map(n.getEventMapper()),v=e.getTimelineSet(),h=s.partitionThreadedEvents(l),p=(0,d.default)(h,3),y=p[0],m=p[2];v.addEventsToTimeline(y,c,!1,e,u),n.processAggregatedTimelineEvents(s,y),n.processThreadRoots(s,y.filter(function(e){return e.getServerAggregatedRelation(t(a[32]).THREAD_RELATION_TYPE.name)}),!1),m.forEach(function(e){return s.relations.aggregateChildEvent(e)});var E=void 0===r.end||r.end===r.start;return c&&E&&e.setPaginationToken(null,f),!E}).finally(function(){e.paginationRequests[f]=null}),e.paginationRequests[f]=h}return h}},{key:"resetNotifTimelineSet",value:function(){this.notifTimelineSet&&this.notifTimelineSet.resetLiveTimeline("end")}},{key:"peekInRoom",value:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return null===(r=this.peekSync)||void 0===r||r.stopPeeking(),this.peekSync=new(t(a[34]).SyncApi)(this,this.clientOpts,this.buildSyncApiOptions()),this.peekSync.peek(e,n)}},{key:"stopPeeking",value:function(){this.peekSync&&(this.peekSync.stopPeeking(),this.peekSync=null)}},{key:"setGuestAccess",value:function(e,r){var n=this.sendStateEvent(e,t(a[42]).EventType.RoomGuestAccess,{guest_access:r.allowJoin?t(a[53]).GuestAccess.CanJoin:t(a[53]).GuestAccess.Forbidden},""),o=Promise.resolve();return r.allowRead&&(o=this.sendStateEvent(e,t(a[42]).EventType.RoomHistoryVisibility,{history_visibility:t(a[53]).HistoryVisibility.WorldReadable},"")),Promise.all([o,n]).then()}},{key:"requestRegisterEmailToken",value:function(e,t,r,n){return this.requestTokenFromEndpoint("/register/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})}},{key:"requestRegisterMsisdnToken",value:function(e,t,r,n,o){return this.requestTokenFromEndpoint("/register/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:o})}},{key:"requestAdd3pidEmailToken",value:function(e,t,r,n){return this.requestTokenFromEndpoint("/account/3pid/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})}},{key:"requestAdd3pidMsisdnToken",value:function(e,t,r,n,o){return this.requestTokenFromEndpoint("/account/3pid/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:o})}},{key:"requestPasswordEmailToken",value:function(e,t,r,n){return this.requestTokenFromEndpoint("/account/password/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})}},{key:"requestPasswordMsisdnToken",value:function(e,t,r,n,o){return this.requestTokenFromEndpoint("/account/password/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:o})}},{key:"requestTokenFromEndpoint",value:function(e,r){var n=this;return(0,m.default)(function*(){var o=Object.assign({},r);return n.http.request(t(a[22]).Method.Post,e,void 0,o)})()}},{key:"getRoomPushRule",value:function(e,t){var r;if(this.pushRules)return null===(r=this.pushRules[e])||void 0===r||null===(r=r.room)||void 0===r?void 0:r.find(function(e){return e.rule_id===t});throw new Error("SyncApi.sync() must be done before accessing to push rules.")}},{key:"setRoomMutePushRule",value:function(e,r,n){var o,i=this,s=!1,u=this.getRoomPushRule(e,r);if(null!=u&&u.actions.includes(t(a[54]).PushRuleActionName.DontNotify)&&(s=!0),n)if(u){if(!s){var d=Promise.withResolvers();this.deletePushRule(e,t(a[54]).PushRuleKind.RoomSpecific,u.rule_id).then(function(){i.addPushRule(e,t(a[54]).PushRuleKind.RoomSpecific,r,{actions:[t(a[54]).PushRuleActionName.DontNotify]}).then(function(){d.resolve()}).catch(function(e){d.reject(e)})}).catch(function(e){d.reject(e)}),o=d.promise}}else o=this.addPushRule(e,t(a[54]).PushRuleKind.RoomSpecific,r,{actions:[t(a[54]).PushRuleActionName.DontNotify]});else s&&(o=this.deletePushRule(e,t(a[54]).PushRuleKind.RoomSpecific,u.rule_id));if(o)return new Promise(function(e,t){o.then(function(){i.getPushRules().then(function(t){i.pushRules=t,e()}).catch(function(e){t(e)})}).catch(function(e){i.getPushRules().then(function(r){i.pushRules=r,t(e)}).catch(function(r){t(e)})})})}},{key:"searchMessageText",value:function(e){var t={search_term:e.query};return"keys"in e&&(t.keys=e.keys),this.search({body:{search_categories:{room_events:t}}})}},{key:"searchRoomEvents",value:function(e){var r=this,n={search_categories:{room_events:{search_term:e.term,filter:e.filter,order_by:t(a[55]).SearchOrderBy.Recent,event_context:{before_limit:1,after_limit:1,include_profile:!0}}}},o={_query:n,results:[],highlights:[]};return this.search({body:n}).then(function(e){return r.processRoomEventsSearch(o,e)})}},{key:"backPaginateRoomEventsSearch",value:function(e){var t=this;if(!e.next_batch)return Promise.reject(new Error("Cannot backpaginate event search any further"));if(e.pendingRequest)return e.pendingRequest;var r={body:e._query,next_batch:e.next_batch},n=this.search(r,e.abortSignal).then(function(r){return t.processRoomEventsSearch(e,r)}).finally(function(){e.pendingRequest=void 0});return e.pendingRequest=n,n}},{key:"processRoomEventsSearch",value:function(e,r){var n,o,i=r.search_categories.room_events;e.count=i.count,e.next_batch=i.next_batch;var s=new Set(i.highlights);e.highlights.forEach(function(e){s.add(e)}),e.highlights=Array.from(s);for(var u=this.getEventMapper(),d=null!==(n=null===(o=i.results)||void 0===o?void 0:o.length)&&void 0!==n?n:0,l=0;l<d;l++){var c=t(a[56]).SearchResult.fromJson(i.results[l],u),v=this.getRoom(c.context.getEvent().getRoomId());if(v)for(var h of c.context.getTimeline())h.setMetadata(v.currentState,!1);e.results.push(c)}return e}},{key:"syncLeftRooms",value:function(){var e=this;if(this.syncedLeftRooms)return Promise.resolve([]);if(this.syncLeftRoomsPromise)return this.syncLeftRoomsPromise;var r=new(t(a[34]).SyncApi)(this,this.clientOpts,this.buildSyncApiOptions());return this.syncLeftRoomsPromise=r.syncLeftRooms(),this.syncLeftRoomsPromise.then(function(){e.logger.debug("Marking success of sync left room request"),e.syncedLeftRooms=!0}).finally(function(){e.syncLeftRoomsPromise=void 0}),this.syncLeftRoomsPromise}},{key:"createFilter",value:function(e){var r=this,n=E.encodeUri("/user/$userId/filter",{$userId:this.credentials.userId});return this.http.authedRequest(t(a[22]).Method.Post,n,void 0,e).then(function(n){var o=t(a[51]).Filter.fromJson(r.credentials.userId,n.filter_id,e);return r.store.storeFilter(o),o})}},{key:"getFilter",value:function(e,r,n){var o=this;if(n){var i=this.store.getFilter(e,r);if(i)return Promise.resolve(i)}var s=E.encodeUri("/user/$userId/filter/$filterId",{$userId:e,$filterId:r});return this.http.authedRequest(t(a[22]).Method.Get,s).then(function(n){var i=t(a[51]).Filter.fromJson(e,r,n);return o.store.storeFilter(i),i})}},{key:"getOrCreateFilter",value:function(e,t){var r=this;return(0,m.default)(function*(){var n,o=r.store.getFilterIdByName(e);if(o){try{var i=yield r.getFilter(r.credentials.userId,o,!0);if(i){var a=i.getDefinition(),s=t.getDefinition();E.deepCompare(a,s)&&(n=o)}}catch(e){if("M_UNKNOWN"!==e.errcode&&"M_NOT_FOUND"!==e.errcode)throw e}n||r.store.setFilterIdByName(e,void 0)}if(n)return n;var u=yield r.createFilter(t.getDefinition());return r.store.setFilterIdByName(e,u.filterId),u.filterId})()}},{key:"getOpenIdToken",value:function(){var e=E.encodeUri("/user/$userId/openid/request_token",{$userId:this.credentials.userId});return this.http.authedRequest(t(a[22]).Method.Post,e,void 0,{})}},{key:"turnServer",value:function(){return this.http.authedRequest(t(a[22]).Method.Get,"/voip/turnServer")}},{key:"getTurnServers",value:function(){return this.turnServers||[]}},{key:"getTurnServersExpiry",value:function(){return this.turnServersExpiry}},{key:"pollingTurnServers",get:function(){return void 0!==this.checkTurnServersIntervalID}},{key:"checkTurnServers",value:function(){var e=this;return(0,m.default)(function*(){if(e.supportsVoip()){var t=!1,r=e.turnServersExpiry-Date.now();if(r>P)e.logger.debug("TURN creds are valid for another "+r+" ms: not fetching new ones."),t=!0;else{e.logger.debug("Fetching new TURN credentials");try{var n=yield e.turnServer();if(n.uris){e.logger.debug("Got TURN URIs: "+n.uris+" refresh in "+n.ttl+" secs");var o={urls:n.uris,username:n.username,credential:n.password};e.turnServers=[o],e.turnServersExpiry=Date.now()+1e3*n.ttl,t=!0,e.emit($.TurnServers,e.turnServers)}}catch(t){e.logger.error("Failed to get TURN URIs",t),403===t.httpStatus?(e.logger.info("TURN access unavailable for this account: stopping credentials checks"),null!==e.checkTurnServersIntervalID&&globalThis.clearInterval(e.checkTurnServersIntervalID),e.checkTurnServersIntervalID=void 0,e.emit($.TurnServersError,t,!0)):e.emit($.TurnServersError,t,!1)}}return t}})()}},{key:"setFallbackICEServerAllowed",value:function(e){this.fallbackICEServerAllowed=e}},{key:"isFallbackICEServerAllowed",value:function(){return this.fallbackICEServerAllowed}},{key:"isSynapseAdministrator",value:function(){var e=E.encodeUri("/_synapse/admin/v1/users/$userId/admin",{$userId:this.getUserId()});return this.http.authedRequest(t(a[22]).Method.Get,e,void 0,void 0,{prefix:""}).then(function(e){return e.admin})}},{key:"whoisSynapseUser",value:function(e){var r=E.encodeUri("/_synapse/admin/v1/whois/$userId",{$userId:e});return this.http.authedRequest(t(a[22]).Method.Get,r,void 0,void 0,{prefix:""})}},{key:"deactivateSynapseUser",value:function(e){var r=E.encodeUri("/_synapse/admin/v1/deactivate/$userId",{$userId:e});return this.http.authedRequest(t(a[22]).Method.Post,r,void 0,void 0,{prefix:""})}},{key:"fetchClientWellKnown",value:function(){var e=this;return(0,m.default)(function*(){var r;e.clientWellKnownPromise=t(a[57]).AutoDiscovery.getRawClientConfig(null!==(r=e.getDomain())&&void 0!==r?r:void 0),e.clientWellKnown=yield e.clientWellKnownPromise,e.emit($.ClientWellKnown,e.clientWellKnown)})()}},{key:"getClientWellKnown",value:function(){return this.clientWellKnown}},{key:"waitForClientWellKnown",value:function(){if(!this.clientRunning)throw new Error("Client is not running");return this.clientWellKnownPromise}},{key:"storeClientOptions",value:function(){var e=["boolean","string","number"],t=Object.entries(this.clientOpts).filter(function(t){var r=(0,d.default)(t,2),n=(r[0],r[1]);return e.includes(typeof n)}).reduce(function(e,t){var r=(0,d.default)(t,2),n=r[0],o=r[1];return e[n]=o,e},{});return this.store.storeClientOptions(t)}},{key:"_unstable_getSharedRooms",value:function(e){var r=this;return(0,m.default)(function*(){var n,o,i=yield r.doesServerSupportUnstableFeature(b),s=yield r.doesServerSupportUnstableFeature(U),u=yield r.doesServerSupportUnstableFeature(M);if(!i&&!s&&!u)throw Error("Server does not support the Mutual Rooms API");u?(n="/uk.half-shot.msc2666/user/mutual_rooms",o={user_id:e}):(n=E.encodeUri("/uk.half-shot.msc2666/user/".concat(s?"mutual_rooms":"shared_rooms","/$userId"),{$userId:e}),o={});var d=[],c=null;do{var v={};null!=c&&u&&(v.batch_token=c);var h=yield r.http.authedRequest(t(a[22]).Method.Get,n,_(_({},o),v),void 0,{prefix:t(a[22]).ClientPrefix.Unstable});d.push.apply(d,(0,l.default)(h.joined)),c=void 0!==h.next_batch_token?h.next_batch_token:null}while(null!=c);return d})()}},{key:"_unstable_getRTCTransports",value:function(){var e=this;return(0,m.default)(function*(){return(yield e.http.authedRequest(t(a[22]).Method.Get,"/rtc/transports",void 0,void 0,{prefix:"".concat(t(a[22]).ClientPrefix.Unstable,"/org.matrix.msc4143")})).rtc_transports})()}},{key:"getVersions",value:function(){var e=this;return(0,m.default)(function*(){if(e.serverVersionsPromise)return e.serverVersionsPromise;e.serverVersionsPromise=e.http.authedRequest(t(a[22]).Method.Get,"/_matrix/client/versions",void 0,void 0,{prefix:""}).catch(function(t){throw e.serverVersionsPromise=void 0,t});var r=yield e.serverVersionsPromise;return e.canSupport=yield(0,t(a[41]).buildFeatureSupportMap)(r),e.serverVersionsPromise})()}},{key:"isVersionSupported",value:function(e){var t=this;return(0,m.default)(function*(){var r=(yield t.getVersions()).versions;return r&&r.includes(e)})()}},{key:"doesServerSupportUnstableFeature",value:function(e){var t=this;return(0,m.default)(function*(){var r=yield t.getVersions();if(!r)return!1;var n=r.unstable_features;return n&&!!n[e]})()}},{key:"doesServerForceEncryptionForPreset",value:function(e){var t=this;return(0,m.default)(function*(){var r=yield t.getVersions();if(!r)return!1;var n=r.unstable_features,o=e.includes("_chat")?e.substring(0,e.indexOf("_chat")):e;return n&&!!n["io.element.e2ee_forced.".concat(o)]})()}},{key:"doesServerSupportThread",value:function(){var e=this;return(0,m.default)(function*(){if(yield e.isVersionSupported("v1.4"))return{threads:t(a[32]).FeatureSupport.Stable,list:t(a[32]).FeatureSupport.Stable,fwdPagination:t(a[32]).FeatureSupport.Stable};try{var r=yield Promise.all([e.doesServerSupportUnstableFeature("org.matrix.msc3440"),e.doesServerSupportUnstableFeature("org.matrix.msc3440.stable"),e.doesServerSupportUnstableFeature("org.matrix.msc3856"),e.doesServerSupportUnstableFeature("org.matrix.msc3856.stable"),e.doesServerSupportUnstableFeature("org.matrix.msc3715"),e.doesServerSupportUnstableFeature("org.matrix.msc3715.stable")]),n=(0,d.default)(r,6),o=n[0],i=n[1],s=n[2],u=n[3],l=n[4],c=n[5];return{threads:(0,t(a[32]).determineFeatureSupport)(i,o),list:(0,t(a[32]).determineFeatureSupport)(u,s),fwdPagination:(0,t(a[32]).determineFeatureSupport)(c,l)}}catch(e){return{threads:t(a[32]).FeatureSupport.None,list:t(a[32]).FeatureSupport.None,fwdPagination:t(a[32]).FeatureSupport.None}}})()}},{key:"hasLazyLoadMembersEnabled",value:function(){var e;return!(null===(e=this.clientOpts)||void 0===e||!e.lazyLoadMembers)}},{key:"setCanResetTimelineCallback",value:function(e){this.canResetTimelineCallback=e}},{key:"getCanResetTimelineCallback",value:function(){return this.canResetTimelineCallback}},{key:"relations",value:function(e,r,n,o){var i=arguments,s=this;return(0,m.default)(function*(){var u,l,c=i.length>4&&void 0!==i[4]?i[4]:{dir:t(a[49]).Direction.Backward},v=o?s.getEncryptedIfNeededEventType(e,o):null,h=yield Promise.all([s.fetchRoomEvent(e,r),s.fetchRelations(e,r,n,v,c)]),p=(0,d.default)(h,2),f=p[0],y=p[1],m=s.getEventMapper(),g=f?m(f):void 0,E=y.chunk.map(m);if(v===t(a[42]).EventType.RoomMessageEncrypted){var S=g?E.concat(g):E;yield Promise.all(S.map(function(e){return s.decryptEventIfNeeded(e)})),null!==o&&(E=E.filter(function(e){return e.getType()===o}))}return g&&n===t(a[42]).RelationType.Replace&&(E=E.filter(function(e){return e.getSender()===g.getSender()})),{originalEvent:null!=g?g:null,events:E,nextBatch:null!==(u=y.next_batch)&&void 0!==u?u:null,prevBatch:null!==(l=y.prev_batch)&&void 0!==l?l:null}})()}},{key:"generateClientSecret",value:function(){return(0,t(a[21]).secureRandomString)(32)}},{key:"decryptEventIfNeeded",value:function(e,t){return e.isState()&&!this.enableEncryptedStateEvents?Promise.resolve():(e.shouldAttemptDecryption()&&this.getCrypto()&&e.attemptDecryption(this.cryptoBackend,t),e.isBeingDecrypted()?e.getDecryptionPromise():Promise.resolve())}},{key:"termsUrlForService",value:function(e,r){switch(e){case t(a[58]).SERVICE_TYPES.IS:return this.http.getUrl("/terms",void 0,t(a[22]).IdentityPrefix.V2,r);case t(a[58]).SERVICE_TYPES.IM:return this.http.getUrl("/terms",void 0,"/_matrix/integrations/v1",r);default:throw new Error("Unsupported service type")}}},{key:"getHomeserverUrl",value:function(){return this.baseUrl}},{key:"getIdentityServerUrl",value:function(){var e,t;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(null!==(e=this.idBaseUrl)&&void 0!==e&&e.startsWith("http://")||null!==(t=this.idBaseUrl)&&void 0!==t&&t.startsWith("https://"))?this.idBaseUrl.split("://")[1]:this.idBaseUrl}},{key:"setIdentityServerUrl",value:function(e){this.idBaseUrl=E.ensureNoTrailingSlash(e),this.http.setIdBaseUrl(this.idBaseUrl)}},{key:"getAccessToken",value:function(){return this.http.opts.accessToken||null}},{key:"getRefreshToken",value:function(){var e;return null!==(e=this.http.opts.refreshToken)&&void 0!==e?e:null}},{key:"setAccessToken",value:function(e){this.http.opts.accessToken=e,this.serverVersionsPromise=void 0}},{key:"isLoggedIn",value:function(){return void 0!==this.http.opts.accessToken}},{key:"makeTxnId",value:function(){return"m"+(new Date).getTime()+"."+this.txnCtr++}},{key:"isUsernameAvailable",value:function(e){return this.http.authedRequest(t(a[22]).Method.Get,"/register/available",{username:e}).then(function(e){return e.available}).catch(function(e){return"M_USER_IN_USE"!==e.errcode&&Promise.reject(e)})}},{key:"register",value:function(e,t,r,n,o,i,a){r&&(n.session=r);var s={auth:n,refresh_token:!0};return null!=e&&(s.username=e),null!=t&&(s.password=t),null!=i&&(s.guest_access_token=i),null!=a&&(s.inhibit_login=a),this.registerRequest(s)}},{key:"registerGuest",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).body;return this.registerRequest(e||{},"guest")}},{key:"registerRequest",value:function(e,r){var n={};return r&&(n.kind=r),this.http.request(t(a[22]).Method.Post,"/register",n,e)}},{key:"refreshToken",value:function(e){var r=this,n=function(n){return r.http.authedRequest(t(a[22]).Method.Post,"/refresh",void 0,{refresh_token:e},{prefix:n,inhibitLogoutEmit:!0})};return n(t(a[22]).ClientPrefix.V3).catch(function(e){if("M_UNRECOGNIZED"===e.errcode)return n(t(a[22]).ClientPrefix.V1);throw e})}},{key:"loginFlows",value:function(){return this.http.request(t(a[22]).Method.Get,"/login")}},{key:"login",value:function(e,t){var r=this;return this.loginRequest(_(_({},t),{},{type:e})).then(function(e){return e.access_token&&e.user_id&&(r.http.opts.accessToken=e.access_token,r.credentials={userId:e.user_id}),e})}},{key:"loginWithPassword",value:function(e,t){return this.login("m.login.password",{user:e,password:t})}},{key:"getCasLoginUrl",value:function(e){return this.getSsoLoginUrl(e,"cas")}},{key:"getSsoLoginUrl",value:function(e){var t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n="/login/"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sso")+"/redirect";t&&(n+="/"+t);var o=(0,u.default)({redirectUrl:e},q.unstable,r);return this.http.getUrl(n,o).href}},{key:"loginWithToken",value:function(e){return this.login("m.login.token",{token:e})}},{key:"loginRequest",value:function(e){var r=this;return(0,m.default)(function*(){return yield r.http.authedRequest(t(a[22]).Method.Post,"/login",void 0,e)})()}},{key:"logout",value:function(){var e=arguments,r=this;return(0,m.default)(function*(){return e.length>0&&void 0!==e[0]&&e[0]&&(r.stopClient(),r.http.abort()),r.http.authedRequest(t(a[22]).Method.Post,"/logout")})()}},{key:"deactivateAccount",value:function(e,r){var n={};return e&&(n.auth=e),void 0!==r&&(n.erase=r),this.http.authedRequest(t(a[22]).Method.Post,"/account/deactivate",void 0,n)}},{key:"requestLoginToken",value:function(e){var r=this;return(0,m.default)(function*(){var n={auth:e};return r.http.authedRequest(t(a[22]).Method.Post,"/login/get_token",void 0,n,{prefix:t(a[22]).ClientPrefix.V1})})()}},{key:"getFallbackAuthUrl",value:function(e,t){var r=E.encodeUri("/auth/$loginType/fallback/web",{$loginType:e});return this.http.getUrl(r,{session:t}).href}},{key:"createRoom",value:function(e){var r=this;return(0,m.default)(function*(){var n,o=(e.invite_3pid||[]).filter(function(e){return!e.id_access_token});if(o.length>0&&null!==(n=r.identityServer)&&void 0!==n&&n.getAccessToken){var i=yield r.identityServer.getAccessToken();if(i)for(var s of o)s.id_access_token=i}return r.http.authedRequest(t(a[22]).Method.Post,"/createRoom",void 0,e)})()}},{key:"fetchRelations",value:function(e,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{dir:t(a[49]).Direction.Backward};t(a[32]).Thread.hasServerSideFwdPaginationSupport===t(a[32]).FeatureSupport.Experimental&&(i=(0,g.replaceParam)("dir","org.matrix.msc3715.dir",i)),this.canSupport.get(t(a[41]).Feature.RelationsRecursion)===t(a[41]).ServerSupport.Unstable&&(i=(0,g.replaceParam)("recurse","org.matrix.msc3981.recurse",i));var s=E.encodeParams(i),u="/rooms/$roomId/relations/$eventId";null!==n?(u+="/$relationType",null!==o&&(u+="/$eventType")):null!==o&&(this.logger.warn("eventType: ".concat(o," ignored when fetching\n            relations as relationType is null")),o=null);var d=E.encodeUri(u+"?"+s,{$roomId:e,$eventId:r,$relationType:n,$eventType:o});return this.http.authedRequest(t(a[22]).Method.Get,d,void 0,void 0,{prefix:t(a[22]).ClientPrefix.V1})}},{key:"roomState",value:function(e){var r=E.encodeUri("/rooms/$roomId/state",{$roomId:e});return this.http.authedRequest(t(a[22]).Method.Get,r)}},{key:"fetchRoomEvent",value:function(e,r){var n=E.encodeUri("/rooms/$roomId/event/$eventId",{$roomId:e,$eventId:r});return this.http.authedRequest(t(a[22]).Method.Get,n)}},{key:"members",value:function(e,r,n,o){var i={};r&&(i.membership=r),n&&(i.not_membership=n),o&&(i.at=o);var s=E.encodeParams(i),u=E.encodeUri("/rooms/$roomId/members?"+s,{$roomId:e});return this.http.authedRequest(t(a[22]).Method.Get,u)}},{key:"upgradeRoom",value:function(e,r){var n=E.encodeUri("/rooms/$roomId/upgrade",{$roomId:e});return this.http.authedRequest(t(a[22]).Method.Post,n,void 0,{new_version:r})}},{key:"getStateEvent",value:function(e,r,n){var o={$roomId:e,$eventType:r,$stateKey:n},i=E.encodeUri("/rooms/$roomId/state/$eventType",o);return void 0!==n&&(i=E.encodeUri(i+"/$stateKey",o)),this.http.authedRequest(t(a[22]).Method.Get,i)}},{key:"sendStateEvent",value:function(e,r,n){var o=arguments,i=this;return(0,m.default)(function*(){var s=o.length>3&&void 0!==o[3]?o[3]:"",u=o.length>4&&void 0!==o[4]?o[4]:{},d=i.getRoom(e),l=new(t(a[23]).MatrixEvent)({room_id:e,type:r,state_key:s,content:n});yield i.encryptStateEventIfNeeded(l,null!=d?d:void 0);var c={$roomId:e,$eventType:l.getWireType(),$stateKey:l.getWireStateKey()},v=E.encodeUri("/rooms/$roomId/state/$eventType",c);return void 0!==s&&(v=E.encodeUri(v+"/$stateKey",c)),i.http.authedRequest(t(a[22]).Method.Put,v,void 0,l.getWireContent(),u)})()}},{key:"encryptStateEventIfNeeded",value:function(e,t){var r=this;return(0,m.default)(function*(){if(r.enableEncryptedStateEvents&&t&&(r.cryptoBackend||!r.usingExternalCrypto)){if(!r.cryptoBackend)throw new Error("This room is configured to use encryption, but your client does not support encryption.");(yield r.shouldEncryptEventForRoom(e,t))&&(yield r.cryptoBackend.isStateEncryptionEnabledInRoom(t.roomId))&&(["m.room.create","m.room.member","m.room.join_rules","m.room.power_levels","m.room.third_party_invite","m.room.history_visibility","m.room.guest_access","m.room.encryption"].includes(e.getType())||(yield r.cryptoBackend.encryptEvent(e,t)))}})()}},{key:"roomInitialSync",value:function(e,r){var n,o=E.encodeUri("/rooms/$roomId/initialSync",{$roomId:e});return this.http.authedRequest(t(a[22]).Method.Get,o,{limit:null!==(n=null==r?void 0:r.toString())&&void 0!==n?n:"30"})}},{key:"setRoomReadMarkersHttpRequest",value:function(e,r,n,o){var i=this;return(0,m.default)(function*(){var s=E.encodeUri("/rooms/$roomId/read_markers",{$roomId:e}),d=(0,u.default)((0,u.default)({},t(a[47]).ReceiptType.FullyRead,r),t(a[47]).ReceiptType.Read,n);return((yield i.doesServerSupportUnstableFeature("org.matrix.msc2285.stable"))||(yield i.isVersionSupported("v1.4")))&&(d[t(a[47]).ReceiptType.ReadPrivate]=o),i.http.authedRequest(t(a[22]).Method.Post,s,void 0,d)})()}},{key:"getJoinedRooms",value:function(){var e=E.encodeUri("/joined_rooms",{});return this.http.authedRequest(t(a[22]).Method.Get,e)}},{key:"getJoinedRoomMembers",value:function(e){var r=E.encodeUri("/rooms/$roomId/joined_members",{$roomId:e});return this.http.authedRequest(t(a[22]).Method.Get,r)}},{key:"publicRooms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.server,n=e.limit,o=e.since,i=(0,y.default)(e,I);if(0===Object.keys(i).length){var s={server:r,limit:n,since:o};return this.http.authedRequest(t(a[22]).Method.Get,"/publicRooms",s)}var u={server:r},d=_({limit:n,since:o},i);return this.http.authedRequest(t(a[22]).Method.Post,"/publicRooms",u,d)}},{key:"createAlias",value:function(e,r){var n=E.encodeUri("/directory/room/$alias",{$alias:e}),o={room_id:r};return this.http.authedRequest(t(a[22]).Method.Put,n,void 0,o)}},{key:"deleteAlias",value:function(e){var r=E.encodeUri("/directory/room/$alias",{$alias:e});return this.http.authedRequest(t(a[22]).Method.Delete,r)}},{key:"getLocalAliases",value:function(e){var r=E.encodeUri("/rooms/$roomId/aliases",{$roomId:e}),n=t(a[22]).ClientPrefix.V3;return this.http.authedRequest(t(a[22]).Method.Get,r,void 0,void 0,{prefix:n})}},{key:"getRoomIdForAlias",value:function(e){var r=E.encodeUri("/directory/room/$alias",{$alias:e});return this.http.authedRequest(t(a[22]).Method.Get,r)}},{key:"getRoomDirectoryVisibility",value:function(e){var r=E.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this.http.authedRequest(t(a[22]).Method.Get,r)}},{key:"setRoomDirectoryVisibility",value:function(e,r){var n=E.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this.http.authedRequest(t(a[22]).Method.Put,n,void 0,{visibility:r})}},{key:"searchUserDirectory",value:function(e){var r=e.term,n=e.limit,o={search_term:r};return void 0!==n&&(o.limit=n),this.http.authedRequest(t(a[22]).Method.Post,"/user_directory/search",void 0,o)}},{key:"uploadContent",value:function(e,t){return this.http.uploadContent(e,t)}},{key:"cancelUpload",value:function(e){return this.http.cancelUpload(e)}},{key:"getCurrentUploads",value:function(){return this.http.getCurrentUploads()}},{key:"getProfileInfo",value:function(e,r){var n=r?E.encodeUri("/profile/$userId/$info",{$userId:e,$info:r}):E.encodeUri("/profile/$userId",{$userId:e});return this.http.authedRequest(t(a[22]).Method.Get,n)}},{key:"doesServerSupportExtendedProfiles",value:function(){var e=this;return(0,m.default)(function*(){return(yield e.isVersionSupported("v1.16"))||(yield e.doesServerSupportUnstableFeature(x))||(yield e.doesServerSupportUnstableFeature(D))})()}},{key:"getExtendedProfileRequestPrefix",value:function(){var e=this;return(0,m.default)(function*(){return(yield e.isVersionSupported("v1.16"))||(yield e.doesServerSupportUnstableFeature("uk.tcpip.msc4133.stable"))?t(a[22]).ClientPrefix.V3:"/_matrix/client/unstable/uk.tcpip.msc4133"})()}},{key:"getExtendedProfile",value:function(e){var r=this;return(0,m.default)(function*(){if(!(yield r.doesServerSupportExtendedProfiles()))throw new Error("Server does not support extended profiles");return r.http.authedRequest(t(a[22]).Method.Get,E.encodeUri("/profile/$userId",{$userId:e}),void 0,void 0,{prefix:yield r.getExtendedProfileRequestPrefix()})})()}},{key:"getExtendedProfileProperty",value:function(e,r){var n=this;return(0,m.default)(function*(){if(!(yield n.doesServerSupportExtendedProfiles()))throw new Error("Server does not support extended profiles");return(yield n.http.authedRequest(t(a[22]).Method.Get,E.encodeUri("/profile/$userId/$key",{$userId:e,$key:r}),void 0,void 0,{prefix:yield n.getExtendedProfileRequestPrefix()}))[r]})()}},{key:"setExtendedProfileProperty",value:function(e,r){var n=this;return(0,m.default)(function*(){if(!(yield n.doesServerSupportExtendedProfiles()))throw new Error("Server does not support extended profiles");var o=n.getUserId();yield n.http.authedRequest(t(a[22]).Method.Put,E.encodeUri("/profile/$userId/$key",{$userId:o,$key:e}),void 0,(0,u.default)({},e,r),{prefix:yield n.getExtendedProfileRequestPrefix()})})()}},{key:"deleteExtendedProfileProperty",value:function(e){var r=this;return(0,m.default)(function*(){if(!(yield r.doesServerSupportExtendedProfiles()))throw new Error("Server does not support extended profiles");var n=r.getUserId();yield r.http.authedRequest(t(a[22]).Method.Delete,E.encodeUri("/profile/$userId/$key",{$userId:n,$key:e}),void 0,void 0,{prefix:yield r.getExtendedProfileRequestPrefix()})})()}},{key:"patchExtendedProfile",value:function(e){var r=this;return(0,m.default)(function*(){if(!(yield r.doesServerSupportExtendedProfiles()))throw new Error("Server does not support extended profiles");var n=r.getUserId();return r.http.authedRequest(t(a[22]).Method.Patch,E.encodeUri("/profile/$userId",{$userId:n}),{},e,{prefix:yield r.getExtendedProfileRequestPrefix()})})()}},{key:"setExtendedProfile",value:function(e){var r=this;return(0,m.default)(function*(){if(!(yield r.doesServerSupportExtendedProfiles()))throw new Error("Server does not support extended profiles");var n=r.getUserId();yield r.http.authedRequest(t(a[22]).Method.Put,E.encodeUri("/profile/$userId",{$userId:n}),{},e,{prefix:yield r.getExtendedProfileRequestPrefix()})})()}},{key:"getThreePids",value:function(){return this.http.authedRequest(t(a[22]).Method.Get,"/account/3pid")}},{key:"addThreePidOnly",value:function(e){var r=this;return(0,m.default)(function*(){return r.http.authedRequest(t(a[22]).Method.Post,"/account/3pid/add",void 0,e)})()}},{key:"bindThreePid",value:function(e){var r=this;return(0,m.default)(function*(){return r.http.authedRequest(t(a[22]).Method.Post,"/account/3pid/bind",void 0,e)})()}},{key:"unbindThreePid",value:function(e,r){var n=this;return(0,m.default)(function*(){var o={medium:e,address:r,id_server:n.getIdentityServerUrl(!0)};return n.http.authedRequest(t(a[22]).Method.Post,"/account/3pid/unbind",void 0,o)})()}},{key:"deleteThreePid",value:function(e,r){return this.http.authedRequest(t(a[22]).Method.Post,"/account/3pid/delete",void 0,{medium:e,address:r})}},{key:"setPassword",value:function(e,r,n){var o={auth:e,new_password:r,logout_devices:n};return this.http.authedRequest(t(a[22]).Method.Post,"/account/password",void 0,o)}},{key:"getDevices",value:function(){return this.http.authedRequest(t(a[22]).Method.Get,"/devices")}},{key:"getDevice",value:function(e){var r=E.encodeUri("/devices/$device_id",{$device_id:e});return this.http.authedRequest(t(a[22]).Method.Get,r)}},{key:"setDeviceDetails",value:function(e,r){var n=E.encodeUri("/devices/$device_id",{$device_id:e});return this.http.authedRequest(t(a[22]).Method.Put,n,void 0,r)}},{key:"deleteDevice",value:function(e,r){var n=E.encodeUri("/devices/$device_id",{$device_id:e}),o={};return r&&(o.auth=r),this.http.authedRequest(t(a[22]).Method.Delete,n,void 0,o)}},{key:"deleteMultipleDevices",value:function(e,r){var n={devices:e};r&&(n.auth=r);return this.http.authedRequest(t(a[22]).Method.Post,"/delete_devices",void 0,n)}},{key:"getPushers",value:function(){var e=this;return(0,m.default)(function*(){var r=yield e.http.authedRequest(t(a[22]).Method.Get,"/pushers");return(yield e.doesServerSupportUnstableFeature("org.matrix.msc3881"))||(r.pushers=r.pushers.map(function(e){return e.hasOwnProperty(t(a[42]).PUSHER_ENABLED.name)||(e[t(a[42]).PUSHER_ENABLED.name]=!0),e})),r})()}},{key:"setPusher",value:function(e){return this.http.authedRequest(t(a[22]).Method.Post,"/pushers/set",void 0,e)}},{key:"removePusher",value:function(e,r){var n={pushkey:e,app_id:r,kind:null};return this.http.authedRequest(t(a[22]).Method.Post,"/pushers/set",void 0,n)}},{key:"setLocalNotificationSettings",value:function(e,r){var n="".concat(t(a[42]).LOCAL_NOTIFICATION_SETTINGS_PREFIX.name,".").concat(e);return this.setAccountData(n,r)}},{key:"getPushRules",value:function(){var e=this;return this.http.authedRequest(t(a[22]).Method.Get,"/pushrules/").then(function(t){return e.setPushRules(t),e.pushRules})}},{key:"setPushRules",value:function(e){this.pushRules=t(a[15]).PushProcessor.rewriteDefaultRules(this.logger,e,this.getUserId()),this.pushProcessor.updateCachedPushRuleKeys(this.pushRules)}},{key:"addPushRule",value:function(e,r,n,o){var i=E.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:r,$ruleId:n});return this.http.authedRequest(t(a[22]).Method.Put,i,void 0,o)}},{key:"deletePushRule",value:function(e,r,n){var o=E.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:r,$ruleId:n});return this.http.authedRequest(t(a[22]).Method.Delete,o)}},{key:"setPushRuleEnabled",value:function(e,r,n,o){var i=E.encodeUri("/pushrules/"+e+"/$kind/$ruleId/enabled",{$kind:r,$ruleId:n});return this.http.authedRequest(t(a[22]).Method.Put,i,void 0,{enabled:o})}},{key:"setPushRuleActions",value:function(e,r,n,o){var i=E.encodeUri("/pushrules/"+e+"/$kind/$ruleId/actions",{$kind:r,$ruleId:n});return this.http.authedRequest(t(a[22]).Method.Put,i,void 0,{actions:o})}},{key:"search",value:function(e,r){var n=e.body,o=e.next_batch,i={};return o&&(i.next_batch=o),this.http.authedRequest(t(a[22]).Method.Post,"/search",i,n,{abortSignal:r})}},{key:"uploadKeysRequest",value:function(e,r){return this.http.authedRequest(t(a[22]).Method.Post,"/keys/upload",void 0,e)}},{key:"uploadKeySignatures",value:function(e){return this.http.authedRequest(t(a[22]).Method.Post,"/keys/signatures/upload",void 0,e)}},{key:"downloadKeysForUsers",value:function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).token,n={device_keys:{}};return void 0!==r&&(n.token=r),e.forEach(function(e){n.device_keys[e]=[]}),this.http.authedRequest(t(a[22]).Method.Post,"/keys/query",void 0,n)}},{key:"claimOneTimeKeys",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signed_curve25519",n=arguments.length>2?arguments[2]:void 0,o={};for(var i of(void 0===r&&(r="signed_curve25519"),e)){var s=(0,d.default)(i,2),u=s[0],l=s[1],c=o[u]||{};(0,g.safeSet)(o,u,c),(0,g.safeSet)(c,l,r)}var v={one_time_keys:o};n&&(v.timeout=n);return this.http.authedRequest(t(a[22]).Method.Post,"/keys/claim",void 0,v)}},{key:"getKeyChanges",value:function(e,r){var n={from:e,to:r};return this.http.authedRequest(t(a[22]).Method.Get,"/keys/changes",n)}},{key:"uploadDeviceSigningKeys",value:function(e,r){var n=Object.assign({},r);return e&&Object.assign(n,{auth:e}),this.http.authedRequest(t(a[22]).Method.Post,"/keys/device_signing/upload",void 0,n,{prefix:t(a[22]).ClientPrefix.Unstable})}},{key:"registerWithIdentityServer",value:function(e){if(!this.idBaseUrl)throw new Error("No identity server base URL set");var r=this.http.getUrl("/account/register",void 0,t(a[22]).IdentityPrefix.V2,this.idBaseUrl);return this.http.requestOtherUrl(t(a[22]).Method.Post,r,e)}},{key:"requestEmailToken",value:function(e,r,n,o,i){var s={client_secret:r,email:e,send_attempt:null==n?void 0:n.toString()};return o&&(s.next_link=o),this.http.idServerRequest(t(a[22]).Method.Post,"/validate/email/requestToken",s,t(a[22]).IdentityPrefix.V2,i)}},{key:"requestMsisdnToken",value:function(e,r,n,o,i,s){var u={client_secret:n,country:e,phone_number:r,send_attempt:null==o?void 0:o.toString()};return i&&(u.next_link=i),this.http.idServerRequest(t(a[22]).Method.Post,"/validate/msisdn/requestToken",u,t(a[22]).IdentityPrefix.V2,s)}},{key:"submitMsisdnToken",value:function(e,r,n,o){var i={sid:e,client_secret:r,token:n};return this.http.idServerRequest(t(a[22]).Method.Post,"/validate/msisdn/submitToken",i,t(a[22]).IdentityPrefix.V2,null!=o?o:void 0)}},{key:"submitMsisdnTokenOtherUrl",value:function(e,r,n,o){var i={sid:r,client_secret:n,token:o};return this.http.requestOtherUrl(t(a[22]).Method.Post,e,i)}},{key:"getIdentityHashDetails",value:function(e){return this.http.idServerRequest(t(a[22]).Method.Get,"/hash_details",void 0,t(a[22]).IdentityPrefix.V2,e)}},{key:"identityHashedLookup",value:function(e,r){var n=this;return(0,m.default)(function*(){var o={},i=yield n.getIdentityHashDetails(r);if(!i||!i.lookup_pepper||!i.algorithms)throw new Error("Unsupported identity server: bad response");o.pepper=i.lookup_pepper;var s={};if(i.algorithms.includes("sha256"))o.addresses=yield Promise.all(e.map((function(){var e=(0,m.default)(function*(e){var r=e[0].toLowerCase(),n=e[1].toLowerCase(),i=yield(0,t(a[59]).sha256)("".concat(r," ").concat(n," ").concat(o.pepper)),u=(0,t(a[60]).encodeUnpaddedBase64Url)(i);return s[u]=e[0],u});return function(t){return e.apply(this,arguments)}})())),o.algorithm="sha256";else{if(!i.algorithms.includes("none"))throw new Error("Unsupported identity server: unknown hash algorithm");o.addresses=e.map(function(e){var t=e[0].toLowerCase(),r=e[1].toLowerCase(),n="".concat(t," ").concat(r);return s[n]=e[0],n}),o.algorithm="none"}var u=yield n.http.idServerRequest(t(a[22]).Method.Post,"/lookup",o,t(a[22]).IdentityPrefix.V2,r);if(null==u||!u.mappings)return[];var d=[];for(var l of Object.keys(u.mappings)){var c=u.mappings[l],v=s[l];if(!v)throw new Error("Identity server returned more results than expected");d.push({address:v,mxid:c})}return d})()}},{key:"lookupThreePid",value:function(e,t,r){var n=this;return(0,m.default)(function*(){var o=(yield n.identityHashedLookup([[t,e]],r)).find(function(e){return e.address===t});return o?{address:t,medium:e,mxid:o.mxid}:{}})()}},{key:"bulkLookupThreePids",value:function(e,t){var r=this;return(0,m.default)(function*(){var n=yield r.identityHashedLookup(e.map(function(e){return[e[1],e[0]]}),t),o=[],i=function*(t){var r=e.find(function(e){return e[1]===t.address});if(!r)throw new Error("Identity sever returned unexpected results");o.push([r[0],t.address,t.mxid])};for(var a of n)yield*i(a);return{threepids:o}})()}},{key:"getIdentityAccount",value:function(e){return this.http.idServerRequest(t(a[22]).Method.Get,"/account",void 0,t(a[22]).IdentityPrefix.V2,e)}},{key:"sendToDevice",value:function(e,r,n){var o=E.encodeUri("/sendToDevice/$eventType/$txnId",{$eventType:e,$txnId:n||this.makeTxnId()}),i={messages:E.recursiveMapToObject(r)},s=new Map;for(var u of r){var l=(0,d.default)(u,2),c=l[0],v=l[1];s.set(c,Array.from(v.keys()))}return this.logger.debug("PUT ".concat(o),s),this.http.authedRequest(t(a[22]).Method.Put,o,void 0,i)}},{key:"encryptAndSendToDevice",value:function(e,t,r){var n=this;return(0,m.default)(function*(){if(!n.cryptoBackend)throw new Error("Cannot encrypt to device event, your client does not support encryption.");var o=yield n.cryptoBackend.encryptToDeviceMessages(e,t,r);yield n.queueToDevice(o)})()}},{key:"queueToDevice",value:function(e){return this.toDeviceMessageQueue.queueBatch(e)}},{key:"getThirdpartyProtocols",value:function(){return this.http.authedRequest(t(a[22]).Method.Get,"/thirdparty/protocols").then(function(e){if(!e||"object"!=typeof e)throw new Error("/thirdparty/protocols did not return an object: ".concat(e));return e})}},{key:"getThirdpartyLocation",value:function(e,r){var n=E.encodeUri("/thirdparty/location/$protocol",{$protocol:e});return this.http.authedRequest(t(a[22]).Method.Get,n,r)}},{key:"getThirdpartyUser",value:function(e,r){var n=E.encodeUri("/thirdparty/user/$protocol",{$protocol:e});return this.http.authedRequest(t(a[22]).Method.Get,n,r)}},{key:"getTerms",value:function(e,r){var n=this.termsUrlForService(e,r);return this.http.requestOtherUrl(t(a[22]).Method.Get,n)}},{key:"agreeToTerms",value:function(e,r,n,o){var i=this.termsUrlForService(e,r),s={Authorization:"Bearer "+n};return this.http.requestOtherUrl(t(a[22]).Method.Post,i,{user_accepts:o},{headers:s})}},{key:"reportEvent",value:function(e,r,n,o){var i=E.encodeUri("/rooms/$roomId/report/$eventId",{$roomId:e,$eventId:r});return this.http.authedRequest(t(a[22]).Method.Post,i,void 0,{score:n,reason:o})}},{key:"reportRoom",value:function(e,r){var n=E.encodeUri("/rooms/$roomId/report",{$roomId:e});return this.http.authedRequest(t(a[22]).Method.Post,n,void 0,{reason:r})}},{key:"getRoomHierarchy",value:function(e,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,u=E.encodeUri("/rooms/$roomId/hierarchy",{$roomId:e}),d={suggested_only:String(i),max_depth:null==n?void 0:n.toString(),from:s,limit:null==r?void 0:r.toString()};return this.http.authedRequest(t(a[22]).Method.Get,u,d,void 0,{prefix:t(a[22]).ClientPrefix.V1}).catch(function(e){if("M_UNRECOGNIZED"===e.errcode)return o.http.authedRequest(t(a[22]).Method.Get,u,d,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc2946"});throw e})}},{key:"unstableCreateFileTree",value:function(e){var r=this;return(0,m.default)(function*(){var n=(yield r.createRoom({name:e,preset:t(a[53]).Preset.PrivateChat,power_level_content_override:_(_({},t(a[61]).DEFAULT_TREE_POWER_LEVELS_TEMPLATE),{},{users:(0,u.default)({},r.getUserId(),100)}),creation_content:(0,u.default)({},t(a[42]).RoomCreateTypeField,t(a[42]).RoomType.Space),initial_state:[{type:t(a[42]).UNSTABLE_MSC3088_PURPOSE.name,state_key:t(a[42]).UNSTABLE_MSC3089_TREE_SUBTYPE.name,content:(0,u.default)({},t(a[42]).UNSTABLE_MSC3088_ENABLED.name,!0)},{type:t(a[42]).EventType.RoomEncryption,state_key:"",content:{algorithm:"m.megolm.v1.aes-sha2"}}]})).room_id;return new(t(a[61]).MSC3089TreeSpace)(r,n)})()}},{key:"unstableGetFileTreeSpace",value:function(e){var r,n,o=this.getRoom(e);if((null==o?void 0:o.getMyMembership())!==t(a[43]).KnownMembership.Join)return null;var i=o.currentState.getStateEvents(t(a[42]).EventType.RoomCreate,""),s=o.currentState.getStateEvents(t(a[42]).UNSTABLE_MSC3088_PURPOSE.name,t(a[42]).UNSTABLE_MSC3089_TREE_SUBTYPE.name);if(!i)throw new Error("Expected single room create event");return null!=s&&null!==(r=s.getContent())&&void 0!==r&&r[t(a[42]).UNSTABLE_MSC3088_ENABLED.name]?(null===(n=i.getContent())||void 0===n?void 0:n[t(a[42]).RoomCreateTypeField])!==t(a[42]).RoomType.Space?null:new(t(a[61]).MSC3089TreeSpace)(this,e):null}},{key:"slidingSync",value:function(e,r,n){var o={};e.pos&&(o.pos=e.pos,delete e.pos),e.timeout&&(o.timeout=e.timeout,delete e.timeout);var i=e.clientTimeout;return delete e.clientTimeout,this.http.authedRequest(t(a[22]).Method.Post,"/sync",o,e,{prefix:"/_matrix/client/unstable/org.matrix.simplified_msc3575",baseUrl:r,localTimeoutMs:i,abortSignal:n})}},{key:"supportsThreads",value:function(){var e;return(null===(e=this.clientOpts)||void 0===e?void 0:e.threadSupport)||!1}},{key:"supportsIntentionalMentions",value:function(){return this.canSupport.get(t(a[41]).Feature.IntentionalMentions)!==t(a[41]).ServerSupport.Unsupported}},{key:"getRoomSummary",value:function(e,r){var n=this;return(0,m.default)(function*(){var o={prefix:"/_matrix/client/unstable/im.nheko.summary"};try{var i=E.encodeUri("/summary/$roomid",{$roomid:e});return yield n.http.authedRequest(t(a[22]).Method.Get,i,{via:r},void 0,o)}catch(i){if(i instanceof t(a[22]).MatrixError&&"M_UNRECOGNIZED"===i.errcode){var s=E.encodeUri("/rooms/$roomid/summary",{$roomid:e});return yield n.http.authedRequest(t(a[22]).Method.Get,s,{via:r},void 0,o)}throw i}})()}},{key:"processThreadEvents",value:function(e,t,r){e.processThreadedEvents(t,r)}},{key:"processThreadRoots",value:function(e,t,r){this.supportsThreads()&&e.processThreadRoots(t,r)}},{key:"processBeaconEvents",value:function(e,t){this.processAggregatedTimelineEvents(e,t)}},{key:"processAggregatedTimelineEvents",value:function(e,t){null!=t&&t.length&&e&&(e.currentState.processBeaconEvents(t,this),e.processPollEvents(t))}},{key:"whoami",value:function(){var e=this;return(0,m.default)(function*(){return e.http.authedRequest(t(a[22]).Method.Get,"/account/whoami")})()}},{key:"timestampToEvent",value:function(e,r,n){var o=this;return(0,m.default)(function*(){var i=E.encodeUri("/rooms/$roomId/timestamp_to_event",{$roomId:e}),s={ts:r.toString(),dir:n};try{return yield o.http.authedRequest(t(a[22]).Method.Get,i,s,void 0,{prefix:t(a[22]).ClientPrefix.V1})}catch(e){if("M_UNRECOGNIZED"===e.errcode&&(400===e.httpStatus||404===e.httpStatus||405===e.httpStatus))return yield o.http.authedRequest(t(a[22]).Method.Get,i,s,void 0,{prefix:"/_matrix/client/unstable/org.matrix.msc3030"});throw e}})()}},{key:"getAuthMetadata",value:function(){var e=this;return(0,m.default)(function*(){var r;try{r=yield e.http.request(t(a[22]).Method.Get,"/auth_metadata",void 0,void 0,{prefix:t(a[22]).ClientPrefix.Unstable+"/org.matrix.msc2965"})}catch(r){if(r instanceof t(a[22]).MatrixError&&"M_UNRECOGNIZED"===r.errcode){var n=(yield e.http.request(t(a[22]).Method.Get,"/auth_issuer",void 0,void 0,{prefix:t(a[22]).ClientPrefix.Unstable+"/org.matrix.msc2965"})).issuer;return(0,t(a[62]).discoverAndValidateOIDCIssuerWellKnown)(n)}throw r}return(0,t(a[62]).validateAuthMetadataAndKeys)(r)})()}}])})(t(a[63]).TypedEventEmitter);function F(e){return Object.fromEntries(Object.entries(e).map(function(e){var t=(0,d.default)(e,2),r=t[0],n=t[1];return["".concat(w,".").concat(r),n]}))}function O(e,r){var n,o=e.getUserId(),i=r.getId(),s=e.getRoom(r.getRoomId());if(s&&o&&i)if(s.findEventById(i)){var u,d=!!r.threadRootId&&!r.isThreadRoot;if(d){var l=s.getThread(r.threadRootId);u=!l||l.hasUserReadEvent(o,i)}else u=s.hasUserReadEvent(o,i);if(!u){var c=e.getPushActionsForEvent(r,!0);if(!(null==c||null===(n=c.tweaks)||void 0===n||!n.highlight)){var v=s.getUnreadCountForEventContext(t(a[18]).NotificationCountType.Highlight,r)+1;d?s.setThreadUnreadNotificationCount(r.threadRootId,t(a[18]).NotificationCountType.Highlight,v):s.setUnreadNotificationCount(t(a[18]).NotificationCountType.Highlight,v)}if(!(null==c||!c.notify)){var h=s.getUnreadCountForEventContext(t(a[18]).NotificationCountType.Total,r)+1;d?s.setThreadUnreadNotificationCount(r.threadRootId,t(a[18]).NotificationCountType.Total,h):s.setUnreadNotificationCount(t(a[18]).NotificationCountType.Total,h)}}}else t(a[19]).logger.info("Decrypted event ".concat(r.getId()," is not in room ").concat(s.roomId,": ignoring"))}function L(e){return B(e)?t(a[47]).MAIN_ROOM_TIMELINE:e.threadRootId}function B(e){return!e.threadRootId||(!!e.isThreadRoot||(e.isRelation()?!e.isRelation(t(a[32]).THREAD_RELATION_TYPE.name)&&e.relationEventId===e.threadRootId:(t(a[19]).logger.warn("Event is not a relation or a thread root, but still has a threadRootId! id=".concat(e.getId())),!0)))}(0,u.default)(N,"RESTORE_BACKUP_ERROR_BAD_KEY","RESTORE_BACKUP_ERROR_BAD_KEY")},796,[1,739,34,42,11,12,18,20,23,797,743,748,799,754,764,803,805,738,806,746,833,744,814,771,834,835,839,813,854,856,859,838,795,863,836,865,757,866,900,877,768,837,765,767,770,901,847,755,769,810,902,825,903,858,804,904,905,907,909,842,745,910,912,762]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,t){if(null==e)return{};var n,l,o=(0,r.default)(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)n=u[l],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o};var r=e(_r(d[1]))},797,[1,798]);
__d(function(g,_r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,n){if(null==e)return{};var r={};for(var f in e)if({}.hasOwnProperty.call(e,f)){if(-1!==n.indexOf(f))continue;r[f]=e[f]}return r}},798,[]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.makeBeaconInfoContent=_e.makeBeaconContent=_e.getTextForLocationEvent=void 0,_e.makeEmoteMessage=function(e){return{msgtype:_r(d[2]).MsgType.Emote,body:e}},_e.makeHtmlEmote=function(e,t){return{msgtype:_r(d[2]).MsgType.Emote,format:"org.matrix.custom.html",body:e,formatted_body:t}},_e.makeHtmlMessage=function(e,t){return{msgtype:_r(d[2]).MsgType.Text,format:"org.matrix.custom.html",body:e,formatted_body:t}},_e.makeHtmlNotice=function(e,t){return{msgtype:_r(d[2]).MsgType.Notice,format:"org.matrix.custom.html",body:e,formatted_body:t}},_e.makeLocationContent=void 0,_e.makeNotice=function(e){return{msgtype:_r(d[2]).MsgType.Notice,body:e}},_e.makeTextMessage=function(e){return{msgtype:_r(d[2]).MsgType.Text,body:e}},_e.parseTopicContent=_e.parseLocationEvent=_e.parseBeaconInfoContent=_e.parseBeaconContent=_e.makeTopicContent=void 0;var t=e(_r(d[1]));function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function o(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?n(Object(r),!0).forEach(function(n){(0,t.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var r=_e.getTextForLocationEvent=function(e,t,n,o){var r="at ".concat(new Date(n).toISOString());return[t===_r(d[3]).LocationAssetType.Self?"User":void 0,"Location",o?"\"".concat(o,"\""):void 0,e,r].filter(Boolean).join(" ")},u=_e.makeLocationContent=function(e,n,u,l,c){var p=null!=e?e:r(n,c||_r(d[3]).LocationAssetType.Self,u,l),s=u?(0,t.default)({},_r(d[3]).M_TIMESTAMP.name,u):{};return o((0,t.default)((0,t.default)((0,t.default)({msgtype:_r(d[2]).MsgType.Location,body:p,geo_uri:n},_r(d[3]).M_LOCATION.name,{description:l,uri:n}),_r(d[3]).M_ASSET.name,{type:c||_r(d[3]).LocationAssetType.Self}),_r(d[4]).M_TEXT.name,p),s)};_e.parseLocationEvent=function(e){var t,n,o=_r(d[3]).M_LOCATION.findIn(e),r=_r(d[3]).M_ASSET.findIn(e),l=_r(d[3]).M_TIMESTAMP.findIn(e),c=_r(d[4]).M_TEXT.findIn(e),p=null!==(t=null==o?void 0:o.uri)&&void 0!==t?t:null==e?void 0:e.geo_uri,s=null==o?void 0:o.description,f=null!==(n=null==r?void 0:r.type)&&void 0!==n?n:_r(d[3]).LocationAssetType.Self,y=null!=c?c:e.body;return u(y,p,null!=l?l:void 0,s,f)},_e.makeTopicContent=function(e,n){var o=[];return(0,_r(d[5]).isProvided)(n)&&o.push({body:n,mimetype:"text/html"}),(0,_r(d[5]).isProvided)(e)&&o.push({body:e,mimetype:"text/plain"}),(0,t.default)({topic:e},_r(d[6]).M_TOPIC.name,{"m.text":o})},_e.parseTopicContent=function(e){var t,n,o,r,u,l=_r(d[6]).M_TOPIC.findIn(e),c=Array.isArray(l)?l:null==l?void 0:l["m.text"];return Array.isArray(c)?{text:null!==(t=null!==(n=null==c||null===(o=c.find(function(e){return!(0,_r(d[5]).isProvided)(e.mimetype)||"text/plain"===e.mimetype}))||void 0===o?void 0:o.body)&&void 0!==n?n:e.topic)&&void 0!==t?t:void 0,html:null==c||null===(r=c.find(function(e){return"text/html"===e.mimetype}))||void 0===r?void 0:r.body}:{text:null!==(u=e.topic)&&void 0!==u?u:void 0}},_e.makeBeaconInfoContent=function(e,n,o,r,u){return(0,t.default)((0,t.default)({description:o,timeout:e,live:n},_r(d[3]).M_TIMESTAMP.name,u||Date.now()),_r(d[3]).M_ASSET.name,{type:null!=r?r:_r(d[3]).LocationAssetType.Self})},_e.parseBeaconInfoContent=function(e){var t,n=e.description,o=e.timeout,r=e.live,u=null!==(t=_r(d[3]).M_TIMESTAMP.findIn(e))&&void 0!==t?t:void 0,l=_r(d[3]).M_ASSET.findIn(e);return{description:n,timeout:o,live:r,assetType:null==l?void 0:l.type,timestamp:u}},_e.makeBeaconContent=function(e,n,o,r){return(0,t.default)((0,t.default)((0,t.default)({},_r(d[3]).M_LOCATION.name,{description:r,uri:e}),_r(d[3]).M_TIMESTAMP.name,n),"m.relates_to",{rel_type:_r(d[4]).REFERENCE_RELATION.name,event_id:o})},_e.parseBeaconContent=function(e){var t,n=_r(d[3]).M_LOCATION.findIn(e),o=null!==(t=_r(d[3]).M_TIMESTAMP.findIn(e))&&void 0!==t?t:void 0;return{description:null==n?void 0:n.description,uri:null==n?void 0:n.uri,timestamp:o}}},799,[1,739,765,753,800,801,802]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.REFERENCE_RELATION=e.M_TEXT=e.M_MESSAGE=e.M_HTML=void 0,e.isEventTypeSame=function(t,n){if("string"==typeof t)return"string"==typeof n?n===t:n.matches(t);if("string"==typeof n)return t.matches(n);var s=n,E=t;return s.matches(E.name)||(0,r(d[1]).isProvided)(E.altName)&&s.matches(E.altName)};e.M_MESSAGE=new(r(d[0]).UnstableValue)("m.message","org.matrix.msc1767.message"),e.M_TEXT=new(r(d[0]).UnstableValue)("m.text","org.matrix.msc1767.text"),e.M_HTML=new(r(d[0]).UnstableValue)("m.html","org.matrix.msc1767.html"),e.REFERENCE_RELATION=new(r(d[0]).NamespacedValue)("m.reference")},800,[773,801]);
__d(function(g,r,i,a,m,e,d){function n(n){return null!=n}Object.defineProperty(e,"__esModule",{value:!0}),e.isOptionalAString=function(t){return n(t)&&"string"==typeof t},e.isProvided=n},801,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.M_TOPIC=void 0;e.M_TOPIC=new(r(d[0]).NamespacedValue)("m.topic")},802,[754]);
__d(function(g,_r,i,a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PushProcessor=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),l=e(_r(d[5]));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=[_r(d[6]).PushRuleKind.Override,_r(d[6]).PushRuleKind.ContentSpecific,_r(d[6]).PushRuleKind.RoomSpecific,_r(d[6]).PushRuleKind.SenderSpecific,_r(d[6]).PushRuleKind.Underride],v={".m.rule.is_room_mention":{rule_id:".m.rule.is_room_mention",default:!0,enabled:!0,conditions:[{kind:_r(d[6]).ConditionKind.EventPropertyIs,key:"content.m\\.mentions.room",value:!0},{kind:_r(d[6]).ConditionKind.SenderNotificationPermission,key:"room"}],actions:[_r(d[6]).PushRuleActionName.Notify,{set_tweak:_r(d[6]).TweakName.Highlight}]},".m.rule.reaction":{rule_id:".m.rule.reaction",default:!0,enabled:!0,conditions:[{kind:_r(d[6]).ConditionKind.EventMatch,key:"type",pattern:"m.reaction"}],actions:[_r(d[6]).PushRuleActionName.DontNotify]},".org.matrix.msc3786.rule.room.server_acl":{rule_id:".org.matrix.msc3786.rule.room.server_acl",default:!0,enabled:!0,conditions:[{kind:_r(d[6]).ConditionKind.EventMatch,key:"type",pattern:_r(d[7]).EventType.RoomServerAcl},{kind:_r(d[6]).ConditionKind.EventMatch,key:"state_key",pattern:""}],actions:[]}},f=Symbol("UserDefinedRules"),h=[_r(d[6]).RuleId.Master,f,_r(d[6]).RuleId.SuppressNotices,_r(d[6]).RuleId.InviteToSelf,_r(d[6]).RuleId.MemberEvent,_r(d[6]).RuleId.IsUserMention,_r(d[6]).RuleId.ContainsDisplayName,_r(d[6]).RuleId.IsRoomMention,_r(d[6]).RuleId.AtRoomNotification,_r(d[6]).RuleId.Tombstone,".m.rule.reaction",".m.rule.room.server_acl",".org.matrix.msc3786.rule.room.server_acl",".m.rule.suppress_edits"],y={".org.matrix.msc3914.rule.room.call":{rule_id:".org.matrix.msc3914.rule.room.call",default:!0,enabled:!0,conditions:[{kind:_r(d[6]).ConditionKind.EventMatch,key:"type",pattern:"org.matrix.msc3401.call"},{kind:_r(d[6]).ConditionKind.CallStarted}],actions:[_r(d[6]).PushRuleActionName.Notify,{set_tweak:_r(d[6]).TweakName.Sound,value:"default"}]}},m=[f,_r(d[6]).RuleId.IncomingCall,".org.matrix.msc3914.rule.room.call",_r(d[6]).RuleId.EncryptedDM,_r(d[6]).RuleId.DM,_r(d[6]).RuleId.Message,_r(d[6]).RuleId.EncryptedMessage];function p(e,t,n,r,l){var u=n.filter(function(e){return e.default}),s=n.filter(function(e){return!e.default});function c(n){n===f?h.push.apply(h,(0,o.default)(s)):n in r?(e.warn("Adding default global ".concat(t," push rule ").concat(n)),h.push(r[n])):e.warn("Missing default global ".concat(t," push rule ").concat(n))}var v=0,h=[];for(var y of u){var m=l.indexOf(y.rule_id);if(-1!==m){for(;m>v;){c(l[v]),v+=1}h.push(y),v+=1}else h.push(y)}for(var p of l.slice(v))c(p);return h}var R=_e.PushProcessor=(function(){function e(t){(0,n.default)(this,e),this.client=t,(0,l.default)(this,"parsedKeys",new Map)}return(0,r.default)(e,[{key:"updateCachedPushRuleKeys",value:function(t){var n=this;t||(t={}),t.global||(t.global={}),t.global.override||(t.global.override=[]),t.global.room||(t.global.room=[]),t.global.sender||(t.global.sender=[]),t.global.underride||(t.global.underride=[]);var r=new Set(this.parsedKeys.keys());for(var o of[t.global.override,t.global.room,t.global.sender,t.global.underride])for(var l of o)if(l.conditions)for(var u of l.conditions)u.kind===_r(d[6]).ConditionKind.EventMatch&&(r.delete(u.key),this.parsedKeys.set(u.key,e.partsForDottedKey(u.key)));r.forEach(function(e){return n.parsedKeys.delete(e)})}},{key:"matchingRuleFromKindSet",value:function(e,t){for(var n of c){var r=t[n];if(r)for(var o of r)if(o.enabled){var l=this.templateRuleToRaw(n,o);if(l&&this.ruleMatchesEvent(l,e))return s(s({},o),{},{kind:n})}}return null}},{key:"templateRuleToRaw",value:function(e,t){var n={rule_id:t.rule_id,actions:t.actions,conditions:[]};switch(e){case _r(d[6]).PushRuleKind.Underride:case _r(d[6]).PushRuleKind.Override:n.conditions=t.conditions;break;case _r(d[6]).PushRuleKind.RoomSpecific:if(!t.rule_id)return null;n.conditions.push({kind:_r(d[6]).ConditionKind.EventMatch,key:"room_id",value:t.rule_id});break;case _r(d[6]).PushRuleKind.SenderSpecific:if(!t.rule_id)return null;n.conditions.push({kind:_r(d[6]).ConditionKind.EventMatch,key:"user_id",value:t.rule_id});break;case _r(d[6]).PushRuleKind.ContentSpecific:if(!t.pattern)return null;n.conditions.push({kind:_r(d[6]).ConditionKind.EventMatch,key:"content.body",pattern:t.pattern})}return n}},{key:"eventFulfillsCondition",value:function(e,t){switch(e.kind){case _r(d[6]).ConditionKind.EventMatch:return this.eventFulfillsEventMatchCondition(e,t);case _r(d[6]).ConditionKind.EventPropertyIs:return this.eventFulfillsEventPropertyIsCondition(e,t);case _r(d[6]).ConditionKind.EventPropertyContains:return this.eventFulfillsEventPropertyContains(e,t);case _r(d[6]).ConditionKind.ContainsDisplayName:return this.eventFulfillsDisplayNameCondition(e,t);case _r(d[6]).ConditionKind.RoomMemberCount:return this.eventFulfillsRoomMemberCountCondition(e,t);case _r(d[6]).ConditionKind.SenderNotificationPermission:return this.eventFulfillsSenderNotifPermCondition(e,t);case _r(d[6]).ConditionKind.CallStarted:case _r(d[6]).ConditionKind.CallStartedPrefix:return this.eventFulfillsCallStartedCondition(e,t)}return!1}},{key:"eventFulfillsSenderNotifPermCondition",value:function(e,t){var n=e.key;if(!n)return!1;var r=this.client.getRoom(t.getRoomId());return!(null==r||!r.currentState)&&r.currentState.mayTriggerNotifOfType(n,t.getSender())}},{key:"eventFulfillsRoomMemberCountCondition",value:function(e,t){if(!e.is)return!1;var n=this.client.getRoom(t.getRoomId());if(!n||!n.currentState||!n.currentState.members)return!1;var r=n.currentState.getJoinedMemberCount(),o=e.is.match(/^([=<>]*)(\d*)$/);if(!o)return!1;var l=o[1],u=parseInt(o[2]);if(isNaN(u))return!1;switch(l){case"":case"==":return r==u;case"<":return r<u;case">":return r>u;case"<=":return r<=u;case">=":return r>=u;default:return!1}}},{key:"eventFulfillsDisplayNameCondition",value:function(e,t){var n,r=t.getContent();if(t.isEncrypted()&&t.getClearContent()&&(r=t.getClearContent()),!r||!r.body||"string"!=typeof r.body)return!1;var o=this.client.getRoom(t.getRoomId()),l=null==o||null===(n=o.currentState)||void 0===n?void 0:n.getMember(this.client.credentials.userId);if(!l)return!1;var u=l.name,s=new RegExp("(^|\\W)"+(0,_r(d[8]).escapeRegExp)(u)+"(\\W|$)","i");return r.body.search(s)>-1}},{key:"eventFulfillsEventMatchCondition",value:function(t,n){if(!t.key)return!1;var r=this.valueForDottedKey(t.key,n);if("string"!=typeof r)return!1;if(t.value)return t.value===r;if("string"!=typeof t.pattern)return!1;var o=e.getPushRuleGlobRegex(t.pattern,"content.body"===t.key);return!!r.match(o)}},{key:"eventFulfillsEventPropertyIsCondition",value:function(e,t){return!(!e.key||void 0===e.value)&&e.value===this.valueForDottedKey(e.key,t)}},{key:"eventFulfillsEventPropertyContains",value:function(e,t){if(!e.key||void 0===e.value)return!1;var n=this.valueForDottedKey(e.key,t);return!!Array.isArray(n)&&n.includes(e.value)}},{key:"eventFulfillsCallStartedCondition",value:function(e,t){return["m.ring","m.prompt"].includes(t.getContent()["m.intent"])&&!("m.terminated"in t.getContent())&&(t.getPrevContent()["m.terminated"]!==t.getContent()["m.terminated"]||(0,_r(d[8]).deepCompare)(t.getPrevContent(),{}))}},{key:"valueForDottedKey",value:function(t,n){var r,o=this.parsedKeys.get(t);void 0===o&&(o=e.partsForDottedKey(t),this.parsedKeys.set(t,o));var l=o[0],u=0;for("content"===l?(r=n.getContent(),++u):"type"===l?(r=n.getType(),++u):r=n.event;u<o.length;++u){if((0,_r(d[8]).isNullOrUndefined)(r))return;r=r[o[u]]}return r}},{key:"matchingRuleForEventWithRulesets",value:function(e,t){return t?e.getSender()===this.client.getSafeUserId()?null:this.matchingRuleFromKindSet(e,t.global):null}},{key:"pushActionsForEventAndRulesets",value:function(t,n){var r=this.matchingRuleForEventWithRulesets(t,n);if(!r)return{};var o=e.actionListToActionsObject(r.actions);return void 0===o.tweaks.highlight&&(o.tweaks.highlight=r.kind==_r(d[6]).PushRuleKind.ContentSpecific),{actions:o,rule:r}}},{key:"ruleMatchesEvent",value:function(e,t){var n,r=this;return(!this.client.supportsIntentionalMentions()||void 0===t.getContent()["m.mentions"]||e.rule_id!==_r(d[6]).RuleId.ContainsUserName&&e.rule_id!==_r(d[6]).RuleId.ContainsDisplayName&&e.rule_id!==_r(d[6]).RuleId.AtRoomNotification)&&!(null!==(n=e.conditions)&&void 0!==n&&n.some(function(e){return!r.eventFulfillsCondition(e,t)}))}},{key:"actionsForEvent",value:function(e){return this.pushActionsForEventAndRulesets(e,this.client.pushRules).actions||{}}},{key:"actionsAndRuleForEvent",value:function(e){return this.pushActionsForEventAndRulesets(e,this.client.pushRules)}},{key:"getPushRuleById",value:function(e){var t,n=this.getPushRuleAndKindById(e);return null!==(t=null==n?void 0:n.rule)&&void 0!==t?t:null}},{key:"getPushRuleAndKindById",value:function(e){for(var t of["global"]){var n;if(void 0!==(null===(n=this.client.pushRules)||void 0===n?void 0:n[t]))for(var r of c)if(void 0!==this.client.pushRules[t][r])for(var o of this.client.pushRules[t][r])if(o.rule_id===e)return{rule:o,kind:r}}return null}}],[{key:"actionListToActionsObject",value:function(e){var t={notify:!1,tweaks:{}};for(var n of e)n===_r(d[6]).PushRuleActionName.Notify?t.notify=!0:"object"==typeof n&&(void 0===n.value&&(n.value=!0),t.tweaks[n.set_tweak]=n.value);return t}},{key:"rewriteDefaultRules",value:function(e,t){var n=JSON.parse(JSON.stringify(t));return n||(n={}),n.global||(n.global={}),n.global.override||(n.global.override=[]),n.global.underride||(n.global.underride=[]),n.global.override=p(e,_r(d[6]).PushRuleKind.Override,n.global.override,v,h),n.global.underride=p(e,_r(d[6]).PushRuleKind.Underride,n.global.underride,y,m),n}},{key:"getPushRuleGlobRegex",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i",l=r?["(?<=^|\\W)","(?=\\W|$)"]:["^","$"],u=(0,t.default)(l,2),s=u[0],c=u[1],v="".concat(r,"-").concat(o,"-").concat(n);return e.cachedGlobToRegex[v]||(e.cachedGlobToRegex[v]=new RegExp(s+"("+(0,_r(d[8]).globToRegexp)(n)+")"+c,o)),e.cachedGlobToRegex[v]}},{key:"partsForDottedKey",value:function(e){var t=[],n="",r=!1;for(var o of e)r?(n+="\\"===o||"."===o?o:"\\"+o,r=!1):"."==o?(t.push(n),n=""):"\\"==o?r=!0:n+=o;return r&&(n+="\\"),t.push(n),t}}])})();(0,l.default)(R,"cachedGlobToRegex",{})},803,[1,34,11,12,42,739,804,765,748]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.TweakName=e.RuleId=e.PushRuleKind=e.PushRuleActionName=e.DMMemberCountCondition=e.ConditionOperator=e.ConditionKind=void 0,e.isDmMemberCountCondition=function(n){return"==2"===n||"2"===n};e.PushRuleActionName=(function(n){return n.DontNotify="dont_notify",n.Notify="notify",n.Coalesce="coalesce",n})({}),e.TweakName=(function(n){return n.Highlight="highlight",n.Sound="sound",n})({}),e.ConditionOperator=(function(n){return n.ExactEquals="==",n.LessThan="<",n.GreaterThan=">",n.GreaterThanOrEqual=">=",n.LessThanOrEqual="<=",n})({}),e.DMMemberCountCondition="2";e.ConditionKind=(function(n){return n.EventMatch="event_match",n.EventPropertyIs="event_property_is",n.EventPropertyContains="event_property_contains",n.ContainsDisplayName="contains_display_name",n.RoomMemberCount="room_member_count",n.SenderNotificationPermission="sender_notification_permission",n.CallStarted="call_started",n.CallStartedPrefix="org.matrix.msc3914.call_started",n})({}),e.PushRuleKind=(function(n){return n.Override="override",n.ContentSpecific="content",n.RoomSpecific="room",n.SenderSpecific="sender",n.Underride="underride",n})({}),e.RuleId=(function(n){return n.Master=".m.rule.master",n.IsUserMention=".m.rule.is_user_mention",n.IsRoomMention=".m.rule.is_room_mention",n.ContainsDisplayName=".m.rule.contains_display_name",n.ContainsUserName=".m.rule.contains_user_name",n.AtRoomNotification=".m.rule.roomnotif",n.DM=".m.rule.room_one_to_one",n.EncryptedDM=".m.rule.encrypted_room_one_to_one",n.Message=".m.rule.message",n.EncryptedMessage=".m.rule.encrypted",n.InviteToSelf=".m.rule.invite_for_me",n.MemberEvent=".m.rule.member_event",n.IncomingCall=".m.rule.call",n.SuppressNotices=".m.rule.suppress_notices",n.Tombstone=".m.rule.tombstone",n.PollStart=".m.rule.poll_start",n.PollStartUnstable=".org.matrix.msc3930.rule.poll_start",n.PollEnd=".m.rule.poll_end",n.PollEndUnstable=".org.matrix.msc3930.rule.poll_end",n.PollStartOneToOne=".m.rule.poll_start_one_to_one",n.PollStartOneToOneUnstable=".org.matrix.msc3930.rule.poll_start_one_to_one",n.PollEndOneToOne=".m.rule.poll_end_one_to_one",n.PollEndOneToOneUnstable=".org.matrix.msc3930.rule.poll_end_one_to_one",n})({})},804,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MediaHandlerEvent=_e.MediaHandler=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),l=e(r(d[5])),c=e(r(d[6])),u=e(r(d[7]));function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var f=_e.MediaHandlerEvent=(function(e){return e.LocalStreamsChanged="local_streams_changed",e})({});_e.MediaHandler=(function(e){function S(e){var o,c,u,f;return(0,n.default)(this,S),c=this,u=S,u=(0,l.default)(u),(o=(0,s.default)(c,v()?Reflect.construct(u,f||[],(0,l.default)(c).constructor):u.apply(c,f))).client=e,(0,t.default)(o,"audioInput",void 0),(0,t.default)(o,"audioSettings",void 0),(0,t.default)(o,"videoInput",void 0),(0,t.default)(o,"localUserMediaStream",void 0),(0,t.default)(o,"userMediaStreams",[]),(0,t.default)(o,"screensharingStreams",[]),(0,t.default)(o,"getMediaStreamPromise",void 0),o}return(0,c.default)(S,e),(0,o.default)(S,[{key:"restoreMediaSettings",value:function(e,t){this.audioInput=e,this.videoInput=t}},{key:"setAudioInput",value:function(e){var t=this;return(0,u.default)(function*(){r(d[8]).logger.info("MediaHandler setAudioInput() running (deviceId=".concat(e,")")),t.audioInput!==e&&(t.audioInput=e,yield t.updateLocalUsermediaStreams())})()}},{key:"setAudioSettings",value:function(e){var t=this;return(0,u.default)(function*(){r(d[8]).logger.info("MediaHandler setAudioSettings() running (opts=".concat(JSON.stringify(e),")")),t.audioSettings=Object.assign({},e),yield t.updateLocalUsermediaStreams()})()}},{key:"setVideoInput",value:function(e){var t=this;return(0,u.default)(function*(){r(d[8]).logger.info("MediaHandler setVideoInput() running (deviceId=".concat(e,")")),t.videoInput!==e&&(t.videoInput=e,yield t.updateLocalUsermediaStreams())})()}},{key:"setMediaInputs",value:function(e,t){var n=this;return(0,u.default)(function*(){r(d[8]).logger.log("MediaHandler setMediaInputs() running (audioInput: ".concat(e," videoInput: ").concat(t,")")),n.audioInput=e,n.videoInput=t,yield n.updateLocalUsermediaStreams()})()}},{key:"updateLocalUsermediaStreams",value:function(){var e=this;return(0,u.default)(function*(){if(0!==e.userMediaStreams.length){var t=new Map;for(var n of e.client.callEventHandler.calls.values())t.set(n.callId,{audio:n.hasLocalUserMediaAudioTrack,video:n.hasLocalUserMediaVideoTrack});for(var o of e.userMediaStreams)for(var s of(r(d[8]).logger.log("MediaHandler updateLocalUsermediaStreams() stopping all tracks (streamId=".concat(o.id,")")),o.getTracks()))s.stop();for(var l of(e.userMediaStreams=[],e.localUserMediaStream=void 0,e.client.callEventHandler.calls.values()))if(!l.callHasEnded()&&t.has(l.callId)){var c=t.get(l.callId),u=c.audio,v=c.video;r(d[8]).logger.log("MediaHandler updateLocalUsermediaStreams() calling getUserMediaStream() (callId=".concat(l.callId,")"));var S=yield e.getUserMediaStream(u,v);l.callHasEnded()||(yield l.updateLocalUsermediaStream(S))}for(var h of e.client.groupCallEventHandler.groupCalls.values())if(h.localCallFeed){r(d[8]).logger.log("MediaHandler updateLocalUsermediaStreams() calling getUserMediaStream() (groupCallId=".concat(h.groupCallId,")"));var p=yield e.getUserMediaStream(!0,h.type===r(d[9]).GroupCallType.Video);h.state!==r(d[9]).GroupCallState.Ended&&(yield h.updateLocalUsermediaStream(p))}e.emit(f.LocalStreamsChanged)}})()}},{key:"hasAudioDevice",value:function(){return(0,u.default)(function*(){try{return(yield navigator.mediaDevices.enumerateDevices()).filter(function(e){return"audioinput"===e.kind}).length>0}catch(e){return r(d[8]).logger.log("MediaHandler hasAudioDevice() calling navigator.mediaDevices.enumerateDevices with error",e),!1}})()}},{key:"hasVideoDevice",value:function(){return(0,u.default)(function*(){try{return(yield navigator.mediaDevices.enumerateDevices()).filter(function(e){return"videoinput"===e.kind}).length>0}catch(e){return r(d[8]).logger.log("MediaHandler hasVideoDevice() calling navigator.mediaDevices.enumerateDevices with error",e),!1}})()}},{key:"getUserMediaStream",value:function(e,t){var n=arguments,o=this;return(0,u.default)(function*(){var s=!(n.length>2&&void 0!==n[2])||n[2];return o.getMediaStreamPromise?o.getMediaStreamPromise=o.getMediaStreamPromise.then(function(){return o.getUserMediaStreamInternal(e,t,s)}):o.getMediaStreamPromise=o.getUserMediaStreamInternal(e,t,s),o.getMediaStreamPromise})()}},{key:"getUserMediaStreamInternal",value:function(e,t,n){var o=this;return(0,u.default)(function*(){var s,l,c,u=e&&(yield o.hasAudioDevice()),v=t&&(yield o.hasVideoDevice()),S=!0;o.localUserMediaStream?(u!==o.localUserMediaStream.getAudioTracks().length>0&&(S=!1),v!==o.localUserMediaStream.getVideoTracks().length>0&&(S=!1),u&&(null===(l=o.localUserMediaStream.getAudioTracks()[0])||void 0===l||null===(l=l.getSettings())||void 0===l?void 0:l.deviceId)!==o.audioInput&&(S=!1),v&&(null===(c=o.localUserMediaStream.getVideoTracks()[0])||void 0===c||null===(c=c.getSettings())||void 0===c?void 0:c.deviceId)!==o.videoInput&&(S=!1)):S=!1;if(S){var h;if(s=o.localUserMediaStream.clone(),r(d[8]).logger.log("MediaHandler getUserMediaStreamInternal() cloning (oldStreamId=".concat(null===(h=o.localUserMediaStream)||void 0===h?void 0:h.id," newStreamId=").concat(s.id," shouldRequestAudio=").concat(u," shouldRequestVideo=").concat(v,")")),!u)for(var p of s.getAudioTracks())s.removeTrack(p);if(!v)for(var M of s.getVideoTracks())s.removeTrack(M)}else{var I;try{I=o.getUserMediaContraints(u,v,!0),s=yield navigator.mediaDevices.getUserMedia(I)}catch(e){r(d[8]).logger.warn("MediaHandler getUserMediaStreamInternal() error (e=".concat(e,"), retrying without exact deviceId")),I=o.getUserMediaContraints(u,v,!1),s=yield navigator.mediaDevices.getUserMedia(I)}for(var y of(r(d[8]).logger.log("MediaHandler getUserMediaStreamInternal() calling getUserMediaStream (streamId=".concat(s.id,", shouldRequestAudio=").concat(u,", shouldRequestVideo=").concat(v,", constraints=").concat(JSON.stringify(I),")")),s.getTracks())){var U=y.getSettings();"audio"===y.kind?o.audioInput=U.deviceId:"video"===y.kind&&(o.videoInput=U.deviceId)}n&&(o.localUserMediaStream=s)}return n&&o.userMediaStreams.push(s),o.emit(f.LocalStreamsChanged),s})()}},{key:"stopUserMediaStream",value:function(e){for(var t of(r(d[8]).logger.log("MediaHandler stopUserMediaStream() stopping (streamId=".concat(e.id,")")),e.getTracks()))t.stop();var n=this.userMediaStreams.indexOf(e);if(-1!==n&&(r(d[8]).logger.debug("MediaHandler stopUserMediaStream() splicing usermedia stream out stream array (streamId=".concat(e.id,")"),e.id),this.userMediaStreams.splice(n,1)),this.emit(f.LocalStreamsChanged),this.localUserMediaStream===e)this.localUserMediaStream=void 0;else for(var o of e.getTracks()){var s;if(null!==(s=this.localUserMediaStream)&&void 0!==s&&s.getTrackById(o.id)){this.stopUserMediaStream(this.localUserMediaStream);break}}}},{key:"getScreensharingStream",value:function(){var e=arguments,t=this;return(0,u.default)(function*(){var n,o=e.length>0&&void 0!==e[0]?e[0]:{},s=!(e.length>1&&void 0!==e[1])||e[1];if(0===t.screensharingStreams.length){var l=t.getScreenshareContraints(o);o.desktopCapturerSourceId?(r(d[8]).logger.debug("MediaHandler getScreensharingStream() calling getUserMedia() (opts=".concat(JSON.stringify(o),")")),n=yield navigator.mediaDevices.getUserMedia(l)):(r(d[8]).logger.debug("MediaHandler getScreensharingStream() calling getDisplayMedia() (opts=".concat(JSON.stringify(o),")")),n=yield navigator.mediaDevices.getDisplayMedia(l))}else{var c=t.screensharingStreams[t.screensharingStreams.length-1];r(d[8]).logger.log("MediaHandler getScreensharingStream() cloning (streamId=".concat(c.id,")")),n=c.clone()}return s&&t.screensharingStreams.push(n),t.emit(f.LocalStreamsChanged),n})()}},{key:"stopScreensharingStream",value:function(e){for(var t of(r(d[8]).logger.debug("MediaHandler stopScreensharingStream() stopping stream (streamId=".concat(e.id,")")),e.getTracks()))t.stop();var n=this.screensharingStreams.indexOf(e);-1!==n&&(r(d[8]).logger.debug("MediaHandler stopScreensharingStream() splicing stream out (streamId=".concat(e.id,")")),this.screensharingStreams.splice(n,1)),this.emit(f.LocalStreamsChanged)}},{key:"stopAllStreams",value:function(){for(var e of this.userMediaStreams)for(var t of(r(d[8]).logger.log("MediaHandler stopAllStreams() stopping (streamId=".concat(e.id,")")),e.getTracks()))t.stop();for(var n of this.screensharingStreams)for(var o of n.getTracks())o.stop();this.userMediaStreams=[],this.screensharingStreams=[],this.localUserMediaStream=void 0,this.emit(f.LocalStreamsChanged)}},{key:"getUserMediaContraints",value:function(e,n,o){var s=!!navigator.webkitGetUserMedia,l=o?"exact":"ideal",c={};this.audioInput&&(c.deviceId=(0,t.default)({},l,this.audioInput)),this.audioSettings&&(c.autoGainControl={ideal:this.audioSettings.autoGainControl},c.echoCancellation={ideal:this.audioSettings.echoCancellation},c.noiseSuppression={ideal:this.audioSettings.noiseSuppression});var u={width:s?{exact:640}:{ideal:640},height:s?{exact:360}:{ideal:360}};return this.videoInput&&(u.deviceId=(0,t.default)({},l,this.videoInput)),{audio:!!e&&c,video:!!n&&u}}},{key:"getScreenshareContraints",value:function(e){var t=e.desktopCapturerSourceId,n=e.audio;return t?{audio:null!=n&&n,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t}}}:{audio:null!=n&&n,video:!0}}}])})(r(d[10]).TypedEventEmitter)},805,[1,739,11,12,18,20,23,743,746,757,762]);
__d(function(g,_r,_i,_a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RoomNameType=_e.RoomEvent=_e.Room=_e.NotificationCountType=_e.KNOWN_SAFE_ROOM_VERSION=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),r=e(_r(d[4])),a=e(_r(d[5])),o=e(_r(d[6])),s=e(_r(d[7])),l=e(_r(d[8])),u=e(_r(d[9])),v=e(_r(d[10])),c=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,o)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((a=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(a.get||a.set)?r(o,s,a):o[s]=e[s]);return o})(e,t)})(_r(d[11])),h=c;function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function E(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?f(Object(i),!0).forEach(function(n){(0,t.default)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var p=_e.KNOWN_SAFE_ROOM_VERSION="10",y=["1","2","3","4","5","6","7","8","9","10"],T=_e.NotificationCountType=(function(e){return e.Highlight="highlight",e.Total="total",e})({}),S=_e.RoomEvent=(function(e){return e.MyMembership="Room.myMembership",e.Tags="Room.tags",e.AccountData="Room.accountData",e.Receipt="Room.receipt",e.Name="Room.name",e.Redaction="Room.redaction",e.RedactionCancelled="Room.redactionCancelled",e.LocalEchoUpdated="Room.localEchoUpdated",e.Timeline="Room.timeline",e.TimelineReset="Room.timelineReset",e.TimelineRefresh="Room.TimelineRefresh",e.OldStateUpdated="Room.OldStateUpdated",e.CurrentStateUpdated="Room.CurrentStateUpdated",e.HistoryImportedWithinTimeline="Room.historyImportedWithinTimeline",e.UnreadNotifications="Room.UnreadNotifications",e.Summary="Room.Summary",e})({}),R=(_e.Room=(function(e){function f(e,n,a){var l,u;(0,r.default)(this,f);var c,h,E,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c=this,h=f,h=(0,s.default)(h),l=(0,o.default)(c,m()?Reflect.construct(h,E||[],(0,s.default)(c).constructor):h.apply(c,E)),u=l,l.roomId=e,l.client=n,l.myUserId=a,l.opts=p,(0,t.default)(l,"reEmitter",void 0),(0,t.default)(l,"txnToEvent",new Map),(0,t.default)(l,"notificationCounts",{}),(0,t.default)(l,"bumpStamp",void 0),(0,t.default)(l,"threadNotifications",new Map),(0,t.default)(l,"cachedThreadReadReceipts",new Map),(0,t.default)(l,"oldestThreadedReceiptTs",1/0),(0,t.default)(l,"unthreadedReceipts",new Map),(0,t.default)(l,"timelineSets",void 0),(0,t.default)(l,"polls",new Map),(0,t.default)(l,"threadsTimelineSets",[]),(0,t.default)(l,"filteredTimelineSets",{}),(0,t.default)(l,"timelineNeedsRefresh",!1),(0,t.default)(l,"pendingEventList",void 0),(0,t.default)(l,"blacklistUnverifiedDevices",void 0),(0,t.default)(l,"selfMembership",void 0),(0,t.default)(l,"heroes",null),(0,t.default)(l,"getTypeWarning",!1),(0,t.default)(l,"membersPromise",void 0),(0,t.default)(l,"name",void 0),(0,t.default)(l,"normalizedName",void 0),(0,t.default)(l,"tags",{}),(0,t.default)(l,"accountData",new Map),(0,t.default)(l,"summary",null),(0,t.default)(l,"oldState",void 0),(0,t.default)(l,"currentState",void 0),(0,t.default)(l,"relations",void 0),(0,t.default)(l,"threads",new Map),(0,t.default)(l,"visibilityEvents",new Map),(0,t.default)(l,"roomReceipts",new(_r(d[12]).RoomReceipts)(l)),(0,t.default)(l,"stickyEvents",new(_r(d[13]).RoomStickyEventsStore)),(0,t.default)(l,"threadTimelineSetsPromise",null),(0,t.default)(l,"threadsReady",!1),(0,t.default)(l,"updateThreadRootEvents",function(e,t,n){var i,r;e.length&&(l.updateThreadRootEvent(null===(i=l.threadsTimelineSets)||void 0===i?void 0:i[0],e,t,n),e.hasCurrentUserParticipated&&l.updateThreadRootEvent(null===(r=l.threadsTimelineSets)||void 0===r?void 0:r[1],e,t,n))}),(0,t.default)(l,"updateThreadRootEvent",function(e,t,n,i){e&&t.rootEvent&&(i&&e.removeEvent(t.id),_r(d[14]).Thread.hasServerSideSupport?e.addLiveEvent(t.rootEvent,{duplicateStrategy:_r(d[15]).DuplicateStrategy.Replace,fromCache:!1,roomState:l.currentState,addToState:!1}):e.addEventToTimeline(t.rootEvent,e.getLiveTimeline(),{toStartOfTimeline:n,addToState:!1}))}),(0,t.default)(l,"tryApplyRedaction",function(e){if(e.isRedaction()){var t=e.event.redacts,n=t?l.findEventById(t):void 0;if(t)try{l.stickyEvents.handleRedaction(n||t)}catch(e){_r(d[16]).logger.error("Failed to handle redaction for sticky event",e)}n&&l.applyEventAsRedaction(e,n)}else if(e.getType()===_r(d[17]).EventType.RoomMember){var r=e.getContent().membership;if(r!==_r(d[18]).KnownMembership.Ban&&(r!==_r(d[18]).KnownMembership.Leave||e.getStateKey()===e.getSender()))return;if(!0!==e.getContent()["org.matrix.msc4293.redact_events"])return;if(!l.getLiveTimeline().getState(_r(d[19]).Direction.Forward).maySendRedactionForEvent(e,e.getSender()))return;var a=l.getTimelineSets().map(function(e){return e.getTimelines()}).reduce(function(e,t){return e.push.apply(e,(0,i.default)(t)),e},[]).map(function(t){return t.getEvents().filter(function(t){return t.getSender()===e.getStateKey()})}).reduce(function(e,t){return e.push.apply(e,(0,i.default)(t)),t},[]);for(var o of a)l.applyEventAsRedaction(e,o)}}),l.setMaxListeners(100),l.reEmitter=new(_r(d[20]).TypedReEmitter)(l),p.pendingEventOrdering=p.pendingEventOrdering||_r(d[21]).PendingEventOrdering.Chronological,l.name=e,l.normalizedName=e,l.relations=new(_r(d[22]).RelationsContainer)(l.client,l),l.on(S.Receipt,l.onReceipt),l.reEmitter.reEmit(l.stickyEvents,[_r(d[13]).RoomStickyEventsEvent.Update]),l.timelineSets=[new(_r(d[15]).EventTimelineSet)(l,p)],l.reEmitter.reEmit(l.getUnfilteredTimelineSet(),[S.Timeline,S.TimelineReset]),l.fixUpLegacyTimelineFields(),l.opts.pendingEventOrdering===_r(d[21]).PendingEventOrdering.Detached&&(l.pendingEventList=[],l.client.store.getPendingEvents(l.roomId).then(function(e){var t=l.client.getEventMapper({decrypt:!1});e.forEach((function(){var e=(0,v.default)(function*(e){var i=t(e);yield n.decryptEventIfNeeded(i),i.setStatus(_r(d[23]).EventStatus.NOT_SENT),u.addPendingEvent(i,i.getTxnId())});return function(t){return e.apply(this,arguments)}})())})),l.opts.lazyLoadMembers?l.membersPromise=void 0:l.membersPromise=Promise.resolve(!1),l}return(0,u.default)(f,e),(0,a.default)(f,[{key:"createThreadsTimelineSets",value:function(){var e=this;return(0,v.default)(function*(){var t;if(e.threadTimelineSetsPromise)return e.threadTimelineSetsPromise;if(null!==(t=e.client)&&void 0!==t&&t.supportsThreads())try{e.threadTimelineSetsPromise=Promise.all([e.createThreadTimelineSet(),e.createThreadTimelineSet(_r(d[14]).ThreadFilterType.My)]);var n=yield e.threadTimelineSetsPromise;return e.threadsTimelineSets[0]=n[0],e.threadsTimelineSets[1]=n[1],n}catch(t){return e.threadTimelineSetsPromise=null,null}return null})()}},{key:"decryptCriticalEvents",value:function(){var e=this;return(0,v.default)(function*(){if(e.client.getCrypto()){var t=e.getEventReadUpTo(e.client.getUserId(),!0),n=e.getLiveTimeline().getEvents(),i=n.findIndex(function(e){return e.event.event_id===t}),r=n.slice(i).reverse().map(function(t){return e.client.decryptEventIfNeeded(t)});yield Promise.allSettled(r)}})()}},{key:"decryptAllEvents",value:function(){var e=this;return(0,v.default)(function*(){if(e.client.getCrypto()){var t=e.getUnfilteredTimelineSet().getLiveTimeline().getEvents().slice(0).reverse().map(function(t){return e.client.decryptEventIfNeeded(t)});yield Promise.allSettled(t)}})()}},{key:"getCreator",value:function(){var e,t=this.currentState.getStateEvents(_r(d[17]).EventType.RoomCreate,"");return null!==(e=null==t?void 0:t.getSender())&&void 0!==e?e:null}},{key:"getVersion",value:function(){return this.currentState.getRoomVersion()}},{key:"getRecommendedVersion",value:function(){var e=this;return(0,v.default)(function*(){var t={};try{t=yield e.client.getCapabilities()}catch(e){}var n=t["m.room_versions"];if(!n)for(var i of(n={default:p,available:{}},y))n.available[i]=_r(d[24]).RoomVersionStability.Stable;var r=e.checkVersionAgainstCapability(n);if(r.urgent&&r.needsUpgrade){_r(d[16]).logger.warn("Refreshing room version capability because the server looks to be supporting a newer room version we don't know about.");try{t=yield e.client.fetchCapabilities()}catch(e){_r(d[16]).logger.warn("Failed to refresh room version capabilities",e)}if(!(n=t["m.room_versions"]))return _r(d[16]).logger.warn("No room version capability - assuming upgrade required."),r;r=e.checkVersionAgainstCapability(n)}return r})()}},{key:"checkVersionAgainstCapability",value:function(e){var t=this.getVersion();_r(d[16]).logger.log("[".concat(this.roomId,"] Current version: ").concat(t)),_r(d[16]).logger.log("[".concat(this.roomId,"] Version capability: "),e);var n={version:t,needsUpgrade:!1,urgent:!1};return t===e.default||Object.keys(e.available).filter(function(t){return"stable"===e.available[t]}).includes(t)||(n.version=e.default,n.needsUpgrade=!0,n.urgent=!!this.getVersion().match(/^[0-9]+[0-9.]*$/g),n.urgent?_r(d[16]).logger.warn("URGENT upgrade required on ".concat(this.roomId)):_r(d[16]).logger.warn("Non-urgent upgrade required on ".concat(this.roomId))),n}},{key:"userMayUpgradeRoom",value:function(e){return this.currentState.maySendStateEvent(_r(d[17]).EventType.RoomTombstone,e)}},{key:"getPendingEvents",value:function(){if(!this.pendingEventList)throw new Error("Cannot call getPendingEvents with pendingEventOrdering == "+this.opts.pendingEventOrdering);return this.pendingEventList}},{key:"removePendingEvent",value:function(e){if(!this.pendingEventList)throw new Error("Cannot call removePendingEvent with pendingEventOrdering == "+this.opts.pendingEventOrdering);var t=(0,c.removeElement)(this.pendingEventList,function(t){return t.getId()==e},!1);return this.savePendingEvents(),t}},{key:"hasPendingEvent",value:function(e){var t,n;return null!==(t=null===(n=this.pendingEventList)||void 0===n?void 0:n.some(function(t){return t.getId()===e}))&&void 0!==t&&t}},{key:"getPendingEvent",value:function(e){var t,n;return null!==(t=null===(n=this.pendingEventList)||void 0===n?void 0:n.find(function(t){return t.getId()===e}))&&void 0!==t?t:null}},{key:"getLiveTimeline",value:function(){return this.getUnfilteredTimelineSet().getLiveTimeline()}},{key:"timeline",get:function(){return this.getLiveTimeline().getEvents()}},{key:"getLastActiveTimestamp",value:function(){var e=this.getLiveTimeline().getEvents();return e.length?e[e.length-1].getTs():Number.MIN_SAFE_INTEGER}},{key:"getLastLiveEvent",value:function(){var e,t,n=this.getLiveTimeline().getEvents(),i=n[n.length-1],r=this.getLastThread();if(!r)return i;var a=r.events[r.events.length-1];return(null!==(e=null==i?void 0:i.getTs())&&void 0!==e?e:0)>(null!==(t=null==a?void 0:a.getTs())&&void 0!==t?t:0)?i:a}},{key:"getLastThread",value:function(){return this.getThreads().reduce(function(e,t){var n,i;if(!e)return t;var r=t.events[t.events.length-1],a=e.events[e.events.length-1];return(null!==(n=null==r?void 0:r.getTs())&&void 0!==n?n:0)>=(null!==(i=null==a?void 0:a.getTs())&&void 0!==i?i:0)?t:e},void 0)}},{key:"getMyMembership",value:function(){var e;return null!==(e=this.selfMembership)&&void 0!==e?e:_r(d[18]).KnownMembership.Leave}},{key:"getDMInviter",value:function(){var e,t=this.getMember(this.myUserId);if(t)return t.getDMInviter();if(this.selfMembership===_r(d[18]).KnownMembership.Invite&&2===this.getInvitedAndJoinedMemberCount())return null===(e=this.heroes)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.userId}},{key:"guessDMUserId",value:function(){var e=this,t=this.getMember(this.myUserId);if(t){var n=t.getDMInviter();if(n)return n}if(Array.isArray(this.heroes)&&this.heroes.length)return this.heroes[0].userId;var i=this.currentState.getMembers().find(function(t){return t.userId!==e.myUserId});return i?i.userId:this.myUserId}},{key:"getFunctionalMembers",value:function(){var e=this.currentState.getStateEvents(_r(d[17]).UNSTABLE_ELEMENT_FUNCTIONAL_USERS.name,"");return Array.isArray(null==e?void 0:e.getContent().service_members)?e.getContent().service_members:[]}},{key:"getAvatarFallbackMember",value:function(){var e,t=this,n=this.getFunctionalMembers(),i=0;if(this.getMembers().forEach(function(e){"join"!==e.membership&&"invite"!==e.membership||n.includes(e.userId)||i++}),!(i>2)){var r=null===(e=this.heroes)||void 0===e?void 0:e.filter(function(e){return!n.includes(e.userId)}),a=Array.isArray(r)&&r.length;if(a){for(var o of r){if(o.fromMSC4186){var s=new(_r(d[25]).RoomMember)(this.roomId,o.userId);return s.setMembershipEvent(new(_r(d[26]).MatrixEvent)({event_id:"$"+this.roomId+o.userId+(new Date).getTime(),type:_r(d[17]).EventType.RoomMember,state_key:o.userId,content:{displayname:o.displayName,avatar_url:o.avatarUrl}})),s}var l=this.getMember(o.userId);if(l)return l}var u=r.map(function(e){return t.getMember(e.userId)}).find(function(e){return!!e});if(u)return u}var v=this.getMembers(),c=null==v?void 0:v.filter(function(e){return!n.includes(e.userId)});if(c.length<=2){var h=c.find(function(e){return e.userId!==t.myUserId});if(h)return h}if(a){var m=r.map(function(e){return t.client.getUser(e.userId)}).find(function(e){return!!e});if(m){var f=new(_r(d[25]).RoomMember)(this.roomId,m.userId);return f.user=m,f}}}}},{key:"updateMyMembership",value:function(e){var t=this.selfMembership;this.selfMembership=e,t!==e&&(e===_r(d[18]).KnownMembership.Leave&&this.cleanupAfterLeaving(),this.emit(S.MyMembership,this,e,t))}},{key:"loadMembersFromServer",value:function(){var e=this;return(0,v.default)(function*(){var t=e.client.store.getSyncToken();return(yield e.client.members(e.roomId,void 0,_r(d[18]).KnownMembership.Leave,null!=t?t:void 0)).chunk})()}},{key:"loadMembers",value:function(){var e=this;return(0,v.default)(function*(){var t=!1,n=yield e.client.store.getOutOfBandMembers(e.roomId);return(null===n||e.hasEncryptionStateEvent())&&(t=!0,n=yield e.loadMembersFromServer(),_r(d[16]).logger.log("LL: got ".concat(n.length," ")+"members from server for room ".concat(e.roomId))),{memberEvents:n.filter(c.noUnsafeEventProps).map(e.client.getEventMapper()),fromServer:t}})()}},{key:"membersLoaded",value:function(){return!this.opts.lazyLoadMembers||this.currentState.outOfBandMembersReady()}},{key:"loadMembersIfNeeded",value:function(){var e=this;if(this.membersPromise)return this.membersPromise;this.currentState.markOutOfBandMembersStarted();var t=this.loadMembers().then(function(t){return e.currentState.setOutOfBandMembers(t.memberEvents),t.fromServer}).catch(function(t){throw e.membersPromise=void 0,e.currentState.markOutOfBandMembersFailed(),t});return t.then(function(t){if(t){var n=e.currentState.getMembers().filter(function(e){return e.isOutOfBand()}).map(function(e){var t;return null===(t=e.events.member)||void 0===t?void 0:t.event});return _r(d[16]).logger.log("LL: telling store to write ".concat(n.length)+" members for room ".concat(e.roomId)),e.client.store.setOutOfBandMembers(e.roomId,n).catch(function(e){_r(d[16]).logger.log("LL: storing OOB room members failed, oh well",e)})}}).catch(function(e){_r(d[16]).logger.error(e)}),this.membersPromise=t,this.membersPromise}},{key:"clearLoadedMembersIfNeeded",value:function(){var e=this;return(0,v.default)(function*(){e.opts.lazyLoadMembers&&e.membersPromise&&(yield e.loadMembersIfNeeded(),yield e.client.store.clearOutOfBandMembers(e.roomId),e.currentState.clearOutOfBandMembers(),e.membersPromise=void 0)})()}},{key:"cleanupAfterLeaving",value:function(){var e=this;this.clearLoadedMembersIfNeeded().catch(function(t){_r(d[16]).logger.error("error after clearing loaded members from "+"room ".concat(e.roomId," after leaving")),_r(d[16]).logger.log(t)})}},{key:"refreshLiveTimeline",value:function(){var e=this;return(0,v.default)(function*(){var t=e.getLiveTimeline(),n=t.getPaginationToken(_r(d[19]).EventTimeline.FORWARDS),i=t.getPaginationToken(_r(d[19]).EventTimeline.BACKWARDS),r=t.getEvents(),a=r[r.length-1];_r(d[16]).logger.log("[refreshLiveTimeline for ".concat(e.roomId,"] at ")+"mostRecentEventInTimeline=".concat(a&&a.getId()," ")+"liveTimelineBefore=".concat(t.toString()," ")+"forwardPaginationToken=".concat(n," ")+"backwardPaginationToken=".concat(i));var o=e.getUnfilteredTimelineSet(),s=null;a?(e.resetLiveTimeline(null,null),e.emit(S.TimelineRefresh,e,o),s=yield e.client.getEventTimeline(o,a.getId())):s=yield e.client.getLatestTimeline(o);var l=o.getLiveTimeline();!l||null===l.getPaginationToken(_r(d[19]).Direction.Forward)&&null===l.getPaginationToken(_r(d[19]).Direction.Backward)&&0===l.getEvents().length?(_r(d[16]).logger.log("[refreshLiveTimeline for ".concat(e.roomId,"] using our new live timeline")),s.setPaginationToken(n,_r(d[19]).EventTimeline.FORWARDS),o.setLiveTimeline(s),e.fixUpLegacyTimelineFields()):_r(d[16]).logger.log("[refreshLiveTimeline for ".concat(e.roomId,"] `/sync` or some other request beat us to creating a new ")+"live timeline after we reset it. We'll use that instead since any events in the scrollback from this timeline will include the history."),e.setTimelineNeedsRefresh(!1),e.emit(S.TimelineRefresh,e,o)})()}},{key:"resetLiveTimeline",value:function(e,t){for(var n of this.timelineSets)n.resetLiveTimeline(null!=e?e:void 0,null!=t?t:void 0);for(var i of this.threads.values())i.resetLiveTimeline(e,t);this.fixUpLegacyTimelineFields()}},{key:"fixUpLegacyTimelineFields",value:function(){var e=this.oldState,t=this.currentState;this.oldState=this.getLiveTimeline().getState(_r(d[19]).EventTimeline.BACKWARDS),this.currentState=this.getLiveTimeline().getState(_r(d[19]).EventTimeline.FORWARDS),e!==this.oldState&&this.emit(S.OldStateUpdated,this,e,this.oldState),t!==this.currentState&&(this.emit(S.CurrentStateUpdated,this,t,this.currentState),this.reEmitter.stopReEmitting(t,[_r(d[27]).RoomStateEvent.Events,_r(d[27]).RoomStateEvent.Members,_r(d[27]).RoomStateEvent.NewMember,_r(d[27]).RoomStateEvent.Update,_r(d[27]).RoomStateEvent.Marker,_r(d[28]).BeaconEvent.New,_r(d[28]).BeaconEvent.Update,_r(d[28]).BeaconEvent.Destroy,_r(d[28]).BeaconEvent.LivenessChange]),this.reEmitter.reEmit(this.currentState,[_r(d[27]).RoomStateEvent.Events,_r(d[27]).RoomStateEvent.Members,_r(d[27]).RoomStateEvent.NewMember,_r(d[27]).RoomStateEvent.Update,_r(d[27]).RoomStateEvent.Marker,_r(d[28]).BeaconEvent.New,_r(d[28]).BeaconEvent.Update,_r(d[28]).BeaconEvent.Destroy,_r(d[28]).BeaconEvent.LivenessChange]))}},{key:"onReceipt",value:function(e){this.hasEncryptionStateEvent()&&this.clearNotificationsOnReceipt(e)}},{key:"clearNotificationsOnReceipt",value:function(e){var t=this,i=[],r=!1,a=e.getContent();for(var o of Object.values(a))for(var s of Object.entries(o)){var l=(0,n.default)(s,2),u=l[0],v=l[1];if(h.isSupportedReceiptType(u)&&v)for(var c of Object.entries(v)){var m=(0,n.default)(c,2),f=m[0],E=m[1];if(E&&"object"==typeof E){var p=E;f===this.client.getUserId()&&(void 0===p.thread_id?r=!0:"string"==typeof p.thread_id&&i.push(p.thread_id))}}}for(var y of(r&&(i=this.getThreads().filter(function(e){return t.getThreadUnreadNotificationCount(e.id,T.Total)>0||t.getThreadUnreadNotificationCount(e.id,T.Highlight)>0}).map(function(e){return e.id})).push("main"),i)){var S,R="main"===y?this.getLiveTimeline():null===(S=this.getThread(y))||void 0===S?void 0:S.liveTimeline;if(R){for(var I=R.getEvents(),b=0,k=I.length-1;k>=0;k--){var N;if(k===I.length-20)return;var L=I[k];if(this.hasUserReadEvent(this.client.getUserId(),L.getId()))break;var M=this.client.getPushActionsForEvent(L);b+=null!=M&&null!==(N=M.tweaks)&&void 0!==N&&N.highlight?1:0}"main"===y?this.setUnreadNotificationCount(T.Highlight,b):this.setThreadUnreadNotificationCount(y,T.Highlight,b)}else _r(d[16]).logger.warn("Couldn't find timeline for thread ID ".concat(y," in room ").concat(this.roomId))}}},{key:"getTimelineSets",value:function(){return this.timelineSets}},{key:"getUnfilteredTimelineSet",value:function(){return this.timelineSets[0]}},{key:"getTimelineForEvent",value:function(e){var t=this.findEventById(e),n=this.findThreadForEvent(t);return n?n.timelineSet.getTimelineForEvent(e):this.getUnfilteredTimelineSet().getTimelineForEvent(e)}},{key:"addTimeline",value:function(){return this.getUnfilteredTimelineSet().addTimeline()}},{key:"setTimelineNeedsRefresh",value:function(e){this.timelineNeedsRefresh=e}},{key:"getTimelineNeedsRefresh",value:function(){return this.timelineNeedsRefresh}},{key:"findEventById",value:function(e){var t=this.getUnfilteredTimelineSet().findEventById(e);if(!t)for(var n=this.getThreads(),i=0;i<n.length;i++){if(t=n[i].findEventById(e))return t}return t}},{key:"getUnreadNotificationCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.Total,t=this.getRoomUnreadNotificationCount(e);for(var n of this.threadNotifications.values()){var i;t+=null!==(i=n[e])&&void 0!==i?i:0}return t}},{key:"getUnreadCountForEventContext",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.Total,n=arguments.length>1?arguments[1]:void 0;return null!==(e=!!n.threadRootId&&!n.isThreadRoot?this.getThreadUnreadNotificationCount(n.threadRootId,t):this.getRoomUnreadNotificationCount(t))&&void 0!==e?e:0}},{key:"getRoomUnreadNotificationCount",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.Total;return null!==(e=this.notificationCounts[t])&&void 0!==e?e:0}},{key:"getThreadUnreadNotificationCount",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.Total;return null!==(t=null===(n=this.threadNotifications.get(e))||void 0===n?void 0:n[i])&&void 0!==t?t:0}},{key:"hasThreadUnreadNotification",value:function(){for(var e of this.threadNotifications.values()){var t,n;if((null!==(t=e.highlight)&&void 0!==t?t:0)>0||(null!==(n=e.total)&&void 0!==n?n:0)>0)return!0}return!1}},{key:"setThreadUnreadNotificationCount",value:function(e,n,i){var r,a,o=E({highlight:null===(r=this.threadNotifications.get(e))||void 0===r?void 0:r.highlight,total:null===(a=this.threadNotifications.get(e))||void 0===a?void 0:a.total},(0,t.default)({},n,i));this.threadNotifications.set(e,o),this.emit(S.UnreadNotifications,o,e)}},{key:"threadsAggregateNotificationType",get:function(){var e=null;for(var t of this.threadNotifications.values()){var n,i;if((null!==(n=t.highlight)&&void 0!==n?n:0)>0)return T.Highlight;(null!==(i=t.total)&&void 0!==i?i:0)>0&&!e&&(e=T.Total)}return e}},{key:"resetThreadUnreadNotificationCountFromSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.hasEncryptionStateEvent();for(var i of this.threadNotifications){var r=(0,n.default)(i,2),a=r[0],o=r[1];e.includes(a)||(o.total=0,t||(o.highlight=0))}this.emit(S.UnreadNotifications)}},{key:"setBumpStamp",value:function(e){this.bumpStamp=e}},{key:"getBumpStamp",value:function(){return this.bumpStamp}},{key:"setUnreadNotificationCount",value:function(e,t){this.notificationCounts[e]=t,this.emit(S.UnreadNotifications,this.notificationCounts)}},{key:"setUnread",value:function(e,t){return this.setUnreadNotificationCount(e,t)}},{key:"setSummary",value:function(e){var t,n=this,i=null===(t=e["m.heroes"])||void 0===t?void 0:t.map(function(e){return{userId:e,fromMSC4186:!1}}),r=e["m.joined_member_count"],a=e["m.invited_member_count"];Number.isInteger(r)&&this.currentState.setJoinedMemberCount(r),Number.isInteger(a)&&this.currentState.setInvitedMemberCount(a),Array.isArray(i)&&(this.heroes=i.filter(function(e){return e.userId!=n.myUserId})),this.emit(S.Summary,e)}},{key:"setMSC4186SummaryData",value:function(e,t,n){var i=this;e&&(this.heroes=e.filter(function(e){return e.user_id!==i.myUserId}).map(function(e){return{userId:e.user_id,displayName:e.displayname,avatarUrl:e.avatar_url,fromMSC4186:!0}})),void 0!==t&&Number.isInteger(t)&&this.currentState.setJoinedMemberCount(t),void 0!==n&&Number.isInteger(n)&&this.currentState.setInvitedMemberCount(n),this.emit(S.Summary,{"m.heroes":this.heroes?this.heroes.map(function(e){return e.userId}):[],"m.joined_member_count":t,"m.invited_member_count":n})}},{key:"setBlacklistUnverifiedDevices",value:function(e){this.blacklistUnverifiedDevices=e}},{key:"getBlacklistUnverifiedDevices",value:function(){return void 0===this.blacklistUnverifiedDevices?null:this.blacklistUnverifiedDevices}},{key:"getAvatarUrl",value:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=this.getMxcAvatarUrl();return(o||r)&&o?(0,_r(d[29]).getHttpUriForMxc)(e,o,t,n,i,void 0,void 0,a):null}},{key:"getMxcAvatarUrl",value:function(){var e,t=null===(e=this.currentState.getStateEvents(_r(d[17]).EventType.RoomAvatar,""))||void 0===e?void 0:e.getContent().url;return t&&"string"==typeof t?t:null}},{key:"getCanonicalAlias",value:function(){var e,t=null===(e=this.currentState.getStateEvents(_r(d[17]).EventType.RoomCanonicalAlias,""))||void 0===e?void 0:e.getContent().alias;return t&&"string"==typeof t?t:null}},{key:"getAltAliases",value:function(){var e,t=null===(e=this.currentState.getStateEvents(_r(d[17]).EventType.RoomCanonicalAlias,""))||void 0===e?void 0:e.getContent().alt_aliases;return Array.isArray(t)?t.filter(function(e){return"string"==typeof e}):[]}},{key:"addEventsToTimeline",value:function(e,t,n,i,r){i.getTimelineSet().addEventsToTimeline(e,t,n,i,r)}},{key:"getThread",value:function(e){var t;return null!==(t=this.threads.get(e))&&void 0!==t?t:null}},{key:"getThreads",value:function(){return Array.from(this.threads.values())}},{key:"getMember",value:function(e){return this.currentState.getMember(e)}},{key:"getMembers",value:function(){return this.currentState.getMembers()}},{key:"getJoinedMembers",value:function(){return this.getMembersWithMembership(_r(d[18]).KnownMembership.Join)}},{key:"getJoinedMemberCount",value:function(){return this.currentState.getJoinedMemberCount()}},{key:"getInvitedMemberCount",value:function(){return this.currentState.getInvitedMemberCount()}},{key:"getInvitedAndJoinedMemberCount",value:function(){return this.getInvitedMemberCount()+this.getJoinedMemberCount()}},{key:"getMembersWithMembership",value:function(e){return this.currentState.getMembers().filter(function(t){return t.membership===e})}},{key:"getEncryptionTargetMembers",value:function(){var e=this;return(0,v.default)(function*(){yield e.loadMembersIfNeeded();var t=e.getMembersWithMembership(_r(d[18]).KnownMembership.Join);return e.shouldEncryptForInvitedMembers()&&(t=t.concat(e.getMembersWithMembership(_r(d[18]).KnownMembership.Invite))),t})()}},{key:"shouldEncryptForInvitedMembers",value:function(){var e,t=this.currentState.getStateEvents(_r(d[17]).EventType.RoomHistoryVisibility,"");return"joined"!==(null==t||null===(e=t.getContent())||void 0===e?void 0:e.history_visibility)}},{key:"getDefaultRoomName",value:function(e){return this.calculateRoomName(e,!0)}},{key:"hasMembershipState",value:function(e,t){var n=this.getMember(e);return!!n&&n.membership===t}},{key:"getOrCreateFilteredTimelineSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prepopulateTimeline,i=void 0===n||n,r=t.useSyncEvents,a=void 0===r||r,o=t.pendingEvents,s=void 0===o||o;if(this.filteredTimelineSets[e.filterId])return this.filteredTimelineSets[e.filterId];var l=Object.assign({filter:e,pendingEvents:s},this.opts),u=new(_r(d[15]).EventTimelineSet)(this,l);this.reEmitter.reEmit(u,[S.Timeline,S.TimelineReset]),a&&(this.filteredTimelineSets[e.filterId]=u,this.timelineSets.push(u));var v=this.getLiveTimeline();if(i){v.getEvents().forEach(function(e){u.addLiveEvent(e,{addToState:!1})});for(var c=v;c.getNeighbouringTimeline(_r(d[19]).EventTimeline.BACKWARDS);)c=c.getNeighbouringTimeline(_r(d[19]).EventTimeline.BACKWARDS);u.getLiveTimeline().setPaginationToken(c.getPaginationToken(_r(d[19]).EventTimeline.BACKWARDS),_r(d[19]).EventTimeline.BACKWARDS)}else if(a){var h=v.getPaginationToken(_r(d[19]).Direction.Forward);u.getLiveTimeline().setPaginationToken(h,_r(d[19]).Direction.Backward)}return u}},{key:"getThreadListFilter",value:function(){var e=arguments,n=this;return(0,v.default)(function*(){var i=e.length>0&&void 0!==e[0]?e[0]:_r(d[14]).ThreadFilterType.All,r=n.client.getUserId(),a=new(_r(d[30]).Filter)(r),o={room:{timeline:(0,t.default)({},_r(d[14]).FILTER_RELATED_BY_REL_TYPES.name,[_r(d[14]).THREAD_RELATION_TYPE.name])}};i===_r(d[14]).ThreadFilterType.My&&(o.room.timeline[_r(d[14]).FILTER_RELATED_BY_SENDERS.name]=[r]),a.setDefinition(o);var s=yield n.client.getOrCreateFilter("THREAD_PANEL_".concat(n.roomId,"_").concat(i),a);return a.filterId=s,a})()}},{key:"createThreadTimelineSet",value:function(e){var t=this;return(0,v.default)(function*(){var i;if(_r(d[14]).Thread.hasServerSideListSupport)i=new(_r(d[15]).EventTimelineSet)(t,E(E({},t.opts),{},{pendingEvents:!1}),void 0,void 0,null!=e?e:_r(d[14]).ThreadFilterType.All),t.reEmitter.reEmit(i,[S.Timeline,S.TimelineReset]);else if(_r(d[14]).Thread.hasServerSideSupport){var r=yield t.getThreadListFilter(e);i=t.getOrCreateFilteredTimelineSet(r,{prepopulateTimeline:!1,useSyncEvents:!1,pendingEvents:!1})}else i=new(_r(d[15]).EventTimelineSet)(t,{pendingEvents:!1}),Array.from(t.threads).forEach(function(r){var a=(0,n.default)(r,2)[1];if(0!==a.length){var o=a.timeline.some(function(e){return e.getSender()===t.client.getUserId()});(e!==_r(d[14]).ThreadFilterType.My||o)&&i.getLiveTimeline().addEvent(a.rootEvent,{toStartOfTimeline:!1,addToState:!1})}});return i})()}},{key:"processThreadRoots",value:function(e,t){if(this.client.supportsThreads())for(var n of e)_r(d[19]).EventTimeline.setEventMetadata(n,this.currentState,t),this.getThread(n.getId())||this.createThread(n.getId(),n,[],t)}},{key:"fetchRoomThreads",value:function(){var e=this;return(0,v.default)(function*(){if(!e.threadsReady&&e.client.supportsThreads()){if(_r(d[14]).Thread.hasServerSideListSupport)yield Promise.all([e.fetchRoomThreadList(_r(d[14]).ThreadFilterType.All),e.fetchRoomThreadList(_r(d[14]).ThreadFilterType.My)]);else{var t=yield e.getThreadListFilter(),n=(yield e.client.createMessagesRequest(e.roomId,"",Number.MAX_SAFE_INTEGER,_r(d[19]).Direction.Backward,t)).chunk;if(!n.length)return;var i,r=n.map(e.client.getEventMapper()).sort(function(e,t){var n=e.getServerAggregatedRelation(_r(d[14]).THREAD_RELATION_TYPE.name),i=t.getServerAggregatedRelation(_r(d[14]).THREAD_RELATION_TYPE.name);return n.latest_event.origin_server_ts-i.latest_event.origin_server_ts}),a=e.getLiveTimeline().getState(_r(d[19]).EventTimeline.FORWARDS);for(var o of r){var s,l={duplicateStrategy:_r(d[15]).DuplicateStrategy.Ignore,fromCache:!1,addToState:!1,roomState:a};null===(s=e.threadsTimelineSets[0])||void 0===s||s.addLiveEvent(o,l);var u,v=o.getServerAggregatedRelation(_r(d[14]).THREAD_RELATION_TYPE.name);if(null!=v&&v.current_user_participated)null===(u=e.threadsTimelineSets[1])||void 0===u||u.addLiveEvent(o,l),i=o}e.processThreadRoots(r,!0),e.client.decryptEventIfNeeded(r[r.length-1]),i&&e.client.decryptEventIfNeeded(i)}e.on(_r(d[14]).ThreadEvent.NewReply,e.onThreadReply),e.on(_r(d[14]).ThreadEvent.Update,e.onThreadUpdate),e.on(_r(d[14]).ThreadEvent.Delete,e.onThreadDelete),e.threadsReady=!0}})()}},{key:"processPollEvents",value:function(e){var t=this;return(0,v.default)(function*(){for(var n of e)try{if(!n.isEncrypted()&&!(0,_r(d[31]).isPollEvent)(n))continue;yield t.client.decryptEventIfNeeded(n),t.processPollEvent(n)}catch(e){_r(d[16]).logger.warn("Error processing poll event",n.getId(),e)}})()}},{key:"processPollEvent",value:function(e){var t=this;return(0,v.default)(function*(){if(e.isDecryptionFailure())e.once(_r(d[26]).MatrixEventEvent.Decrypted,function(e){t.processPollEvent(e)});else if(_r(d[32]).M_POLL_START.matches(e.getType()))try{var n=new(_r(d[31]).Poll)(e,t.client,t);t.polls.set(e.getId(),n),t.emit(_r(d[31]).PollEvent.New,n),e.once(_r(d[26]).MatrixEventEvent.BeforeRedaction,function(e){t.polls.delete(e.getId())})}catch(e){}else{var i=e.relationEventId;if(i&&t.polls.has(i)){var r=t.polls.get(i);null==r||r.onNewRelation(e)}}})()}},{key:"fetchRoomThreadList",value:function(e){var t=this;return(0,v.default)(function*(){if(t.client.supportsThreads()&&0!==t.threadsTimelineSets.length){var n=e===_r(d[14]).ThreadFilterType.My?t.threadsTimelineSets[1]:t.threadsTimelineSets[0],i=yield t.client.createThreadListMessagesRequest(t.roomId,null,void 0,_r(d[19]).Direction.Backward,n.threadListType,n.getFilter()),r=i.chunk,a=i.end;if(n.getLiveTimeline().setPaginationToken(null!=a?a:null,_r(d[19]).Direction.Backward),r.length){var o=r.map(t.client.getEventMapper());t.processThreadRoots(o,!0);var s=t.getLiveTimeline().getState(_r(d[19]).EventTimeline.FORWARDS);for(var l of o)n.addLiveEvent(l,{duplicateStrategy:_r(d[15]).DuplicateStrategy.Replace,fromCache:!1,roomState:s,addToState:!1})}}})()}},{key:"onThreadUpdate",value:function(e){this.updateThreadRootEvents(e,!1,!1)}},{key:"onThreadReply",value:function(e){this.updateThreadRootEvents(e,!1,!0)}},{key:"onThreadDelete",value:function(e){var t;this.threads.delete(e.id);var n=this.getTimelineForEvent(e.id),i=null==n||null===(t=n.getEvents())||void 0===t?void 0:t.find(function(t){return t.getId()===e.id});for(var r of(i?e.clearEventMetadata(i):_r(d[16]).logger.debug("onThreadDelete: Could not find root event in room timeline"),this.threadsTimelineSets))r.removeEvent(e.id)}},{key:"removeFilteredTimelineSet",value:function(e){var t=this.filteredTimelineSets[e.filterId];delete this.filteredTimelineSets[e.filterId];var n=this.timelineSets.indexOf(t);n>-1&&this.timelineSets.splice(n,1)}},{key:"eventShouldLiveIn",value:function(e,t,n){var i;if(null===(i=this.client)||void 0===i||!i.supportsThreads())return{shouldLiveInRoom:!0,shouldLiveInThread:!1};if(e.isThreadRoot||null!=n&&n.has(e.getId()))return{shouldLiveInRoom:!0,shouldLiveInThread:!0,threadId:e.getId()};var r,a,o=e.isRelation(_r(d[14]).THREAD_RELATION_TYPE.name),s=e.getAssociatedId(),l=e.threadRootId;if(s&&!o&&(l===s||null!=n&&n.has(s)))return{shouldLiveInRoom:!0,shouldLiveInThread:!1};s&&(r=null!==(a=this.findEventById(s))&&void 0!==a?a:null==t?void 0:t.find(function(e){return e.getId()===s}));return r&&!o?this.eventShouldLiveIn(r,t,n):null!=l?{shouldLiveInRoom:!1,shouldLiveInThread:!0,threadId:l}:!s||e.replyEventId?{shouldLiveInRoom:!0,shouldLiveInThread:!1}:{shouldLiveInRoom:!1,shouldLiveInThread:!1}}},{key:"findThreadForEvent",value:function(e){if(!e)return null;var t=this.eventShouldLiveIn(e).threadId;return t?this.getThread(t):null}},{key:"addThreadedEvents",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getThread(e);if(i)i.addEvents(t,n);else{var r,a=null!==(r=this.findEventById(e))&&void 0!==r?r:t.find(function(t){return t.getId()===e});this.createThread(e,a,t,n)}}},{key:"processThreadedEvents",value:function(e,t){var i=this;e.forEach(this.tryApplyRedaction);var r={};for(var a of e){var o,s=this.eventShouldLiveIn(a),l=s.threadId;s.shouldLiveInThread&&!r[l]&&(r[l]=[]),null===(o=r[l])||void 0===o||o.push(a)}Object.entries(r).map(function(e){var r=(0,n.default)(e,2),a=r[0],o=r[1];return i.addThreadedEvents(a,o,t)})}},{key:"createThread",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(this.threads.has(e))return this.threads.get(e);if(t){var a=this.relations.getAllChildEventsForEvent(t.getId());null!=a&&a.length&&(i=i.concat(a.filter(function(e){return!e.isRelation(_r(d[17]).RelationType.Replace)})))}var o=new(_r(d[14]).Thread)(e,t,{room:this,client:this.client,pendingEventOrdering:this.opts.pendingEventOrdering,receipts:null!==(n=this.cachedThreadReadReceipts.get(e))&&void 0!==n?n:[]});return this.reEmitter.reEmit(o,[_r(d[14]).ThreadEvent.Delete,_r(d[14]).ThreadEvent.Update,_r(d[14]).ThreadEvent.NewReply,S.Timeline,S.TimelineReset]),this.cachedThreadReadReceipts.delete(e),this.threads.set(o.id,o),o.addEvents(i,!1),this.threadsReady&&o.initialEventsFetched&&this.updateThreadRootEvents(o,r,!1),this.emit(_r(d[14]).ThreadEvent.New,o,r),o}},{key:"applyEventAsRedaction",value:function(e,t){var n=t.threadRootId;if(t.makeRedacted(e,this),t.isState()){var i=this.currentState.getStateEvents(t.getType(),t.getStateKey());(null==i?void 0:i.getId())===t.getId()&&this.currentState.setStateEvents([t])}this.emit(S.Redaction,e,this,n),this.visibilityEvents.delete(t.getId()),t.isVisibilityEvent()&&this.redactVisibilityChangeEvent(e)}},{key:"processLiveEvent",value:function(e){if(this.tryApplyRedaction(e),e.isVisibilityEvent()&&this.applyNewVisibilityEvent(e),this.applyPendingVisibilityEvents(e),!e.getUnsigned().transaction_id&&e.getSender()===this.myUserId)for(var t of this.txnToEvent){var i=(0,n.default)(t,2),r=i[0];if(i[1].getId()===e.getId()){_r(d[16]).logger.debug("processLiveEvent: found sent event without txn ID: ",r,e.getId());var a=e.getUnsigned();a.transaction_id=r,e.setUnsigned(a);break}}}},{key:"addLiveEvent",value:function(e,t){var n=t.duplicateStrategy,i=t.timelineWasEmpty,r=t.fromCache,a=t.addToState;for(var o of this.timelineSets)o.addLiveEvent(e,{duplicateStrategy:n,fromCache:r,timelineWasEmpty:i,addToState:a});e.sender&&e.getType()!==_r(d[17]).EventType.RoomRedaction&&this.addReceipt((0,_r(d[33]).synthesizeReceipt)(e.sender.userId,e,_r(d[34]).ReceiptType.Read),!0)}},{key:"addPendingEvent",value:function(e,t){if(e.status!==_r(d[23]).EventStatus.SENDING&&e.status!==_r(d[23]).EventStatus.NOT_SENT)throw new Error("addPendingEvent called on an event with status "+e.status);if(this.txnToEvent.get(t))throw new Error("addPendingEvent called on an event with known txnId "+t);if(_r(d[19]).EventTimeline.setEventMetadata(e,this.getLiveTimeline().getState(_r(d[19]).EventTimeline.FORWARDS),!1),this.txnToEvent.set(t,e),this.pendingEventList){if(this.pendingEventList.some(function(e){return e.status===_r(d[23]).EventStatus.NOT_SENT})&&(_r(d[16]).logger.warn("Setting event as NOT_SENT due to messages in the same state"),e.setStatus(_r(d[23]).EventStatus.NOT_SENT)),this.pendingEventList.push(e),this.savePendingEvents(),e.isRelation()&&this.aggregateNonLiveRelation(e),e.isRedaction()){var n=e.event.redacts,i=this.pendingEventList.find(function(e){return e.getId()===n});!i&&n&&(i=this.findEventById(n)),i&&(i.markLocallyRedacted(e),this.emit(S.Redaction,e,this,i.threadRootId))}}else for(var r of this.timelineSets)r.getFilter()?r.getFilter().filterRoomTimeline([e]).length&&r.addEventToTimeline(e,r.getLiveTimeline(),{toStartOfTimeline:!1,addToState:!1}):r.addEventToTimeline(e,r.getLiveTimeline(),{toStartOfTimeline:!1,addToState:!1});this.emit(S.LocalEchoUpdated,e,this)}},{key:"savePendingEvents",value:function(){var e=this;if(this.pendingEventList){var t=this.pendingEventList.map(function(e){return E(E({},e.event),{},{txn_id:e.getTxnId()})}).filter(function(t){var n=t.type===_r(d[17]).EventType.RoomMessageEncrypted,i=e.hasEncryptionStateEvent();return n||!i});this.client.store.setPendingEvents(this.roomId,t)}}},{key:"aggregateNonLiveRelation",value:function(e){this.relations.aggregateChildEvent(e)}},{key:"getEventForTxnId",value:function(e){return this.txnToEvent.get(e)}},{key:"handleRemoteEcho",value:function(e,t){var n=t.getId(),i=e.getId(),r=t.status;_r(d[16]).logger.debug("Got remote echo for event ".concat(n," -> ").concat(i," old status ").concat(r)),this.txnToEvent.delete(e.getUnsigned().transaction_id),this.pendingEventList&&this.removePendingEvent(n),t.handleRemoteEcho(e.event);var a=this.eventShouldLiveIn(e),o=a.shouldLiveInRoom,s=a.threadId,l=s?this.getThread(s):null;if(null==l||l.setEventMetadata(t),null==l||l.timelineSet.handleRemoteEcho(t,n,i),o)for(var u of this.timelineSets)u.handleRemoteEcho(t,n,i);this.emit(S.LocalEchoUpdated,t,this,n,r)}},{key:"updatePendingEvent",value:function(e,t,n){if(_r(d[16]).logger.log("setting pendingEvent status to ".concat(t," in ").concat(e.getRoomId()," ")+"event ID ".concat(e.getId()," -> ").concat(n)),t==_r(d[23]).EventStatus.SENT&&!n)throw new Error("updatePendingEvent called with status=SENT, but no new event id");if(t==_r(d[23]).EventStatus.SENT&&this.getTimelineForEvent(n)){var i=this.findEventById(n);if(!(null==i?void 0:i.getUnsigned().transaction_id)&&i){var r=i.getUnsigned();r.transaction_id=e.getTxnId(),i.setUnsigned(r),this.removeEvent(i.getId()),this.handleRemoteEcho(i,e)}return}var a=e.status,o=e.getId();if(!a)throw new Error("updatePendingEventStatus called on an event which is not a local echo.");var s=R[a];if(null==s||!s.includes(t))throw new Error("Invalid EventStatus transition ".concat(a,"->").concat(t));if(e.setStatus(t),t==_r(d[23]).EventStatus.SENT){e.replaceLocalEventId(n);var l=this.eventShouldLiveIn(e),u=l.shouldLiveInRoom,v=l.threadId,c=v?this.getThread(v):void 0;if(null==c||c.setEventMetadata(e),null==c||c.timelineSet.replaceEventId(o,n),u)for(var h of this.timelineSets)h.replaceEventId(o,n)}else if(t==_r(d[23]).EventStatus.CANCELLED){if(this.pendingEventList){var m=this.getPendingEvent(o);this.removePendingEvent(o),null!=m&&m.isRedaction()&&this.revertRedactionLocalEcho(m)}this.removeEvent(o)}this.savePendingEvents(),this.emit(S.LocalEchoUpdated,e,this,o,a)}},{key:"revertRedactionLocalEcho",value:function(e){var t=e.event.redacts;if(t){var n=this.getUnfilteredTimelineSet().findEventById(t);n&&(n.unmarkLocallyRedacted(),this.emit(S.RedactionCancelled,e,this),n.isRelation()&&this.aggregateNonLiveRelation(n))}}},{key:"assertTimelineSetsAreLive",value:function(){for(var e=0;e<this.timelineSets.length;e++){var t=this.timelineSets[e].getLiveTimeline();if(t.getPaginationToken(_r(d[19]).EventTimeline.FORWARDS))throw new Error("live timeline "+e+" is no longer live - it has a pagination token ("+t.getPaginationToken(_r(d[19]).EventTimeline.FORWARDS)+")");if(t.getNeighbouringTimeline(_r(d[19]).EventTimeline.FORWARDS))throw new Error("live timeline ".concat(e," is no longer live - it has a neighbouring timeline"))}}},{key:"addLiveEvents",value:function(e,t){var r=this;return(0,v.default)(function*(){var a=t.duplicateStrategy,o=t.fromCache,s=t.timelineWasEmpty,l=void 0!==s&&s,u=t.addToState;if(a&&-1===["replace","ignore"].indexOf(a))throw new Error("duplicateStrategy MUST be either 'replace' or 'ignore'");r.assertTimelineSetsAreLive();var v=r.findThreadRoots(e),c={},h={duplicateStrategy:a,fromCache:o,timelineWasEmpty:l,addToState:u},m=(0,i.default)(e);for(var f of e){var E;if(r.processLiveEvent(f),f.getUnsigned().transaction_id){var p=r.txnToEvent.get(f.getUnsigned().transaction_id);if(p){r.handleRemoteEcho(f,p);continue}}var y=r.eventShouldLiveIn(f,m,v),T=y.shouldLiveInRoom,S=y.shouldLiveInThread,R=y.threadId,I=void 0===R?"":R;if(!S&&!T&&f.isRelation())try{var b=new(_r(d[26]).MatrixEvent)(yield r.client.fetchRoomEvent(r.roomId,f.relationEventId));if(m.push(b),b.threadRootId){v.add(b.threadRootId);var k=f.getUnsigned();k[_r(d[17]).UNSIGNED_THREAD_ID_FIELD.name]=b.threadRootId,f.setUnsigned(k)}var N=r.eventShouldLiveIn(f,m,v);T=N.shouldLiveInRoom,S=N.shouldLiveInThread;var L=N.threadId;I=void 0===L?"":L}catch(e){_r(d[16]).logger.error("Failed to load parent event of unhandled relation",e)}S&&!c[I]&&(c[I]=[]),null===(E=c[I])||void 0===E||E.push(f),T?r.addLiveEvent(f,h):!S&&f.isRelation()&&r.relations.aggregateChildEvent(f)}Object.entries(c).forEach(function(e){var t=(0,n.default)(e,2),i=t[0],a=t[1];r.addThreadedEvents(i,a,!1)})})()}},{key:"partitionThreadedEvents",value:function(e){var t=this;if(this.client.supportsThreads()){var n=this.findThreadRoots(e);return e.reduce(function(i,r){var a=t.eventShouldLiveIn(r,e,n),o=a.shouldLiveInRoom,s=a.shouldLiveInThread,l=a.threadId;return o&&i[0].push(r),s&&(r.setThreadId(null!=l?l:""),i[1].push(r)),s||o||i[2].push(r),i},[[],[],[]])}return[e,[],[]]}},{key:"findThreadRoots",value:function(e){var t=new Set;for(var n of e){var i=n.threadRootId;null!=i&&t.add(i)}return t}},{key:"addReceipt",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.getContent();this.roomReceipts.add(r,n),Object.keys(r).forEach(function(e){Object.keys(r[e]).forEach(function(a){Object.keys(r[e][a]).forEach(function(o){var s,l,u,v,c=r[e][a][o],h=!c.thread_id||c.thread_id===_r(d[34]).MAIN_ROOM_TIMELINE,m=h?t:t.threads.get(null!==(s=c.thread_id)&&void 0!==s?s:"");if(m){if(m.addReceiptToStructure(e,a,o,c,n),!n&&t.client.isInitialSyncComplete()&&o===t.client.getUserId()){var f=m.timeline[m.timeline.length-1];f&&e===f.getId()&&o===f.getSender()&&(m.setUnread(T.Total,0),m.setUnread(T.Highlight,0))}}else t.cachedThreadReadReceipts.set(c.thread_id,[].concat((0,i.default)(null!==(v=t.cachedThreadReadReceipts.get(c.thread_id))&&void 0!==v?v:[]),[{eventId:e,receiptType:a,userId:o,receipt:c,synthetic:n}]));o===t.client.getUserId()&&!h&&c.ts<t.oldestThreadedReceiptTs&&(t.oldestThreadedReceiptTs=c.ts),!c.thread_id&&c.ts>(null!==(l=null===(u=t.unthreadedReceipts.get(o))||void 0===u?void 0:u.ts)&&void 0!==l?l:0)&&t.unthreadedReceipts.set(o,c)})})}),this.emit(S.Receipt,e,this)}},{key:"addEphemeralEvents",value:function(e){for(var t of e)t.getType()===_r(d[17]).EventType.Typing?this.currentState.setTypingEvent(t):t.getType()===_r(d[17]).EventType.Receipt&&this.addReceipt(t)}},{key:"removeEvents",value:function(e){for(var t of e)this.removeEvent(t)}},{key:"removeEvent",value:function(e){var t=!1;for(var n of this.timelineSets){var i=n.removeEvent(e);i&&(i.isRedaction()&&this.revertRedactionLocalEcho(i),t=!0)}return t}},{key:"recalculate",value:function(){var e=this,t=this.currentState.getStateEvents(_r(d[17]).EventType.RoomMember,this.myUserId);if(t){var n=t.getContent().membership;if(this.updateMyMembership(n),n===_r(d[18]).KnownMembership.Invite)(t.getUnsigned().invite_room_state||[]).forEach(function(t){e.currentState.getStateEvents(t.type,t.state_key)||e.currentState.setStateEvents([new(_r(d[26]).MatrixEvent)({type:t.type,state_key:t.state_key,content:t.content,event_id:"$fake"+Date.now(),room_id:e.roomId,sender:e.myUserId})])})}var i=this.name;this.name=this.calculateRoomName(this.myUserId),this.normalizedName=(0,c.normalize)(this.name),this.summary=new(_r(d[35]).RoomSummary)(this.roomId,{title:this.name}),i!==this.name&&this.emit(S.Name,this)}},{key:"addTags",value:function(e){this.tags=e.getContent().tags||{},this.emit(S.Tags,e,this)}},{key:"addAccountData",value:function(e){for(var t of e){"m.tag"===t.getType()&&this.addTags(t);var n=t.getType(),i=this.accountData.get(n);this.accountData.set(n,t),this.emit(S.AccountData,t,this,i)}}},{key:"getAccountData",value:function(e){return this.accountData.get(e)}},{key:"_unstable_getStickyEvents",value:function(){return this.stickyEvents.getStickyEvents()}},{key:"_unstable_getKeyedStickyEvent",value:function(e,t,n){return this.stickyEvents.getKeyedStickyEvent(e,t,n)}},{key:"_unstable_getUnkeyedStickyEvent",value:function(e,t){return this.stickyEvents.getUnkeyedStickyEvent(e,t)}},{key:"_unstable_addStickyEvents",value:function(e){return this.stickyEvents.addStickyEvents(e)}},{key:"maySendMessage",value:function(){return this.getMyMembership()===_r(d[18]).KnownMembership.Join&&(this.hasEncryptionStateEvent()?this.currentState.maySendEvent(_r(d[17]).EventType.RoomMessageEncrypted,this.myUserId):this.currentState.maySendEvent(_r(d[17]).EventType.RoomMessage,this.myUserId))}},{key:"canInvite",value:function(e){var t=this.getMyMembership()===_r(d[18]).KnownMembership.Join,n=this.currentState.getStateEvents(_r(d[17]).EventType.RoomPowerLevels,""),i=n&&n.getContent(),r=this.getMember(e);return i&&r&&i.invite>r.powerLevel&&(t=!1),t}},{key:"getJoinRule",value:function(){return this.currentState.getJoinRule()}},{key:"getHistoryVisibility",value:function(){return this.currentState.getHistoryVisibility()}},{key:"getGuestAccess",value:function(){return this.currentState.getGuestAccess()}},{key:"getType",value:function(){var e=this.currentState.getStateEvents(_r(d[17]).EventType.RoomCreate,"");if(e)return e.getContent()[_r(d[17]).RoomCreateTypeField];this.getTypeWarning||(_r(d[16]).logger.warn("[getType] Room "+this.roomId+" does not have an m.room.create event"),this.getTypeWarning=!0)}},{key:"isSpaceRoom",value:function(){return this.getType()===_r(d[17]).RoomType.Space}},{key:"isCallRoom",value:function(){return this.getType()===_r(d[17]).RoomType.UnstableCall}},{key:"isElementVideoRoom",value:function(){return this.getType()===_r(d[17]).RoomType.ElementVideo}},{key:"findPredecessor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getLiveTimeline().getState(_r(d[19]).EventTimeline.FORWARDS);return t?t.findPredecessor(e):null}},{key:"roomNameGenerator",value:function(e){if(this.client.roomNameGenerator){var t=this.client.roomNameGenerator(this.roomId,e);if(null!==t)return t}switch(e.type){case I.Actual:return e.name;case I.Generated:return"Inviting"===e.subtype?"Inviting ".concat(b(e.names,e.count)):b(e.names,e.count);case I.EmptyRoom:return e.oldName?"Empty room (was ".concat(e.oldName,")"):"Empty room"}}},{key:"calculateRoomName",value:function(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var n,i=null===(n=this.currentState.getStateEvents(_r(d[17]).EventType.RoomName,""))||void 0===n?void 0:n.getContent().name;if(i&&"string"==typeof i)return this.roomNameGenerator({type:I.Actual,name:i})}var r=this.getCanonicalAlias();if(r)return this.roomNameGenerator({type:I.Actual,name:r});var a=this.currentState.getJoinedMemberCount()+this.currentState.getInvitedMemberCount()-1,o=this.getFunctionalMembers(),s=[];if(this.heroes)this.heroes.forEach(function(e){if(o.includes(e.userId))a--;else if(e.displayName)s.push(e.displayName);else{var n=t.getMember(e.userId);s.push(n?n.name:e.userId)}});else{var l=this.currentState.getMembers().filter(function(t){return t.userId!==e&&(t.membership===_r(d[18]).KnownMembership.Invite||t.membership===_r(d[18]).KnownMembership.Join)});l=l.filter(function(e){var t=e.userId;return!o.includes(t)||(a--,!1)});var u=new Intl.Collator;l.sort(function(e,t){return u.compare(e.userId,t.userId)}),l=l.slice(0,5),s=l.map(function(e){return e.name})}if(a)return this.roomNameGenerator({type:I.Generated,names:s,count:a});if(this.getMyMembership()==_r(d[18]).KnownMembership.Join){var v=this.currentState.getStateEvents(_r(d[17]).EventType.RoomThirdPartyInvite);if(null!=v&&v.length){var c=v.map(function(e){return e.getContent().display_name});return this.roomNameGenerator({type:I.Generated,subtype:"Inviting",names:c,count:c.length+1})}}var h,m=s;return m.length||(m=this.currentState.getMembers().filter(function(t){return t.userId!==e&&t.membership!==_r(d[18]).KnownMembership.Invite&&t.membership!==_r(d[18]).KnownMembership.Join}).map(function(e){return e.name})),m.length&&(h=this.roomNameGenerator({type:I.Generated,names:m,count:m.length+1})),this.roomNameGenerator({type:I.EmptyRoom,oldName:h})}},{key:"applyNewVisibilityEvent",value:function(e){var t=e.asVisibilityChange();if(t){var n=e.getSender();if(n)if(_r(d[17]).EVENT_VISIBILITY_CHANGE_TYPE.name&&this.currentState.maySendStateEvent(_r(d[17]).EVENT_VISIBILITY_CHANGE_TYPE.name,n)||_r(d[17]).EVENT_VISIBILITY_CHANGE_TYPE.altName&&this.currentState.maySendStateEvent(_r(d[17]).EVENT_VISIBILITY_CHANGE_TYPE.altName,n)){var i=this.visibilityEvents.get(t.eventId);if(i){for(var r=i.length-1,a=Math.max(0,i.length-30);r>=a;--r){if(i[r].getTs()<e.getTs())break}-1===r?i.unshift(e):i.splice(r+1,0,e)}else this.visibilityEvents.set(t.eventId,[e]);var o=this.findEventById(t.eventId);o&&o.applyVisibilityEvent(t)}}}},{key:"redactVisibilityChangeEvent",value:function(e){if(!e.isVisibilityEvent)throw new Error("expected a visibility change event");var t=e.getRelation(),n=null==t?void 0:t.event_id,i=this.visibilityEvents.get(n);if(i){var r=i.findIndex(function(t){return t.getId()===e.getId()});if(-1!==r&&(i.splice(r,1),r===i.length)){var a=this.findEventById(n);if(!a)return;if(0===r)this.visibilityEvents.delete(n),a.applyVisibilityEvent();else{var o=i[i.length-1].asVisibilityChange();if(!o)throw new Error("at this stage, visibility changes should be well-formed");a.applyVisibilityEvent(o)}}}}},{key:"applyPendingVisibilityEvents",value:function(e){var t=this.visibilityEvents.get(e.getId());if(t&&0!=t.length){var n=t[t.length-1],i=n.asVisibilityChange();i&&(i.visible,n.getTs()<e.getTs()||e.applyVisibilityEvent(i))}}},{key:"getOldestThreadedReceiptTs",value:function(){return this.oldestThreadedReceiptTs}},{key:"hasUserReadEvent",value:function(e,t){return this.roomReceipts.hasUserReadEvent(e,t)}},{key:"getLastUnthreadedReceiptFor",value:function(e){return this.unthreadedReceipts.get(e)}},{key:"fixupNotifications",value:function(e){var t,n,i,r,a,o=this;(t=f,n="fixupNotifications",i=this,r=3,a=(0,l.default)((0,s.default)(1&r?t.prototype:t),n,i),2&r&&"function"==typeof a?function(e){return a.apply(i,e)}:a)([e]);var u=this.getThreads().filter(function(e){return o.getThreadUnreadNotificationCount(e.id,T.Total)>0});for(var v of u)v.fixupNotifications(e)}},{key:"compareEventOrdering",value:function(e,t){return(0,_r(d[36]).compareEventOrdering)(this,e,t)}},{key:"hasEncryptionStateEvent",value:function(){var e;return Boolean(null===(e=this.getLiveTimeline().getState(_r(d[19]).EventTimeline.FORWARDS))||void 0===e?void 0:e.getStateEvents(_r(d[17]).EventType.RoomEncryption,""))}}])})(_r(d[33]).ReadReceipt),(0,t.default)((0,t.default)((0,t.default)((0,t.default)((0,t.default)((0,t.default)({},_r(d[23]).EventStatus.ENCRYPTING,[_r(d[23]).EventStatus.SENDING,_r(d[23]).EventStatus.NOT_SENT,_r(d[23]).EventStatus.CANCELLED]),_r(d[23]).EventStatus.SENDING,[_r(d[23]).EventStatus.ENCRYPTING,_r(d[23]).EventStatus.QUEUED,_r(d[23]).EventStatus.NOT_SENT,_r(d[23]).EventStatus.SENT]),_r(d[23]).EventStatus.QUEUED,[_r(d[23]).EventStatus.SENDING,_r(d[23]).EventStatus.NOT_SENT,_r(d[23]).EventStatus.CANCELLED]),_r(d[23]).EventStatus.SENT,[]),_r(d[23]).EventStatus.NOT_SENT,[_r(d[23]).EventStatus.SENDING,_r(d[23]).EventStatus.QUEUED,_r(d[23]).EventStatus.CANCELLED]),_r(d[23]).EventStatus.CANCELLED,[])),I=_e.RoomNameType=(function(e){return e[e.EmptyRoom=0]="EmptyRoom",e[e.Generated=1]="Generated",e[e.Actual=2]="Actual",e})({});function b(e,t){var n=t-1;return e.length?1===e.length&&n<=1?e[0]:2===e.length&&n<=2?"".concat(e[0]," and ").concat(e[1]):n>1?"".concat(e[0]," and ").concat(n," others"):"".concat(e[0]," and 1 other"):"Empty room"}},806,[1,739,34,42,11,12,18,20,21,23,743,748,807,808,795,809,746,765,767,810,764,796,811,772,813,768,771,766,824,769,825,828,773,830,755,831,832]);
__d(function(g,r,i,a,_m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RoomReceipts=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),h=(e.RoomReceipts=(function(){return(0,o.default)(function t(n){var o=this;(0,s.default)(this,t),(0,u.default)(this,"room",void 0),(0,u.default)(this,"threadedReceipts",void 0),(0,u.default)(this,"unthreadedReceipts",void 0),(0,u.default)(this,"danglingReceipts",void 0),(0,u.default)(this,"onTimelineEvent",function(t){var n=t.getId();if(n){var s=o.danglingReceipts.remove(n);null==s||s.forEach(function(t){t.receipt.thread_id?o.threadedReceipts.set(t.receipt.thread_id,t.eventId,t.receiptType,t.userId,t.receipt.ts,t.synthetic):o.unthreadedReceipts.set(n,t.receiptType,t.userId,t.receipt.ts,t.synthetic)})}}),this.room=n,this.threadedReceipts=new f(n),this.unthreadedReceipts=new l(n),this.danglingReceipts=new p,n.on(r(d[5]).RoomEvent.Timeline,this.onTimelineEvent)},[{key:"add",value:function(t,s){for(var o of Object.entries(t)){var u=(0,n.default)(o,2),h=u[0],c=u[1];for(var l of Object.entries(c)){var f=(0,n.default)(l,2),p=f[0],y=f[1];for(var m of Object.entries(y)){var I=(0,n.default)(m,2),R=I[0],E=I[1];this.room.findEventById(h)?E.thread_id?this.threadedReceipts.set(E.thread_id,h,p,R,E.ts,s):this.unthreadedReceipts.set(h,p,R,E.ts,s):this.danglingReceipts.add(new v(h,p,R,E,s))}}}}},{key:"hasUserReadEvent",value:function(t,n){var s=this.unthreadedReceipts.get(t);if(s&&m(s.eventId,n,this.room))return!0;var o=this.room.findEventById(n);if(!o)return r(d[6]).logger.warn("hasUserReadEvent event ID ".concat(n," not found in room ").concat(this.room.roomId,": this shouldn't happen!")),!1;var u=(0,r(d[7]).threadIdForReceipt)(o),h=this.threadedReceipts.get(u,t);return!(!h||!m(h.eventId,n,this.room))||!!this.userSentLatestEventInThread(u,t)}},{key:"userSentLatestEventInThread",value:function(t,n){var s,o=t===r(d[8]).MAIN_ROOM_TIMELINE?this.room.getLiveTimeline().getEvents():null===(s=this.room.getThread(t))||void 0===s?void 0:s.timeline;return!!(o&&o.length>0&&o[o.length-1].getSender()===n)}}])})(),(0,o.default)(function t(n,o,u){(0,s.default)(this,t),this.eventId=n,this.receiptType=o,this.ts=u})),v=(0,o.default)(function t(n,o,u,h,v){(0,s.default)(this,t),this.eventId=n,this.receiptType=o,this.userId=u,this.receipt=h,this.synthetic=v}),c=(function(){return(0,o.default)(function t(n){(0,s.default)(this,t),(0,u.default)(this,"room",void 0),(0,u.default)(this,"real",void 0),(0,u.default)(this,"synthetic",void 0),this.room=n,this.real=void 0,this.synthetic=void 0},[{key:"set",value:function(t,n){t?this.synthetic=n:this.real=n,this.synthetic&&this.real&&m(this.real.eventId,this.synthetic.eventId,this.room)&&(this.synthetic=void 0)}},{key:"get",value:function(){var t;return null!==(t=this.synthetic)&&void 0!==t?t:this.real}},{key:"getByType",value:function(t){return t?this.synthetic:this.real}}])})(),l=(function(){return(0,o.default)(function t(n){(0,s.default)(this,t),(0,u.default)(this,"room",void 0),(0,u.default)(this,"data",void 0),this.room=n,this.data=new Map},[{key:"set",value:function(t,n,s,o,u){var v,l,f,p,m=this,I=y(this.data,s,function(){return new c(m.room)}),R=I.getByType(u);R&&(v=R.eventId,l=t,f=this.room,p=f.compareEventOrdering(v,l),null!==p&&p>0)||I.set(u,new h(t,n,o))}},{key:"get",value:function(t){var n;return null===(n=this.data.get(t))||void 0===n?void 0:n.get()}}])})(),f=(function(){return(0,o.default)(function t(n){(0,s.default)(this,t),(0,u.default)(this,"room",void 0),(0,u.default)(this,"data",void 0),this.room=n,this.data=new Map},[{key:"set",value:function(t,n,s,o,u,h){var v=this;y(this.data,t,function(){return new l(v.room)}).set(n,s,o,u,h)}},{key:"get",value:function(t,n){var s;return null===(s=this.data.get(t))||void 0===s?void 0:s.get(n)}}])})(),p=(function(){return(0,o.default)(function t(){(0,s.default)(this,t),(0,u.default)(this,"data",new Map)},[{key:"add",value:function(t){y(this.data,t.eventId,function(){return[]}).push(t)}},{key:"remove",value:function(t){var n=this.data.get(t);return this.data.delete(t),n}}])})();function y(t,n,s){var o=t.get(n);if(o)return o;var u=s();return t.set(n,u),u}function m(t,n,s){var o=s.compareEventOrdering(t,n);return null!==o&&o>=0}},807,[1,34,11,12,739,806,746,796,755]);
__d(function(g,_r,i,_a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RoomStickyEventsStore=_e.RoomStickyEventsEvent=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),s=t(_r(d[4])),c=t(_r(d[5])),a=t(_r(d[6])),v=t(_r(d[7])),o=t(_r(d[8])),y=t(_r(d[9]));function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}var k=_r(d[10]).logger.getChild("RoomStickyEvents"),E=_e.RoomStickyEventsEvent=(function(t){return t.Update="RoomStickyEvents.Update",t})({});function f(t){if("string"!=typeof t)throw new Error("Not a string");if(!t.startsWith("@"))throw new Error("Not a userId")}_e.RoomStickyEventsStore=(function(t){function p(){var t,c,o,f;return(0,s.default)(this,p),c=this,o=p,f=arguments,o=(0,v.default)(o),t=(0,a.default)(c,l()?Reflect.construct(o,f||[],(0,v.default)(c).constructor):o.apply(c,f)),(0,y.default)(t,"stickyEventsMap",new Map),(0,y.default)(t,"unkeyedStickyEvents",new Set),(0,y.default)(t,"stickyEventTimer",void 0),(0,y.default)(t,"nextStickyEventExpiryTs",Number.MAX_SAFE_INTEGER),(0,y.default)(t,"cleanExpiredStickyEvents",function(){var s=Date.now(),c=[];for(var a of(t.nextStickyEventExpiryTs=Number.MAX_SAFE_INTEGER,t.stickyEventsMap.entries())){var v,o=(0,r.default)(a,2),y=o[0],l=o[1];for(var f of l){var p=(0,r.default)(f,2),h=p[0],S=(0,n.default)(p[1]),x=S[0],T=u(S).slice(1);s>=x.unstableStickyExpiresAt?(k.debug("Expiring sticky event",x.getId()),c.push(x),t.stickyEventsMap.get(y).delete(h)):(t.stickyEventsMap.get(y).set(h,[x].concat((0,e.default)(T.filter(function(t){return t.unstableStickyExpiresAt<=s})))),t.nextStickyEventExpiryTs=Math.min(t.nextStickyEventExpiryTs,x.unstableStickyExpiresAt))}0===(null===(v=t.stickyEventsMap.get(y))||void 0===v?void 0:v.size)&&t.stickyEventsMap.delete(y)}for(var M of t.unkeyedStickyEvents)s>=M.unstableStickyExpiresAt?(k.debug("Expiring sticky event",M.getId()),t.unkeyedStickyEvents.delete(M),c.push(M)):t.nextStickyEventExpiryTs=Math.min(t.nextStickyEventExpiryTs,M.unstableStickyExpiresAt);c.length&&t.emit(E.Update,[],[],c),t.scheduleStickyTimer()}),t}return(0,o.default)(p,t),(0,c.default)(p,[{key:"getStickyEvents",value:function*(){for(var t of(yield*this.unkeyedStickyEvents,this.stickyEventsMap.values()))for(var e of t.values())yield e[0]}},{key:"getKeyedStickyEvent",value:function(t,e,n){var r;return f(t),null===(r=this.stickyEventsMap.get(e))||void 0===r||null===(r=r.get(p.stickyMapKey(n,t)))||void 0===r?void 0:r[0]}},{key:"getUnkeyedStickyEvent",value:function(t,n){return(0,e.default)(this.unkeyedStickyEvents).filter(function(e){return e.getType()===n&&e.getSender()===t})}},{key:"addStickyEvent",value:function(t){var n,r,s,c=t.getContent().msc4354_sticky_key;if("string"!=typeof c&&void 0!==c)throw new Error("".concat(t.getId()," is missing msc4354_sticky_key"));if(void 0===t.unstableStickyExpiresAt)throw new Error("".concat(t.getId()," is missing msc4354_sticky.duration_ms"));var a=t.getSender(),v=t.getType();if(f(a),t.unstableStickyExpiresAt<=Date.now())return k.info("ignored sticky event with older expiration time than current time",c),{added:!1};if(!a.startsWith("@"))throw new Error("Expected sender to start with @");var o=t;if(void 0===c)return this.unkeyedStickyEvents.add(o),this.nextStickyEventExpiryTs=Math.min(t.unstableStickyExpiresAt,this.nextStickyEventExpiryTs),this.scheduleStickyTimer(),{added:!0};var y=p.stickyMapKey(c,a),u=[o].concat((0,e.default)(null!==(n=null===(r=this.stickyEventsMap.get(v))||void 0===r?void 0:r.get(y))&&void 0!==n?n:[])).sort(p.sortStickyEvent);return this.stickyEventsMap.has(v)||this.stickyEventsMap.set(v,new Map),null===(s=this.stickyEventsMap.get(v))||void 0===s||s.set(y,u),this.nextStickyEventExpiryTs=Math.min(o.unstableStickyExpiresAt,this.nextStickyEventExpiryTs),this.scheduleStickyTimer(),{added:u[0]===o,prevEvent:null==u?void 0:u[1]}}},{key:"addStickyEvents",value:function(t){var e=[],n=[];for(var r of t)try{var s=this.addStickyEvent(r);s.added&&(s.prevEvent?n.push({current:r,previous:s.prevEvent}):e.push(r))}catch(t){k.warn("ignored invalid sticky event",t)}(e.length||n.length)&&this.emit(E.Update,e,n,[]),this.scheduleStickyTimer()}},{key:"scheduleStickyTimer",value:function(){this.stickyEventTimer&&(clearTimeout(this.stickyEventTimer),this.stickyEventTimer=void 0),this.nextStickyEventExpiryTs!==Number.MAX_SAFE_INTEGER&&(this.stickyEventTimer=setTimeout(this.cleanExpiredStickyEvents,this.nextStickyEventExpiryTs-Date.now()))}},{key:"handleRedaction",value:function(t){var e="string"==typeof t?t:t.getId();for(var s of this.unkeyedStickyEvents)if(s.getId()===e)return this.unkeyedStickyEvents.delete(s),void this.emit(E.Update,[],[],[s]);if("string"!=typeof t&&!t.isRedacted()){var c,a,v=t.getContent().msc4354_sticky_key;if("string"!=typeof v&&void 0!==v)return;var o=t.getType(),y=t.getSender();f(y);var l=this.stickyEventsMap.get(o);if(!l)return;var h=p.stickyMapKey(v,y),S=null!==(c=l.get(h))&&void 0!==c?c:[],x=(0,n.default)(S),T=x[0],M=u(x).slice(1);if(!T)return;k.debug("Redaction for ".concat(e," under sticky key ").concat(v));var w=M.filter(function(t){return!t.isRedacted()}).sort(p.sortStickyEvent);return null===(a=this.stickyEventsMap.get(o))||void 0===a||a.set(h,w),void(w.length?this.emit(E.Update,[],[{previous:T,current:w[0]}],[]):(l.delete(h),0===l.size&&this.stickyEventsMap.delete(o),this.emit(E.Update,[],[],[T])))}for(var _ of this.stickyEventsMap.values())for(var A of _.values()){var b=(0,r.default)(A,1)[0];if(b.getId()===e)return this.handleRedaction(b)}}},{key:"clear",value:function(){this.stickyEventsMap.clear(),this.nextStickyEventExpiryTs=Number.MAX_SAFE_INTEGER,this.scheduleStickyTimer()}}],[{key:"sortStickyEvent",value:function(t,e){var n,r;if(e.getTs()!==t.getTs())return e.getTs()-t.getTs();if((null!==(n=e.getId())&&void 0!==n?n:"")>(null!==(r=t.getId())&&void 0!==r?r:""))return 1;throw Error("Comparing two sticky events with the same event ID is not allowed.")}},{key:"stickyMapKey",value:function(t,e){return"".concat(t).concat(e)}}])})(_r(d[11]).TypedEventEmitter)},808,[1,42,610,34,11,12,18,20,23,739,746,762]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.EventTimelineSet=_e.DuplicateStrategy=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),l=e(r(d[4])),v=e(r(d[5])),s=e(r(d[6]));function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}var T;T=r(d[7]).logger.log.bind(r(d[7]).logger);var u=_e.DuplicateStrategy=(function(e){return e.Ignore="ignore",e.Replace="replace",e})({});_e.EventTimelineSet=(function(e){function f(e){var n,v,T,u;(0,t.default)(this,f);var c,E,S,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0,R=arguments.length>3?arguments[3]:void 0,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return c=this,E=f,E=(0,l.default)(E),(n=(0,o.default)(c,h()?Reflect.construct(E,S||[],(0,l.default)(c).constructor):E.apply(c,S))).room=e,n.thread=R,n.threadListType=y,(0,s.default)(n,"relations",void 0),(0,s.default)(n,"timelineSupport",void 0),(0,s.default)(n,"displayPendingEvents",void 0),(0,s.default)(n,"liveTimeline",void 0),(0,s.default)(n,"timelines",void 0),(0,s.default)(n,"_eventIdToTimeline",new Map),(0,s.default)(n,"filter",void 0),n.timelineSupport=Boolean(I.timelineSupport),n.liveTimeline=new(r(d[8]).EventTimeline)(n),n.displayPendingEvents=!1!==I.pendingEvents,n.timelines=[n.liveTimeline],n._eventIdToTimeline=new Map,n.filter=I.filter,n.relations=null!==(v=null===(T=n.room)||void 0===T?void 0:T.relations)&&void 0!==v?v:new(r(d[9]).RelationsContainer)(null!==(u=null==e?void 0:e.client)&&void 0!==u?u:p),n}return(0,v.default)(f,e),(0,n.default)(f,[{key:"getTimelines",value:function(){return this.timelines}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){this.filter=e}},{key:"getPendingEvents",value:function(){return this.room&&this.displayPendingEvents?this.room.getPendingEvents():[]}},{key:"getLiveTimeline",value:function(){return this.liveTimeline}},{key:"setLiveTimeline",value:function(e){this.liveTimeline=e}},{key:"eventIdToTimeline",value:function(e){return this._eventIdToTimeline.get(e)}},{key:"replaceEventId",value:function(e,t){var n=this._eventIdToTimeline.get(e);n&&(this._eventIdToTimeline.delete(e),this._eventIdToTimeline.set(t,n))}},{key:"resetLiveTimeline",value:function(e,t){var n=!this.timelineSupport||!t,o=this.liveTimeline,l=n?o.forkLive(r(d[8]).EventTimeline.FORWARDS):o.fork(r(d[8]).EventTimeline.FORWARDS);n?(this.timelines=[l],this._eventIdToTimeline=new Map):this.timelines.push(l),t&&o.setPaginationToken(t,r(d[8]).EventTimeline.FORWARDS),l.setPaginationToken(null!=e?e:null,r(d[8]).EventTimeline.BACKWARDS),this.liveTimeline=l,this.emit(r(d[10]).RoomEvent.TimelineReset,this.room,this,n)}},{key:"getTimelineForEvent",value:function(e){if(null==e)return null;var t=this._eventIdToTimeline.get(e);return void 0===t?null:t}},{key:"findEventById",value:function(e){var t=this.getTimelineForEvent(e);if(t)return t.getEvents().find(function(t){return t.getId()==e})}},{key:"addTimeline",value:function(){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");var e=new(r(d[8]).EventTimeline)(this);return this.timelines.push(e),e}},{key:"addEventsToTimeline",value:function(e,t,n,o,l){if(!o)throw new Error("'timeline' not specified for EventTimelineSet.addEventsToTimeline");if(!t&&o==this.liveTimeline)throw new Error("EventTimelineSet.addEventsToTimeline cannot be used for adding events to the live timeline - use Room.addLiveEvents instead");if(!this.filter||(e=this.filter.filterRoomTimeline(e)).length){var v=t?r(d[8]).EventTimeline.BACKWARDS:r(d[8]).EventTimeline.FORWARDS,s=t?r(d[8]).EventTimeline.FORWARDS:r(d[8]).EventTimeline.BACKWARDS,h=!1,u=!1;for(var f of e){var c=f.getId(),E=this._eventIdToTimeline.get(c);if(E)if(u=!1,E!=o){var S=o.getNeighbouringTimeline(v);if(S)T(E==S?"Event "+c+" in neighbouring timeline - switching to "+E:"Event "+c+" already in a different timeline "+E),o=E;else{r(d[7]).logger.info("Already have timeline for "+c+" - joining timeline "+o+" to "+E);var I=E===this.liveTimeline,p=o===this.liveTimeline,R=v===r(d[8]).EventTimeline.BACKWARDS&&I,y=v===r(d[8]).EventTimeline.FORWARDS&&p;R||y?(R&&r(d[7]).logger.warn("Refusing to set a preceding existingTimeLine on our timeline as the existingTimeLine is live ("+E+")"),y&&r(d[7]).logger.warn("Refusing to set our preceding timeline on a existingTimeLine as our timeline is live ("+o+")")):(o.setNeighbouringTimeline(E,v),E.setNeighbouringTimeline(o,s),o=E,h=!0)}}else T("Event "+c+" already in timeline "+o);else this.addEventToTimeline(f,o,{toStartOfTimeline:t,addToState:n}),u=!0,h=!0}if(u||!h){if(v===r(d[8]).EventTimeline.FORWARDS&&o===this.liveTimeline)return r(d[7]).logger.warn({lastEventWasNew:u,didUpdate:h}),void r(d[7]).logger.warn("Refusing to set forwards pagination token of live timeline "+"".concat(o," to ").concat(l));o.setPaginationToken(null!=l?l:null,v)}}}},{key:"addLiveEvent",value:function(e,t){var n=t.duplicateStrategy,o=t.fromCache,l=t.roomState,v=t.timelineWasEmpty,s=t.addToState;if(this.filter&&!this.filter.filterRoomTimeline([e]).length)return;var h=this._eventIdToTimeline.get(e.getId());if(h)if(n===u.Replace){T("EventTimelineSet.addLiveEvent: replacing duplicate event "+e.getId());for(var f=h.getEvents(),c=0;c<f.length;c++)if(f[c].getId()===e.getId()){l||(l=h.getState(r(d[8]).EventTimeline.FORWARDS)),r(d[8]).EventTimeline.setEventMetadata(e,l,!1),f[c]=e;break}}else T("EventTimelineSet.addLiveEvent: ignoring duplicate event "+e.getId());else this.addEventToTimeline(e,this.liveTimeline,{toStartOfTimeline:!1,fromCache:o,roomState:l,timelineWasEmpty:v,addToState:s})}},{key:"addEventToTimeline",value:function(e,t,n){var o,l=n.toStartOfTimeline,v=n.fromCache,s=void 0!==v&&v,h=n.roomState,T=n.timelineWasEmpty,u=n.addToState;if(t.getTimelineSet()!==this)throw new Error("EventTimelineSet.addEventToTimeline: Timeline=".concat(t.toString()," does not belong \" +\n                \"in timelineSet(threadId=").concat(null===(o=this.thread)||void 0===o?void 0:o.id,")"));var f=e.getId();if(this.relations.aggregateParentEvent(e),this.relations.aggregateChildEvent(e,this),this.room&&!this.canContain(e)){var c,E="event=".concat(f);return e.threadRootId&&(E+="(belongs to thread=".concat(e.threadRootId,")")),void r(d[7]).logger.warn("EventTimelineSet.addEventToTimeline: Ignoring ".concat(E," that does not belong ")+"in timeline=".concat(t.toString()," timelineSet(threadId=").concat(null===(c=this.thread)||void 0===c?void 0:c.id,")"))}t.addEvent(e,{toStartOfTimeline:l,roomState:h,timelineWasEmpty:T,addToState:u}),this._eventIdToTimeline.set(f,t);var S={timeline:t,liveEvent:!l&&t==this.liveTimeline&&!s};this.emit(r(d[10]).RoomEvent.Timeline,e,this.room,Boolean(l),!1,S)}},{key:"insertEventIntoTimeline",value:function(e,t,n,o){var l;if(t.getTimelineSet()!==this)throw new Error("EventTimelineSet.insertEventIntoTimeline: Timeline=".concat(t.toString()," does not belong \" +\n                \"in timelineSet(threadId=").concat(null===(l=this.thread)||void 0===l?void 0:l.id,")"));var v=e.getId();if(this.relations.aggregateParentEvent(e),this.relations.aggregateChildEvent(e,this),this.room&&!this.canContain(e)){var s,h="event=".concat(v);return e.threadRootId&&(h+="(belongs to thread=".concat(e.threadRootId,")")),void r(d[7]).logger.warn("EventTimelineSet.insertEventIntoTimeline: Ignoring ".concat(h," that does not belong ")+"in timeline=".concat(t.toString()," timelineSet(threadId=").concat(null===(s=this.thread)||void 0===s?void 0:s.id,")"))}var T=e.relationEventId;if(T){for(var u=this.findEventById(T),f=t.getEvents(),c=void 0!==u?f.indexOf(u):0;c<f.length;c++){if(f[c].getTs()>e.getTs())break}t.insertEvent(e,c,n,o),this._eventIdToTimeline.set(v,t);var E={timeline:t,liveEvent:!1};this.emit(r(d[10]).RoomEvent.Timeline,e,this.room,!1,!1,E)}else this.addEventToTimeline(e,t,{toStartOfTimeline:!1,fromCache:!1,timelineWasEmpty:!1,roomState:n,addToState:o})}},{key:"handleRemoteEcho",value:function(e,t,n){var o=this._eventIdToTimeline.get(t);o?(this._eventIdToTimeline.delete(t),this._eventIdToTimeline.set(n,o)):this.filter&&!this.filter.filterRoomTimeline([e]).length||this.addEventToTimeline(e,this.liveTimeline,{toStartOfTimeline:!1,addToState:!1})}},{key:"removeEvent",value:function(e){var t=this._eventIdToTimeline.get(e);if(!t)return null;var n=t.removeEvent(e);if(n){this._eventIdToTimeline.delete(e);var o={timeline:t};this.emit(r(d[10]).RoomEvent.Timeline,n,this.room,void 0,!0,o)}return n}},{key:"compareEventOrdering",value:function(e,t){if(e==t)return 0;var n=this._eventIdToTimeline.get(e),o=this._eventIdToTimeline.get(t);if(void 0===n)return null;if(void 0===o)return null;if(n===o){for(var l=void 0,v=void 0,s=n.getEvents(),h=0;h<s.length&&(void 0===l||void 0===v);h++){var T=s[h].getId();T==e&&(l=h),T==t&&(v=h)}var u=l-v;return u<0?-1:u>0?1:0}for(var f=n;f;){if(f===o)return-1;f=f.getNeighbouringTimeline(r(d[8]).EventTimeline.FORWARDS)}for(f=n;f;){if(f===o)return 1;f=f.getNeighbouringTimeline(r(d[8]).EventTimeline.BACKWARDS)}return null}},{key:"canContain",value:function(e){if(!this.room)throw new Error("Cannot call `EventTimelineSet::canContain without a `room` set. Set the room when creating the EventTimelineSet to call this method.");var t,n=this.room.eventShouldLiveIn(e),o=n.threadId,l=n.shouldLiveInRoom,v=n.shouldLiveInThread;if(this.thread)return this.thread.id===o;l||v||r(d[7]).logger.warn("EventTimelineSet:canContain event encountered which cannot be added to any timeline roomId=".concat(null===(t=this.room)||void 0===t?void 0:t.roomId," eventId=").concat(e.getId()," threadId=").concat(e.threadRootId));return l}}])})(r(d[11]).TypedEventEmitter)},809,[1,11,12,18,20,23,739,746,810,811,806,762]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.EventTimeline=e.Direction=void 0;var n=t(r(d[1])),i=t(r(d[2])),o=t(r(d[3])),s=e.Direction=(function(t){return t.Backward="b",t.Forward="f",t})({}),l=e.EventTimeline=(function(){function t(o){var l,u;(0,i.default)(this,t),this.eventTimelineSet=o,(0,n.default)(this,"roomId",void 0),(0,n.default)(this,"name",void 0),(0,n.default)(this,"events",[]),(0,n.default)(this,"baseIndex",0),(0,n.default)(this,"startState",void 0),(0,n.default)(this,"endState",void 0),(0,n.default)(this,"startToken",null),(0,n.default)(this,"endToken",null),(0,n.default)(this,"prevTimeline",null),(0,n.default)(this,"nextTimeline",null),(0,n.default)(this,"paginationRequests",(0,n.default)((0,n.default)({},s.Backward,null),s.Forward,null)),this.roomId=null!==(l=null===(u=o.room)||void 0===u?void 0:u.roomId)&&void 0!==l?l:null,this.roomId&&(this.startState=new(r(d[4]).RoomState)(this.roomId),this.endState=new(r(d[4]).RoomState)(this.roomId)),this.paginationRequests={b:null,f:null},this.name=this.roomId+":"+(new Date).toISOString()}return(0,o.default)(t,[{key:"initialiseState",value:function(t){var n,i,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).timelineWasEmpty;if(this.events.length>0)throw new Error("Cannot initialise state after events are added");null===(n=this.startState)||void 0===n||n.setStateEvents(t,{timelineWasEmpty:o}),null===(i=this.endState)||void 0===i||i.setStateEvents(t,{timelineWasEmpty:o})}},{key:"forkLive",value:function(n){var i=this.getState(n),o=new t(this.eventTimelineSet);return o.startState=null==i?void 0:i.clone(),o.endState=i,this.endState=null==i?void 0:i.clone(),o}},{key:"fork",value:function(n){var i=this.getState(n),o=new t(this.eventTimelineSet);return o.startState=null==i?void 0:i.clone(),o.endState=null==i?void 0:i.clone(),o}},{key:"getRoomId",value:function(){return this.roomId}},{key:"getFilter",value:function(){return this.eventTimelineSet.getFilter()}},{key:"getTimelineSet",value:function(){return this.eventTimelineSet}},{key:"getBaseIndex",value:function(){return this.baseIndex}},{key:"getEvents",value:function(){return this.events}},{key:"getState",value:function(n){if(n==t.BACKWARDS)return this.startState;if(n==t.FORWARDS)return this.endState;throw new Error("Invalid direction '"+n+"'")}},{key:"getPaginationToken",value:function(t){return this.roomId?this.getState(t).paginationToken:t===s.Backward?this.startToken:this.endToken}},{key:"setPaginationToken",value:function(t,n){this.roomId?this.getState(n).paginationToken=t:n===s.Backward?this.startToken=t:this.endToken=t}},{key:"getNeighbouringTimeline",value:function(n){if(n==t.BACKWARDS)return this.prevTimeline;if(n==t.FORWARDS)return this.nextTimeline;throw new Error("Invalid direction '"+n+"'")}},{key:"setNeighbouringTimeline",value:function(n,i){if(this.getNeighbouringTimeline(i))throw new Error("timeline already has a neighbouring timeline - cannot reset neighbour (direction: "+i+")");if(i==t.BACKWARDS)this.prevTimeline=n;else{if(i!=t.FORWARDS)throw new Error("Invalid direction '"+i+"'");this.nextTimeline=n}this.setPaginationToken(null,i)}},{key:"addEvent",value:function(n,i){var o=i.toStartOfTimeline,s=i.roomState,l=i.timelineWasEmpty,u=i.addToState;s||(s=o?this.startState:this.endState);var v,h,f=this.getTimelineSet();f.room&&(t.setEventMetadata(n,s,o),u&&n.isState()&&f.room.getUnfilteredTimelineSet()===f&&(null===(v=s)||void 0===v||v.setStateEvents([n],{timelineWasEmpty:l}),n.sender&&(n.getType()!==r(d[5]).EventType.RoomMember||o)||t.setEventMetadata(n,s,o)));h=o?0:this.events.length,this.events.splice(h,0,n),o&&this.baseIndex++}},{key:"insertEvent",value:function(n,i,o,s){var l=this.getTimelineSet();l.room&&(t.setEventMetadata(n,o,!1),s&&n.isState()&&l.room.getUnfilteredTimelineSet()===l&&(o.setStateEvents([n],{}),n.sender&&n.getType()!==r(d[5]).EventType.RoomMember||t.setEventMetadata(n,o,!1))),this.events.splice(i,0,n)}},{key:"removeEvent",value:function(t){for(var n=this.events.length-1;n>=0;n--){var i=this.events[n];if(i.getId()==t)return this.events.splice(n,1),n<this.baseIndex&&this.baseIndex--,i}return null}},{key:"toString",value:function(){return this.name}}],[{key:"setEventMetadata",value:function(t,n,i){t.setMetadata(n,i)}}])})();(0,n.default)(l,"BACKWARDS",s.Backward),(0,n.default)(l,"FORWARDS",s.Forward)},810,[1,739,11,12,766,765]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RelationsContainer=void 0;var n=t(r(d[1])),l=t(r(d[2])),v=t(r(d[3])),o=t(r(d[4]));e.RelationsContainer=(function(){return(0,v.default)(function t(n,v){(0,l.default)(this,t),this.client=n,this.room=v,(0,o.default)(this,"relations",new Map)},[{key:"getChildEventsForEvent",value:function(t,n,l){var v;return null===(v=this.relations.get(t))||void 0===v||null===(v=v.get(n))||void 0===v?void 0:v.get(l)}},{key:"getAllChildEventsForEvent",value:function(t){var l,v=null!==(l=this.relations.get(t))&&void 0!==l?l:new Map,o=[];for(var s of v.values())for(var u of s.values())o.push.apply(o,(0,n.default)(u.getRelations()));return o}},{key:"aggregateParentEvent",value:function(t){var n=this.relations.get(t.getId());if(n)for(var l of n.values())for(var v of l.values())v.setTargetEvent(t)}},{key:"aggregateChildEvent",value:function(t,n){var l=this;if(!t.isRedacted()&&t.status!==r(d[5]).EventStatus.CANCELLED){var v=t.getRelation();if(v){var o=function(){t.isDecryptionFailure()?t.once(r(d[5]).MatrixEventEvent.Decrypted,o):l.aggregateChildEvent(t,n)};if(t.isBeingDecrypted()||t.shouldAttemptDecryption())t.once(r(d[5]).MatrixEventEvent.Decrypted,o);else{var s=v.event_id,u=v.rel_type,f=t.getType(),E=this.relations.get(s);E||(E=new Map,this.relations.set(s,E));var c=E.get(u);c||(c=new Map,E.set(u,c));var h=c.get(f);if(!h){var p,y,C;h=new(r(d[6]).Relations)(u,f,this.client),c.set(f,h);var M=null!==(p=this.room)&&void 0!==p?p:null==n?void 0:n.room,D=null!==(y=null!==(C=null==n?void 0:n.findEventById(s))&&void 0!==C?C:null==M?void 0:M.findEventById(s))&&void 0!==y?y:null==M?void 0:M.getPendingEvent(s);D&&h.setTargetEvent(D)}h.addEvent(t)}}}}}])})()},811,[1,42,11,12,739,771,812]);
__d(function(g,r,i,_a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RelationsEvent=_e.Relations=void 0;var t=e(r(d[1])),n=e(r(d[2])),a=e(r(d[3])),o=e(r(d[4])),l=e(r(d[5])),s=e(r(d[6])),u=e(r(d[7])),v=e(r(d[8]));function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var c=_e.RelationsEvent=(function(e){return e.Add="Relations.add",e.Remove="Relations.remove",e.Redaction="Relations.redaction",e})({}),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return[t].concat((0,s.default)(n)).includes(e)};_e.Relations=(function(e){function p(e,n,l,s){var f,E,R,h,T;return(0,t.default)(this,p),R=this,h=p,h=(0,o.default)(h),f=(0,a.default)(R,y()?Reflect.construct(h,T||[],(0,o.default)(R).constructor):h.apply(R,T)),E=f,f.relationType=e,f.eventType=n,f.altEventTypes=s,(0,v.default)(f,"relationEventIds",new Set),(0,v.default)(f,"relations",new Set),(0,v.default)(f,"annotationsByKey",{}),(0,v.default)(f,"annotationsBySender",{}),(0,v.default)(f,"sortedAnnotationsByKey",[]),(0,v.default)(f,"targetEvent",null),(0,v.default)(f,"creationEmitted",!1),(0,v.default)(f,"client",void 0),(0,v.default)(f,"onEventStatus",function(e,t){e.isSending()?t===r(d[9]).EventStatus.CANCELLED&&(e.removeListener(r(d[9]).MatrixEventEvent.Status,f.onEventStatus),f.removeEvent(e)):e.removeListener(r(d[9]).MatrixEventEvent.Status,f.onEventStatus)}),(0,v.default)(f,"onBeforeRedaction",(function(){var e=(0,u.default)(function*(e){if(E.relations.has(e)){if(E.relations.delete(e),E.relationType===r(d[10]).RelationType.Annotation)E.removeAnnotationFromAggregation(e);else if(E.relationType===r(d[10]).RelationType.Replace&&E.targetEvent&&!E.targetEvent.isState()){var t=yield E.getLastReplacement();E.targetEvent.makeReplaced(t)}e.removeListener(r(d[9]).MatrixEventEvent.BeforeRedaction,E.onBeforeRedaction),E.emit(c.Redaction,e)}});return function(t){return e.apply(this,arguments)}})()),f.client=l instanceof r(d[11]).Room?l.client:l,f}return(0,l.default)(p,e),(0,n.default)(p,[{key:"addEvent",value:function(e){var t=this;return(0,u.default)(function*(){if(!t.relationEventIds.has(e.getId())){var n=e.getRelation();if(n){var a=n.rel_type,o=e.getType();if(t.relationType===a&&f(o,t.eventType,t.altEventTypes)){if(e.isSending()&&e.on(r(d[9]).MatrixEventEvent.Status,t.onEventStatus),t.relations.add(e),t.relationEventIds.add(e.getId()),t.relationType===r(d[10]).RelationType.Annotation)t.addAnnotationToAggregation(e);else if(t.relationType===r(d[10]).RelationType.Replace&&t.targetEvent&&!t.targetEvent.isState()){var l=yield t.getLastReplacement();t.targetEvent.makeReplaced(l)}e.on(r(d[9]).MatrixEventEvent.BeforeRedaction,t.onBeforeRedaction),t.emit(c.Add,e),t.maybeEmitCreated()}else r(d[12]).logger.error("Event relation info doesn't match this container")}else r(d[12]).logger.error("Event must have relation info")}})()}},{key:"removeEvent",value:function(e){var t=this;return(0,u.default)(function*(){if(t.relations.has(e)){if(t.relations.delete(e),t.relationType===r(d[10]).RelationType.Annotation)t.removeAnnotationFromAggregation(e);else if(t.relationType===r(d[10]).RelationType.Replace&&t.targetEvent&&!t.targetEvent.isState()){var n=yield t.getLastReplacement();t.targetEvent.makeReplaced(n)}t.emit(c.Remove,e)}})()}},{key:"getRelations",value:function(){return(0,s.default)(this.relations)}},{key:"addAnnotationToAggregation",value:function(e){var t,n=(null!==(t=e.getRelation())&&void 0!==t?t:{}).key;if(n){var a=this.annotationsByKey[n];a||(a=this.annotationsByKey[n]=new Set,this.sortedAnnotationsByKey.push([n,a])),a.add(e),this.sortedAnnotationsByKey.sort(function(e,t){var n=e[1];return t[1].size-n.size});var o=e.getSender(),l=this.annotationsBySender[o];l||(l=this.annotationsBySender[o]=new Set),l.add(e)}}},{key:"removeAnnotationFromAggregation",value:function(e){var t,n=(null!==(t=e.getRelation())&&void 0!==t?t:{}).key;if(n){var a=this.annotationsByKey[n];a&&(a.delete(e),this.sortedAnnotationsByKey.sort(function(e,t){var n=e[1];return t[1].size-n.size}));var o=e.getSender(),l=this.annotationsBySender[o];l&&l.delete(e)}}},{key:"getSortedAnnotationsByKey",value:function(){return this.relationType!==r(d[10]).RelationType.Annotation?null:this.sortedAnnotationsByKey}},{key:"getAnnotationsBySender",value:function(){return this.relationType!==r(d[10]).RelationType.Annotation?null:this.annotationsBySender}},{key:"getLastReplacement",value:function(){var e=this;return(0,u.default)(function*(){if(e.relationType!==r(d[10]).RelationType.Replace)return null;if(!e.targetEvent)return null;var t=e.targetEvent.getServerAggregatedRelation(r(d[10]).RelationType.Replace),n=null==t?void 0:t.origin_server_ts,a=e.getRelations().reduce(function(t,a){return a.getSender()!==e.targetEvent.getSender()||n&&n>a.getTs()||t&&t.getTs()>a.getTs()?t:a},null);return null!=a&&a.shouldAttemptDecryption()&&e.client.getCrypto()?yield a.attemptDecryption(e.client.getCrypto()):null!=a&&a.isBeingDecrypted()&&(yield a.getDecryptionPromise()),a})()}},{key:"setTargetEvent",value:function(e){var t=this;return(0,u.default)(function*(){if(!t.targetEvent){if(t.targetEvent=e,t.relationType===r(d[10]).RelationType.Replace&&!t.targetEvent.isState()){var n=yield t.getLastReplacement();n&&t.targetEvent.makeReplaced(n)}t.maybeEmitCreated()}})()}},{key:"maybeEmitCreated",value:function(){this.creationEmitted||this.targetEvent&&this.relations.size&&(this.creationEmitted=!0,this.targetEvent.emit(r(d[9]).MatrixEventEvent.RelationsCreated,this.relationType,this.eventType))}}])})(r(d[13]).TypedEventEmitter)},812,[1,11,12,18,20,23,42,743,739,771,765,806,746,762]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ServerCapabilities=_e.RoomVersionStability=void 0;var t=e(r(d[1])),l=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4]));_e.RoomVersionStability=(function(e){return e.Stable="stable",e.Unstable="unstable",e})({}),_e.ServerCapabilities=(function(){return(0,l.default)(function e(l,u){(0,t.default)(this,e);var n=this;this.logger=l,this.http=u,(0,s.default)(this,"capabilities",void 0),(0,s.default)(this,"retryTimeout",void 0),(0,s.default)(this,"refreshTimeout",void 0),(0,s.default)(this,"fetchCapabilities",(0,o.default)(function*(){var e=yield n.http.authedRequest(r(d[5]).Method.Get,"/capabilities");return n.capabilities=e.capabilities,n.capabilities})),(0,s.default)(this,"poll",(0,o.default)(function*(){try{yield n.fetchCapabilities(),n.clearTimeouts(),n.refreshTimeout=setTimeout(n.poll,216e5),n.logger.debug("Fetched new server capabilities")}catch(t){n.clearTimeouts();var e=Math.floor(3e4+5e3*Math.random());n.retryTimeout=setTimeout(n.poll,e),n.logger.warn("Failed to refresh capabilities: retrying in ".concat(e,"ms"),t)}}))},[{key:"start",value:function(){this.poll().then()}},{key:"stop",value:function(){this.clearTimeouts()}},{key:"getCachedCapabilities",value:function(){return this.capabilities}},{key:"clearTimeouts",value:function(){this.refreshTimeout&&(clearInterval(this.refreshTimeout),this.refreshTimeout=void 0),this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=void 0)}}])})()},813,[1,11,12,743,739,814]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0});var t={MatrixHttpApi:!0};_e.MatrixHttpApi=void 0;var r=e(_r(d[1])),o=e(_r(d[2])),n=e(_r(d[3])),s=e(_r(d[4])),i=e(_r(d[5])),u=e(_r(d[6]));Object.keys(_r(d[7])).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===_r(d[7])[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return _r(d[7])[e]}}))});var l=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,s,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((s=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(s.get||s.set)?n(i,u,s):i[u]=e[u]);return i})(e,t)})(_r(d[8]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.keys(_r(d[9])).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===_r(d[9])[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return _r(d[9])[e]}}))}),Object.keys(_r(d[10])).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===_r(d[10])[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return _r(d[10])[e]}}))}),Object.keys(_r(d[11])).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===_r(d[11])[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return _r(d[11])[e]}}))}),Object.keys(_r(d[12])).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===_r(d[12])[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return _r(d[12])[e]}}))});_e.MatrixHttpApi=(function(e){function t(){var e,o,i,l;return(0,r.default)(this,t),o=this,i=t,l=arguments,i=(0,s.default)(i),e=(0,n.default)(o,c()?Reflect.construct(i,l||[],(0,s.default)(o).constructor):i.apply(o,l)),(0,u.default)(e,"uploads",[]),e}return(0,i.default)(t,e),(0,o.default)(t,[{key:"uploadContent",value:function(e){var t,r,o,n,s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=null===(t=i.includeFilename)||void 0===t||t,c=null!==(r=i.abortController)&&void 0!==r?r:new AbortController,p=(null!==(o=i.type)&&void 0!==o?o:e.type)||"application/octet-stream",f=null!==(n=i.name)&&void 0!==n?n:e.name,h={loaded:0,total:0,abortController:c},b=Promise.withResolvers();if(globalThis.XMLHttpRequest){var y=new globalThis.XMLHttpRequest,v=function(){y.abort(),b.reject(new Error("Timeout"))},O=l.setTimeout(v,3e4);y.onreadystatechange=function(){if(y.readyState===globalThis.XMLHttpRequest.DONE){l.clearTimeout(O);try{if(0===y.status)throw new DOMException(y.statusText,"AbortError");if(!y.responseText)throw new Error("No response body.");y.status>=400?b.reject((0,_r(d[11]).parseErrorResponse)(y,y.responseText)):b.resolve(JSON.parse(y.responseText))}catch(e){if("AbortError"===e.name)return void b.reject(e);b.reject(new(_r(d[10]).ConnectionError)("request failed",e))}}},y.upload.onprogress=function(e){var t;l.clearTimeout(O),h.loaded=e.loaded,h.total=e.total,O=l.setTimeout(v,3e4),null===(t=i.progressHandler)||void 0===t||t.call(i,{loaded:e.loaded,total:e.total})};var j=this.getUrl("/upload",void 0,_r(d[7]).MediaPrefix.V3);u&&f&&j.searchParams.set("filename",encodeURIComponent(f)),!this.opts.useAuthorizationHeader&&this.opts.accessToken&&j.searchParams.set("access_token",encodeURIComponent(this.opts.accessToken)),y.open(_r(d[9]).Method.Post,j.href),this.opts.useAuthorizationHeader&&this.opts.accessToken&&y.setRequestHeader("Authorization","Bearer "+this.opts.accessToken),y.setRequestHeader("Content-Type",p),y.send(e),c.signal.addEventListener("abort",function(){y.abort()})}else{var M={};u&&f&&(M.filename=f);var P={"Content-Type":p};this.authedRequest(_r(d[9]).Method.Post,"/upload",M,e,{prefix:_r(d[7]).MediaPrefix.V3,headers:P,abortSignal:c.signal}).then(b.resolve,b.reject)}return h.promise=b.promise.finally(function(){(0,_r(d[13]).removeElement)(s.uploads,function(e){return e===h})}),c.signal.addEventListener("abort",function(){(0,_r(d[13]).removeElement)(s.uploads,function(e){return e===h}),b.reject(new DOMException("Aborted","AbortError"))}),this.uploads.push(h),h.promise}},{key:"cancelUpload",value:function(e){var t=this.uploads.find(function(t){return t.promise===e});return!!t&&(t.abortController.abort(),!0)}},{key:"getCurrentUploads",value:function(){return this.uploads}},{key:"getContentUri",value:function(){return{base:this.opts.baseUrl,path:_r(d[7]).MediaPrefix.V3+"/upload",params:{access_token:this.opts.accessToken}}}}])})(_r(d[14]).FetchHttpApi)},814,[1,11,12,18,20,23,739,815,816,817,818,819,821,748,822]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.MediaPrefix=e.IdentityPrefix=e.ClientPrefix=void 0;e.ClientPrefix=(function(t){return t.V1="/_matrix/client/v1",t.V3="/_matrix/client/v3",t.Unstable="/_matrix/client/unstable",t})({}),e.IdentityPrefix=(function(t){return t.V2="/_matrix/identity/v2",t})({}),e.MediaPrefix=(function(t){return t.V1="/_matrix/media/v1",t.V3="/_matrix/media/v3",t})({})},815,[]);
__d(function(g,r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.clearTimeout=function(e){if(0===l.length)return;var n;for(n=0;n<l.length;n++){if(l[n].key==e){l.splice(n,1);break}}0===n&&u()},_e.setTimeout=function(e,n){for(var c=arguments.length,f=new Array(c>2?c-2:0),s=2;s<c;s++)f[s-2]=arguments[s];(n=n||0)<0&&(n=0);var h=Date.now()+n,v=t++;o("setTimeout: scheduling cb",v,"at",h,"(delay",n,")");var b={runAt:h,func:e,params:f,key:v},p=i(l,function(e){return e.runAt-h});return l.splice(p,0,b),u(),v};var e,n=1e3,t=0,l=[],o=function(){};function u(){e&&globalThis.clearTimeout(e);var t=l[0];if(t){var u=Date.now(),i=Math.min(t.runAt-u,n);o("scheduleRealCallback: now:",u,"delay:",i),e=globalThis.setTimeout(c,i)}else o("scheduleRealCallback: no more callbacks, not rescheduling")}function c(){var e=Date.now();o("runCallbacks: now:",e);for(var n=[];;){var t=l[0];if(!t||t.runAt>e)break;var c=l.shift();o("runCallbacks: popping",c.key),n.push(c)}for(var i of(u(),n))try{i.func.apply(globalThis,i.params)}catch(e){r(d[0]).logger.error("Uncaught exception in callback function",e)}}function i(e,n){for(var t=0,l=e.length;t<l;){var o=t+l>>1;n(e[o])>0?l=o:t=o+1}return t}},816,[746]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.Method=void 0;e.Method=(function(t){return t.Get="GET",t.Put="PUT",t.Post="POST",t.Delete="DELETE",t.Options="OPTIONS",t.Head="HEAD",t.Patch="PATCH",t})({})},817,[]);
__d(function(g,_r,i,a,m,_e,d){var r=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TokenRefreshLogoutError=_e.TokenRefreshError=_e.MatrixSafetyErrorCode=_e.MatrixSafetyError=_e.MatrixError=_e.HTTPError=_e.ConnectionError=void 0,_e.safeGetRetryAfterMs=function(r,e){if(!(r instanceof w&&r.isRateLimitError()))return e;try{var t;return null!==(t=r.getRetryAfterMs())&&void 0!==t?t:e}catch(r){return e}};var e=r(_r(d[1])),t=r(_r(d[2])),n=r(_r(d[3])),o=r(_r(d[4])),u=r(_r(d[5])),f=r(_r(d[6])),s=r(_r(d[7])),l=r(_r(d[8])),c=r(_r(d[9])),h=r(_r(d[10]));function v(r,e,t,o){var u=(0,n.default)((0,s.default)(1&o?r.prototype:r),e,t);return 2&o&&"function"==typeof u?function(r){return u.apply(t,r)}:u}function y(r,e,t){return e=(0,s.default)(e),(0,f.default)(r,p()?Reflect.construct(e,t||[],(0,s.default)(r).constructor):e.apply(r,t))}function p(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(p=function(){return!!r})()}function E(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function _(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach(function(e){(0,h.default)(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}var w=_e.HTTPError=(function(r){function e(r,t,n){var u;return(0,o.default)(this,e),(u=y(this,e,[r])).httpStatus=t,u.httpHeaders=n,u}return(0,l.default)(e,r),(0,u.default)(e,[{key:"isRateLimitError",value:function(){return 429===this.httpStatus}},{key:"getRetryAfterMs",value:function(){var r,e=null===(r=this.httpHeaders)||void 0===r?void 0:r.get("Retry-After");if(null!=e){if(/^\d+$/.test(e)){var t=1e3*Number.parseInt(e);if(!Number.isFinite(t))throw new Error("Retry-After header integer value is too large");return t}var n=new Date(e);if(n.toUTCString()!==e)throw new Error("Retry-After header value is not a valid HTTP-date or non-negative decimal integer");return n.getTime()-Date.now()}return null}}])})((0,c.default)(Error)),O=_e.MatrixError=(function(r){function e(){var r;(0,o.default)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=t.error||"Unknown message";return n&&(l="[".concat(n,"] ").concat(l)),u&&(l="".concat(l," (").concat(u,")")),(r=y(this,e,["MatrixError: ".concat(l),n,s])).url=u,r.event=f,(0,h.default)(r,"errcode",void 0),(0,h.default)(r,"error",void 0),(0,h.default)(r,"data",void 0),r.errcode=t.errcode,r.error=t.error,r.name=t.errcode||"Unknown error code",r.data=t,r}return(0,l.default)(e,r),(0,u.default)(e,[{key:"isRateLimitError",value:function(){return"M_LIMIT_EXCEEDED"===this.errcode||("M_UNKNOWN"===this.errcode||void 0===this.errcode)&&v(e,"isRateLimitError",this,3)([])}},{key:"getRetryAfterMs",value:function(){var r=v(e,"getRetryAfterMs",this,3)([]);if(null!==r)return r;if("M_LIMIT_EXCEEDED"===this.errcode&&"retry_after_ms"in this.data){if(!Number.isInteger(this.data.retry_after_ms))throw new Error("retry_after_ms is not an integer");return this.data.retry_after_ms}return null}},{key:"asWidgetApiErrorData",value:function(){var r,e,n,o,u={};if(this.httpHeaders)for(var f of this.httpHeaders){var s=(0,t.default)(f,2),l=s[0],c=s[1];u[l]=c}return{http_status:null!==(r=this.httpStatus)&&void 0!==r?r:400,http_headers:u,url:null!==(e=this.url)&&void 0!==e?e:"",response:_({errcode:null!==(n=this.errcode)&&void 0!==n?n:"M_UNKNOWN",error:null!==(o=this.data.error)&&void 0!==o?o:"Unknown message"},this.data)}}}],[{key:"fromWidgetApiErrorData",value:function(r){return new e(r.response,r.http_status,r.url,void 0,new Headers(r.http_headers))}}])})(w);_e.ConnectionError=(function(r){function e(r,t){return(0,o.default)(this,e),y(this,e,[r+(t?": ".concat(t.message):"")])}return(0,l.default)(e,r),(0,u.default)(e,[{key:"name",get:function(){return"ConnectionError"}}])})((0,c.default)(Error)),_e.TokenRefreshError=(function(r){function e(r){var t;return(0,o.default)(this,e),y(this,e,[null!==(t=null==r?void 0:r.message)&&void 0!==t?t:""])}return(0,l.default)(e,r),(0,u.default)(e,[{key:"name",get:function(){return"TokenRefreshError"}}])})((0,c.default)(Error)),_e.TokenRefreshLogoutError=(function(r){function e(r){var t;return(0,o.default)(this,e),y(this,e,[null!==(t=null==r?void 0:r.message)&&void 0!==t?t:""])}return(0,l.default)(e,r),(0,u.default)(e,[{key:"name",get:function(){return"TokenRefreshLogoutError"}}])})((0,c.default)(Error)),_e.MatrixSafetyErrorCode=new(_r(d[11]).NamespacedValue)(null,"ORG.MATRIX.MSC4387_SAFETY"),_e.MatrixSafetyError=(function(r){function t(){var r;(0,o.default)(this,t),r=y(this,t,arguments),(0,h.default)(r,"harms",void 0),(0,h.default)(r,"expiry",void 0);var n=arguments.length<=0?void 0:arguments[0];return r.harms=new Set(n&&"harms"in n&&Array.isArray(n.harms)?n.harms:[]),r.message="".concat(v(t,"message",r,1)," (").concat((0,e.default)(r.harms).join(", "),")"),n&&"expiry"in n&&"number"==typeof n.expiry&&(r.expiry=new Date(n.expiry)),r}return(0,l.default)(t,r),(0,u.default)(t)})(O)},818,[1,42,34,21,11,12,18,20,23,144,739,754]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.anySignal=function(t){var e=new AbortController;function n(){for(var e of t)e.removeEventListener("abort",o)}function o(){e.abort(),n()}for(var u of t){if(u.aborted){o();break}u.addEventListener("abort",o)}return{signal:e.signal,cleanup:n}},_e.calculateRetryBackoff=function(t,e,n){if(e>4)return-1;if(t instanceof r(d[2]).ConnectionError&&!n)return-1;if(t.httpStatus&&4===Math.floor(t.httpStatus/100)&&429!==t.httpStatus)return-1;if("AbortError"===t.name)return-1;if("M_TOO_LARGE"===t.name)return-1;return(0,r(d[2]).safeGetRetryAfterMs)(t,1e3*Math.pow(2,e))},_e.parseErrorResponse=function(t,e){var u,s,c,f=n(t)?new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(function(t){var e=t.indexOf(":");return[t.substring(0,e),t.substring(e+1)]})):t.headers;try{c=o(f)}catch(t){return t}if("application/json"===(null===(u=c)||void 0===u?void 0:u.type)&&e){var l=JSON.parse(e);return l.errcode&&r(d[2]).MatrixSafetyErrorCode.matches(l.errcode)?new(r(d[2]).MatrixSafetyError)(l,t.status,n(t)?t.responseURL:t.url,void 0,f):new(r(d[2]).MatrixError)(l,t.status,n(t)?t.responseURL:t.url,void 0,f)}if("text/plain"===(null===(s=c)||void 0===s?void 0:s.type))return new(r(d[2]).HTTPError)("Server returned ".concat(t.status," error: ").concat(e),t.status,f);return new(r(d[2]).HTTPError)("Server returned ".concat(t.status," error"),t.status,f)},_e.retryNetworkOperation=function(t,e){return u.apply(this,arguments)},_e.timeoutSignal=function(t){var e=new AbortController;return setTimeout(function(){e.abort()},t),e.signal};var e=t(r(d[1]));function n(t){return"getResponseHeader"in t}function o(t){var e=t.get("Content-Type");if(null===e)return null;try{return(0,r(d[3]).parse)(e)}catch(t){throw new Error("Error parsing Content-Type '".concat(e,"': ").concat(t))}}function u(){return(u=(0,e.default)(function*(t,e){for(var n=0,o=null;n<t;)try{if(n>0){var u=1e3*Math.pow(2,n);r(d[4]).logger.log("network operation failed ".concat(n," times, retrying in ").concat(u,"ms...")),yield(0,r(d[5]).sleep)(u)}return yield e()}catch(t){if(!(t instanceof r(d[2]).ConnectionError))throw t;n+=1,o=t}throw o})).apply(this,arguments)}},819,[1,743,818,820,746,748]);
__d(function(g,r,_i,a,m,e,d){
/*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   */
'use strict';var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,n=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,i=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,o=/\\([\u000b\u0020-\u00ff])/g,f=/([\\"])/g,u=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function p(t){var n;if('function'==typeof t.getHeader?n=t.getHeader('content-type'):'object'==typeof t.headers&&(n=t.headers&&t.headers['content-type']),'string'!=typeof n)throw new TypeError('content-type header is missing from object');return n}function s(t){var o=String(t);if(i.test(o))return o;if(o.length>0&&!n.test(o))throw new TypeError('invalid parameter value');return'"'+o.replace(f,'\\$1')+'"'}function c(t){this.parameters=Object.create(null),this.type=t}e.format=function(t){if(!t||'object'!=typeof t)throw new TypeError('argument obj is required');var n=t.parameters,o=t.type;if(!o||!u.test(o))throw new TypeError('invalid type');var f=o;if(n&&'object'==typeof n)for(var p,c=Object.keys(n).sort(),y=0;y<c.length;y++){if(p=c[y],!i.test(p))throw new TypeError('invalid parameter name');f+='; '+p+'='+s(n[p])}return f},e.parse=function(n){if(!n)throw new TypeError('argument string is required');var i='object'==typeof n?p(n):n;if('string'!=typeof i)throw new TypeError('argument string is required to be a string');var f=i.indexOf(';'),s=-1!==f?i.slice(0,f).trim():i.trim();if(!u.test(s))throw new TypeError('invalid media type');var y=new c(s.toLowerCase());if(-1!==f){var w,h,l;for(t.lastIndex=f;h=t.exec(i);){if(h.index!==f)throw new TypeError('invalid parameter format');f+=h[0].length,w=h[1].toLowerCase(),34===(l=h[2]).charCodeAt(0)&&-1!==(l=l.slice(1,-1)).indexOf('\\')&&(l=l.replace(o,'$1')),y.parameters[w]=l}if(f!==i.length)throw new TypeError('invalid parameter format')}return y}},820,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.HttpApiEvent=void 0;e.HttpApiEvent=(function(n){return n.SessionLoggedOut="Session.logged_out",n.NoConsent="no_consent",n})({})},821,[]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.FetchHttpApi=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4]));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}_e.FetchHttpApi=(function(){return(0,r.default)(function e(r,o){var s;if((0,t.default)(this,e),this.eventEmitter=r,this.opts=o,(0,n.default)(this,"abortController",new AbortController),(0,n.default)(this,"tokenRefresher",void 0),(0,_r(d[5]).checkObjectHasKeys)(o,["baseUrl","prefix"]),!o.onlyData)throw new Error("Constructing FetchHttpApi without `onlyData=true` is no longer supported.");o.useAuthorizationHeader=null===(s=o.useAuthorizationHeader)||void 0===s||s,this.tokenRefresher=new(_r(d[6]).TokenRefresher)(o)},[{key:"abort",value:function(){this.abortController.abort(),this.abortController=new AbortController}},{key:"fetch",value:function(e,t){return this.opts.fetchFn?this.opts.fetchFn(e,t):globalThis.fetch(e,t)}},{key:"setIdBaseUrl",value:function(e){this.opts.idBaseUrl=e}},{key:"idServerRequest",value:function(e,t,r,o,n){if(!this.opts.idBaseUrl)throw new Error("No identity server base URL set");var s=void 0,c=void 0;e===_r(d[7]).Method.Get?s=r:c=r;var l=this.getUrl(t,s,o,this.opts.idBaseUrl),u={json:!0,headers:{}};return n&&(u.headers.Authorization="Bearer ".concat(n)),this.requestOtherUrl(e,l,c,u)}},{key:"authedRequest",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.doAuthedRequest(1,e,t,r,o,n)}},{key:"doAuthedRequest",value:function(e,t,r,n,s){var c=arguments,l=this;return(0,o.default)(function*(){var o=c.length>5&&void 0!==c[5]?c[5]:{},u=(0,_r(d[5]).deepCopy)(o);u.abortSignal=o.abortSignal;var h=yield l.tokenRefresher.prepareForRequest();h.accessToken&&(l.opts.useAuthorizationHeader?(u.headers||(u.headers={}),u.headers.Authorization||(u.headers.Authorization="Bearer ".concat(h.accessToken)),n.access_token&&delete n.access_token):n.access_token||(n.access_token=h.accessToken));try{return yield l.request(t,r,n,s,u)}catch(c){if(!(c instanceof _r(d[8]).MatrixError))throw c;if("M_UNKNOWN_TOKEN"===c.errcode){var p=yield l.tokenRefresher.handleUnknownToken(h,e);if(p===_r(d[6]).TokenRefreshOutcome.Success)return l.doAuthedRequest(e+1,t,r,n,s,o);if(p===_r(d[6]).TokenRefreshOutcome.Failure)throw new(_r(d[8]).TokenRefreshError)(c);null!=u&&u.inhibitLogoutEmit||l.eventEmitter.emit(_r(d[9]).HttpApiEvent.SessionLoggedOut,c)}else"M_CONSENT_NOT_GIVEN"==c.errcode&&l.eventEmitter.emit(_r(d[9]).HttpApiEvent.NoConsent,c.message,c.data.consent_uri);throw c}})()}},{key:"request",value:function(e,t,r,o,n){var s=this.getUrl(t,r,null==n?void 0:n.prefix,null==n?void 0:n.baseUrl);return this.requestOtherUrl(e,s,o,n)}},{key:"requestOtherUrl",value:function(e,t,r){var n=arguments,s=this;return(0,o.default)(function*(){var o,c,l,u,h=n.length>3&&void 0!==n[3]?n[3]:{};if(void 0!==h.json&&void 0!==h.rawResponseBody)throw new Error("Invalid call to `FetchHttpApi` sets both `opts.json` and `opts.rawResponseBody`");var p=s.sanitizeUrlForLogs(t);null===(o=s.opts.logger)||void 0===o||o.debug("FetchHttpApi: --\x3e ".concat(e," ").concat(p));var f=Object.assign({},h.headers||{}),v=!h.rawResponseBody&&!1!==h.json;v&&(f.Accept||(f.Accept="application/json"));var y,b=null!==(c=h.localTimeoutMs)&&void 0!==c?c:s.opts.localTimeoutMs,w=null!==(l=h.keepAlive)&&void 0!==l&&l,k=[s.abortController.signal];void 0!==b&&k.push((0,_r(d[10]).timeoutSignal)(b)),h.abortSignal&&k.push(h.abortSignal),!1!==h.json&&(null==r||null===(u=r.constructor)||void 0===u?void 0:u.name)===Object.name?(y=JSON.stringify(r),f["Content-Type"]||(f["Content-Type"]="application/json")):y=r;var O,A=(0,_r(d[10]).anySignal)(k),j=A.signal,R=A.cleanup,U="Authorization"in f?void 0:"no-cache",E=Date.now();try{var P;O=yield s.fetch(t,{signal:j,method:e,body:y,headers:f,mode:"cors",redirect:"follow",referrer:"",referrerPolicy:"no-referrer",cache:U,credentials:"omit",keepalive:w,priority:h.priority}),null===(P=s.opts.logger)||void 0===P||P.debug("FetchHttpApi: <-- ".concat(e," ").concat(p," [").concat(Date.now()-E,"ms ").concat(O.status,"]"))}catch(t){var T;if(null===(T=s.opts.logger)||void 0===T||T.debug("FetchHttpApi: <-- ".concat(e," ").concat(p," [").concat(Date.now()-E,"ms ").concat(t,"]")),"AbortError"===t.name)throw t;throw new(_r(d[8]).ConnectionError)("fetch failed",t)}finally{R()}if(!O.ok)throw(0,_r(d[10]).parseErrorResponse)(O,yield O.text());return h.rawResponseBody?yield O.blob():v?yield O.json():yield O.text()})()}},{key:"sanitizeUrlForLogs",value:function(e){try{var t;t="string"==typeof e?new URL(e):e;var r=new URLSearchParams;for(var o of t.searchParams.keys())r.append(o,"xxx");var n=r.toString(),s=n?"?".concat(n):"";return t.origin+t.pathname+s}catch(e){return"??"}}},{key:"getUrl",value:function(e,t,r,o){var n=null!=o?o:this.opts.baseUrl,s=n.endsWith("/")?n.slice(0,-1):n,l=new URL(s+(null!=r?r:this.opts.prefix)+e);if(this.opts.extraParams||t){var u=c(c({},this.opts.extraParams),t);(0,_r(d[5]).encodeParams)(u,l.searchParams)}return l}}])})()},822,[1,11,12,743,739,748,823,817,818,821,819]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.TokenRefresher=e.TokenRefreshOutcome=void 0;var n=o(r(d[1])),t=o(r(d[2])),s=o(r(d[3])),u=o(r(d[4])),f=e.TokenRefreshOutcome=(function(o){return o.Success="success",o.Failure="failure",o.Logout="logout",o})({});e.TokenRefresher=(function(){return(0,t.default)(function o(t){(0,n.default)(this,o),this.opts=t,(0,u.default)(this,"tokenRefreshPromise",void 0),(0,u.default)(this,"latestTokenRefreshExpiry",void 0)},[{key:"prepareForRequest",value:function(){var o=this;return(0,s.default)(function*(){return yield o.refreshIfNeeded(),{accessToken:o.opts.accessToken,refreshToken:o.opts.refreshToken,expiry:o.latestTokenRefreshExpiry}})()}},{key:"refreshIfNeeded",value:function(){var o=this;return(0,s.default)(function*(){if(o.tokenRefreshPromise)return o.tokenRefreshPromise;o.latestTokenRefreshExpiry&&(o.latestTokenRefreshExpiry.getTime()-Date.now()<=500&&(yield o._handleUnknownToken()))})()}},{key:"handleUnknownToken",value:function(o,n){var t=this;return(0,s.default)(function*(){return t._handleUnknownToken(o,n)})()}},{key:"_handleUnknownToken",value:function(o,n){var t=this;return(0,s.default)(function*(){if(null!=o&&o.expiry&&o.expiry.getTime()-Date.now()>=6e4)return f.Logout;if(!o||(null==o?void 0:o.accessToken)===t.opts.accessToken){var s;null!==(s=t.tokenRefreshPromise)&&void 0!==s||(t.tokenRefreshPromise=t.doTokenRefresh(n));try{return yield t.tokenRefreshPromise}finally{t.tokenRefreshPromise=void 0}}return f.Success})()}},{key:"doTokenRefresh",value:function(o){var n=this;return(0,s.default)(function*(){var t;if(!n.opts.refreshToken||!n.opts.tokenRefreshFunction)return null===(t=n.opts.logger)||void 0===t||t.error("Unable to refresh token - no refresh token or refresh function"),f.Logout;o&&o>1&&(yield(0,r(d[5]).sleep)(1e3*Math.min(32,2**o)));try{var s,u;null===(s=n.opts.logger)||void 0===s||s.debug("Attempting to refresh token");var l=yield n.opts.tokenRefreshFunction(n.opts.refreshToken),k=l.accessToken,h=l.refreshToken,c=l.expiry;return n.opts.accessToken=k,n.opts.refreshToken=h,n.latestTokenRefreshExpiry=c,null===(u=n.opts.logger)||void 0===u||u.debug("... token refresh complete, new token expiry:",c),f.Success}catch(o){var p,T;return o instanceof r(d[6]).TokenRefreshLogoutError||o instanceof r(d[6]).MatrixError?(null===(T=n.opts.logger)||void 0===T||T.error("Failed to refresh token",o),f.Logout):(null===(p=n.opts.logger)||void 0===p||p.warn("Failed to refresh token",o),f.Failure)}})()}}])})()},823,[1,11,12,743,739,748,818]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.isTimestampInDuration=_e.getBeaconInfoIdentifier=_e.BeaconEvent=_e.Beacon=void 0;var e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),u=t(r(d[6]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}var v=_e.BeaconEvent=(function(t){return t.New="Beacon.new",t.Update="Beacon.update",t.LivenessChange="Beacon.LivenessChange",t.Destroy="Beacon.Destroy",t.LocationUpdate="Beacon.LocationUpdate",t})({}),h=_e.isTimestampInDuration=function(t,e,n){return n>=t&&t+e>=n},l=_e.getBeaconInfoIdentifier=function(t){return"".concat(t.getRoomId(),"_").concat(t.getStateKey())};_e.Beacon=(function(t){function L(t){var n,c,h,l;return(0,e.default)(this,L),c=this,h=L,h=(0,s.default)(h),(n=(0,o.default)(c,f()?Reflect.construct(h,l||[],(0,s.default)(c).constructor):h.apply(c,l))).rootEvent=t,(0,u.default)(n,"roomId",void 0),(0,u.default)(n,"_beaconInfo",void 0),(0,u.default)(n,"_isLive",void 0),(0,u.default)(n,"livenessWatchTimeout",void 0),(0,u.default)(n,"_latestLocationEvent",void 0),(0,u.default)(n,"clearLatestLocation",function(){n._latestLocationEvent=void 0,n.emit(v.LocationUpdate,n.latestLocationState)}),n.roomId=n.rootEvent.getRoomId(),n.setBeaconInfo(n.rootEvent),n}return(0,c.default)(L,t),(0,n.default)(L,[{key:"isLive",get:function(){return!!this._isLive}},{key:"identifier",get:function(){return l(this.rootEvent)}},{key:"beaconInfoId",get:function(){return this.rootEvent.getId()}},{key:"beaconInfoOwner",get:function(){return this.rootEvent.getStateKey()}},{key:"beaconInfoEventType",get:function(){return this.rootEvent.getType()}},{key:"beaconInfo",get:function(){return this._beaconInfo}},{key:"latestLocationState",get:function(){return this._latestLocationEvent&&(0,r(d[7]).parseBeaconContent)(this._latestLocationEvent.getContent())}},{key:"latestLocationEvent",get:function(){return this._latestLocationEvent}},{key:"update",value:function(t){if(l(t)!==this.identifier)throw new Error("Invalid updating event");t.getTs()<this.rootEvent.getTs()||(this.rootEvent=t,this.setBeaconInfo(this.rootEvent),this.emit(v.Update,t,this),this.clearLatestLocation())}},{key:"destroy",value:function(){this.livenessWatchTimeout&&clearTimeout(this.livenessWatchTimeout),this._isLive=!1,this.emit(v.Destroy,this.identifier)}},{key:"monitorLiveness",value:function(){var t=this;if(this.livenessWatchTimeout&&clearTimeout(this.livenessWatchTimeout),this.checkLiveness(),this.beaconInfo)if(this.isLive){var e=this.beaconInfo.timestamp+this.beaconInfo.timeout-Date.now();e>1&&(this.livenessWatchTimeout=setTimeout(function(){t.monitorLiveness()},e))}else this.beaconInfo.timestamp>Date.now()&&(this.livenessWatchTimeout=setTimeout(function(){t.monitorLiveness()},this.beaconInfo.timestamp-Date.now()))}},{key:"addLocations",value:function(t){var e,n=this;if(this.isLive){var o=null===(e=t.filter(function(t){var e=t.getContent(),o=(0,r(d[7]).parseBeaconContent)(e);if(!o.uri||!o.timestamp)return!1;var s=o.timestamp;return n._beaconInfo.timestamp&&h(n._beaconInfo.timestamp,n._beaconInfo.timeout,s)&&(!n.latestLocationState||s>n.latestLocationState.timestamp)}).sort(r(d[8]).sortEventsByLatestContentTimestamp))||void 0===e?void 0:e[0];o&&(this._latestLocationEvent=o,this.emit(v.LocationUpdate,this.latestLocationState))}}},{key:"setBeaconInfo",value:function(t){this._beaconInfo=(0,r(d[7]).parseBeaconInfoContent)(t.getContent()),this.checkLiveness()}},{key:"checkLiveness",value:function(){var t=this.isLive;if(this.beaconInfo){var e=this.beaconInfo.timestamp>Date.now()?this.beaconInfo.timestamp-36e4:this.beaconInfo.timestamp;this._isLive=!!this._beaconInfo.live&&!!e&&h(e,this._beaconInfo.timeout,Date.now()),t!==this.isLive&&this.emit(v.LivenessChange,this.isLive,this)}}}])})(r(d[9]).TypedEventEmitter)},824,[1,11,12,18,20,23,739,799,748,762]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Filter=void 0;var i=e(_r(d[1])),t=e(_r(d[2])),o=e(_r(d[3]));function n(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,o)}return t}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){(0,i.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function l(e,i,t){for(var o=i.split("."),n=e,r=0;r<o.length-1;r++)n[o[r]]||(n[o[r]]={}),n=n[o[r]];n[o[o.length-1]]=t}var s=_e.Filter=(function(){function e(o,n){(0,t.default)(this,e),this.userId=o,this.filterId=n,(0,i.default)(this,"definition",{}),(0,i.default)(this,"roomFilter",void 0),(0,i.default)(this,"roomTimelineFilter",void 0)}return(0,o.default)(e,[{key:"getFilterId",value:function(){return this.filterId}},{key:"getDefinition",value:function(){return this.definition}},{key:"setDefinition",value:function(e){this.definition=e;var i=e.room,t={};i&&(i.rooms&&(t.rooms=i.rooms),i.rooms&&(t.not_rooms=i.not_rooms)),this.roomFilter=new(_r(d[4]).FilterComponent)(t,this.userId),this.roomTimelineFilter=new(_r(d[4]).FilterComponent)((null==i?void 0:i.timeline)||{},this.userId)}},{key:"getRoomTimelineFilterComponent",value:function(){return this.roomTimelineFilter}},{key:"filterRoomTimeline",value:function(e){return this.roomFilter&&(e=this.roomFilter.filter(e)),this.roomTimelineFilter&&(e=this.roomTimelineFilter.filter(e)),e}},{key:"setTimelineLimit",value:function(e){l(this.definition,"room.timeline.limit",e)}},{key:"setUnreadThreadNotifications",value:function(e){var t,o;this.definition=r(r({},this.definition),{},{room:r(r({},null===(t=this.definition)||void 0===t?void 0:t.room),{},{timeline:r(r({},null===(o=this.definition)||void 0===o||null===(o=o.room)||void 0===o?void 0:o.timeline),{},(0,i.default)({},_r(d[5]).UNREAD_THREAD_NOTIFICATIONS.name,e))})})}},{key:"setLazyLoadMembers",value:function(e){l(this.definition,"room.state.lazy_load_members",e)}},{key:"setIncludeLeaveRooms",value:function(e){l(this.definition,"room.include_leave",e)}}],[{key:"fromJson",value:function(i,t,o){var n=new e(i,t);return n.setDefinition(o),n}}])})();(0,i.default)(s,"LAZY_LOADING_MESSAGES_FILTER",{lazy_load_members:!0})},825,[1,739,11,12,826,827]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.FilterComponent=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4]));function u(t,n){if(n.endsWith("*")){var s=n.slice(0,-1);return t.slice(0,s.length)===s}return t===n}e.FilterComponent=(function(){return(0,l.default)(function t(n,s){(0,o.default)(this,t),this.filterJson=n,this.userId=s},[{key:"check",value:function(t){var n,s,o=(null===(n=t.getUnsigned())||void 0===n?void 0:n["m.relations"])||{},l=Object.keys(o),u=[];return this.userId&&null!=o&&null!==(s=o[r(d[5]).THREAD_RELATION_TYPE.name])&&void 0!==s&&s.current_user_participated&&u.push(this.userId),this.checkFields(t.getRoomId(),t.getSender(),t.getType(),!!t.getContent()&&void 0!==t.getContent().url,l,u)}},{key:"toJSON",value:function(){return Object.fromEntries(Object.entries((0,s.default)((0,s.default)({types:this.filterJson.types,not_types:this.filterJson.not_types,rooms:this.filterJson.rooms,not_rooms:this.filterJson.not_rooms,senders:this.filterJson.senders,not_senders:this.filterJson.not_senders,contains_url:this.filterJson.contains_url},r(d[5]).FILTER_RELATED_BY_SENDERS.name,this.filterJson[r(d[5]).FILTER_RELATED_BY_SENDERS.name]),r(d[5]).FILTER_RELATED_BY_REL_TYPES.name,this.filterJson[r(d[5]).FILTER_RELATED_BY_REL_TYPES.name])).filter(function(t){var s=(0,n.default)(t,2);s[0];return s[1]}))}},{key:"checkFields",value:function(t,n,s,o,l,f){var _={rooms:function(n){return t===n},senders:function(t){return n===t},types:function(t){return u(s,t)}};for(var c in _){var h=_[c],E="not_"+c,v=this.filterJson[E];if(null!=v&&v.some(h))return!1;var R=this.filterJson[c];if(R&&!R.some(h))return!1}var T=this.filterJson.contains_url;if(void 0!==T&&T!==o)return!1;var y=this.filterJson[r(d[5]).FILTER_RELATED_BY_REL_TYPES.name];if(void 0!==y&&!this.arrayMatchesFilter(y,l))return!1;var J=this.filterJson[r(d[5]).FILTER_RELATED_BY_SENDERS.name];return!(void 0!==J&&!this.arrayMatchesFilter(J,f))}},{key:"arrayMatchesFilter",value:function(t,n){return n.length>0&&t.every(function(t){return n.includes(t)})}},{key:"filter",value:function(t){return t.filter(this.check,this)}},{key:"limit",value:function(){return void 0!==this.filterJson.limit?this.filterJson.limit:10}}])})()},826,[1,34,66,11,12,795]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.UNREAD_THREAD_NOTIFICATIONS=void 0;e.UNREAD_THREAD_NOTIFICATIONS=new(r(d[0]).ServerControlledNamespacedValue)("unread_thread_notifications","org.matrix.msc3773.unread_thread_notifications")},827,[754]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.isPollEvent=_e.PollEvent=_e.Poll=void 0;var t=e(r(d[1])),n=e(r(d[2])),s=e(r(d[3])),o=e(r(d[4])),l=e(r(d[5])),u=e(r(d[6])),v=e(r(d[7])),c=e(r(d[8]));function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(E=function(){return!!e})()}var f=_e.PollEvent=(function(e){return e.New="Poll.new",e.End="Poll.end",e.Update="Poll.update",e.Responses="Poll.Responses",e.Destroy="Poll.Destroy",e.UndecryptableRelations="Poll.UndecryptableRelations",e})({}),p=function(e,t){return{responseEvents:e.filter(function(e){if(!e.isDecryptionFailure())return r(d[9]).M_POLL_RESPONSE.matches(e.getType())&&e.getTs()<=t})}};_e.Poll=(function(e){function h(e,s,u){var v,p,R,y;if((0,n.default)(this,h),p=this,R=h,R=(0,l.default)(R),(v=(0,o.default)(p,E()?Reflect.construct(R,y||[],(0,l.default)(p).constructor):R.apply(p,y))).rootEvent=e,v.matrixClient=s,v.room=u,(0,c.default)(v,"roomId",void 0),(0,c.default)(v,"pollEvent",void 0),(0,c.default)(v,"_isFetchingResponses",!1),(0,c.default)(v,"relationsNextBatch",void 0),(0,c.default)(v,"responses",null),(0,c.default)(v,"endEvent",void 0),(0,c.default)(v,"undecryptableRelationEventIds",new Set),(0,c.default)(v,"countUndecryptableEvents",function(e){var n=e.filter(function(e){return e.isDecryptionFailure()}).map(function(e){return e.getId()}),s=v.undecryptableRelationsCount;v.undecryptableRelationEventIds=new Set([].concat((0,t.default)(v.undecryptableRelationEventIds),(0,t.default)(n))),v.undecryptableRelationsCount!==s&&v.emit(f.UndecryptableRelations,v.undecryptableRelationsCount)}),!v.rootEvent.getRoomId()||!v.rootEvent.getId())throw new Error("Invalid poll start event.");return v.roomId=v.rootEvent.getRoomId(),v.pollEvent=v.rootEvent.unstableExtensibleEvent,v}return(0,u.default)(h,e),(0,s.default)(h,[{key:"pollId",get:function(){return this.rootEvent.getId()}},{key:"endEventId",get:function(){var e;return null===(e=this.endEvent)||void 0===e?void 0:e.getId()}},{key:"isEnded",get:function(){return!!this.endEvent}},{key:"isFetchingResponses",get:function(){return this._isFetchingResponses}},{key:"undecryptableRelationsCount",get:function(){return this.undecryptableRelationEventIds.size}},{key:"getResponses",value:function(){var e=this;return(0,v.default)(function*(){return e.responses||e.isFetchingResponses||(yield e.fetchResponses()),e.responses})()}},{key:"onNewRelation",value:function(e){var t,n=this;if(r(d[9]).M_POLL_END.matches(e.getType())&&this.validateEndEvent(e)&&(this.endEvent=e,this.refilterResponsesOnEnd(),this.emit(f.End)),this.responses){var s=(null===(t=this.endEvent)||void 0===t?void 0:t.getTs())||Number.MAX_SAFE_INTEGER,o=p([e],s).responseEvents;this.countUndecryptableEvents([e]),o.length&&(o.forEach(function(e){n.responses.addEvent(e)}),this.emit(f.Responses,this.responses))}}},{key:"fetchResponses",value:function(){var e=this;return(0,v.default)(function*(){var t,n;e._isFetchingResponses=!0;var s=yield e.matrixClient.relations(e.roomId,e.rootEvent.getId(),"m.reference",void 0,{from:e.relationsNextBatch||void 0});yield Promise.all(s.events.map(function(t){return e.matrixClient.decryptEventIfNeeded(t)}));var o=e.responses||new(r(d[10]).Relations)("m.reference",r(d[9]).M_POLL_RESPONSE.name,e.matrixClient,[r(d[9]).M_POLL_RESPONSE.altName]),l=s.events.find(function(e){return r(d[9]).M_POLL_END.matches(e.getType())});e.validateEndEvent(l)&&(e.endEvent=l,e.refilterResponsesOnEnd(),e.emit(f.End));var u=(null===(t=e.endEvent)||void 0===t?void 0:t.getTs())||Number.MAX_SAFE_INTEGER;p(s.events,u).responseEvents.forEach(function(e){o.addEvent(e)}),e.relationsNextBatch=null!==(n=s.nextBatch)&&void 0!==n?n:void 0,e.responses=o,e.countUndecryptableEvents(s.events),e.relationsNextBatch?e.fetchResponses():e._isFetchingResponses=!1,e.emit(f.Responses,e.responses)})()}},{key:"refilterResponsesOnEnd",value:function(){var e,t=this;if(this.responses){var n=(null===(e=this.endEvent)||void 0===e?void 0:e.getTs())||Number.MAX_SAFE_INTEGER;this.responses.getRelations().forEach(function(e){var s;e.getTs()>n&&(null===(s=t.responses)||void 0===s||s.removeEvent(e))}),this.emit(f.Responses,this.responses)}}},{key:"validateEndEvent",value:function(e){if(!e)return!1;if(this.endEvent&&this.endEvent.getTs()<e.getTs())return!1;var t=this.room.currentState,n=e.getSender();return!!n&&(n===this.rootEvent.getSender()||t.maySendRedactionForEvent(this.rootEvent,n))}}])})(r(d[11]).TypedEventEmitter),_e.isPollEvent=function(e){var t=e.getType();return r(d[12]).M_POLL_START.matches(t)||r(d[9]).M_POLL_RESPONSE.matches(t)||r(d[9]).M_POLL_END.matches(t)}},828,[1,42,11,12,18,20,23,743,739,829,812,762,773]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.M_POLL_START=e.M_POLL_RESPONSE=e.M_POLL_KIND_UNDISCLOSED=e.M_POLL_KIND_DISCLOSED=e.M_POLL_END=void 0;e.M_POLL_KIND_DISCLOSED=new(r(d[0]).UnstableValue)("m.poll.disclosed","org.matrix.msc3381.poll.disclosed"),e.M_POLL_KIND_UNDISCLOSED=new(r(d[0]).UnstableValue)("m.poll.undisclosed","org.matrix.msc3381.poll.undisclosed"),e.M_POLL_START=new(r(d[0]).UnstableValue)("m.poll.start","org.matrix.msc3381.poll.start"),e.M_POLL_RESPONSE=new(r(d[0]).UnstableValue)("m.poll.response","org.matrix.msc3381.poll.response"),e.M_POLL_END=new(r(d[0]).UnstableValue)("m.poll.end","org.matrix.msc3381.poll.end")},829,[773]);
__d(function(g,_r,i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ReadReceipt=void 0,_e.synthesizeReceipt=p;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),a=e(_r(d[4])),c=e(_r(d[5])),o=e(_r(d[6])),u=e(_r(d[7]));function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new(_r(d[8]).MatrixEvent)({content:(0,u.default)({},t.getId(),(0,u.default)({},n,(0,u.default)({},e,v({ts:t.getTs()},!r&&{thread_id:(0,_r(d[9]).threadIdForReceipt)(t)})))),type:_r(d[10]).EventType.Receipt,room_id:t.getRoomId()})}_e.ReadReceipt=(function(e){function s(){var e,t,r,o;return(0,n.default)(this,s),t=this,r=s,o=arguments,r=(0,c.default)(r),e=(0,a.default)(t,l()?Reflect.construct(r,o||[],(0,c.default)(t).constructor):r.apply(t,o)),(0,u.default)(e,"receipts",new(_r(d[11]).MapWithDefault)(function(){return new Map})),(0,u.default)(e,"receiptCacheByEventId",new Map),e}return(0,o.default)(s,e),(0,r.default)(s,[{key:"getReadReceiptForUserId",value:function(e){var n,r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_r(d[12]).ReceiptType.Read,o=null!==(n=null===(r=this.receipts.get(c))||void 0===r?void 0:r.get(e))&&void 0!==n?n:[null,null],u=(0,t.default)(o,2),l=u[0],s=u[1];return a?l:null!=s?s:l}},{key:"compareReceipts",value:function(e,t){var n;return null!==(n=this.getUnfilteredTimelineSet().compareEventOrdering(e.eventId,t.eventId))&&void 0!==n?n:e.data.ts-t.data.ts}},{key:"getEventReadUpTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getLatestReceipt(e,t);return n&&this.receiptPointsAtConsistentEvent(n)?n.eventId:null}},{key:"receiptPointsAtConsistentEvent",value:function(e){var t,n=this.findEventById(e.eventId);if(!n)return!1;if(null===(t=e.data)||void 0===t||!t.thread_id)return!0;if(e.data.thread_id===_r(d[12]).MAIN_ROOM_TIMELINE){if((0,_r(d[9]).inMainTimelineForReceipt)(n))return!0}else if(n.threadRootId===e.data.thread_id)return!0;return _r(d[13]).logger.warn("Ignoring receipt because its thread_id (".concat(e.data.thread_id,") disagrees ")+"with the thread root (".concat(n.threadRootId,") of the referenced event ")+"(event ID = ".concat(e.eventId,")")),!1}},{key:"getLatestReceipt",value:function(e,t){var n,r,a,c=this.getReadReceiptForUserId(e,t,_r(d[12]).ReceiptType.Read),o=this.getReadReceiptForUserId(e,t,_r(d[12]).ReceiptType.ReadPrivate);return null!=c&&c.eventId&&null!=o&&o.eventId&&(a=this.compareReceipts(c,o)),a?null!==(r=a<0?o:c)&&void 0!==r?r:null:null!==(n=null!=o?o:c)&&void 0!==n?n:null}},{key:"addReceiptToStructure",value:function(e,t,n,r,a){var c,o,u=this.receipts.getOrCreate(t),l=u.get(n);l||(l=[null,null],u.set(n,l));var s,v=l[0];a&&(v=null!==(s=l[1])&&void 0!==s?s:l[0]);var p={eventId:e,data:r};if(v&&this.compareReceipts(v,p)>=0)return;var f=a?l[0]:p,h=a?p:l[1],y=null;f&&h&&(y=this.getUnfilteredTimelineSet().compareEventOrdering(f.eventId,h.eventId));var I=null===y||y<0,R=null!==(c=l[1])&&void 0!==c?c:l[0];if(a&&I?l[1]=p:a||(l[0]=p,I||(l[1]=null)),R!==(null!==(o=l[1])&&void 0!==o?o:l[0])){if(R&&this.receiptCacheByEventId.get(R.eventId)){var E=R.eventId;this.receiptCacheByEventId.set(E,this.receiptCacheByEventId.get(E).filter(function(e){return e.type!==t||e.userId!==n})),this.receiptCacheByEventId.get(E).length<1&&this.receiptCacheByEventId.delete(E)}this.receiptCacheByEventId.get(e)||this.receiptCacheByEventId.set(e,[]),this.receiptCacheByEventId.get(e).push({userId:n,type:t,data:r})}}},{key:"getReceiptsForEvent",value:function(e){return this.receiptCacheByEventId.get(e.getId())||[]}},{key:"fixupNotifications",value:function(e){var t=this.getReadReceiptForUserId(e,!1),n=this.timeline[this.timeline.length-1];n&&(null==t?void 0:t.eventId)===n.getId()&&e===n.getSender()&&(this.setUnread(_r(d[14]).NotificationCountType.Total,0),this.setUnread(_r(d[14]).NotificationCountType.Highlight,0))}},{key:"addLocalEchoReceipt",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.addReceipt(p(e,t,n,r),!0)}},{key:"getUsersReadUpTo",value:function(e){return this.getReceiptsForEvent(e).filter(function(e){return(0,_r(d[11]).isSupportedReceiptType)(e.type)}).map(function(e){return e.userId})}}])})(_r(d[15]).TypedEventEmitter)},830,[1,34,11,12,18,20,23,739,771,796,765,748,755,746,806,762]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RoomSummary=void 0;var t=o(r(d[1])),u=o(r(d[2]));e.RoomSummary=(0,t.default)(function o(t,f){(0,u.default)(this,o),this.roomId=t})},831,[1,12,11]);
__d(function(g,r,i,a,m,e,d){function n(n,t,l,v,u){var c=n.getUnfilteredTimelineSet(),f=c.compareEventOrdering(t,l);return null!==f?f:c.getTimelineForEvent(t)===c.getLiveTimeline()?1:c.getTimelineForEvent(l)===c.getLiveTimeline()?-1:o(v,u)}function t(n,t,l,v){var u=(0,r(d[0]).threadIdForReceipt)(l),c=(0,r(d[0]).threadIdForReceipt)(v),f=l.getThread();return f&&u===c?f.timelineSet.compareEventOrdering(n,t):o(l,v)}function o(n,t){var o=n.getTs(),l=t.getTs();return o<l?-1:o>l?1:0}Object.defineProperty(e,"__esModule",{value:!0}),e.compareEventOrdering=function(o,l,v){var u=o.findEventById(l),c=o.findEventById(v);if(!u||!c)return null;var f=(0,r(d[0]).inMainTimelineForReceipt)(u),T=(0,r(d[0]).inMainTimelineForReceipt)(c);return f&&T?n(o,l,v,u,c):t(l,v,u,c)}},832,[796]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.StubStore=void 0;var t=n(r(d[1])),u=n(r(d[2])),o=n(r(d[3])),l=n(r(d[4]));e.StubStore=(function(){return(0,u.default)(function n(){(0,t.default)(this,n),(0,l.default)(this,"accountData",new Map),(0,l.default)(this,"fromToken",null)},[{key:"isNewlyCreated",value:function(){return Promise.resolve(!0)}},{key:"getSyncToken",value:function(){return this.fromToken}},{key:"setSyncToken",value:function(n){this.fromToken=n}},{key:"storeRoom",value:function(n){}},{key:"getRoom",value:function(n){return null}},{key:"getRooms",value:function(){return[]}},{key:"removeRoom",value:function(n){}},{key:"getRoomSummaries",value:function(){return[]}},{key:"storeUser",value:function(n){}},{key:"getUser",value:function(n){return null}},{key:"getUsers",value:function(){return[]}},{key:"scrollback",value:function(n,t){return[]}},{key:"setUserCreator",value:function(n){}},{key:"storeEvents",value:function(n,t,u,o){}},{key:"storeFilter",value:function(n){}},{key:"getFilter",value:function(n,t){return null}},{key:"getFilterIdByName",value:function(n){return null}},{key:"setFilterIdByName",value:function(n,t){}},{key:"storeAccountDataEvents",value:function(n){}},{key:"getAccountData",value:function(n){}},{key:"setSyncData",value:function(n){return Promise.resolve()}},{key:"wantsSave",value:function(){return!1}},{key:"save",value:function(){return Promise.resolve()}},{key:"startup",value:function(){return Promise.resolve()}},{key:"getSavedSync",value:function(){return Promise.resolve(null)}},{key:"getSavedSyncToken",value:function(){return Promise.resolve(null)}},{key:"deleteAllData",value:function(){return Promise.resolve()}},{key:"getOutOfBandMembers",value:function(){return Promise.resolve(null)}},{key:"setOutOfBandMembers",value:function(n,t){return Promise.resolve()}},{key:"clearOutOfBandMembers",value:function(){return Promise.resolve()}},{key:"getClientOptions",value:function(){return Promise.resolve(void 0)}},{key:"storeClientOptions",value:function(n){return Promise.resolve()}},{key:"getPendingEvents",value:function(n){return(0,o.default)(function*(){return[]})()}},{key:"setPendingEvents",value:function(n,t){return Promise.resolve()}},{key:"saveToDeviceBatches",value:function(n){return(0,o.default)(function*(){return Promise.resolve()})()}},{key:"getOldestToDeviceBatch",value:function(){return Promise.resolve(null)}},{key:"removeToDeviceBatch",value:function(n){return(0,o.default)(function*(){return Promise.resolve()})()}},{key:"destroy",value:function(){return(0,o.default)(function*(){})()}}])})()},833,[1,11,12,743,739]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.CallEventHandlerEvent=_e.CallEventHandler=void 0;var t=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),o=e(r(d[4])),c=_e.CallEventHandlerEvent=(function(e){return e.Incoming="Call.incoming",e})({});_e.CallEventHandler=(function(){return(0,n.default)(function e(n){var l=this;(0,t.default)(this,e),(0,o.default)(this,"calls",void 0),(0,o.default)(this,"callEventBuffer",void 0),(0,o.default)(this,"nextSeqByCall",new Map),(0,o.default)(this,"toDeviceEventBuffers",new Map),(0,o.default)(this,"client",void 0),(0,o.default)(this,"candidateEventsByCall",void 0),(0,o.default)(this,"eventBufferPromiseChain",void 0),(0,o.default)(this,"onSync",function(){var e=l.callEventBuffer;l.callEventBuffer=[],l.eventBufferPromiseChain?l.eventBufferPromiseChain=l.eventBufferPromiseChain.then(function(){return l.evaluateEventBuffer(e)}):l.eventBufferPromiseChain=l.evaluateEventBuffer(e)}),(0,o.default)(this,"onRoomTimeline",function(e){l.callEventBuffer.push(e)}),(0,o.default)(this,"onToDeviceEvent",function(e){var t=e.getContent();if(t.call_id)if(l.nextSeqByCall.has(t.call_id)||l.nextSeqByCall.set(t.call_id,0),void 0!==t.seq){var n=l.nextSeqByCall.get(t.call_id)||0;if(t.seq!==n){l.toDeviceEventBuffers.has(t.call_id)||l.toDeviceEventBuffers.set(t.call_id,[]);var o=l.toDeviceEventBuffers.get(t.call_id),c=o.findIndex(function(e){return e.getContent().seq>t.seq});-1===c?o.push(e):o.splice(c,0,e)}else{var v=t.call_id;l.callEventBuffer.push(e),l.nextSeqByCall.set(v,t.seq+1);for(var s=l.toDeviceEventBuffers.get(v),u=s&&s.shift();u&&u.getContent().seq===l.nextSeqByCall.get(v);)l.callEventBuffer.push(u),l.nextSeqByCall.set(v,u.getContent().seq+1),u=s.shift()}}else l.callEventBuffer.push(e);else l.callEventBuffer.push(e)}),this.client=n,this.calls=new Map,this.callEventBuffer=[],this.candidateEventsByCall=new Map},[{key:"start",value:function(){this.client.on(r(d[5]).ClientEvent.Sync,this.onSync),this.client.on(r(d[6]).RoomEvent.Timeline,this.onRoomTimeline),this.client.on(r(d[5]).ClientEvent.ToDeviceEvent,this.onToDeviceEvent)}},{key:"stop",value:function(){this.client.removeListener(r(d[5]).ClientEvent.Sync,this.onSync),this.client.removeListener(r(d[6]).RoomEvent.Timeline,this.onRoomTimeline),this.client.removeListener(r(d[5]).ClientEvent.ToDeviceEvent,this.onToDeviceEvent)}},{key:"evaluateEventBuffer",value:function(e){var t=this;return(0,l.default)(function*(){yield Promise.all(e.map(function(e){return t.client.decryptEventIfNeeded(e)}));var n=e.filter(function(e){var t=e.getType();return t.startsWith("m.call.")||t.startsWith("org.matrix.call.")}),l=new Set;for(var o of n){var c=o.getType();c!==r(d[7]).EventType.CallAnswer&&c!==r(d[7]).EventType.CallHangup||l.add(o.getContent().call_id)}for(var v of n){var s=v.getType(),u=v.getContent().call_id;if(s!==r(d[7]).EventType.CallInvite||!l.has(u))try{yield t.handleCallEvent(v)}catch(e){r(d[8]).logger.error("CallEventHandler evaluateEventBuffer() caught exception handling call event",e)}}})()}},{key:"handleCallEvent",value:function(e){var t=this;return(0,l.default)(function*(){var n;t.client.emit(r(d[5]).ClientEvent.ReceivedVoipEvent,e);var l,o,v=e.getContent(),s=e.getRoomId()||(null===(n=t.client.groupCallEventHandler.getGroupCallById(v.conf_id))||void 0===n||null===(n=n.room)||void 0===n?void 0:n.roomId),u=v.conf_id,f=e.getType(),C=e.getSender(),E=v.call_id?t.calls.get(v.call_id):void 0;if(u){if(!(o=t.client.groupCallEventHandler.getGroupCallById(u)))return void r(d[8]).logger.warn("CallEventHandler handleCallEvent() could not find a group call - ignoring event (groupCallId=".concat(u,", type=").concat(f,")"));if(!(l=v.device_id))return r(d[8]).logger.warn("CallEventHandler handleCallEvent() could not find a device id - ignoring event (senderId=".concat(C,")")),void o.emit(r(d[9]).GroupCallEvent.Error,new(r(d[9]).GroupCallUnknownDeviceError)(C));if(v.dest_session_id!==t.client.getSessionId())return void r(d[8]).logger.warn("CallEventHandler handleCallEvent() call event does not match current session id - ignoring")}var h=C===t.client.credentials.userId&&(void 0===l||l===t.client.getDeviceId());if(s)if(f!==r(d[7]).EventType.CallInvite)if(f!==r(d[7]).EventType.CallCandidates){var p;if([r(d[7]).EventType.CallHangup,r(d[7]).EventType.CallReject].includes(f))E?E.state!==r(d[10]).CallState.Ended&&(f===r(d[7]).EventType.CallHangup?E.onHangupReceived(v):E.onRejectReceived(v),E.state===r(d[10]).CallState.Ended&&t.calls.delete(v.call_id)):(E=null!==(p=(0,r(d[10]).createNewMatrixCall)(t.client,s,{opponentDeviceId:l,opponentSessionId:v.sender_session_id}))&&void 0!==p?p:void 0)&&(E.callId=v.call_id,E.initWithHangup(e),t.calls.set(v.call_id,E));else if(E&&E.hasPeerConnection){if(e.getContent().party_id!==E.ourPartyId)switch(f){case r(d[7]).EventType.CallAnswer:h?E.state===r(d[10]).CallState.Ringing&&E.onAnsweredElsewhere(v):E.onAnswerReceived(e);break;case r(d[7]).EventType.CallSelectAnswer:E.onSelectAnswerReceived(e);break;case r(d[7]).EventType.CallNegotiate:E.onNegotiateReceived(e);break;case r(d[7]).EventType.CallAssertedIdentity:case r(d[7]).EventType.CallAssertedIdentityPrefix:E.onAssertedIdentityReceived(e);break;case r(d[7]).EventType.CallSDPStreamMetadataChanged:case r(d[7]).EventType.CallSDPStreamMetadataChangedPrefix:E.onSDPStreamMetadataChangedReceived(e)}}else r(d[8]).logger.info("CallEventHandler handleCallEvent() discarding possible call event as we don't have a call (type=".concat(f,")"))}else{if(h)return;E?E.onRemoteIceCandidatesReceived(e):(t.candidateEventsByCall.has(v.call_id)||t.candidateEventsByCall.set(v.call_id,[]),t.candidateEventsByCall.get(v.call_id).push(e))}else{var y,I,B;if(h)return;if(e.getLocalAge()>v.lifetime-3e3)return;if(E&&E.state===r(d[10]).CallState.Ended)return;if(E&&r(d[8]).logger.warn("CallEventHandler handleCallEvent() already has a call but got an invite - clobbering (callId=".concat(v.call_id,")")),v.invitee&&v.invitee!==t.client.getUserId())return;var S=(null!==(y=t.client.getTurnServersExpiry())&&void 0!==y?y:0)-Date.now();if(r(d[8]).logger.info("CallEventHandler handleCallEvent() current turn creds expire in "+S+" ms"),!(E=null!==(I=(0,r(d[10]).createNewMatrixCall)(t.client,s,{forceTURN:t.client.forceTURN,opponentDeviceId:l,groupCallId:u,opponentSessionId:v.sender_session_id}))&&void 0!==I?I:void 0))return void r(d[8]).logger.log("CallEventHandler handleCallEvent() this client does not support WebRTC (callId=".concat(v.call_id,")"));E.callId=v.call_id;var _,T=null===(B=o)||void 0===B?void 0:B.getGroupCallStats();T&&E.initStats(T);try{yield E.initWithInvite(e)}catch(e){var w;if(e instanceof r(d[10]).CallError)if(e.code===r(d[9]).GroupCallErrorCode.UnknownDevice)null===(w=o)||void 0===w||w.emit(r(d[9]).GroupCallEvent.Error,e);else r(d[8]).logger.error(e)}if(t.calls.set(E.callId,E),t.candidateEventsByCall.get(E.callId))for(var R of t.candidateEventsByCall.get(E.callId))E.onRemoteIceCandidatesReceived(R);for(var H of t.calls.values()){var D,x=[r(d[10]).CallState.WaitLocalMedia,r(d[10]).CallState.CreateOffer,r(d[10]).CallState.InviteSent].includes(H.state);if(E.roomId===H.roomId&&H.direction===r(d[10]).CallDirection.Outbound&&(null===(D=E.getOpponentMember())||void 0===D?void 0:D.userId)===H.invitee&&x){_=H;break}}_?_.callId>E.callId?(r(d[8]).logger.log("CallEventHandler handleCallEvent() detected glare - answering incoming call and canceling outgoing call (incomingId=".concat(E.callId,", outgoingId=").concat(_.callId,")")),_.replacedBy(E)):(r(d[8]).logger.log("CallEventHandler handleCallEvent() detected glare - hanging up incoming call (incomingId=".concat(E.callId,", outgoingId=").concat(_.callId,")")),E.hangup(r(d[10]).CallErrorCode.Replaced,!0)):t.client.emit(c.Incoming,E)}})()}}])})()},834,[1,11,12,743,739,796,806,765,746,757,738]);
__d(function(g,r,i,_a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.GroupCallEventHandlerEvent=e.GroupCallEventHandler=void 0;var o=t(r(d[1])),n=t(r(d[2])),a=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5])),u=e.GroupCallEventHandlerEvent=(function(t){return t.Incoming="GroupCall.incoming",t.Outgoing="GroupCall.outgoing",t.Ended="GroupCall.ended",t.Participants="GroupCall.participants",t})({});e.GroupCallEventHandler=(function(){return(0,a.default)(function t(o){var a=this;(0,n.default)(this,t),this.client=o,(0,c.default)(this,"groupCalls",new Map),(0,c.default)(this,"roomDeferreds",new Map),(0,c.default)(this,"onRoomsChanged",function(t){a.createGroupCallForRoom(t)}),(0,c.default)(this,"onRoomStateChanged",function(t,o){if(t.getType()===r(d[6]).EventType.GroupCallPrefix){var n=t.getStateKey(),l=t.getContent(),c=a.groupCalls.get(o.roomId);c||l["m.terminated"]||t.isRedacted()?c&&c.groupCallId===n?l["m.terminated"]||t.isRedacted()?c.terminate(!1):l["m.type"]!==c.type&&r(d[7]).logger.warn("GroupCallEventHandler onRoomStateChanged() currently does not support changing type (roomId=".concat(o.roomId,")")):c&&c.groupCallId!==n&&r(d[7]).logger.warn("GroupCallEventHandler onRoomStateChanged() currently does not support multiple calls (roomId=".concat(o.roomId,")")):a.createGroupCallFromRoomStateEvent(t)}})},[{key:"start",value:function(){var t=this;return(0,l.default)(function*(){t.client.getSyncState()!==r(d[8]).SyncState.Syncing&&(r(d[7]).logger.debug("GroupCallEventHandler start() waiting for client to start syncing"),yield new Promise(function(o){var n=function(){if(t.client.getSyncState()===r(d[8]).SyncState.Syncing)return t.client.off(r(d[9]).ClientEvent.Sync,n),o()};t.client.on(r(d[9]).ClientEvent.Sync,n)}));var o=t.client.getRooms();for(var n of o)t.createGroupCallForRoom(n);t.client.on(r(d[9]).ClientEvent.Room,t.onRoomsChanged),t.client.on(r(d[10]).RoomStateEvent.Events,t.onRoomStateChanged)})()}},{key:"stop",value:function(){this.client.removeListener(r(d[9]).ClientEvent.Room,this.onRoomsChanged),this.client.removeListener(r(d[10]).RoomStateEvent.Events,this.onRoomStateChanged)}},{key:"getRoomDeferred",value:function(t){var o,n=this.roomDeferreds.get(t);void 0===n&&((n={prom:new Promise(function(t){o=t})}).resolve=o,this.roomDeferreds.set(t,n));return n}},{key:"waitUntilRoomReadyForGroupCalls",value:function(t){return this.getRoomDeferred(t).prom}},{key:"getGroupCallById",value:function(t){return(0,o.default)(this.groupCalls.values()).find(function(o){return o.groupCallId===t})}},{key:"createGroupCallForRoom",value:function(t){var o=t.currentState.getStateEvents(r(d[6]).EventType.GroupCallPrefix),n=o.sort(function(t,o){return o.getTs()-t.getTs()});for(var a of n){if(!a.getContent()["m.terminated"]&&!a.isRedacted()){r(d[7]).logger.debug("GroupCallEventHandler createGroupCallForRoom() choosing group call from possible calls (stateKey=".concat(a.getStateKey(),", ts=").concat(a.getTs(),", roomId=").concat(t.roomId,", numOfPossibleCalls=").concat(o.length,")")),this.createGroupCallFromRoomStateEvent(a);break}}this.getRoomDeferred(t.roomId).resolve()}},{key:"createGroupCallFromRoomStateEvent",value:function(t){var o=t.getRoomId(),n=t.getContent(),a=this.client.getRoom(o);if(a){var l=t.getStateKey(),c=n["m.type"];if(Object.values(r(d[11]).GroupCallType).includes(c)){var s=n["m.intent"];if(Object.values(r(d[11]).GroupCallIntent).includes(s)){var p,v=Boolean(n["io.element.ptt"]);if(null!=n&&n.dataChannelsEnabled&&null!=n&&n.dataChannelOptions){var C=n.dataChannelOptions;p={ordered:C.ordered,maxPacketLifeTime:C.maxPacketLifeTime,maxRetransmits:C.maxRetransmits,protocol:C.protocol}}var f=new(r(d[11]).GroupCall)(this.client,a,c,v,s,l,(null==n?void 0:n.dataChannelsEnabled)||this.client.isVoipWithNoMediaAllowed,p,this.client.isVoipWithNoMediaAllowed,this.client.useLivekitForGroupCalls,n["io.element.livekit_service_url"]);return this.groupCalls.set(a.roomId,f),this.client.emit(u.Incoming,f),f}r(d[7]).logger.warn("Received invalid group call intent (type=".concat(c,", roomId=").concat(o,")"))}else r(d[7]).logger.warn("GroupCallEventHandler createGroupCallFromRoomStateEvent() received invalid call type (type=".concat(c,", roomId=").concat(o,")"))}else r(d[7]).logger.warn("GroupCallEventHandler createGroupCallFromRoomStateEvent() couldn't find room for call (roomId=".concat(o,")"))}}])})()},835,[1,42,11,12,743,739,765,746,836,796,766,757]);
__d(function(g,_r,_i,_a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SyncState=_e.SyncApi=_e.SetPresence=void 0,_e._createAndReEmitRoom=y,_e.defaultClientOpts=m,_e.defaultSyncApiOpts=p,_e.processToDeviceMessages=f;var t=e(_r(d[1])),n=e(_r(d[2])),o=e(_r(d[3])),r=e(_r(d[4])),i=e(_r(d[5]));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=_e.SyncState=(function(e){return e.Error="ERROR",e.Prepared="PREPARED",e.Stopped="STOPPED",e.Syncing="SYNCING",e.Catchup="CATCHUP",e.Reconnecting="RECONNECTING",e})({}),l=["org.matrix.msc2716v3"];function u(e,t){return"FILTER_SYNC_".concat(e)+(t?"_"+t:"")}var v=_e.SetPresence=(function(e){return e.Offline="offline",e.Online="online",e.Unavailable="unavailable",e})({});function m(e){return a({initialSyncLimit:8,resolveInvitesToProfiles:!1,pollTimeout:3e4,pendingEventOrdering:_r(d[6]).PendingEventOrdering.Chronological,threadSupport:!1},e)}function p(e){return a({canResetEntireTimeline:function(e){return!1}},e)}_e.SyncApi=(function(){return(0,o.default)(function e(t,o,s){var a=this;(0,n.default)(this,e);var c=this;this.client=t,(0,i.default)(this,"opts",void 0),(0,i.default)(this,"syncOpts",void 0),(0,i.default)(this,"_peekRoom",null),(0,i.default)(this,"currentSyncRequest",void 0),(0,i.default)(this,"abortController",void 0),(0,i.default)(this,"syncState",null),(0,i.default)(this,"syncStateData",void 0),(0,i.default)(this,"catchingUp",!1),(0,i.default)(this,"running",!1),(0,i.default)(this,"keepAliveTimer",void 0),(0,i.default)(this,"connectionReturnedResolvers",void 0),(0,i.default)(this,"notifEvents",[]),(0,i.default)(this,"failedSyncCount",0),(0,i.default)(this,"storeIsInvalid",!1),(0,i.default)(this,"presence",void 0),(0,i.default)(this,"getPushRules",(0,r.default)(function*(){try{c.syncOpts.logger.debug("Getting push rules...");var e=yield c.client.getPushRules();c.syncOpts.logger.debug("Got push rules"),c.client.pushRules=e}catch(e){if(c.syncOpts.logger.error("Getting push rules failed",e),c.shouldAbortSync(e))return;return c.syncOpts.logger.debug("Waiting for saved sync before retrying push rules..."),yield c.recoverFromSyncStartupError(c.savedSyncPromise,e),c.getPushRules()}})),(0,i.default)(this,"buildDefaultFilter",function(){var e=new(_r(d[7]).Filter)(a.client.credentials.userId);return a.client.canSupport.get(_r(d[8]).Feature.ThreadUnreadNotifications)!==_r(d[8]).ServerSupport.Unsupported&&e.setUnreadThreadNotifications(!0),e}),(0,i.default)(this,"prepareLazyLoadingForSync",(0,r.default)(function*(){c.syncOpts.logger.debug("Prepare lazy loading for sync..."),c.client.isGuest()&&(c.opts.lazyLoadMembers=!1),c.opts.lazyLoadMembers&&(c.syncOpts.logger.debug("Enabling lazy load on sync filter..."),c.opts.filter||(c.opts.filter=c.buildDefaultFilter()),c.opts.filter.setLazyLoadMembers(!0))})),(0,i.default)(this,"storeClientOptions",(0,r.default)(function*(){try{c.syncOpts.logger.debug("Storing client options..."),yield c.client.storeClientOptions(),c.syncOpts.logger.debug("Stored client options")}catch(e){throw c.syncOpts.logger.error("Storing client options failed",e),e}})),(0,i.default)(this,"getFilter",(0,r.default)(function*(){var e,t;c.syncOpts.logger.debug("Getting filter..."),e=c.opts.filter?c.opts.filter:c.buildDefaultFilter();try{t=yield c.client.getOrCreateFilter(u(c.client.credentials.userId),e)}catch(e){return c.syncOpts.logger.error("Getting filter failed",e),c.shouldAbortSync(e)?{}:(c.syncOpts.logger.debug("Waiting for saved sync before retrying filter..."),yield c.recoverFromSyncStartupError(c.savedSyncPromise,e),c.getFilter())}return{filter:e,filterId:t}})),(0,i.default)(this,"savedSyncPromise",void 0),(0,i.default)(this,"onOnline",function(){a.syncOpts.logger.debug("Browser thinks we are back online"),a.startKeepAlives(0)}),this.opts=m(o),this.syncOpts=p(s),t.getNotifTimelineSet()&&t.reEmitter.reEmit(t.getNotifTimelineSet(),[_r(d[9]).RoomEvent.Timeline,_r(d[9]).RoomEvent.TimelineReset])},[{key:"createRoom",value:function(e){var t=this,n=y(this.client,e,this.opts);return n.on(_r(d[10]).RoomStateEvent.Marker,function(e,o){t.onMarkerStateEvent(n,e,o)}),n}},{key:"onMarkerStateEvent",value:function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).timelineWasEmpty?this.syncOpts.logger.debug("MarkerState: Ignoring markerEventId=".concat(t.getId()," in roomId=").concat(e.roomId," ")+"because the timeline was empty before the marker arrived which means there is nothing to refresh."):l.includes(e.getVersion())||t.getSender()===e.getCreator()?(this.syncOpts.logger.debug("MarkerState: Timeline needs to be refreshed because "+"a new markerEventId=".concat(t.getId()," was sent in roomId=").concat(e.roomId)),e.setTimelineNeedsRefresh(!0),e.emit(_r(d[9]).RoomEvent.HistoryImportedWithinTimeline,t,e)):this.syncOpts.logger.debug("MarkerState: Ignoring markerEventId=".concat(t.getId()," in roomId=").concat(e.roomId," because ")+"MSC2716 is not supported in the room version or for any room version, the marker wasn't sent by the room creator.")}},{key:"syncLeftRooms",value:function(){var e=this;return(0,r.default)(function*(){var t,n=e.client,o=new(_r(d[7]).Filter)(e.client.credentials.userId);o.setTimelineLimit(1),o.setIncludeLeaveRooms(!0);var i=e.opts.pollTimeout+8e4,s={timeout:0,filter:yield n.getOrCreateFilter(u(n.credentials.userId,"LEFT_ROOMS"),o),"org.matrix.msc4222.use_state_after":!0},a=yield n.http.authedRequest(_r(d[11]).Method.Get,"/sync",s,void 0,{localTimeoutMs:i}),c=[];null!==(t=a.rooms)&&void 0!==t&&t.leave&&(c=e.mapSyncResponseToRoomArray(a.rooms.leave));var l=yield Promise.all(c.map((function(){var t=(0,r.default)(function*(t){var o=t.room;if(t.isBrandNewRoom){t.timeline=t.timeline||{prev_batch:null,events:[]},o.getLiveTimeline().setPaginationToken(t.timeline.prev_batch,_r(d[12]).EventTimeline.BACKWARDS);var r=(yield e.mapAndInjectRoomEvents(t)).timelineEvents;return o.recalculate(),n.store.storeRoom(o),n.emit(_r(d[6]).ClientEvent.Room,o),e.processEventsForNotifs(o,r),o}});return function(e){return t.apply(this,arguments)}})()));return l.filter(Boolean)})()}},{key:"peek",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if((null===(t=this._peekRoom)||void 0===t?void 0:t.roomId)===e)return Promise.resolve(this._peekRoom);var r=this.client;return this._peekRoom=this.createRoom(e),this.client.roomInitialSync(e,o).then(function(t){var o;if((null===(o=n._peekRoom)||void 0===o?void 0:o.roomId)!==e)throw new Error("Peeking aborted");t.messages=t.messages||{chunk:[]},t.messages.chunk=t.messages.chunk||[],t.state=t.state||[];var i=(0,_r(d[13]).deepCopy)(t.state).map(r.getEventMapper()),s=t.state.map(r.getEventMapper()),a=t.messages.chunk.map(r.getEventMapper());return Array.isArray(t.presence)&&t.presence.map(r.getEventMapper()).forEach(function(e){var t=r.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):((t=_r(d[14]).User.createUser(e.getContent().user_id,r)).setPresenceEvent(e),r.store.storeUser(t)),r.emit(_r(d[6]).ClientEvent.Event,e)}),t.messages.start&&(n._peekRoom.oldState.paginationToken=t.messages.start),n._peekRoom.oldState.setStateEvents(i),n._peekRoom.currentState.setStateEvents(s),n.resolveInvites(n._peekRoom),n._peekRoom.recalculate(),n._peekRoom.addEventsToTimeline(a.reverse(),!0,!0,n._peekRoom.getLiveTimeline(),t.messages.start),r.store.storeRoom(n._peekRoom),r.emit(_r(d[6]).ClientEvent.Room,n._peekRoom),n.peekPoll(n._peekRoom),n._peekRoom})}},{key:"stopPeeking",value:function(){this._peekRoom=null}},{key:"peekPoll",value:function(e,t){var n,o=this,i=this;this._peekRoom===e?this.client.http.authedRequest(_r(d[11]).Method.Get,"/events",{room_id:e.roomId,timeout:String(3e4),from:t},void 0,{localTimeoutMs:5e4,abortSignal:null===(n=this.abortController)||void 0===n?void 0:n.signal}).then((function(){var t=(0,r.default)(function*(t){if(i._peekRoom===e){t.chunk.filter(function(e){return"m.presence"===e.type}).map(i.client.getEventMapper()).forEach(function(e){var t=i.client.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):((t=_r(d[14]).User.createUser(e.getContent().user_id,i.client)).setPresenceEvent(e),i.client.store.storeUser(t)),i.client.emit(_r(d[6]).ClientEvent.Event,e)});var n=t.chunk.filter(function(t){return t.room_id===e.roomId&&t.event_id}).map(i.client.getEventMapper());yield e.addLiveEvents(n,{addToState:!0}),i.peekPoll(e,t.end)}else i.syncOpts.logger.debug("Stopped peeking in room %s",e.roomId)});return function(e){return t.apply(this,arguments)}})(),function(n){o.syncOpts.logger.error("[%s] Peek poll failed: %s",e.roomId,n),setTimeout(function(){o.peekPoll(e,t)},3e4)}):this.syncOpts.logger.debug("Stopped peeking in room %s",e.roomId)}},{key:"getSyncState",value:function(){return this.syncState}},{key:"getSyncStateData",value:function(){var e;return null!==(e=this.syncStateData)&&void 0!==e?e:null}},{key:"recoverFromSyncStartupError",value:function(e,t){var n=this;return(0,r.default)(function*(){yield e;var o=n.startKeepAlives();n.updateSyncState(c.Error,{error:t}),yield o})()}},{key:"shouldAbortSync",value:function(e){return"M_UNKNOWN_TOKEN"===e.errcode&&(this.syncOpts.logger.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState(c.Error,{error:e}),!0)}},{key:"sync",value:function(){var e=this;return(0,r.default)(function*(){var t,n;if(e.running=!0,e.abortController=new AbortController,null===(t=globalThis.window)||void 0===t||null===(n=t.addEventListener)||void 0===n||n.call(t,"online",e.onOnline,!1),e.client.isGuest())return e.doSync({});e.syncOpts.logger.debug("Getting saved sync token...");var o=e.client.store.getSavedSyncToken().then(function(t){return e.syncOpts.logger.debug("Got saved sync token"),t});e.savedSyncPromise=e.client.store.getSavedSync().then(function(t){if(e.syncOpts.logger.debug("Got reply from saved sync, exists? ".concat(!!t)),t)return e.syncFromCache(t)}).catch(function(t){e.syncOpts.logger.error("Getting saved sync failed",t)}),yield e.getPushRules(),yield e.prepareLazyLoadingForSync(),yield e.storeClientOptions();var r=yield e.getFilter(),i=r.filterId,s=r.filter;if(s){if(e.client.resetNotifTimelineSet(),!e.currentSyncRequest){var a=i,c=yield o;if(c)e.syncOpts.logger.debug("Sending first sync request...");else{e.syncOpts.logger.debug("Sending initial sync request...");var l=e.buildDefaultFilter();l.setDefinition(s.getDefinition()),l.setTimelineLimit(e.opts.initialSyncLimit),a=JSON.stringify(l.getDefinition())}e.currentSyncRequest=e.doSyncRequest({filter:a},c)}return e.syncOpts.logger.debug("Waiting for saved sync before starting sync processing..."),yield e.savedSyncPromise,e.doSync({filter:i})}})()}},{key:"stop",value:function(){var e,t,n;this.syncOpts.logger.debug("SyncApi.stop"),null===(e=globalThis.window)||void 0===e||null===(t=e.removeEventListener)||void 0===t||t.call(e,"online",this.onOnline,!1),this.running=!1,null===(n=this.abortController)||void 0===n||n.abort(),this.keepAliveTimer&&(clearTimeout(this.keepAliveTimer),this.keepAliveTimer=void 0)}},{key:"retryImmediately",value:function(){return!!this.connectionReturnedResolvers&&(this.startKeepAlives(0),!0)}},{key:"syncFromCache",value:function(e){var t=this;return(0,r.default)(function*(){t.syncOpts.logger.debug("sync(): not doing HTTP hit, instead returning stored /sync data");var n=e.nextBatch;t.client.store.setSyncToken(n);var o={nextSyncToken:n,catchingUp:!1,fromCache:!0},r={next_batch:n,rooms:e.roomsData,account_data:{events:e.accountData}};try{yield t.processSyncResponse(o,r)}catch(e){t.syncOpts.logger.error("Error processing cached sync",e)}t.storeIsInvalid||t.updateSyncState(c.Prepared,o)})()}},{key:"doSync",value:function(e){var t=this;return(0,r.default)(function*(){for(;t.running;){var n=t.client.store.getSyncToken(),o=void 0;try{t.currentSyncRequest||(t.currentSyncRequest=t.doSyncRequest(e,n)),o=yield t.currentSyncRequest}catch(e){if(yield t.onSyncError(e))return;continue}finally{t.currentSyncRequest=void 0}t.client.store.setSyncToken(o.next_batch),t.failedSyncCount=0;var r={oldSyncToken:null!=n?n:void 0,nextSyncToken:o.next_batch,catchingUp:t.catchingUp};try{yield t.processSyncResponse(r,o)}catch(e){t.syncOpts.logger.error("Caught /sync error",e),t.client.emit(_r(d[6]).ClientEvent.SyncUnexpectedError,e)}yield t.client.store.setSyncData(o),r.catchingUp=t.catchingUp,e.hasSyncedBefore||(t.updateSyncState(c.Prepared,r),e.hasSyncedBefore=!0),t.syncOpts.cryptoCallbacks&&(yield t.syncOpts.cryptoCallbacks.onSyncCompleted(r)),t.updateSyncState(c.Syncing,r),t.client.store.wantsSave()&&(yield t.client.store.save())}t.running||(t.syncOpts.logger.debug("Sync no longer running: exiting."),t.connectionReturnedResolvers&&(t.connectionReturnedResolvers.reject(),t.connectionReturnedResolvers=void 0),t.updateSyncState(c.Stopped))})()}},{key:"doSyncRequest",value:function(e,t){var n,o=this.getSyncParams(e,t);return this.client.http.authedRequest(_r(d[11]).Method.Get,"/sync",o,void 0,{localTimeoutMs:o.timeout+8e4,abortSignal:null===(n=this.abortController)||void 0===n?void 0:n.signal})}},{key:"getSyncParams",value:function(e,t){var n=this.opts.pollTimeout;(this.getSyncState()!==c.Syncing||this.catchingUp)&&(this.catchingUp=!0,n=0);var o=e.filter;this.client.isGuest()&&!o&&(o=this.getGuestFilter());var r={filter:o,timeout:n,"org.matrix.msc4222.use_state_after":!0};return this.opts.disablePresence?r.set_presence=v.Offline:void 0!==this.presence&&(r.set_presence=this.presence),t?r.since=t:r._cacheBuster=Date.now(),[c.Reconnecting,c.Error].includes(this.getSyncState())&&(r.timeout=0),r}},{key:"setPresence",value:function(e){this.presence=e}},{key:"onSyncError",value:function(e){var t=this;return(0,r.default)(function*(){if(!t.running)return t.syncOpts.logger.debug("Sync no longer running: exiting"),t.connectionReturnedResolvers&&(t.connectionReturnedResolvers.reject(),t.connectionReturnedResolvers=void 0),t.updateSyncState(c.Stopped),!0;if(t.syncOpts.logger.error("/sync error %s",e),t.shouldAbortSync(e))return!0;t.failedSyncCount++,t.syncOpts.logger.debug("Number of consecutive failed sync requests:",t.failedSyncCount),t.syncOpts.logger.debug("Starting keep-alive");var n=t.startKeepAlives();return t.currentSyncRequest=void 0,t.updateSyncState(t.failedSyncCount>=3?c.Error:c.Reconnecting,{error:e}),(yield n)&&t.getSyncState()===c.Error&&t.updateSyncState(c.Catchup,{catchingUp:!0}),!1})()}},{key:"processSyncResponse",value:function(e,n){var o=this;return(0,r.default)(function*(){var i,s,a,c,l=o.client;if(Array.isArray(null===(i=n.presence)||void 0===i?void 0:i.events)&&n.presence.events.filter(_r(d[13]).noUnsafeEventProps).map(l.getEventMapper()).forEach(function(e){var t=l.store.getUser(e.getSender());t?t.setPresenceEvent(e):((t=_r(d[14]).User.createUser(e.getSender(),l)).setPresenceEvent(e),l.store.storeUser(t)),l.emit(_r(d[6]).ClientEvent.Event,e)}),Array.isArray(null===(s=n.account_data)||void 0===s?void 0:s.events)){var u=n.account_data.events.filter(_r(d[13]).noUnsafeEventProps).map(l.getEventMapper()),v=u.reduce(function(e,t){return e[t.getType()]=l.store.getAccountData(t.getType()),e},{});l.store.storeAccountDataEvents(u),u.forEach(function(e){if(e.getType()===_r(d[15]).EventType.PushRules){var t=e.getContent();l.setPushRules(t)}var n=v[e.getType()];return l.emit(_r(d[6]).ClientEvent.AccountData,e,n),e})}if(n.to_device&&Array.isArray(n.to_device.events)&&n.to_device.events.length>0){var m=n.to_device.events.filter(_r(d[13]).noUnsafeEventProps);f(o.syncOpts.cryptoCallbacks?yield o.syncOpts.cryptoCallbacks.preprocessToDeviceMessages(m):m.map(function(e){return{message:e,encryptionInfo:null}}),l)}else o.catchingUp=!1;var p=[],y=[],h=[],E=[];n.rooms&&(n.rooms.invite&&(p=o.mapSyncResponseToRoomArray(n.rooms.invite)),n.rooms.join&&(y=o.mapSyncResponseToRoomArray(n.rooms.join)),n.rooms.leave&&(h=o.mapSyncResponseToRoomArray(n.rooms.leave)),n.rooms.knock&&(E=o.mapSyncResponseToRoomArray(n.rooms.knock))),o.notifEvents=[],yield(0,_r(d[13]).promiseMapSeries)(p,(function(){var e=(0,r.default)(function*(e){var t=e.room,n=o.mapSyncEventsFormat(e.invite_state,t);yield o.injectRoomEvents(t,n,void 0),e.isBrandNewRoom?(t.recalculate(),l.store.storeRoom(t),l.emit(_r(d[6]).ClientEvent.Room,t)):t.recalculate(),n.forEach(function(e){l.emit(_r(d[6]).ClientEvent.Event,e)})});return function(t){return e.apply(this,arguments)}})()),yield(0,_r(d[13]).promiseMapSeries)(y,(function(){var n=(0,r.default)(function*(n){var r,i=n.room,s=o.mapSyncEventsFormat(n.state,i),a=o.mapSyncEventsFormat(n["org.matrix.msc4222.state_after"],i),c=o.mapSyncEventsFormat(n.timeline,i,!1),u=o.mapSyncEventsFormat(n.ephemeral),v=o.mapSyncEventsFormat(n.account_data),m=o.mapSyncEventsFormat(n.msc4354_sticky),p=n["org.matrix.msc4222.state_after"]?a:s.concat(c),y=o.isRoomEncrypted(i,p);if(n.unread_notifications){var f,h;if(!y||0===n.unread_notifications.notification_count)i.setUnreadNotificationCount(_r(d[9]).NotificationCountType.Total,null!==(f=n.unread_notifications.notification_count)&&void 0!==f?f:0);if(!y||i.getUnreadNotificationCount(_r(d[9]).NotificationCountType.Highlight)<=0)i.setUnreadNotificationCount(_r(d[9]).NotificationCountType.Highlight,null!==(h=n.unread_notifications.highlight_count)&&void 0!==h?h:0)}var E=null!==(r=n[_r(d[16]).UNREAD_THREAD_NOTIFICATIONS.name])&&void 0!==r?r:n[_r(d[16]).UNREAD_THREAD_NOTIFICATIONS.altName];if(E)for(var S of(i.resetThreadUnreadNotificationCountFromSync(Object.keys(E)),Object.entries(E))){var R,k=(0,t.default)(S,2),b=k[0],T=k[1];if(!y||0===T.notification_count)i.setThreadUnreadNotificationCount(b,_r(d[9]).NotificationCountType.Total,null!==(R=T.notification_count)&&void 0!==R?R:0);var _,C=i.getThreadUnreadNotificationCount(b,_r(d[9]).NotificationCountType.Highlight)<=0;if(!y||y&&C)i.setThreadUnreadNotificationCount(b,_r(d[9]).NotificationCountType.Highlight,null!==(_=T.highlight_count)&&void 0!==_?_:0)}else i.resetThreadUnreadNotificationCountFromSync();if(n.timeline=n.timeline||{},n.isBrandNewRoom)null!==n.timeline.prev_batch&&i.getLiveTimeline().setPaginationToken(n.timeline.prev_batch,_r(d[12]).EventTimeline.BACKWARDS);else if(n.timeline.limited){for(var O,A=!0,I=c.length-1;I>=0;I--){var P=c[I].getId();if(i.getTimelineForEvent(P)){o.syncOpts.logger.debug("Already have event ".concat(P," in limited sync - not resetting")),A=!1,c.splice(0,I);break}}if(A)i.resetLiveTimeline(n.timeline.prev_batch,o.syncOpts.canResetEntireTimeline(i.roomId)?null:null!==(O=e.oldSyncToken)&&void 0!==O?O:null),l.resetNotifTimelineSet()}if(o.syncOpts.cryptoCallbacks)for(var M of p)M.isState()&&M.getType()===_r(d[15]).EventType.RoomEncryption&&""===M.getStateKey()&&(yield o.syncOpts.cryptoCallbacks.onCryptoEvent(i,M));for(var N of c.filter(function(e){return e.isState()}))yield o.client.decryptEventIfNeeded(N);try{"org.matrix.msc4222.state_after"in n?yield o.injectRoomEvents(i,void 0,a,c,e.fromCache):yield o.injectRoomEvents(i,s,void 0,c,e.fromCache)}catch(M){o.syncOpts.logger.error("Failed to process events on room ".concat(i.roomId,":"),M)}n.summary&&i.setSummary(n.summary),i.addEphemeralEvents(u),i.addAccountData(v);var U=m.concat(c.filter(function(e){return void 0!==e.unstableStickyInfo}));i._unstable_addStickyEvents(U),i.recalculate(),n.isBrandNewRoom&&(l.store.storeRoom(i),l.emit(_r(d[6]).ClientEvent.Room,i)),o.processEventsForNotifs(i,c);var F=function(e){return l.emit(_r(d[6]).ClientEvent.Event,e)};s.forEach(F),c.forEach(F),u.forEach(F),v.forEach(F),m.filter(function(e){return!c.some(function(t){return t.getId()===e.getId()})}).forEach(F),i.decryptCriticalEvents()});return function(e){return n.apply(this,arguments)}})()),yield(0,_r(d[13]).promiseMapSeries)(h,(function(){var e=(0,r.default)(function*(e){var t=e.room,n=yield o.mapAndInjectRoomEvents(e),r=n.timelineEvents,i=n.stateEvents,s=n.stateAfterEvents,a=o.mapSyncEventsFormat(e.account_data);t.addAccountData(a),t.recalculate(),e.isBrandNewRoom&&(l.store.storeRoom(t),l.emit(_r(d[6]).ClientEvent.Room,t)),o.processEventsForNotifs(t,r),null==i||i.forEach(function(e){l.emit(_r(d[6]).ClientEvent.Event,e)}),null==s||s.forEach(function(e){l.emit(_r(d[6]).ClientEvent.Event,e)}),r.forEach(function(e){l.emit(_r(d[6]).ClientEvent.Event,e)}),a.forEach(function(e){l.emit(_r(d[6]).ClientEvent.Event,e)})});return function(t){return e.apply(this,arguments)}})()),yield(0,_r(d[13]).promiseMapSeries)(E,(function(){var e=(0,r.default)(function*(e){var t=e.room,n=o.mapSyncEventsFormat(e.knock_state,t);yield o.injectRoomEvents(t,n,void 0),e.isBrandNewRoom?(t.recalculate(),l.store.storeRoom(t),l.emit(_r(d[6]).ClientEvent.Room,t)):t.recalculate(),n.forEach(function(e){l.emit(_r(d[6]).ClientEvent.Event,e)})});return function(t){return e.apply(this,arguments)}})()),e.oldSyncToken&&o.notifEvents.length&&(o.notifEvents.sort(function(e,t){return e.getTs()-t.getTs()}),o.notifEvents.forEach(function(e){var t;null===(t=l.getNotifTimelineSet())||void 0===t||t.addLiveEvent(e,{addToState:!0})})),n.device_lists&&o.syncOpts.cryptoCallbacks&&(yield o.syncOpts.cryptoCallbacks.processDeviceLists(n.device_lists)),yield null===(a=o.syncOpts.cryptoCallbacks)||void 0===a?void 0:a.processKeyCounts(n.device_one_time_keys_count,null!==(c=n.device_unused_fallback_key_types)&&void 0!==c?c:n["org.matrix.msc2732.device_unused_fallback_key_types"])})()}},{key:"startKeepAlives",value:function(e){return void 0===e&&(e=2e3+Math.floor(5e3*Math.random())),null!==this.keepAliveTimer&&clearTimeout(this.keepAliveTimer),e>0?this.keepAliveTimer=setTimeout(this.pokeKeepAlive.bind(this),e):this.pokeKeepAlive(),this.connectionReturnedResolvers||(this.connectionReturnedResolvers=Promise.withResolvers()),this.connectionReturnedResolvers.promise}},{key:"pokeKeepAlive",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.running)return clearTimeout(this.keepAliveTimer),void(this.connectionReturnedResolvers&&(this.connectionReturnedResolvers.reject("SyncApi.stop() was called"),this.connectionReturnedResolvers=void 0));var o=function(){clearTimeout(t.keepAliveTimer),t.connectionReturnedResolvers&&(t.connectionReturnedResolvers.resolve(n),t.connectionReturnedResolvers=void 0)};this.client.http.request(_r(d[11]).Method.Get,"/_matrix/client/versions",void 0,void 0,{prefix:"",localTimeoutMs:15e3,abortSignal:null===(e=this.abortController)||void 0===e?void 0:e.signal}).then(function(){o()},function(e){400==e.httpStatus||404==e.httpStatus?t.keepAliveTimer=setTimeout(o,2e3):(n=!0,t.keepAliveTimer=setTimeout(t.pokeKeepAlive.bind(t,n),5e3+Math.floor(5e3*Math.random())),t.updateSyncState(c.Error,{error:e}))})}},{key:"mapSyncResponseToRoomArray",value:function(e){var t=this,n=this.client;return Object.keys(e).filter(function(e){return!(0,_r(d[13]).unsafeProp)(e)}).map(function(o){var r=n.store.getRoom(o),i=!1;return r||(r=t.createRoom(o),i=!0),a(a({},e[o]),{},{room:r,isBrandNewRoom:i})})}},{key:"mapSyncEventsFormat",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!Array.isArray(e.events))return[];var o=this.client.getEventMapper({decrypt:n});return e.events.filter(_r(d[13]).noUnsafeEventProps).map(function(e){return t&&(e.room_id=t.roomId),o(e)})}},{key:"resolveInvites",value:function(e){if(e&&this.opts.resolveInvitesToProfiles){var t=this.client;e.getMembersWithMembership(_r(d[17]).KnownMembership.Invite).forEach(function(n){if(!n.requestedProfileInfo){n.requestedProfileInfo=!0;var o=t.getUser(n.userId);(o?Promise.resolve({avatar_url:o.avatarUrl,displayname:o.displayName}):t.getProfileInfo(n.userId)).then(function(t){var o=n.events.member;(null==o?void 0:o.getContent().membership)===_r(d[17]).KnownMembership.Invite&&(o.getContent().avatar_url=t.avatar_url,o.getContent().displayname=t.displayname,n.setMembershipEvent(o,e.currentState))},function(e){})}})}}},{key:"findEncryptionEvent",value:function(e){return null==e?void 0:e.find(function(e){return e.getType()===_r(d[15]).EventType.RoomEncryption&&""===e.getStateKey()})}},{key:"isRoomEncrypted",value:function(e,t){return e.hasEncryptionStateEvent()||!!this.findEncryptionEvent(t)}},{key:"mapAndInjectRoomEvents",value:function(e){var t=this;return(0,r.default)(function*(){var n=t.mapSyncEventsFormat(e.state,e.room),o=t.mapSyncEventsFormat(e["org.matrix.msc4222.state_after"],e.room),r=t.mapSyncEventsFormat(e.timeline,e.room);return"org.matrix.msc4222.state_after"in e?yield t.injectRoomEvents(e.room,void 0,o,r):yield t.injectRoomEvents(e.room,n,void 0,r),{timelineEvents:r,stateEvents:n,stateAfterEvents:o}})()}},{key:"injectRoomEvents",value:function(e,t,n,o){var i=arguments,s=this;return(0,r.default)(function*(){var r=i.length>4&&void 0!==i[4]&&i[4],a=null!=n?n:t,c=e.getLiveTimeline(),l=0==c.getEvents().length;if(l){for(var u of a)s.client.getPushActionsForEvent(u);c.initialiseState(a,{timelineWasEmpty:l})}s.resolveInvites(e),e.recalculate(),l||(e.oldState.setStateEvents(a),e.currentState.setStateEvents(a)),yield e.addLiveEvents(o||[],{fromCache:r,timelineWasEmpty:l,addToState:void 0===n}),s.client.processBeaconEvents(e,o)})()}},{key:"processEventsForNotifs",value:function(e,t){if(this.client.getNotifTimelineSet())for(var n of t){var o,r=this.client.getPushActionsForEvent(n);null!=r&&r.notify&&null!==(o=r.tweaks)&&void 0!==o&&o.highlight&&this.notifEvents.push(n)}}},{key:"getGuestFilter",value:function(){return"{}"}},{key:"updateSyncState",value:function(e,t){var n=this.syncState;this.syncState=e,this.syncStateData=t,this.client.emit(_r(d[6]).ClientEvent.Sync,this.syncState,n,t)}}])})();function y(e,t,n){var o=e.timelineSupport,r=new(_r(d[9]).Room)(t,e,e.getUserId(),{lazyLoadMembers:n.lazyLoadMembers,pendingEventOrdering:n.pendingEventOrdering,timelineSupport:o});return e.reEmitter.reEmit(r,[_r(d[9]).RoomEvent.Name,_r(d[9]).RoomEvent.Redaction,_r(d[9]).RoomEvent.RedactionCancelled,_r(d[9]).RoomEvent.Receipt,_r(d[9]).RoomEvent.Tags,_r(d[9]).RoomEvent.LocalEchoUpdated,_r(d[9]).RoomEvent.AccountData,_r(d[9]).RoomEvent.MyMembership,_r(d[9]).RoomEvent.Timeline,_r(d[9]).RoomEvent.TimelineReset,_r(d[10]).RoomStateEvent.Events,_r(d[10]).RoomStateEvent.Members,_r(d[10]).RoomStateEvent.NewMember,_r(d[10]).RoomStateEvent.Update,_r(d[18]).BeaconEvent.New,_r(d[18]).BeaconEvent.Update,_r(d[18]).BeaconEvent.Destroy,_r(d[18]).BeaconEvent.LivenessChange]),r.on(_r(d[10]).RoomStateEvent.NewMember,function(t,n,o){var r;o.user=null!==(r=e.getUser(o.userId))&&void 0!==r?r:void 0,e.reEmitter.reEmit(o,[_r(d[19]).RoomMemberEvent.Name,_r(d[19]).RoomMemberEvent.Typing,_r(d[19]).RoomMemberEvent.PowerLevel,_r(d[19]).RoomMemberEvent.Membership])}),r}function f(e,t){var n=[];e.map(function(e){if("m.key.verification.cancel"===e.message.type){var t=e.message.content.transaction_id;t&&n.push(t)}return e}).forEach(function(e){var o=e.message,r=o.content,i=new(_r(d[20]).MatrixEvent)(Object.assign({},o));if("m.key.verification.start"===o.type||"m.key.verification.request"===o.type){var s=r.transaction_id;n.includes(s)&&i.flagCancelled()}e.encryptionInfo&&i.makeEncrypted(_r(d[15]).EventType.RoomMessageEncrypted,{ciphertext:""},e.encryptionInfo.senderCurve25519KeyBase64,""),t.emit(_r(d[6]).ClientEvent.ToDeviceEvent,i),t.emit(_r(d[6]).ClientEvent.ReceivedToDeviceMessage,e)})}},836,[1,34,11,12,743,739,796,825,837,806,766,814,810,748,838,765,827,767,824,768,771]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ServerSupport=e.Feature=void 0,e.buildFeatureSupportMap=function(t){return f.apply(this,arguments)};var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=e.ServerSupport=(function(t){return t[t.Stable=0]="Stable",t[t.Unstable=1]="Unstable",t[t.Unsupported=2]="Unsupported",t})({}),l=e.Feature=(function(t){return t.Thread="Thread",t.ThreadUnreadNotifications="ThreadUnreadNotifications",t.LoginTokenRequest="LoginTokenRequest",t.RelationBasedRedactions="RelationBasedRedactions",t.AccountDataDeletion="AccountDataDeletion",t.RelationsRecursion="RelationsRecursion",t.IntentionalMentions="IntentionalMentions",t})({}),c=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},l.Thread,{unstablePrefixes:["org.matrix.msc3440"],matrixVersion:"v1.3"}),l.ThreadUnreadNotifications,{unstablePrefixes:["org.matrix.msc3771","org.matrix.msc3773"],matrixVersion:"v1.4"}),l.LoginTokenRequest,{unstablePrefixes:["org.matrix.msc3882"]}),l.RelationBasedRedactions,{unstablePrefixes:["org.matrix.msc3912"]}),l.AccountDataDeletion,{unstablePrefixes:["org.matrix.msc3391"]}),l.RelationsRecursion,{unstablePrefixes:["org.matrix.msc3981"],matrixVersion:"v1.10"}),l.IntentionalMentions,{unstablePrefixes:["org.matrix.msc3952_intentional_mentions"],matrixVersion:"v1.7"});function f(){return(f=(0,s.default)(function*(t){var o=new Map;for(var s of Object.entries(c)){var l,f,v,x,p=(0,n.default)(s,2),b=p[0],R=p[1],P=null!==(l=null===(f=t.versions)||void 0===f?void 0:f.includes(R.matrixVersion||""))&&void 0!==l&&l,T=null!==(v=null===(x=R.unstablePrefixes)||void 0===x?void 0:x.every(function(n){var o;return!0===(null===(o=t.unstable_features)||void 0===o?void 0:o[n])}))&&void 0!==v&&v;P?o.set(b,u.Stable):T?o.set(b,u.Unstable):o.set(b,u.Unsupported)}return o})).apply(this,arguments)}},837,[1,34,66,743]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.UserEvent=_e.User=void 0;var t=e(r(d[1])),s=e(r(d[2])),n=e(r(d[3])),l=e(r(d[4])),u=e(r(d[5])),c=e(r(d[6]));function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}var v=_e.UserEvent=(function(e){return e.DisplayName="User.displayName",e.AvatarUrl="User.avatarUrl",e.Presence="User.presence",e.CurrentlyActive="User.currentlyActive",e.LastPresenceTs="User.lastPresenceTs",e})({});_e.User=(function(e){function f(e){var s,u,v,p;return(0,t.default)(this,f),u=this,v=f,v=(0,l.default)(v),(s=(0,n.default)(u,o()?Reflect.construct(v,p||[],(0,l.default)(u).constructor):v.apply(u,p))).userId=e,(0,c.default)(s,"modified",-1),(0,c.default)(s,"displayName",void 0),(0,c.default)(s,"rawDisplayName",void 0),(0,c.default)(s,"avatarUrl",void 0),(0,c.default)(s,"presenceStatusMsg",void 0),(0,c.default)(s,"presence","offline"),(0,c.default)(s,"lastActiveAgo",0),(0,c.default)(s,"lastPresenceTs",0),(0,c.default)(s,"currentlyActive",!1),(0,c.default)(s,"events",{}),s.displayName=e,s.rawDisplayName=e,s.updateModifiedTime(),s}return(0,u.default)(f,e),(0,s.default)(f,[{key:"setPresenceEvent",value:function(e){if("m.presence"===e.getType()){var t=null===this.events.presence;this.events.presence=e;var s=[];for(var n of((e.getContent().presence!==this.presence||t)&&s.push(v.Presence),e.getContent().avatar_url&&e.getContent().avatar_url!==this.avatarUrl&&s.push(v.AvatarUrl),e.getContent().displayname&&e.getContent().displayname!==this.displayName&&s.push(v.DisplayName),void 0!==e.getContent().currently_active&&e.getContent().currently_active!==this.currentlyActive&&s.push(v.CurrentlyActive),this.presence=e.getContent().presence,s.push(v.LastPresenceTs),e.getContent().status_msg&&(this.presenceStatusMsg=e.getContent().status_msg),e.getContent().displayname&&(this.displayName=e.getContent().displayname),e.getContent().avatar_url&&(this.avatarUrl=e.getContent().avatar_url),this.lastActiveAgo=e.getContent().last_active_ago,this.lastPresenceTs=Date.now(),this.currentlyActive=e.getContent().currently_active,this.updateModifiedTime(),s))this.emit(n,e,this)}}},{key:"setDisplayName",value:function(e){var t=this.displayName;this.displayName=e,e!==t&&this.updateModifiedTime()}},{key:"setRawDisplayName",value:function(e){this.rawDisplayName=e}},{key:"setAvatarUrl",value:function(e){var t=this.avatarUrl;this.avatarUrl=e,e!==t&&this.updateModifiedTime()}},{key:"updateModifiedTime",value:function(){this.modified=Date.now()}},{key:"getLastModifiedTime",value:function(){return this.modified}},{key:"getLastActiveTs",value:function(){return this.lastPresenceTs-this.lastActiveAgo}}],[{key:"createUser",value:function(e,t){var s=new f(e);return t.reEmitter.reEmit(s,[v.AvatarUrl,v.DisplayName,v.Presence,v.CurrentlyActive,v.LastPresenceTs]),s}}])})(r(d[7]).TypedEventEmitter)},838,[1,11,12,18,20,23,739,762]);
__d(function(g,r,i,a,m,_e,d){var o=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MatrixRTCSessionManagerEvents=_e.MatrixRTCSessionManager=void 0;var e=o(r(d[1])),t=o(r(d[2])),n=o(r(d[3])),s=o(r(d[4])),l=o(r(d[5])),c=o(r(d[6])),f=o(r(d[7]));function u(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(o){}return(u=function(){return!!o})()}var h=_e.MatrixRTCSessionManagerEvents=(function(o){return o.SessionStarted="session_started",o.SessionEnded="session_ended",o})({});_e.MatrixRTCSessionManager=(function(o){function v(o,t){var l;(0,e.default)(this,v);var c,h,S,R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{application:"m.call",id:""};return c=this,h=v,h=(0,s.default)(h),(l=(0,n.default)(c,u()?Reflect.construct(h,S||[],(0,s.default)(c).constructor):h.apply(c,S))).client=t,l.slotDescription=R,(0,f.default)(l,"roomSessions",new Map),(0,f.default)(l,"logger",void 0),(0,f.default)(l,"onRoom",function(o){l.refreshRoom(o)}),(0,f.default)(l,"onEvent",function(o){if(o.unstableStickyExpiresAt&&o.getType()===r(d[8]).EventType.RTCMembership){var e=l.client.getRoom(o.getRoomId());e&&l.refreshRoom(e)}}),(0,f.default)(l,"onRoomState",function(o){if(o.getType()===r(d[8]).EventType.GroupCallMemberPrefix){var e=l.client.getRoom(o.getRoomId());e?l.refreshRoom(e):l.logger.error("Got room state event for unknown room ".concat(o.getRoomId(),"!"))}}),l.logger=o.getChild("[MatrixRTCSessionManager]"),l}return(0,l.default)(v,o),(0,t.default)(v,[{key:"start",value:function(){for(var o of null!==(e=this.client.getRooms())&&void 0!==e?e:[]){var e,t=r(d[9]).MatrixRTCSession.sessionForSlot(this.client,o,this.slotDescription);t.memberships.length>0&&this.roomSessions.set(o.roomId,t)}this.client.on(r(d[10]).ClientEvent.Room,this.onRoom),this.client.on(r(d[10]).ClientEvent.Event,this.onEvent),this.client.on(r(d[11]).RoomStateEvent.Events,this.onRoomState)}},{key:"stop",value:function(){for(var o of this.roomSessions.values())o.stop();this.roomSessions.clear(),this.client.off(r(d[10]).ClientEvent.Room,this.onRoom),this.client.off(r(d[10]).ClientEvent.Event,this.onEvent),this.client.off(r(d[11]).RoomStateEvent.Events,this.onRoomState)}},{key:"getActiveRoomSession",value:function(o){return this.roomSessions.get(o.roomId)}},{key:"getRoomSession",value:function(o){return this.roomSessions.has(o.roomId)||this.roomSessions.set(o.roomId,r(d[9]).MatrixRTCSession.sessionForSlot(this.client,o,this.slotDescription)),this.roomSessions.get(o.roomId)}},{key:"refreshRoom",value:function(o){var e=this;return(0,c.default)(function*(){var t=!e.roomSessions.has(o.roomId),n=e.getRoomSession(o),s=n.memberships.length>0&&!t;yield n._onRTCSessionMemberUpdate().catch(function(t){e.logger.error("Error updating RTC session members for ".concat(o.roomId,": ").concat(t))});var l=n.memberships.length>0;s&&!l?(e.logger.trace("Session ended for ".concat(o.roomId," (").concat(n.memberships.length," members)")),e.emit(h.SessionEnded,o.roomId,e.roomSessions.get(o.roomId))):!s&&l&&(e.logger.trace("Session started for ".concat(o.roomId," (").concat(n.memberships.length," members)")),e.emit(h.SessionStarted,o.roomId,e.roomSessions.get(o.roomId)))})()}}])})(r(d[12]).TypedEventEmitter)},839,[1,11,12,18,20,23,743,739,765,840,796,766,762]);
__d(function(g,_r,_i,_a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MatrixRTCSessionEvent=_e.MatrixRTCSession=void 0,_e.slotDescriptionToId=h,_e.slotIdToDescription=function(e){var t=e.split("#"),n=(0,a.default)(t,2),i=n[0],o=n[1];return{application:i,id:o}};var t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),o=e(_r(d[4])),r=e(_r(d[5])),s=e(_r(d[6])),a=e(_r(d[7])),l=e(_r(d[8])),c=e(_r(d[9]));function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=_e.MatrixRTCSessionEvent=(function(e){return e.MembershipsChanged="memberships_changed",e.JoinStateChanged="join_state_changed",e.EncryptionKeyChanged="encryption_key_changed",e.MembershipManagerError="membership_manager_error",e.DidSendCallNotification="did_send_call_notification",e})({});function h(e){return"".concat(e.application,"#").concat(e.id)}_e.MatrixRTCSession=(function(e){function m(e,i,s,a){var p,h,v,y,b;return(0,n.default)(this,m),v=this,y=m,y=(0,r.default)(y),p=(0,o.default)(v,u()?Reflect.construct(y,b||[],(0,r.default)(v).constructor):y.apply(v,b)),h=p,p.client=e,p.roomSubset=i,p.slotDescription=s,p.calculateMembershipsOpts=a,(0,c.default)(p,"membershipManager",void 0),(0,c.default)(p,"encryptionManager",void 0),(0,c.default)(p,"joinConfig",void 0),(0,c.default)(p,"logger",void 0),(0,c.default)(p,"pendingNotificationToSend",void 0),(0,c.default)(p,"expiryTimeout",void 0),(0,c.default)(p,"memberships",[]),(0,c.default)(p,"statistics",{counters:{roomEventEncryptionKeysSent:0,roomEventEncryptionKeysReceived:0},totals:{roomEventEncryptionKeysReceivedTotalAge:0}}),(0,c.default)(p,"reEmitter",new(_r(d[10]).TypedReEmitter)(p)),(0,c.default)(p,"onRoomMemberUpdate",function(){p.ensureRecalculateSessionMembers()}),(0,c.default)(p,"onStickyEventUpdate",function(e,n,i){[].concat((0,t.default)(e),(0,t.default)(i),(0,t.default)(n.flatMap(function(e){return[e.current,e.previous]}))).some(function(e){return e.getType()===_r(d[11]).EventType.RTCMembership})&&p.ensureRecalculateSessionMembers()}),(0,c.default)(p,"_onRTCSessionMemberUpdate",(0,l.default)(function*(){yield h.recalculateSessionMembers()})),(0,c.default)(p,"recalculateSessionMembersDirty",!1),(0,c.default)(p,"recalculateSessionMembersPromise",void 0),(0,c.default)(p,"recalculateSessionMembers",(0,l.default)(function*(){var e,t=h.memberships;if(h.memberships=yield m.sessionMembershipsForSlot(h.room,h.slotDescription,h.calculateMembershipsOpts),t.length!=h.memberships.length||t.some(function(e,t){return!_r(d[12]).CallMembership.equal(e,h.memberships[t])})){var n,i;h.logger.info("Memberships for call in room ".concat(h.roomSubset.roomId," have changed: emitting (").concat(h.memberships.length," members)")),(0,_r(d[13]).logDurationSync)(h.logger,"emit MatrixRTCSessionEvent.MembershipsChanged",function(){h.emit(f.MembershipsChanged,t,h.memberships)}),null===(n=h.membershipManager)||void 0===n||n.onRTCSessionMemberUpdate(h.memberships);var o,r=null===(i=h.membershipManager)||void 0===i?void 0:i.ownMembership;if(h.pendingNotificationToSend&&r&&0===t.length)r.eventId&&null!==(o=h.joinConfig)&&void 0!==o&&o.notificationType?h.sendCallNotify(r.eventId,h.joinConfig.notificationType,r.callIntent):h.logger.warn("Own membership eventId is undefined, cannot send call notification");h.memberships.length>0&&(h.pendingNotificationToSend=void 0)}else h.logger.debug("No membership changes detected for room ".concat(h.roomSubset.roomId));null===(e=h.encryptionManager)||void 0===e||e.onMembershipsUpdate(t),h.setExpiryTimer()})),p.logger=_r(d[14]).logger.getChild("[MatrixRTCSession ".concat(i.roomId,"]")),p.roomSubset.on(_r(d[15]).RoomStateEvent.Members,p.onRoomMemberUpdate),p.roomSubset.on(_r(d[16]).RoomStickyEventsEvent.Update,p.onStickyEventUpdate),p.ensureRecalculateSessionMembers(),p.setExpiryTimer(),p}return(0,s.default)(m,e),(0,i.default)(m,[{key:"membershipStatus",get:function(){var e;return null===(e=this.membershipManager)||void 0===e?void 0:e.status}},{key:"probablyLeft",get:function(){var e;return null===(e=this.membershipManager)||void 0===e?void 0:e.probablyLeft}},{key:"delayId",get:function(){var e;return null===(e=this.membershipManager)||void 0===e?void 0:e.delayId}},{key:"callId",get:function(){var e;return null===(e=this.slotDescription)||void 0===e?void 0:e.id}},{key:"slotId",get:function(){return h(this.slotDescription)}},{key:"room",get:function(){return this.roomSubset}},{key:"isJoined",value:function(){var e,t;return null!==(e=null===(t=this.membershipManager)||void 0===t?void 0:t.isJoined())&&void 0!==e&&e}},{key:"stop",value:function(){var e=this;return(0,l.default)(function*(){var t;yield null===(t=e.membershipManager)||void 0===t?void 0:t.leave(1e3),e.expiryTimeout&&(clearTimeout(e.expiryTimeout),e.expiryTimeout=void 0),e.roomSubset.off(_r(d[15]).RoomStateEvent.Members,e.onRoomMemberUpdate),e.roomSubset.off(_r(d[16]).RoomStickyEventsEvent.Update,e.onStickyEventUpdate)})()}},{key:"joinRTCSession",value:function(e,t,n,i){var o,r=this;if(this.isJoined())this.logger.info("Already joined to session in room ".concat(this.roomSubset.roomId,": ignoring join call"));else{var s;if(this.membershipManager=null!=i&&i.unstableSendStickyEvents?new(_r(d[17]).StickyEventMembershipManager)(i,this.roomSubset,this.client,this.slotDescription,e.memberId,this.logger):new(_r(d[17]).MembershipManager)(i,this.roomSubset,this.client,this.slotDescription,this.logger),this.reEmitter.reEmit(this.membershipManager,[_r(d[18]).MembershipManagerEvent.ProbablyLeft,_r(d[18]).MembershipManagerEvent.StatusChanged]),null!=i&&i.useExperimentalToDeviceTransport){this.logger.info("Using experimental to-device transport for encryption keys"),this.logger.info("Using to-device with room fallback transport for encryption keys");var a=[this.roomSubset,this.client,this.statistics],l=a[0],c=a[1],u=a[2],m=new(_r(d[19]).ToDeviceKeyTransport)(e,l.roomId,c,u);this.encryptionManager=new(_r(d[20]).RTCEncryptionManager)(e,function(){return r.memberships},m,this.statistics,function(e,t,n,i){r.emit(f.EncryptionKeyChanged,e,t,n,i)},this.logger)}else s=new(_r(d[21]).RoomKeyTransport)(this.roomSubset,this.client,this.statistics),this.encryptionManager=new(_r(d[22]).EncryptionManager)(e,function(){return r.memberships},s,this.statistics,function(e,t,n,i){r.emit(f.EncryptionKeyChanged,e,t,n,i)});this.joinConfig=i,this.pendingNotificationToSend=null===(o=this.joinConfig)||void 0===o?void 0:o.notificationType,this.membershipManager.join(t,n,function(e){r.logger.error("MembershipManager encountered an unrecoverable error: ",e),r.emit(f.MembershipManagerError,e),r.emit(f.JoinStateChanged,r.isJoined())}),this.encryptionManager.join(i),this.emit(f.JoinStateChanged,!0)}}},{key:"joinRoomSession",value:function(e,t,n){var i=[this.client.getUserId(),this.client.getDeviceId()],o=i[0],r=i[1],s="".concat(o,":").concat(r);this.joinRTCSession({userId:o,deviceId:r,memberId:s},e,t,n)}},{key:"leaveRoomSession",value:function(){var e=arguments,t=this;return(0,l.default)(function*(){var n=e.length>0&&void 0!==e[0]?e[0]:void 0;if(!t.isJoined())return t.logger.info("Not joined to session in room ".concat(t.roomSubset.roomId,": ignoring leave call")),!1;t.logger.info("Leaving call session in room ".concat(t.roomSubset.roomId)),t.encryptionManager.leave();var i=t.membershipManager.leave(n);return t.emit(f.JoinStateChanged,!1),yield i})()}},{key:"getFocusInUse",value:function(){var e=this.getOldestMembership();return null==e?void 0:e.getTransport(e)}},{key:"getActiveFocus",value:function(){var e;return null===(e=this.getOldestMembership())||void 0===e?void 0:e.getFocusActive()}},{key:"getOldestMembership",value:function(){return this.memberships[0]}},{key:"getConsensusCallIntent",value:function(){var e,t=null===(e=this.memberships.find(function(e){return!!e.callIntent}))||void 0===e?void 0:e.callIntent;if(t)return this.memberships.every(function(e){return!e.callIntent||e.callIntent===t})?t:void 0}},{key:"updateCallIntent",value:function(e){var t=this;return(0,l.default)(function*(){var n,i;if(!(null===(n=t.membershipManager)||void 0===n?void 0:n.ownMembership))throw Error("Not connected yet");yield null===(i=t.membershipManager)||void 0===i?void 0:i.updateCallIntent(e)})()}},{key:"reemitEncryptionKeys",value:function(){var e,t=this;null===(e=this.encryptionManager)||void 0===e||e.getEncryptionKeys().forEach(function(e,n){e.forEach(function(e){t.emit(f.EncryptionKeyChanged,e.key,e.keyIndex,e.membership,e.rtcBackendIdentity)})})}},{key:"setExpiryTimer",value:function(){var e;for(var t of(this.expiryTimeout&&(clearTimeout(this.expiryTimeout),this.expiryTimeout=void 0),this.memberships)){var n=t.getMsUntilExpiry();void 0!==n&&(void 0===e||n<e)&&(e=n)}null!=e&&(this.expiryTimeout=setTimeout(this.ensureRecalculateSessionMembers.bind(this),e))}},{key:"sendCallNotify",value:function(e,t,n){var i=this,o=this,r=(function(){var e=(0,l.default)(function*(){var e={application:"m.call","m.mentions":{user_ids:[],room:!0},notify_type:"notification"===t?"notify":t,call_id:o.callId};return{response:yield o.client.sendEvent(o.roomSubset.roomId,_r(d[11]).EventType.CallNotify,e),content:e}});return function(){return e.apply(this,arguments)}})(),s=(function(){var i=(0,l.default)(function*(){var i={"m.mentions":{user_ids:[],room:!0},notification_type:t,"m.relates_to":{event_id:e,rel_type:_r(d[11]).RelationType.Reference},sender_ts:Date.now(),lifetime:3e4};return n&&(i["m.call.intent"]=n),{response:yield o.client.sendEvent(o.roomSubset.roomId,_r(d[11]).EventType.RTCNotification,i),content:i}});return function(){return i.apply(this,arguments)}})();Promise.all([r(),s()]).then(function(e){var t=(0,a.default)(e,2),n=t[0],o=t[1],r=p(p({},n.response),n.content),s=p(p({},o.response),o.content);i.emit(f.DidSendCallNotification,s,r)}).catch(function(e){var t=(0,a.default)(e,2),n=t[0],o=t[1];return i.logger.error("Failed to send call notification",n,o)})}},{key:"ensureRecalculateSessionMembers",value:function(){var e=this;void 0===this.recalculateSessionMembersPromise?this.recalculateSessionMembersPromise=this.recalculateSessionMembers().then(function(){e.recalculateSessionMembersPromise=void 0,e.recalculateSessionMembersDirty&&(e.ensureRecalculateSessionMembers(),e.recalculateSessionMembersDirty=!1)}):this.recalculateSessionMembersDirty=!0}}],[{key:"callMembershipsForRoom",value:function(e){return _r(d[14]).logger.error("[MatrixRTCSession ".concat(e.roomId,"] callMembershipsForRoom is deprecated. Use sessionMembershipsForSlot instead.")),[]}},{key:"sessionMembershipsForSlot",value:function(e,n){var i=arguments;return(0,l.default)(function*(){var o=i.length>2&&void 0!==i[2]?i[2]:{listenForStickyEvents:!0,listenForMemberStateEvents:!0},r=o.listenForStickyEvents,s=o.listenForMemberStateEvents,a=_r(d[14]).logger.getChild("[MatrixRTCSession ".concat(e.roomId,"]")),l=[];if(r&&(l=(0,t.default)(e._unstable_getStickyEvents()).filter(function(e){return e.getType()===_r(d[11]).EventType.RTCMembership})),s){var c=e.getLiveTimeline().getState(_r(d[23]).EventTimeline.FORWARDS);if(!c)return a.warn("Couldn't get state for room "+e.roomId+"using empty membership array"),[];var u=c.getStateEvents(_r(d[11]).EventType.GroupCallMemberPrefix);l=l.concat(u.filter(function(e){return!l.some(function(t){return t.getContent().msc4354_sticky_key===e.getStateKey()})}))}var m=[];for(var p of l){var f=p.getContent(),h=Object.keys(f).filter(function(e){return"msc4354_sticky_key"!==e}).length;if(0!==h){var v=void 0;if(h>1&&"application"in f?v=f:1===h&&"memberships"in f&&a.warn("Legacy event found. Those are ignored, they do not contribute to the MatrixRTC session"),void 0!==v&&"application"in v)try{var y,b=_r(d[12]).CallMembership.membershipDataFromMatrixEvent(p),M=new(_r(d[12]).CallMembership)(p,b,yield _r(d[12]).CallMembership.computeRtcBackendIdentity(p,b),_r(d[14]).logger);if(!(0,_r(d[13]).deepCompare)(M.slotDescription,n)){a.info("Ignoring membership of user ".concat(M.sender," for a different slot:  ").concat(JSON.stringify(M.slotDescription)));continue}if(M.isExpired()){a.info("Ignoring expired device membership ".concat(M.sender,"/").concat(M.deviceId));continue}if(!e.hasMembershipState(null!==(y=M.sender)&&void 0!==y?y:"",_r(d[24]).KnownMembership.Join)){a.info("Ignoring membership of user ".concat(M.sender," who is not in the room."));continue}m.push(M)}catch(e){a.warn("Couldn't construct call membership: ",e)}}}return m.sort(function(e,t){return e.createdTs()-t.createdTs()}),m.length>1&&a.debug("Call memberships in room ".concat(e.roomId,", in order: "),m.map(function(e){return[e.createdTs(),e.userId]})),m})()}},{key:"sessionForSlot",value:function(e,t,n,i){return new m(e,t,n,i)}}])})(_r(d[25]).TypedEventEmitter)},840,[1,42,11,12,18,20,23,34,743,739,764,765,841,748,746,766,808,843,845,848,850,853,852,810,767,762]);
__d(function(g,r,i,_a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_EXPIRE_DURATION=e.CallMembership=void 0;var n=t(r(d[1])),s=t(r(d[2])),a=t(r(d[3])),o=t(r(d[4])),c=e.DEFAULT_EXPIRE_DURATION=144e5,u=function(t,n,s){var a;if("string"!=typeof t.slot_id?n.push(" - slot_id must be string"):2!==t.slot_id.split("#").length&&n.push(" - slot_id must include exactly one \"#\""),"object"!=typeof t.member||null===t.member?n.push(" - member must be an object"):("string"!=typeof t.member.user_id?n.push(" - member.user_id must be string"):r(d[5]).MXID_PATTERN.test(t.member.user_id)?t.member.user_id!==s&&n.push(" - member.user_id must match the sender"):n.push(" - member.user_id must be a valid mxid"),"string"!=typeof t.member.device_id&&n.push(" - member.device_id must be string"),"string"!=typeof t.member.id&&n.push(" - member.id must be string")),"object"!=typeof t.application||null===t.application?n.push(" - application must be an object"):"string"!=typeof t.application.type?n.push(" - application.type must be a string"):t.application.type.includes("#")&&n.push(" - application.type must not include \"#\""),void 0!==t.rtc_transports&&Array.isArray(t.rtc_transports)){for(var o of t.rtc_transports)if("object"!=typeof o||null===o||"string"!=typeof o.type){n.push(" - rtc_transports entries must be objects with a string type");break}}else n.push(" - rtc_transports must be an array");if(void 0!==t.versions&&Array.isArray(t.versions)?t.versions.every(function(t){return"string"==typeof t})||n.push(" - versions must be an array of strings"):n.push(" - versions must be an array"),void 0===(null!==(a=t.sticky_key)&&void 0!==a?a:t.msc4354_sticky_key)&&n.push(" - sticky_key or msc4354_sticky_key must be a defined"),void 0!==t.sticky_key&&"string"!=typeof t.sticky_key&&n.push(" - sticky_key must be a string"),void 0!==t.msc4354_sticky_key&&"string"!=typeof t.msc4354_sticky_key&&n.push(" - msc4354_sticky_key must be a string"),void 0!==t.sticky_key&&void 0!==t.msc4354_sticky_key&&t.sticky_key!==t.msc4354_sticky_key&&n.push(" - sticky_key and msc4354_sticky_key must be equal if both are defined"),void 0!==t["m.relates_to"]){var c=t["m.relates_to"];"object"!=typeof c||null===c?n.push(" - m.relates_to must be an object if provided"):("string"!=typeof c.event_id&&n.push(" - m.relates_to.event_id must be a string"),"m.reference"!==c.rel_type&&n.push(" - m.relates_to.rel_type must be m.reference"))}return 0===n.length};e.CallMembership=(function(){function t(s,a,c,u){if((0,n.default)(this,t),(0,o.default)(this,"logger",void 0),(0,o.default)(this,"matrixEventData",void 0),(0,o.default)(this,"rtcBackendIdentity",void 0),(0,o.default)(this,"membershipData",void 0),"rtc"===a.kind||"session"===a.kind){if(this.membershipData=a,null==c)throw new Error("rtcBackendIdentity must be defined when passing MembershipData");this.rtcBackendIdentity=c}else this.membershipData=t.membershipDataFromMatrixEvent(new(r(d[6]).MatrixEvent)({event_id:s.getId(),sender:s.getSender(),content:a})),this.rtcBackendIdentity="".concat(s.getSender(),":").concat(this.deviceId);var p=[s.getId(),s.getSender(),s.getTs()],l=p[0],h=p[1],v=p[2];if(void 0===l)throw new Error("parentEvent is missing eventId field");if(void 0===h)throw new Error("parentEvent is missing sender field");this.matrixEventData={eventId:l,sender:h,ts:v},this.logger=null==u?void 0:u.getChild("[CallMembership ".concat(h,":").concat(this.deviceId,"]"))}return(0,s.default)(t,[{key:"sender",get:function(){return this.userId}},{key:"userId",get:function(){var t=this.membershipData,n=t.kind,s=t.data;return"rtc"===n?s.member.user_id:this.matrixEventData.sender}},{key:"eventId",get:function(){return this.matrixEventData.eventId}},{key:"slotId",get:function(){var t=this.membershipData,n=t.kind,s=t.data;return"rtc"===n?s.slot_id:(0,r(d[7]).slotDescriptionToId)({application:this.application,id:s.call_id})}},{key:"deviceId",get:function(){var t=this.membershipData,n=t.kind,s=t.data;return"rtc"===n?s.member.device_id:s.device_id}},{key:"callIntent",get:function(){var t=this.membershipData,n=t.kind,s=t.data;if("rtc"===n){var a,o=s.application["m.call.intent"];return"string"==typeof o?o:void(null===(a=this.logger)||void 0===a||a.warn("RTC membership has invalid m.call.intent"))}return s["m.call.intent"]}},{key:"slotDescription",get:function(){return(0,r(d[7]).slotIdToDescription)(this.slotId)}},{key:"application",get:function(){var t=this.membershipData,n=t.kind,s=t.data;return"rtc"===n?s.application.type:s.application}},{key:"applicationData",get:function(){var t=this.membershipData,n=t.kind,s=t.data;return"rtc"===n?s.application:{type:s.application,"m.call.intent":s["m.call.intent"]}}},{key:"scope",get:function(){var t=this.membershipData,n=t.kind,s=t.data;if("rtc"!==n)return s.scope}},{key:"membershipID",get:function(){return this.memberId}},{key:"memberId",get:function(){var t,n=this.membershipData,s=n.kind,a=n.data;return"rtc"===s?a.member.id:null!==(t=a.membershipID)&&void 0!==t?t:"".concat(this.matrixEventData.sender,":").concat(a.device_id)}},{key:"createdTs",value:function(){var t,n=this.membershipData,s=n.kind,a=n.data;return"rtc"===s?this.matrixEventData.ts:null!==(t=a.created_ts)&&void 0!==t?t:this.matrixEventData.ts}},{key:"getAbsoluteExpiry",value:function(){var t,n=this.membershipData,s=n.kind,a=n.data;if("rtc"!==s)return this.createdTs()+(null!==(t=a.expires)&&void 0!==t?t:c)}},{key:"getMsUntilExpiry",value:function(){if("rtc"!==this.membershipData.kind)return this.getAbsoluteExpiry()-Date.now()}},{key:"isExpired",value:function(){return"rtc"!==this.membershipData.kind&&this.getMsUntilExpiry()<=0}},{key:"getTransport",value:function(n){var s=this.membershipData,a=s.kind,o=s.data;switch(a){case"rtc":return o.rtc_transports[0];case"session":switch(o.focus_active.focus_selection){case"multi_sfu":return o.foci_preferred[0];case"oldest_membership":if(t.equal(this,n))return o.foci_preferred[0];if(void 0!==n)return n.getTransport(n)}}}},{key:"getFocusActive",value:function(){var t=this.membershipData,n=t.kind,s=t.data;if("session"===n)return s.focus_active}},{key:"transports",get:function(){var t=this.membershipData,n=t.kind,s=t.data;return"rtc"===n?s.rtc_transports:s.foci_preferred}},{key:"kind",get:function(){return this.membershipData.kind}}],[{key:"equal",value:function(t,n){return(0,r(d[8]).deepCompare)(null==t?void 0:t.membershipData,null==n?void 0:n.membershipData)}},{key:"computeRtcBackendIdentity",value:function(n,s){return(0,a.default)(function*(){var a=s.kind,o=s.data;switch(a){case"rtc":return t.computeRtcIdentityRaw(o.member.user_id,o.member.device_id,o.member.id);case"session":return"".concat(n.getSender(),":").concat(o.device_id)}})()}},{key:"computeRtcIdentityRaw",value:function(t,n,s){return(0,a.default)(function*(){var a="".concat(t,"|").concat(n,"|").concat(s),o=yield(0,r(d[9]).sha256)(a);return(0,r(d[10]).encodeUnpaddedBase64Url)(o)})()}},{key:"membershipDataFromMatrixEvent",value:function(t){var n=[t.getId(),t.getSender(),t.getContent()],s=n[1],a=n[2];if(void 0===n[0])throw new Error("parentEvent is missing eventId field");if(void 0===s)throw new Error("parentEvent is missing sender field");var o=[],c=[];if(l=o,"string"!=typeof(p=a).device_id&&l.push(" - device_id must be string"),"string"!=typeof p.call_id&&l.push(" - call_id must be string"),"string"!=typeof p.application&&l.push(" - application must be a string"),"string"!=typeof(null===(h=p.focus_active)||void 0===h?void 0:h.type)&&l.push(" - focus_active.type must be a string"),void 0===p.focus_active&&l.push(" - focus_active has an invalid type"),void 0===p.foci_preferred||Array.isArray(p.foci_preferred)&&p.foci_preferred.every(function(t){return"object"==typeof t&&null!==t&&"string"==typeof t.type})||l.push(" - foci_preferred must be an array of transport objects"),void 0!==p.created_ts&&"number"!=typeof p.created_ts&&l.push(" - created_ts must be number"),void 0!==p.scope&&"string"!=typeof p.scope&&l.push(" - scope must be string"),void 0!==p["m.call.intent"]&&"string"!=typeof p["m.call.intent"]&&l.push(" - m.call.intent must be a string"),0===l.length)return{kind:"session",data:a};if(u(a,c,s))return{kind:"rtc",data:a};var p,l,h,v=o.length<c.length?"Does not match MSC4143 m.call.member:\n".concat(o.join("\n"),"\n\n"):"Does not match MSC4143 m.rtc.member:\n".concat(c.join("\n"),"\n\n"),f="\nevent:\n"+JSON.stringify(a).replaceAll('"',"'");throw Error("unknown CallMembership data.\n"+v+f)}}])})()},841,[1,11,12,743,739,768,771,840,748,842,745]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.sha256=function(t){return o.apply(this,arguments)};var n=t(r(d[1]));function o(){return(o=(0,n.default)(function*(t){if(!globalThis.crypto.subtle)throw new Error("Crypto.subtle is not available: insecure context?");var n=(new TextEncoder).encode(t),o=yield globalThis.crypto.subtle.digest("SHA-256",n);return new Uint8Array(o)})).apply(this,arguments)}},842,[1,743]);
__d(function(g,_r,i,_a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.StickyEventMembershipManager=_e.MembershipManager=_e.MembershipActionType=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),a=e(_r(d[4])),o=e(_r(d[5])),s=e(_r(d[6])),l=e(_r(d[7])),u=e(_r(d[8])),c=e(_r(d[9]));function v(e,n,r,a){var o=(0,t.default)((0,s.default)(1&a?e.prototype:e),n,r);return 2&a&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function y(e,t,n){return t=(0,s.default)(t),(0,o.default)(e,h()?Reflect.construct(t,n||[],(0,s.default)(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=36e5,E=_e.MembershipActionType=(function(e){return e.SendDelayedEvent="SendDelayedEvent",e.SendJoinEvent="SendJoinEvent",e.RestartDelayedEvent="RestartDelayedEvent",e.UpdateExpiry="UpdateExpiry",e.SendScheduledDelayedLeaveEvent="SendScheduledDelayedLeaveEvent",e.SendLeaveEvent="SendLeaveEvent",e})({});function b(e,t){return{insert:[{ts:Date.now()+(null!=t?t:0),type:e}]}}function S(e,t){return{replace:[{ts:Date.now()+(null!=t?t:0),type:e}]}}var M=_e.MembershipManager=(function(e){function t(e,n,a,o,s){var l;(0,r.default)(this,t),(l=y(this,t)).joinConfig=e,l.room=n,l.client=a,l.slotDescription=o,(0,c.default)(l,"activated",!1),(0,c.default)(l,"logger",void 0),(0,c.default)(l,"callIntent",void 0),(0,c.default)(l,"leavePromiseResolvers",void 0),(0,c.default)(l,"_ownMembership",void 0),(0,c.default)(l,"oldStatus",void 0),(0,c.default)(l,"scheduler",void 0),(0,c.default)(l,"state",void 0),(0,c.default)(l,"deviceId",void 0),(0,c.default)(l,"userId",void 0),(0,c.default)(l,"stateKey",void 0),(0,c.default)(l,"rtcTransport",void 0),(0,c.default)(l,"fociPreferred",void 0),(0,c.default)(l,"delayedLeaveEventDelayMsOverride",void 0),(0,c.default)(l,"clientSendDelayedDisconnectMembership",function(){return l.client._unstable_sendDelayedStateEvent(l.room.roomId,{delay:l.delayedLeaveEventDelayMs},_r(d[10]).EventType.GroupCallMemberPrefix,{},l.stateKey)}),(0,c.default)(l,"clientSendMembership",function(e){return l.client.sendStateEvent(l.room.roomId,_r(d[10]).EventType.GroupCallMemberPrefix,e,l.stateKey)}),l.logger=(null!=s?s:_r(d[11]).logger).getChild("[MembershipManager]");var u=[l.client.getUserId(),l.client.getDeviceId()],v=u[0],h=u[1];if(null===v)throw Error("Missing userId in client");if(null===h)throw Error("Missing deviceId in client");return l.deviceId=h,l.userId=v,l.stateKey=l.makeMembershipStateKey(v,h),l.state=t.defaultState,l.callIntent=null==e?void 0:e.callIntent,l.scheduler=new(_r(d[12]).ActionScheduler)(function(e){return l.oldStatus&&(l.logger.debug("MembershipManager applied action changes. Status: ".concat(l.oldStatus," -> ").concat(l.status)),l.oldStatus!==l.status&&l.emit(_r(d[13]).MembershipManagerEvent.StatusChanged,l.oldStatus,l.status)),l.oldStatus=l.status,l.logger.debug("MembershipManager before processing action. status=".concat(l.oldStatus)),l.membershipLoopHandler(e)},l.logger),l}return(0,l.default)(t,e),(0,a.default)(t,[{key:"isActivated",value:function(){return this.activated}},{key:"isJoined",value:function(){return this.isActivated()}},{key:"join",value:function(e,n,r){var a=this;this.scheduler.running?this.logger.error("MembershipManager is already running. Ignoring join request."):(this.fociPreferred=e,this.rtcTransport=n,this.leavePromiseResolvers=void 0,this.activated=!0,this.oldStatus=this.status,this.state=t.defaultState,this.scheduler.startWithJoin().catch(function(e){a.logger.error("MembershipManager stopped because: ",e),null==r||r(e)}).finally(function(){var e;(a.activated=!1,a.oldStatus&&a.oldStatus!==a.status&&a.emit(_r(d[13]).MembershipManagerEvent.StatusChanged,a.oldStatus,a.status),a.scheduler.running)||(null===(e=a.leavePromiseResolvers)||void 0===e||e.resolve(!0),a.leavePromiseResolvers=void 0)}))}},{key:"leave",value:function(e){var t=this;return this.scheduler.running?(this.leavePromiseResolvers||(this.leavePromiseResolvers=Promise.withResolvers(),this.activated=!1,this.scheduler.initiateLeave(),e&&setTimeout(function(){var e;return null===(e=t.leavePromiseResolvers)||void 0===e?void 0:e.resolve(!1)},e)),this.leavePromiseResolvers.promise):(this.logger.warn("Called MembershipManager.leave() even though the MembershipManager is not running"),Promise.resolve(!0))}},{key:"onRTCSessionMemberUpdate",value:function(e){var t=this;if(!this.isActivated())return Promise.resolve();if(this._ownMembership=e.find(function(e){return(0,_r(d[14]).isMyMembership)(e,t.userId,t.deviceId)}),!this._ownMembership){var n=[E.SendDelayedEvent,E.SendJoinEvent];this.logger.warn("Missing own membership: force re-join"),this.state.hasMemberStateEvent=!1,this.scheduler.actions.some(function(e){return n.includes(e.type)})?this.logger.error("tried adding another `SendDelayedEvent` actions even though we already have one in the Queue\nActionQueueOnMemberUpdate:",this.scheduler.actions):this.scheduler.initiateJoin()}return Promise.resolve()}},{key:"updateCallIntent",value:function(e){var t=this;return(0,u.default)(function*(){if(!t.activated||!t.ownMembership)throw Error("You cannot update your intent before joining the call");t.ownMembership.callIntent!==e&&(t.callIntent=e,yield t.sendJoinEvent())})()}},{key:"ownMembership",get:function(){return this._ownMembership}},{key:"networkErrorRetryMs",get:function(){var e,t;return null!==(e=null===(t=this.joinConfig)||void 0===t?void 0:t.networkErrorRetryMs)&&void 0!==e?e:3e3}},{key:"membershipEventExpiryMs",get:function(){var e,t;return null!==(e=null===(t=this.joinConfig)||void 0===t?void 0:t.membershipEventExpiryMs)&&void 0!==e?e:_r(d[15]).DEFAULT_EXPIRE_DURATION}},{key:"membershipEventExpiryHeadroomMs",get:function(){var e,t;return null!==(e=null===(t=this.joinConfig)||void 0===t?void 0:t.membershipEventExpiryHeadroomMs)&&void 0!==e?e:5e3}},{key:"computeNextExpiryActionTs",value:function(e){return this.state.startTime+Math.min(this.membershipEventExpiryMs,m)*e-this.membershipEventExpiryHeadroomMs}},{key:"delayedLeaveEventDelayMs",get:function(){var e,t,n;return null!==(e=null!==(t=this.delayedLeaveEventDelayMsOverride)&&void 0!==t?t:null===(n=this.joinConfig)||void 0===n?void 0:n.delayedLeaveEventDelayMs)&&void 0!==e?e:8e3}},{key:"delayedLeaveEventRestartMs",get:function(){var e,t;return null!==(e=null===(t=this.joinConfig)||void 0===t?void 0:t.delayedLeaveEventRestartMs)&&void 0!==e?e:5e3}},{key:"maximumRateLimitRetryCount",get:function(){var e,t;return null!==(e=null===(t=this.joinConfig)||void 0===t?void 0:t.maximumRateLimitRetryCount)&&void 0!==e?e:10}},{key:"maximumNetworkErrorRetryCount",get:function(){var e,t;return null!==(e=null===(t=this.joinConfig)||void 0===t?void 0:t.maximumNetworkErrorRetryCount)&&void 0!==e?e:10}},{key:"delayedLeaveEventRestartLocalTimeoutMs",get:function(){var e,t;return null!==(e=null===(t=this.joinConfig)||void 0===t?void 0:t.delayedLeaveEventRestartLocalTimeoutMs)&&void 0!==e?e:2e3}},{key:"membershipLoopHandler",value:function(e){var t=this;return(0,u.default)(function*(){switch(e){case E.SendDelayedEvent:return t.state.delayId?t.cancelKnownDelayIdBeforeSendDelayedEvent(t.state.delayId):t.sendOrResendDelayedLeaveEvent();case E.RestartDelayedEvent:return t.state.delayId?t.restartDelayedEvent(t.state.delayId):b(E.SendDelayedEvent);case E.SendScheduledDelayedLeaveEvent:return t.state.hasMemberStateEvent?t.state.delayId?t.sendScheduledDelayedLeaveEventOrFallbackToSendLeaveEvent(t.state.delayId):b(E.SendLeaveEvent):{replace:[]};case E.SendJoinEvent:return t.sendJoinEvent();case E.UpdateExpiry:return t.updateExpiryOnJoinedEvent();case E.SendLeaveEvent:return t.state.hasMemberStateEvent?t.sendFallbackLeaveEvent():{replace:[]}}})()}},{key:"sendOrResendDelayedLeaveEvent",value:function(){var e=this;return(0,u.default)(function*(){return yield e.clientSendDelayedDisconnectMembership().then(function(t){return e.state.expectedServerDelayLeaveTs=Date.now()+e.delayedLeaveEventDelayMs,e.setAndEmitProbablyLeft(!1),e.resetRateLimitCounter(E.SendDelayedEvent),e.setAndEmitDelayId(t.delay_id),e.state.hasMemberStateEvent?b(E.RestartDelayedEvent,e.delayedLeaveEventRestartMs):b(E.SendJoinEvent)}).catch(function(t){var n=E.SendDelayedEvent;if(e.manageMaxDelayExceededSituation(t))return b(n);var r=e.actionUpdateFromErrors(t,n,"_unstable_sendDelayedStateEvent");if(r)return r;if(e.state.hasMemberStateEvent){if(e.isUnsupportedDelayedEndpoint(t))return{};throw Error("Could not send delayed event, even though delayed events are supported. "+t)}return e.isUnsupportedDelayedEndpoint(t)?e.logger.info("Not using delayed event because the endpoint is not supported"):e.logger.info("Not using delayed event because: "+t),b(E.SendJoinEvent)})})()}},{key:"cancelKnownDelayIdBeforeSendDelayedEvent",value:function(e){var t=this;return(0,u.default)(function*(){return yield t.client._unstable_cancelScheduledDelayedEvent(e).then(function(){return t.setAndEmitDelayId(void 0),t.resetRateLimitCounter(E.SendDelayedEvent),S(E.SendDelayedEvent)}).catch(function(e){var n=E.SendDelayedEvent,r=t.actionUpdateFromErrors(e,n,"cancelScheduledDelayedEvent");if(r)return r;if(t.isNotFoundError(e))return t.setAndEmitDelayId(void 0),S(n);if(t.isUnsupportedDelayedEndpoint(e))return S(E.SendJoinEvent);throw Error("We failed to cancel a delayed event where we already had a delay id with an error we cannot automatically handle")})})()}},{key:"setAndEmitProbablyLeft",value:function(e){this.state.probablyLeft!==e&&(this.state.probablyLeft=e,this.emit(_r(d[13]).MembershipManagerEvent.ProbablyLeft,this.state.probablyLeft))}},{key:"setAndEmitDelayId",value:function(e){this.state.delayId!==e&&(this.state.delayId=e,this.emit(_r(d[13]).MembershipManagerEvent.DelayIdChanged,this.state.delayId))}},{key:"restartDelayedEvent",value:function(e){var t=this;return(0,u.default)(function*(){var n=t.state.expectedServerDelayLeaveTs?t.state.expectedServerDelayLeaveTs-Date.now():void 0,r=new Promise(function(e,r){setTimeout(function(){r(new(_r(d[16]).AbortError)("Restart delayed event timed out before the HS responded"))},void 0===n||t.state.probablyLeft?t.delayedLeaveEventRestartLocalTimeoutMs:Math.min(t.delayedLeaveEventRestartLocalTimeoutMs,n))});return yield Promise.race([t.client._unstable_restartScheduledDelayedEvent(e),r]).then(function(){return t.state.expectedServerDelayLeaveTs=Date.now()+t.delayedLeaveEventDelayMs,t.resetRateLimitCounter(E.RestartDelayedEvent),t.setAndEmitProbablyLeft(!1),b(E.RestartDelayedEvent,t.delayedLeaveEventRestartMs)}).catch(function(e){t.state.expectedServerDelayLeaveTs&&t.state.expectedServerDelayLeaveTs<=Date.now()&&t.setAndEmitProbablyLeft(!0);var n=E.RestartDelayedEvent;if(t.isNotFoundError(e))return t.setAndEmitDelayId(void 0),b(E.SendDelayedEvent);if(t.isUnsupportedDelayedEndpoint(e))return{};var r=t.actionUpdateFromErrors(e,n,"restartScheduledDelayedEvent");if(r)return r;throw Error("Could not restart delayed event, even though delayed events are supported. "+e)})})()}},{key:"sendScheduledDelayedLeaveEventOrFallbackToSendLeaveEvent",value:function(e){var t=this;return(0,u.default)(function*(){return yield t.client._unstable_sendScheduledDelayedEvent(e).then(function(){return t.state.hasMemberStateEvent=!1,t.resetRateLimitCounter(E.SendScheduledDelayedLeaveEvent),{replace:[]}}).catch(function(e){var n=E.SendLeaveEvent;if(t.isUnsupportedDelayedEndpoint(e))return{};if(t.isNotFoundError(e))return t.setAndEmitDelayId(void 0),b(n);var r=t.actionUpdateFromErrors(e,n,"sendScheduledDelayedEvent");return r||(t.logger.warn("Encountered unexpected error during SendScheduledDelayedLeaveEvent. Falling back to SendLeaveEvent",e),b(n))})})()}},{key:"sendJoinEvent",value:function(){var e=this;return(0,u.default)(function*(){return yield e.clientSendMembership(e.makeMyMembership(e.membershipEventExpiryMs)).then(function(){e.setAndEmitProbablyLeft(!1),e.state.startTime=Date.now(),e.state.expireUpdateIterations=1,e.state.hasMemberStateEvent=!0,e.resetRateLimitCounter(E.SendJoinEvent);var t=e.scheduler.actions.filter(function(e){return e.type!==E.UpdateExpiry&&e.type!==E.SendJoinEvent});return{replace:[].concat((0,n.default)(t),[{ts:Date.now(),type:E.RestartDelayedEvent},{ts:e.computeNextExpiryActionTs(e.state.expireUpdateIterations),type:E.UpdateExpiry}])}}).catch(function(t){var n=e.actionUpdateFromErrors(t,E.SendJoinEvent,"sendStateEvent");if(n)return n;throw t})})()}},{key:"updateExpiryOnJoinedEvent",value:function(){var e=this;return(0,u.default)(function*(){var t=e.state.expireUpdateIterations+1;return yield e.clientSendMembership(e.makeMyMembership(e.membershipEventExpiryMs*t)).then(function(){return e.resetRateLimitCounter(E.UpdateExpiry),e.state.expireUpdateIterations=t,{insert:[{ts:e.computeNextExpiryActionTs(t),type:E.UpdateExpiry}]}}).catch(function(t){var n=e.actionUpdateFromErrors(t,E.UpdateExpiry,"sendStateEvent");if(n)return n;throw t})})()}},{key:"sendFallbackLeaveEvent",value:function(){var e=this;return(0,u.default)(function*(){return yield e.clientSendMembership({}).then(function(){return e.resetRateLimitCounter(E.SendLeaveEvent),e.state.hasMemberStateEvent=!1,{replace:[]}}).catch(function(t){var n=e.actionUpdateFromErrors(t,E.SendLeaveEvent,"sendStateEvent");if(n)return n;throw t})})()}},{key:"makeMembershipStateKey",value:function(e,t){var n="".concat(e,"_").concat(t,"_").concat(this.slotDescription.application).concat(this.slotDescription.id);return/^org\.matrix\.msc(3757|3779)\b/.exec(this.room.getVersion())?n:"_".concat(n)}},{key:"makeMyMembership",value:function(e){var t,r,a=this.ownMembership,o=void 0===this.rtcTransport?{focus_active:{type:"livekit",focus_selection:"oldest_membership"},foci_preferred:null!==(t=this.fociPreferred)&&void 0!==t?t:[]}:{focus_active:{type:"livekit",focus_selection:"multi_sfu"},foci_preferred:[this.rtcTransport].concat((0,n.default)(null!==(r=this.fociPreferred)&&void 0!==r?r:[]))};return f(f({application:this.slotDescription.application,call_id:this.slotDescription.id,scope:"m.room",device_id:this.deviceId,membershipID:"".concat(this.userId,":").concat(this.deviceId),expires:e,"m.call.intent":this.callIntent},o),void 0!==a?{created_ts:a.createdTs()}:void 0)}},{key:"isNotFoundError",value:function(e){return e instanceof _r(d[17]).MatrixError&&"M_NOT_FOUND"===e.errcode}},{key:"manageMaxDelayExceededSituation",value:function(e){if(e instanceof _r(d[17]).MatrixError&&"M_UNKNOWN"===e.errcode&&"M_MAX_DELAY_EXCEEDED"===e.data["org.matrix.msc4140.errcode"]){var t=e.data["org.matrix.msc4140.max_delay"];return"number"==typeof t&&this.delayedLeaveEventDelayMs>t&&(this.delayedLeaveEventDelayMsOverride=t),this.logger.warn("Retry sending delayed disconnection event due to server timeout limitations:",e),!0}return!1}},{key:"actionUpdateFromErrors",value:function(e,t,n){var r=this.actionUpdateFromRateLimitError(e,n,t);if(r)return r;var a=this.actionUpdateFromNetworkErrorRetry(e,t);return a||void 0}},{key:"actionUpdateFromRateLimitError",value:function(e,t,n){var r;if((e instanceof _r(d[17]).HTTPError||e instanceof _r(d[17]).MatrixError)&&e.isRateLimitError()){var a=null!==(r=this.state.rateLimitRetries.get(n))&&void 0!==r?r:0;if(a<this.maximumRateLimitRetryCount){var o,s=5e3;try{var l;o=null!==(l=e.getRetryAfterMs())&&void 0!==l?l:s,this.logger.info("Rate limited by server, retrying in ".concat(o,"ms"))}catch(e){this.logger.warn("Error while retrieving a rate-limit retry delay, retrying after default delay of ".concat(s),e),o=s}return this.state.rateLimitRetries.set(n,a+1),b(n,o)}throw Error("Exceeded maximum retries for "+n+" attempts (client."+t+")",{cause:e})}}},{key:"actionUpdateFromNetworkErrorRetry",value:function(e,t){var n,r=null!==(n=this.state.networkErrorRetries.get(t))&&void 0!==n?n:0,a=this.networkErrorRetryMs/1e3+"s",o="("+r+"/"+this.maximumNetworkErrorRetryCount+")",s=this.networkErrorRetryMs;if(e instanceof Error&&"AbortError"===e.name)s=0,this.logger.warn("Network local timeout error while sending event, immediate retry ("+o+")",e);else if(e instanceof Error&&e.message.includes("updating delayed event"))this.logger.warn("delayed event update timeout error, retrying in "+a+" "+o,e);else if(e instanceof _r(d[17]).ConnectionError)this.logger.warn("Network connection error while sending event, retrying in "+a+" "+o,e);else{if(!((e instanceof _r(d[17]).HTTPError||e instanceof _r(d[17]).MatrixError)&&"number"==typeof e.httpStatus&&e.httpStatus>=500&&e.httpStatus<600))return;this.logger.warn("Server error while sending event, retrying in "+a+" "+o,e)}if(r<this.maximumNetworkErrorRetryCount)return this.state.networkErrorRetries.set(t,r+1),b(t,s);throw Error("Reached maximum ("+this.maximumNetworkErrorRetryCount+") retries cause by: "+e)}},{key:"isUnsupportedDelayedEndpoint",value:function(e){return e instanceof _r(d[18]).UnsupportedDelayedEventsEndpointError}},{key:"resetRateLimitCounter",value:function(e){this.state.rateLimitRetries.set(e,0),this.state.networkErrorRetries.set(e,0)}},{key:"status",get:function(){var e=this.scheduler.actions;if(1===e.length)switch(e[0].type){case E.SendDelayedEvent:case E.SendJoinEvent:return _r(d[14]).Status.Connecting;case E.UpdateExpiry:return _r(d[14]).Status.Connected;case E.SendScheduledDelayedLeaveEvent:case E.SendLeaveEvent:return _r(d[14]).Status.Disconnecting}else if(2===e.length){var t=e.map(function(e){return e.type});if((t.includes(E.RestartDelayedEvent)||t.includes(E.SendDelayedEvent)&&this.state.hasMemberStateEvent)&&t.includes(E.UpdateExpiry))return _r(d[14]).Status.Connected}else if(3===e.length){var n=e.map(function(e){return e.type});if(2===n.filter(function(e){return e===E.RestartDelayedEvent}).length&&n.includes(E.UpdateExpiry))return _r(d[14]).Status.Connected}return this.scheduler.running?(this.logger.error("MembershipManager has an unknown state. Actions: ",e),_r(d[14]).Status.Unknown):_r(d[14]).Status.Disconnected}},{key:"probablyLeft",get:function(){return this.state.probablyLeft}},{key:"delayId",get:function(){return this.state.delayId}}],[{key:"defaultState",get:function(){return{hasMemberStateEvent:!1,delayId:void 0,startTime:0,rateLimitRetries:new Map,networkErrorRetries:new Map,expireUpdateIterations:1,probablyLeft:!1}}}])})(_r(d[19]).TypedEventEmitter),D=_e.StickyEventMembershipManager=(function(e){function t(e,n,a,o,s,l){var u;return(0,r.default)(this,t),(u=y(this,t,[e,n,a,o,l])).clientWithSticky=a,u.memberId=s,(0,c.default)(u,"clientSendDelayedDisconnectMembership",function(){return u.clientWithSticky._unstable_sendStickyDelayedEvent(u.room.roomId,m,{delay:u.delayedLeaveEventDelayMs},null,_r(d[10]).EventType.RTCMembership,{msc4354_sticky_key:u.memberId})}),(0,c.default)(u,"clientSendMembership",function(e){return u.clientWithSticky._unstable_sendStickyEvent(u.room.roomId,m,null,_r(d[10]).EventType.RTCMembership,f(f({},e),{},{msc4354_sticky_key:u.memberId}))}),u}return(0,l.default)(t,e),(0,a.default)(t,[{key:"actionUpdateFromErrors",value:function(e,n,r){var a;return v(t,"actionUpdateFromErrors",this,3)([e,n,null!==(a=t.nameMap.get(r))&&void 0!==a?a:"unknown"])}},{key:"makeMyMembership",value:function(e){var t=this.ownMembership,n=null!=t&&t.eventId?{"m.relation":{rel_type:_r(d[10]).RelationType.Reference,event_id:null==t?void 0:t.eventId}}:{};return f({application:f({type:this.slotDescription.application},this.callIntent?{"m.call.intent":this.callIntent}:{}),slot_id:(0,_r(d[20]).slotDescriptionToId)(this.slotDescription),rtc_transports:this.rtcTransport?[this.rtcTransport]:[],member:{device_id:this.deviceId,user_id:this.userId,id:this.memberId},versions:[]},n)}}])})(M);(0,c.default)(D,"nameMap",new Map([["sendStateEvent","_unstable_sendStickyEvent"],["sendDelayedStateEvent","_unstable_sendStickyDelayedEvent"]]))},843,[1,21,42,11,12,18,20,23,743,739,765,746,844,845,846,841,751,818,847,762,840]);
__d(function(g,r,i,_a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ActionScheduler=void 0;var n=e(r(d[1])),t=e(r(d[2])),a=e(r(d[3])),o=e(r(d[4])),l=e(r(d[5]));_e.ActionScheduler=(function(){return(0,a.default)(function e(n,a){var o=this;(0,t.default)(this,e),this.membershipLoopHandler=n,(0,l.default)(this,"logger",void 0),(0,l.default)(this,"running",!1),(0,l.default)(this,"wakeup",function(e){o.logger.error("Cannot call wakeup before calling `startWithJoin()`")}),(0,l.default)(this,"_actions",[]),this.logger=(null!=a?a:r(d[6]).logger).getChild("[NewMembershipActionScheduler]")},[{key:"actions",get:function(){return this._actions}},{key:"startWithJoin",value:function(){var e=this;return(0,o.default)(function*(){if(e.running)e.logger.error("Cannot call startWithJoin() on NewMembershipActionScheduler while already running");else{e.running=!0,e._actions=[{ts:Date.now(),type:r(d[7]).MembershipActionType.SendDelayedEvent}];try{for(var t=function*(){e._actions.sort(function(e,n){return e.ts-n.ts});var t=e._actions[0],a=void 0,o=new Promise(function(n){e.wakeup=function(e){a=e,n()}});t.ts>Date.now()&&(yield Promise.race([o,(0,r(d[8]).sleep)(t.ts-Date.now())]));var l={};if(!a){e.logger.debug("Current MembershipManager processing: ".concat(t.type,"\nQueue:"),e._actions,"\nDate.now: \"".concat(Date.now()));try{l=yield e.membershipLoopHandler(t.type)}catch(e){throw Error("The MembershipManager shut down because of the end condition: ".concat(e))}}e._actions.splice(0,1);var c=null!=a?a:l;if("replace"in c)e._actions=c.replace;else if("insert"in c){var s;(s=e._actions).push.apply(s,(0,n.default)(c.insert))}};e._actions.length>0;)yield*t()}finally{e.running=!1}e.logger.debug("Leave MembershipManager ActionScheduler loop (no more actions)")}})()}},{key:"initiateJoin",value:function(){var e;null===(e=this.wakeup)||void 0===e||e.call(this,{replace:[{ts:Date.now(),type:r(d[7]).MembershipActionType.SendDelayedEvent}]})}},{key:"initiateLeave",value:function(){var e;null===(e=this.wakeup)||void 0===e||e.call(this,{replace:[{ts:Date.now(),type:r(d[7]).MembershipActionType.SendScheduledDelayedLeaveEvent}]})}}])})()},844,[1,42,11,12,743,739,746,843,748]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.MembershipManagerEvent=void 0;e.MembershipManagerEvent=(function(n){return n.StatusChanged="StatusChanged",n.ProbablyLeft="ProbablyLeft",n.DelayIdChanged="DelayIdChanged",n})({})},845,[]);
__d(function(g,_r,i,a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.isMyMembership=_e.Status=void 0,_e.parseCallNotificationContent=function(e){if(e["m.mentions"]&&"object"!=typeof e["m.mentions"])throw new Error("malformed m.mentions");if("string"!=typeof e.notification_type)throw new Error("Missing or invalid notification_type");if("number"!=typeof e.sender_ts)throw new Error("Missing or invalid sender_ts");if("number"!=typeof e.lifetime)throw new Error("Missing or invalid lifetime");if(e.relation&&"m.reference"!==e.relation.rel_type)throw new Error("Invalid relation");if(e["m.call.intent"]&&"string"!=typeof e["m.call.intent"])throw new Error("Invalid m.call.intent");var n=e.lifetime>=9e4?9e4:e.lifetime;return r(r({},e),{},{lifetime:n})};var n=e(_r(d[1]));function t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(t){(0,n.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}_e.Status=(function(e){return e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Unknown="Unknown",e})({}),_e.isMyMembership=function(e,n,t){return e.sender===n&&e.deviceId===t}},846,[1,739]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnsupportedStickyEventsEndpointError=_e.UnsupportedDelayedEventsEndpointError=_e.KeySignatureUploadError=_e.InvalidCryptoStoreState=_e.InvalidCryptoStoreError=_e.ClientStoppedError=void 0;var e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),l=t(r(d[5])),f=t(r(d[6])),p=t(r(d[7]));function c(t,e,n){return e=(0,u.default)(e),(0,o.default)(t,s()?Reflect.construct(e,n||[],(0,u.default)(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}var E=_e.InvalidCryptoStoreState=(function(t){return t.TooNew="TOO_NEW",t})({}),v=_e.InvalidCryptoStoreError=(function(t){function o(t){var e;return(0,n.default)(this,o),(e=c(this,o,["Crypto store is invalid because ".concat(t,", ")+"please stop the client, delete all data and start the client again"])).reason=t,e.name="InvalidCryptoStoreError",e}return(0,l.default)(o,t),(0,e.default)(o)})((0,f.default)(Error));(0,p.default)(v,"TOO_NEW",E.TooNew);_e.KeySignatureUploadError=(function(t){function o(t,e){var u;return(0,n.default)(this,o),(u=c(this,o,[t])).value=e,u}return(0,l.default)(o,t),(0,e.default)(o)})((0,f.default)(Error)),_e.ClientStoppedError=(function(t){function o(){return(0,n.default)(this,o),c(this,o,["MatrixClient has been stopped"])}return(0,l.default)(o,t),(0,e.default)(o)})((0,f.default)(Error)),_e.UnsupportedDelayedEventsEndpointError=(function(t){function o(t,e){var u;return(0,n.default)(this,o),(u=c(this,o,[t])).clientEndpoint=e,u.name="UnsupportedDelayedEventsEndpointError",u}return(0,l.default)(o,t),(0,e.default)(o)})((0,f.default)(Error)),_e.UnsupportedStickyEventsEndpointError=(function(t){function o(t,e){var u;return(0,n.default)(this,o),(u=c(this,o,[t])).clientEndpoint=e,u.name="UnsupportedStickyEventsEndpointError",u}return(0,l.default)(o,t),(0,e.default)(o)})((0,f.default)(Error))},847,[1,12,11,18,20,23,144,739]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ToDeviceKeyTransport=_e.NotSupportedError=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),l=e(r(d[6])),u=e(r(d[7])),v=e(r(d[8]));function f(e,t,n){return t=(0,s.default)(t),(0,o.default)(e,y()?Reflect.construct(t,n||[],(0,s.default)(e).constructor):t.apply(e,n))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var p=_e.NotSupportedError=(function(e){function o(e){return(0,t.default)(this,o),f(this,o,[e])}return(0,c.default)(o,e),(0,n.default)(o,[{key:"name",get:function(){return"NotSupportedError"}}])})((0,l.default)(Error));_e.ToDeviceKeyTransport=(function(e){function o(e,n,s,c,l){var u;return(0,t.default)(this,o),(u=f(this,o)).membership=e,u.roomId=n,u.client=s,u.statistics=c,(0,v.default)(u,"logger",r(d[9]).logger),(0,v.default)(u,"onToDeviceEvent",function(e){if(e.getType()===r(d[10]).EventType.CallEncryptionKeysPrefix){var t=u.getValidEventContent(e);t&&e.getSender()&&u.receiveCallKeyEvent(e.getSender(),t)}}),u.setParentLogger(null!=l?l:r(d[9]).logger),u}return(0,c.default)(o,e),(0,n.default)(o,[{key:"setParentLogger",value:function(e){this.logger=e.getChild("[ToDeviceKeyTransport]")}},{key:"start",value:function(){this.client.on(r(d[11]).ClientEvent.ToDeviceEvent,this.onToDeviceEvent)}},{key:"stop",value:function(){this.client.off(r(d[11]).ClientEvent.ToDeviceEvent,this.onToDeviceEvent)}},{key:"sendKey",value:function(e,t,n){var o=this;return(0,u.default)(function*(){var s={keys:{index:t,key:e},room_id:o.roomId,member:{claimed_device_id:o.membership.deviceId,id:o.membership.memberId},session:{call_id:"",application:"m.call",scope:"m.room"},sent_ts:Date.now()},c=n.map(function(e){return{userId:e.userId,deviceId:e.deviceId}}).filter(function(e){return!(e.userId==o.membership.userId&&e.deviceId==o.membership.deviceId)});c.length>0?(yield o.client.encryptAndSendToDevice(r(d[10]).EventType.CallEncryptionKeysPrefix,c,s).catch(function(e){var t=e.message;if(t.includes("unknown variant")&&t.includes("send_to_device")||t.includes("not supported"))throw new p("The widget driver does not support to-device encryption")}),o.statistics.counters.roomEventEncryptionKeysSent+=1):o.logger.warn("No targets found for sending key")})()}},{key:"receiveCallKeyEvent",value:function(e,t){var n;this.statistics.counters.roomEventEncryptionKeysReceived+=1;var o=Date.now(),s=o-("number"==typeof t.sent_ts?t.sent_ts:o);this.statistics.totals.roomEventEncryptionKeysReceivedTotalAge+=s;var c="".concat(e,":").concat(t.member.claimed_device_id);this.emit(r(d[12]).KeyTransportEvents.ReceivedKeys,{userId:e,deviceId:t.member.claimed_device_id,memberId:null!==(n=t.member.id)&&void 0!==n?n:c},t.keys.key,t.keys.index,o)}},{key:"getValidEventContent",value:function(e){var t=e.getContent(),n=t.room_id;if(n)if(n===this.roomId)if(t.keys&&t.keys.key&&"number"==typeof t.keys.index){if(t.member&&t.member.claimed_device_id)return t;this.logger.warn("Malformed Event: Missing claimed_device_id")}else this.logger.warn("Malformed Event: Missing keys field");else this.logger.warn("Malformed Event: Mismatch roomId");else this.logger.warn("Malformed Event: invalid call encryption keys event, no roomId")}}])})(r(d[13]).TypedEventEmitter)},848,[1,11,12,18,20,23,144,743,739,746,765,796,849,762]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyTransportEvents=void 0;e.KeyTransportEvents=(function(o){return o.ReceivedKeys="received_keys",o.NotSupportedError="not_supported_error",o})({})},849,[]);
__d(function(g,r,i,a,_m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RTCEncryptionManager=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5]));e.RTCEncryptionManager=(function(){return(0,s.default)(function t(n,s,u,l,y,h,v){var p=this;(0,o.default)(this,t),this.ownMembership=n,this.getMemberships=s,this.transport=u,this.statistics=l,this.onEncryptionKeysChanged=y,(0,c.default)(this,"manageMediaKeys",!1),(0,c.default)(this,"useHashedRtcBackendIdentity",!1),(0,c.default)(this,"ownRtcBackendIdentityCache",void 0),(0,c.default)(this,"participantKeyRings",new Map),(0,c.default)(this,"outboundSession",null),(0,c.default)(this,"currentKeyDistributionPromise",null),(0,c.default)(this,"useKeyDelay",5e3),(0,c.default)(this,"keyRotationGracePeriodMs",1e4),(0,c.default)(this,"needToEnsureKeyAgain",!1),(0,c.default)(this,"keyBuffer",new(r(d[6]).OutdatedKeyFilter)),(0,c.default)(this,"logger",void 0),(0,c.default)(this,"rtcIdentityProvider",void 0),(0,c.default)(this,"keysWithoutMatchingRTCMembership",[]),(0,c.default)(this,"onNewKeyReceived",function(t,n,o,s){var u;if(p.manageMediaKeys){null===(u=p.logger)||void 0===u||u.debug("Received key over transport ".concat(t.userId,":").concat(t.deviceId," at index ").concat(o));var c,l={key:(0,r(d[7]).decodeBase64)(n),membership:t,keyIndex:o,creationTS:s};if(p.keyBuffer.isOutdated(t,l))null===(c=p.logger)||void 0===c||c.info("Received an out of order key for ".concat(t.userId,":").concat(t.deviceId,", dropping it"));else p.addKeyToParticipant(l.key,l.keyIndex,l.membership),p.statistics.counters.roomEventEncryptionKeysReceived+=1}else{var y;null===(y=p.logger)||void 0===y||y.warn("Received key over transport ".concat(t.userId,":").concat(t.deviceId," at index ").concat(o," but media keys are disabled"))}}),this.logger=null==h?void 0:h.getChild("[EncryptionManager]"),this.rtcIdentityProvider=null!=v?v:r(d[8]).CallMembership.computeRtcIdentityRaw},[{key:"getOwnRtcBackendIdentity",value:function(){var t=this;return(0,u.default)(function*(){if(t.ownRtcBackendIdentityCache)return t.ownRtcBackendIdentityCache;if(t.useHashedRtcBackendIdentity){var n,o=t.ownMembership,s=o.userId,u=o.deviceId,c=o.memberId;null===(n=t.logger)||void 0===n||n.info("Computing RTC backend identity for ".concat(s,":").concat(u,":").concat(c," (SHOULD ONLY BE CALLED ONCE)")),t.ownRtcBackendIdentityCache=yield t.rtcIdentityProvider(s,u,c)}else t.ownRtcBackendIdentityCache="".concat(t.ownMembership.userId,":").concat(t.ownMembership.deviceId);return t.ownRtcBackendIdentityCache})()}},{key:"getEncryptionKeys",value:function(){return new Map(this.participantKeyRings)}},{key:"checkKeysWithoutMatchingRTCMembership",value:function(){var t=this,n=this.keysWithoutMatchingRTCMembership;this.keysWithoutMatchingRTCMembership=[],n.forEach(function(n){t.addKeyToParticipant(n.key,n.keyIndex,n.membership)})}},{key:"addKeyToParticipant",value:function(t,n,o){var s,u=this.getMemberships().find(function(t){return t.userId===o.userId&&t.deviceId===o.deviceId});if(!u)return null===(s=this.logger)||void 0===s||s.info("No matching RTC membership for key from ".concat(o.userId,":").concat(o.deviceId,", delaying key addition")),void this.keysWithoutMatchingRTCMembership.push({key:t,keyIndex:n,membership:o});this.addKeyToParticipantWithBackendIdentity(t,n,o,u.rtcBackendIdentity)}},{key:"addKeyToParticipantWithBackendIdentity",value:function(t,n,o,s){var u=(0,r(d[9]).getEncryptionKeyMapKey)(o);this.participantKeyRings.has(u)||this.participantKeyRings.set(u,[]),this.participantKeyRings.get(u).push({key:t,keyIndex:n,membership:o,rtcBackendIdentity:s}),this.onEncryptionKeysChanged(t,n,o,s)}},{key:"join",value:function(t){var n,o,s,u,c;this.manageMediaKeys=null===(n=null==t?void 0:t.manageMediaKeys)||void 0===n||n,this.useHashedRtcBackendIdentity=null!==(o=null==t?void 0:t.unstableSendStickyEvents)&&void 0!==o&&o,this.useKeyDelay=null!==(s=null==t?void 0:t.useKeyDelay)&&void 0!==s?s:1e3,this.keyRotationGracePeriodMs=null!==(u=null==t?void 0:t.keyRotationGracePeriodMs)&&void 0!==u?u:1e4,this.transport.on(r(d[10]).KeyTransportEvents.ReceivedKeys,this.onNewKeyReceived),this.getOwnRtcBackendIdentity(),null===(c=this.logger)||void 0===c||c.info("Joining room"),this.transport.start()}},{key:"leave",value:function(){this.transport.off(r(d[10]).KeyTransportEvents.ReceivedKeys,this.onNewKeyReceived),this.transport.stop(),this.participantKeyRings.clear()}},{key:"ensureKeyDistribution",value:function(){var t,n,o=this;this.manageMediaKeys&&(null==this.currentKeyDistributionPromise?(null===(t=this.logger)||void 0===t||t.debug("No active rollout, start a new one"),this.currentKeyDistributionPromise=this.rolloutOutboundKey().then(function(){var t,n;(null===(t=o.logger)||void 0===t||t.debug("Rollout completed"),o.currentKeyDistributionPromise=null,o.needToEnsureKeyAgain)&&(null===(n=o.logger)||void 0===n||n.debug("New Rollout needed"),o.needToEnsureKeyAgain=!1,o.ensureKeyDistribution())})):(null===(n=this.logger)||void 0===n||n.debug("Rollout in progress, a new rollout will be started after the current one"),this.needToEnsureKeyAgain=!0))}},{key:"onMembershipsUpdate",value:function(){var t;null===(t=this.logger)||void 0===t||t.trace("onMembershipsUpdate"),this.ensureKeyDistribution(),this.checkKeysWithoutMatchingRTCMembership()}},{key:"rolloutOutboundKey",value:function(){var t=this;return(0,u.default)(function*(){var o,s;if(null==t.outboundSession){var u={key:t.generateRandomKey(),creationTS:Date.now(),sharedWith:[],keyId:0};t.outboundSession=u,t.addKeyToParticipantWithBackendIdentity(u.key,u.keyId,t.ownMembership,yield t.getOwnRtcBackendIdentity())}var c,l=t.getMemberships().filter(function(t){return null!=t.sender}).map(function(t){return{userId:t.sender,deviceId:t.deviceId,membershipTs:t.createdTs()}}),y=null!==(o=null===(s=t.outboundSession)||void 0===s?void 0:s.sharedWith)&&void 0!==o?o:[],h=(y=y.filter(function(t){return!l.some(function(n){return t.userId==n.userId&&t.deviceId==n.deviceId&&t.membershipTs!=n.membershipTs})})).filter(function(t){return!l.some(function(n){return t.userId==n.userId&&t.deviceId==n.deviceId&&t.membershipTs==n.membershipTs})}),v=l.filter(function(t){return!y.some(function(n){return t.userId==n.userId&&t.deviceId==n.deviceId&&t.membershipTs==n.membershipTs})}),p=[],f=!1;if(h.length>0){var k=t.createNewOutboundSession();f=!0,p=l,c=k}else{if(!(v.length>0))return;var I=Date.now()-t.outboundSession.creationTS;if(I<t.keyRotationGracePeriodMs){var m;null===(m=t.logger)||void 0===m||m.debug("New joiners detected, but the key is recent enough (age:".concat(I,"), keeping it")),p=v,c=t.outboundSession}else{var b;null===(b=t.logger)||void 0===b||b.debug("New joiners detected, rotating the key");var K=t.createNewOutboundSession();f=!0,p=l,c=K}}try{var R,M,w,T,B;if(null===(M=t.logger)||void 0===M||M.trace("Sending key..."),yield t.transport.sendKey((0,r(d[7]).encodeBase64)(c.key),c.keyId,p),t.statistics.counters.roomEventEncryptionKeysSent+=1,(R=c.sharedWith).push.apply(R,(0,n.default)(p)),null===(w=t.logger)||void 0===w||w.trace("key index:".concat(c.keyId," sent to ").concat(c.sharedWith.map(function(t){return"".concat(t.userId,":").concat(t.deviceId)}).join(","))),f)null===(T=t.logger)||void 0===T||T.trace("Delay Rollout for key:".concat(c.keyId,"...")),yield(0,r(d[11]).sleep)(t.useKeyDelay),null===(B=t.logger)||void 0===B||B.trace("...Delayed rollout of index:".concat(c.keyId," ")),t.addKeyToParticipantWithBackendIdentity(c.key,c.keyId,t.ownMembership,yield t.getOwnRtcBackendIdentity())}catch(n){var C;null===(C=t.logger)||void 0===C||C.error("Failed to rollout key",n)}})()}},{key:"createNewOutboundSession",value:function(){var t,n={key:this.generateRandomKey(),creationTS:Date.now(),sharedWith:[],keyId:this.nextKeyIndex()};return null===(t=this.logger)||void 0===t||t.info("creating new outbound key index:".concat(n.keyId)),this.outboundSession=n,n}},{key:"nextKeyIndex",value:function(){return this.outboundSession?(this.outboundSession.keyId+1)%256:0}},{key:"generateRandomKey",value:function(){var t=new Uint8Array(16);return globalThis.crypto.getRandomValues(t),t}}])})()},850,[1,42,11,12,743,739,851,745,841,852,849,748]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.OutdatedKeyFilter=void 0;var u=t(r(d[1])),n=t(r(d[2])),f=t(r(d[3]));e.OutdatedKeyFilter=(function(){return(0,n.default)(function t(){(0,u.default)(this,t),(0,f.default)(this,"tsBuffer",new Map)},[{key:"isOutdated",value:function(t,u){var n,f=(0,r(d[4]).getEncryptionKeyMapKey)(t);this.tsBuffer.has(f)||this.tsBuffer.set(f,new Map);var s=null===(n=this.tsBuffer.get(f))||void 0===n?void 0:n.get(u.keyIndex);return!!(s&&s>u.creationTS)||(this.tsBuffer.get(f).set(u.keyIndex,u.creationTS),!1)}}])})()},851,[1,11,12,739,852]);
__d(function(g,r,_i,_a,_m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.EncryptionManager=void 0,e.getEncryptionKeyMapKey=y;var n=t(r(d[1])),i=t(r(d[2])),s=t(r(d[3])),o=t(r(d[4])),a=t(r(d[5]));function y(t){return"".concat(t.userId,":").concat(t.deviceId,"(").concat(t.memberId,")")}e.EncryptionManager=(function(){return(0,s.default)(function t(n,s,y,u,c,h){var m=this;(0,i.default)(this,t);var p=this;this.membership=n,this.getMemberships=s,this.transport=y,this.statistics=u,this.onEncryptionKeysChanged=c,(0,a.default)(this,"manageMediaKeys",!1),(0,a.default)(this,"keysEventUpdateTimeout",void 0),(0,a.default)(this,"makeNewKeyTimeout",void 0),(0,a.default)(this,"setNewKeyTimeouts",new Set),(0,a.default)(this,"encryptionKeys",new Map),(0,a.default)(this,"lastEncryptionKeyUpdateRequest",void 0),(0,a.default)(this,"lastMembershipFingerprints",void 0),(0,a.default)(this,"latestGeneratedKeyIndex",-1),(0,a.default)(this,"joinConfig",void 0),(0,a.default)(this,"logger",void 0),(0,a.default)(this,"joined",!1),(0,a.default)(this,"sendEncryptionKeysEvent",(function(){var t=(0,o.default)(function*(t){if(void 0!==p.keysEventUpdateTimeout&&(clearTimeout(p.keysEventUpdateTimeout),p.keysEventUpdateTimeout=void 0),p.lastEncryptionKeyUpdateRequest=Date.now(),p.joined){var n=p.getKeysForParticipant(p.membership);if(n)if("number"==typeof t||-1!==p.latestGeneratedKeyIndex){var i=null!=t?t:p.latestGeneratedKeyIndex;p.logger.info("Try sending encryption keys event. keyIndexToSend=".concat(i," (method parameter: ").concat(t,")"));var s=n[i];try{p.statistics.counters.roomEventEncryptionKeysSent+=1;var o=p.getMemberships().filter(function(t){return null!=t.sender}).map(function(t){return{userId:t.sender,deviceId:t.deviceId,membershipTs:t.createdTs()}});yield p.transport.sendKey((0,r(d[6]).encodeUnpaddedBase64)(s),i,o),p.logger.debug("sendEncryptionKeysEvent participantId=".concat(p.membership.userId,":").concat(p.membership.deviceId," numKeys=").concat(n.length," currentKeyIndex=").concat(p.latestGeneratedKeyIndex," keyIndexToSend=").concat(i))}catch(t){if(void 0===p.keysEventUpdateTimeout){var a=(0,r(d[7]).safeGetRetryAfterMs)(t,5e3);p.logger.warn("Failed to send m.call.encryption_key, retrying in ".concat(a),t),p.keysEventUpdateTimeout=setTimeout(function(){p.sendEncryptionKeysEvent()},a)}else p.logger.info("Not scheduling key resend as another re-send is already pending")}}else p.logger.warn("Tried to send encryption keys event but no current key index found!");else p.logger.warn("Tried to send encryption keys event but no keys found!")}});return function(n){return t.apply(this,arguments)}})()),(0,a.default)(this,"onNewKeyReceived",function(t,n,i,s){m.logger.debug("Received key over key transport ".concat(t.userId,":").concat(t.deviceId," at index ").concat(i)),m.setEncryptionKey(t,i,n,s)}),(0,a.default)(this,"onRotateKeyTimeout",function(){if(m.manageMediaKeys){m.makeNewKeyTimeout=void 0,m.logger.info("Making new sender key for key rotation");var t=m.makeNewSenderKey(!0);m.sendEncryptionKeysEvent(t)}}),this.logger=(null!=h?h:r(d[8]).logger).getChild("[EncryptionManager]")},[{key:"updateEncryptionKeyThrottle",get:function(){var t,n;return null!==(t=null===(n=this.joinConfig)||void 0===n?void 0:n.updateEncryptionKeyThrottle)&&void 0!==t?t:3e3}},{key:"makeKeyDelay",get:function(){var t,n;return null!==(t=null===(n=this.joinConfig)||void 0===n?void 0:n.makeKeyDelay)&&void 0!==t?t:3e3}},{key:"useKeyDelay",get:function(){var t,n;return null!==(t=null===(n=this.joinConfig)||void 0===n?void 0:n.useKeyDelay)&&void 0!==t?t:5e3}},{key:"rtcBackendIdentityFromMembershipParts",value:function(t){return"".concat(t.userId,":").concat(t.deviceId)}},{key:"getEncryptionKeys",value:function(){var t=this,i=new Map;for(var s of this.encryptionKeys){var o=(0,n.default)(s,2),a=o[0],y=o[1].map(function(n,i){return{key:n.key,membership:n.membership,keyIndex:i,rtcBackendIdentity:t.rtcBackendIdentityFromMembershipParts(n.membership)}});i.set(a,y)}return i}},{key:"join",value:function(t){var n,i,s;this.joinConfig=t,this.joined=!0,this.manageMediaKeys=null!==(n=null===(i=this.joinConfig)||void 0===i?void 0:i.manageMediaKeys)&&void 0!==n?n:this.manageMediaKeys,this.transport.on(r(d[9]).KeyTransportEvents.ReceivedKeys,this.onNewKeyReceived),this.transport.start(),null!==(s=this.joinConfig)&&void 0!==s&&s.manageMediaKeys&&(this.makeNewSenderKey(),this.requestSendCurrentKey())}},{key:"leave",value:function(){for(var t of(this.encryptionKeys.set(y(this.membership),[]),this.transport.off(r(d[9]).KeyTransportEvents.ReceivedKeys,this.onNewKeyReceived),this.transport.stop(),void 0!==this.makeNewKeyTimeout&&(clearTimeout(this.makeNewKeyTimeout),this.makeNewKeyTimeout=void 0),this.setNewKeyTimeouts))clearTimeout(t);this.setNewKeyTimeouts.clear(),this.manageMediaKeys=!1,this.joined=!1}},{key:"onMembershipsUpdate",value:function(t){var n=this;if(this.manageMediaKeys&&this.joined){var i=new Set(t.filter(function(t){return!(0,r(d[10]).isMyMembership)(t,n.membership.userId,n.membership.deviceId)}).map(y)),s=new Set(this.getMemberships().filter(function(t){return!(0,r(d[10]).isMyMembership)(t,n.membership.userId,n.membership.deviceId)}).map(y)),o=Array.from(i).some(function(t){return!s.has(t)}),a=Array.from(s).some(function(t){return!i.has(t)}),u=this.lastMembershipFingerprints;if(this.storeLastMembershipFingerprints(),o)this.makeNewKeyTimeout||(this.logger.debug("Member(s) have left: queueing sender key rotation"),this.makeNewKeyTimeout=setTimeout(this.onRotateKeyTimeout,this.makeKeyDelay));else if(a)this.logger.debug("New member(s) have joined: re-sending keys"),this.requestSendCurrentKey();else if(u){var c=this.lastMembershipFingerprints;(Array.from(u).some(function(t){return!c.has(t)})||Array.from(c).some(function(t){return!u.has(t)}))&&(this.logger.debug("Member(s) have updated/reconnected: re-sending keys to everyone"),this.requestSendCurrentKey())}}}},{key:"makeNewSenderKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,r(d[11]).secureRandomBase64Url)(16),i=this.getNewEncryptionKeyIndex();return this.logger.info("Generated new key at index "+i),this.setEncryptionKey(this.membership,i,n,Date.now(),t),i}},{key:"requestSendCurrentKey",value:function(){var t=this;if(this.manageMediaKeys)return this.lastEncryptionKeyUpdateRequest&&this.lastEncryptionKeyUpdateRequest+this.updateEncryptionKeyThrottle>Date.now()?(this.logger.info("Last encryption key event sent too recently: postponing"),void(void 0===this.keysEventUpdateTimeout&&(this.keysEventUpdateTimeout=setTimeout(function(){t.sendEncryptionKeysEvent()},this.updateEncryptionKeyThrottle)))):void this.sendEncryptionKeysEvent()}},{key:"getKeysForParticipant",value:function(t){var n;return null===(n=this.encryptionKeys.get(y(t)))||void 0===n?void 0:n.map(function(t){return t.key})}},{key:"storeLastMembershipFingerprints",value:function(){var t=this;this.lastMembershipFingerprints=new Set(this.getMemberships().filter(function(n){return!(0,r(d[10]).isMyMembership)(n,t.membership.userId,t.membership.deviceId)}).map(function(t){return"".concat(y(t),":").concat(t.createdTs())}))}},{key:"getNewEncryptionKeyIndex",value:function(){return-1===this.latestGeneratedKeyIndex?0:(this.latestGeneratedKeyIndex+1)%256}},{key:"setEncryptionKey",value:function(t,n,i,s){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.logger.debug("Setting encryption key for ".concat(t.userId,":").concat(t.deviceId," at index ").concat(n));var c=(0,r(d[6]).decodeBase64)(i),h=y(t);this.encryptionKeys.has(h)||this.encryptionKeys.set(h,[]);var m=this.encryptionKeys.get(h),p=m[n];if(p){if(p.timestamp>s)return void this.logger.info("Ignoring new key at index ".concat(n," for ").concat(h," as it is older than existing known key"));if(u(p.key,c))return void(p.timestamp=s)}if(t.userId===this.membership.userId&&t.deviceId===this.membership.deviceId&&(this.latestGeneratedKeyIndex=n),m[n]={key:c,timestamp:s,membership:t},a){var l=setTimeout(function(){o.setNewKeyTimeouts.delete(l),o.logger.info("Delayed-emitting key changed event for ".concat(h," index ").concat(n)),o.onEncryptionKeysChanged(c,n,t,o.rtcBackendIdentityFromMembershipParts(t))},this.useKeyDelay);this.setNewKeyTimeouts.add(l)}else this.onEncryptionKeysChanged(c,n,t,this.rtcBackendIdentityFromMembershipParts(t))}}])})();function u(t,n){return t===n||!!t&&!!n&&t.length===n.length&&t.every(function(t,i){return t===n[i]})}},852,[1,34,11,12,743,739,745,818,746,849,846,744]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RoomKeyTransport=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),c=e(r(d[4])),l=e(r(d[5])),s=e(r(d[6])),y=e(r(d[7]));function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}_e.RoomKeyTransport=(function(e){function v(e,n,l,s){var f,p,h,E;return(0,t.default)(this,v),p=this,h=v,h=(0,c.default)(h),(f=(0,o.default)(p,u()?Reflect.construct(h,E||[],(0,c.default)(p).constructor):h.apply(p,E))).room=e,f.client=n,f.statistics=l,(0,y.default)(f,"logger",r(d[8]).logger),f.setParentLogger(null!=s?s:r(d[8]).logger),f}return(0,l.default)(v,e),(0,n.default)(v,[{key:"setParentLogger",value:function(e){this.logger=e.getChild("[RoomKeyTransport]")}},{key:"start",value:function(){var e=this;this.room.on(r(d[9]).RoomEvent.Timeline,function(t){e.consumeCallEncryptionEvent(t)})}},{key:"stop",value:function(){var e=this;this.room.off(r(d[9]).RoomEvent.Timeline,function(t){e.consumeCallEncryptionEvent(t)})}},{key:"consumeCallEncryptionEvent",value:function(e){var t=arguments,n=this;return(0,s.default)(function*(){var o=t.length>1&&void 0!==t[1]&&t[1];if(yield n.client.decryptEventIfNeeded(e),!e.isDecryptionFailure())return o&&n.logger.info("Decryption succeeded for event ".concat(e.getId()," after retry")),e.getType()!==r(d[10]).EventType.CallEncryptionKeysPrefix?Promise.resolve():n.room?void n.onEncryptionEvent(e):(n.logger.error("Got room state event for unknown room ".concat(e.getRoomId(),"!")),Promise.resolve());o?n.logger.warn("Decryption failed for event ".concat(e.getId(),": ").concat(e.decryptionFailureReason)):(n.logger.warn("Decryption failed for event ".concat(e.getId(),": ").concat(e.decryptionFailureReason," will retry once only")),setTimeout(function(){n.consumeCallEncryptionEvent(e,!0)},1e3))})()}},{key:"sendKey",value:function(e,t,n){var o=this;return(0,s.default)(function*(){var n={keys:[{index:t,key:e}],device_id:o.client.getDeviceId(),call_id:"",sent_ts:Date.now()};try{yield o.client.sendEvent(o.room.roomId,r(d[10]).EventType.CallEncryptionKeysPrefix,n)}catch(e){o.logger.error("Failed to send call encryption keys",e);var c=e;throw c.event&&o.client.cancelPendingEvent(c.event),e}})()}},{key:"onEncryptionEvent",value:function(e){var t=e.getSender(),n=e.getContent(),o=n.device_id,c=n.call_id;if(t)if(""===c)if(Array.isArray(n.keys))if(t!==this.client.getUserId()||o!==this.client.getDeviceId()){this.statistics.counters.roomEventEncryptionKeysReceived+=1;var l=Date.now()-("number"==typeof n.sent_ts?n.sent_ts:e.getTs());for(var s of(this.statistics.totals.roomEventEncryptionKeysReceivedTotalAge+=l,n.keys))if(s){var y=s.key,u=s.index;y&&null!=u&&null!=c&&"string"==typeof o&&"string"==typeof c&&"string"==typeof y&&"number"==typeof u?(this.logger.debug("onCallEncryption userId=".concat(t,":").concat(o," encryptionKeyIndex=").concat(u," age=").concat(l,"ms")),this.emit(r(d[11]).KeyTransportEvents.ReceivedKeys,{userId:t,deviceId:o,memberId:"".concat(t,":").concat(o)},y,u,e.getTs())):this.logger.warn("Malformed call encryption_key: userId=".concat(t,", deviceId=").concat(o,", encryptionKeyIndex=").concat(u," callId=").concat(c))}else this.logger.info("Ignoring false-y key in keys event")}else this.logger.info("Ignoring our own keys event");else this.logger.warn("Received m.call.encryption_keys where keys wasn't an array: callId=".concat(c));else this.logger.warn("Received m.call.encryption_keys with unsupported callId: userId=".concat(t,", deviceId=").concat(o,", callId=").concat(c));else this.logger.warn("Received m.call.encryption_keys with no userId: callId=".concat(c))}}])})(r(d[12]).TypedEventEmitter)},853,[1,11,12,18,20,23,743,739,746,806,765,849,762]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ToDeviceMessageQueue=void 0;var t=e(r(d[1])),n=e(r(d[2])),i=e(r(d[3])),u=e(r(d[4]));_e.ToDeviceMessageQueue=(function(){return(0,n.default)(function e(n,o){var s=this;(0,t.default)(this,e);var c=this;this.client=n,this.logger=o,(0,u.default)(this,"sending",!1),(0,u.default)(this,"running",!0),(0,u.default)(this,"retryTimeout",null),(0,u.default)(this,"retryAttempts",0),(0,u.default)(this,"sendQueue",(0,i.default)(function*(){if(null!==c.retryTimeout&&clearTimeout(c.retryTimeout),c.retryTimeout=null,!c.sending&&c.running){var e;c.logger.debug("Attempting to send queued to-device messages"),c.sending=!0;try{for(;c.running&&null!==(e=yield c.client.store.getOldestToDeviceBatch());)yield c.sendBatch(e),yield c.client.store.removeToDeviceBatch(e.id),c.retryAttempts=0;if(!c.running)return;c.logger.debug("All queued to-device messages sent")}catch(n){++c.retryAttempts;var t=r(d[5]).MatrixScheduler.RETRY_BACKOFF_RATELIMIT(null,c.retryAttempts,n);if(-1===t)return void(4===Math.floor(n.httpStatus/100)?(c.logger.error("Fatal error when sending to-device message - dropping to-device batch!",n),yield c.client.store.removeToDeviceBatch(e.id)):c.logger.info("Automatic retry limit reached for to-device messages."));c.logger.info("Failed to send batch of to-device messages. Will retry in ".concat(t,"ms"),n),c.retryTimeout=setTimeout(c.sendQueue,t)}finally{c.sending=!1}}})),(0,u.default)(this,"onResumedSync",function(e,t){e===r(d[6]).SyncState.Syncing&&t!==r(d[6]).SyncState.Syncing&&(s.logger.info("Resuming queue after resumed sync"),s.sendQueue())})},[{key:"start",value:function(){this.running=!0,this.sendQueue(),this.client.on(r(d[7]).ClientEvent.Sync,this.onResumedSync)}},{key:"stop",value:function(){this.running=!1,null!==this.retryTimeout&&clearTimeout(this.retryTimeout),this.retryTimeout=null,this.client.removeListener(r(d[7]).ClientEvent.Sync,this.onResumedSync)}},{key:"queueBatch",value:function(e){var t=this;return(0,i.default)(function*(){for(var n=[],i=0;i<e.batch.length;i+=20){var u={eventType:e.eventType,batch:e.batch.slice(i,i+20),txnId:t.client.makeTxnId()};n.push(u);var o=u.batch.map(function(e){return"".concat(e.userId,"/").concat(e.deviceId," (msgid ").concat(e.payload[r(d[8]).ToDeviceMessageId],")")});t.logger.info("Enqueuing batch of to-device messages. type=".concat(e.eventType," txnid=").concat(u.txnId),o)}yield t.client.store.saveToDeviceBatches(n),t.sendQueue()})()}},{key:"sendBatch",value:function(e){var t=this;return(0,i.default)(function*(){var n=new(r(d[9]).MapWithDefault)(function(){return new Map});for(var i of e.batch)n.getOrCreate(i.userId).set(i.deviceId,i.payload);t.logger.info("Sending batch of ".concat(e.batch.length," to-device messages with ID ").concat(e.id," and txnId ").concat(e.txnId)),yield t.client.sendToDevice(e.eventType,n,e.txnId)})()}}])})()},854,[1,11,12,743,739,855,836,796,765,748]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.MatrixScheduler=void 0;var u=t(r(d[1])),s=t(r(d[2])),n=t(r(d[3]));e.MatrixScheduler=(function(){return(0,s.default)(function t(){var s=this;(0,u.default)(this,t);var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.RETRY_BACKOFF_RATELIMIT,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.QUEUE_MESSAGES;this.retryAlgorithm=o,this.queueAlgorithm=v,(0,n.default)(this,"queues",{}),(0,n.default)(this,"activeQueues",[]),(0,n.default)(this,"procFn",null),(0,n.default)(this,"processQueue",function(t){var u=s.peekNextEvent(t);u?(s.queues[t].length,Promise.resolve().then(function(){return s.procFn(u.event)}).then(function(n){s.removeNextEvent(t),u.event.getId(),u.resolvers.resolve(n),s.processQueue(t)},function(n){u.attempts+=1;var o=s.retryAlgorithm(u.event,u.attempts,n);u.attempts,u.event.getId(),-1===o?(r(d[4]).logger.info("Queue '%s' giving up on event %s",t,u.event.getId()),s.clearQueue(t,n)):setTimeout(s.processQueue,o,t)})):s.disableQueue(t)})},[{key:"getQueueForEvent",value:function(t){var u=this.queueAlgorithm(t);return u&&this.queues[u]?this.queues[u].map(function(t){return t.event}):null}},{key:"removeEventFromQueue",value:function(t){var u=this.queueAlgorithm(t);if(!u||!this.queues[u])return!1;var s=!1;return(0,r(d[5]).removeElement)(this.queues[u],function(u){return u.event.getId()===t.getId()&&(s=!0,!0)}),s}},{key:"setProcessFunction",value:function(t){this.procFn=t,this.startProcessingQueues()}},{key:"queueEvent",value:function(t){var u=this.queueAlgorithm(t);if(!u)return null;this.queues[u]||(this.queues[u]=[]);var s=Promise.withResolvers();return this.queues[u].push({event:t,resolvers:s,attempts:0}),t.getId(),this.startProcessingQueues(),s.promise}},{key:"startProcessingQueues",value:function(){var t=this;this.procFn&&Object.keys(this.queues).filter(function(u){return-1===t.activeQueues.indexOf(u)&&t.queues[u].length>0}).forEach(function(u){t.activeQueues.push(u),t.processQueue(u)})}},{key:"disableQueue",value:function(t){var u=this.activeQueues.indexOf(t);u>=0&&this.activeQueues.splice(u,1),r(d[4]).logger.info("Stopping queue '%s' as it is now empty",t)}},{key:"clearQueue",value:function(t,u){var s;for(r(d[4]).logger.info("clearing queue '%s'",t);s=this.removeNextEvent(t);)s.resolvers.reject(u);this.disableQueue(t)}},{key:"peekNextEvent",value:function(t){var u=this.queues[t];if(Array.isArray(u))return u[0]}},{key:"removeNextEvent",value:function(t){var u=this.queues[t];if(Array.isArray(u))return u.shift()}}],[{key:"RETRY_BACKOFF_RATELIMIT",value:function(t,u,s){return(0,r(d[6]).calculateRetryBackoff)(s,u,!1)}},{key:"QUEUE_MESSAGES",value:function(t){return t.getType()===r(d[7]).EventType.RoomMessage||t.hasAssociation()?"message":null}}])})()},855,[1,11,12,739,746,748,814,765]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"IGNORE_INVITES_ACCOUNT_EVENT_KEY",{enumerable:!0,get:function(){return r(d[1]).IGNORE_INVITES_ACCOUNT_EVENT_KEY}}),e.IgnoredInvites=void 0,Object.defineProperty(e,"POLICIES_ACCOUNT_EVENT_TYPE",{enumerable:!0,get:function(){return r(d[1]).POLICIES_ACCOUNT_EVENT_TYPE}}),Object.defineProperty(e,"PolicyRecommendation",{enumerable:!0,get:function(){return r(d[1]).PolicyRecommendation}}),Object.defineProperty(e,"PolicyScope",{enumerable:!0,get:function(){return r(d[1]).PolicyScope}});var n=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5])),u=(0,l.default)((0,l.default)((0,l.default)({},r(d[1]).PolicyScope.User,r(d[6]).EventType.PolicyRuleUser),r(d[1]).PolicyScope.Room,r(d[6]).EventType.PolicyRuleRoom),r(d[1]).PolicyScope.Server,r(d[6]).EventType.PolicyRuleServer);e.IgnoredInvites=(function(){return(0,o.default)(function t(o){(0,n.default)(this,t),this.client=o},[{key:"addRule",value:function(t,n,o){var l=this;return(0,c.default)(function*(){var c=yield l.getOrCreateTargetRoom();return(yield l.client.sendStateEvent(c.roomId,u[t],{entity:n,reason:o,recommendation:r(d[1]).PolicyRecommendation.Ban})).event_id})()}},{key:"removeRule",value:function(t){var n=this;return(0,c.default)(function*(){yield n.client.redactEvent(t.getRoomId(),t.getId())})()}},{key:"addSource",value:function(t){var n=this;return(0,c.default)(function*(){yield n.client.joinRoom(t);var o=(yield n.getOrCreateSourceRooms()).map(function(t){return t.roomId});return!o.includes(t)&&(o.push(t),yield n.withIgnoreInvitesPolicies(function(t){t.sources=o}),!0)})()}},{key:"getRuleForInvite",value:function(t){var n=this;return(0,c.default)(function*(){var o=t.sender,l=t.roomId,c=yield n.getOrCreateSourceRooms(),s=o.split(":")[1],v=l.split(":")[1];for(var f of c){var I=f.getUnfilteredTimelineSet().getLiveTimeline().getState(r(d[7]).EventTimeline.FORWARDS);for(var E of[{scope:r(d[1]).PolicyScope.Room,entities:[l]},{scope:r(d[1]).PolicyScope.User,entities:[o]},{scope:r(d[1]).PolicyScope.Server,entities:[s,v]}]){var y=E.scope,P=E.entities,_=I.getStateEvents(u[y]);for(var T of _){var C=T.getContent();if((null==C?void 0:C.recommendation)==r(d[1]).PolicyRecommendation.Ban){var N=null==C?void 0:C.entity;if(N){var R=void 0;try{R=new RegExp((0,r(d[8]).globToRegexp)(N))}catch(t){continue}for(var O of P)if(O&&R.test(O))return T}}}}}return null})()}},{key:"getOrCreateTargetRoom",value:function(){var t=this;return(0,c.default)(function*(){var n=t.getIgnoreInvitesPolicies().target;if("string"!=typeof n&&(n=null),n){var o=t.client.getRoom(n);if(o)return o;n=null}return n=(yield t.client.createRoom({name:"Individual Policy Room",preset:r(d[9]).Preset.PrivateChat})).room_id,yield t.withIgnoreInvitesPolicies(function(t){t.target=n}),t.client.getRoom(n)})()}},{key:"getOrCreateSourceRooms",value:function(){var t=this;return(0,c.default)(function*(){var n=t.getIgnoreInvitesPolicies().sources,o=!1;Array.isArray(n)||(o=!0,n=[]);var l=n.filter(function(t){return"string"==typeof t}).map(function(n){return t.client.getRoom(n)}).filter(function(t){return!!t});(l.length!=n.length&&(o=!0),0==l.length)&&(o=!0,l=[yield t.getOrCreateTargetRoom()]);return o&&(yield t.withIgnoreInvitesPolicies(function(t){t.sources=n})),l})()}},{key:"getIgnoreInvitesPolicies",value:function(){return this.getPoliciesAndIgnoreInvitesPolicies().ignoreInvitesPolicies}},{key:"withIgnoreInvitesPolicies",value:function(t){var n=this;return(0,c.default)(function*(){var o=n.getPoliciesAndIgnoreInvitesPolicies(),l=o.policies,c=o.ignoreInvitesPolicies;t(c),l[r(d[1]).IGNORE_INVITES_ACCOUNT_EVENT_KEY.name]=c,yield n.client.setAccountData(r(d[1]).POLICIES_ACCOUNT_EVENT_TYPE.name,l)})()}},{key:"getPoliciesAndIgnoreInvitesPolicies",value:function(){var t={};for(var n of[r(d[1]).POLICIES_ACCOUNT_EVENT_TYPE.name,r(d[1]).POLICIES_ACCOUNT_EVENT_TYPE.altName]){var o;if(n){var l=null===(o=this.client.getAccountData(n))||void 0===o?void 0:o.getContent();if(l){t=l;break}}}var c={},u=!1;for(var s of[r(d[1]).IGNORE_INVITES_ACCOUNT_EVENT_KEY.name,r(d[1]).IGNORE_INVITES_ACCOUNT_EVENT_KEY.altName])if(s){var v=t[s];if(v&&"object"==typeof v){c=v,u=!0;break}}return u||(t[r(d[1]).IGNORE_INVITES_ACCOUNT_EVENT_KEY.name]=c),{policies:t,ignoreInvitesPolicies:c}}}])})()},856,[1,857,11,12,66,743,765,810,748,858]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.PolicyScope=e.PolicyRecommendation=e.POLICIES_ACCOUNT_EVENT_TYPE=e.IGNORE_INVITES_ACCOUNT_EVENT_KEY=void 0;e.POLICIES_ACCOUNT_EVENT_TYPE=new(r(d[0]).UnstableValue)("m.policies","org.matrix.msc3847.policies"),e.IGNORE_INVITES_ACCOUNT_EVENT_KEY=new(r(d[0]).UnstableValue)("m.ignore.invites","org.matrix.msc3847.ignore.invites"),e.PolicyRecommendation=(function(o){return o.Ban="m.ban",o})({}),e.PolicyScope=(function(o){return o.User="m.policy.user",o.Room="m.policy.room",o.Server="m.policy.server",o})({})},857,[773]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.Visibility=e.RestrictedAllowType=e.Preset=e.JoinRule=e.HistoryVisibility=e.GuestAccess=void 0;e.Visibility=(function(t){return t.Public="public",t.Private="private",t})({}),e.Preset=(function(t){return t.PrivateChat="private_chat",t.TrustedPrivateChat="trusted_private_chat",t.PublicChat="public_chat",t})({}),e.JoinRule=(function(t){return t.Public="public",t.Invite="invite",t.Private="private",t.Knock="knock",t.Restricted="restricted",t})({}),e.RestrictedAllowType=(function(t){return t.RoomMembership="m.room_membership",t})({}),e.GuestAccess=(function(t){return t.CanJoin="can_join",t.Forbidden="forbidden",t})({}),e.HistoryVisibility=(function(t){return t.Invited="invited",t.Joined="joined",t.Shared="shared",t.WorldReadable="world_readable",t})({})},858,[]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ServerSideSecretStorageImpl=_e.SECRET_STORAGE_ALGORITHM_V1_AES=void 0,_e.calculateKeyCheck=v,_e.trimTrailingEquals=f;var t=e(r(d[1])),n=e(r(d[2])),c=e(r(d[3])),o=e(r(d[4])),u=e(r(d[5])),i=e(r(d[6])),l=e(r(d[7])),y=_e.SECRET_STORAGE_ALGORITHM_V1_AES="m.secret_storage.v1.aes-hmac-sha2";_e.ServerSideSecretStorageImpl=(function(){return(0,o.default)(function e(t,n){(0,c.default)(this,e),this.accountDataAdapter=t,this.callbacks=n},[{key:"getDefaultKeyId",value:function(){var e=this;return(0,u.default)(function*(){var t,n=yield e.accountDataAdapter.getAccountDataFromServer("m.secret_storage.default_key");return n&&null!==(t=n.key)&&void 0!==t?t:null})()}},{key:"setDefaultKeyId",value:function(e){var t=this;return new Promise(function(n,c){var o=function(c){if("m.secret_storage.default_key"===c.getType()){var u=c.getContent();(null===e?0===Object.keys(u).length:u.key===e)&&(t.accountDataAdapter.removeListener(r(d[8]).ClientEvent.AccountData,o),n())}};t.accountDataAdapter.on(r(d[8]).ClientEvent.AccountData,o);var u=null===e?{}:{key:e};t.accountDataAdapter.setAccountData("m.secret_storage.default_key",u).catch(function(e){t.accountDataAdapter.removeListener(r(d[8]).ClientEvent.AccountData,o),c(e)})})}},{key:"addKey",value:function(e,t,n){var c=this;return(0,u.default)(function*(){if(e!==y)throw new Error("Unknown key algorithm ".concat(e));var o={algorithm:e};t.name&&(o.name=t.name),t.passphrase&&(o.passphrase=t.passphrase);var u=yield v(t.key),i=u.iv,l=u.mac;if(o.iv=i,o.mac=l,!n)do{n=(0,r(d[9]).secureRandomString)(32)}while(yield c.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key.".concat(n)));return yield c.accountDataAdapter.setAccountData("m.secret_storage.key.".concat(n),o),{keyId:n,keyInfo:o}})()}},{key:"getKey",value:function(e){var t=this;return(0,u.default)(function*(){if(e||(e=yield t.getDefaultKeyId()),!e)return null;var n=yield t.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key.".concat(e));return n?[e,n]:null})()}},{key:"hasKey",value:function(e){var t=this;return(0,u.default)(function*(){var n=yield t.getKey(e);return Boolean(n)})()}},{key:"checkKey",value:function(e,t){return(0,u.default)(function*(){if(t.algorithm===y){if(t.mac){var n=(yield v(e,t.iv)).mac;return f(t.mac)===f(n)}return!0}throw new Error("Unknown algorithm")})()}},{key:"store",value:function(e,c,o){var i=this;return(0,u.default)(function*(){if(null!==c){var u={};if(!o){var l=yield i.getDefaultKeyId();if(!l)throw new Error("No keys specified and no default key present");o=[l]}if(0===o.length)throw new Error("Zero keys given to encrypt with!");for(var f of o){var s=yield i.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key.".concat(f));if(!s)throw new Error("Unknown key: "+f);if(s.algorithm===y){var v=(0,n.default)({},f,s),h=yield i.getSecretStorageKey(v,e),k=(0,t.default)(h,2)[1];u[f]=yield k.encrypt(c)}else r(d[10]).logger.warn("unknown algorithm for secret storage key "+f+": "+s.algorithm)}yield i.accountDataAdapter.setAccountData(e,{encrypted:u})}else yield i.accountDataAdapter.setAccountData(e,{})})()}},{key:"get",value:function(e){var n=this;return(0,u.default)(function*(){var c=yield n.accountDataAdapter.getAccountDataFromServer(e);if(c){if(!c.encrypted)throw new Error("Content is not encrypted!");var o={};for(var u of Object.keys(c.encrypted)){var i=yield n.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key.".concat(u)),l=c.encrypted[u];(null==i?void 0:i.algorithm)===y&&l.iv&&l.ciphertext&&l.mac&&(o[u]=i)}if(0===Object.keys(o).length)throw new Error("Could not decrypt ".concat(e," because none of ")+"the keys it is encrypted with are for a supported algorithm");var f=yield n.getSecretStorageKey(o,e),s=(0,t.default)(f,2),v=s[0],h=s[1],k=c.encrypted[v];return h.decrypt(k)}})()}},{key:"isStored",value:function(e){var t=this;return(0,u.default)(function*(){var n=yield t.accountDataAdapter.getAccountDataFromServer(e);if(null==n||!n.encrypted)return null;var c={};for(var o of Object.keys(n.encrypted)){var u=yield t.accountDataAdapter.getAccountDataFromServer("m.secret_storage.key.".concat(o));if(u){var i=n.encrypted[o];u.algorithm===y&&i.iv&&i.ciphertext&&i.mac&&(c[o]=u)}}return Object.keys(c).length?c:null})()}},{key:"getSecretStorageKey",value:function(e,n){var c=this;return(0,u.default)(function*(){if(!c.callbacks.getSecretStorageKey)throw new Error("No getSecretStorageKey callback supplied");var o=yield c.callbacks.getSecretStorageKey({keys:e},n);if(!o)throw new Error("getSecretStorageKey callback returned falsey");if(o.length<2)throw new Error("getSecretStorageKey callback returned invalid data");var u=(0,t.default)(o,2),f=u[0],s=u[1];if(!e[f])throw new Error("App returned unknown key from getSecretStorageKey!");if(e[f].algorithm===y)return[f,{encrypt:function(e){return(0,i.default)(e,s,n)},decrypt:function(e){return(0,l.default)(e,s,n)}}];throw new Error("Unknown key type: "+e[f].algorithm)})()}}])})();function f(e){for(var t=e.length;t>=1&&61==e.charCodeAt(t-1);)t--;return t<e.length?e.substring(0,t):e}var s="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function v(e,t){return(0,i.default)(s,e,"",t)}},859,[1,34,66,11,12,743,860,862,796,744,746]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,t,l,c){return o.apply(this,arguments)};var t=n(r(d[1])),l=n(r(d[2]));function o(){return(o=(0,l.default)(function*(n,l,o,c){var u;c?u=(0,r(d[3]).decodeBase64)(c):(u=new Uint8Array(16),globalThis.crypto.getRandomValues(u),u[8]&=127);var s=yield(0,r(d[4]).deriveKeys)(l,o),y=(0,t.default)(s,2),p=y[0],f=y[1],h=(new TextEncoder).encode(n),v=yield globalThis.crypto.subtle.encrypt({name:"AES-CTR",counter:u,length:64},p,h),b=yield globalThis.crypto.subtle.sign({name:"HMAC"},f,v);return{iv:(0,r(d[3]).encodeBase64)(u),ciphertext:(0,r(d[3]).encodeBase64)(new Uint8Array(v)),mac:(0,r(d[3]).encodeBase64)(new Uint8Array(b))}})).apply(this,arguments)}},860,[1,34,743,745,861]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deriveKeys=function(t,n){return o.apply(this,arguments)};var n=t(r(d[1])),l=new Uint8Array(8);function o(){return(o=(0,n.default)(function*(t,n){var o=yield globalThis.crypto.subtle.importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]),s=yield globalThis.crypto.subtle.deriveBits({name:"HKDF",salt:l,info:(new TextEncoder).encode(n),hash:"SHA-256"},o,512),y=s.slice(0,32),c=s.slice(32),p=globalThis.crypto.subtle.importKey("raw",y,{name:"AES-CTR"},!1,["encrypt","decrypt"]),u=globalThis.crypto.subtle.importKey("raw",c,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]);return Promise.all([p,u])})).apply(this,arguments)}},861,[1,743]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,c){return o.apply(this,arguments)};var n=t(r(d[1])),c=t(r(d[2]));function o(){return(o=(0,c.default)(function*(t,c,o){var l=yield(0,r(d[3]).deriveKeys)(c,o),u=(0,n.default)(l,2),y=u[0],s=u[1],f=(0,r(d[4]).decodeBase64)(t.ciphertext);if(!(yield globalThis.crypto.subtle.verify({name:"HMAC"},s,(0,r(d[4]).decodeBase64)(t.mac),f)))throw new Error("Error decrypting secret ".concat(o,": bad MAC"));var p=yield globalThis.crypto.subtle.decrypt({name:"AES-CTR",counter:(0,r(d[4]).decodeBase64)(t.iv),length:64},y,f);return(new TextDecoder).decode(new Uint8Array(p))})).apply(this,arguments)}},862,[1,34,743,861,745]);
__d(function(g,r,_i,_a,_m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SlidingSyncSdk=void 0;var t=e(r(d[1])),n=e(r(d[2])),i=e(r(d[3])),o=e(r(d[4])),s=(function(){return(0,n.default)(function e(n){(0,t.default)(this,e),this.crypto=n},[{key:"name",value:function(){return"e2ee"}},{key:"when",value:function(){return r(d[5]).ExtensionState.PreProcess}},{key:"onRequest",value:function(e){var t=this;return(0,o.default)(function*(){return e&&(r(d[6]).logger.log("ExtensionE2EE: invalidating all device lists due to missing 'pos'"),yield t.crypto.markAllTrackedUsersAsDirty()),{enabled:!0}})()}},{key:"onResponse",value:function(e){var t=this;return(0,o.default)(function*(){e.device_lists&&(yield t.crypto.processDeviceLists(e.device_lists)),yield t.crypto.processKeyCounts(e.device_one_time_keys_count,e.device_unused_fallback_key_types||e["org.matrix.msc2732.device_unused_fallback_key_types"]),t.crypto.onSyncCompleted({})})()}}])})(),a=(function(){return(0,n.default)(function e(n,o){(0,t.default)(this,e),this.client=n,this.cryptoCallbacks=o,(0,i.default)(this,"nextBatch",null)},[{key:"name",value:function(){return"to_device"}},{key:"when",value:function(){return r(d[5]).ExtensionState.PreProcess}},{key:"onRequest",value:function(e){var t=this;return(0,o.default)(function*(){return{since:null!==t.nextBatch?t.nextBatch:void 0,limit:100,enabled:!0}})()}},{key:"onResponse",value:function(e){var t=this;return(0,o.default)(function*(){var n,i=e.events||[];n=t.cryptoCallbacks?yield t.cryptoCallbacks.preprocessToDeviceMessages(i):i.map(function(e){return{message:e,encryptionInfo:null}}),(0,r(d[7]).processToDeviceMessages)(n,t.client),t.nextBatch=e.next_batch})()}}])})(),c=(function(){return(0,n.default)(function e(n){(0,t.default)(this,e),this.client=n},[{key:"name",value:function(){return"account_data"}},{key:"when",value:function(){return r(d[5]).ExtensionState.PostProcess}},{key:"onRequest",value:function(e){return(0,o.default)(function*(){return{enabled:!0}})()}},{key:"onResponse",value:function(e){var t=this;return(0,o.default)(function*(){for(var n in e.global&&e.global.length>0&&t.processGlobalAccountData(e.global),e.rooms){var i=f(t.client,n,e.rooms[n]),o=t.client.getRoom(n);o?(o.addAccountData(i),i.forEach(function(e){t.client.emit(r(d[8]).ClientEvent.Event,e)})):r(d[6]).logger.warn("got account data for room but room doesn't exist on client:",n)}})()}},{key:"processGlobalAccountData",value:function(e){var t=this,n=f(this.client,void 0,e),i=n.reduce(function(e,n){return e[n.getType()]=t.client.store.getAccountData(n.getType()),e},{});this.client.store.storeAccountDataEvents(n),n.forEach(function(e){if(e.getType()===r(d[9]).EventType.PushRules){var n=e.getContent();t.client.setPushRules(n)}var o=i[e.getType()];return t.client.emit(r(d[8]).ClientEvent.AccountData,e,o),e})}}])})(),l=(function(){return(0,n.default)(function e(n){(0,t.default)(this,e),this.client=n},[{key:"name",value:function(){return"typing"}},{key:"when",value:function(){return r(d[5]).ExtensionState.PostProcess}},{key:"onRequest",value:function(e){return(0,o.default)(function*(){return{enabled:!0}})()}},{key:"onResponse",value:function(e){var t=this;return(0,o.default)(function*(){if(null!=e&&e.rooms)for(var n in e.rooms)h(t.client,n,[e.rooms[n]])})()}}])})(),u=(function(){return(0,n.default)(function e(n){(0,t.default)(this,e),this.client=n},[{key:"name",value:function(){return"receipts"}},{key:"when",value:function(){return r(d[5]).ExtensionState.PostProcess}},{key:"onRequest",value:function(e){return(0,o.default)(function*(){return{enabled:!0}})()}},{key:"onResponse",value:function(e){var t=this;return(0,o.default)(function*(){if(null!=e&&e.rooms)for(var n in e.rooms)h(t.client,n,[e.rooms[n]])})()}}])})();_e.SlidingSyncSdk=(function(){return(0,n.default)(function e(n,o,v,f){var h=this;(0,t.default)(this,e),this.slidingSync=n,this.client=o,(0,i.default)(this,"opts",void 0),(0,i.default)(this,"syncOpts",void 0),(0,i.default)(this,"syncState",null),(0,i.default)(this,"syncStateData",void 0),(0,i.default)(this,"lastPos",null),(0,i.default)(this,"failCount",0),(0,i.default)(this,"notifEvents",[]),this.opts=(0,r(d[7]).defaultClientOpts)(v),this.syncOpts=(0,r(d[7]).defaultSyncApiOpts)(f),o.getNotifTimelineSet()&&o.reEmitter.reEmit(o.getNotifTimelineSet(),[r(d[10]).RoomEvent.Timeline,r(d[10]).RoomEvent.TimelineReset]),this.slidingSync.on(r(d[5]).SlidingSyncEvent.Lifecycle,this.onLifecycle.bind(this)),this.slidingSync.on(r(d[5]).SlidingSyncEvent.RoomData,this.onRoomData.bind(this));var y=[new a(this.client,this.syncOpts.cryptoCallbacks),new c(this.client),new l(this.client),new u(this.client)];this.syncOpts.cryptoCallbacks&&y.push(new s(this.syncOpts.cryptoCallbacks)),y.forEach(function(e){h.slidingSync.registerExtension(e)})},[{key:"onRoomData",value:function(e,t){var n=this;return(0,o.default)(function*(){var i=n.client.store.getRoom(e);if(!i){if(!t.initial)return void n.syncOpts.logger.debug("initial flag not set but no stored room exists for room ",e,t);i=(0,r(d[7])._createAndReEmitRoom)(n.client,e,n.opts)}yield n.processRoomData(n.client,i,t)})()}},{key:"onLifecycle",value:function(e,t,n){switch(n&&this.syncOpts.logger.debug("onLifecycle",e,n),e){case r(d[5]).SlidingSyncState.Complete:if(this.purgeNotifications(),!t)break;this.lastPos||this.updateSyncState(r(d[7]).SyncState.Prepared,{oldSyncToken:void 0,nextSyncToken:t.pos,catchingUp:!1,fromCache:!1}),this.updateSyncState(r(d[7]).SyncState.Syncing,{oldSyncToken:this.lastPos,nextSyncToken:t.pos,catchingUp:!1,fromCache:!1}),this.lastPos=t.pos;break;case r(d[5]).SlidingSyncState.RequestFinished:if(n){if(this.failCount+=1,this.updateSyncState(this.failCount>3?r(d[7]).SyncState.Error:r(d[7]).SyncState.Reconnecting,{error:new(r(d[11]).MatrixError)(n)}),this.shouldAbortSync(new(r(d[11]).MatrixError)(n)))return}else this.failCount=0,this.syncOpts.logger.debug("SlidingSyncState.RequestFinished with ".concat(Object.keys((null==t?void 0:t.rooms)||[]).length," rooms"))}}},{key:"syncLeftRooms",value:function(){return(0,o.default)(function*(){return[]})()}},{key:"peek",value:function(e){return(0,o.default)(function*(){return null})()}},{key:"stopPeeking",value:function(){}},{key:"setPresence",value:function(e){}},{key:"getSyncState",value:function(){return this.syncState}},{key:"getSyncStateData",value:function(){var e;return null!==(e=this.syncStateData)&&void 0!==e?e:null}},{key:"createRoom",value:function(e){var t=this.client.timelineSupport,n=new(r(d[10]).Room)(e,this.client,this.client.getUserId(),{lazyLoadMembers:this.opts.lazyLoadMembers,pendingEventOrdering:this.opts.pendingEventOrdering,timelineSupport:t});return this.client.reEmitter.reEmit(n,[r(d[10]).RoomEvent.Name,r(d[10]).RoomEvent.Redaction,r(d[10]).RoomEvent.RedactionCancelled,r(d[10]).RoomEvent.Receipt,r(d[10]).RoomEvent.Tags,r(d[10]).RoomEvent.LocalEchoUpdated,r(d[10]).RoomEvent.AccountData,r(d[10]).RoomEvent.MyMembership,r(d[10]).RoomEvent.Timeline,r(d[10]).RoomEvent.TimelineReset]),this.registerStateListeners(n),n}},{key:"registerStateListeners",value:function(e){var t=this;this.client.reEmitter.reEmit(e.currentState,[r(d[12]).RoomStateEvent.Events,r(d[12]).RoomStateEvent.Members,r(d[12]).RoomStateEvent.NewMember,r(d[12]).RoomStateEvent.Update]),e.currentState.on(r(d[12]).RoomStateEvent.NewMember,function(e,n,i){var o;i.user=null!==(o=t.client.getUser(i.userId))&&void 0!==o?o:void 0,t.client.reEmitter.reEmit(i,[r(d[13]).RoomMemberEvent.Name,r(d[13]).RoomMemberEvent.Typing,r(d[13]).RoomMemberEvent.PowerLevel,r(d[13]).RoomMemberEvent.Membership])})}},{key:"shouldAbortSync",value:function(e){return"M_UNKNOWN_TOKEN"===e.errcode&&(this.syncOpts.logger.warn("Token no longer valid - assuming logout"),this.stop(),this.updateSyncState(r(d[7]).SyncState.Error,{error:e}),!0)}},{key:"processRoomData",value:function(e,t,n){var i=this;return(0,o.default)(function*(){n=v(e,t.roomId,n);var s=f(i.client,t.roomId,n.required_state),a=f(i.client,t.roomId,n.timeline,!1),c=[];if(n.limited||n.initial){var l=new Set;t.getLiveTimeline().getEvents().forEach(function(e){l.add(e.getId())});for(var u=[],h=[],y=!1,m=a.length-1;m>=0;m--){var p=a[m];l.has(p.getId())?y=!0:y?u.push(p):h.unshift(p)}a=h,u.length>0&&t.addEventsToTimeline(u,!0,!1,t.getLiveTimeline(),n.prev_batch)}var S,E=t.hasEncryptionStateEvent();if(null!=n.notification_count&&t.setUnreadNotificationCount(r(d[10]).NotificationCountType.Total,n.notification_count),null!=n.highlight_count&&(!E||E&&t.getUnreadNotificationCount(r(d[10]).NotificationCountType.Highlight)<=0)&&t.setUnreadNotificationCount(r(d[10]).NotificationCountType.Highlight,n.highlight_count),n.bump_stamp&&t.setBumpStamp(n.bump_stamp),Number.isInteger(n.invited_count)&&t.currentState.setInvitedMemberCount(n.invited_count),Number.isInteger(n.joined_count)&&t.currentState.setJoinedMemberCount(n.joined_count),n.invite_state){var k=f(i.client,t.roomId,n.invite_state);return yield i.injectRoomEvents(t,k),n.initial&&(t.recalculate(),i.client.store.storeRoom(t),i.client.emit(r(d[8]).ClientEvent.Room,t)),void k.forEach(function(e){i.client.emit(r(d[8]).ClientEvent.Event,e)})}n.limited&&t.getLiveTimeline().setPaginationToken(null!==(S=n.prev_batch)&&void 0!==S?S:null,r(d[14]).EventTimeline.BACKWARDS);yield i.injectRoomEvents(t,s,a,n.num_live),t.addEphemeralEvents(c),t.updateMyMembership(r(d[15]).KnownMembership.Join),t.setMSC4186SummaryData(n.heroes,n.joined_count,n.invited_count),t.recalculate(),n.initial&&(e.store.storeRoom(t),e.emit(r(d[8]).ClientEvent.Room,t)),i.addNotifications(a);var b=(function(){var n=(0,o.default)(function*(n){e.emit(r(d[8]).ClientEvent.Event,n),n.isState()&&n.getType()==r(d[9]).EventType.RoomEncryption&&i.syncOpts.cryptoCallbacks&&(yield i.syncOpts.cryptoCallbacks.onCryptoEvent(t,n))});return function(e){return n.apply(this,arguments)}})();yield(0,r(d[16]).promiseMapSeries)(s,b),yield(0,r(d[16]).promiseMapSeries)(a,b),c.forEach(function(t){e.emit(r(d[8]).ClientEvent.Event,t)}),t.decryptCriticalEvents()})()}},{key:"injectRoomEvents",value:function(e,t){var n=arguments,i=this;return(0,o.default)(function*(){var o=n.length>2&&void 0!==n[2]?n[2]:[],s=n.length>3&&void 0!==n[3]?n[3]:0,a=e.getLiveTimeline(),c=0==a.getEvents().length;if(c){for(var l of t)i.client.getPushActionsForEvent(l);a.initialiseState(t)}c||(e.oldState.setStateEvents(t),e.currentState.setStateEvents(t));var u=[];s>0&&(u=o.slice(-1*s),o=o.slice(0,-1*u.length)),yield e.addLiveEvents(o,{fromCache:!0,addToState:!1}),u.length>0&&(yield e.addLiveEvents(u,{fromCache:!1,addToState:!1})),e.recalculate(),i.resolveInvites(e)})()}},{key:"resolveInvites",value:function(e){if(e&&this.opts.resolveInvitesToProfiles){var t=this.client;e.getMembersWithMembership(r(d[15]).KnownMembership.Invite).forEach(function(n){if(!n.requestedProfileInfo){n.requestedProfileInfo=!0;var i=t.getUser(n.userId);(i?Promise.resolve({avatar_url:i.avatarUrl,displayname:i.displayName}):t.getProfileInfo(n.userId)).then(function(t){var i=n.events.member;i.getContent().membership===r(d[15]).KnownMembership.Invite&&(i.getContent().avatar_url=t.avatar_url,i.getContent().displayname=t.displayname,n.setMembershipEvent(i,e.currentState))},function(e){})}})}}},{key:"retryImmediately",value:function(){return!0}},{key:"sync",value:function(){var e=this;return(0,o.default)(function*(){for(e.syncOpts.logger.debug("Sliding sync init loop");!e.client.isGuest();)try{e.syncOpts.logger.debug("Getting push rules...");var t=yield e.client.getPushRules();e.syncOpts.logger.debug("Got push rules"),e.client.pushRules=t;break}catch(t){if(e.syncOpts.logger.error("Getting push rules failed",t),e.shouldAbortSync(t))return}yield e.slidingSync.start()})()}},{key:"stop",value:function(){this.syncOpts.logger.debug("SyncApi.stop"),this.slidingSync.stop()}},{key:"updateSyncState",value:function(e,t){var n=this.syncState;this.syncState=e,this.syncStateData=t,this.client.emit(r(d[8]).ClientEvent.Sync,this.syncState,n,t)}},{key:"addNotifications",value:function(e){if(this.client.getNotifTimelineSet())for(var t of e){var n=this.client.getPushActionsForEvent(t);n&&n.notify&&n.tweaks&&n.tweaks.highlight&&this.notifEvents.push(t)}}},{key:"purgeNotifications",value:function(){var e=this;this.notifEvents.sort(function(e,t){return e.getTs()-t.getTs()}),this.notifEvents.forEach(function(t){var n;null===(n=e.client.getNotifTimelineSet())||void 0===n||n.addLiveEvent(t,{addToState:!1})}),this.notifEvents=[]}}])})();function v(e,t,n){if(!n.name)return n;for(var i of n.required_state)if(i.type===r(d[9]).EventType.RoomName&&""===i.state_key)return i.content={name:n.name},n;return n.required_state.push({event_id:"$fake-sliding-sync-name-event-"+t,state_key:"",type:r(d[9]).EventType.RoomName,content:{name:n.name},sender:e.getUserId(),origin_server_ts:(new Date).getTime()}),n}function f(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.getEventMapper({decrypt:i});return n.map(function(e){return e.room_id=t,o(e)})}function h(e,t,n){var i=f(e,t,n),o=e.getRoom(t);o?(o.addEphemeralEvents(i),i.forEach(function(t){e.emit(r(d[8]).ClientEvent.Event,t)})):r(d[6]).logger.warn("got ephemeral events for room but room doesn't exist on client:",t)}},863,[1,11,12,739,743,864,746,836,796,765,806,814,766,768,810,767,748]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SlidingSyncState=_e.SlidingSyncEvent=_e.SlidingSync=_e.MSC3575_WILDCARD=_e.MSC3575_STATE_KEY_ME=_e.MSC3575_STATE_KEY_LAZY=_e.ExtensionState=void 0;var t=e(r(d[1])),n=e(r(d[2])),s=e(r(d[3])),o=e(r(d[4])),u=e(r(d[5])),l=e(r(d[6])),c=e(r(d[7]));function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}_e.MSC3575_WILDCARD="*",_e.MSC3575_STATE_KEY_ME="$ME",_e.MSC3575_STATE_KEY_LAZY="$LAZY";var v=_e.SlidingSyncState=(function(e){return e.RequestFinished="FINISHED",e.Complete="COMPLETE",e})({}),S=(function(){return(0,u.default)(function e(t){(0,o.default)(this,e),(0,c.default)(this,"list",void 0),(0,c.default)(this,"isModified",void 0),(0,c.default)(this,"joinedCount",0),this.replaceList(t)},[{key:"setModified",value:function(e){this.isModified=e}},{key:"updateListRange",value:function(e){this.list.ranges=JSON.parse(JSON.stringify(e))}},{key:"replaceList",value:function(e){var t,n;e.filters=null!==(t=e.filters)&&void 0!==t?t:{},e.ranges=null!==(n=e.ranges)&&void 0!==n?n:[],this.list=JSON.parse(JSON.stringify(e)),this.isModified=!0,this.joinedCount=0}},{key:"getList",value:function(e){var t={ranges:JSON.parse(JSON.stringify(this.list.ranges))};return(this.isModified||e)&&(t=JSON.parse(JSON.stringify(this.list))),t}}])})(),p=_e.ExtensionState=(function(e){return e.PreProcess="ExtState.PreProcess",e.PostProcess="ExtState.PostProcess",e})({}),y=_e.SlidingSyncEvent=(function(e){return e.RoomData="SlidingSync.RoomData",e.Lifecycle="SlidingSync.Lifecycle",e})({}),h=(_e.SlidingSync=(function(e){function b(e,s,u,l,v){var p,y,h,R;return(0,o.default)(this,b),y=this,h=b,h=(0,n.default)(h),(p=(0,t.default)(y,f()?Reflect.construct(h,R||[],(0,n.default)(y).constructor):h.apply(y,R))).proxyBaseUrl=e,p.roomSubscriptionInfo=u,p.client=l,p.timeoutMS=v,(0,c.default)(p,"lists",void 0),(0,c.default)(p,"listModifiedCount",0),(0,c.default)(p,"terminated",!1),(0,c.default)(p,"needsResend",!1),(0,c.default)(p,"extensions",{}),(0,c.default)(p,"desiredRoomSubscriptions",new Set),(0,c.default)(p,"confirmedRoomSubscriptions",new Set),(0,c.default)(p,"customSubscriptions",new Map),(0,c.default)(p,"roomIdToCustomSubscription",new Map),(0,c.default)(p,"pendingReq",void 0),(0,c.default)(p,"abortController",void 0),p.lists=new Map,s.forEach(function(e,t){p.lists.set(t,new S(e))}),p}return(0,s.default)(b,e),(0,u.default)(b,[{key:"addCustomSubscription",value:function(e,t){this.customSubscriptions.has(e)?r(d[8]).logger.warn("addCustomSubscription: ".concat(e," already exists as a custom subscription, ignoring.")):this.customSubscriptions.set(e,t)}},{key:"useCustomSubscription",value:function(e,t){this.roomIdToCustomSubscription.get(e)!==t&&(this.roomIdToCustomSubscription.set(e,t),this.confirmedRoomSubscriptions.delete(e))}},{key:"getListData",value:function(e){var t=this.lists.get(e);return t?{joinedCount:t.joinedCount}:null}},{key:"getListParams",value:function(e){var t=this.lists.get(e);return t?t.getList(!0):null}},{key:"setListRanges",value:function(e,t){var n=this.lists.get(e);if(!n)throw new Error("no list with key "+e);n.updateListRange(t),this.resend()}},{key:"setList",value:function(e,t){var n=this.lists.get(e);n?(n.replaceList(t),this.lists.set(e,n)):this.lists.set(e,new S(t)),this.listModifiedCount+=1,this.resend()}},{key:"getRoomSubscriptions",value:function(){return new Set(Array.from(this.desiredRoomSubscriptions))}},{key:"modifyRoomSubscriptions",value:function(e){this.desiredRoomSubscriptions=e,this.resend()}},{key:"modifyRoomSubscriptionInfo",value:function(e){this.roomSubscriptionInfo=e,this.confirmedRoomSubscriptions=new Set,this.resend()}},{key:"registerExtension",value:function(e){if(this.extensions[e.name()])throw new Error("registerExtension: ".concat(e.name()," already exists as an extension"));this.extensions[e.name()]=e}},{key:"getExtensionRequest",value:function(e){var t=this;return(0,l.default)(function*(){var n={};for(var s in t.extensions)n[s]=yield t.extensions[s].onRequest(e);return n})()}},{key:"onPreExtensionsResponse",value:function(e){var t=this;return(0,l.default)(function*(){yield Promise.all(Object.keys(e).map((function(){var n=(0,l.default)(function*(n){t.extensions[n].when()==p.PreProcess&&(yield t.extensions[n].onResponse(e[n]))});return function(e){return n.apply(this,arguments)}})()))})()}},{key:"onPostExtensionsResponse",value:function(e){var t=this;return(0,l.default)(function*(){yield Promise.all(Object.keys(e).map((function(){var n=(0,l.default)(function*(n){t.extensions[n].when()==p.PostProcess&&(yield t.extensions[n].onResponse(e[n]))});return function(e){return n.apply(this,arguments)}})()))})()}},{key:"invokeRoomDataListeners",value:function(e,t){var n=this;return(0,l.default)(function*(){t.required_state||(t.required_state=[]),t.timeline||(t.timeline=[]),yield n.emitPromised(y.RoomData,e,t)})()}},{key:"invokeLifecycleListeners",value:function(e,t,n){this.emit(y.Lifecycle,e,t,n)}},{key:"resend",value:function(){var e;this.needsResend=!0,null===(e=this.abortController)||void 0===e||e.abort(),this.abortController=new AbortController}},{key:"stop",value:function(){var e;this.terminated=!0,null===(e=this.abortController)||void 0===e||e.abort(),this.removeAllListeners(y.Lifecycle),this.removeAllListeners(y.RoomData)}},{key:"resetup",value:function(){r(d[8]).logger.warn("SlidingSync: resetting connection info"),this.lists.forEach(function(e){e.setModified(!0)}),this.confirmedRoomSubscriptions=new Set,this.resend()}},{key:"start",value:function(){var e=this;return(0,l.default)(function*(){var t;e.abortController=new AbortController;for(var n=function*(){var n;e.needsResend=!1;try{var s,o,u,l={};e.lists.forEach(function(e,t){l[t]=e.getList(!0)});var c={lists:l,pos:t,timeout:e.timeoutMS,clientTimeout:e.timeoutMS+1e4,extensions:yield e.getExtensionRequest(void 0===t)},f=h(e.desiredRoomSubscriptions,e.confirmedRoomSubscriptions),S=h(e.confirmedRoomSubscriptions,e.desiredRoomSubscriptions);if(S.size>0&&(c.unsubscribe_rooms=Array.from(S)),f.size>0)for(var p of(c.room_subscriptions={},f)){var y=e.roomIdToCustomSubscription.get(p),b=e.roomSubscriptionInfo;y&&e.customSubscriptions.has(y)&&(b=e.customSubscriptions.get(y)),c.room_subscriptions[p]=b}for(var R of(e.pendingReq=e.client.slidingSync(c,e.proxyBaseUrl,e.abortController.signal),n=yield e.pendingReq,t=n.pos,f))e.confirmedRoomSubscriptions.add(R);for(var E of S)e.confirmedRoomSubscriptions.delete(E);e.lists.forEach(function(e){e.setModified(!1)}),n.lists=null!==(s=n.lists)&&void 0!==s?s:{},n.rooms=null!==(o=n.rooms)&&void 0!==o?o:{},n.extensions=null!==(u=n.extensions)&&void 0!==u?u:{},Object.keys(n.lists).forEach(function(t){var s=e.lists.get(t);s&&n&&(s.joinedCount=n.lists[t].count)}),e.invokeLifecycleListeners(v.RequestFinished,n)}catch(n){if(n.httpStatus){if(e.invokeLifecycleListeners(v.RequestFinished,null,n),400===n.httpStatus)return e.resetup(),t=void 0,yield(0,r(d[9]).sleep)(50),0}else if(e.needsResend||"AbortError"===n.name)return 0;r(d[8]).logger.error(n),yield(0,r(d[9]).sleep)(5e3)}if(!n)return 0;for(var L in yield e.onPreExtensionsResponse(n.extensions),n.rooms)yield e.invokeRoomDataListeners(L,n.rooms[L]);e.invokeLifecycleListeners(v.Complete,n),yield e.onPostExtensionsResponse(n.extensions)};!e.terminated;)yield*n()})()}}])})(r(d[10]).TypedEventEmitter),function(e,t){var n=new Set(e);for(var s of t)n.delete(s);return n})},864,[1,18,20,23,11,12,743,739,746,748,762]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.RUST_SDK_STORE_PREFIX=void 0;e.RUST_SDK_STORE_PREFIX="matrix-js-sdk"},865,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.initRustCrypto=function(e){return l.apply(this,arguments)};var t=e(_r(d[1])),r=e(_r(d[2])),n=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,c)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?o(c,l,i):c[l]=e[l]);return c})(e,t)})(_r(d[3])),o=n;function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach(function(r){(0,t.default)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(){return(l=(0,r.default)(function*(e){var t,r=e.logger;r.debug("Initialising Rust crypto-sdk WASM artifact"),yield o.initAsync(),r.debug("Opening Rust CryptoStore"),t=e.storePrefix?e.storeKey?yield n.StoreHandle.openWithKey(e.storePrefix,e.storeKey,r):yield n.StoreHandle.open(e.storePrefix,e.storePassphrase,r):yield n.StoreHandle.open(null,null,r),e.legacyCryptoStore&&(yield(0,_r(d[4]).migrateFromLegacyCrypto)(c({legacyStore:e.legacyCryptoStore,storeHandle:t},e)));var i=yield y(r,e.http,e.userId,e.deviceId,e.secretStorage,e.cryptoCallbacks,t,e.legacyCryptoStore,e.enableEncryptedStateEvents);return t.free(),r.debug("Completed rust crypto-sdk setup"),i})).apply(this,arguments)}function y(e,t,r,n,o,i,c,l,y){return s.apply(this,arguments)}function s(){return(s=(0,r.default)(function*(e,t,r,n,i,c,l,y,s){e.debug("Init OlmMachine");var u=yield o.OlmMachine.initFromStore(new o.UserId(r),new o.DeviceId(n),l,e);y&&(yield(0,_r(d[4]).migrateRoomSettingsFromLegacyCrypto)({logger:e,legacyStore:y,olmMachine:u})),u.roomKeyRequestsEnabled=!1;var p=new(_r(d[5]).RustCrypto)(e,u,t,r,n,i,c,s);if((yield u.registerRoomKeyUpdatedCallback(function(e){return p.onRoomKeysUpdated(e)}),yield u.registerRoomKeysWithheldCallback(function(e){return p.onRoomKeysWithheld(e)}),yield u.registerUserIdentityUpdatedCallback(function(e){return p.onUserIdentityUpdated(e)}),yield u.registerDevicesUpdatedCallback(function(e){return p.onDevicesUpdated(e)}),p.checkSecrets("m.megolm_backup.v1"),yield u.registerReceiveSecretCallback(function(e,t){return p.checkSecrets(e)}),yield u.outgoingRequests(),y&&(yield y.containsData()))&&(yield y.getMigrationState())<_r(d[6]).MigrationState.INITIAL_OWN_KEY_QUERY_DONE){e.debug("Performing initial key query after migration");for(var f=!1;!f;)try{yield p.userHasCrossSigningKeys(r),f=!0}catch(t){e.error("Failed to check for cross-signing keys after migration, retrying",t)}yield(0,_r(d[4]).migrateLegacyLocalTrustIfNeeded)({legacyCryptoStore:y,rustCrypto:p,logger:e}),yield y.setMigrationState(_r(d[6]).MigrationState.INITIAL_OWN_KEY_QUERY_DONE)}return p})).apply(this,arguments)}},866,[1,739,743,867,869,884,872]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0});var e={initAsync:!0};_e.initAsync=function(){return f.apply(this,arguments)};var n=t(_r(d[1])),r=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,s={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return s;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,s)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(o.get||o.set)?i(s,u,o):s[u]=t[u]);return s})(t,e)})(_r(d[2]));Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===r[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return r[t]}}))});var i=new URL("./pkg/matrix_sdk_crypto_wasm_bg.wasm",import.meta.url);r.__wbg_set_wasm(new Proxy({},{get:function(){throw new Error("@matrix-org/matrix-sdk-crypto-wasm was used before it was initialized. Call `initAsync` first.")}}));var o=null;function s(t){return u.apply(this,arguments)}function u(){return(u=(0,n.default)(function*(t){var e=(yield WebAssembly.instantiateStreaming(fetch(t),{"./matrix_sdk_crypto_wasm_bg.js":r})).instance;r.__wbg_set_wasm(e.exports),e.exports.__wbindgen_start()})).apply(this,arguments)}function f(){return f=(0,n.default)(function*(){o||(o=s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i)),yield o}),f.apply(this,arguments)}},867,[1,356,868]);
__d(function(e,t,r,_,n,i,o){var a=t(o[0]);Object.defineProperty(i,"__esModule",{value:!0}),i.TrustRequirement=i.Tracing=i.ToDeviceUnableToDecryptReason=i.ToDeviceUnableToDecryptInfo=i.ToDeviceRequest=i.ToDeviceEncryptionInfo=i.StoredRoomKeyBundleData=i.StoreHandle=i.Signatures=i.SignatureVerification=i.SignatureUploadRequest=i.SignatureState=i.Signature=i.ShieldStateCode=i.ShieldState=i.ShieldColor=i.ServerName=i.SecretsBundle=i.Sas=i.RoomSettings=i.RoomMessageRequest=i.RoomKeyWithheldInfo=i.RoomKeyInfo=i.RoomKeyImportResult=i.RoomKeyCounts=i.RoomId=i.RequestType=i.RehydratedDevice=i.QrState=i.QrCodeScan=i.QrCodeMode=i.QrCodeData=i.QrCode=i.Qr=i.PutDehydratedDeviceRequest=i.ProcessedToDeviceEventType=i.PlainTextToDeviceEvent=i.PkMessage=i.PkEncryption=i.PkDecryption=i.PickledSession=i.PickledInboundGroupSession=i.OwnUserIdentity=i.OutboundCreationResult=i.OtherUserIdentity=i.OlmMachine=i.Migration=i.MegolmV1BackupKey=i.MegolmDecryptionError=i.MaybeSignature=i.LoggerLevel=i.LocalTrust=i.KeysUploadRequest=i.KeysQueryRequest=i.KeysClaimRequest=i.KeysBackupRequest=i.InvalidToDeviceEvent=i.InboundGroupSession=i.InboundCreationResult=i.IdentityKeys=i.HistoryVisibility=i.EventId=i.EstablishedEcies=i.EncryptionSettings=i.EncryptionInfo=i.EncryptionAlgorithm=i.EncryptedAttachment=i.Emoji=i.Ed25519Signature=i.Ed25519PublicKey=i.Ecies=i.DeviceLists=i.DeviceKeyName=i.DeviceKeyId=i.DeviceKeyAlgorithmName=i.DeviceKeyAlgorithm=i.DeviceKey=i.DeviceId=i.Device=i.DehydratedDevices=i.DehydratedDeviceKey=i.DehydratedDevice=i.DecryptionSettings=i.DecryptionErrorCode=i.DecryptedToDeviceEvent=i.DecryptedRoomEvent=i.Curve25519SecretKey=i.Curve25519PublicKey=i.CrossSigningStatus=i.CrossSigningKeyExport=i.CrossSigningBootstrapRequests=i.CollectStrategy=i.CheckCode=i.CancelInfo=i.BaseMigrationData=i.Base64EncodedPkMessage=i.BackupSecretsBundle=i.BackupKeys=i.BackupDecryptionKey=i.Attachment=void 0,i.Versions=i.VerificationRequestPhase=i.VerificationRequest=i.VerificationMethod=i.UserId=i.UserDevices=i.UploadSigningKeysRequest=i.UTDToDeviceEvent=void 0,i.__wbg_Error_52673b7de5a0ca89=function(e,t){return Error(v(e,t))},i.__wbg_Number_2d1dcfcf4ec51736=function(e){return Number(e)},i.__wbg_String_8f0eb39a4a4c2f66=function(e,t){var r=I(String(t),u.__wbindgen_malloc,u.__wbindgen_realloc),_=U;l().setInt32(e+4,_,!0),l().setInt32(e+0,r,!0)},i.__wbg_Window_bad6cc2ef3d218d1=function(e){return e.Window},i.__wbg_WorkerGlobalScope_ce34368dd76f04b5=function(e){return e.WorkerGlobalScope},i.__wbg___wbindgen_bigint_get_as_i64_6e32f5e6aff02e1d=function(e,t){var r=t,_='bigint'==typeof r?r:void 0;l().setBigInt64(e+8,R(_)?BigInt(0):_,!0),l().setInt32(e+0,!R(_),!0)},i.__wbg___wbindgen_boolean_get_dea25b33882b895b=function(e){var t=e,r='boolean'==typeof t?t:void 0;return R(r)?16777215:r?1:0},i.__wbg___wbindgen_debug_string_adfb662ae34724b6=function(e,t){var r=I(b(t),u.__wbindgen_malloc,u.__wbindgen_realloc),_=U;l().setInt32(e+4,_,!0),l().setInt32(e+0,r,!0)},i.__wbg___wbindgen_in_0d3e1e8f0c669317=function(e,t){return e in t},i.__wbg___wbindgen_is_bigint_0e1a2e3f55cfae27=function(e){return'bigint'==typeof e},i.__wbg___wbindgen_is_function_8d400b8b1af978cd=function(e){return'function'==typeof e},i.__wbg___wbindgen_is_null_dfda7d66506c95b5=function(e){return null===e},i.__wbg___wbindgen_is_object_ce774f3490692386=function(e){var t=e;return'object'==typeof t&&null!==t},i.__wbg___wbindgen_is_string_704ef9c8fc131030=function(e){return'string'==typeof e},i.__wbg___wbindgen_is_undefined_f6b95eab589e0269=function(e){return void 0===e},i.__wbg___wbindgen_jsval_eq_b6101cc9cef1fe36=function(e,t){return e===t},i.__wbg___wbindgen_jsval_loose_eq_766057600fdd1b0d=function(e,t){return e==t},i.__wbg___wbindgen_number_get_9619185a74197f95=function(e,t){var r=t,_='number'==typeof r?r:void 0;l().setFloat64(e+8,R(_)?0:_,!0),l().setInt32(e+0,!R(_),!0)},i.__wbg___wbindgen_string_get_a2a31e16edf96e42=function(e,t){var r=t,_='string'==typeof r?r:void 0,n=R(_)?0:I(_,u.__wbindgen_malloc,u.__wbindgen_realloc),i=U;l().setInt32(e+4,i,!0),l().setInt32(e+0,n,!0)},i.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,t){throw new Error(v(e,t))},i.__wbg___wbindgen_try_into_number_9d33ffe037a9f5e5=function(e){var t;try{t=+e}catch(e){t=e}return t},i.__wbg__wbg_cb_unref_87dfb5aaa0cbcea7=function(e){e._wbg_cb_unref()},i.__wbg_abort_45186b2c363ae467=function(){return S(function(e){e.abort()},arguments)},i.__wbg_add_c1fb373a6e8701af=function(){return S(function(e,t,r){return e.add(t,r)},arguments)},i.__wbg_add_f0bf6d9527665471=function(e,t){return e.add(t)},i.__wbg_at_505937f1c4b80bfa=function(e,t){return e.at(t)},i.__wbg_backupkeys_new=function(e){return Kt.__wrap(e)},i.__wbg_bound_6fa641bacd961cc0=function(){return S(function(e,t,r,_){return IDBKeyRange.bound(e,t,0!==r,0!==_)},arguments)},i.__wbg_call_3020136f7a2d6e44=function(){return S(function(e,t,r){return e.call(t,r)},arguments)},i.__wbg_call_78f94eb02ec7f9b2=function(){return S(function(e,t,r,_,n){return e.call(t,r,_,n)},arguments)},i.__wbg_call_abb4ff46ce38be40=function(){return S(function(e,t){return e.call(t)},arguments)},i.__wbg_call_c8baa5c5e72d274e=function(){return S(function(e,t,r,_){return e.call(t,r,_)},arguments)},i.__wbg_clearTimeout_5a54f8841c30079a=function(e){return clearTimeout(e)},i.__wbg_clear_0e6ff4790cdabf11=function(){return S(function(e){return e.clear()},arguments)},i.__wbg_close_cf7ef4e294ac3858=function(e){e.close()},i.__wbg_code_c2a85f2863ec11b3=function(e){return e.code},i.__wbg_commit_073afc947129550a=function(){return S(function(e){e.commit()},arguments)},i.__wbg_continue_f42217c3ef5cf6dd=function(){return S(function(e){e.continue()},arguments)},i.__wbg_count_3fa291ea0e8fceec=function(){return S(function(e){return e.count()},arguments)},i.__wbg_count_c05e51d4a5d263a1=function(){return S(function(e){return e.count()},arguments)},i.__wbg_createIndex_3889f4177a3fa5d0=function(){return S(function(e,t,r,_,n){return e.createIndex(v(t,r),_,n)},arguments)},i.__wbg_createIndex_3c576f3c5564f5d7=function(){return S(function(e,t,r,_){return e.createIndex(v(t,r),_)},arguments)},i.__wbg_createObjectStore_dba64acfe84d4191=function(){return S(function(e,t,r){return e.createObjectStore(v(t,r))},arguments)},i.__wbg_crosssigningbootstraprequests_new=function(e){return Bt.__wrap(e)},i.__wbg_crosssigningkeyexport_new=function(e){return jt.__wrap(e)},i.__wbg_crosssigningstatus_new=function(e){return Ut.__wrap(e)},i.__wbg_crypto_574e78ad8b13b65f=function(e){return e.crypto},i.__wbg_debug_949d8a9c97c02a01=function(e,t){e.debug(t)},i.__wbg_debug_9d0c87ddda3dc485=function(e){console.debug(e)},i.__wbg_decryptedroomevent_new=function(e){return Tt.__wrap(e)},i.__wbg_decryptedtodeviceevent_new=function(e){return Mt.__wrap(e)},i.__wbg_dehydrateddevice_new=function(e){return At.__wrap(e)},i.__wbg_dehydrateddevicekey_new=function(e){return Pt.__wrap(e)},i.__wbg_deleteObjectStore_88e9fff1fbbc6189=function(){return S(function(e,t,r){e.deleteObjectStore(v(t,r))},arguments)},i.__wbg_delete_91010f5a5282eb97=function(){return S(function(e){return e.delete()},arguments)},i.__wbg_delete_a8cf58aab29e18d2=function(){return S(function(e,t){return e.delete(t)},arguments)},i.__wbg_device_new=function(e){return Lt.__wrap(e)},i.__wbg_deviceid_new=function(e){return Qt.__wrap(e)},i.__wbg_devicekey_new=function(e){return Wt.__wrap(e)},i.__wbg_devicekeyid_new=function(e){return $t.__wrap(e)},i.__wbg_done_62ea16af4ce34b24=function(e){return e.done},i.__wbg_emoji_new=function(e){return Zt.__wrap(e)},i.__wbg_encryptedattachment_new=function(e){return er.__wrap(e)},i.__wbg_encryptioninfo_new=function(e){return tr.__wrap(e)},i.__wbg_entries_83c79938054e065f=function(e){return Object.entries(e)},i.__wbg_entries_9af46b7eaf7dfefa=function(e){return e.entries()},i.__wbg_error_7534b8e9a36f1ab4=function(e,t){var r,_;try{r=e,_=t,console.error(v(e,t))}finally{u.__wbindgen_free(r,_,1)}},i.__wbg_error_7bc79084e71bc74a=function(e,t){e.error(t)},i.__wbg_error_7bc7d576a6aaf855=function(e){console.error(e)},i.__wbg_error_ad02a286da74488a=function(){return S(function(e){var t=e.error;return R(t)?0:g(t)},arguments)},i.__wbg_from_29a8414a7a7cd19d=function(e){return Array.from(e)},i.__wbg_getAllKeys_925405ffbd671e86=function(){return S(function(e){return e.getAllKeys()},arguments)},i.__wbg_getAll_236edca313646f4d=function(){return S(function(e){return e.getAll()},arguments)},i.__wbg_getAll_48e288420773a079=function(){return S(function(e,t){return e.getAll(t)},arguments)},i.__wbg_getAll_eec11317662a8eba=function(){return S(function(e,t,r){return e.getAll(t,r>>>0)},arguments)},i.__wbg_getRandomValues_9b655bdd369112f2=function(){return S(function(e,t){globalThis.crypto.getRandomValues(y(e,t))},arguments)},i.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return S(function(e,t){e.getRandomValues(t)},arguments)},i.__wbg_getTime_ad1e9878a735af08=function(e){return e.getTime()},i.__wbg_get_10889f5b611cd1c6=function(){return S(function(e,t){return e.get(t)},arguments)},i.__wbg_get_6b7bd52aca3f9671=function(e,t){return e[t>>>0]},i.__wbg_get_7d8b665fa88606d5=function(){return S(function(e,t){return e.get(t)},arguments)},i.__wbg_get_af9dab7e9603ea93=function(){return S(function(e,t){return Reflect.get(e,t)},arguments)},i.__wbg_get_with_ref_key_1dc361bd10053bfe=function(e,t){return e[t]},i.__wbg_global_e78add1f0bdfe974=function(e){return e.global},i.__wbg_inboundgroupsession_new=function(e){return ar.__wrap(e)},i.__wbg_index_6af68133e0cdd5f8=function(){return S(function(e,t,r){return e.index(v(t,r))},arguments)},i.__wbg_indexedDB_121c33bea2560f72=function(){return S(function(e){var t=e.indexedDB;return R(t)?0:g(t)},arguments)},i.__wbg_indexedDB_23c232e00a1e28ad=function(){return S(function(e){var t=e.indexedDB;return R(t)?0:g(t)},arguments)},i.__wbg_indexedDB_769a3833286f42f3=function(){return S(function(e){var t=e.indexedDB;return R(t)?0:g(t)},arguments)},i.__wbg_info_ce6bcc489c22f6f0=function(e){console.info(e)},i.__wbg_info_fd876dbb310ad775=function(e,t){e.info(t)},i.__wbg_instanceof_ArrayBuffer_f3320d2419cd0355=function(e){var t;try{t=e instanceof ArrayBuffer}catch(e){t=!1}return t},i.__wbg_instanceof_CursorSys_383984afc1fa1bbc=function(e){var t;try{t=e instanceof IDBCursorWithValue}catch(e){t=!1}return t},i.__wbg_instanceof_DomException_d430cd4fb5284a83=function(e){var t;try{t=e instanceof DOMException}catch(e){t=!1}return t},i.__wbg_instanceof_Error_3443650560328fa9=function(e){var t;try{t=e instanceof Error}catch(e){t=!1}return t},i.__wbg_instanceof_IdbCursor_5641812dc2120a05=function(e){var t;try{t=e instanceof IDBCursor}catch(e){t=!1}return t},i.__wbg_instanceof_IdbDatabase_f4e157055e32c479=function(e){var t;try{t=e instanceof IDBDatabase}catch(e){t=!1}return t},i.__wbg_instanceof_IdbOpenDbRequest_e4a587961e53201e=function(e){var t;try{t=e instanceof IDBOpenDBRequest}catch(e){t=!1}return t},i.__wbg_instanceof_IdbRequest_9000a361b4bf0dc6=function(e){var t;try{t=e instanceof IDBRequest}catch(e){t=!1}return t},i.__wbg_instanceof_Map_084be8da74364158=function(e){var t;try{t=e instanceof Map}catch(e){t=!1}return t},i.__wbg_instanceof_Promise_eca6c43a2610558d=function(e){var t;try{t=e instanceof Promise}catch(e){t=!1}return t},i.__wbg_instanceof_Uint8Array_da54ccc9d3e09434=function(e){var t;try{t=e instanceof Uint8Array}catch(e){t=!1}return t},i.__wbg_invalidtodeviceevent_new=function(e){return ur.__wrap(e)},i.__wbg_isArray_51fd9e6422c0a395=function(e){return Array.isArray(e)},i.__wbg_isArray_ca6bc609f742df3f=function(e){return Array.isArray(e)},i.__wbg_isSafeInteger_ae7d3f054d55fa16=function(e){return Number.isSafeInteger(e)},i.__wbg_item_fa6253e690a05e50=function(e,t,r){var _=t.item(r>>>0),n=R(_)?0:I(_,u.__wbindgen_malloc,u.__wbindgen_realloc),i=U;l().setInt32(e+4,i,!0),l().setInt32(e+0,n,!0)},i.__wbg_iterator_27b7c8b35ab3e86b=function(){return Symbol.iterator},i.__wbg_key_5ffb2273b5ffc24a=function(){return S(function(e){return e.key},arguments)},i.__wbg_keysbackuprequest_new=function(e){return sr.__wrap(e)},i.__wbg_keysclaimrequest_new=function(e){return cr.__wrap(e)},i.__wbg_keysqueryrequest_new=function(e){return gr.__wrap(e)},i.__wbg_keysuploadrequest_new=function(e){return fr.__wrap(e)},i.__wbg_length_22ac23eaec9d8053=function(e){return e.length},i.__wbg_length_9b7368e374b28279=function(e){return e.length},i.__wbg_length_d45040a40c570362=function(e){return e.length},i.__wbg_lowerBound_13747835b262040c=function(){return S(function(e,t){return IDBKeyRange.lowerBound(e,0!==t)},arguments)},i.__wbg_maybesignature_new=function(e){return dr.__wrap(e)},i.__wbg_megolmdecryptionerror_new=function(e){return br.__wrap(e)},i.__wbg_message_0305fa7903f4b3d9=function(e){return e.message},i.__wbg_message_a4e9a39ee8f92b17=function(e,t){var r=I(t.message,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U;l().setInt32(e+4,_,!0),l().setInt32(e+0,r,!0)},i.__wbg_msCrypto_a61aeb35a24c1329=function(e){return e.msCrypto},i.__wbg_name_9136863a055402ff=function(e,t){var r=I(t.name,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U;l().setInt32(e+4,_,!0),l().setInt32(e+0,r,!0)},i.__wbg_new_1ba21ce319a06297=function(){return new Object},i.__wbg_new_25f239778d6112b9=function(){return new Array},i.__wbg_new_6421f6084cc5bc5a=function(e){return new Uint8Array(e)},i.__wbg_new_746bb58304020083=function(e){return new Set(e)},i.__wbg_new_8a6f238a6ece86ea=function(){return new Error},i.__wbg_new_b2db8aa2650f793a=function(e){return new Date(e)},i.__wbg_new_b546ae120718850e=function(){return new Map},i.__wbg_new_df1173567d5ff028=function(e,t){return new Error(v(e,t))},i.__wbg_new_ff12d2b041fb48f1=function(e,t){try{var r={a:e,b:t},_=new Promise(function(e,t){var _=r.a;r.a=0;try{return M(_,r.b,e,t)}finally{r.a=_}});return _}finally{r.a=r.b=0}},i.__wbg_new_no_args_cb138f77cf6151ee=function(e,t){return new Function(v(e,t))},i.__wbg_new_with_length_30843b434774b4c6=function(e){return new Uint8ClampedArray(e>>>0)},i.__wbg_new_with_length_aa5eaf41d35235e5=function(e){return new Uint8Array(e>>>0)},i.__wbg_next_138a17bbf04e926c=function(e){return e.next},i.__wbg_next_3cfe5c0fe2a4cc53=function(){return S(function(e){return e.next()},arguments)},i.__wbg_node_905d3e251edff8a2=function(e){return e.node},i.__wbg_now_2c95c9de01293173=function(e){return e.now()},i.__wbg_now_69d776cd24f5215b=function(){return Date.now()},i.__wbg_objectStoreNames_90900f9a531513ac=function(e){return e.objectStoreNames},i.__wbg_objectStore_da9a077b8849dbe9=function(){return S(function(e,t,r){return e.objectStore(v(t,r))},arguments)},i.__wbg_oldVersion_2950700d81809b3e=function(e){return e.oldVersion},i.__wbg_olmmachine_new=function(e){return pr.__wrap(e)},i.__wbg_openCursor_065c5304428cc4d8=function(){return S(function(e){return e.openCursor()},arguments)},i.__wbg_openCursor_99b45bb4fa3166ab=function(){return S(function(e){return e.openCursor()},arguments)},i.__wbg_openCursor_c5d6ba9ba92d3ab5=function(){return S(function(e,t){return e.openCursor(t)},arguments)},i.__wbg_open_0d7b85f4c0a38ffe=function(){return S(function(e,t,r,_){return e.open(v(t,r),_>>>0)},arguments)},i.__wbg_open_2a2740c93beabe29=function(){return S(function(e,t,r){return e.open(v(t,r))},arguments)},i.__wbg_otheruseridentity_new=function(e){return lr.__wrap(e)},i.__wbg_ownuseridentity_new=function(e){return hr.__wrap(e)},i.__wbg_parse_a09a54cf72639456=function(){return S(function(e,t){return JSON.parse(v(e,t))},arguments)},i.__wbg_performance_7a3ffd0b17f663ad=function(e){return e.performance},i.__wbg_pickledinboundgroupsession_unwrap=function(e){return kr.__unwrap(e)},i.__wbg_pickledsession_unwrap=function(e){return mr.__unwrap(e)},i.__wbg_plaintexttodeviceevent_new=function(e){return Kr.__wrap(e)},i.__wbg_process_dc0fbacc7c1c06f7=function(e){return e.process},i.__wbg_prototypesetcall_d3dc3532c827f7d3=function(e,t,r){Uint8ClampedArray.prototype.set.call(y(e,t),r)},i.__wbg_prototypesetcall_dfe9b766cdc1f1fd=function(e,t,r){Uint8Array.prototype.set.call(y(e,t),r)},i.__wbg_push_7d9be8f38fc13975=function(e,t){return e.push(t)},i.__wbg_put_d40a68e5a8902a46=function(){return S(function(e,t,r){return e.put(t,r)},arguments)},i.__wbg_putdehydrateddevicerequest_new=function(e){return Fr.__wrap(e)},i.__wbg_qr_new=function(e){return Ir.__wrap(e)},i.__wbg_queueMicrotask_9b549dfce8865860=function(e){return e.queueMicrotask},i.__wbg_queueMicrotask_fca69f5bfad613a5=function(e){queueMicrotask(e)},i.__wbg_randomFillSync_ac0988aba3254290=function(){return S(function(e,t){e.randomFillSync(t)},arguments)},i.__wbg_readyState_e534bc496011c2fd=function(e){var t=e.readyState;return(x.indexOf(t)+1||3)-1},i.__wbg_rehydrateddevice_new=function(e){return Or.__wrap(e)},i.__wbg_request_c533970ff464e9b2=function(e){return e.request},i.__wbg_request_d3cccab75790c6a3=function(e){return e.request},i.__wbg_require_60cc747a6bc5215a=function(){return S(function(){return n.require},arguments)},i.__wbg_resolve_fd5bfbaa4ce36e1e=function(e){return Promise.resolve(e)},i.__wbg_result_084f962aedb54250=function(){return S(function(e){return e.result},arguments)},i.__wbg_roomid_unwrap=function(e){return Br.__unwrap(e)},i.__wbg_roomkeycounts_new=function(e){return jr.__wrap(e)},i.__wbg_roomkeyimportresult_new=function(e){return Ur.__wrap(e)},i.__wbg_roomkeyinfo_new=function(e){return Er.__wrap(e)},i.__wbg_roomkeywithheldinfo_new=function(e){return Vr.__wrap(e)},i.__wbg_roommessagerequest_new=function(e){return Tr.__wrap(e)},i.__wbg_roomsettings_new=function(e){return Mr.__wrap(e)},i.__wbg_sas_new=function(e){return xr.__wrap(e)},i.__wbg_secretsbundle_new=function(e){return Ar.__wrap(e)},i.__wbg_setTimeout_db2dbaeefb6f39c7=function(){return S(function(e,t){return setTimeout(e,t)},arguments)},i.__wbg_set_3f1d0b984ed272ed=function(e,t,r){e[t]=r},i.__wbg_set_7df433eea03a5c14=function(e,t,r){e[t>>>0]=r},i.__wbg_set_e2f933902557a0b5=function(e,t,r){e.set(y(t,r))},i.__wbg_set_efaaf145b9377369=function(e,t,r){return e.set(t,r)},i.__wbg_set_onabort_e3f60791db69f136=function(e,t){e.onabort=t},i.__wbg_set_oncomplete_e4a04a9244826e8b=function(e,t){e.oncomplete=t},i.__wbg_set_onerror_08fecec3bdc9d24d=function(e,t){e.onerror=t},i.__wbg_set_onerror_e6509e1998f7da91=function(e,t){e.onerror=t},i.__wbg_set_onsuccess_94332a00452de699=function(e,t){e.onsuccess=t},i.__wbg_set_onupgradeneeded_3dc6e233a6d13fe2=function(e,t){e.onupgradeneeded=t},i.__wbg_set_unique_3dd7b4ef717ec230=function(e,t){e.unique=0!==t},i.__wbg_set_wasm=function(e){u=e},i.__wbg_signatures_new=function(e){return Gr.__wrap(e)},i.__wbg_signatureuploadrequest_new=function(e){return Qr.__wrap(e)},i.__wbg_signatureverification_new=function(e){return Wr.__wrap(e)},i.__wbg_stack_0ed75d68575b0f3c=function(e,t){var r=I(t.stack,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U;l().setInt32(e+4,_,!0),l().setInt32(e+0,r,!0)},i.__wbg_static_accessor_GLOBAL_769e6b65d6557335=function(){var t=void 0===e?null:e;return R(t)?0:g(t)},i.__wbg_static_accessor_GLOBAL_THIS_60cf02db4de8e1c1=function(){var e='undefined'==typeof globalThis?null:globalThis;return R(e)?0:g(e)},i.__wbg_static_accessor_SELF_08f5a74c69739274=function(){var e='undefined'==typeof self?null:self;return R(e)?0:g(e)},i.__wbg_static_accessor_WINDOW_a8924b26aa92d024=function(){var e='undefined'==typeof window?null:window;return R(e)?0:g(e)},i.__wbg_storedroomkeybundledata_new=function(e){return Hr.__wrap(e)},i.__wbg_storehandle_new=function(e){return $r.__wrap(e)},i.__wbg_stringify_655a6390e1f5eb6b=function(){return S(function(e){return JSON.stringify(e)},arguments)},i.__wbg_subarray_845f2f5bce7d061a=function(e,t,r){return e.subarray(t>>>0,r>>>0)},i.__wbg_target_0e3e05a6263c37a0=function(e){var t=e.target;return R(t)?0:g(t)},i.__wbg_then_429f7caf1026411d=function(e,t,r){return e.then(t,r)},i.__wbg_then_4f95312d68691235=function(e,t){return e.then(t)},i.__wbg_toString_f07112df359c997f=function(e){return e.toString()},i.__wbg_todevicerequest_new=function(e){return Xr.__wrap(e)},i.__wbg_transaction_257422def49a0094=function(){return S(function(e,t,r){return e.transaction(t,A[r])},arguments)},i.__wbg_transaction_790ec170b8fbc74b=function(){return S(function(e,t,r,_){return e.transaction(v(t,r),A[_])},arguments)},i.__wbg_transaction_94648249df85f2b3=function(e){return e.transaction},i.__wbg_transaction_edb5bc8f37fa6aec=function(e){var t=e.transaction;return R(t)?0:g(t)},i.__wbg_update_9d3d984f3dbd9e8d=function(){return S(function(e,t){return e.update(t)},arguments)},i.__wbg_upperBound_91858b3be3dd9f34=function(){return S(function(e,t){return IDBKeyRange.upperBound(e,0!==t)},arguments)},i.__wbg_userdevices_new=function(e){return r_.__wrap(e)},i.__wbg_userid_new=function(e){return __.__wrap(e)},i.__wbg_userid_unwrap=function(e){return __.__unwrap(e)},i.__wbg_utdtodeviceevent_new=function(e){return e_.__wrap(e)},i.__wbg_value_3ed795eaabbd91d4=function(){return S(function(e){return e.value},arguments)},i.__wbg_value_57b7b035e117f7ee=function(e){return e.value},i.__wbg_values_9152c8c1ab032dfa=function(e){return e.values()},i.__wbg_verificationrequest_new=function(e){return n_.__wrap(e)},i.__wbg_version_261774ad92018a58=function(e){return e.version},i.__wbg_versions_c01dfd4722a88165=function(e){return e.versions},i.__wbg_warn_6e567d0d926ff881=function(e){console.warn(e)},i.__wbg_warn_d7dd2130cf9e44bb=function(e,t){e.warn(t)},i.__wbindgen_cast_21f3b7099c9334bc=function(e,t){return q(e,t,u.wasm_bindgen__closure__destroy__h2206a9ee15da960c,E)},i.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return v(e,t)},i.__wbindgen_cast_3d323378c35251b8=function(e,t){return q(e,t,u.wasm_bindgen__closure__destroy__ha0c620413101eeff,V)},i.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},i.__wbindgen_cast_7c76986129f237a3=function(e,t){return q(e,t,u.wasm_bindgen__closure__destroy__ha0c620413101eeff,T)},i.__wbindgen_cast_9ae0607507abb057=function(e){return e},i.__wbindgen_cast_c415cbf6e3c3f6d4=function(e,t){return q(e,t,u.wasm_bindgen__closure__destroy__ha0c620413101eeff,V)},i.__wbindgen_cast_cb9088102bce6b30=function(e,t){return y(e,t)},i.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},i.__wbindgen_cast_e481686c74984159=function(e,t){var r=w(e,t).slice();return u.__wbindgen_free(e,4*t,4),r},i.__wbindgen_init_externref_table=function(){var e=u.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},i.getVersions=function(){var e=u.getVersions();return i_.__wrap(e)},i.start=function(){u.start()};var u,s=a(t(o[1])),c=a(t(o[2]));function g(e){var t=u.__externref_table_alloc();return u.__wbindgen_externrefs.set(t,e),t}function f(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}var d='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return e.dtor(e.a,e.b)});function b(e){var t=typeof e;if('number'==t||'boolean'==t||null==e)return`${e}`;if('string'==t)return`"${e}"`;if('symbol'==t){var r=e.description;return null==r?'Symbol':`Symbol(${r})`}if('function'==t){var _=e.name;return'string'==typeof _&&_.length>0?`Function(${_})`:'Function'}if(Array.isArray(e)){var n=e.length,i='[';n>0&&(i+=b(e[0]));for(var o=1;o<n;o++)i+=', '+b(e[o]);return i+=']'}var a,u=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!(u&&u.length>1))return toString.call(e);if('Object'==(a=u[1]))try{return'Object('+JSON.stringify(e)+')'}catch(e){return'Object'}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:a}function w(e,t){e>>>=0;for(var r=l(),_=[],n=e;n<e+4*t;n+=4)_.push(u.__wbindgen_externrefs.get(r.getUint32(n,!0)));return u.__externref_drop_slice(e,t),_}function y(e,t){return e>>>=0,m().subarray(e/1,e/1+t)}var p=null;function l(){return(null===p||!0===p.buffer.detached||void 0===p.buffer.detached&&p.buffer!==u.memory.buffer)&&(p=new DataView(u.memory.buffer)),p}function v(e,t){return B(e>>>=0,t)}var h=null;var k=null;function m(){return null!==k&&0!==k.byteLength||(k=new Uint8Array(u.memory.buffer)),k}function S(e,t){try{return e.apply(this,t)}catch(e){var r=g(e);u.__wbindgen_exn_store(r)}}function R(e){return null==e}function q(e,t,r,_){var n={a:e,b:t,cnt:1,dtor:r},i=function(){n.cnt++;var e=n.a;n.a=0;try{for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return _.apply(void 0,[e,n.b].concat(r))}finally{n.a=e,i._wbg_cb_unref()}};return i._wbg_cb_unref=function(){0===--n.cnt&&(n.dtor(n.a,n.b),n.a=0,d.unregister(n))},d.register(i,n,n),i}function K(e,t){var r=t(1*e.length,1)>>>0;return m().set(e,r/1),U=e.length,r}function F(e,t){for(var r=t(4*e.length,4)>>>0,_=0;_<e.length;_++){var n=g(e[_]);l().setUint32(r+4*_,n,!0)}return U=e.length,r}function I(e,t,r){if(void 0===r){var _=j.encode(e),n=t(_.length,1)>>>0;return m().subarray(n,n+_.length).set(_),U=_.length,n}for(var i=e.length,o=t(i,1)>>>0,a=m(),u=0;u<i;u++){var s=e.charCodeAt(u);if(s>127)break;a[o+u]=s}if(u!==i){0!==u&&(e=e.slice(u)),o=r(o,i,i=u+3*e.length,1)>>>0;var c=m().subarray(o+u,o+i);o=r(o,i,u+=j.encodeInto(e,c).written,1)>>>0}return U=u,o}function z(e){var t=u.__wbindgen_externrefs.get(e);return u.__externref_table_dealloc(e),t}var D=new TextDecoder('utf-8',{ignoreBOM:!0,fatal:!0});D.decode();var C=2146435072,O=0;function B(e,t){return(O+=t)>=C&&((D=new TextDecoder('utf-8',{ignoreBOM:!0,fatal:!0})).decode(),O=t),D.decode(m().subarray(e,e+t))}var j=new TextEncoder;'encodeInto'in j||(j.encodeInto=function(e,t){var r=j.encode(e);return t.set(r),{read:e.length,written:r.length}});var U=0;function E(e,t,r){var _=u.wasm_bindgen__convert__closures_____invoke__ha3468d763895708b(e,t,r);if(_[1])throw z(_[0])}function V(e,t,r){u.wasm_bindgen__convert__closures_____invoke__h27cfc6fd95965300(e,t,r)}function T(e,t){u.wasm_bindgen__convert__closures_____invoke__h300d4d4de75b3e79(e,t)}function M(e,t,r,_){u.wasm_bindgen__convert__closures_____invoke__h4775a85256b8e3fe(e,t,r,_)}var x=["pending","done"],A=["readonly","readwrite","versionchange","readwriteflush","cleanup"],P='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_attachment_free(e>>>0,1)}),N='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_backupdecryptionkey_free(e>>>0,1)}),L='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_backupkeys_free(e>>>0,1)}),Q='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_backupsecretsbundle_free(e>>>0,1)}),W='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_base64encodedpkmessage_free(e>>>0,1)}),G='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_basemigrationdata_free(e>>>0,1)}),$='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_cancelinfo_free(e>>>0,1)}),H='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_checkcode_free(e>>>0,1)}),J='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_collectstrategy_free(e>>>0,1)}),X='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_crosssigningbootstraprequests_free(e>>>0,1)}),Y='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_crosssigningkeyexport_free(e>>>0,1)}),Z='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_crosssigningstatus_free(e>>>0,1)}),ee='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_curve25519publickey_free(e>>>0,1)}),te='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_curve25519secretkey_free(e>>>0,1)}),re='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_decryptedroomevent_free(e>>>0,1)}),_e='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_decryptedtodeviceevent_free(e>>>0,1)}),ne='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_decryptionsettings_free(e>>>0,1)}),ie='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_dehydrateddevice_free(e>>>0,1)}),oe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_dehydrateddevicekey_free(e>>>0,1)}),ae='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_dehydrateddevices_free(e>>>0,1)}),ue='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_device_free(e>>>0,1)}),se='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_deviceid_free(e>>>0,1)}),ce='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_devicekey_free(e>>>0,1)}),ge='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_devicekeyalgorithm_free(e>>>0,1)}),fe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_devicekeyid_free(e>>>0,1)}),de='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_devicelists_free(e>>>0,1)}),be='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_ecies_free(e>>>0,1)}),we='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_ed25519publickey_free(e>>>0,1)}),ye='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_ed25519signature_free(e>>>0,1)}),pe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_emoji_free(e>>>0,1)}),le='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_encryptedattachment_free(e>>>0,1)}),ve='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_encryptioninfo_free(e>>>0,1)}),he='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_encryptionsettings_free(e>>>0,1)}),ke='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_establishedecies_free(e>>>0,1)}),me='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_eventid_free(e>>>0,1)}),Se='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_identitykeys_free(e>>>0,1)}),Re='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_inboundcreationresult_free(e>>>0,1)}),qe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_inboundgroupsession_free(e>>>0,1)}),Ke='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_invalidtodeviceevent_free(e>>>0,1)}),Fe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_keysbackuprequest_free(e>>>0,1)}),Ie='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_keysclaimrequest_free(e>>>0,1)}),ze='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_keysqueryrequest_free(e>>>0,1)}),De='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_keysuploadrequest_free(e>>>0,1)}),Ce='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_maybesignature_free(e>>>0,1)}),Oe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_megolmdecryptionerror_free(e>>>0,1)}),Be='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_megolmv1backupkey_free(e>>>0,1)}),je='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_migration_free(e>>>0,1)}),Ue='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_olmmachine_free(e>>>0,1)}),Ee='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_otheruseridentity_free(e>>>0,1)}),Ve='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_outboundcreationresult_free(e>>>0,1)}),Te='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_ownuseridentity_free(e>>>0,1)}),Me='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_pickledinboundgroupsession_free(e>>>0,1)}),xe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_pickledsession_free(e>>>0,1)}),Ae='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_pkdecryption_free(e>>>0,1)}),Pe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_pkencryption_free(e>>>0,1)}),Ne='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_pkmessage_free(e>>>0,1)}),Le='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_plaintexttodeviceevent_free(e>>>0,1)}),Qe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_putdehydrateddevicerequest_free(e>>>0,1)}),We='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_qr_free(e>>>0,1)}),Ge='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_qrcode_free(e>>>0,1)}),$e='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_qrcodedata_free(e>>>0,1)}),He='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_qrcodescan_free(e>>>0,1)}),Je='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_rehydrateddevice_free(e>>>0,1)}),Xe='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_roomid_free(e>>>0,1)}),Ye='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_roomkeycounts_free(e>>>0,1)}),Ze='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_roomkeyimportresult_free(e>>>0,1)}),et='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_roomkeyinfo_free(e>>>0,1)}),tt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_roomkeywithheldinfo_free(e>>>0,1)}),rt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_roommessagerequest_free(e>>>0,1)}),_t='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_roomsettings_free(e>>>0,1)}),nt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_sas_free(e>>>0,1)}),it='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_secretsbundle_free(e>>>0,1)}),ot='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_servername_free(e>>>0,1)}),at='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_shieldstate_free(e>>>0,1)}),ut='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_signature_free(e>>>0,1)}),st='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_signatureuploadrequest_free(e>>>0,1)}),ct='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_signatureverification_free(e>>>0,1)}),gt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_signatures_free(e>>>0,1)}),ft='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_storehandle_free(e>>>0,1)}),dt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_storedroomkeybundledata_free(e>>>0,1)}),bt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_todeviceencryptioninfo_free(e>>>0,1)}),wt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_todevicerequest_free(e>>>0,1)}),yt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_todeviceunabletodecryptinfo_free(e>>>0,1)}),pt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_tracing_free(e>>>0,1)}),lt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_utdtodeviceevent_free(e>>>0,1)}),vt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_uploadsigningkeysrequest_free(e>>>0,1)}),ht='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_userdevices_free(e>>>0,1)}),kt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_userid_free(e>>>0,1)}),mt='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_verificationrequest_free(e>>>0,1)}),St='undefined'==typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry(function(e){return u.__wbg_versions_free(e>>>0,1)}),Rt=i.Attachment=(function(){return(0,c.default)(function e(){(0,s.default)(this,e)},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,P.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_attachment_free(e,0)}}],[{key:"decrypt",value:function(e){f(e,er);var t=u.attachment_decrypt(e.__wbg_ptr);if(t[3])throw z(t[2]);var r=y(t[0],t[1]).slice();return u.__wbindgen_free(t[0],1*t[1],1),r}},{key:"encrypt",value:function(e){var t=K(e,u.__wbindgen_malloc),r=U,_=u.attachment_encrypt(t,r);if(_[2])throw z(_[1]);return er.__wrap(_[0])}}])})();Symbol.dispose&&(Rt.prototype[Symbol.dispose]=Rt.prototype.free);var qt=i.BackupDecryptionKey=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_backupdecryptionkey_free(e,0)}},{key:"decryptV1",value:function(e,t,r){var _,n;try{var i=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),s=U,c=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),g=U,f=u.backupdecryptionkey_decryptV1(this.__wbg_ptr,i,o,a,s,c,g),d=f[0],b=f[1];if(f[3])throw d=0,b=0,z(f[2]);return _=d,n=b,v(d,b)}finally{u.__wbindgen_free(_,n,1)}}},{key:"megolmV1PublicKey",get:function(){var e=u.backupdecryptionkey_megolmV1PublicKey(this.__wbg_ptr);return wr.__wrap(e)}},{key:"toBase64",value:function(){return u.backupdecryptionkey_toBase64(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,N.register(r,r.__wbg_ptr,r),r}},{key:"fromBase64",value:function(t){var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.backupdecryptionkey_fromBase64(r,_);if(n[2])throw z(n[1]);return e.__wrap(n[0])}},{key:"createRandomKey",value:function(){var t=u.backupdecryptionkey_createRandomKey();return e.__wrap(t)}}])})();Symbol.dispose&&(qt.prototype[Symbol.dispose]=qt.prototype.free);var Kt=i.BackupKeys=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,L.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_backupkeys_free(e,0)}},{key:"decryptionKeyBase64",get:function(){return u.backupkeys_decryptionKeyBase64(this.__wbg_ptr)}},{key:"decryptionKey",get:function(){var e=u.__wbg_get_backupkeys_decryptionKey(this.__wbg_ptr);return 0===e?void 0:qt.__wrap(e)},set:function(e){var t=0;R(e)||(f(e,qt),t=e.__destroy_into_raw()),u.__wbg_set_backupkeys_decryptionKey(this.__wbg_ptr,t)}},{key:"backupVersion",get:function(){var e,t=u.__wbg_get_backupkeys_backupVersion(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e},set:function(e){var t=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupkeys_backupVersion(this.__wbg_ptr,t,r)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,L.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Kt.prototype[Symbol.dispose]=Kt.prototype.free);var Ft=i.BackupSecretsBundle=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Q.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_backupsecretsbundle_free(e,0)}},{key:"key",get:function(){var e,t;try{var r=u.__wbg_get_backupsecretsbundle_key(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}},{key:"backup_version",get:function(){var e,t;try{var r=u.__wbg_get_backupsecretsbundle_backup_version(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_backup_version(this.__wbg_ptr,t,r)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Q.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Ft.prototype[Symbol.dispose]=Ft.prototype.free);var It=i.Base64EncodedPkMessage=(function(){function e(t,r,_){(0,s.default)(this,e);var n=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),i=U,o=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),a=U,c=I(_,u.__wbindgen_malloc,u.__wbindgen_realloc),g=U,f=u.base64encodedpkmessage_new(n,i,o,a,c,g);return this.__wbg_ptr=f>>>0,W.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_base64encodedpkmessage_free(e,0)}},{key:"ciphertext",get:function(){var e,t;try{var r=u.__wbg_get_base64encodedpkmessage_ciphertext(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}},{key:"mac",get:function(){var e,t;try{var r=u.__wbg_get_base64encodedpkmessage_mac(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_backup_version(this.__wbg_ptr,t,r)}},{key:"ephemeralKey",get:function(){var e,t;try{var r=u.__wbg_get_base64encodedpkmessage_ephemeralKey(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_base64encodedpkmessage_ephemeralKey(this.__wbg_ptr,t,r)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,W.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(It.prototype[Symbol.dispose]=It.prototype.free);var zt=i.BaseMigrationData=(function(){return(0,c.default)(function e(){(0,s.default)(this,e);var t=u.basemigrationdata_new();return this.__wbg_ptr=t>>>0,G.register(this,this.__wbg_ptr,this),this},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,G.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_basemigrationdata_free(e,0)}},{key:"userId",get:function(){var e=u.__wbg_get_basemigrationdata_userId(this.__wbg_ptr);return 0===e?void 0:__.__wrap(e)},set:function(e){var t=0;R(e)||(f(e,__),t=e.__destroy_into_raw()),u.__wbg_set_basemigrationdata_userId(this.__wbg_ptr,t)}},{key:"deviceId",get:function(){var e=u.__wbg_get_basemigrationdata_deviceId(this.__wbg_ptr);return 0===e?void 0:Qt.__wrap(e)},set:function(e){var t=0;R(e)||(f(e,Qt),t=e.__destroy_into_raw()),u.__wbg_set_basemigrationdata_deviceId(this.__wbg_ptr,t)}},{key:"pickledAccount",get:function(){var e,t;try{var r=u.__wbg_get_basemigrationdata_pickledAccount(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}},{key:"backupVersion",get:function(){var e,t=u.__wbg_get_basemigrationdata_backupVersion(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e},set:function(e){var t=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_basemigrationdata_backupVersion(this.__wbg_ptr,t,r)}},{key:"backupRecoveryKey",get:function(){var e,t=u.__wbg_get_basemigrationdata_backupRecoveryKey(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e},set:function(e){var t=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_basemigrationdata_backupRecoveryKey(this.__wbg_ptr,t,r)}},{key:"privateCrossSigningMasterKey",get:function(){var e,t=u.__wbg_get_basemigrationdata_privateCrossSigningMasterKey(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e},set:function(e){var t=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_basemigrationdata_privateCrossSigningMasterKey(this.__wbg_ptr,t,r)}},{key:"privateCrossSigningSelfSigningKey",get:function(){var e,t=u.__wbg_get_basemigrationdata_privateCrossSigningSelfSigningKey(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e},set:function(e){var t=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_basemigrationdata_privateCrossSigningSelfSigningKey(this.__wbg_ptr,t,r)}},{key:"privateCrossSigningUserSigningKey",get:function(){var e,t=u.__wbg_get_basemigrationdata_privateCrossSigningUserSigningKey(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e},set:function(e){var t=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_basemigrationdata_privateCrossSigningUserSigningKey(this.__wbg_ptr,t,r)}}])})();Symbol.dispose&&(zt.prototype[Symbol.dispose]=zt.prototype.free);var Dt=i.CancelInfo=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,$.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_cancelinfo_free(e,0)}},{key:"cancelCode",value:function(){var e,t;try{var r=u.cancelinfo_cancelCode(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"cancelledbyUs",value:function(){return 0!==u.cancelinfo_cancelledbyUs(this.__wbg_ptr)}},{key:"reason",value:function(){return u.cancelinfo_reason(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,$.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Dt.prototype[Symbol.dispose]=Dt.prototype.free);var Ct=i.CheckCode=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,H.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_checkcode_free(e,0)}},{key:"as_bytes",value:function(){var e=u.checkcode_as_bytes(this.__wbg_ptr),t=y(e[0],e[1]).slice();return u.__wbindgen_free(e[0],1*e[1],1),t}},{key:"to_digit",value:function(){return u.checkcode_to_digit(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,H.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Ct.prototype[Symbol.dispose]=Ct.prototype.free);var Ot=i.CollectStrategy=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,J.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_collectstrategy_free(e,0)}},{key:"eq",value:function(t){return f(t,e),0!==u.collectstrategy_eq(this.__wbg_ptr,t.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,J.register(r,r.__wbg_ptr,r),r}},{key:"allDevices",value:function(){var t=u.collectstrategy_allDevices();return e.__wrap(t)}},{key:"onlyTrustedDevices",value:function(){var t=u.collectstrategy_onlyTrustedDevices();return e.__wrap(t)}},{key:"deviceBasedStrategy",value:function(t,r){var _=u.collectstrategy_deviceBasedStrategy(t,r);return e.__wrap(_)}},{key:"identityBasedStrategy",value:function(){var t=u.collectstrategy_identityBasedStrategy();return e.__wrap(t)}},{key:"errorOnUnverifiedUserProblem",value:function(){var t=u.collectstrategy_errorOnUnverifiedUserProblem();return e.__wrap(t)}}])})();Symbol.dispose&&(Ot.prototype[Symbol.dispose]=Ot.prototype.free);var Bt=i.CrossSigningBootstrapRequests=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,X.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_crosssigningbootstraprequests_free(e,0)}},{key:"uploadKeysRequest",get:function(){return u.__wbg_get_crosssigningbootstraprequests_uploadKeysRequest(this.__wbg_ptr)}},{key:"uploadSigningKeysRequest",get:function(){var e=u.__wbg_get_crosssigningbootstraprequests_uploadSigningKeysRequest(this.__wbg_ptr);return t_.__wrap(e)}},{key:"uploadSignaturesRequest",get:function(){var e=u.__wbg_get_crosssigningbootstraprequests_uploadSignaturesRequest(this.__wbg_ptr);return Qr.__wrap(e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,X.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Bt.prototype[Symbol.dispose]=Bt.prototype.free);var jt=i.CrossSigningKeyExport=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Y.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_crosssigningkeyexport_free(e,0)}},{key:"masterKey",get:function(){var e,t=u.crosssigningkeyexport_masterKey(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"self_signing_key",get:function(){var e,t=u.crosssigningkeyexport_self_signing_key(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"userSigningKey",get:function(){var e,t=u.crosssigningkeyexport_userSigningKey(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Y.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(jt.prototype[Symbol.dispose]=jt.prototype.free);var Ut=i.CrossSigningStatus=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Z.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_crosssigningstatus_free(e,0)}},{key:"hasMaster",get:function(){return 0!==u.crosssigningstatus_hasMaster(this.__wbg_ptr)}},{key:"hasSelfSigning",get:function(){return 0!==u.crosssigningstatus_hasSelfSigning(this.__wbg_ptr)}},{key:"hasUserSigning",get:function(){return 0!==u.crosssigningstatus_hasUserSigning(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Z.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Ut.prototype[Symbol.dispose]=Ut.prototype.free);var Et=i.Curve25519PublicKey=(function(){function e(t){(0,s.default)(this,e);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.curve25519publickey_new(r,_);if(n[2])throw z(n[1]);return this.__wbg_ptr=n[0]>>>0,ee.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ee.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_curve25519publickey_free(e,0)}},{key:"length",get:function(){return u.curve25519publickey_length(this.__wbg_ptr)>>>0}},{key:"toBase64",value:function(){var e,t;try{var r=u.curve25519publickey_toBase64(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ee.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Et.prototype[Symbol.dispose]=Et.prototype.free);var Vt=i.Curve25519SecretKey=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,te.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_curve25519secretkey_free(e,0)}},{key:"toUint8Array",value:function(){var e=u.curve25519secretkey_toUint8Array(this.__wbg_ptr),t=y(e[0],e[1]).slice();return u.__wbindgen_free(e[0],1*e[1],1),t}},{key:"toBase64",value:function(){var e,t;try{var r=u.curve25519secretkey_toBase64(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,te.register(r,r.__wbg_ptr,r),r}},{key:"fromUint8Array",value:function(t){var r=K(t,u.__wbindgen_malloc),_=U,n=u.curve25519secretkey_fromUint8Array(r,_);if(n[2])throw z(n[1]);return e.__wrap(n[0])}},{key:"fromBase64",value:function(t){var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.curve25519secretkey_fromBase64(r,_);if(n[2])throw z(n[1]);return e.__wrap(n[0])}},{key:"new",value:function(){var t=u.curve25519secretkey_new();return e.__wrap(t)}}])})();Symbol.dispose&&(Vt.prototype[Symbol.dispose]=Vt.prototype.free);var Tt=i.DecryptedRoomEvent=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,re.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_decryptedroomevent_free(e,0)}},{key:"shieldState",value:function(e){var t=u.decryptedroomevent_shieldState(this.__wbg_ptr,e);return Nr.__wrap(t)}},{key:"senderDevice",get:function(){var e=u.decryptedroomevent_senderDevice(this.__wbg_ptr);return 0===e?void 0:Qt.__wrap(e)}},{key:"senderCurve25519Key",get:function(){var e,t;try{var r=u.decryptedroomevent_senderCurve25519Key(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"senderClaimedEd25519Key",get:function(){return u.decryptedroomevent_senderClaimedEd25519Key(this.__wbg_ptr)}},{key:"forwardingCurve25519KeyChain",get:function(){return u.decryptedroomevent_forwardingCurve25519KeyChain(this.__wbg_ptr)}},{key:"sender",get:function(){var e=u.decryptedroomevent_sender(this.__wbg_ptr);return __.__wrap(e)}},{key:"event",get:function(){return u.__wbg_get_decryptedroomevent_event(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,re.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Tt.prototype[Symbol.dispose]=Tt.prototype.free);var Mt=i.DecryptedToDeviceEvent=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,_e.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_decryptedtodeviceevent_free(e,0)}},{key:"rawEvent",get:function(){return u.__wbg_get_decryptedtodeviceevent_rawEvent(this.__wbg_ptr)}},{key:"encryptionInfo",get:function(){var e=u.__wbg_get_decryptedtodeviceevent_encryptionInfo(this.__wbg_ptr);return Jr.__wrap(e)}},{key:"type",get:function(){return u.decryptedtodeviceevent_type(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,_e.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Mt.prototype[Symbol.dispose]=Mt.prototype.free);i.DecryptionErrorCode=Object.freeze({MissingRoomKey:0,0:"MissingRoomKey",UnknownMessageIndex:1,1:"UnknownMessageIndex",MismatchedIdentityKeys:2,2:"MismatchedIdentityKeys",UnknownSenderDevice:3,3:"UnknownSenderDevice",UnsignedSenderDevice:4,4:"UnsignedSenderDevice",SenderIdentityVerificationViolation:5,5:"SenderIdentityVerificationViolation",UnableToDecrypt:6,6:"UnableToDecrypt",MismatchedSender:7,7:"MismatchedSender"});var xt=i.DecryptionSettings=(function(){return(0,c.default)(function e(t){(0,s.default)(this,e);var r=u.decryptionsettings_new(t);return this.__wbg_ptr=r>>>0,ne.register(this,this.__wbg_ptr,this),this},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ne.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_decryptionsettings_free(e,0)}},{key:"sender_device_trust_requirement",get:function(){return u.__wbg_get_decryptionsettings_sender_device_trust_requirement(this.__wbg_ptr)},set:function(e){u.__wbg_set_decryptionsettings_sender_device_trust_requirement(this.__wbg_ptr,e)}}])})();Symbol.dispose&&(xt.prototype[Symbol.dispose]=xt.prototype.free);var At=i.DehydratedDevice=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ie.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_dehydrateddevice_free(e,0)}},{key:"keysForUpload",value:function(e,t){return f(t,Pt),u.dehydrateddevice_keysForUpload(this.__wbg_ptr,e,t.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ie.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(At.prototype[Symbol.dispose]=At.prototype.free);var Pt=i.DehydratedDeviceKey=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,oe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_dehydrateddevicekey_free(e,0)}},{key:"toBase64",value:function(){return u.dehydrateddevicekey_toBase64(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,oe.register(r,r.__wbg_ptr,r),r}},{key:"createRandomKey",value:function(){var t=u.dehydrateddevicekey_createRandomKey();if(t[2])throw z(t[1]);return e.__wrap(t[0])}},{key:"createKeyFromArray",value:function(t){var r=u.dehydrateddevicekey_createKeyFromArray(t);if(r[2])throw z(r[1]);return e.__wrap(r[0])}}])})();Symbol.dispose&&(Pt.prototype[Symbol.dispose]=Pt.prototype.free);var Nt=i.DehydratedDevices=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ae.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_dehydrateddevices_free(e,0)}},{key:"getDehydratedDeviceKey",value:function(){return u.dehydrateddevices_getDehydratedDeviceKey(this.__wbg_ptr)}},{key:"saveDehydratedDeviceKey",value:function(e){return f(e,Pt),u.dehydrateddevices_saveDehydratedDeviceKey(this.__wbg_ptr,e.__wbg_ptr)}},{key:"deleteDehydratedDeviceKey",value:function(){return u.dehydrateddevices_deleteDehydratedDeviceKey(this.__wbg_ptr)}},{key:"create",value:function(){return u.dehydrateddevices_create(this.__wbg_ptr)}},{key:"rehydrate",value:function(e,t,r){f(e,Pt),f(t,Qt);var _=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U;return u.dehydrateddevices_rehydrate(this.__wbg_ptr,e.__wbg_ptr,t.__wbg_ptr,_,n)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ae.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Nt.prototype[Symbol.dispose]=Nt.prototype.free);var Lt=i.Device=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ue.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_device_free(e,0)}},{key:"algorithms",get:function(){return u.device_algorithms(this.__wbg_ptr)}},{key:"isDeleted",value:function(){return 0!==u.device_isDeleted(this.__wbg_ptr)}},{key:"signatures",get:function(){var e=u.device_signatures(this.__wbg_ptr);return Gr.__wrap(e)}},{key:"ed25519Key",get:function(){var e=u.device_ed25519Key(this.__wbg_ptr);return 0===e?void 0:Xt.__wrap(e)}},{key:"isVerified",value:function(){return 0!==u.device_isVerified(this.__wbg_ptr)}},{key:"displayName",get:function(){var e,t=u.device_displayName(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"isDehydrated",get:function(){return 0!==u.device_isDehydrated(this.__wbg_ptr)}},{key:"curve25519Key",get:function(){var e=u.device_curve25519Key(this.__wbg_ptr);return 0===e?void 0:Et.__wrap(e)}},{key:"isBlacklisted",value:function(){return 0!==u.device_isBlacklisted(this.__wbg_ptr)}},{key:"firstTimeSeen",value:function(){var e=u.device_firstTimeSeen(this.__wbg_ptr);return BigInt.asUintN(64,e)}},{key:"setLocalTrust",value:function(e){return u.device_setLocalTrust(this.__wbg_ptr,e)}},{key:"localTrustState",get:function(){return u.device_localTrustState(this.__wbg_ptr)}},{key:"isLocallyTrusted",value:function(){return 0!==u.device_isLocallyTrusted(this.__wbg_ptr)}},{key:"requestVerification",value:function(e){var t=R(e)?0:F(e,u.__wbindgen_malloc),r=U,_=u.device_requestVerification(this.__wbg_ptr,t,r);if(_[2])throw z(_[1]);return z(_[0])}},{key:"encryptToDeviceEvent",value:function(e,t,r){var _=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=0;return R(r)||(f(r,Ot),i=r.__destroy_into_raw()),u.device_encryptToDeviceEvent(this.__wbg_ptr,_,n,t,i)}},{key:"isCrossSignedByOwner",value:function(){return 0!==u.device_isCrossSignedByOwner(this.__wbg_ptr)}},{key:"isCrossSigningTrusted",value:function(){return 0!==u.device_isCrossSigningTrusted(this.__wbg_ptr)}},{key:"keys",get:function(){return u.device_keys(this.__wbg_ptr)}},{key:"verify",value:function(){return u.device_verify(this.__wbg_ptr)}},{key:"getKey",value:function(e){var t=u.device_getKey(this.__wbg_ptr,e);if(t[2])throw z(t[1]);return 0===t[0]?void 0:Wt.__wrap(t[0])}},{key:"userId",get:function(){var e=u.device_userId(this.__wbg_ptr);return __.__wrap(e)}},{key:"deviceId",get:function(){var e=u.device_deviceId(this.__wbg_ptr);return Qt.__wrap(e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ue.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Lt.prototype[Symbol.dispose]=Lt.prototype.free);var Qt=i.DeviceId=(function(){function e(t){(0,s.default)(this,e);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.deviceid_new(r,_);return this.__wbg_ptr=n>>>0,se.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,se.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_deviceid_free(e,0)}},{key:"toString",value:function(){var e,t;try{var r=u.deviceid_toString(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,se.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Qt.prototype[Symbol.dispose]=Qt.prototype.free);var Wt=i.DeviceKey=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ce.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_devicekey_free(e,0)}},{key:"curve25519",get:function(){var e=u.devicekey_curve25519(this.__wbg_ptr);return 0===e?void 0:Et.__wrap(e)}},{key:"name",get:function(){return u.devicekey_name(this.__wbg_ptr)}},{key:"ed25519",get:function(){var e=u.devicekey_ed25519(this.__wbg_ptr);return 0===e?void 0:Xt.__wrap(e)}},{key:"unknown",get:function(){var e,t=u.devicekey_unknown(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"toBase64",value:function(){var e,t;try{var r=u.devicekey_toBase64(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ce.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Wt.prototype[Symbol.dispose]=Wt.prototype.free);var Gt=i.DeviceKeyAlgorithm=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ge.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_devicekeyalgorithm_free(e,0)}},{key:"name",get:function(){return u.devicekeyalgorithm_name(this.__wbg_ptr)}},{key:"toString",value:function(){var e,t;try{var r=u.devicekeyalgorithm_toString(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ge.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Gt.prototype[Symbol.dispose]=Gt.prototype.free);i.DeviceKeyAlgorithmName=Object.freeze({Ed25519:0,0:"Ed25519",Curve25519:1,1:"Curve25519",Unknown:3,3:"Unknown"});var $t=i.DeviceKeyId=(function(){function e(t){(0,s.default)(this,e);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.devicekeyid_new(r,_);if(n[2])throw z(n[1]);return this.__wbg_ptr=n[0]>>>0,fe.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,fe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_devicekeyid_free(e,0)}},{key:"algorithm",get:function(){var e=u.devicekeyid_algorithm(this.__wbg_ptr);return Gt.__wrap(e)}},{key:"deviceId",get:function(){var e=u.devicekeyid_deviceId(this.__wbg_ptr);return Qt.__wrap(e)}},{key:"toString",value:function(){var e,t;try{var r=u.devicekeyid_toString(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,fe.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&($t.prototype[Symbol.dispose]=$t.prototype.free);i.DeviceKeyName=Object.freeze({Curve25519:0,0:"Curve25519",Ed25519:1,1:"Ed25519",Unknown:2,2:"Unknown"});var Ht=i.DeviceLists=(function(){return(0,c.default)(function e(t,r){(0,s.default)(this,e);var _=R(t)?0:F(t,u.__wbindgen_malloc),n=U,i=R(r)?0:F(r,u.__wbindgen_malloc),o=U,a=u.devicelists_new(_,n,i,o);if(a[2])throw z(a[1]);return this.__wbg_ptr=a[0]>>>0,de.register(this,this.__wbg_ptr,this),this},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,de.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_devicelists_free(e,0)}},{key:"left",get:function(){var e=u.devicelists_left(this.__wbg_ptr),t=w(e[0],e[1]).slice();return u.__wbindgen_free(e[0],4*e[1],4),t}},{key:"changed",get:function(){var e=u.devicelists_changed(this.__wbg_ptr),t=w(e[0],e[1]).slice();return u.__wbindgen_free(e[0],4*e[1],4),t}},{key:"isEmpty",value:function(){return 0!==u.devicelists_isEmpty(this.__wbg_ptr)}}])})();Symbol.dispose&&(Ht.prototype[Symbol.dispose]=Ht.prototype.free);var Jt=i.Ecies=(function(){return(0,c.default)(function e(){(0,s.default)(this,e);var t=u.ecies_new();return this.__wbg_ptr=t>>>0,be.register(this,this.__wbg_ptr,this),this},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,be.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_ecies_free(e,0)}},{key:"public_key",value:function(){var e=u.ecies_public_key(this.__wbg_ptr);return Et.__wrap(e)}},{key:"establish_inbound_channel",value:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U,_=u.ecies_establish_inbound_channel(this.__wbg_ptr,t,r);if(_[2])throw z(_[1]);return or.__wrap(_[0])}},{key:"establish_outbound_channel",value:function(e,t){f(e,Et);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.ecies_establish_outbound_channel(this.__wbg_ptr,e.__wbg_ptr,r,_);if(n[2])throw z(n[1]);return vr.__wrap(n[0])}}])})();Symbol.dispose&&(Jt.prototype[Symbol.dispose]=Jt.prototype.free);var Xt=i.Ed25519PublicKey=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,we.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_ed25519publickey_free(e,0)}},{key:"length",get:function(){return u.ed25519publickey_length(this.__wbg_ptr)>>>0}},{key:"toBase64",value:function(){var e,t;try{var r=u.ed25519publickey_toBase64(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,we.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Xt.prototype[Symbol.dispose]=Xt.prototype.free);var Yt=i.Ed25519Signature=(function(){function e(t){(0,s.default)(this,e);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.ed25519signature_new(r,_);if(n[2])throw z(n[1]);return this.__wbg_ptr=n[0]>>>0,ye.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ye.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_ed25519signature_free(e,0)}},{key:"toBase64",value:function(){var e,t;try{var r=u.ed25519signature_toBase64(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ye.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Yt.prototype[Symbol.dispose]=Yt.prototype.free);var Zt=i.Emoji=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,pe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_emoji_free(e,0)}},{key:"description",get:function(){return u.emoji_description(this.__wbg_ptr)}},{key:"symbol",get:function(){return u.emoji_symbol(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,pe.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Zt.prototype[Symbol.dispose]=Zt.prototype.free);var er=i.EncryptedAttachment=(function(){function e(t,r){(0,s.default)(this,e);var _=K(t,u.__wbindgen_malloc),n=U,i=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=u.encryptedattachment_new(_,n,i,o);if(a[2])throw z(a[1]);return this.__wbg_ptr=a[0]>>>0,le.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,le.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_encryptedattachment_free(e,0)}},{key:"encryptedData",get:function(){var e=u.encryptedattachment_encryptedData(this.__wbg_ptr),t=y(e[0],e[1]).slice();return u.__wbindgen_free(e[0],1*e[1],1),t}},{key:"mediaEncryptionInfo",get:function(){var e,t=u.encryptedattachment_mediaEncryptionInfo(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"hasMediaEncryptionInfoBeenConsumed",get:function(){return 0!==u.encryptedattachment_hasMediaEncryptionInfoBeenConsumed(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,le.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(er.prototype[Symbol.dispose]=er.prototype.free);i.EncryptionAlgorithm=Object.freeze({OlmV1Curve25519AesSha2:0,0:"OlmV1Curve25519AesSha2",MegolmV1AesSha2:1,1:"MegolmV1AesSha2",Unknown:2,2:"Unknown"});var tr=i.EncryptionInfo=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ve.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_encryptioninfo_free(e,0)}},{key:"shieldState",value:function(e){var t=u.encryptioninfo_shieldState(this.__wbg_ptr,e);return Nr.__wrap(t)}},{key:"sender",get:function(){var e=u.__wbg_get_encryptioninfo_sender(this.__wbg_ptr);return __.__wrap(e)},set:function(e){f(e,__);var t=e.__destroy_into_raw();u.__wbg_set_encryptioninfo_sender(this.__wbg_ptr,t)}},{key:"senderDevice",get:function(){var e=u.__wbg_get_encryptioninfo_senderDevice(this.__wbg_ptr);return 0===e?void 0:Qt.__wrap(e)},set:function(e){var t=0;R(e)||(f(e,Qt),t=e.__destroy_into_raw()),u.__wbg_set_encryptioninfo_senderDevice(this.__wbg_ptr,t)}},{key:"senderCurve25519Key",get:function(){var e,t;try{var r=u.__wbg_get_encryptioninfo_senderCurve25519Key(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}},{key:"senderClaimedEd25519Key",get:function(){var e,t=u.__wbg_get_encryptioninfo_senderClaimedEd25519Key(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e},set:function(e){var t=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_basemigrationdata_backupVersion(this.__wbg_ptr,t,r)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ve.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(tr.prototype[Symbol.dispose]=tr.prototype.free);var rr=i.EncryptionSettings=(function(){return(0,c.default)(function e(){(0,s.default)(this,e);var t=u.encryptionsettings_new();return this.__wbg_ptr=t>>>0,he.register(this,this.__wbg_ptr,this),this},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,he.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_encryptionsettings_free(e,0)}},{key:"algorithm",get:function(){return u.__wbg_get_encryptionsettings_algorithm(this.__wbg_ptr)},set:function(e){u.__wbg_set_encryptionsettings_algorithm(this.__wbg_ptr,e)}},{key:"encryptStateEvents",get:function(){return 0!==u.__wbg_get_encryptionsettings_encryptStateEvents(this.__wbg_ptr)},set:function(e){u.__wbg_set_encryptionsettings_encryptStateEvents(this.__wbg_ptr,e)}},{key:"rotationPeriod",get:function(){var e=u.__wbg_get_encryptionsettings_rotationPeriod(this.__wbg_ptr);return BigInt.asUintN(64,e)},set:function(e){u.__wbg_set_encryptionsettings_rotationPeriod(this.__wbg_ptr,e)}},{key:"rotationPeriodMessages",get:function(){var e=u.__wbg_get_encryptionsettings_rotationPeriodMessages(this.__wbg_ptr);return BigInt.asUintN(64,e)},set:function(e){u.__wbg_set_encryptionsettings_rotationPeriodMessages(this.__wbg_ptr,e)}},{key:"historyVisibility",get:function(){return u.__wbg_get_encryptionsettings_historyVisibility(this.__wbg_ptr)},set:function(e){u.__wbg_set_encryptionsettings_historyVisibility(this.__wbg_ptr,e)}},{key:"sharingStrategy",get:function(){var e=u.__wbg_get_encryptionsettings_sharingStrategy(this.__wbg_ptr);return Ot.__wrap(e)},set:function(e){f(e,Ot);var t=e.__destroy_into_raw();u.__wbg_set_encryptionsettings_sharingStrategy(this.__wbg_ptr,t)}}])})();Symbol.dispose&&(rr.prototype[Symbol.dispose]=rr.prototype.free);var _r=i.EstablishedEcies=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ke.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_establishedecies_free(e,0)}},{key:"check_code",value:function(){var e=u.establishedecies_check_code(this.__wbg_ptr);return Ct.__wrap(e)}},{key:"public_key",value:function(){var e=u.establishedecies_public_key(this.__wbg_ptr);return Et.__wrap(e)}},{key:"decrypt",value:function(e){var t,r;try{var _=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=u.establishedecies_decrypt(this.__wbg_ptr,_,n),o=i[0],a=i[1];if(i[3])throw o=0,a=0,z(i[2]);return t=o,r=a,v(o,a)}finally{u.__wbindgen_free(t,r,1)}}},{key:"encrypt",value:function(e){var t,r;try{var _=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=u.establishedecies_encrypt(this.__wbg_ptr,_,n);return t=i[0],r=i[1],v(i[0],i[1])}finally{u.__wbindgen_free(t,r,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ke.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(_r.prototype[Symbol.dispose]=_r.prototype.free);var nr=i.EventId=(function(){return(0,c.default)(function e(t){(0,s.default)(this,e);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.eventid_new(r,_);if(n[2])throw z(n[1]);return this.__wbg_ptr=n[0]>>>0,me.register(this,this.__wbg_ptr,this),this},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,me.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_eventid_free(e,0)}},{key:"serverName",get:function(){var e=u.eventid_serverName(this.__wbg_ptr);return 0===e?void 0:Pr.__wrap(e)}},{key:"localpart",get:function(){var e,t;try{var r=u.eventid_localpart(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"toString",value:function(){var e,t;try{var r=u.eventid_toString(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}])})();Symbol.dispose&&(nr.prototype[Symbol.dispose]=nr.prototype.free);i.HistoryVisibility=Object.freeze({Invited:0,0:"Invited",Joined:1,1:"Joined",Shared:2,2:"Shared",WorldReadable:3,3:"WorldReadable"});var ir=i.IdentityKeys=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Se.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_identitykeys_free(e,0)}},{key:"ed25519",get:function(){var e=u.__wbg_get_identitykeys_ed25519(this.__wbg_ptr);return Xt.__wrap(e)},set:function(e){f(e,Xt);var t=e.__destroy_into_raw();u.__wbg_set_identitykeys_ed25519(this.__wbg_ptr,t)}},{key:"curve25519",get:function(){var e=u.__wbg_get_identitykeys_curve25519(this.__wbg_ptr);return Et.__wrap(e)},set:function(e){f(e,Et);var t=e.__destroy_into_raw();u.__wbg_set_identitykeys_curve25519(this.__wbg_ptr,t)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Se.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(ir.prototype[Symbol.dispose]=ir.prototype.free);var or=i.InboundCreationResult=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Re.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_inboundcreationresult_free(e,0)}},{key:"channel",get:function(){var e=u.__wbg_get_inboundcreationresult_channel(this.__wbg_ptr);return _r.__wrap(e)},set:function(e){f(e,_r);var t=e.__destroy_into_raw();u.__wbg_set_inboundcreationresult_channel(this.__wbg_ptr,t)}},{key:"message",get:function(){var e,t;try{var r=u.__wbg_get_inboundcreationresult_message(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Re.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(or.prototype[Symbol.dispose]=or.prototype.free);var ar=i.InboundGroupSession=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,qe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_inboundgroupsession_free(e,0)}},{key:"senderKey",get:function(){var e=u.inboundgroupsession_senderKey(this.__wbg_ptr);return Et.__wrap(e)}},{key:"sessionId",get:function(){var e,t;try{var r=u.inboundgroupsession_sessionId(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"hasBeenImported",value:function(){return 0!==u.inboundgroupsession_hasBeenImported(this.__wbg_ptr)}},{key:"roomId",get:function(){var e=u.inboundgroupsession_roomId(this.__wbg_ptr);return Br.__wrap(e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,qe.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(ar.prototype[Symbol.dispose]=ar.prototype.free);var ur=i.InvalidToDeviceEvent=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ke.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_invalidtodeviceevent_free(e,0)}},{key:"rawEvent",get:function(){return u.__wbg_get_invalidtodeviceevent_rawEvent(this.__wbg_ptr)}},{key:"type",get:function(){return u.invalidtodeviceevent_type(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ke.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(ur.prototype[Symbol.dispose]=ur.prototype.free);var sr=i.KeysBackupRequest=(function(){function e(t,r,_){(0,s.default)(this,e);var n=u.keysbackuprequest_new(t,r,_);return this.__wbg_ptr=n>>>0,Fe.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Fe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_keysbackuprequest_free(e,0)}},{key:"type",get:function(){return u.keysbackuprequest_type(this.__wbg_ptr)}},{key:"id",get:function(){return u.__wbg_get_keysbackuprequest_id(this.__wbg_ptr)}},{key:"body",get:function(){return u.__wbg_get_keysbackuprequest_body(this.__wbg_ptr)}},{key:"version",get:function(){return u.__wbg_get_keysbackuprequest_version(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Fe.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(sr.prototype[Symbol.dispose]=sr.prototype.free);var cr=i.KeysClaimRequest=(function(){function e(t,r){(0,s.default)(this,e);var _=u.keysclaimrequest_new(t,r);return this.__wbg_ptr=_>>>0,Ie.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ie.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_keysclaimrequest_free(e,0)}},{key:"type",get:function(){return u.keysclaimrequest_type(this.__wbg_ptr)}},{key:"id",get:function(){return u.__wbg_get_keysclaimrequest_id(this.__wbg_ptr)}},{key:"body",get:function(){return u.__wbg_get_keysclaimrequest_body(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ie.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(cr.prototype[Symbol.dispose]=cr.prototype.free);var gr=i.KeysQueryRequest=(function(){function e(t,r){(0,s.default)(this,e);var _=u.keysqueryrequest_new(t,r);return this.__wbg_ptr=_>>>0,ze.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ze.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_keysqueryrequest_free(e,0)}},{key:"type",get:function(){return u.keysqueryrequest_type(this.__wbg_ptr)}},{key:"id",get:function(){return u.__wbg_get_keysqueryrequest_id(this.__wbg_ptr)}},{key:"body",get:function(){return u.__wbg_get_keysqueryrequest_body(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ze.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(gr.prototype[Symbol.dispose]=gr.prototype.free);var fr=i.KeysUploadRequest=(function(){function e(t,r){(0,s.default)(this,e);var _=u.keysuploadrequest_new(t,r);return this.__wbg_ptr=_>>>0,De.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,De.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_keysuploadrequest_free(e,0)}},{key:"type",get:function(){return u.keysuploadrequest_type(this.__wbg_ptr)}},{key:"id",get:function(){return u.__wbg_get_keysuploadrequest_id(this.__wbg_ptr)}},{key:"body",get:function(){return u.__wbg_get_keysuploadrequest_body(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,De.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(fr.prototype[Symbol.dispose]=fr.prototype.free);i.LocalTrust=Object.freeze({Verified:0,0:"Verified",BlackListed:1,1:"BlackListed",Ignored:2,2:"Ignored",Unset:3,3:"Unset"}),i.LoggerLevel=Object.freeze({Trace:0,0:"Trace",Debug:1,1:"Debug",Info:2,2:"Info",Warn:3,3:"Warn",Error:4,4:"Error"});var dr=i.MaybeSignature=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ce.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_maybesignature_free(e,0)}},{key:"isInvalid",value:function(){return 0!==u.maybesignature_isInvalid(this.__wbg_ptr)}},{key:"invalidSignatureSource",get:function(){var e,t=u.maybesignature_invalidSignatureSource(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"isValid",value:function(){return 0!==u.maybesignature_isValid(this.__wbg_ptr)}},{key:"signature",get:function(){var e=u.maybesignature_signature(this.__wbg_ptr);return 0===e?void 0:Lr.__wrap(e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ce.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(dr.prototype[Symbol.dispose]=dr.prototype.free);var br=i.MegolmDecryptionError=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Oe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_megolmdecryptionerror_free(e,0)}},{key:"code",get:function(){return u.__wbg_get_megolmdecryptionerror_code(this.__wbg_ptr)}},{key:"description",get:function(){return u.__wbg_get_megolmdecryptionerror_description(this.__wbg_ptr)}},{key:"withheldCode",get:function(){var e,t=u.megolmdecryptionerror_withheldCode(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"maybe_withheld",get:function(){var e,t=u.megolmdecryptionerror_maybe_withheld(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Oe.register(r,r.__wbg_ptr,r),r}},{key:"unable_to_decrypt",value:function(t){var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.megolmdecryptionerror_unable_to_decrypt(r,_);return e.__wrap(n)}}])})();Symbol.dispose&&(br.prototype[Symbol.dispose]=br.prototype.free);var wr=i.MegolmV1BackupKey=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Be.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_megolmv1backupkey_free(e,0)}},{key:"publicKeyBase64",get:function(){return u.megolmv1backupkey_publicKeyBase64(this.__wbg_ptr)}},{key:"algorithm",get:function(){return u.megolmv1backupkey_algorithm(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Be.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(wr.prototype[Symbol.dispose]=wr.prototype.free);var yr=i.Migration=(function(){return(0,c.default)(function e(){(0,s.default)(this,e)},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,je.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_migration_free(e,0)}}],[{key:"migrateBaseData",value:function(e,t,r,_){return f(e,zt),f(r,$r),u.migration_migrateBaseData(e.__wbg_ptr,t,r.__wbg_ptr,R(_)?0:g(_))}},{key:"migrateOlmSessions",value:function(e,t,r,_){var n=F(e,u.__wbindgen_malloc),i=U;f(r,$r);var o=u.migration_migrateOlmSessions(n,i,t,r.__wbg_ptr,R(_)?0:g(_));if(o[2])throw z(o[1]);return z(o[0])}},{key:"migrateMegolmSessions",value:function(e,t,r,_){var n=F(e,u.__wbindgen_malloc),i=U;f(r,$r);var o=u.migration_migrateMegolmSessions(n,i,t,r.__wbg_ptr,R(_)?0:g(_));if(o[2])throw z(o[1]);return z(o[0])}}])})();Symbol.dispose&&(yr.prototype[Symbol.dispose]=yr.prototype.free);var pr=i.OlmMachine=(function(){function e(){(0,s.default)(this,e);var t=u.olmmachine_new();if(t[2])throw z(t[1]);return this.__wbg_ptr=t[0]>>>0,Ue.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ue.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_olmmachine_free(e,0)}},{key:"getDevice",value:function(e,t,r){return f(e,__),f(t,Qt),u.olmmachine_getDevice(this.__wbg_ptr,e.__wbg_ptr,t.__wbg_ptr,!R(r),R(r)?0:r)}},{key:"displayName",get:function(){return u.olmmachine_displayName(this.__wbg_ptr)}},{key:"getIdentity",value:function(e){return f(e,__),u.olmmachine_getIdentity(this.__wbg_ptr,e.__wbg_ptr)}},{key:"identityKeys",get:function(){var e=u.olmmachine_identityKeys(this.__wbg_ptr);return ir.__wrap(e)}},{key:"trackedUsers",value:function(){var e=u.olmmachine_trackedUsers(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"verifyBackup",value:function(e){var t=u.olmmachine_verifyBackup(this.__wbg_ptr,e);if(t[2])throw z(t[1]);return z(t[0])}},{key:"disableBackup",value:function(){return u.olmmachine_disableBackup(this.__wbg_ptr)}},{key:"shareRoomKey",value:function(e,t,r){f(e,Br);var _=F(t,u.__wbindgen_malloc),n=U;return f(r,rr),u.olmmachine_shareRoomKey(this.__wbg_ptr,e.__wbg_ptr,_,n,r.__wbg_ptr)}},{key:"getBackupKeys",value:function(){return u.olmmachine_getBackupKeys(this.__wbg_ptr)}},{key:"roomKeyCounts",value:function(){return u.olmmachine_roomKeyCounts(this.__wbg_ptr)}},{key:"backupRoomKeys",value:function(){return u.olmmachine_backupRoomKeys(this.__wbg_ptr)}},{key:"enableBackupV1",value:function(e,t){var r=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),i=U,o=u.olmmachine_enableBackupV1(this.__wbg_ptr,r,_,n,i);if(o[2])throw z(o[1]);return z(o[0])}},{key:"exportRoomKeys",value:function(e){return u.olmmachine_exportRoomKeys(this.__wbg_ptr,e)}},{key:"getUserDevices",value:function(e,t){return f(e,__),u.olmmachine_getUserDevices(this.__wbg_ptr,e.__wbg_ptr,!R(t),R(t)?0:t)}},{key:"getVerification",value:function(e,t){f(e,__);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.olmmachine_getVerification(this.__wbg_ptr,e.__wbg_ptr,r,_);if(n[2])throw z(n[1]);return z(n[0])}},{key:"importRoomKeys",value:function(e,t){var r=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.olmmachine_importRoomKeys(this.__wbg_ptr,r,_,t);if(n[2])throw z(n[1]);return z(n[0])}},{key:"getRoomSettings",value:function(e){return f(e,Br),u.olmmachine_getRoomSettings(this.__wbg_ptr,e.__wbg_ptr)}},{key:"isBackupEnabled",value:function(){return u.olmmachine_isBackupEnabled(this.__wbg_ptr)}},{key:"outgoingRequests",value:function(){return u.olmmachine_outgoingRequests(this.__wbg_ptr)}},{key:"setRoomSettings",value:function(e,t){return f(e,Br),f(t,Mr),u.olmmachine_setRoomSettings(this.__wbg_ptr,e.__wbg_ptr,t.__wbg_ptr)}},{key:"decryptRoomEvent",value:function(e,t,r){var _=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U;f(t,Br),f(r,xt);var i=u.olmmachine_decryptRoomEvent(this.__wbg_ptr,_,n,t.__wbg_ptr,r.__wbg_ptr);if(i[2])throw z(i[1]);return z(i[0])}},{key:"dehydratedDevices",value:function(){var e=u.olmmachine_dehydratedDevices(this.__wbg_ptr);return Nt.__wrap(e)}},{key:"encryptRoomEvent",value:function(e,t,r){f(e,Br);var _=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=u.olmmachine_encryptRoomEvent(this.__wbg_ptr,e.__wbg_ptr,_,n,i,o);if(a[2])throw z(a[1]);return z(a[0])}},{key:"encryptStateEvent",value:function(e,t,r,_){f(e,Br);var n=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),i=U,o=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),a=U,s=I(_,u.__wbindgen_malloc,u.__wbindgen_realloc),c=U,g=u.olmmachine_encryptStateEvent(this.__wbg_ptr,e.__wbg_ptr,n,i,o,a,s,c);if(g[2])throw z(g[1]);return z(g[0])}},{key:"crossSigningStatus",value:function(){return u.olmmachine_crossSigningStatus(this.__wbg_ptr)}},{key:"getMissingSessions",value:function(e){var t=F(e,u.__wbindgen_malloc),r=U;return u.olmmachine_getMissingSessions(this.__wbg_ptr,t,r)}},{key:"markRequestAsSent",value:function(e,t,r){var _=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=u.olmmachine_markRequestAsSent(this.__wbg_ptr,_,n,t,i,o);if(a[2])throw z(a[1]);return z(a[0])}},{key:"queryKeysForUsers",value:function(e){var t=F(e,u.__wbindgen_malloc),r=U,_=u.olmmachine_queryKeysForUsers(this.__wbg_ptr,t,r);if(_[2])throw z(_[1]);return gr.__wrap(_[0])}},{key:"receiveSyncChanges",value:function(e,t,r,_,n){var i=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U;f(t,Ht);var a=0;R(n)||(f(n,xt),a=n.__destroy_into_raw());var s=u.olmmachine_receiveSyncChanges(this.__wbg_ptr,i,o,t.__wbg_ptr,r,R(_)?0:g(_),a);if(s[2])throw z(s[1]);return z(s[0])}},{key:"updateTrackedUsers",value:function(e){var t=F(e,u.__wbindgen_malloc),r=U;return u.olmmachine_updateTrackedUsers(this.__wbg_ptr,t,r)}},{key:"buildRoomKeyBundle",value:function(e){return f(e,Br),u.olmmachine_buildRoomKeyBundle(this.__wbg_ptr,e.__wbg_ptr)}},{key:"exportSecretsBundle",value:function(){return u.olmmachine_exportSecretsBundle(this.__wbg_ptr)}},{key:"importSecretsBundle",value:function(e){f(e,Ar);var t=e.__destroy_into_raw();return u.olmmachine_importSecretsBundle(this.__wbg_ptr,t)}},{key:"getSecretsFromInbox",value:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;return u.olmmachine_getSecretsFromInbox(this.__wbg_ptr,t,r)}},{key:"bootstrapCrossSigning",value:function(e){return u.olmmachine_bootstrapCrossSigning(this.__wbg_ptr,e)}},{key:"deviceCreationTimeMs",get:function(){return u.olmmachine_deviceCreationTimeMs(this.__wbg_ptr)}},{key:"receiveRoomKeyBundle",value:function(e,t){f(e,Hr);var r=e.__destroy_into_raw(),_=K(t,u.__wbindgen_malloc),n=U,i=u.olmmachine_receiveRoomKeyBundle(this.__wbg_ptr,r,_,n);if(i[2])throw z(i[1]);return z(i[0])}},{key:"getVerificationRequest",value:function(e,t){f(e,__);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.olmmachine_getVerificationRequest(this.__wbg_ptr,e.__wbg_ptr,r,_);return 0===n?void 0:n_.__wrap(n)}},{key:"invalidateGroupSession",value:function(e){return f(e,Br),u.olmmachine_invalidateGroupSession(this.__wbg_ptr,e.__wbg_ptr)}},{key:"deleteSecretsFromInbox",value:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;return u.olmmachine_deleteSecretsFromInbox(this.__wbg_ptr,t,r)}},{key:"exportCrossSigningKeys",value:function(){return u.olmmachine_exportCrossSigningKeys(this.__wbg_ptr)}},{key:"getVerificationRequests",value:function(e){return f(e,__),u.olmmachine_getVerificationRequests(this.__wbg_ptr,e.__wbg_ptr)}},{key:"importCrossSigningKeys",value:function(e,t,r){var _=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=R(t)?0:I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=R(r)?0:I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),s=U;return u.olmmachine_importCrossSigningKeys(this.__wbg_ptr,_,n,i,o,a,s)}},{key:"importExportedRoomKeys",value:function(e,t){var r=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.olmmachine_importExportedRoomKeys(this.__wbg_ptr,r,_,t);if(n[2])throw z(n[1]);return z(n[0])}},{key:"importBackedUpRoomKeys",value:function(e,t,r){var _=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=u.olmmachine_importBackedUpRoomKeys(this.__wbg_ptr,e,R(t)?0:g(t),_,n);if(i[2])throw z(i[1]);return z(i[0])}},{key:"receiveVerificationEvent",value:function(e,t){var r=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U;f(t,Br);var n=u.olmmachine_receiveVerificationEvent(this.__wbg_ptr,r,_,t.__wbg_ptr);if(n[2])throw z(n[1]);return z(n[0])}},{key:"saveBackupDecryptionKey",value:function(e,t){f(e,qt);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U;return u.olmmachine_saveBackupDecryptionKey(this.__wbg_ptr,e.__wbg_ptr,r,_)}},{key:"shareRoomKeyBundleData",value:function(e,t,r,_,n){f(e,__),f(t,Br);var i=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=R(_)?0:I(_,u.__wbindgen_malloc,u.__wbindgen_realloc),s=U;f(n,Ot);var c=n.__destroy_into_raw(),g=u.olmmachine_shareRoomKeyBundleData(this.__wbg_ptr,e.__wbg_ptr,t.__wbg_ptr,i,o,a,s,c);if(g[2])throw z(g[1]);return z(g[0])}},{key:"roomKeyRequestsEnabled",get:function(){return 0!==u.olmmachine_roomKeyRequestsEnabled(this.__wbg_ptr)},set:function(e){u.olmmachine_set_roomKeyRequestsEnabled(this.__wbg_ptr,e)}},{key:"getRoomEventEncryptionInfo",value:function(e,t){var r=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U;f(t,Br);var n=u.olmmachine_getRoomEventEncryptionInfo(this.__wbg_ptr,r,_,t.__wbg_ptr);if(n[2])throw z(n[1]);return z(n[0])}},{key:"roomKeyForwardingEnabled",get:function(){return 0!==u.olmmachine_roomKeyForwardingEnabled(this.__wbg_ptr)},set:function(e){u.olmmachine_set_roomKeyForwardingEnabled(this.__wbg_ptr,e)}},{key:"markAllTrackedUsersAsDirty",value:function(){return u.olmmachine_markAllTrackedUsersAsDirty(this.__wbg_ptr)}},{key:"registerReceiveSecretCallback",value:function(e){u.olmmachine_registerReceiveSecretCallback(this.__wbg_ptr,e)}},{key:"getReceivedRoomKeyBundleData",value:function(e,t){return f(e,Br),f(t,__),u.olmmachine_getReceivedRoomKeyBundleData(this.__wbg_ptr,e.__wbg_ptr,t.__wbg_ptr)}},{key:"registerDevicesUpdatedCallback",value:function(e){u.olmmachine_registerDevicesUpdatedCallback(this.__wbg_ptr,e)}},{key:"requestMissingSecretsIfNeeded",value:function(){return u.olmmachine_requestMissingSecretsIfNeeded(this.__wbg_ptr)}},{key:"registerRoomKeyUpdatedCallback",value:function(e){u.olmmachine_registerRoomKeyUpdatedCallback(this.__wbg_ptr,e)}},{key:"registerRoomKeysWithheldCallback",value:function(e){u.olmmachine_registerRoomKeysWithheldCallback(this.__wbg_ptr,e)}},{key:"registerUserIdentityUpdatedCallback",value:function(e){u.olmmachine_registerUserIdentityUpdatedCallback(this.__wbg_ptr,e)}},{key:"sign",value:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;return u.olmmachine_sign(this.__wbg_ptr,t,r)}},{key:"close",value:function(){var e=this.__destroy_into_raw();u.olmmachine_close(e)}},{key:"userId",get:function(){var e=u.olmmachine_userId(this.__wbg_ptr);return __.__wrap(e)}},{key:"deviceId",get:function(){var e=u.olmmachine_deviceId(this.__wbg_ptr);return Qt.__wrap(e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ue.register(r,r.__wbg_ptr,r),r}},{key:"initialize",value:function(e,t,r,_,n){f(e,__),f(t,Qt);var i=R(r)?0:I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=R(_)?0:I(_,u.__wbindgen_malloc,u.__wbindgen_realloc),s=U;return u.olmmachine_initialize(e.__wbg_ptr,t.__wbg_ptr,i,o,a,s,R(n)?0:g(n))}},{key:"initFromStore",value:function(e,t,r,_){return f(e,__),f(t,Qt),f(r,$r),u.olmmachine_initFromStore(e.__wbg_ptr,t.__wbg_ptr,r.__wbg_ptr,R(_)?0:g(_))}},{key:"decryptExportedRoomKeys",value:function(e,t){var r,_;try{var n=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),i=U,o=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),a=U,s=u.olmmachine_decryptExportedRoomKeys(n,i,o,a),c=s[0],g=s[1];if(s[3])throw c=0,g=0,z(s[2]);return r=c,_=g,v(c,g)}finally{u.__wbindgen_free(r,_,1)}}},{key:"encryptExportedRoomKeys",value:function(e,t,r){var _,n;try{var i=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),s=U,c=u.olmmachine_encryptExportedRoomKeys(i,o,a,s,r),g=c[0],f=c[1];if(c[3])throw g=0,f=0,z(c[2]);return _=g,n=f,v(g,f)}finally{u.__wbindgen_free(_,n,1)}}}])})();Symbol.dispose&&(pr.prototype[Symbol.dispose]=pr.prototype.free);var lr=i.OtherUserIdentity=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ee.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_otheruseridentity_free(e,0)}},{key:"masterKey",get:function(){var e,t;try{var r=u.otheruseridentity_masterKey(this.__wbg_ptr),_=r[0],n=r[1];if(r[3])throw _=0,n=0,z(r[2]);return e=_,t=n,v(_,n)}finally{u.__wbindgen_free(e,t,1)}}},{key:"isVerified",value:function(){return 0!==u.otheruseridentity_isVerified(this.__wbg_ptr)}},{key:"selfSigningKey",get:function(){var e,t;try{var r=u.otheruseridentity_selfSigningKey(this.__wbg_ptr),_=r[0],n=r[1];if(r[3])throw _=0,n=0,z(r[2]);return e=_,t=n,v(_,n)}finally{u.__wbindgen_free(e,t,1)}}},{key:"requestVerification",value:function(e,t,r){f(e,Br),f(t,nr);var _=R(r)?0:F(r,u.__wbindgen_malloc),n=U,i=u.otheruseridentity_requestVerification(this.__wbg_ptr,e.__wbg_ptr,t.__wbg_ptr,_,n);if(i[2])throw z(i[1]);return n_.__wrap(i[0])}},{key:"withdrawVerification",value:function(){return u.otheruseridentity_withdrawVerification(this.__wbg_ptr)}},{key:"pinCurrentMasterKey",value:function(){return u.otheruseridentity_pinCurrentMasterKey(this.__wbg_ptr)}},{key:"wasPreviouslyVerified",value:function(){return 0!==u.otheruseridentity_wasPreviouslyVerified(this.__wbg_ptr)}},{key:"hasVerificationViolation",value:function(){return 0!==u.otheruseridentity_hasVerificationViolation(this.__wbg_ptr)}},{key:"identityNeedsUserApproval",value:function(){return 0!==u.otheruseridentity_identityNeedsUserApproval(this.__wbg_ptr)}},{key:"verificationRequestContent",value:function(e){var t,r;try{var _=R(e)?0:F(e,u.__wbindgen_malloc),n=U,i=u.otheruseridentity_verificationRequestContent(this.__wbg_ptr,_,n),o=i[0],a=i[1];if(i[3])throw o=0,a=0,z(i[2]);return t=o,r=a,v(o,a)}finally{u.__wbindgen_free(t,r,1)}}},{key:"verify",value:function(){return u.otheruseridentity_verify(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ee.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(lr.prototype[Symbol.dispose]=lr.prototype.free);var vr=i.OutboundCreationResult=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ve.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_outboundcreationresult_free(e,0)}},{key:"channel",get:function(){var e=u.__wbg_get_inboundcreationresult_channel(this.__wbg_ptr);return _r.__wrap(e)},set:function(e){f(e,_r);var t=e.__destroy_into_raw();u.__wbg_set_inboundcreationresult_channel(this.__wbg_ptr,t)}},{key:"initial_message",get:function(){var e,t;try{var r=u.__wbg_get_outboundcreationresult_initial_message(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ve.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(vr.prototype[Symbol.dispose]=vr.prototype.free);var hr=i.OwnUserIdentity=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Te.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_ownuseridentity_free(e,0)}},{key:"masterKey",get:function(){var e,t;try{var r=u.ownuseridentity_masterKey(this.__wbg_ptr),_=r[0],n=r[1];if(r[3])throw _=0,n=0,z(r[2]);return e=_,t=n,v(_,n)}finally{u.__wbindgen_free(e,t,1)}}},{key:"isVerified",value:function(){return 0!==u.ownuseridentity_isVerified(this.__wbg_ptr)}},{key:"selfSigningKey",get:function(){var e,t;try{var r=u.ownuseridentity_selfSigningKey(this.__wbg_ptr),_=r[0],n=r[1];if(r[3])throw _=0,n=0,z(r[2]);return e=_,t=n,v(_,n)}finally{u.__wbindgen_free(e,t,1)}}},{key:"userSigningKey",get:function(){var e,t;try{var r=u.ownuseridentity_userSigningKey(this.__wbg_ptr),_=r[0],n=r[1];if(r[3])throw _=0,n=0,z(r[2]);return e=_,t=n,v(_,n)}finally{u.__wbindgen_free(e,t,1)}}},{key:"requestVerification",value:function(e){var t=R(e)?0:F(e,u.__wbindgen_malloc),r=U,_=u.ownuseridentity_requestVerification(this.__wbg_ptr,t,r);if(_[2])throw z(_[1]);return z(_[0])}},{key:"trustsOurOwnDevice",value:function(){return u.ownuseridentity_trustsOurOwnDevice(this.__wbg_ptr)}},{key:"withdrawVerification",value:function(){return u.ownuseridentity_withdrawVerification(this.__wbg_ptr)}},{key:"wasPreviouslyVerified",value:function(){return 0!==u.ownuseridentity_wasPreviouslyVerified(this.__wbg_ptr)}},{key:"hasVerificationViolation",value:function(){return 0!==u.ownuseridentity_hasVerificationViolation(this.__wbg_ptr)}},{key:"verify",value:function(){return u.ownuseridentity_verify(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Te.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(hr.prototype[Symbol.dispose]=hr.prototype.free);var kr=i.PickledInboundGroupSession=(function(){function e(){(0,s.default)(this,e);var t=u.pickledinboundgroupsession_new();return this.__wbg_ptr=t>>>0,Me.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Me.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_pickledinboundgroupsession_free(e,0)}},{key:"pickle",get:function(){var e,t;try{var r=u.__wbg_get_pickledinboundgroupsession_pickle(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}},{key:"senderKey",get:function(){var e,t;try{var r=u.__wbg_get_pickledinboundgroupsession_senderKey(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_backup_version(this.__wbg_ptr,t,r)}},{key:"senderSigningKey",get:function(){var e,t=u.__wbg_get_pickledinboundgroupsession_senderSigningKey(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e},set:function(e){var t=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_basemigrationdata_backupRecoveryKey(this.__wbg_ptr,t,r)}},{key:"roomId",get:function(){var e=u.__wbg_get_pickledinboundgroupsession_roomId(this.__wbg_ptr);return 0===e?void 0:Br.__wrap(e)},set:function(e){var t=0;R(e)||(f(e,Br),t=e.__destroy_into_raw()),u.__wbg_set_pickledinboundgroupsession_roomId(this.__wbg_ptr,t)}},{key:"imported",get:function(){return 0!==u.__wbg_get_pickledinboundgroupsession_imported(this.__wbg_ptr)},set:function(e){u.__wbg_set_pickledinboundgroupsession_imported(this.__wbg_ptr,e)}},{key:"backedUp",get:function(){return 0!==u.__wbg_get_pickledinboundgroupsession_backedUp(this.__wbg_ptr)},set:function(e){u.__wbg_set_pickledinboundgroupsession_backedUp(this.__wbg_ptr,e)}}],[{key:"__unwrap",value:function(t){return t instanceof e?t.__destroy_into_raw():0}}])})();Symbol.dispose&&(kr.prototype[Symbol.dispose]=kr.prototype.free);var mr=i.PickledSession=(function(){function e(){(0,s.default)(this,e);var t=u.pickledsession_new();return this.__wbg_ptr=t>>>0,xe.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,xe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_pickledsession_free(e,0)}},{key:"pickle",get:function(){var e,t;try{var r=u.__wbg_get_pickledsession_pickle(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}},{key:"senderKey",get:function(){var e,t;try{var r=u.__wbg_get_pickledsession_senderKey(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_backup_version(this.__wbg_ptr,t,r)}},{key:"createdUsingFallbackKey",get:function(){return 0!==u.__wbg_get_pickledsession_createdUsingFallbackKey(this.__wbg_ptr)},set:function(e){u.__wbg_set_pickledsession_createdUsingFallbackKey(this.__wbg_ptr,e)}},{key:"creationTime",get:function(){return u.__wbg_get_pickledsession_creationTime(this.__wbg_ptr)},set:function(e){u.__wbg_set_pickledsession_creationTime(this.__wbg_ptr,e)}},{key:"lastUseTime",get:function(){return u.__wbg_get_pickledsession_lastUseTime(this.__wbg_ptr)},set:function(e){u.__wbg_set_pickledsession_lastUseTime(this.__wbg_ptr,e)}}],[{key:"__unwrap",value:function(t){return t instanceof e?t.__destroy_into_raw():0}}])})();Symbol.dispose&&(mr.prototype[Symbol.dispose]=mr.prototype.free);var Sr=i.PkDecryption=(function(){function e(){(0,s.default)(this,e);var t=u.pkdecryption_new();return this.__wbg_ptr=t>>>0,Ae.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ae.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_pkdecryption_free(e,0)}},{key:"publicKey",value:function(){var e=u.pkdecryption_publicKey(this.__wbg_ptr);return Et.__wrap(e)}},{key:"secretKey",value:function(){var e=u.pkdecryption_secretKey(this.__wbg_ptr);return Vt.__wrap(e)}},{key:"decryptString",value:function(e){var t,r;try{f(e,qr);var _=u.pkdecryption_decryptString(this.__wbg_ptr,e.__wbg_ptr),n=_[0],i=_[1];if(_[3])throw n=0,i=0,z(_[2]);return t=n,r=i,v(n,i)}finally{u.__wbindgen_free(t,r,1)}}},{key:"decrypt",value:function(e){f(e,qr);var t=u.pkdecryption_decrypt(this.__wbg_ptr,e.__wbg_ptr);if(t[3])throw z(t[2]);var r=y(t[0],t[1]).slice();return u.__wbindgen_free(t[0],1*t[1],1),r}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ae.register(r,r.__wbg_ptr,r),r}},{key:"fromKey",value:function(t){f(t,Vt);var r=u.pkdecryption_fromKey(t.__wbg_ptr);return e.__wrap(r)}}])})();Symbol.dispose&&(Sr.prototype[Symbol.dispose]=Sr.prototype.free);var Rr=i.PkEncryption=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Pe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_pkencryption_free(e,0)}},{key:"encryptString",value:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U,_=u.pkencryption_encrypt(this.__wbg_ptr,t,r);return qr.__wrap(_)}},{key:"encrypt",value:function(e){var t=K(e,u.__wbindgen_malloc),r=U,_=u.pkencryption_encrypt(this.__wbg_ptr,t,r);return qr.__wrap(_)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Pe.register(r,r.__wbg_ptr,r),r}},{key:"fromKey",value:function(t){f(t,Et);var r=u.pkencryption_fromKey(t.__wbg_ptr);return e.__wrap(r)}}])})();Symbol.dispose&&(Rr.prototype[Symbol.dispose]=Rr.prototype.free);var qr=i.PkMessage=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ne.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_pkmessage_free(e,0)}},{key:"ciphertext",value:function(){var e=u.pkmessage_ciphertext(this.__wbg_ptr),t=y(e[0],e[1]).slice();return u.__wbindgen_free(e[0],1*e[1],1),t}},{key:"ephemeralKey",value:function(){var e=u.pkmessage_ephemeralKey(this.__wbg_ptr);return Et.__wrap(e)}},{key:"mac",value:function(){var e=u.pkmessage_mac(this.__wbg_ptr),t=y(e[0],e[1]).slice();return u.__wbindgen_free(e[0],1*e[1],1),t}},{key:"toBase64",value:function(){var e=u.pkmessage_toBase64(this.__wbg_ptr);return It.__wrap(e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ne.register(r,r.__wbg_ptr,r),r}},{key:"fromParts",value:function(t,r,_){var n=K(t,u.__wbindgen_malloc),i=U,o=K(r,u.__wbindgen_malloc),a=U;f(_,Et);var s=u.pkmessage_fromParts(n,i,o,a,_.__wbg_ptr);return e.__wrap(s)}},{key:"fromBase64",value:function(t){f(t,It);var r=u.pkmessage_fromBase64(t.__wbg_ptr);if(r[2])throw z(r[1]);return e.__wrap(r[0])}}])})();Symbol.dispose&&(qr.prototype[Symbol.dispose]=qr.prototype.free);var Kr=i.PlainTextToDeviceEvent=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Le.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_plaintexttodeviceevent_free(e,0)}},{key:"rawEvent",get:function(){return u.__wbg_get_plaintexttodeviceevent_rawEvent(this.__wbg_ptr)}},{key:"type",get:function(){return u.plaintexttodeviceevent_type(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Le.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Kr.prototype[Symbol.dispose]=Kr.prototype.free);i.ProcessedToDeviceEventType=Object.freeze({Decrypted:0,0:"Decrypted",UnableToDecrypt:1,1:"UnableToDecrypt",PlainText:2,2:"PlainText",Invalid:3,3:"Invalid"});var Fr=i.PutDehydratedDeviceRequest=(function(){function e(t){(0,s.default)(this,e);var r=u.putdehydrateddevicerequest_new(t);return this.__wbg_ptr=r>>>0,Qe.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Qe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_putdehydrateddevicerequest_free(e,0)}},{key:"body",get:function(){return u.__wbg_get_putdehydrateddevicerequest_body(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Qe.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Fr.prototype[Symbol.dispose]=Fr.prototype.free);var Ir=i.Qr=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,We.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_qr_free(e,0)}},{key:"toQrCode",value:function(){var e=u.qr_toQrCode(this.__wbg_ptr);if(e[2])throw z(e[1]);return zr.__wrap(e[0])}},{key:"weStarted",value:function(){return 0!==u.qr_weStarted(this.__wbg_ptr)}},{key:"cancelInfo",value:function(){var e=u.qr_cancelInfo(this.__wbg_ptr);return 0===e?void 0:Dt.__wrap(e)}},{key:"reciprocate",value:function(){var e=u.qr_reciprocate(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"isCancelled",value:function(){return 0!==u.qr_isCancelled(this.__wbg_ptr)}},{key:"reciprocated",value:function(){return 0!==u.qr_reciprocated(this.__wbg_ptr)}},{key:"otherUserId",get:function(){var e=u.qr_otherUserId(this.__wbg_ptr);return __.__wrap(e)}},{key:"otherDeviceId",get:function(){var e=u.qr_otherDeviceId(this.__wbg_ptr);return Qt.__wrap(e)}},{key:"cancelWithCode",value:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U,_=u.qr_cancelWithCode(this.__wbg_ptr,t,r);if(_[2])throw z(_[1]);return z(_[0])}},{key:"confirmScanning",value:function(){var e=u.qr_confirmScanning(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"hasBeenScanned",value:function(){return 0!==u.qr_hasBeenScanned(this.__wbg_ptr)}},{key:"hasBeenConfirmed",value:function(){return 0!==u.qr_hasBeenConfirmed(this.__wbg_ptr)}},{key:"isSelfVerification",value:function(){return 0!==u.qr_isSelfVerification(this.__wbg_ptr)}},{key:"registerChangesCallback",value:function(e){u.qr_registerChangesCallback(this.__wbg_ptr,e)}},{key:"state",value:function(){return u.qr_state(this.__wbg_ptr)}},{key:"cancel",value:function(){var e=u.qr_cancel(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"flowId",get:function(){var e,t;try{var r=u.qr_flowId(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"isDone",value:function(){return 0!==u.qr_isDone(this.__wbg_ptr)}},{key:"roomId",get:function(){var e=u.qr_roomId(this.__wbg_ptr);return 0===e?void 0:Br.__wrap(e)}},{key:"userId",get:function(){var e=u.qr_userId(this.__wbg_ptr);return __.__wrap(e)}},{key:"toBytes",value:function(){var e=u.qr_toBytes(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,We.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Ir.prototype[Symbol.dispose]=Ir.prototype.free);var zr=i.QrCode=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ge.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_qrcode_free(e,0)}},{key:"renderIntoBuffer",value:function(){var e=u.qrcode_renderIntoBuffer(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ge.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(zr.prototype[Symbol.dispose]=zr.prototype.free);var Dr=i.QrCodeData=(function(){function e(t,r,_){(0,s.default)(this,e),f(t,Et);var n=t.__destroy_into_raw(),i=I(r,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U,a=R(_)?0:I(_,u.__wbindgen_malloc,u.__wbindgen_realloc),c=U,g=u.qrcodedata_new(n,i,o,a,c);if(g[2])throw z(g[1]);return this.__wbg_ptr=g[0]>>>0,$e.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,$e.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_qrcodedata_free(e,0)}},{key:"publicKey",get:function(){var e=u.qrcodedata_publicKey(this.__wbg_ptr);return Et.__wrap(e)}},{key:"serverName",get:function(){var e,t=u.qrcodedata_serverName(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"rendezvousUrl",get:function(){var e,t;try{var r=u.qrcodedata_rendezvousUrl(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"mode",get:function(){return u.qrcodedata_mode(this.__wbg_ptr)}},{key:"toBytes",value:function(){var e=u.qrcodedata_toBytes(this.__wbg_ptr),t=y(e[0],e[1]).slice();return u.__wbindgen_free(e[0],1*e[1],1),t}},{key:"toBase64",value:function(){var e,t;try{var r=u.qrcodedata_toBase64(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,$e.register(r,r.__wbg_ptr,r),r}},{key:"fromBytes",value:function(t){var r=K(t,u.__wbindgen_malloc),_=U,n=u.qrcodedata_fromBytes(r,_);if(n[2])throw z(n[1]);return e.__wrap(n[0])}},{key:"fromBase64",value:function(t){var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.qrcodedata_fromBase64(r,_);if(n[2])throw z(n[1]);return e.__wrap(n[0])}}])})();Symbol.dispose&&(Dr.prototype[Symbol.dispose]=Dr.prototype.free);i.QrCodeMode=Object.freeze({Login:0,0:"Login",Reciprocate:1,1:"Reciprocate"});var Cr=i.QrCodeScan=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,He.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_qrcodescan_free(e,0)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,He.register(r,r.__wbg_ptr,r),r}},{key:"fromBytes",value:function(t){var r=u.qrcodescan_fromBytes(t);if(r[2])throw z(r[1]);return e.__wrap(r[0])}}])})();Symbol.dispose&&(Cr.prototype[Symbol.dispose]=Cr.prototype.free);i.QrState=Object.freeze({Created:0,0:"Created",Scanned:1,1:"Scanned",Confirmed:2,2:"Confirmed",Reciprocated:3,3:"Reciprocated",Done:4,4:"Done",Cancelled:5,5:"Cancelled"});var Or=i.RehydratedDevice=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Je.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_rehydrateddevice_free(e,0)}},{key:"receiveEvents",value:function(e,t){var r=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=0;return R(t)||(f(t,xt),n=t.__destroy_into_raw()),u.rehydrateddevice_receiveEvents(this.__wbg_ptr,r,_,n)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Je.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Or.prototype[Symbol.dispose]=Or.prototype.free);i.RequestType=Object.freeze({KeysUpload:0,0:"KeysUpload",KeysQuery:1,1:"KeysQuery",KeysClaim:2,2:"KeysClaim",ToDevice:3,3:"ToDevice",SignatureUpload:4,4:"SignatureUpload",RoomMessage:5,5:"RoomMessage",KeysBackup:6,6:"KeysBackup"});var Br=i.RoomId=(function(){function e(t){(0,s.default)(this,e);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.roomid_new(r,_);if(n[2])throw z(n[1]);return this.__wbg_ptr=n[0]>>>0,Xe.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Xe.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_roomid_free(e,0)}},{key:"toString",value:function(){var e,t;try{var r=u.roomid_toString(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Xe.register(r,r.__wbg_ptr,r),r}},{key:"__unwrap",value:function(t){return t instanceof e?t.__destroy_into_raw():0}}])})();Symbol.dispose&&(Br.prototype[Symbol.dispose]=Br.prototype.free);var jr=i.RoomKeyCounts=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ye.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_roomkeycounts_free(e,0)}},{key:"total",get:function(){return u.__wbg_get_roomkeycounts_total(this.__wbg_ptr)},set:function(e){u.__wbg_set_roomkeycounts_total(this.__wbg_ptr,e)}},{key:"backedUp",get:function(){return u.__wbg_get_roomkeycounts_backedUp(this.__wbg_ptr)},set:function(e){u.__wbg_set_roomkeycounts_backedUp(this.__wbg_ptr,e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ye.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(jr.prototype[Symbol.dispose]=jr.prototype.free);var Ur=i.RoomKeyImportResult=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,Ze.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_roomkeyimportresult_free(e,0)}},{key:"keys",value:function(){return u.roomkeyimportresult_keys(this.__wbg_ptr)}},{key:"importedCount",get:function(){return u.__wbg_get_roomkeyimportresult_importedCount(this.__wbg_ptr)>>>0}},{key:"totalCount",get:function(){return u.__wbg_get_roomkeyimportresult_totalCount(this.__wbg_ptr)>>>0}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,Ze.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Ur.prototype[Symbol.dispose]=Ur.prototype.free);var Er=i.RoomKeyInfo=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,et.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_roomkeyinfo_free(e,0)}},{key:"senderKey",get:function(){var e=u.roomkeyinfo_senderKey(this.__wbg_ptr);return Et.__wrap(e)}},{key:"sessionId",get:function(){var e,t;try{var r=u.roomkeyinfo_sessionId(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"roomId",get:function(){var e=u.roomkeyinfo_roomId(this.__wbg_ptr);return Br.__wrap(e)}},{key:"algorithm",get:function(){return u.roomkeyinfo_algorithm(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,et.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Er.prototype[Symbol.dispose]=Er.prototype.free);var Vr=i.RoomKeyWithheldInfo=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,tt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_roomkeywithheldinfo_free(e,0)}},{key:"sessionId",get:function(){var e,t;try{var r=u.roomkeywithheldinfo_sessionId(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"withheldCode",get:function(){var e,t;try{var r=u.roomkeywithheldinfo_withheldCode(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"sender",get:function(){var e=u.roomkeywithheldinfo_sender(this.__wbg_ptr);return __.__wrap(e)}},{key:"roomId",get:function(){var e=u.roomkeywithheldinfo_roomId(this.__wbg_ptr);return Br.__wrap(e)}},{key:"algorithm",get:function(){return u.roomkeywithheldinfo_algorithm(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,tt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Vr.prototype[Symbol.dispose]=Vr.prototype.free);var Tr=i.RoomMessageRequest=(function(){function e(t,r,_,n,i){(0,s.default)(this,e);var o=u.roommessagerequest_new(t,r,_,n,i);return this.__wbg_ptr=o>>>0,rt.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,rt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_roommessagerequest_free(e,0)}},{key:"type",get:function(){return u.roommessagerequest_type(this.__wbg_ptr)}},{key:"id",get:function(){return u.__wbg_get_roommessagerequest_id(this.__wbg_ptr)}},{key:"room_id",get:function(){return u.__wbg_get_roommessagerequest_room_id(this.__wbg_ptr)}},{key:"txn_id",get:function(){return u.__wbg_get_roommessagerequest_txn_id(this.__wbg_ptr)}},{key:"event_type",get:function(){return u.__wbg_get_roommessagerequest_event_type(this.__wbg_ptr)}},{key:"body",get:function(){return u.__wbg_get_roommessagerequest_body(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,rt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Tr.prototype[Symbol.dispose]=Tr.prototype.free);var Mr=i.RoomSettings=(function(){function e(){(0,s.default)(this,e);var t=u.roomsettings_new();return this.__wbg_ptr=t>>>0,_t.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,_t.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_roomsettings_free(e,0)}},{key:"algorithm",get:function(){return u.__wbg_get_roomsettings_algorithm(this.__wbg_ptr)},set:function(e){u.__wbg_set_roomsettings_algorithm(this.__wbg_ptr,e)}},{key:"encryptStateEvents",get:function(){return 0!==u.__wbg_get_roomsettings_encryptStateEvents(this.__wbg_ptr)},set:function(e){u.__wbg_set_roomsettings_encryptStateEvents(this.__wbg_ptr,e)}},{key:"onlyAllowTrustedDevices",get:function(){return 0!==u.__wbg_get_roomsettings_onlyAllowTrustedDevices(this.__wbg_ptr)},set:function(e){u.__wbg_set_roomsettings_onlyAllowTrustedDevices(this.__wbg_ptr,e)}},{key:"sessionRotationPeriodMs",get:function(){var e=u.__wbg_get_roomsettings_sessionRotationPeriodMs(this.__wbg_ptr);return 0===e[0]?void 0:e[1]},set:function(e){u.__wbg_set_roomsettings_sessionRotationPeriodMs(this.__wbg_ptr,!R(e),R(e)?0:e)}},{key:"sessionRotationPeriodMessages",get:function(){var e=u.__wbg_get_roomsettings_sessionRotationPeriodMessages(this.__wbg_ptr);return 0===e[0]?void 0:e[1]},set:function(e){u.__wbg_set_roomsettings_sessionRotationPeriodMessages(this.__wbg_ptr,!R(e),R(e)?0:e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,_t.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Mr.prototype[Symbol.dispose]=Mr.prototype.free);var xr=i.Sas=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,nt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_sas_free(e,0)}},{key:"weStarted",value:function(){return 0!==u.sas_weStarted(this.__wbg_ptr)}},{key:"cancelInfo",value:function(){var e=u.sas_cancelInfo(this.__wbg_ptr);return 0===e?void 0:Dt.__wrap(e)}},{key:"emojiIndex",value:function(){var e,t=u.sas_emojiIndex(this.__wbg_ptr);return 0!==t[0]&&(e=y(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"isCancelled",value:function(){return 0!==u.sas_isCancelled(this.__wbg_ptr)}},{key:"otherUserId",get:function(){var e=u.sas_otherUserId(this.__wbg_ptr);return __.__wrap(e)}},{key:"supportsEmoji",value:function(){return 0!==u.sas_supportsEmoji(this.__wbg_ptr)}},{key:"otherDeviceId",get:function(){var e=u.sas_otherDeviceId(this.__wbg_ptr);return Qt.__wrap(e)}},{key:"canBePresented",value:function(){return 0!==u.sas_canBePresented(this.__wbg_ptr)}},{key:"cancelWithCode",value:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U,_=u.sas_cancelWithCode(this.__wbg_ptr,t,r);if(_[2])throw z(_[1]);return z(_[0])}},{key:"hasBeenAccepted",value:function(){return 0!==u.sas_hasBeenAccepted(this.__wbg_ptr)}},{key:"haveWeConfirmed",value:function(){return 0!==u.sas_haveWeConfirmed(this.__wbg_ptr)}},{key:"isSelfVerification",value:function(){return 0!==u.sas_isSelfVerification(this.__wbg_ptr)}},{key:"startedFromRequest",value:function(){return 0!==u.sas_startedFromRequest(this.__wbg_ptr)}},{key:"registerChangesCallback",value:function(e){u.sas_registerChangesCallback(this.__wbg_ptr,e)}},{key:"emoji",value:function(){var e,t=u.sas_emoji(this.__wbg_ptr);return 0!==t[0]&&(e=w(t[0],t[1]).slice(),u.__wbindgen_free(t[0],4*t[1],4)),e}},{key:"accept",value:function(){var e=u.sas_accept(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"cancel",value:function(){var e=u.sas_cancel(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"confirm",value:function(){return u.sas_confirm(this.__wbg_ptr)}},{key:"flowId",get:function(){var e,t;try{var r=u.sas_flowId(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"isDone",value:function(){return 0!==u.sas_isDone(this.__wbg_ptr)}},{key:"roomId",get:function(){var e=u.sas_roomId(this.__wbg_ptr);return 0===e?void 0:Br.__wrap(e)}},{key:"userId",get:function(){var e=u.sas_userId(this.__wbg_ptr);return __.__wrap(e)}},{key:"decimals",value:function(){var e,t,r,_=u.sas_decimals(this.__wbg_ptr);return 0!==_[0]&&(e=(t=_[0],r=_[1],t>>>=0,(null!==h&&0!==h.byteLength||(h=new Uint16Array(u.memory.buffer)),h).subarray(t/2,t/2+r)).slice(),u.__wbindgen_free(_[0],2*_[1],2)),e}},{key:"deviceId",get:function(){var e=u.sas_deviceId(this.__wbg_ptr);return Qt.__wrap(e)}},{key:"timedOut",value:function(){return 0!==u.sas_timedOut(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,nt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(xr.prototype[Symbol.dispose]=xr.prototype.free);var Ar=i.SecretsBundle=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,it.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_secretsbundle_free(e,0)}},{key:"masterKey",get:function(){var e,t;try{var r=u.secretsbundle_masterKey(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"backupBundle",get:function(){var e=u.secretsbundle_backupBundle(this.__wbg_ptr);return 0===e?void 0:Ft.__wrap(e)}},{key:"selfSigningKey",get:function(){var e,t;try{var r=u.secretsbundle_selfSigningKey(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"userSigningKey",get:function(){var e,t;try{var r=u.secretsbundle_userSigningKey(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"to_json",value:function(){var e=u.secretsbundle_to_json(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,it.register(r,r.__wbg_ptr,r),r}},{key:"from_json",value:function(t){var r=u.secretsbundle_from_json(t);if(r[2])throw z(r[1]);return e.__wrap(r[0])}}])})();Symbol.dispose&&(Ar.prototype[Symbol.dispose]=Ar.prototype.free);var Pr=i.ServerName=(function(){function e(t){(0,s.default)(this,e);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.servername_new(r,_);if(n[2])throw z(n[1]);return this.__wbg_ptr=n[0]>>>0,ot.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ot.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_servername_free(e,0)}},{key:"isIpLiteral",value:function(){return 0!==u.servername_isIpLiteral(this.__wbg_ptr)}},{key:"host",get:function(){var e,t;try{var r=u.servername_host(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"port",get:function(){var e=u.servername_port(this.__wbg_ptr);return 16777215===e?void 0:e}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ot.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Pr.prototype[Symbol.dispose]=Pr.prototype.free);i.ShieldColor=Object.freeze({Red:0,0:"Red",Grey:1,1:"Grey",None:2,2:"None"});var Nr=i.ShieldState=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,at.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_shieldstate_free(e,0)}},{key:"message",get:function(){var e,t=u.shieldstate_message(this.__wbg_ptr);return 0!==t[0]&&(e=v(t[0],t[1]).slice(),u.__wbindgen_free(t[0],1*t[1],1)),e}},{key:"color",get:function(){return u.__wbg_get_shieldstate_color(this.__wbg_ptr)},set:function(e){u.__wbg_set_shieldstate_color(this.__wbg_ptr,e)}},{key:"code",get:function(){var e=u.__wbg_get_shieldstate_code(this.__wbg_ptr);return 7===e?void 0:e},set:function(e){u.__wbg_set_shieldstate_code(this.__wbg_ptr,R(e)?7:e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,at.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Nr.prototype[Symbol.dispose]=Nr.prototype.free);i.ShieldStateCode=Object.freeze({AuthenticityNotGuaranteed:0,0:"AuthenticityNotGuaranteed",UnknownDevice:1,1:"UnknownDevice",UnsignedDevice:2,2:"UnsignedDevice",UnverifiedIdentity:3,3:"UnverifiedIdentity",SentInClear:4,4:"SentInClear",VerificationViolation:5,5:"VerificationViolation",MismatchedSender:6,6:"MismatchedSender"});var Lr=i.Signature=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ut.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_signature_free(e,0)}},{key:"ed25519",get:function(){var e=u.signature_ed25519(this.__wbg_ptr);return 0===e?void 0:Yt.__wrap(e)}},{key:"toBase64",value:function(){var e,t;try{var r=u.signature_toBase64(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ut.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Lr.prototype[Symbol.dispose]=Lr.prototype.free);i.SignatureState=Object.freeze({Missing:0,0:"Missing",Invalid:1,1:"Invalid",ValidButNotTrusted:2,2:"ValidButNotTrusted",ValidAndTrusted:3,3:"ValidAndTrusted"});var Qr=i.SignatureUploadRequest=(function(){function e(t,r){(0,s.default)(this,e);var _=u.signatureuploadrequest_new(t,r);return this.__wbg_ptr=_>>>0,st.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,st.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_signatureuploadrequest_free(e,0)}},{key:"id",get:function(){return u.__wbg_get_signatureuploadrequest_id(this.__wbg_ptr)}},{key:"body",get:function(){return u.__wbg_get_signatureuploadrequest_body(this.__wbg_ptr)}},{key:"type",get:function(){return u.signatureuploadrequest_type(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,st.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Qr.prototype[Symbol.dispose]=Qr.prototype.free);var Wr=i.SignatureVerification=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ct.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_signatureverification_free(e,0)}},{key:"userState",get:function(){return u.signatureverification_userState(this.__wbg_ptr)}},{key:"deviceState",get:function(){return u.signatureverification_deviceState(this.__wbg_ptr)}},{key:"trusted",value:function(){return 0!==u.signatureverification_trusted(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ct.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Wr.prototype[Symbol.dispose]=Wr.prototype.free);var Gr=i.Signatures=(function(){function e(){(0,s.default)(this,e);var t=u.signatures_new();return this.__wbg_ptr=t>>>0,gt.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,gt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_signatures_free(e,0)}},{key:"addSignature",value:function(e,t,r){f(e,__),f(t,$t),f(r,Yt);var _=u.signatures_addSignature(this.__wbg_ptr,e.__wbg_ptr,t.__wbg_ptr,r.__wbg_ptr);return 0===_?void 0:dr.__wrap(_)}},{key:"getSignature",value:function(e,t){f(e,__),f(t,$t);var r=u.signatures_getSignature(this.__wbg_ptr,e.__wbg_ptr,t.__wbg_ptr);return 0===r?void 0:Yt.__wrap(r)}},{key:"get",value:function(e){return f(e,__),u.signatures_get(this.__wbg_ptr,e.__wbg_ptr)}},{key:"clear",value:function(){u.signatures_clear(this.__wbg_ptr)}},{key:"count",get:function(){return u.signatures_count(this.__wbg_ptr)>>>0}},{key:"asJSON",value:function(){var e=u.signatures_asJSON(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"isEmpty",value:function(){return 0!==u.signatures_isEmpty(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,gt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Gr.prototype[Symbol.dispose]=Gr.prototype.free);var $r=i.StoreHandle=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ft.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_storehandle_free(e,0)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ft.register(r,r.__wbg_ptr,r),r}},{key:"open",value:function(e,t,r){var _=R(e)?0:I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=R(t)?0:I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),o=U;return u.storehandle_open(_,n,i,o,R(r)?0:g(r))}},{key:"openWithKey",value:function(e,t,r){var _=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),n=U,i=K(t,u.__wbindgen_malloc),o=U;return u.storehandle_openWithKey(_,n,i,o,R(r)?0:g(r))}}])})();Symbol.dispose&&($r.prototype[Symbol.dispose]=$r.prototype.free);var Hr=i.StoredRoomKeyBundleData=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,dt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_storedroomkeybundledata_free(e,0)}},{key:"senderUser",get:function(){var e=u.storedroomkeybundledata_senderUser(this.__wbg_ptr);return __.__wrap(e)}},{key:"encryptionInfo",get:function(){var e,t;try{var r=u.storedroomkeybundledata_encryptionInfo(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"url",get:function(){var e,t;try{var r=u.storedroomkeybundledata_url(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"roomId",get:function(){var e=u.storedroomkeybundledata_roomId(this.__wbg_ptr);return Br.__wrap(e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,dt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Hr.prototype[Symbol.dispose]=Hr.prototype.free);var Jr=i.ToDeviceEncryptionInfo=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,bt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_todeviceencryptioninfo_free(e,0)}},{key:"senderCurve25519Key",get:function(){var e,t;try{var r=u.__wbg_get_todeviceencryptioninfo_senderCurve25519Key(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}},set:function(e){var t=I(e,u.__wbindgen_malloc,u.__wbindgen_realloc),r=U;u.__wbg_set_backupsecretsbundle_key(this.__wbg_ptr,t,r)}},{key:"sender",get:function(){var e=u.__wbg_get_todeviceencryptioninfo_sender(this.__wbg_ptr);return __.__wrap(e)},set:function(e){f(e,__);var t=e.__destroy_into_raw();u.__wbg_set_todeviceencryptioninfo_sender(this.__wbg_ptr,t)}},{key:"senderDevice",get:function(){var e=u.__wbg_get_todeviceencryptioninfo_senderDevice(this.__wbg_ptr);return 0===e?void 0:Qt.__wrap(e)},set:function(e){var t=0;R(e)||(f(e,Qt),t=e.__destroy_into_raw()),u.__wbg_set_todeviceencryptioninfo_senderDevice(this.__wbg_ptr,t)}},{key:"isSenderVerified",value:function(){return 0!==u.todeviceencryptioninfo_isSenderVerified(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,bt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Jr.prototype[Symbol.dispose]=Jr.prototype.free);var Xr=i.ToDeviceRequest=(function(){function e(t,r,_,n){(0,s.default)(this,e);var i=u.todevicerequest_new(t,r,_,n);return this.__wbg_ptr=i>>>0,wt.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,wt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_todevicerequest_free(e,0)}},{key:"type",get:function(){return u.todevicerequest_type(this.__wbg_ptr)}},{key:"id",get:function(){return u.__wbg_get_todevicerequest_id(this.__wbg_ptr)}},{key:"event_type",get:function(){return u.__wbg_get_todevicerequest_event_type(this.__wbg_ptr)}},{key:"txn_id",get:function(){return u.__wbg_get_todevicerequest_txn_id(this.__wbg_ptr)}},{key:"body",get:function(){return u.__wbg_get_todevicerequest_body(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,wt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Xr.prototype[Symbol.dispose]=Xr.prototype.free);var Yr=i.ToDeviceUnableToDecryptInfo=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,yt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_todeviceunabletodecryptinfo_free(e,0)}},{key:"reason",get:function(){return u.__wbg_get_todeviceunabletodecryptinfo_reason(this.__wbg_ptr)},set:function(e){u.__wbg_set_todeviceunabletodecryptinfo_reason(this.__wbg_ptr,e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,yt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(Yr.prototype[Symbol.dispose]=Yr.prototype.free);i.ToDeviceUnableToDecryptReason=Object.freeze({DecryptionFailure:0,0:"DecryptionFailure",UnverifiedSenderDevice:1,1:"UnverifiedSenderDevice",NoOlmMachine:2,2:"NoOlmMachine",EncryptionIsDisabled:3,3:"EncryptionIsDisabled"});var Zr=i.Tracing=(function(){return(0,c.default)(function e(t){(0,s.default)(this,e);var r=u.tracing_new(t);if(r[2])throw z(r[1]);return this.__wbg_ptr=r[0]>>>0,pt.register(this,this.__wbg_ptr,this),this},[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,pt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_tracing_free(e,0)}},{key:"turnOn",value:function(){var e=u.tracing_turnOn(this.__wbg_ptr);if(e[1])throw z(e[0])}},{key:"turnOff",value:function(){var e=u.tracing_turnOff(this.__wbg_ptr);if(e[1])throw z(e[0])}},{key:"minLevel",set:function(e){var t=u.tracing_set_minLevel(this.__wbg_ptr,e);if(t[1])throw z(t[0])}}],[{key:"isAvailable",value:function(){return 0!==u.tracing_isAvailable()}}])})();Symbol.dispose&&(Zr.prototype[Symbol.dispose]=Zr.prototype.free);i.TrustRequirement=Object.freeze({Untrusted:0,0:"Untrusted",CrossSignedOrLegacy:1,1:"CrossSignedOrLegacy",CrossSigned:2,2:"CrossSigned"});var e_=i.UTDToDeviceEvent=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,lt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_utdtodeviceevent_free(e,0)}},{key:"type",get:function(){return u.utdtodeviceevent_type(this.__wbg_ptr)}},{key:"rawEvent",get:function(){return u.__wbg_get_utdtodeviceevent_rawEvent(this.__wbg_ptr)}},{key:"utdInfo",get:function(){var e=u.__wbg_get_utdtodeviceevent_utdInfo(this.__wbg_ptr);return Yr.__wrap(e)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,lt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(e_.prototype[Symbol.dispose]=e_.prototype.free);var t_=i.UploadSigningKeysRequest=(function(){function e(t){(0,s.default)(this,e);var r=u.uploadsigningkeysrequest_new(t);return this.__wbg_ptr=r>>>0,vt.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,vt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_uploadsigningkeysrequest_free(e,0)}},{key:"body",get:function(){return u.__wbg_get_uploadsigningkeysrequest_body(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,vt.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(t_.prototype[Symbol.dispose]=t_.prototype.free);var r_=i.UserDevices=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,ht.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_userdevices_free(e,0)}},{key:"isAnyVerified",value:function(){return 0!==u.userdevices_isAnyVerified(this.__wbg_ptr)}},{key:"get",value:function(e){f(e,Qt);var t=u.userdevices_get(this.__wbg_ptr,e.__wbg_ptr);return 0===t?void 0:Lt.__wrap(t)}},{key:"keys",value:function(){return u.userdevices_keys(this.__wbg_ptr)}},{key:"devices",value:function(){return u.userdevices_devices(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,ht.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(r_.prototype[Symbol.dispose]=r_.prototype.free);var __=i.UserId=(function(){function e(t){(0,s.default)(this,e);var r=I(t,u.__wbindgen_malloc,u.__wbindgen_realloc),_=U,n=u.userid_new(r,_);if(n[2])throw z(n[1]);return this.__wbg_ptr=n[0]>>>0,kt.register(this,this.__wbg_ptr,this),this}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,kt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_userid_free(e,0)}},{key:"serverName",get:function(){var e=u.userid_serverName(this.__wbg_ptr);return Pr.__wrap(e)}},{key:"isHistorical",value:function(){return 0!==u.userid_isHistorical(this.__wbg_ptr)}},{key:"clone",value:function(){var t=u.userid_clone(this.__wbg_ptr);return e.__wrap(t)}},{key:"localpart",get:function(){var e,t;try{var r=u.userid_localpart(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"toString",value:function(){var e,t;try{var r=u.userid_toString(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,kt.register(r,r.__wbg_ptr,r),r}},{key:"__unwrap",value:function(t){return t instanceof e?t.__destroy_into_raw():0}}])})();Symbol.dispose&&(__.prototype[Symbol.dispose]=__.prototype.free);i.VerificationMethod=Object.freeze({SasV1:0,0:"SasV1",QrCodeScanV1:1,1:"QrCodeScanV1",QrCodeShowV1:2,2:"QrCodeShowV1",ReciprocateV1:3,3:"ReciprocateV1"});var n_=i.VerificationRequest=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,mt.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_verificationrequest_free(e,0)}},{key:"isPassive",value:function(){return 0!==u.verificationrequest_isPassive(this.__wbg_ptr)}},{key:"weStarted",value:function(){return 0!==u.verificationrequest_weStarted(this.__wbg_ptr)}},{key:"cancelInfo",get:function(){var e=u.verificationrequest_cancelInfo(this.__wbg_ptr);return 0===e?void 0:Dt.__wrap(e)}},{key:"ownUserId",get:function(){var e=u.verificationrequest_ownUserId(this.__wbg_ptr);return __.__wrap(e)}},{key:"isCancelled",value:function(){return 0!==u.verificationrequest_isCancelled(this.__wbg_ptr)}},{key:"scanQrCode",value:function(e){return f(e,Cr),u.verificationrequest_scanQrCode(this.__wbg_ptr,e.__wbg_ptr)}},{key:"otherUserId",get:function(){var e=u.verificationrequest_otherUserId(this.__wbg_ptr);return __.__wrap(e)}},{key:"otherDeviceId",get:function(){var e=u.verificationrequest_otherDeviceId(this.__wbg_ptr);return 0===e?void 0:Qt.__wrap(e)}},{key:"generateQrCode",value:function(){return u.verificationrequest_generateQrCode(this.__wbg_ptr)}},{key:"getVerification",value:function(){return u.verificationrequest_getVerification(this.__wbg_ptr)}},{key:"acceptWithMethods",value:function(e){var t=F(e,u.__wbindgen_malloc),r=U,_=u.verificationrequest_acceptWithMethods(this.__wbg_ptr,t,r);if(_[2])throw z(_[1]);return z(_[0])}},{key:"isSelfVerification",value:function(){return 0!==u.verificationrequest_isSelfVerification(this.__wbg_ptr)}},{key:"ourSupportedMethods",get:function(){var e,t=u.verificationrequest_ourSupportedMethods(this.__wbg_ptr);if(t[3])throw z(t[2]);return 0!==t[0]&&(e=w(t[0],t[1]).slice(),u.__wbindgen_free(t[0],4*t[1],4)),e}},{key:"timeRemainingMillis",value:function(){return u.verificationrequest_timeRemainingMillis(this.__wbg_ptr)}},{key:"theirSupportedMethods",get:function(){var e,t=u.verificationrequest_theirSupportedMethods(this.__wbg_ptr);if(t[3])throw z(t[2]);return 0!==t[0]&&(e=w(t[0],t[1]).slice(),u.__wbindgen_free(t[0],4*t[1],4)),e}},{key:"registerChangesCallback",value:function(e){u.verificationrequest_registerChangesCallback(this.__wbg_ptr,e)}},{key:"phase",value:function(){return u.verificationrequest_phase(this.__wbg_ptr)}},{key:"accept",value:function(){var e=u.verificationrequest_accept(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"cancel",value:function(){var e=u.verificationrequest_cancel(this.__wbg_ptr);if(e[2])throw z(e[1]);return z(e[0])}},{key:"flowId",get:function(){var e,t;try{var r=u.verificationrequest_flowId(this.__wbg_ptr);return e=r[0],t=r[1],v(r[0],r[1])}finally{u.__wbindgen_free(e,t,1)}}},{key:"isDone",value:function(){return 0!==u.verificationrequest_isDone(this.__wbg_ptr)}},{key:"roomId",get:function(){var e=u.verificationrequest_roomId(this.__wbg_ptr);return 0===e?void 0:Br.__wrap(e)}},{key:"isReady",value:function(){return 0!==u.verificationrequest_isReady(this.__wbg_ptr)}},{key:"startSas",value:function(){return u.verificationrequest_startSas(this.__wbg_ptr)}},{key:"timedOut",value:function(){return 0!==u.verificationrequest_timedOut(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,mt.register(r,r.__wbg_ptr,r),r}},{key:"request",value:function(e,t,r,_){var n,i;try{f(e,__),f(t,Qt),f(r,__);var o=R(_)?0:F(_,u.__wbindgen_malloc),a=U,s=u.verificationrequest_request(e.__wbg_ptr,t.__wbg_ptr,r.__wbg_ptr,o,a),c=s[0],g=s[1];if(s[3])throw c=0,g=0,z(s[2]);return n=c,i=g,v(c,g)}finally{u.__wbindgen_free(n,i,1)}}}])})();Symbol.dispose&&(n_.prototype[Symbol.dispose]=n_.prototype.free);i.VerificationRequestPhase=Object.freeze({Created:0,0:"Created",Requested:1,1:"Requested",Ready:2,2:"Ready",Transitioned:3,3:"Transitioned",Done:4,4:"Done",Cancelled:5,5:"Cancelled"});var i_=i.Versions=(function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"__destroy_into_raw",value:function(){var e=this.__wbg_ptr;return this.__wbg_ptr=0,St.unregister(this),e}},{key:"free",value:function(){var e=this.__destroy_into_raw();u.__wbg_versions_free(e,0)}},{key:"vodozemac",get:function(){return u.__wbg_get_versions_vodozemac(this.__wbg_ptr)}},{key:"matrix_sdk_crypto",get:function(){return u.__wbg_get_versions_matrix_sdk_crypto(this.__wbg_ptr)}},{key:"git_sha",get:function(){return u.__wbg_get_versions_git_sha(this.__wbg_ptr)}},{key:"git_description",get:function(){return u.__wbg_get_versions_git_description(this.__wbg_ptr)}}],[{key:"__wrap",value:function(t){t>>>=0;var r=Object.create(e.prototype);return r.__wbg_ptr=t,St.register(r,r.__wbg_ptr,r),r}}])})();Symbol.dispose&&(i_.prototype[Symbol.dispose]=i_.prototype.free)},868,[1,11,12]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.migrateFromLegacyCrypto=function(e){return r.apply(this,arguments)},_e.migrateLegacyLocalTrustIfNeeded=function(e){return b.apply(this,arguments)},_e.migrateRoomSettingsFromLegacyCrypto=function(e){return h.apply(this,arguments)};var t=e(_r(d[1])),n=e(_r(d[2])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(o=t?i:n){if(o.has(e))return o.get(e);o.set(e,a)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((r=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(r.get||r.set)?o(a,s,r):a[s]=e[s]);return a})(e,t)})(_r(d[3])),o=e(_r(d[4]));function r(){return(r=(0,n.default)(function*(e){var t,n=e.logger,o=e.legacyStore;if(yield i.initAsync(),yield o.containsData()){yield o.startup();var r=null;if(yield o.doTxn("readonly",[_r(d[5]).IndexedDBCryptoStore.STORE_ACCOUNT],function(e){o.getAccount(e,function(e){r=e})}),r){var s=yield o.getMigrationState();if(!(s>=_r(d[6]).MigrationState.MEGOLM_SESSIONS_MIGRATED)){var l=yield c(n,o),y=yield u(n,o),p=1+l+y;n.info("Migrating data from legacy crypto store. ".concat(l," olm sessions and ").concat(y," megolm sessions to migrate."));var v=0;M(0);var h=(new TextEncoder).encode(e.legacyPickleKey);s===_r(d[6]).MigrationState.NOT_STARTED&&(n.info("Migrating data from legacy crypto store. Step 1: base data"),yield a(e.http,e.userId,e.deviceId,o,h,e.storeHandle,n),s=_r(d[6]).MigrationState.INITIAL_DATA_MIGRATED,yield o.setMigrationState(s)),M(1),s===_r(d[6]).MigrationState.INITIAL_DATA_MIGRATED&&(n.info("Migrating data from legacy crypto store. Step 2: olm sessions (".concat(l," sessions to migrate).")),yield f(n,o,h,e.storeHandle,M),s=_r(d[6]).MigrationState.OLM_SESSIONS_MIGRATED,yield o.setMigrationState(s)),s===_r(d[6]).MigrationState.OLM_SESSIONS_MIGRATED&&(n.info("Migrating data from legacy crypto store. Step 3: megolm sessions (".concat(y," sessions to migrate).")),yield S(n,o,h,e.storeHandle,M),s=_r(d[6]).MigrationState.MEGOLM_SESSIONS_MIGRATED,yield o.setMigrationState(s)),null===(t=e.legacyMigrationProgressListener)||void 0===t||t.call(e,-1,-1),n.info("Migration from legacy crypto store complete")}}else n.debug("Legacy crypto store is not set up (no account found). Not migrating.")}function M(t){var n;v+=t,null===(n=e.legacyMigrationProgressListener)||void 0===n||n.call(e,v,p)}})).apply(this,arguments)}function a(e,t,n,i,o,r,a){return s.apply(this,arguments)}function s(){return(s=(0,n.default)(function*(e,t,n,o,r,a,s){var c=new i.BaseMigrationData;c.userId=new i.UserId(t),c.deviceId=new i.DeviceId(n),yield o.doTxn("readonly",[_r(d[5]).IndexedDBCryptoStore.STORE_ACCOUNT],function(e){return o.getAccount(e,function(e){c.pickledAccount=null!=e?e:""})});var l=yield M(o,r,"m.megolm_backup.v1");if(l){for(var u=!1,y=null;!u;)try{y=yield(0,_r(d[7]).requestKeyBackupVersion)(e),u=!0}catch(e){s.info("Failed to get backup version during migration, retrying in 2 seconds",e),yield(0,_r(d[8]).sleep)(2e3)}if(y&&"m.megolm_backup.v1.curve25519-aes-sha2"==y.algorithm)try{var f,p=i.BackupDecryptionKey.fromBase64(l),S=null===(f=y.auth_data)||void 0===f?void 0:f.public_key;p.megolmV1PublicKey.publicKeyBase64==S?(c.backupVersion=y.version,c.backupRecoveryKey=l):s.debug("The backup key to migrate does not match the active backup version","Cached pub key: ".concat(p.megolmV1PublicKey.publicKeyBase64),"Active pub key: ".concat(S))}catch(e){s.warn("Failed to check if the backup key to migrate matches the active backup version",e)}}c.privateCrossSigningMasterKey=yield M(o,r,"master"),c.privateCrossSigningSelfSigningKey=yield M(o,r,"self_signing"),c.privateCrossSigningUserSigningKey=yield M(o,r,"user_signing"),yield i.Migration.migrateBaseData(c,r,a,s)})).apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=(0,n.default)(function*(e,t){var n;return e.debug("Counting olm sessions to be migrated"),yield t.doTxn("readonly",[_r(d[5]).IndexedDBCryptoStore.STORE_SESSIONS],function(e){return t.countEndToEndSessions(e,function(e){return n=e})}),n})).apply(this,arguments)}function u(e,t){return y.apply(this,arguments)}function y(){return(y=(0,n.default)(function*(e,t){return e.debug("Counting megolm sessions to be migrated"),yield t.countEndToEndInboundGroupSessions()})).apply(this,arguments)}function f(e,t,n,i,o){return p.apply(this,arguments)}function p(){return(p=(0,n.default)(function*(e,t,n,o,r){for(;;){var a=yield t.getEndToEndSessionsBatch();if(null===a)return;e.debug("Migrating batch of ".concat(a.length," olm sessions"));var s=[];for(var c of a){var l=new i.PickledSession;l.senderKey=c.deviceKey,l.pickle=c.session,l.lastUseTime=l.creationTime=new Date(c.lastReceivedMessageTs),s.push(l)}yield i.Migration.migrateOlmSessions(s,n,o,e),yield t.deleteEndToEndSessionsBatch(a),r(a.length)}})).apply(this,arguments)}function S(e,t,n,i,o){return v.apply(this,arguments)}function v(){return(v=(0,n.default)(function*(e,t,n,o,r){for(;;){var a=yield t.getEndToEndInboundGroupSessionsBatch();if(null===a)return;e.debug("Migrating batch of ".concat(a.length," megolm sessions"));var s=[];for(var c of a){var l,u=c.sessionData,y=new i.PickledInboundGroupSession;y.pickle=u.session,y.roomId=new i.RoomId(u.room_id),y.senderKey=c.senderKey,y.senderSigningKey=null===(l=u.keysClaimed)||void 0===l?void 0:l.ed25519,y.backedUp=!c.needsBackup,y.imported=!0===u.untrusted,s.push(y)}yield i.Migration.migrateMegolmSessions(s,n,o,e),yield t.deleteEndToEndInboundGroupSessionsBatch(a),r(a.length)}})).apply(this,arguments)}function h(){return(h=(0,n.default)(function*(e){var n=e.logger,o=e.legacyStore,r=e.olmMachine;if((yield o.containsData())&&!((yield o.getMigrationState())>=_r(d[6]).MigrationState.ROOM_SETTINGS_MIGRATED)){var a={};for(var s of(yield o.doTxn("readwrite",[_r(d[5]).IndexedDBCryptoStore.STORE_ROOMS],function(e){o.getEndToEndRooms(e,function(e){a=e})}),n.debug("Migrating ".concat(Object.keys(a).length," sets of room settings")),Object.entries(a))){var c=(0,t.default)(s,2),l=c[0],u=c[1];try{var y=new i.RoomSettings;if("m.megolm.v1.aes-sha2"!==u.algorithm){n.warn("Room ".concat(l,": ignoring room with invalid algorithm ").concat(u.algorithm));continue}y.algorithm=i.EncryptionAlgorithm.MegolmV1AesSha2,y.sessionRotationPeriodMs=u.rotation_period_ms,y.sessionRotationPeriodMessages=u.rotation_period_msgs,yield r.setRoomSettings(new i.RoomId(l),y)}catch(e){n.warn("Room ".concat(l,": ignoring settings ").concat(JSON.stringify(u)," which caused error ").concat(e))}}n.debug("Completed room settings migration"),yield o.setMigrationState(_r(d[6]).MigrationState.ROOM_SETTINGS_MIGRATED)}})).apply(this,arguments)}function M(e,t,n){return T.apply(this,arguments)}function T(){return(T=(0,n.default)(function*(e,t,n){var i=yield new Promise(function(t){e.doTxn("readonly",[_r(d[5]).IndexedDBCryptoStore.STORE_ACCOUNT],function(i){e.getSecretStorePrivateKey(i,t,n)})});return i&&i.ciphertext&&i.iv&&i.mac?yield(0,o.default)(i,t,n):i instanceof Uint8Array?(0,_r(d[9]).encodeBase64)(i):void 0})).apply(this,arguments)}function b(){return(b=(0,n.default)(function*(e){var t=e.legacyCryptoStore,n=e.rustCrypto,i=e.logger,o=yield n.getOwnIdentity();if(o&&!o.isVerified()){var r=yield _(t);if(r){var a=JSON.parse(o.masterKey);if(a.keys&&0!==Object.keys(a.keys).length){var s=Object.values(a.keys)[0];s&&s==r&&(i.info("Post Migration: Migrating legacy trusted MSK: ".concat(r," to locally verified.")),yield o.verify())}else i.error("Post Migration | Unexpected error: no master key in the rust session.")}}})).apply(this,arguments)}function _(e){return I.apply(this,arguments)}function I(){return(I=(0,n.default)(function*(e){var t=null;return yield e.doTxn("readonly","account",function(n){e.getCrossSigningKeys(n,function(e){var n=null==e?void 0:e.master;n&&0!=Object.keys(n.keys).length&&(t=Object.values(n.keys)[0])})}),t})).apply(this,arguments)}},869,[1,34,743,867,862,870,872,876,748,745]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.IndexedDBCryptoStore=void 0;var n=e(_r(d[1])),o=e(_r(d[2])),t=e(_r(d[3])),r=e(_r(d[4])),i=u(_r(d[5])),s=u(_r(d[6]));function u(e,n){if("function"==typeof WeakMap)var o=new WeakMap,t=new WeakMap;return(u=function(e,n){if(!n&&e&&e.__esModule)return e;var r,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=n?t:o){if(r.has(e))return r.get(e);r.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?r(s,u,i):s[u]=e[u]);return s})(e,n)}var c=_e.IndexedDBCryptoStore=(function(){function e(o,t){(0,n.default)(this,e),this.indexedDB=o,this.dbName=t,(0,r.default)(this,"backendPromise",void 0),(0,r.default)(this,"backend",void 0)}return(0,o.default)(e,[{key:"containsData",value:function(){var n=this;return(0,t.default)(function*(){return e.exists(n.indexedDB,n.dbName)})()}},{key:"startup",value:function(){var n=this;return this.backendPromise||(this.backendPromise=new Promise(function(e,o){if(n.indexedDB){_r(d[7]).logger.log("connecting to indexeddb ".concat(n.dbName));var t=n.indexedDB.open(n.dbName,i.VERSION);t.onupgradeneeded=function(e){var n=t.result,o=e.oldVersion;i.upgradeDatabase(n,o)},t.onblocked=function(){_r(d[7]).logger.log("can't yet open IndexedDBCryptoStore because it is open elsewhere")},t.onerror=function(e){_r(d[7]).logger.log("Error connecting to indexeddb",e),o(t.error)},t.onsuccess=function(){var o=t.result;_r(d[7]).logger.log("connected to indexeddb ".concat(n.dbName)),e(new i.Backend(o))}}else o(new Error("no indexeddb support available"))}).then(function(n){return n.doTxn("readonly",[e.STORE_INBOUND_GROUP_SESSIONS,e.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],function(e){n.getEndToEndInboundGroupSession("","",e,function(){})}).then(function(){return n})}).catch(function(e){if("VersionError"===e.name)throw _r(d[7]).logger.warn("Crypto DB is too new for us to use!",e),new(_r(d[8]).InvalidCryptoStoreError)(_r(d[8]).InvalidCryptoStoreState.TooNew);_r(d[7]).logger.warn("unable to connect to indexeddb ".concat(n.dbName)+": falling back to localStorage store: ".concat(e));try{if(!(globalThis.localStorage instanceof Storage))throw new Error("localStorage is not available");return new(_r(d[9]).LocalStorageCryptoStore)(globalThis.localStorage)}catch(e){return _r(d[7]).logger.warn("Unable to open localStorage: falling back to in-memory store: ".concat(e)),new(_r(d[10]).MemoryCryptoStore)}}).then(function(e){return n.backend=e,e})),this.backendPromise}},{key:"deleteAllData",value:function(){var e=this;return new Promise(function(n,o){if(e.indexedDB){_r(d[7]).logger.log("Removing indexeddb instance: ".concat(e.dbName));var t=e.indexedDB.deleteDatabase(e.dbName);t.onblocked=function(){_r(d[7]).logger.log("can't yet delete IndexedDBCryptoStore because it is open elsewhere")},t.onerror=function(e){_r(d[7]).logger.log("Error deleting data from indexeddb",e),o(t.error)},t.onsuccess=function(){_r(d[7]).logger.log("Removed indexeddb instance: ".concat(e.dbName)),n()}}else o(new Error("no indexeddb support available"))}).catch(function(e){_r(d[7]).logger.warn("unable to delete IndexedDBCryptoStore: ".concat(e))})}},{key:"getMigrationState",value:function(){return this.backend.getMigrationState()}},{key:"setMigrationState",value:function(e){return this.backend.setMigrationState(e)}},{key:"getAccount",value:function(e,n){this.backend.getAccount(e,n)}},{key:"storeAccount",value:function(e,n){this.backend.storeAccount(e,n)}},{key:"getCrossSigningKeys",value:function(e,n){this.backend.getCrossSigningKeys(e,n)}},{key:"getSecretStorePrivateKey",value:function(e,n,o){this.backend.getSecretStorePrivateKey(e,n,o)}},{key:"storeSecretStorePrivateKey",value:function(e,n,o){this.backend.storeSecretStorePrivateKey(e,n,o)}},{key:"countEndToEndSessions",value:function(e,n){this.backend.countEndToEndSessions(e,n)}},{key:"getEndToEndSession",value:function(e,n,o,t){this.backend.getEndToEndSession(e,n,o,t)}},{key:"getEndToEndSessions",value:function(e,n,o){this.backend.getEndToEndSessions(e,n,o)}},{key:"storeEndToEndSession",value:function(e,n,o,t){this.backend.storeEndToEndSession(e,n,o,t)}},{key:"countEndToEndInboundGroupSessions",value:function(){return this.backend.countEndToEndInboundGroupSessions()}},{key:"getEndToEndSessionsBatch",value:function(){return this.backend.getEndToEndSessionsBatch()}},{key:"deleteEndToEndSessionsBatch",value:function(e){return this.backend.deleteEndToEndSessionsBatch(e)}},{key:"getEndToEndInboundGroupSession",value:function(e,n,o,t){this.backend.getEndToEndInboundGroupSession(e,n,o,t)}},{key:"storeEndToEndInboundGroupSession",value:function(e,n,o,t){this.backend.storeEndToEndInboundGroupSession(e,n,o,t)}},{key:"getEndToEndInboundGroupSessionsBatch",value:function(){return this.backend.getEndToEndInboundGroupSessionsBatch()}},{key:"deleteEndToEndInboundGroupSessionsBatch",value:function(e){return this.backend.deleteEndToEndInboundGroupSessionsBatch(e)}},{key:"getEndToEndRooms",value:function(e,n){this.backend.getEndToEndRooms(e,n)}},{key:"markSessionsNeedingBackup",value:function(e,n){return this.backend.markSessionsNeedingBackup(e,n)}},{key:"doTxn",value:function(e,n,o,t){return this.backend.doTxn(e,n,o,t)}}],[{key:"exists",value:function(e,n){return s.exists(e,n)}},{key:"existsAndIsNotMigrated",value:function(n,o){return new Promise(function(t,r){var i=!0,s=n.open(o);s.onupgradeneeded=function(){i=!1},s.onblocked=function(){return r(s.error)},s.onsuccess=function(){var u=s.result;if(i){var c=u.transaction([e.STORE_ACCOUNT],"readonly").objectStore(e.STORE_ACCOUNT).get(_r(d[11]).ACCOUNT_OBJECT_KEY_MIGRATION_STATE);c.onsuccess=function(){var e,n=null!==(e=c.result)&&void 0!==e?e:_r(d[11]).MigrationState.NOT_STARTED;t(n===_r(d[11]).MigrationState.NOT_STARTED)},c.onerror=function(){r(c.error)},u.close()}else u.close(),n.deleteDatabase(o),t(!1)},s.onerror=function(){return r(s.error)}})}}])})();(0,r.default)(c,"STORE_ACCOUNT","account"),(0,r.default)(c,"STORE_SESSIONS","sessions"),(0,r.default)(c,"STORE_INBOUND_GROUP_SESSIONS","inbound_group_sessions"),(0,r.default)(c,"STORE_INBOUND_GROUP_SESSIONS_WITHHELD","inbound_group_sessions_withheld"),(0,r.default)(c,"STORE_SHARED_HISTORY_INBOUND_GROUP_SESSIONS","shared_history_inbound_group_sessions"),(0,r.default)(c,"STORE_PARKED_SHARED_HISTORY","parked_shared_history"),(0,r.default)(c,"STORE_DEVICE_DATA","device_data"),(0,r.default)(c,"STORE_ROOMS","rooms"),(0,r.default)(c,"STORE_BACKUP","sessions_needing_backup")},870,[1,11,12,743,739,871,873,746,847,874,875,872]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.VERSION=_e.Backend=void 0,_e.upgradeDatabase=function(e,t){r(d[5]).logger.log("Upgrading IndexedDBCryptoStore from version ".concat(t)+" to ".concat(u)),c.forEach(function(n,o){t<=o&&n(e)})};var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),c=(_e.Backend=(function(){return(0,n.default)(function e(n){var o=this;(0,t.default)(this,e),this.db=n,(0,s.default)(this,"nextTxnId",0),n.onversionchange=function(){r(d[5]).logger.log("versionchange for indexeddb ".concat(o.db.name,": closing")),n.close()}},[{key:"containsData",value:function(){return(0,o.default)(function*(){throw Error("Not implemented for Backend")})()}},{key:"startup",value:function(){var e=this;return(0,o.default)(function*(){return e})()}},{key:"deleteAllData",value:function(){return(0,o.default)(function*(){throw Error("This is not implemented, call IDBFactory::deleteDatabase(dbName) instead.")})()}},{key:"getMigrationState",value:function(){var e=this;return(0,o.default)(function*(){var t=r(d[6]).MigrationState.NOT_STARTED;return yield e.doTxn("readonly",[r(d[7]).IndexedDBCryptoStore.STORE_ACCOUNT],function(e){var n=e.objectStore(r(d[7]).IndexedDBCryptoStore.STORE_ACCOUNT).get(r(d[6]).ACCOUNT_OBJECT_KEY_MIGRATION_STATE);n.onsuccess=function(){var e;t=null!==(e=n.result)&&void 0!==e?e:r(d[6]).MigrationState.NOT_STARTED}}),t})()}},{key:"setMigrationState",value:function(e){var t=this;return(0,o.default)(function*(){yield t.doTxn("readwrite",[r(d[7]).IndexedDBCryptoStore.STORE_ACCOUNT],function(t){t.objectStore(r(d[7]).IndexedDBCryptoStore.STORE_ACCOUNT).put(e,r(d[6]).ACCOUNT_OBJECT_KEY_MIGRATION_STATE)})})()}},{key:"getAccount",value:function(e,t){var n=e.objectStore("account").get("-");n.onsuccess=function(){try{t(n.result||null)}catch(t){S(e,t)}}}},{key:"storeAccount",value:function(e,t){e.objectStore("account").put(t,"-")}},{key:"getCrossSigningKeys",value:function(e,t){var n=e.objectStore("account").get("crossSigningKeys");n.onsuccess=function(){try{t(n.result||null)}catch(t){S(e,t)}}}},{key:"getSecretStorePrivateKey",value:function(e,t,n){var o=e.objectStore("account").get("ssss_cache:".concat(n));o.onsuccess=function(){try{t(o.result||null)}catch(t){S(e,t)}}}},{key:"storeSecretStorePrivateKey",value:function(e,t,n){e.objectStore("account").put(n,"ssss_cache:".concat(t))}},{key:"countEndToEndSessions",value:function(e,t){var n=e.objectStore("sessions").count();n.onsuccess=function(){try{t(n.result)}catch(t){S(e,t)}}}},{key:"getEndToEndSessions",value:function(e,t,n){var o=t.objectStore("sessions").index("deviceKey").openCursor(e),s={};o.onsuccess=function(){var e=o.result;if(e)s[e.value.sessionId]={session:e.value.session,lastReceivedMessageTs:e.value.lastReceivedMessageTs},e.continue();else try{n(s)}catch(e){S(t,e)}}}},{key:"getEndToEndSession",value:function(e,t,n,o){var s=n.objectStore("sessions").get([e,t]);s.onsuccess=function(){try{s.result?o({session:s.result.session,lastReceivedMessageTs:s.result.lastReceivedMessageTs}):o(null)}catch(e){S(n,e)}}}},{key:"storeEndToEndSession",value:function(e,t,n,o){o.objectStore("sessions").put({deviceKey:e,sessionId:t,session:n.session,lastReceivedMessageTs:n.lastReceivedMessageTs})}},{key:"getEndToEndSessionsBatch",value:function(){var e=this;return(0,o.default)(function*(){var t=[];return yield e.doTxn("readonly",[r(d[7]).IndexedDBCryptoStore.STORE_SESSIONS],function(e){var n=e.objectStore(r(d[7]).IndexedDBCryptoStore.STORE_SESSIONS).openCursor();n.onsuccess=function(){try{var o=n.result;o&&(t.push(o.value),t.length<r(d[6]).SESSION_BATCH_SIZE&&o.continue())}catch(t){S(e,t)}}}),0===t.length?null:t})()}},{key:"deleteEndToEndSessionsBatch",value:function(e){var t=this;return(0,o.default)(function*(){yield t.doTxn("readwrite",[r(d[7]).IndexedDBCryptoStore.STORE_SESSIONS],(function(){var t=(0,o.default)(function*(t){try{var n=t.objectStore(r(d[7]).IndexedDBCryptoStore.STORE_SESSIONS),o=function*(){var e=n.delete([c,u]);yield new Promise(function(t){e.onsuccess=t})};for(var s of e){var c=s.deviceKey,u=s.sessionId;yield*o()}}catch(e){S(t,e)}});return function(e){return t.apply(this,arguments)}})())})()}},{key:"getEndToEndInboundGroupSession",value:function(e,t,n,o){var s=!1,c=!1,u=n.objectStore("inbound_group_sessions").get([e,t]);u.onsuccess=function(){try{s=u.result?u.result.session:null,!1!==c&&o(s,c)}catch(e){S(n,e)}};var l=n.objectStore("inbound_group_sessions_withheld").get([e,t]);l.onsuccess=function(){try{c=l.result?l.result.session:null,!1!==s&&o(s,c)}catch(e){S(n,e)}}}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,n,o){o.objectStore("inbound_group_sessions").put({senderCurve25519Key:e,sessionId:t,session:n})}},{key:"countEndToEndInboundGroupSessions",value:function(){var e=this;return(0,o.default)(function*(){var t=0;return yield e.doTxn("readonly",[r(d[7]).IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS],function(e){var n=e.objectStore(r(d[7]).IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS).count();n.onsuccess=function(){t=n.result}}),t})()}},{key:"getEndToEndInboundGroupSessionsBatch",value:function(){var e=this;return(0,o.default)(function*(){var t=[];return yield e.doTxn("readonly",[r(d[7]).IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,r(d[7]).IndexedDBCryptoStore.STORE_BACKUP],function(e){var n=e.objectStore(r(d[7]).IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS),o=e.objectStore(r(d[7]).IndexedDBCryptoStore.STORE_BACKUP),s=n.openCursor();s.onsuccess=function(){try{var n=s.result;if(n){var c=o.get(n.key);c.onsuccess=function(){t.push({senderKey:n.value.senderCurve25519Key,sessionId:n.value.sessionId,sessionData:n.value.session,needsBackup:void 0!==c.result}),t.length<r(d[6]).SESSION_BATCH_SIZE&&n.continue()}}}catch(t){S(e,t)}}}),0===t.length?null:t})()}},{key:"deleteEndToEndInboundGroupSessionsBatch",value:function(e){var t=this;return(0,o.default)(function*(){yield t.doTxn("readwrite",[r(d[7]).IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS],(function(){var t=(0,o.default)(function*(t){try{var n=t.objectStore(r(d[7]).IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS),o=function*(){var e=n.delete([c,u]);yield new Promise(function(t){e.onsuccess=t})};for(var s of e){var c=s.senderKey,u=s.sessionId;yield*o()}}catch(e){S(t,e)}});return function(e){return t.apply(this,arguments)}})())})()}},{key:"getEndToEndDeviceData",value:function(e,t){var n=e.objectStore("device_data").get("-");n.onsuccess=function(){try{t(n.result||null)}catch(t){S(e,t)}}}},{key:"getEndToEndRooms",value:function(e,t){var n={},o=e.objectStore("rooms").openCursor();o.onsuccess=function(){var s=o.result;if(s)n[s.key]=s.value,s.continue();else try{t(n)}catch(t){S(e,t)}}}},{key:"markSessionsNeedingBackup",value:function(e,t){var n=this;return(0,o.default)(function*(){t||(t=n.db.transaction("sessions_needing_backup","readwrite"));var o=t.objectStore("sessions_needing_backup");yield Promise.all(e.map(function(e){return new Promise(function(t,n){var s=o.put({senderCurve25519Key:e.senderKey,sessionId:e.sessionId});s.onsuccess=t,s.onerror=n})}))})()}},{key:"doTxn",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]||r(d[5]).logger;var o=this.db.transaction(t,e),s=f(o),c=n(o);return s.then(function(){return c})}}])})(),[function(e){l(e)},function(e){e.createObjectStore("account")},function(e){e.createObjectStore("sessions",{keyPath:["deviceKey","sessionId"]}).createIndex("deviceKey","deviceKey")},function(e){e.createObjectStore("inbound_group_sessions",{keyPath:["senderCurve25519Key","sessionId"]})},function(e){e.createObjectStore("device_data")},function(e){e.createObjectStore("rooms")},function(e){e.createObjectStore("sessions_needing_backup",{keyPath:["senderCurve25519Key","sessionId"]})},function(e){e.createObjectStore("inbound_group_sessions_withheld",{keyPath:["senderCurve25519Key","sessionId"]})},function(e){e.createObjectStore("session_problems",{keyPath:["deviceKey","time"]}).createIndex("deviceKey","deviceKey"),e.createObjectStore("notified_error_devices",{keyPath:["userId","deviceId"]})},function(e){e.createObjectStore("shared_history_inbound_group_sessions",{keyPath:["roomId"]})},function(e){e.createObjectStore("parked_shared_history",{keyPath:["roomId"]})}]),u=_e.VERSION=c.length;function l(e){var t=e.createObjectStore("outgoingRoomKeyRequests",{keyPath:"requestId"});t.createIndex("session",["requestBody.room_id","requestBody.session_id"]),t.createIndex("state","state")}function S(e,t){e._mx_abortexception=t;try{e.abort()}catch(e){}}function f(e){return new Promise(function(t,n){e.oncomplete=function(){void 0!==e._mx_abortexception&&n(e._mx_abortexception),t(null)},e.onerror=function(t){void 0!==e._mx_abortexception?n(e._mx_abortexception):(r(d[5]).logger.log("Error performing indexeddb txn",t),n(e.error))},e.onabort=function(t){void 0!==e._mx_abortexception?n(e._mx_abortexception):(r(d[5]).logger.log("Error performing indexeddb txn",t),n(e.error))}})}},871,[1,11,12,743,739,746,872,870]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.TrackingStatus=e.SESSION_BATCH_SIZE=e.RoomKeyRequestState=e.MigrationState=e.DeviceVerification=e.ACCOUNT_OBJECT_KEY_MIGRATION_STATE=void 0;e.ACCOUNT_OBJECT_KEY_MIGRATION_STATE="migrationState",e.MigrationState=(function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.INITIAL_DATA_MIGRATED=1]="INITIAL_DATA_MIGRATED",n[n.OLM_SESSIONS_MIGRATED=2]="OLM_SESSIONS_MIGRATED",n[n.MEGOLM_SESSIONS_MIGRATED=3]="MEGOLM_SESSIONS_MIGRATED",n[n.ROOM_SETTINGS_MIGRATED=4]="ROOM_SETTINGS_MIGRATED",n[n.INITIAL_OWN_KEY_QUERY_DONE=5]="INITIAL_OWN_KEY_QUERY_DONE",n})({}),e.SESSION_BATCH_SIZE=50,e.TrackingStatus=(function(n){return n[n.NotTracked=0]="NotTracked",n[n.PendingDownload=1]="PendingDownload",n[n.DownloadInProgress=2]="DownloadInProgress",n[n.UpToDate=3]="UpToDate",n})({}),e.RoomKeyRequestState=(function(n){return n[n.Unsent=0]="Unsent",n[n.Sent=1]="Sent",n[n.CancellationPending=2]="CancellationPending",n[n.CancellationPendingAndWillResend=3]="CancellationPendingAndWillResend",n})({}),e.DeviceVerification=(function(n){return n[n.Blocked=-1]="Blocked",n[n.Unverified=0]="Unverified",n[n.Verified=1]="Verified",n})({})},872,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.exists=function(n,o){return new Promise(function(t,u){var c=!0,s=n.open(o);s.onupgradeneeded=function(){c=!1},s.onblocked=function(){return u(s.error)},s.onsuccess=function(){s.result.close(),c||n.deleteDatabase(o),t(c)},s.onerror=function(){return u(s.error)}})}},873,[]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.LocalStorageCryptoStore=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),i=e(r(d[5])),u=e(r(d[6])),l=e(r(d[7]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var f="crypto.",v="crypto.migration",h="crypto.account",y="crypto.inboundgroupsessions/",E="crypto.sessionsneedingbackup";function S(e){return"crypto.sessions/"+e}function k(e,t){return y+e+"/"+t}function p(e,t){return"crypto.inboundgroupsessions.withheld/"+e+"/"+t}function T(e){return"crypto.rooms/"+e}_e.LocalStorageCryptoStore=(function(e){function b(e){var t,o,u,l;return(0,n.default)(this,b),o=this,u=b,u=(0,i.default)(u),(t=(0,s.default)(o,c()?Reflect.construct(u,l||[],(0,i.default)(o).constructor):u.apply(o,l))).store=e,t}return(0,u.default)(b,e),(0,o.default)(b,[{key:"containsData",value:function(){var e=this;return(0,l.default)(function*(){return b.exists(e.store)})()}},{key:"getMigrationState",value:function(){var e=this;return(0,l.default)(function*(){var t;return null!==(t=_(e.store,v))&&void 0!==t?t:r(d[8]).MigrationState.NOT_STARTED})()}},{key:"setMigrationState",value:function(e){var t=this;return(0,l.default)(function*(){I(t.store,v,e)})()}},{key:"countEndToEndSessions",value:function(e,t){for(var n=0,o=0;o<this.store.length;++o){var s=this.store.key(o);if(null!=s&&s.startsWith(S(""))){var i=_(this.store,s);n+=Object.keys(null!=i?i:{}).length}}t(n)}},{key:"_getEndToEndSessions",value:function(e){var n=_(this.store,S(e)),o={};for(var s of Object.entries(n||{})){var i=(0,t.default)(s,2),u=i[0],l=i[1];o[u]="string"==typeof l?{session:l}:l}return o}},{key:"getEndToEndSession",value:function(e,t,n,o){var s;o(null!==(s=this._getEndToEndSessions(e)[t])&&void 0!==s?s:{})}},{key:"getEndToEndSessions",value:function(e,t,n){var o;n(null!==(o=this._getEndToEndSessions(e))&&void 0!==o?o:{})}},{key:"storeEndToEndSession",value:function(e,t,n,o){var s=this._getEndToEndSessions(e)||{};s[t]=n,I(this.store,S(e),s)}},{key:"getEndToEndSessionsBatch",value:function(){var e=this;return(0,l.default)(function*(){for(var t=[],n=0;n<e.store.length;++n){var o;if(null!==(o=e.store.key(n))&&void 0!==o&&o.startsWith(S(""))){var s=e.store.key(n).split("/")[1];for(var i of Object.values(e._getEndToEndSessions(s)))if(t.push(i),t.length>=r(d[8]).SESSION_BATCH_SIZE)return t}}return 0===t.length?null:t})()}},{key:"deleteEndToEndSessionsBatch",value:function(e){var t=this;return(0,l.default)(function*(){for(var n of e){var o=n.deviceKey,s=n.sessionId,i=t._getEndToEndSessions(o)||{};delete i[s],0===Object.keys(i).length?t.store.removeItem(S(o)):I(t.store,S(o),i)}})()}},{key:"getEndToEndInboundGroupSession",value:function(e,t,n,o){o(_(this.store,k(e,t)),_(this.store,p(e,t)))}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,n,o){I(this.store,k(e,t),n)}},{key:"countEndToEndInboundGroupSessions",value:function(){var e=this;return(0,l.default)(function*(){for(var t=0,n=0;n<e.store.length;++n){var o=e.store.key(n);null!=o&&o.startsWith(y)&&(t+=1)}return t})()}},{key:"getEndToEndInboundGroupSessionsBatch",value:function(){var e=this;return(0,l.default)(function*(){for(var t=_(e.store,E)||{},n=[],o=0;o<e.store.length;++o){var s=e.store.key(o);if(null!=s&&s.startsWith(y)){var i=s.slice(28);if(n.push({senderKey:i.slice(0,43),sessionId:i.slice(44),sessionData:_(e.store,s),needsBackup:i in t}),n.length>=r(d[8]).SESSION_BATCH_SIZE)return n}}return 0===n.length?null:n})()}},{key:"deleteEndToEndInboundGroupSessionsBatch",value:function(e){var t=this;return(0,l.default)(function*(){for(var n of e){var o=k(n.senderKey,n.sessionId);t.store.removeItem(o)}})()}},{key:"getEndToEndRooms",value:function(e,t){for(var n={},o=T(""),s=0;s<this.store.length;++s){var i=this.store.key(s);if(null!=i&&i.startsWith(o))n[i.slice(o.length)]=_(this.store,i)}t(n)}},{key:"markSessionsNeedingBackup",value:function(e){var t=_(this.store,E)||{};for(var n of e)t[n.senderKey+"/"+n.sessionId]=!0;return I(this.store,E,t),Promise.resolve()}},{key:"deleteAllData",value:function(){return this.store.removeItem(h),Promise.resolve()}},{key:"getAccount",value:function(e,t){t(_(this.store,h))}},{key:"storeAccount",value:function(e,t){I(this.store,h,t)}},{key:"getCrossSigningKeys",value:function(e,t){t(_(this.store,"crypto.cross_signing_keys"))}},{key:"getSecretStorePrivateKey",value:function(e,t,n){t(_(this.store,f+"ssss_cache.".concat(n)))}},{key:"storeSecretStorePrivateKey",value:function(e,t,n){I(this.store,f+"ssss_cache.".concat(t),n)}},{key:"doTxn",value:function(e,t,n){return Promise.resolve(n(null))}}],[{key:"exists",value:function(e){for(var t=e.length,n=0;n<t;n++){var o;if(null!==(o=e.key(n))&&void 0!==o&&o.startsWith(f))return!0}return!1}}])})(r(d[9]).MemoryCryptoStore);function _(e,t){try{return JSON.parse(e.getItem(t))}catch(e){r(d[10]).logger.log("Error: Failed to get key %s: %s",t,e.message),r(d[10]).logger.log(e.stack)}return null}function I(e,t,n){e.setItem(t,JSON.stringify(n))}},874,[1,34,11,12,18,20,23,743,872,875,746]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MemoryCryptoStore=void 0;var n=e(_r(d[1])),t=e(_r(d[2])),o=e(_r(d[3])),s=e(_r(d[4])),r=e(_r(d[5]));function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){(0,r.default)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function l(e,n){return encodeURIComponent(e)+"/"+encodeURIComponent(n)}function f(e){var n=e.split("/");return{senderKey:decodeURIComponent(n[0]),sessionId:decodeURIComponent(n[1])}}_e.MemoryCryptoStore=(function(){return(0,o.default)(function e(){(0,t.default)(this,e),(0,r.default)(this,"migrationState",_r(d[6]).MigrationState.NOT_STARTED),(0,r.default)(this,"account",null),(0,r.default)(this,"crossSigningKeys",null),(0,r.default)(this,"privateKeys",{}),(0,r.default)(this,"sessions",{}),(0,r.default)(this,"inboundGroupSessions",{}),(0,r.default)(this,"inboundGroupSessionsWithheld",{}),(0,r.default)(this,"rooms",{}),(0,r.default)(this,"sessionsNeedingBackup",{})},[{key:"containsData",value:function(){var e=this;return(0,s.default)(function*(){return null!==e.account})()}},{key:"startup",value:function(){var e=this;return(0,s.default)(function*(){return e})()}},{key:"deleteAllData",value:function(){return Promise.resolve()}},{key:"getMigrationState",value:function(){var e=this;return(0,s.default)(function*(){return e.migrationState})()}},{key:"setMigrationState",value:function(e){var n=this;return(0,s.default)(function*(){n.migrationState=e})()}},{key:"getAccount",value:function(e,n){n(this.account)}},{key:"storeAccount",value:function(e,n){this.account=n}},{key:"getCrossSigningKeys",value:function(e,n){n(this.crossSigningKeys)}},{key:"getSecretStorePrivateKey",value:function(e,n,t){n(this.privateKeys[t]||null)}},{key:"storeSecretStorePrivateKey",value:function(e,n,t){this.privateKeys[n]=t}},{key:"countEndToEndSessions",value:function(e,n){var t=0;for(var o of Object.values(this.sessions))t+=Object.keys(o).length;n(t)}},{key:"getEndToEndSession",value:function(e,n,t,o){o((this.sessions[e]||{})[n]||null)}},{key:"getEndToEndSessions",value:function(e,n,t){t(this.sessions[e]||{})}},{key:"storeEndToEndSession",value:function(e,n,t,o){var s=this.sessions[e];void 0===s&&(s={},this.sessions[e]=s),(0,_r(d[7]).safeSet)(s,n,t)}},{key:"getEndToEndSessionsBatch",value:function(){var e=this;return(0,s.default)(function*(){var n=[];for(var t of Object.values(e.sessions))for(var o of Object.values(t))if(n.push(o),n.length>=_r(d[6]).SESSION_BATCH_SIZE)return n;return 0===n.length?null:n})()}},{key:"deleteEndToEndSessionsBatch",value:function(e){var n=this;return(0,s.default)(function*(){for(var t of e){var o=t.deviceKey,s=t.sessionId,r=n.sessions[o]||{};delete r[s],0===Object.keys(r).length&&delete n.sessions[o]}})()}},{key:"getEndToEndInboundGroupSession",value:function(e,n,t,o){var s=l(e,n);o(this.inboundGroupSessions[s]||null,this.inboundGroupSessionsWithheld[s]||null)}},{key:"storeEndToEndInboundGroupSession",value:function(e,n,t,o){var s=l(e,n);this.inboundGroupSessions[s]=t}},{key:"countEndToEndInboundGroupSessions",value:function(){var e=this;return(0,s.default)(function*(){return Object.keys(e.inboundGroupSessions).length})()}},{key:"getEndToEndInboundGroupSessionsBatch",value:function(){var e=this;return(0,s.default)(function*(){var t=[];for(var o of Object.entries(e.inboundGroupSessions)){var s=(0,n.default)(o,2),r=s[0],u=s[1];if(t.push(c(c({},f(r)),{},{sessionData:u,needsBackup:r in e.sessionsNeedingBackup})),t.length>=_r(d[6]).SESSION_BATCH_SIZE)return t}return 0===t.length?null:t})()}},{key:"deleteEndToEndInboundGroupSessionsBatch",value:function(e){var n=this;return(0,s.default)(function*(){for(var t of e){var o=l(t.senderKey,t.sessionId);delete n.inboundGroupSessions[o]}})()}},{key:"getEndToEndRooms",value:function(e,n){n(this.rooms)}},{key:"markSessionsNeedingBackup",value:function(e){for(var n of e){var t=l(n.senderKey,n.sessionId);this.sessionsNeedingBackup[t]=!0}return Promise.resolve()}},{key:"doTxn",value:function(e,n,t){return Promise.resolve(t(null))}}])})()},875,[1,34,11,12,743,739,872,748]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RustBackupManager=_e.RustBackupDecryptor=void 0,_e.decryptionKeyMatchesKeyBackupInfo=function(e,r){return r.auth_data.public_key===e.megolmV1PublicKey.publicKeyBase64},_e.requestKeyBackupVersion=k;var r=e(_r(d[1])),t=e(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4])),u=e(_r(d[5])),i=e(_r(d[6])),c=e(_r(d[7])),l=e(_r(d[8])),s=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var n,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=r?o:t){if(n.has(e))return n.get(e);n.set(e,i)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?n(i,c,u):i[c]=e[c]);return i})(e,r)})(_r(d[9]));function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}_e.RustBackupManager=(function(e){function v(e,r,o,i){var c,s,y,k;return(0,t.default)(this,v),s=this,y=v,y=(0,u.default)(y),(c=(0,n.default)(s,p()?Reflect.construct(y,k||[],(0,u.default)(s).constructor):y.apply(s,k))).logger=e,c.olmMachine=r,c.http=o,c.outgoingRequestProcessor=i,(0,l.default)(c,"checkedForBackup",!1),(0,l.default)(c,"serverBackupInfo",void 0),(0,l.default)(c,"activeBackupVersion",null),(0,l.default)(c,"stopped",!1),(0,l.default)(c,"backupKeysLoopRunning",!1),(0,l.default)(c,"keyBackupCheckInProgress",null),c}return(0,i.default)(v,e),(0,o.default)(v,[{key:"stop",value:function(){this.stopped=!0}},{key:"getActiveBackupVersion",value:function(){var e=this;return(0,c.default)(function*(){return(yield e.olmMachine.isBackupEnabled())?e.activeBackupVersion:null})()}},{key:"getServerBackupInfo",value:function(){var e=this;return(0,c.default)(function*(){return yield e.checkKeyBackupAndEnable(!1),e.serverBackupInfo})()}},{key:"isKeyBackupTrusted",value:function(e){var r=this;return(0,c.default)(function*(){var t=yield r.olmMachine.verifyBackup(e),o=yield r.olmMachine.getBackupKeys(),n=null==o?void 0:o.decryptionKey;return{matchesDecryptionKey:!!n&&r.backupInfoMatchesBackupDecryptionKey(e,n),trusted:t.trusted()}})()}},{key:"checkKeyBackupAndEnable",value:function(e){var r=this;return!e&&this.checkedForBackup?Promise.resolve(null):(this.keyBackupCheckInProgress||(this.keyBackupCheckInProgress=this.doCheckKeyBackup().finally(function(){r.keyBackupCheckInProgress=null})),this.keyBackupCheckInProgress)}},{key:"handleBackupSecretReceived",value:function(e){var r=this;return(0,c.default)(function*(){var t,o;try{o=yield r.requestKeyBackupVersion()}catch(e){return r.logger.warn("handleBackupSecretReceived: Error checking for latest key backup",e),!1}if(null===(t=o)||void 0===t||!t.version)return r.logger.warn("handleBackupSecretReceived: Received a backup decryption key, but there is no trusted server-side key backup"),!1;try{var n=s.BackupDecryptionKey.fromBase64(e);return r.backupInfoMatchesBackupDecryptionKey(o,n)?(r.logger.info("handleBackupSecretReceived: A valid backup decryption key has been received and stored in cache."),yield r.saveBackupDecryptionKey(n,o.version),!0):(r.logger.warn("handleBackupSecretReceived: Private decryption key does not match the public key of the current remote backup."),!1)}catch(e){r.logger.warn("handleBackupSecretReceived: Invalid backup decryption key",e)}return!1})()}},{key:"saveBackupDecryptionKey",value:function(e,r){var t=this;return(0,c.default)(function*(){yield t.olmMachine.saveBackupDecryptionKey(e,r),t.emit(_r(d[10]).CryptoEvent.KeyBackupDecryptionKeyCached,r)})()}},{key:"importRoomKeys",value:function(e,r){var t=this;return(0,c.default)(function*(){yield t.importRoomKeysAsJson(JSON.stringify(e),r)})()}},{key:"importRoomKeysAsJson",value:function(e,r){var t=this;return(0,c.default)(function*(){yield t.olmMachine.importExportedRoomKeys(e,function(e,t){var o,n={total:Number(t),successes:Number(e),stage:_r(d[10]).ImportRoomKeyStage.LoadKeys,failures:0};null==r||null===(o=r.progressCallback)||void 0===o||o.call(r,n)})})()}},{key:"importBackedUpRoomKeys",value:function(e,r,t){var o=this;return(0,c.default)(function*(){var n=new Map;for(var u of e){var i=new s.RoomId(u.room_id);n.has(i)||n.set(i,new Map),n.get(i).set(u.session_id,u)}yield o.olmMachine.importBackedUpRoomKeys(n,function(e,r,o){var n,u={total:Number(r),successes:Number(e),stage:_r(d[10]).ImportRoomKeyStage.LoadKeys,failures:Number(o)};null==t||null===(n=t.progressCallback)||void 0===n||n.call(t,u)},r)})()}},{key:"doCheckKeyBackup",value:function(){var e=this;return(0,c.default)(function*(){var r;e.logger.debug("Checking key backup status...");try{r=yield e.requestKeyBackupVersion()}catch(r){return e.logger.warn("Error checking for active key backup",r),e.serverBackupInfo=void 0,null}e.checkedForBackup=!0,r&&!r.version&&(e.logger.warn("active backup lacks a useful 'version'; ignoring it"),r=void 0),e.serverBackupInfo=r;var t=yield e.getActiveBackupVersion();if(!r)return null!==t?(e.logger.debug("No key backup present on server: disabling key backup"),yield e.disableKeyBackup()):e.logger.debug("No key backup present on server: not enabling key backup"),null;var o=yield e.isKeyBackupTrusted(r);return o.matchesDecryptionKey||o.trusted?null===t?(e.logger.debug("Found usable key backup v".concat(r.version,": enabling key backups")),yield e.enableKeyBackup(r)):t!==r.version?(e.logger.debug("On backup version ".concat(t," but found version ").concat(r.version,": switching.")),yield e.disableKeyBackup(),yield e.enableKeyBackup(r)):e.logger.debug("Backup version ".concat(r.version," still current")):null!==t?(e.logger.debug("Key backup present on server but not trusted: disabling key backup"),yield e.disableKeyBackup()):e.logger.debug("Key backup present on server but not trusted: not enabling key backup"),{backupInfo:r,trustInfo:o}})()}},{key:"enableKeyBackup",value:function(e){var r=this;return(0,c.default)(function*(){yield r.olmMachine.enableBackupV1(e.auth_data.public_key,e.version),r.activeBackupVersion=e.version,r.emit(_r(d[10]).CryptoEvent.KeyBackupStatus,!0),r.backupKeysLoop()})()}},{key:"maybeUploadKey",value:function(){var e=this;return(0,c.default)(function*(){null!=e.activeBackupVersion&&e.backupKeysLoop()})()}},{key:"disableKeyBackup",value:function(){var e=this;return(0,c.default)(function*(){yield e.olmMachine.disableBackup(),e.activeBackupVersion=null,e.emit(_r(d[10]).CryptoEvent.KeyBackupStatus,!1)})()}},{key:"backupKeysLoop",value:function(){var e=arguments,r=this;return(0,c.default)(function*(){var t=e.length>0&&void 0!==e[0]?e[0]:1e4;if(r.backupKeysLoopRunning)r.logger.debug("Backup loop already running");else{r.backupKeysLoopRunning=!0,r.logger.debug("Backup: Starting keys upload loop for backup version:".concat(r.activeBackupVersion,"."));var o=Math.random()*t;yield(0,_r(d[11]).sleep)(o);try{for(var n=0,u=null,i=!0;!r.stopped;){var l=void 0;try{l=yield(0,_r(d[11]).logDuration)(r.logger,"BackupRoomKeys: Get keys to backup from rust crypto-sdk",(0,c.default)(function*(){return yield r.olmMachine.backupRoomKeys()}))}catch(e){r.logger.error("Backup: Failed to get keys to backup from rust crypto-sdk",e)}if(!l||r.stopped||!r.activeBackupVersion)return r.logger.debug("Backup: Ending loop for version ".concat(r.activeBackupVersion,".")),void(l||r.emit(_r(d[10]).CryptoEvent.KeyBackupSessionsRemaining,0));try{if(yield r.outgoingRequestProcessor.makeOutgoingRequest(l),n=0,r.stopped)break;if(!i&&null===u)try{var s=yield r.olmMachine.roomKeyCounts();u=s.total-s.backedUp}catch(e){r.logger.error("Backup: Failed to get key counts from rust crypto-sdk",e)}if(null!==u){r.emit(_r(d[10]).CryptoEvent.KeyBackupSessionsRemaining,u);var p=r.keysCountInBatch(l);u=Math.max(u-p,0)}}catch(e){if(n++,r.logger.error("Backup: Error processing backup request for rust crypto-sdk",e),e instanceof _r(d[12]).MatrixError){var y=e.data.errcode;if("M_NOT_FOUND"==y||"M_WRONG_ROOM_KEYS_VERSION"==y){r.logger.debug("Backup: Failed to upload keys to current vesion: ".concat(y,"."));try{yield r.disableKeyBackup()}catch(e){r.logger.error("Backup: An error occurred while disabling key backup:",e)}return r.emit(_r(d[10]).CryptoEvent.KeyBackupFailed,e.data.errcode),r.backupKeysLoopRunning=!1,void r.checkKeyBackupAndEnable(!0)}if(e.isRateLimitError())try{var k=e.getRetryAfterMs();if(k&&k>0){yield(0,_r(d[11]).sleep)(k);continue}}catch(e){r.logger.warn("Backup: An error occurred while retrieving a rate-limit retry delay",e)}}yield(0,_r(d[11]).sleep)(1e3*Math.pow(2,Math.min(n-1,4)))}i=!1}}finally{r.backupKeysLoopRunning=!1}}})()}},{key:"keysCountInBatch",value:function(e){return f(JSON.parse(e.body))}},{key:"requestKeyBackupVersion",value:function(e){var r=this;return(0,c.default)(function*(){return yield k(r.http,e)})()}},{key:"setupKeyBackup",value:function(e){var r=this;return(0,c.default)(function*(){yield r.deleteAllKeyBackupVersions();var t=s.BackupDecryptionKey.createRandomKey(),o=t.megolmV1PublicKey,n={public_key:o.publicKeyBase64};yield e(n);var u=yield r.http.authedRequest(_r(d[12]).Method.Post,"/room_keys/version",void 0,{algorithm:o.algorithm,auth_data:n},{prefix:_r(d[12]).ClientPrefix.V3});return yield r.saveBackupDecryptionKey(t,u.version),{version:u.version,algorithm:o.algorithm,authData:n,decryptionKey:t}})()}},{key:"deleteAllKeyBackupVersions",value:function(){var e=this;return(0,c.default)(function*(){for(var r,t,o=null!==(r=null===(t=yield e.requestKeyBackupVersion())||void 0===t?void 0:t.version)&&void 0!==r?r:null;null!=o;){var n,u;yield e.deleteKeyBackupVersion(o),o=null!==(n=null===(u=yield e.requestKeyBackupVersion())||void 0===u?void 0:u.version)&&void 0!==n?n:null}})()}},{key:"deleteKeyBackupVersion",value:function(e){var r=this;return(0,c.default)(function*(){r.logger.debug("deleteKeyBackupVersion v:".concat(e));var t=(0,_r(d[11]).encodeUri)("/room_keys/version/$version",{$version:e});yield r.http.authedRequest(_r(d[12]).Method.Delete,t,void 0,void 0,{prefix:_r(d[12]).ClientPrefix.V3}),r.activeBackupVersion===e&&(r.serverBackupInfo=null,yield r.disableKeyBackup())})()}},{key:"createBackupDecryptor",value:function(e){return new y(this.logger,e)}},{key:"restoreKeyBackup",value:function(e,r,t){var o=this;return(0,c.default)(function*(){var n=yield o.downloadKeyBackup(e);return o.importKeyBackup(n,e,r,t)})()}},{key:"downloadKeyBackup",value:function(e){return this.http.authedRequest(_r(d[12]).Method.Get,"/room_keys/keys",{version:e},void 0,{prefix:_r(d[12]).ClientPrefix.V3})}},{key:"importKeyBackup",value:function(e,t,o,n){var u=this;return(0,c.default)(function*(){var i,l=f(e),s=0,p=0;null==n||null===(i=n.progressCallback)||void 0===i||i.call(n,{total:l,successes:s,stage:_r(d[10]).ImportRoomKeyStage.LoadKeys,failures:p});var y=(function(){var e=(0,c.default)(function*(e){var r,i=[],c=function*(r){(yield o.decryptSessions(e.get(r))).forEach(function(e){e.room_id=r,i.push(e)})};for(var y of e.keys())yield*c(y);try{yield u.importBackedUpRoomKeys(i,t),s+=i.length}catch(e){p+=i.length,u.logger.error("Error importing keys from backup",e)}null==n||null===(r=n.progressCallback)||void 0===r||r.call(n,{total:l,successes:s,stage:_r(d[10]).ImportRoomKeyStage.LoadKeys,failures:p})});return function(r){return e.apply(this,arguments)}})(),k=0,v=new Map;for(var h of Object.entries(e.rooms)){var b=(0,r.default)(h,2),B=b[0],K=b[1];if(K.sessions)for(var R of(v.set(B,{}),Object.entries(K.sessions))){var M=(0,r.default)(R,2),_=M[0],V=M[1];v.get(B)[_]=V,(k+=1)>=200&&(yield y(v),(v=new Map).set(B,{}),k=0)}}return k>0&&(yield y(v)),{total:l,imported:s}})()}},{key:"backupInfoMatchesBackupDecryptionKey",value:function(e,r){var t;return"m.megolm_backup.v1.curve25519-aes-sha2"!==e.algorithm?(this.logger.warn("backupMatchesPrivateKey: Unsupported backup algorithm",e.algorithm),!1):(null===(t=e.auth_data)||void 0===t?void 0:t.public_key)===r.megolmV1PublicKey.publicKeyBase64}}])})(_r(d[13]).TypedEventEmitter);var y=_e.RustBackupDecryptor=(function(){return(0,o.default)(function e(r,o){(0,t.default)(this,e),this.logger=r,(0,l.default)(this,"decryptionKey",void 0),(0,l.default)(this,"sourceTrusted",void 0),this.decryptionKey=o,this.sourceTrusted=!1},[{key:"decryptSessions",value:function(e){var t=this;return(0,c.default)(function*(){var o=[];for(var n of Object.entries(e)){var u=(0,r.default)(n,2),i=u[0],c=u[1];try{var l=JSON.parse(t.decryptionKey.decryptV1(c.session_data.ephemeral,c.session_data.mac,c.session_data.ciphertext));l.session_id=i,o.push(l)}catch(e){t.logger.debug("Failed to decrypt megolm session from backup",e,c)}}return o})()}},{key:"free",value:function(){this.decryptionKey.free()}}])})();function k(e,r){return v.apply(this,arguments)}function v(){return(v=(0,c.default)(function*(e,r){try{var t=r?(0,_r(d[11]).encodeUri)("/room_keys/version/$version",{$version:r}):"/room_keys/version";return yield e.authedRequest(_r(d[12]).Method.Get,t,void 0,void 0,{prefix:_r(d[12]).ClientPrefix.V3})}catch(e){if("M_NOT_FOUND"===e.errcode)return null;throw e}})).apply(this,arguments)}function f(e){var r=0;for(var t of Object.values(e.rooms)){var o=t.sessions;r+=Object.keys(o).length}return r}},876,[1,34,11,12,18,20,23,743,739,867,877,748,814,762]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n={DecryptionFailureCode:!0,DeviceIsolationModeKind:!0,AllDevicesIsolationMode:!0,OnlySignedDevicesIsolationMode:!0,UserVerificationStatus:!0,DeviceVerificationStatus:!0,ImportRoomKeyStage:!0,CrossSigningKey:!0,EventShieldColour:!0,EventShieldReason:!0};e.UserVerificationStatus=e.OnlySignedDevicesIsolationMode=e.ImportRoomKeyStage=e.EventShieldReason=e.EventShieldColour=e.DeviceVerificationStatus=e.DeviceIsolationModeKind=e.DecryptionFailureCode=e.CrossSigningKey=e.AllDevicesIsolationMode=void 0;var o=t(r(d[1])),s=t(r(d[2])),E=t(r(d[3]));Object.keys(r(d[4])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[4])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[4])[t]}}))}),Object.keys(r(d[5])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[5])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[5])[t]}}))}),Object.keys(r(d[6])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[6])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[6])[t]}}))}),Object.keys(r(d[7])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[7])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[7])[t]}}))});e.DecryptionFailureCode=(function(t){return t.MEGOLM_UNKNOWN_INBOUND_SESSION_ID="MEGOLM_UNKNOWN_INBOUND_SESSION_ID",t.MEGOLM_KEY_WITHHELD="MEGOLM_KEY_WITHHELD",t.MEGOLM_KEY_WITHHELD_FOR_UNVERIFIED_DEVICE="MEGOLM_KEY_WITHHELD_FOR_UNVERIFIED_DEVICE",t.OLM_UNKNOWN_MESSAGE_INDEX="OLM_UNKNOWN_MESSAGE_INDEX",t.HISTORICAL_MESSAGE_NO_KEY_BACKUP="HISTORICAL_MESSAGE_NO_KEY_BACKUP",t.HISTORICAL_MESSAGE_BACKUP_UNCONFIGURED="HISTORICAL_MESSAGE_BACKUP_UNCONFIGURED",t.HISTORICAL_MESSAGE_WORKING_BACKUP="HISTORICAL_MESSAGE_WORKING_BACKUP",t.HISTORICAL_MESSAGE_USER_NOT_JOINED="HISTORICAL_MESSAGE_USER_NOT_JOINED",t.SENDER_IDENTITY_PREVIOUSLY_VERIFIED="SENDER_IDENTITY_PREVIOUSLY_VERIFIED",t.UNSIGNED_SENDER_DEVICE="UNSIGNED_SENDER_DEVICE",t.UNKNOWN_SENDER_DEVICE="UNKNOWN_SENDER_DEVICE",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t})({});var l=e.DeviceIsolationModeKind=(function(t){return t[t.AllDevicesIsolationMode=0]="AllDevicesIsolationMode",t[t.OnlySignedDevicesIsolationMode=1]="OnlySignedDevicesIsolationMode",t})({});e.AllDevicesIsolationMode=(0,o.default)(function t(n){(0,s.default)(this,t),this.errorOnVerifiedUserProblems=n,(0,E.default)(this,"kind",l.AllDevicesIsolationMode)}),e.OnlySignedDevicesIsolationMode=(0,o.default)(function t(){(0,s.default)(this,t),(0,E.default)(this,"kind",l.OnlySignedDevicesIsolationMode)}),e.UserVerificationStatus=(function(){return(0,o.default)(function t(n,o,l){(0,s.default)(this,t);var _=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.crossSigningVerified=n,this.crossSigningVerifiedBefore=o,this.tofu=l,(0,E.default)(this,"needsUserApproval",void 0),this.needsUserApproval=_},[{key:"isVerified",value:function(){return this.isCrossSigningVerified()}},{key:"isCrossSigningVerified",value:function(){return this.crossSigningVerified}},{key:"wasCrossSigningVerified",value:function(){return this.crossSigningVerifiedBefore}},{key:"isTofu",value:function(){return this.tofu}}])})(),e.DeviceVerificationStatus=(function(){return(0,o.default)(function t(n){var o,l,_,I,u;(0,s.default)(this,t),(0,E.default)(this,"signedByOwner",void 0),(0,E.default)(this,"crossSigningVerified",void 0),(0,E.default)(this,"tofu",void 0),(0,E.default)(this,"localVerified",void 0),(0,E.default)(this,"trustCrossSignedDevices",void 0),this.signedByOwner=null!==(o=n.signedByOwner)&&void 0!==o&&o,this.crossSigningVerified=null!==(l=n.crossSigningVerified)&&void 0!==l&&l,this.tofu=null!==(_=n.tofu)&&void 0!==_&&_,this.localVerified=null!==(I=n.localVerified)&&void 0!==I&&I,this.trustCrossSignedDevices=null!==(u=n.trustCrossSignedDevices)&&void 0!==u&&u},[{key:"isVerified",value:function(){return this.localVerified||this.trustCrossSignedDevices&&this.crossSigningVerified}}])})(),e.ImportRoomKeyStage=(function(t){return t.Fetch="fetch",t.LoadKeys="load_keys",t})({}),e.CrossSigningKey=(function(t){return t.Master="master",t.SelfSigning="self_signing",t.UserSigning="user_signing",t})({}),e.EventShieldColour=(function(t){return t[t.NONE=0]="NONE",t[t.GREY=1]="GREY",t[t.RED=2]="RED",t})({}),e.EventShieldReason=(function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.UNVERIFIED_IDENTITY=1]="UNVERIFIED_IDENTITY",t[t.UNSIGNED_DEVICE=2]="UNSIGNED_DEVICE",t[t.UNKNOWN_DEVICE=3]="UNKNOWN_DEVICE",t[t.AUTHENTICITY_NOT_GUARANTEED=4]="AUTHENTICITY_NOT_GUARANTEED",t[t.MISMATCHED_SENDER_KEY=5]="MISMATCHED_SENDER_KEY",t[t.SENT_IN_CLEAR=6]="SENT_IN_CLEAR",t[t.VERIFICATION_VIOLATION=7]="VERIFICATION_VIOLATION",t[t.MISMATCHED_SENDER=8]="MISMATCHED_SENDER",t})({})},877,[1,12,11,739,878,879,882,883]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.VerifierEvent=e.VerificationRequestEvent=e.VerificationPhase=void 0,e.canAcceptVerificationRequest=function(t){return t.phase<n.Ready&&!t.accepting&&!t.declining};e.VerificationRequestEvent=(function(n){return n.Change="change",n})({});var n=e.VerificationPhase=(function(n){return n[n.Unsent=1]="Unsent",n[n.Requested=2]="Requested",n[n.Ready=3]="Ready",n[n.Started=4]="Started",n[n.Cancelled=5]="Cancelled",n[n.Done=6]="Done",n})({});e.VerifierEvent=(function(n){return n.Cancel="cancel",n.ShowSas="show_sas",n.ShowReciprocateQr="show_reciprocate_qr",n})({})},878,[]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.decodeRecoveryKey=function(n){var l=t.default.decode(n.replace(/ /g,"")),f=0;for(var h of l)f^=h;if(0!==f)throw new Error("Incorrect parity");for(var i=0;i<o.length;++i)if(l[i]!==o[i])throw new Error("Incorrect prefix");if(l.length!==o.length+c+1)throw new Error("Incorrect length");return Uint8Array.from(l.slice(o.length,o.length+c))},e.encodeRecoveryKey=function(n){var c,l=new Uint8Array(o.length+n.length+1);l.set(o,0),l.set(n,o.length);for(var f=0,h=0;h<l.length-1;++h)f^=l[h];l[l.length-1]=f;var i=t.default.encode(l);return null===(c=i.match(/.{1,4}/g))||void 0===c?void 0:c.join(" ")};var t=n(r(d[1])),o=[139,1],c=32},879,[1,880]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=(0,u.default)('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz')},880,[1,881]);
__d(function(g,r,_i3,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){if(t.length>=255)throw new TypeError('Alphabet too long');for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var f=0;f<t.length;f++){var i=t.charAt(f),h=i.charCodeAt(0);if(255!==n[h])throw new TypeError(i+' is ambiguous');n[h]=f}var y=t.length,c=t.charAt(0),u=Math.log(y)/Math.log(256),w=Math.log(256)/Math.log(y);function l(t){if('string'!=typeof t)throw new TypeError('Expected String');if(0===t.length)return new Uint8Array;for(var o=0,f=0,i=0;t[o]===c;)f++,o++;for(var h=(t.length-o)*u+1>>>0,w=new Uint8Array(h);o<t.length;){var l=t.charCodeAt(o);if(l>255)return;var v=n[l];if(255===v)return;for(var A=0,s=h-1;(0!==v||A<i)&&-1!==s;s--,A++)v+=y*w[s]>>>0,w[s]=v%256>>>0,v=v/256>>>0;if(0!==v)throw new Error('Non-zero carry');i=A,o++}for(var U=h-i;U!==h&&0===w[U];)U++;for(var p=new Uint8Array(f+(h-U)),E=f;U!==h;)p[E++]=w[U++];return p}return{encode:function(n){if(n instanceof Uint8Array||(ArrayBuffer.isView(n)?n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength):Array.isArray(n)&&(n=Uint8Array.from(n))),!(n instanceof Uint8Array))throw new TypeError('Expected Uint8Array');if(0===n.length)return'';for(var o=0,f=0,i=0,h=n.length;i!==h&&0===n[i];)i++,o++;for(var u=(h-i)*w+1>>>0,l=new Uint8Array(u);i!==h;){for(var v=n[i],A=0,s=u-1;(0!==v||A<f)&&-1!==s;s--,A++)v+=256*l[s]>>>0,l[s]=v%y>>>0,v=v/y>>>0;if(0!==v)throw new Error('Non-zero carry');f=A,i++}for(var U=u-f;U!==u&&0===l[U];)U++;for(var p=c.repeat(o);U<u;++U)p+=t.charAt(l[U]);return p},decodeUnsafe:l,decode:function(t){var n=l(t);if(n)return n;throw new Error('Non-base'+y+' character')}}}},881,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deriveRecoveryKeyFromPassphrase=function(t,n,s){return o.apply(this,arguments)};var n=t(r(d[1]));function o(){return o=(0,n.default)(function*(t,n,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:256;if(!globalThis.crypto.subtle||!TextEncoder)throw new Error("Password-based backup is not available on this platform");var l=yield globalThis.crypto.subtle.importKey("raw",(new TextEncoder).encode(t),{name:"PBKDF2"},!1,["deriveBits"]),c=yield globalThis.crypto.subtle.deriveBits({name:"PBKDF2",salt:(new TextEncoder).encode(n),iterations:o,hash:"SHA-512"},l,s);return new Uint8Array(c)}),o.apply(this,arguments)}},882,[1,743]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.CryptoEvent=void 0;e.CryptoEvent=(function(t){return t.UserTrustStatusChanged="userTrustStatusChanged",t.KeyBackupStatus="crypto.keyBackupStatus",t.KeyBackupFailed="crypto.keyBackupFailed",t.KeyBackupSessionsRemaining="crypto.keyBackupSessionsRemaining",t.KeyBackupDecryptionKeyCached="crypto.keyBackupDecryptionKeyCached",t.VerificationRequestReceived="crypto.verificationRequestReceived",t.WillUpdateDevices="crypto.willUpdateDevices",t.DevicesUpdated="crypto.devicesUpdated",t.KeysChanged="crossSigning.keysChanged",t.LegacyCryptoStoreMigrationProgress="crypto.legacyCryptoStoreMigrationProgress",t.DehydratedDeviceCreated="dehydration.DehydratedDeviceCreated",t.DehydratedDeviceUploaded="dehydration.DehydratedDeviceUploaded",t.RehydrationStarted="dehydration.RehydrationStarted",t.RehydrationProgress="dehydration.RehydrationProgress",t.RehydrationCompleted="dehydration.RehydrationCompleted",t.RehydrationError="dehydration.RehydrationError",t.DehydrationKeyCached="dehydration.DehydrationKeyCached",t.DehydratedDeviceRotationError="dehydration.DehydratedDeviceRotationError",t})({})},883,[]);
__d(function(g,_r,_i,a,m,_e2,_d){var e=_r(_d[0]);Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.RustCrypto=void 0;var t=e(_r(_d[1])),r=e(_r(_d[2])),n=e(_r(_d[3])),i=e(_r(_d[4])),o=e(_r(_d[5])),s=e(_r(_d[6])),c=e(_r(_d[7])),u=e(_r(_d[8])),d=e(_r(_d[9])),l=e(_r(_d[10])),y=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,s)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?i(s,c,o):s[c]=e[c]);return s})(e,t)})(_r(_d[11]));function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=[_r(_d[12]).VerificationMethod.Sas,_r(_d[12]).VerificationMethod.ScanQrCode,_r(_d[12]).VerificationMethod.ShowQrCode,_r(_d[12]).VerificationMethod.Reciprocate],k=(_e2.RustCrypto=(function(e){function t(e,r,i,c,u,l,y){var f;(0,n.default)(this,t);var p,S,E,w=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return p=this,S=t,S=(0,s.default)(S),(f=(0,o.default)(p,v()?Reflect.construct(S,E||[],(0,s.default)(p).constructor):S.apply(p,E))).logger=e,f.olmMachine=r,f.http=i,f.userId=c,f.secretStorage=l,f.cryptoCallbacks=y,f.enableEncryptedStateEvents=w,(0,d.default)(f,"RECOVERY_KEY_DERIVATION_ITERATIONS",5e5),(0,d.default)(f,"_trustCrossSignedDevices",!0),(0,d.default)(f,"deviceIsolationMode",new(_r(_d[13]).AllDevicesIsolationMode)(!1)),(0,d.default)(f,"stopped",!1),(0,d.default)(f,"roomEncryptors",{}),(0,d.default)(f,"roomsPendingKeyBundles",new Map),(0,d.default)(f,"eventDecryptor",void 0),(0,d.default)(f,"keyClaimManager",void 0),(0,d.default)(f,"outgoingRequestProcessor",void 0),(0,d.default)(f,"crossSigningIdentity",void 0),(0,d.default)(f,"backupManager",void 0),(0,d.default)(f,"outgoingRequestsManager",void 0),(0,d.default)(f,"perSessionBackupDownloader",void 0),(0,d.default)(f,"dehydratedDeviceManager",void 0),(0,d.default)(f,"reemitter",new(_r(_d[14]).TypedReEmitter)(f)),(0,d.default)(f,"globalBlacklistUnverifiedDevices",!1),(0,d.default)(f,"_supportedVerificationMethods",h),f.outgoingRequestProcessor=new(_r(_d[15]).OutgoingRequestProcessor)(e,r,i),f.outgoingRequestsManager=new(_r(_d[16]).OutgoingRequestsManager)(f.logger,r,f.outgoingRequestProcessor),f.keyClaimManager=new(_r(_d[17]).KeyClaimManager)(r,f.outgoingRequestProcessor),f.backupManager=new(_r(_d[18]).RustBackupManager)(e,r,i,f.outgoingRequestProcessor),f.perSessionBackupDownloader=new(_r(_d[19]).PerSessionKeyBackupDownloader)(f.logger,f.olmMachine,f.http,f.backupManager),f.dehydratedDeviceManager=new(_r(_d[20]).DehydratedDeviceManager)(f.logger,r,i,f.outgoingRequestProcessor,l),f.eventDecryptor=new k(f.logger,r,f.perSessionBackupDownloader),f.reemitter.reEmit(f.backupManager,[_r(_d[13]).CryptoEvent.KeyBackupStatus,_r(_d[13]).CryptoEvent.KeyBackupSessionsRemaining,_r(_d[13]).CryptoEvent.KeyBackupFailed,_r(_d[13]).CryptoEvent.KeyBackupDecryptionKeyCached]),f.reemitter.reEmit(f.dehydratedDeviceManager,[_r(_d[13]).CryptoEvent.DehydratedDeviceCreated,_r(_d[13]).CryptoEvent.DehydratedDeviceUploaded,_r(_d[13]).CryptoEvent.RehydrationStarted,_r(_d[13]).CryptoEvent.RehydrationProgress,_r(_d[13]).CryptoEvent.RehydrationCompleted,_r(_d[13]).CryptoEvent.RehydrationError,_r(_d[13]).CryptoEvent.DehydrationKeyCached,_r(_d[13]).CryptoEvent.DehydratedDeviceRotationError]),f.crossSigningIdentity=new(_r(_d[21]).CrossSigningIdentity)(e,r,f.outgoingRequestProcessor,l),f.checkKeyBackupAndEnable(),f}return(0,c.default)(t,e),(0,i.default)(t,[{key:"getOlmMachineOrThrow",value:function(){if(this.stopped)throw new(_r(_d[22]).ClientStoppedError);return this.olmMachine}},{key:"globalErrorOnUnknownDevices",get:function(){return!1},set:function(e){}},{key:"stop",value:function(){this.stopped||(this.stopped=!0,this.keyClaimManager.stop(),this.backupManager.stop(),this.outgoingRequestsManager.stop(),this.perSessionBackupDownloader.stop(),this.dehydratedDeviceManager.stop(),this.olmMachine.close())}},{key:"encryptEvent",value:function(e,t){var r=this;return(0,u.default)(function*(){var t=e.getRoomId(),n=r.roomEncryptors[t];if(!n)throw new Error("Cannot encrypt event in unconfigured room ".concat(t));yield n.encryptEvent(e,r.globalBlacklistUnverifiedDevices,r.deviceIsolationMode)})()}},{key:"decryptEvent",value:function(e){var t=this;return(0,u.default)(function*(){if(!e.getRoomId())throw new Error("to-device event was not decrypted in preprocessToDeviceMessages");return yield t.eventDecryptor.attemptEventDecryption(e,t.deviceIsolationMode)})()}},{key:"getBackupDecryptor",value:function(e,t){var r=this;return(0,u.default)(function*(){if(!(t instanceof Uint8Array))throw new Error("getBackupDecryptor: expects Uint8Array");if("m.megolm_backup.v1.curve25519-aes-sha2"!=e.algorithm)throw new Error("getBackupDecryptor: Unsupported algorithm ".concat(e.algorithm));var n=y.BackupDecryptionKey.fromBase64((0,_r(_d[23]).encodeBase64)(t));if(!(0,_r(_d[18]).decryptionKeyMatchesKeyBackupInfo)(n,e))throw new Error("getBackupDecryptor: key backup on server does not match the decryption key");return r.backupManager.createBackupDecryptor(n)})()}},{key:"importBackedUpRoomKeys",value:function(e,t,r){var n=this;return(0,u.default)(function*(){return yield n.backupManager.importBackedUpRoomKeys(e,t,r)})()}},{key:"maybeAcceptKeyBundle",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=new(_r(_d[24]).LogSpan)(r.logger,"maybeAcceptKeyBundle(".concat(e,", ").concat(t,")"));n.info("Checking inviter cross-signing keys");var i=r.olmMachine.queryKeysForUsers([new y.UserId(t)]);yield r.outgoingRequestProcessor.makeOutgoingRequest(i);var o=yield r.olmMachine.getReceivedRoomKeyBundleData(new y.RoomId(e),new y.UserId(t));if(!o)return n.info("No key bundle found for user"),!1;n.info("Fetching key bundle ".concat(o.url));var s,c=(0,_r(_d[25]).getHttpUriForMxc)(r.http.opts.baseUrl,o.url,void 0,void 0,void 0,!1,!0,!0);try{var u=new URL(c);s=yield r.http.authedRequest(_r(_d[26]).Method.Get,u.pathname+u.search,{},void 0,{rawResponseBody:!0,prefix:""})}catch(e){throw n.warn("Error downloading encrypted bundle from ".concat(c,":"),e),e}n.info("Received blob of length ".concat(s.size));try{yield r.olmMachine.receiveRoomKeyBundle(o,new Uint8Array(yield s.arrayBuffer()))}catch(e){throw n.warn("Error receiving encrypted bundle:",e),e}return!0})()}},{key:"markRoomAsPendingKeyBundle",value:function(e,t){this.roomsPendingKeyBundles.set(e,t)}},{key:"getVersion",value:function(){var e=y.getVersions();return"Rust SDK ".concat(e.matrix_sdk_crypto," (").concat(e.git_sha,"), Vodozemac ").concat(e.vodozemac)}},{key:"setDeviceIsolationMode",value:function(e){this.deviceIsolationMode=e}},{key:"isEncryptionEnabledInRoom",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.olmMachine.getRoomSettings(new y.RoomId(e));return Boolean(null==r?void 0:r.algorithm)})()}},{key:"isStateEncryptionEnabledInRoom",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.olmMachine.getRoomSettings(new y.RoomId(e));return Boolean(null==r?void 0:r.encryptStateEvents)})()}},{key:"getOwnDeviceKeys",value:function(){var e=this;return(0,u.default)(function*(){var t=e.olmMachine.identityKeys;return{ed25519:t.ed25519.toBase64(),curve25519:t.curve25519.toBase64()}})()}},{key:"prepareToEncrypt",value:function(e){var t=this.roomEncryptors[e.roomId];t&&t.prepareForEncryption(this.globalBlacklistUnverifiedDevices,this.deviceIsolationMode)}},{key:"forceDiscardSession",value:function(e){var t;return null===(t=this.roomEncryptors[e])||void 0===t?void 0:t.forceDiscardSession()}},{key:"exportRoomKeys",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.olmMachine.exportRoomKeys(function(){return!0});return JSON.parse(t)})()}},{key:"exportRoomKeysAsJson",value:function(){var e=this;return(0,u.default)(function*(){return yield e.olmMachine.exportRoomKeys(function(){return!0})})()}},{key:"importRoomKeys",value:function(e,t){var r=this;return(0,u.default)(function*(){return yield r.backupManager.importRoomKeys(e,t)})()}},{key:"importRoomKeysAsJson",value:function(e,t){var r=this;return(0,u.default)(function*(){return yield r.backupManager.importRoomKeysAsJson(e,t)})()}},{key:"userHasCrossSigningKeys",value:function(){var e=arguments,t=this;return(0,u.default)(function*(){var r,n=e.length>0&&void 0!==e[0]?e[0]:t.userId,i=e.length>1&&void 0!==e[1]&&e[1],o=yield t.olmMachine.trackedUsers();for(var s of o)if(n===s.toString()){r=s;break}if(void 0!==r){if(n===t.userId){var c=t.olmMachine.queryKeysForUsers([r.clone()]);yield t.outgoingRequestProcessor.makeOutgoingRequest(c)}var u=yield t.olmMachine.getIdentity(r);return null==u||u.free(),void 0!==u}if(i){var d,l=null===(d=(yield t.downloadDeviceList(new Set([n]))).master_keys)||void 0===d?void 0:d[n];return!!l&&Boolean(Object.values(l.keys)[0])}return!1})()}},{key:"getUserDeviceInfo",value:function(e){var t=arguments,n=this;return(0,u.default)(function*(){var i=t.length>1&&void 0!==t[1]&&t[1],o=new Map,s=yield n.getOlmMachineOrThrow().trackedUsers(),c=new Set;s.forEach(function(e){return c.add(e.toString())});var u=new Set;for(var d of e)c.has(d)?o.set(d,yield n.getUserDevices(d)):u.add(d);if(i&&u.size>=1){var l=yield n.downloadDeviceList(u);Object.entries(l.device_keys).forEach(function(e){var t=(0,r.default)(e,2),n=t[0],i=t[1];return o.set(n,(0,_r(_d[27]).deviceKeysToDeviceMap)(i))})}return o})()}},{key:"getUserDevices",value:function(e){var t=this;return(0,u.default)(function*(){var r=new y.UserId(e),n=yield t.olmMachine.getUserDevices(r,1);try{var i=n.devices();try{return new Map(i.map(function(e){return[e.deviceId.toString(),(0,_r(_d[27]).rustDeviceToJsDevice)(e,r)]}))}finally{i.forEach(function(e){return e.free()})}}finally{n.free()}})()}},{key:"downloadDeviceList",value:function(e){var t=this;return(0,u.default)(function*(){var r={device_keys:{}};return e.forEach(function(e){return r.device_keys[e]=[]}),yield t.http.authedRequest(_r(_d[26]).Method.Post,"/_matrix/client/v3/keys/query",void 0,r,{prefix:""})})()}},{key:"getTrustCrossSignedDevices",value:function(){return this._trustCrossSignedDevices}},{key:"setTrustCrossSignedDevices",value:function(e){this._trustCrossSignedDevices=e}},{key:"setDeviceVerified",value:function(e,t){var r=arguments,n=this;return(0,u.default)(function*(){var i=!(r.length>2&&void 0!==r[2])||r[2],o=yield n.olmMachine.getDevice(new y.UserId(e),new y.DeviceId(t));if(!o)throw new Error("Unknown device ".concat(e,"|").concat(t));try{yield o.setLocalTrust(i?y.LocalTrust.Verified:y.LocalTrust.Unset)}finally{o.free()}})()}},{key:"crossSignDevice",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.olmMachine.getDevice(new y.UserId(t.userId),new y.DeviceId(e));if(!r)throw new Error("Unknown device ".concat(e));try{var n=yield r.verify();yield t.outgoingRequestProcessor.makeOutgoingRequest(n)}finally{r.free()}})()}},{key:"getDeviceVerificationStatus",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=yield r.olmMachine.getDevice(new y.UserId(e),new y.DeviceId(t));if(!n)return null;try{return new(_r(_d[13]).DeviceVerificationStatus)({signedByOwner:n.isCrossSignedByOwner(),crossSigningVerified:n.isCrossSigningTrusted(),localVerified:n.isLocallyTrusted(),trustCrossSignedDevices:r._trustCrossSignedDevices})}finally{n.free()}})()}},{key:"getUserVerificationStatus",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.getOlmMachineOrThrow().getIdentity(new y.UserId(e));if(void 0===r)return new(_r(_d[13]).UserVerificationStatus)(!1,!1,!1);var n=r.isVerified(),i=r.wasPreviouslyVerified(),o=r instanceof y.OtherUserIdentity&&r.identityNeedsUserApproval();return r.free(),new(_r(_d[13]).UserVerificationStatus)(n,i,!1,o)})()}},{key:"pinCurrentUserIdentity",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.getOlmMachineOrThrow().getIdentity(new y.UserId(e));if(void 0===r)throw new Error("Cannot pin identity of unknown user");if(r instanceof y.OwnUserIdentity)throw new Error("Cannot pin identity of own user");yield r.pinCurrentMasterKey()})()}},{key:"withdrawVerificationRequirement",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.getOlmMachineOrThrow().getIdentity(new y.UserId(e));if(void 0===r)throw new Error("Cannot withdraw verification of unknown user");yield r.withdrawVerification()})()}},{key:"isCrossSigningReady",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.getCrossSigningStatus(),r=t.privateKeysInSecretStorage,n=t.privateKeysCachedLocally,i=Boolean(n.masterKey)&&Boolean(n.selfSigningKey)&&Boolean(n.userSigningKey),o=yield e.getOwnIdentity();return!(null==o||!o.isVerified())&&(i||r)})()}},{key:"getCrossSigningKeyId",value:function(){var e=arguments,t=this;return(0,u.default)(function*(){var r=e.length>0&&void 0!==e[0]?e[0]:_r(_d[13]).CrossSigningKey.Master,n=yield t.olmMachine.getIdentity(new y.UserId(t.userId));if(!n)return null;try{var i,o=yield t.olmMachine.crossSigningStatus();if(!(o.hasMaster&&o.hasUserSigning&&o.hasSelfSigning))return null;if(!n.isVerified())return null;switch(r){case _r(_d[13]).CrossSigningKey.Master:i=n.masterKey;break;case _r(_d[13]).CrossSigningKey.SelfSigning:i=n.selfSigningKey;break;case _r(_d[13]).CrossSigningKey.UserSigning:i=n.userSigningKey;break;default:return null}var s=JSON.parse(i);return Object.values(s.keys)[0]}finally{n.free()}})()}},{key:"bootstrapCrossSigning",value:function(e){var t=this;return(0,u.default)(function*(){yield t.crossSigningIdentity.bootstrapCrossSigning(e)})()}},{key:"isSecretStorageReady",value:function(){var e=this;return(0,u.default)(function*(){return(yield e.getSecretStorageStatus()).ready})()}},{key:"getSecretStorageStatus",value:function(){var e=this;return(0,u.default)(function*(){var t=["m.cross_signing.master","m.cross_signing.user_signing","m.cross_signing.self_signing"];null!=(yield e.backupManager.getActiveBackupVersion())&&t.push("m.megolm_backup.v1");var r=yield e.secretStorage.getDefaultKeyId(),n={ready:!0,defaultKeyId:r,secretStorageKeyValidityMap:{}};for(var i of t){var o=(yield e.secretStorage.isStored(i))||{},s=!!r&&r in o;n.secretStorageKeyValidityMap[i]=s,n.ready=n.ready&&s}return n})()}},{key:"bootstrapSecretStorage",value:function(){var e=arguments,t=this;return(0,u.default)(function*(){var r=e.length>0&&void 0!==e[0]?e[0]:{},n=r.createSecretStorageKey,i=r.setupNewSecretStorage,o=r.setupNewKeyBackup,s=i||!(yield t.secretStorageHasAESKey());if(s){if(!n)throw new Error("unable to create a new secret storage key, createSecretStorageKey is not set");t.logger.info("bootstrapSecretStorage: creating new secret storage key");var c=yield n();if(!c)throw new Error("createSecretStorageKey() callback did not return a secret storage key");yield t.addSecretStorageKeyToSecretStorage(c)}var u=yield t.olmMachine.exportCrossSigningKeys();!(u&&void 0!==u.masterKey&&void 0!==u.self_signing_key&&void 0!==u.userSigningKey)||!s&&(yield(0,_r(_d[28]).secretStorageContainsCrossSigningKeys)(t.secretStorage))||(t.logger.info("bootstrapSecretStorage: cross-signing keys not yet exported; doing so now."),yield t.secretStorage.store("m.cross_signing.master",u.masterKey),yield t.secretStorage.store("m.cross_signing.user_signing",u.userSigningKey),yield t.secretStorage.store("m.cross_signing.self_signing",u.self_signing_key)),o?yield t.resetKeyBackup():yield t.saveBackupKeyToStorage()})()}},{key:"saveBackupKeyToStorage",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.backupManager.getServerBackupInfo();if(t&&t.version){var r=yield e.olmMachine.getBackupKeys();if(r.decryptionKey)if((0,_r(_d[18]).decryptionKeyMatchesKeyBackupInfo)(r.decryptionKey,t)){var n=r.decryptionKey.toBase64();yield e.secretStorage.store("m.megolm_backup.v1",n)}else e.logger.info("Not saving backup key to secret storage: decryption key does not match backup info");else e.logger.info("Not saving backup key to secret storage: no backup key")}else e.logger.info("Not saving backup key to secret storage: no backup info")})()}},{key:"addSecretStorageKeyToSecretStorage",value:function(e){var t=this;return(0,u.default)(function*(){var r,n,i,o,s=yield t.secretStorage.addKey(_r(_d[29]).SECRET_STORAGE_ALGORITHM_V1_AES,{passphrase:null===(r=e.keyInfo)||void 0===r?void 0:r.passphrase,name:null===(n=e.keyInfo)||void 0===n?void 0:n.name,key:e.privateKey});yield t.secretStorage.setDefaultKeyId(s.keyId),null===(i=(o=t.cryptoCallbacks).cacheSecretStorageKey)||void 0===i||i.call(o,s.keyId,s.keyInfo,e.privateKey)})()}},{key:"secretStorageHasAESKey",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.secretStorage.getKey();return!!t&&(0,r.default)(t,2)[1].algorithm===_r(_d[29]).SECRET_STORAGE_ALGORITHM_V1_AES})()}},{key:"getCrossSigningStatus",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.getOlmMachineOrThrow().getIdentity(new y.UserId(e.userId)),r=Boolean(null==t?void 0:t.masterKey)&&Boolean(null==t?void 0:t.selfSigningKey)&&Boolean(null==t?void 0:t.userSigningKey);null==t||t.free();var n=yield(0,_r(_d[28]).secretStorageContainsCrossSigningKeys)(e.secretStorage),i=yield e.getOlmMachineOrThrow().crossSigningStatus();return{publicKeysOnDevice:r,privateKeysInSecretStorage:n,privateKeysCachedLocally:{masterKey:Boolean(null==i?void 0:i.hasMaster),userSigningKey:Boolean(null==i?void 0:i.hasUserSigning),selfSigningKey:Boolean(null==i?void 0:i.hasSelfSigning)}}})()}},{key:"createRecoveryKeyFromPassphrase",value:function(e){var t=this;return(0,u.default)(function*(){if(e){var r=(0,_r(_d[30]).secureRandomString)(32),n=yield(0,_r(_d[13]).deriveRecoveryKeyFromPassphrase)(e,r,t.RECOVERY_KEY_DERIVATION_ITERATIONS);return{keyInfo:{passphrase:{algorithm:"m.pbkdf2",iterations:t.RECOVERY_KEY_DERIVATION_ITERATIONS,salt:r}},privateKey:n,encodedPrivateKey:(0,_r(_d[13]).encodeRecoveryKey)(n)}}var i=new Uint8Array(32);return globalThis.crypto.getRandomValues(i),{privateKey:i,encodedPrivateKey:(0,_r(_d[13]).encodeRecoveryKey)(i)}})()}},{key:"getEncryptionInfoForEvent",value:function(e){var t=this;return(0,u.default)(function*(){return t.eventDecryptor.getEncryptionInfoForEvent(e)})()}},{key:"getVerificationRequestsToDeviceInProgress",value:function(e){var t=this;return this.olmMachine.getVerificationRequests(new y.UserId(e)).filter(function(e){return void 0===e.roomId&&!e.isCancelled()}).map(function(e){return t.makeVerificationRequest(e)})}},{key:"findVerificationRequestDMInProgress",value:function(e,t){if(!t)throw new Error("missing userId");var r=this.olmMachine.getVerificationRequests(new y.UserId(t)).find(function(t){var r;return(null===(r=t.roomId)||void 0===r?void 0:r.toString())===e&&!t.isCancelled()});if(r)return this.makeVerificationRequest(r)}},{key:"requestVerificationDM",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=yield r.olmMachine.getIdentity(new y.UserId(e));if(!n)throw new Error("unknown userId ".concat(e));try{var i=r._supportedVerificationMethods.map(function(e){return(0,_r(_d[31]).verificationMethodIdentifierToMethod)(e)}),o=yield n.verificationRequestContent(i),s=JSON.parse(o);s.msgtype="m.key.verification.request";var c=JSON.stringify(s),u=yield r.sendVerificationRequestContent(t,c),d=yield n.requestVerification(new y.RoomId(t),new y.EventId(u),i);return r.makeVerificationRequest(d)}finally{n.free()}})()}},{key:"sendVerificationRequestContent",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=(0,_r(_d[30]).secureRandomString)(32);return(yield r.http.authedRequest(_r(_d[26]).Method.Put,"/_matrix/client/v3/rooms/".concat(encodeURIComponent(e),"/send/m.room.message/").concat(encodeURIComponent(n)),void 0,t,{prefix:""})).event_id})()}},{key:"setSupportedVerificationMethods",value:function(e){this._supportedVerificationMethods=null!=e?e:h}},{key:"requestOwnUserVerification",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.olmMachine.getIdentity(new y.UserId(e.userId));if(void 0===t)throw new Error("cannot request verification for this device when there is no existing cross-signing key");try{var n=yield t.requestVerification(e._supportedVerificationMethods.map(_r(_d[31]).verificationMethodIdentifierToMethod)),i=(0,r.default)(n,2),o=i[0],s=i[1];return yield e.outgoingRequestProcessor.makeOutgoingRequest(s),e.makeVerificationRequest(o)}finally{t.free()}})()}},{key:"requestDeviceVerification",value:function(e,t){var n=this;return(0,u.default)(function*(){var i=yield n.olmMachine.getDevice(new y.UserId(e),new y.DeviceId(t));if(!i)throw new Error("Not a known device");try{var o=i.requestVerification(n._supportedVerificationMethods.map(_r(_d[31]).verificationMethodIdentifierToMethod)),s=(0,r.default)(o,2),c=s[0],u=s[1];return yield n.outgoingRequestProcessor.makeOutgoingRequest(u),n.makeVerificationRequest(c)}finally{i.free()}})()}},{key:"getSessionBackupPrivateKey",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.olmMachine.getBackupKeys();return t.decryptionKey?(0,_r(_d[23]).decodeBase64)(t.decryptionKey.toBase64()):null})()}},{key:"storeSessionBackupPrivateKey",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=(0,_r(_d[23]).encodeBase64)(e);if(!t)throw new Error("storeSessionBackupPrivateKey: version is required");yield r.backupManager.saveBackupDecryptionKey(y.BackupDecryptionKey.fromBase64(n),t)})()}},{key:"loadSessionBackupPrivateKeyFromSecretStorage",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.secretStorage.get("m.megolm_backup.v1");if(!t)throw new Error("loadSessionBackupPrivateKeyFromSecretStorage: missing decryption key in secret storage");var r=yield e.backupManager.getServerBackupInfo();if(!r||!r.version)throw new Error("loadSessionBackupPrivateKeyFromSecretStorage: unable to get backup version");var n=y.BackupDecryptionKey.fromBase64(t);if(!(0,_r(_d[18]).decryptionKeyMatchesKeyBackupInfo)(n,r))throw new Error("loadSessionBackupPrivateKeyFromSecretStorage: decryption key does not match backup info");yield e.backupManager.saveBackupDecryptionKey(n,r.version)})()}},{key:"getActiveSessionBackupVersion",value:function(){var e=this;return(0,u.default)(function*(){return yield e.backupManager.getActiveBackupVersion()})()}},{key:"getKeyBackupInfo",value:function(){var e=this;return(0,u.default)(function*(){return(yield e.backupManager.getServerBackupInfo())||null})()}},{key:"isKeyBackupTrusted",value:function(e){var t=this;return(0,u.default)(function*(){return yield t.backupManager.isKeyBackupTrusted(e)})()}},{key:"checkKeyBackupAndEnable",value:function(){var e=this;return(0,u.default)(function*(){return yield e.backupManager.checkKeyBackupAndEnable(!0)})()}},{key:"deleteKeyBackupVersion",value:function(e){var t=this;return(0,u.default)(function*(){yield t.backupManager.deleteKeyBackupVersion(e)})()}},{key:"resetKeyBackup",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.backupManager.setupKeyBackup(function(t){return e.signObject(t)});(yield e.secretStorageHasAESKey())&&(yield e.secretStorage.store("m.megolm_backup.v1",t.decryptionKey.toBase64())),e.checkKeyBackupAndEnable()})()}},{key:"disableKeyStorage",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.getKeyBackupInfo();null!=t&&t.version?yield e.deleteKeyBackupVersion(t.version):e.logger.error("Can't delete key backup version: no version available"),yield e.deleteSecretStorage(),yield e.dehydratedDeviceManager.delete()})()}},{key:"signObject",value:function(e){var t=this;return(0,u.default)(function*(){var r=new Map(Object.entries(e.signatures||{})),n=e.unsigned;delete e.signatures,delete e.unsigned;var i=r.get(t.userId)||{},o=l.default.stringify(e),s=yield t.olmMachine.sign(o),c=JSON.parse(s.asJSON());r.set(t.userId,p(p({},i),c[t.userId])),void 0!==n&&(e.unsigned=n),e.signatures=Object.fromEntries(r.entries())})()}},{key:"restoreKeyBackupWithPassphrase",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=yield r.backupManager.getServerBackupInfo();if(null==n||!n.version)throw new Error("No backup info available");var i=yield(0,_r(_d[32]).keyFromAuthData)(n.auth_data,e);return yield r.storeSessionBackupPrivateKey(i,n.version),r.restoreKeyBackup(t)})()}},{key:"restoreKeyBackup",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.olmMachine.getBackupKeys(),n=r.decryptionKey,i=r.backupVersion;if(!n||!i)throw new Error("No decryption key found in crypto store");var o=(0,_r(_d[23]).decodeBase64)(n.toBase64()),s=yield t.backupManager.requestKeyBackupVersion(i);if(!s)throw new Error("Backup version to restore ".concat(i," not found on server"));var c=yield t.getBackupDecryptor(s,o);try{var u;return null==e||null===(u=e.progressCallback)||void 0===u||u.call(e,{stage:_r(_d[13]).ImportRoomKeyStage.Fetch}),yield t.backupManager.restoreKeyBackup(i,c,e)}finally{c.free()}})()}},{key:"isDehydrationSupported",value:function(){var e=this;return(0,u.default)(function*(){return yield e.dehydratedDeviceManager.isSupported()})()}},{key:"startDehydration",value:function(){var e=arguments,t=this;return(0,u.default)(function*(){var r=e.length>0&&void 0!==e[0]?e[0]:{};if(!(yield t.isCrossSigningReady())||!(yield t.isSecretStorageReady()))throw new Error("Device dehydration requires cross-signing and secret storage to be set up");return yield t.dehydratedDeviceManager.start(r||{})})()}},{key:"importSecretsBundle",value:function(e){var t=this;return(0,u.default)(function*(){var r=y.SecretsBundle.from_json(e);yield t.getOlmMachineOrThrow().importSecretsBundle(r)})()}},{key:"exportSecretsBundle",value:function(){var e=this;return(0,u.default)(function*(){var t=yield e.getOlmMachineOrThrow().exportSecretsBundle(),r=t.to_json();return t.free(),r})()}},{key:"encryptToDeviceMessages",value:function(e,t,r){var n=this;return(0,u.default)(function*(){var i=new(_r(_d[24]).LogSpan)(n.logger,"encryptToDeviceMessages"),o=new Set(t.map(function(e){return e.userId}));yield n.keyClaimManager.ensureSessionsForUsers(i,Array.from(o).map(function(e){return new y.UserId(e)}));var s={batch:[],eventType:_r(_d[33]).EventType.RoomMessageEncrypted};return yield Promise.all(t.map((function(){var t=(0,u.default)(function*(t){var i=t.userId,o=t.deviceId,c=yield n.olmMachine.getDevice(new y.UserId(i),new y.DeviceId(o));if(c){var u=JSON.parse(yield c.encryptToDeviceEvent(e,r));s.batch.push({deviceId:o,userId:i,payload:u})}else n.logger.warn("encryptToDeviceMessages: unknown device ".concat(i,":").concat(o))});return function(e){return t.apply(this,arguments)}})())),s})()}},{key:"resetEncryption",value:function(e){var t=this;return(0,u.default)(function*(){t.logger.debug("resetEncryption: resetting encryption"),t.dehydratedDeviceManager.delete(),yield t.backupManager.deleteAllKeyBackupVersions(),yield t.deleteSecretStorage(),yield t.crossSigningIdentity.bootstrapCrossSigning({setupNewCrossSigning:!0,authUploadDeviceSigningKeys:e}),yield t.resetKeyBackup(),t.logger.debug("resetEncryption: ended")})()}},{key:"deleteSecretStorage",value:function(){var e=this;return(0,u.default)(function*(){yield e.secretStorage.store("m.cross_signing.master",null),yield e.secretStorage.store("m.cross_signing.self_signing",null),yield e.secretStorage.store("m.cross_signing.user_signing",null),yield e.secretStorage.store("m.megolm_backup.v1",null);var t=yield e.secretStorage.getDefaultKeyId();t&&(yield e.secretStorage.store("m.secret_storage.key.".concat(t),null)),yield e.secretStorage.setDefaultKeyId(null)})()}},{key:"shareRoomHistoryWithUser",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=new(_r(_d[24]).LogSpan)(r.logger,"shareRoomHistoryWithUser(".concat(e,", ").concat(t,")")),i=yield r.getOwnIdentity();if(null!=i&&i.isVerified()){n.info("Sharing message history");var o=yield r.getOlmMachineOrThrow().buildRoomKeyBundle(new y.RoomId(e));if(o){var s=yield r.http.uploadContent(o.encryptedData);n.info("Uploaded encrypted key blob: ".concat(JSON.stringify(s)));var c=r.getOlmMachineOrThrow().queryKeysForUsers([new y.UserId(t)]);yield r.outgoingRequestProcessor.makeOutgoingRequest(c),yield r.keyClaimManager.ensureSessionsForUsers(n,[new y.UserId(t)]);var u=yield r.getOlmMachineOrThrow().shareRoomKeyBundleData(new y.UserId(t),new y.RoomId(e),s.content_uri,o.mediaEncryptionInfo,y.CollectStrategy.identityBasedStrategy());for(var d of u)yield r.outgoingRequestProcessor.makeOutgoingRequest(d)}else n.info("No keys to share")}else n.warn("Not sharing message history as the current device is not verified by our cross-signing identity")})()}},{key:"receiveSyncChanges",value:function(e){var t=this;return(0,u.default)(function*(){var r=e.events,n=e.oneTimeKeysCounts,i=void 0===n?new Map:n,o=e.unusedFallbackKeys,s=e.devices,c=void 0===s?new y.DeviceLists:s;return yield t.olmMachine.receiveSyncChanges(r?JSON.stringify(r):"[]",c,i,o)})()}},{key:"preprocessToDeviceMessages",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.receiveSyncChanges({events:e}),n=[],i=function*(){var e=JSON.parse(o.rawEvent);if(e.type===_r(_d[33]).EventType.KeyVerificationRequest){var r=e.sender,i=e.content.transaction_id;i&&r&&t.onIncomingKeyVerificationRequest(r,i)}switch(o.type){case y.ProcessedToDeviceEventType.Decrypted:var s,c=o.encryptionInfo;n.push({message:e,encryptionInfo:{sender:c.sender.toString(),senderDevice:null===(s=c.senderDevice)||void 0===s?void 0:s.toString(),senderCurve25519KeyBase64:c.senderCurve25519Key,senderVerified:c.isSenderVerified()}}),w(e)&&t.roomsPendingKeyBundles.has(e.content.room_id)&&t.maybeAcceptKeyBundle(e.content.room_id,t.roomsPendingKeyBundles.get(e.content.room_id)).then(function(r){r&&t.roomsPendingKeyBundles.delete(e.content.room_id)},function(r){t.logger.error("Error attempting to download key bundle for room ".concat(e.content.room_id)),t.logger.error(r)});break;case y.ProcessedToDeviceEventType.PlainText:n.push({message:e,encryptionInfo:null});case y.ProcessedToDeviceEventType.UnableToDecrypt:case y.ProcessedToDeviceEventType.Invalid:}};for(var o of r)yield*i();return n})()}},{key:"processKeyCounts",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=e&&new Map(Object.entries(e)),i=t&&new Set(t);void 0===n&&void 0===i||(yield r.receiveSyncChanges({oneTimeKeysCounts:n,unusedFallbackKeys:i}))})()}},{key:"processDeviceLists",value:function(e){var t=this;return(0,u.default)(function*(){var r,n,i=new y.DeviceLists(null===(r=e.changed)||void 0===r?void 0:r.map(function(e){return new y.UserId(e)}),null===(n=e.left)||void 0===n?void 0:n.map(function(e){return new y.UserId(e)}));yield t.receiveSyncChanges({devices:i})})()}},{key:"onCryptoEvent",value:function(e,t){var r=this;return(0,u.default)(function*(){var n=t.getContent(),i=new y.RoomSettings;if("m.megolm.v1.aes-sha2"===n.algorithm){i.algorithm=y.EncryptionAlgorithm.MegolmV1AesSha2,n["io.element.msc4362.encrypt_state_events"]&&r.enableEncryptedStateEvents&&(r.logger.info("crypto Enabling state event encryption..."),i.encryptStateEvents=!0);try{i.sessionRotationPeriodMs=n.rotation_period_ms,i.sessionRotationPeriodMessages=n.rotation_period_msgs,yield r.olmMachine.setRoomSettings(new y.RoomId(e.roomId),i)}catch(t){return void r.logger.warn("Room ".concat(e.roomId,": ignoring crypto event which caused error: ").concat(t))}var o=r.roomEncryptors[e.roomId];o?o.onCryptoEvent(n):r.roomEncryptors[e.roomId]=new(_r(_d[34]).RoomEncryptor)(r.logger.getChild("[".concat(e.roomId," encryption]")),r.olmMachine,r.keyClaimManager,r.outgoingRequestsManager,e,n)}else r.logger.warn("Room ".concat(e.roomId,": ignoring crypto event with invalid algorithm ").concat(n.algorithm))})()}},{key:"onSyncCompleted",value:function(e){var t=this;this.outgoingRequestsManager.doProcessOutgoingRequests().catch(function(e){t.logger.warn("onSyncCompleted: Error processing outgoing requests",e)})}},{key:"markAllTrackedUsersAsDirty",value:function(){var e=this;return(0,u.default)(function*(){yield e.olmMachine.markAllTrackedUsersAsDirty()})()}},{key:"onIncomingKeyVerificationRequest",value:function(e,t){var r=this.olmMachine.getVerificationRequest(new y.UserId(e),t);r?this.emit(_r(_d[13]).CryptoEvent.VerificationRequestReceived,this.makeVerificationRequest(r)):this.logger.info("Ignoring just-received verification request ".concat(t," which did not start a rust-side verification"))}},{key:"makeVerificationRequest",value:function(e){return new(_r(_d[31]).RustVerificationRequest)(this.logger,this.olmMachine,e,this.outgoingRequestProcessor,this._supportedVerificationMethods)}},{key:"onRoomMembership",value:function(e,t,r){var n=this.roomEncryptors[e.getRoomId()];n&&n.onRoomMembership(t)}},{key:"onRoomKeysUpdated",value:function(e){var t=this;return(0,u.default)(function*(){for(var r of e)t.onRoomKeyUpdated(r);t.backupManager.maybeUploadKey()})()}},{key:"onRoomKeyUpdated",value:function(e){var t=this;if(!this.stopped){this.logger.debug("Got update for session ".concat(e.sessionId," from sender ").concat(e.senderKey.toBase64()," in ").concat(e.roomId.toString()));var r=this.eventDecryptor.getEventsPendingRoomKey(e.roomId.toString(),e.sessionId);if(0!==r.length){this.logger.debug("Retrying decryption on events:",r.map(function(e){return"".concat(e.getId())}));var n=function(e){e.attemptDecryption(t,{isRetry:!0}).catch(function(r){t.logger.info("Still unable to decrypt event ".concat(e.getId()," after receiving key"))})};for(var i of r)n(i)}}}},{key:"onRoomKeysWithheld",value:function(e){var t=this;return(0,u.default)(function*(){for(var r of e){t.logger.debug("Got withheld message for session ".concat(r.sessionId," in ").concat(r.roomId.toString()));var n=t.eventDecryptor.getEventsPendingRoomKey(r.roomId.toString(),r.sessionId);if(0===n.length)return;for(var i of(t.logger.debug("Retrying decryption on events:",n.map(function(e){return"".concat(e.getId())})),n))i.attemptDecryption(t,{isRetry:!0}).catch(function(e){})}})()}},{key:"onUserIdentityUpdated",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.getUserVerificationStatus(e.toString());t.emit(_r(_d[13]).CryptoEvent.UserTrustStatusChanged,e.toString(),r),e.toString()===t.userId&&(t.emit(_r(_d[13]).CryptoEvent.KeysChanged,{}),yield t.checkKeyBackupAndEnable())})()}},{key:"onDevicesUpdated",value:function(e){var t=this;return(0,u.default)(function*(){t.emit(_r(_d[13]).CryptoEvent.WillUpdateDevices,e,!1),t.emit(_r(_d[13]).CryptoEvent.DevicesUpdated,e,!1)})()}},{key:"handleSecretReceived",value:function(e,t){var r=this;return(0,u.default)(function*(){return r.logger.debug("onReceiveSecret: Received secret ".concat(e)),"m.megolm_backup.v1"===e&&(yield r.backupManager.handleBackupSecretReceived(t))})()}},{key:"checkSecrets",value:function(e){var t=this;return(0,u.default)(function*(){var r=yield t.olmMachine.getSecretsFromInbox(e);for(var n of r)if(yield t.handleSecretReceived(e,n))break;yield t.olmMachine.deleteSecretsFromInbox(e)})()}},{key:"onLiveEventFromSync",value:function(e){var t=this;return(0,u.default)(function*(){if(!e.isState()&&!e.getUnsigned().transaction_id){var r=(function(){var r=(0,u.default)(function*(r){(0,_r(_d[31]).isVerificationEvent)(e)&&(yield t.onKeyVerificationEvent(r))});return function(e){return r.apply(this,arguments)}})();if(e.isDecryptionFailure()||e.isEncrypted()){var n=setTimeout(function(){return e.off(_r(_d[35]).MatrixEventEvent.Decrypted,i)},3e5),i=function(t,o){o||(clearTimeout(n),e.off(_r(_d[35]).MatrixEventEvent.Decrypted,i),r(t))};e.on(_r(_d[35]).MatrixEventEvent.Decrypted,i)}else yield r(e)}})()}},{key:"onKeyVerificationEvent",value:function(e){var t=this;return(0,u.default)(function*(){var r=e.getRoomId(),n=e.getSender();if(!r)throw new Error("missing roomId in the event");if(!n)throw new Error("missing sender in the event");t.logger.debug("Incoming verification event ".concat(e.getId()," type ").concat(e.getType()," from ").concat(e.getSender()));var i=e.getType()===_r(_d[33]).EventType.RoomMessage&&e.getContent().msgtype===_r(_d[33]).MsgType.KeyVerificationRequest;if(i){var o=t.getOlmMachineOrThrow().queryKeysForUsers([new y.UserId(n)]);yield t.outgoingRequestProcessor.makeOutgoingRequest(o)}yield t.getOlmMachineOrThrow().receiveVerificationEvent(JSON.stringify({event_id:e.getId(),type:e.getType(),sender:n,state_key:e.getStateKey(),content:e.getContent(),origin_server_ts:e.getTs()}),new y.RoomId(r)),i&&t.onIncomingKeyVerificationRequest(n,e.getId()),t.outgoingRequestsManager.doProcessOutgoingRequests().catch(function(e){t.logger.warn("onKeyVerificationRequest: Error processing outgoing requests",e)})})()}},{key:"getOwnIdentity",value:function(){var e=this;return(0,u.default)(function*(){return yield e.olmMachine.getIdentity(new y.UserId(e.userId))})()}}])})(_r(_d[36]).TypedEventEmitter),(function(){return(0,i.default)(function e(t,r,i){(0,n.default)(this,e),this.logger=t,this.olmMachine=r,this.perSessionBackupDownloader=i,(0,d.default)(this,"eventsPendingKey",new(_r(_d[37]).MapWithDefault)(function(){return new(_r(_d[37]).MapWithDefault)(function(){return new Set})}))},[{key:"attemptEventDecryption",value:function(e,t){var r=this;return(0,u.default)(function*(){var n;switch(r.addEventToPendingList(e),t.kind){case _r(_d[13]).DeviceIsolationModeKind.AllDevicesIsolationMode:n=y.TrustRequirement.Untrusted;break;case _r(_d[13]).DeviceIsolationModeKind.OnlySignedDevicesIsolationMode:n=y.TrustRequirement.CrossSignedOrLegacy}try{var i=yield r.olmMachine.decryptRoomEvent(S(e),new y.RoomId(e.getRoomId()),new y.DecryptionSettings(n));return r.removeEventFromPendingList(e),{clearEvent:JSON.parse(i.event),claimedEd25519Key:i.senderClaimedEd25519Key,senderCurve25519Key:i.senderCurve25519Key}}catch(t){if(!(t instanceof y.MegolmDecryptionError))throw new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.UNKNOWN_ERROR,"Unknown error");r.onMegolmDecryptionError(e,t,yield r.perSessionBackupDownloader.getServerBackupInfo())}})()}},{key:"onMegolmDecryptionError",value:function(e,t,r){var n=e.getWireContent(),i={sender_key:n.sender_key,session_id:n.session_id};if(t.code===y.DecryptionErrorCode.MissingRoomKey||t.code===y.DecryptionErrorCode.UnknownMessageIndex){this.perSessionBackupDownloader.onDecryptionKeyMissingError(e.getRoomId(),n.session_id);var o=e.getMembershipAtEvent();if(o&&o!==_r(_d[39]).KnownMembership.Join&&o!==_r(_d[39]).KnownMembership.Invite)throw new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.HISTORICAL_MESSAGE_USER_NOT_JOINED,"This message was sent when we were not a member of the room.",i);if(e.getTs()<=this.olmMachine.deviceCreationTimeMs)throw null===r?new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.HISTORICAL_MESSAGE_NO_KEY_BACKUP,"This message was sent before this device logged in, and there is no key backup on the server.",i):this.perSessionBackupDownloader.isKeyBackupDownloadConfigured()?new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.HISTORICAL_MESSAGE_WORKING_BACKUP,"This message was sent before this device logged in. Key backup is working, but we still do not (yet) have the key.",i):new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.HISTORICAL_MESSAGE_BACKUP_UNCONFIGURED,"This message was sent before this device logged in, and key backup is not working.",i)}if(t.maybe_withheld){var s="The sender has disabled encrypting to unverified devices."===t.maybe_withheld?_r(_d[13]).DecryptionFailureCode.MEGOLM_KEY_WITHHELD_FOR_UNVERIFIED_DEVICE:_r(_d[13]).DecryptionFailureCode.MEGOLM_KEY_WITHHELD;throw new(_r(_d[38]).DecryptionError)(s,t.maybe_withheld,i)}switch(t.code){case y.DecryptionErrorCode.MissingRoomKey:throw new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.MEGOLM_UNKNOWN_INBOUND_SESSION_ID,"The sender's device has not sent us the keys for this message.",i);case y.DecryptionErrorCode.UnknownMessageIndex:throw new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.OLM_UNKNOWN_MESSAGE_INDEX,"The sender's device has not sent us the keys for this message at this index.",i);case y.DecryptionErrorCode.SenderIdentityVerificationViolation:throw this.removeEventFromPendingList(e),new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.SENDER_IDENTITY_PREVIOUSLY_VERIFIED,"The sender identity is unverified, but was previously verified.");case y.DecryptionErrorCode.UnknownSenderDevice:throw this.removeEventFromPendingList(e),new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.UNKNOWN_SENDER_DEVICE,"The sender device is not known.");case y.DecryptionErrorCode.UnsignedSenderDevice:throw this.removeEventFromPendingList(e),new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.UNSIGNED_SENDER_DEVICE,"The sender identity is not cross-signed.");default:throw new(_r(_d[38]).DecryptionError)(_r(_d[13]).DecryptionFailureCode.UNKNOWN_ERROR,t.description,i)}}},{key:"getEncryptionInfoForEvent",value:function(e){var t=this;return(0,u.default)(function*(){if(!e.getClearContent()||e.isDecryptionFailure())return null;if(null!==e.status)return{shieldColour:_r(_d[13]).EventShieldColour.NONE,shieldReason:null};var r=yield t.olmMachine.getRoomEventEncryptionInfo(S(e),new y.RoomId(e.getRoomId()));return E(t.logger,r)})()}},{key:"getEventsPendingRoomKey",value:function(e,r){var n=this.eventsPendingKey.get(e);if(!n)return[];var i=n.get(r);return i?(0,t.default)(i):[]}},{key:"addEventToPendingList",value:function(e){var t=e.getRoomId();t&&this.eventsPendingKey.getOrCreate(t).getOrCreate(e.getWireContent().session_id).add(e)}},{key:"removeEventFromPendingList",value:function(e){var t=e.getRoomId();if(t){var r=this.eventsPendingKey.getOrCreate(t);if(r){var n=r.get(e.getWireContent().session_id);n&&(n.delete(e),0===n.size&&(r.delete(e.getWireContent().session_id),0===r.size&&this.eventsPendingKey.delete(t)))}}}}])})());function S(e){return JSON.stringify({event_id:e.getId(),type:e.getWireType(),sender:e.getSender(),state_key:e.getStateKey(),content:e.getWireContent(),origin_server_ts:e.getTs()})}function E(e,t){if(void 0===t)return null;var r,n,i=t.shieldState(!1);switch(i.color){case y.ShieldColor.Grey:r=_r(_d[13]).EventShieldColour.GREY;break;case y.ShieldColor.None:r=_r(_d[13]).EventShieldColour.NONE;break;default:r=_r(_d[13]).EventShieldColour.RED}switch(i.code){case void 0:case null:n=null;break;case y.ShieldStateCode.AuthenticityNotGuaranteed:n=_r(_d[13]).EventShieldReason.AUTHENTICITY_NOT_GUARANTEED;break;case y.ShieldStateCode.UnknownDevice:n=_r(_d[13]).EventShieldReason.UNKNOWN_DEVICE;break;case y.ShieldStateCode.UnsignedDevice:n=_r(_d[13]).EventShieldReason.UNSIGNED_DEVICE;break;case y.ShieldStateCode.UnverifiedIdentity:n=_r(_d[13]).EventShieldReason.UNVERIFIED_IDENTITY;break;case y.ShieldStateCode.SentInClear:n=_r(_d[13]).EventShieldReason.SENT_IN_CLEAR;break;case y.ShieldStateCode.VerificationViolation:n=_r(_d[13]).EventShieldReason.VERIFICATION_VIOLATION;break;case y.ShieldStateCode.MismatchedSender:n=_r(_d[13]).EventShieldReason.MISMATCHED_SENDER;break;default:n=_r(_d[13]).EventShieldReason.UNKNOWN}return{shieldColour:r,shieldReason:n}}function w(e){return"io.element.msc4268.room_key_bundle"===e.type&&"string"==typeof e.content.room_id}},884,[1,42,34,11,12,18,20,23,743,739,885,867,886,877,764,887,889,890,876,891,888,892,847,745,746,769,814,893,895,859,744,896,897,765,898,771,762,748,899,767]);
__d(function(g,r,_i,a,m,e,d){'use strict';for(var n=/[\\\"\x00-\x1F]/g,t={},o=0;o<32;++o)t[String.fromCharCode(o)]="\\U"+('0000'+o.toString(16)).slice(-4).toUpperCase();function i(o){return n.lastIndex=0,o.replace(n,function(n){return t[n]})}function u(n){switch(typeof n){case'string':return'"'+i(n)+'"';case'number':return isFinite(n)?n:'null';case'boolean':return n;case'object':return null===n?'null':Array.isArray(n)?s(n):f(n);default:throw new Error('Cannot stringify: '+typeof n)}}function s(n){for(var t='[',o='',i=0;i<n.length;++i)o+=t,t=',',o+=u(n[i]);return','!=t?'[]':o+']'}function f(n){var t='{',o='',s=Object.keys(n);s.sort();for(var f=0;f<s.length;++f){var c=s[f];o+=t+'"'+i(c)+'":',t=',',o+=u(n[c])}return','!=t?'{}':o+'}'}t['\b']='\\b',t['\t']='\\t',t['\n']='\\n',t['\f']='\\f',t['\r']='\\r',t['"']='\\"',t['\\']='\\\\',m.exports={stringify:u}},885,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var o={VerificationMethod:!0};e.VerificationMethod=void 0,Object.keys(r(d[0])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===r(d[0])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[0])[t]}}))});e.VerificationMethod=(function(o){return o.Sas="m.sas.v1",o.ShowQrCode="m.qr_code.show.v1",o.ScanQrCode="m.qr_code.scan.v1",o.Reciprocate="m.reciprocate.v1",o})({})},886,[767]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.OutgoingRequestProcessor=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),s=e(_r(d[5]));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}_e.OutgoingRequestProcessor=(function(){return(0,r.default)(function e(t,r,o){(0,n.default)(this,e),this.logger=t,this.olmMachine=r,this.http=o},[{key:"makeOutgoingRequest",value:function(e,t){var n=this;return(0,s.default)(function*(){var r;if(e instanceof _r(d[6]).KeysUploadRequest)r=yield n.requestWithRetry(_r(d[7]).Method.Post,"/_matrix/client/v3/keys/upload",{},e.body);else if(e instanceof _r(d[6]).KeysQueryRequest)r=yield n.requestWithRetry(_r(d[7]).Method.Post,"/_matrix/client/v3/keys/query",{},e.body);else if(e instanceof _r(d[6]).KeysClaimRequest)r=yield n.requestWithRetry(_r(d[7]).Method.Post,"/_matrix/client/v3/keys/claim",{},e.body);else if(e instanceof _r(d[6]).SignatureUploadRequest)r=yield n.requestWithRetry(_r(d[7]).Method.Post,"/_matrix/client/v3/keys/signatures/upload",{},e.body);else if(e instanceof _r(d[6]).KeysBackupRequest)r=yield n.requestWithRetry(_r(d[7]).Method.Put,"/_matrix/client/v3/room_keys/keys",{version:e.version},e.body);else if(e instanceof _r(d[6]).ToDeviceRequest)r=yield n.sendToDeviceRequest(e);else if(e instanceof _r(d[6]).RoomMessageRequest){var o="/_matrix/client/v3/rooms/".concat(encodeURIComponent(e.room_id),"/send/")+"".concat(encodeURIComponent(e.event_type),"/").concat(encodeURIComponent(e.txn_id));r=yield n.requestWithRetry(_r(d[7]).Method.Put,o,{},e.body)}else{if(e instanceof _r(d[6]).UploadSigningKeysRequest)return void(yield n.makeRequestWithUIA(_r(d[7]).Method.Post,"/_matrix/client/v3/keys/device_signing/upload",{},e.body,t));if(e instanceof _r(d[6]).PutDehydratedDeviceRequest){var u=_r(d[8]).UnstablePrefix+"/dehydrated_device";return void(yield n.rawJsonRequest(_r(d[7]).Method.Put,u,{},e.body))}n.logger.warn("Unsupported outgoing message",Object.getPrototypeOf(e)),r=""}if(e.id)try{yield(0,_r(d[9]).logDuration)(n.logger,"Mark Request as sent ".concat(e.type),(0,s.default)(function*(){yield n.olmMachine.markRequestAsSent(e.id,e.type,r)}))}catch(e){if(!(e instanceof Error)||"Attempt to use a moved value"!==e.message&&"null pointer passed to rust"!==e.message)throw e;n.logger.debug("Ignoring error '".concat(e.message,"': client is likely shutting down"))}else n.logger.trace("Outgoing request type:".concat(e.type," does not have an ID"))})()}},{key:"sendToDeviceRequest",value:function(e){var n=this;return(0,s.default)(function*(){var r=JSON.parse(e.body),o=[];for(var s of Object.entries(r.messages)){var u=(0,t.default)(s,2),c=u[0],l=u[1];for(var y of Object.entries(l)){var f=(0,t.default)(y,2),v=f[0],p=f[1];o.push("".concat(c,"/").concat(v," (msgid ").concat(p[_r(d[10]).ToDeviceMessageId],")"))}}n.logger.info("Sending batch of to-device messages. type=".concat(e.event_type," txnid=").concat(e.txn_id),o);var h="/_matrix/client/v3/sendToDevice/".concat(encodeURIComponent(e.event_type),"/")+encodeURIComponent(e.txn_id);return yield n.requestWithRetry(_r(d[7]).Method.Put,h,{},e.body)})()}},{key:"makeRequestWithUIA",value:function(e,t,n,r,o){var u=this;return(0,s.default)(function*(){if(!o)return yield u.requestWithRetry(e,t,n,r);var l=JSON.parse(r),y=(function(){var r=(0,s.default)(function*(r){var o=c({},l);null!==r&&(o.auth=r);var s=yield u.requestWithRetry(e,t,n,JSON.stringify(o));return JSON.parse(s)});return function(e){return r.apply(this,arguments)}})(),f=yield o(y);return JSON.stringify(f)})()}},{key:"requestWithRetry",value:function(e,t,n,r){var o=this;return(0,s.default)(function*(){for(var s=0;;)try{return yield o.rawJsonRequest(e,t,n,r)}catch(e){s++;var u=(0,_r(d[7]).calculateRetryBackoff)(e,s,!0);if(u<0)throw e;yield(0,_r(d[9]).sleep)(u)}})()}},{key:"rawJsonRequest",value:function(e,t,n,r){var o=this;return(0,s.default)(function*(){return yield o.http.authedRequest(e,t,n,r,{json:!1,headers:{"Content-Type":"application/json",Accept:"application/json"},prefix:"",localTimeoutMs:6e4})})()}}])})()},887,[1,34,11,12,739,743,867,814,888,748,765]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnstablePrefix=_e.DehydratedDeviceManager=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),i=e(_r(d[3])),n=e(_r(d[4])),o=e(_r(d[5])),c=e(_r(d[6])),y=e(_r(d[7])),v=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(n=t?i:r){if(n.has(e))return n.get(e);n.set(e,c)}for(var y in e)"default"!==y&&{}.hasOwnProperty.call(e,y)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,y))&&(o.get||o.set)?n(c,y,o):c[y]=e[y]);return c})(e,t)})(_r(d[8]));function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var u=_e.UnstablePrefix="/_matrix/client/unstable/org.matrix.msc3814.v1",h="org.matrix.msc3814";_e.DehydratedDeviceManager=(function(e){function f(e,r,o,c,v){var u,h,s,p;return(0,t.default)(this,f),h=this,s=f,s=(0,n.default)(s),(u=(0,i.default)(h,l()?Reflect.construct(s,p||[],(0,n.default)(h).constructor):s.apply(h,p))).logger=e,u.olmMachine=r,u.http=o,u.outgoingRequestProcessor=c,u.secretStorage=v,(0,y.default)(u,"intervalId",void 0),u}return(0,o.default)(f,e),(0,r.default)(f,[{key:"cacheKey",value:function(e){var t=this;return(0,c.default)(function*(){yield t.olmMachine.dehydratedDevices().saveDehydratedDeviceKey(e),t.emit(_r(d[9]).CryptoEvent.DehydrationKeyCached)})()}},{key:"isSupported",value:function(){var e=this;return(0,c.default)(function*(){try{yield e.http.authedRequest(_r(d[10]).Method.Get,"/dehydrated_device",void 0,void 0,{prefix:u})}catch(e){var t=e;if("M_UNRECOGNIZED"===t.errcode)return!1;if("M_NOT_FOUND"===t.errcode)return!0;throw e}return!0})()}},{key:"start",value:function(){var e=arguments,t=this;return(0,c.default)(function*(){var r=e.length>0&&void 0!==e[0]?e[0]:{};if("boolean"==typeof r&&(r={createNewKey:r}),!r.onlyIfKeyCached||(yield t.olmMachine.dehydratedDevices().getDehydratedDeviceKey())){if(t.stop(),!1!==r.rehydrate)try{yield t.rehydrateDeviceIfAvailable()}catch(e){t.logger.info("dehydration: Error rehydrating device:",e),t.emit(_r(d[9]).CryptoEvent.RehydrationError,e.message)}r.createNewKey&&(yield t.resetKey()),yield t.scheduleDeviceDehydration()}})()}},{key:"isKeyStored",value:function(){var e=this;return(0,c.default)(function*(){return Boolean(yield e.secretStorage.isStored(h))})()}},{key:"resetKey",value:function(){var e=this;return(0,c.default)(function*(){var t=v.DehydratedDeviceKey.createRandomKey();return yield e.secretStorage.store(h,t.toBase64()),yield e.cacheKey(t),t})()}},{key:"getKey",value:function(e){var t=this;return(0,c.default)(function*(){var r=yield t.olmMachine.dehydratedDevices().getDehydratedDeviceKey();if(r)return r;var i=yield t.secretStorage.get(h);if(void 0===i)return e?yield t.resetKey():null;var n=(0,_r(d[11]).decodeBase64)(i);try{var o=v.DehydratedDeviceKey.createKeyFromArray(n);return yield t.cacheKey(o),o}finally{n.fill(0)}})()}},{key:"rehydrateDeviceIfAvailable",value:function(){var e=this;return(0,c.default)(function*(){var t,r=yield e.getKey(!1);if(!r)return!1;try{t=yield e.http.authedRequest(_r(d[10]).Method.Get,"/dehydrated_device",void 0,void 0,{prefix:u})}catch(t){var i=t;if("M_NOT_FOUND"===i.errcode||"M_UNRECOGNIZED"===i.errcode)return e.logger.info("dehydration: No dehydrated device"),!1;throw i}e.logger.info("dehydration: dehydrated device found"),e.emit(_r(d[9]).CryptoEvent.RehydrationStarted);var n=yield e.olmMachine.dehydratedDevices().rehydrate(r,new v.DeviceId(t.device_id),JSON.stringify(t.device_data));e.logger.info("dehydration: device rehydrated");for(var o=void 0,c=0,y=0,l=(0,_r(d[12]).encodeUri)("/dehydrated_device/$device_id/events",{$device_id:t.device_id});;){var h=yield e.http.authedRequest(_r(d[10]).Method.Post,l,void 0,o?{next_batch:o}:{},{prefix:u});if(0===h.events.length)break;c+=h.events.length,o=h.next_batch,y+=(yield n.receiveEvents(JSON.stringify(h.events))).length,e.emit(_r(d[9]).CryptoEvent.RehydrationProgress,y,c)}return e.logger.info("dehydration: received ".concat(y," room keys from ").concat(c," to-device events")),e.emit(_r(d[9]).CryptoEvent.RehydrationCompleted),!0})()}},{key:"createAndUploadDehydratedDevice",value:function(){var e=this;return(0,c.default)(function*(){var t=yield e.getKey(!0),r=yield e.olmMachine.dehydratedDevices().create();e.emit(_r(d[9]).CryptoEvent.DehydratedDeviceCreated);var i=yield r.keysForUpload("Dehydrated device",t);yield e.outgoingRequestProcessor.makeOutgoingRequest(i),e.emit(_r(d[9]).CryptoEvent.DehydratedDeviceUploaded),e.logger.info("dehydration: uploaded device")})()}},{key:"scheduleDeviceDehydration",value:function(){var e=this;return(0,c.default)(function*(){e.stop(),yield e.createAndUploadDehydratedDevice(),e.intervalId=setInterval(function(){e.createAndUploadDehydratedDevice().catch(function(t){e.emit(_r(d[9]).CryptoEvent.DehydratedDeviceRotationError,t.message),e.logger.error("Error creating dehydrated device:",t)})},6048e5)})()}},{key:"stop",value:function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}},{key:"delete",value:function(){var e=this;return(0,c.default)(function*(){e.stop();try{yield e.http.authedRequest(_r(d[10]).Method.Delete,"/dehydrated_device",void 0,{},{prefix:u})}catch(e){var t=e;if("M_UNRECOGNIZED"===t.errcode)return;if("M_NOT_FOUND"===t.errcode)return;throw e}})()}}])})(_r(d[13]).TypedEventEmitter)},888,[1,11,12,18,20,23,743,739,867,877,814,745,748,762]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.OutgoingRequestsManager=void 0;var o=e(r(d[1])),t=e(r(d[2])),n=e(r(d[3])),u=e(r(d[4]));_e.OutgoingRequestsManager=(function(){return(0,t.default)(function e(t,n,s){(0,o.default)(this,e),this.logger=t,this.olmMachine=n,this.outgoingRequestProcessor=s,(0,u.default)(this,"stopped",!1),(0,u.default)(this,"outgoingRequestLoopRunning",!1),(0,u.default)(this,"nextLoopDeferred",void 0)},[{key:"stop",value:function(){this.stopped=!0}},{key:"doProcessOutgoingRequests",value:function(){var e=this;this.nextLoopDeferred||(this.nextLoopDeferred=Promise.withResolvers());var o=this.nextLoopDeferred.promise;return this.outgoingRequestLoopRunning||this.outgoingRequestLoop().catch(function(o){e.logger.error("Uncaught error in outgoing request loop",o)}),o}},{key:"outgoingRequestLoop",value:function(){var e=this;return(0,n.default)(function*(){if(e.outgoingRequestLoopRunning)throw new Error("Cannot run two outgoing request loops");e.outgoingRequestLoopRunning=!0;try{for(;!e.stopped&&e.nextLoopDeferred;){var o=e.nextLoopDeferred;e.nextLoopDeferred=void 0,yield e.processOutgoingRequests().then(o.resolve,o.reject)}}finally{e.outgoingRequestLoopRunning=!1}e.nextLoopDeferred&&e.nextLoopDeferred.reject(new Error("OutgoingRequestsManager was stopped"))})()}},{key:"processOutgoingRequests",value:function(){var e=this;return(0,n.default)(function*(){if(!e.stopped){var o,t=yield e.olmMachine.outgoingRequests(),u=function*(o){if(e.stopped)return{v:void 0};try{yield(0,r(d[5]).logDuration)(e.logger,"Make outgoing request ".concat(o.type),(0,n.default)(function*(){yield e.outgoingRequestProcessor.makeOutgoingRequest(o)}))}catch(t){e.logger.error("Failed to process outgoing request ".concat(o.type,": ").concat(t))}};for(var s of t)if(o=yield*u(s))return o.v;t.length>0&&e.doProcessOutgoingRequests().catch(function(o){e.logger.warn("processOutgoingRequests: Error re-checking outgoing requests",o)})}})()}}])})()},889,[1,11,12,743,739,748]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.KeyClaimManager=void 0;var n=s(r(d[1])),t=s(r(d[2])),o=s(r(d[3])),u=s(r(d[4]));e.KeyClaimManager=(function(){return(0,t.default)(function s(t,o){(0,n.default)(this,s),this.olmMachine=t,this.outgoingRequestProcessor=o,(0,u.default)(this,"currentClaimPromise",void 0),(0,u.default)(this,"stopped",!1),this.currentClaimPromise=Promise.resolve()},[{key:"stop",value:function(){this.stopped=!0}},{key:"ensureSessionsForUsers",value:function(s,n){var t=this,o=this.currentClaimPromise.catch(function(){}).then(function(){return t.ensureSessionsForUsersInner(s,n)});return this.currentClaimPromise=o,o}},{key:"ensureSessionsForUsersInner",value:function(s,n){var t=this;return(0,o.default)(function*(){if(t.stopped)throw new Error("Cannot ensure Olm sessions: shutting down");s.info("Checking for missing Olm sessions");var o=yield t.olmMachine.getMissingSessions(n.map(function(s){return s.clone()}));o&&(s.info("Making /keys/claim request"),yield t.outgoingRequestProcessor.makeOutgoingRequest(o)),s.info("Olm sessions prepared")})()}}])})()},890,[1,11,12,743,739]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PerSessionKeyBackupDownloader=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),c=e(r(d[5])),s=e(r(d[6])),l=e(r(d[7])),f=e(r(d[8]));function p(e,t,n){return t=(0,c.default)(t),(0,u.default)(e,h()?Reflect.construct(t,n||[],(0,c.default)(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}var y=5e3,k=(function(e){return e.MISSING_DECRYPTION_KEY="MISSING_DECRYPTION_KEY",e.NETWORK_ERROR="NETWORK_ERROR",e.STOPPED="STOPPED",e})(k||{}),v=(function(e){function t(e){var n;return(0,o.default)(this,t),(n=p(this,t,["Failed to get key from backup: ".concat(e)])).code=e,n.name="KeyDownloadError",n}return(0,s.default)(t,e),(0,n.default)(t)})((0,l.default)(Error)),b=(function(e){function t(e){var n;return(0,o.default)(this,t),(n=p(this,t,["Failed to get key from backup: rate limited"])).retryMillis=e,n.name="KeyDownloadRateLimitError",n}return(0,s.default)(t,e),(0,n.default)(t)})((0,l.default)(Error));_e.PerSessionKeyBackupDownloader=(function(){return(0,n.default)(function e(n,u,c,s){var l=this;(0,o.default)(this,e),this.olmMachine=u,this.http=c,this.backupManager=s,(0,t.default)(this,"stopped",!1),(0,t.default)(this,"configuration",null),(0,t.default)(this,"sessionLastCheckAttemptedTime",new Map),(0,t.default)(this,"logger",void 0),(0,t.default)(this,"downloadLoopRunning",!1),(0,t.default)(this,"queuedRequests",[]),(0,t.default)(this,"hasConfigurationProblem",!1),(0,t.default)(this,"currentBackupVersionCheck",null),(0,t.default)(this,"onBackupStatusChanged",function(){l.hasConfigurationProblem=!1,l.configuration=null,l.getOrCreateBackupConfiguration().then(function(e){e&&l.downloadKeysLoop()})}),this.logger=n.getChild("[PerSessionKeyBackupDownloader]"),s.on(r(d[9]).CryptoEvent.KeyBackupStatus,this.onBackupStatusChanged),s.on(r(d[9]).CryptoEvent.KeyBackupFailed,this.onBackupStatusChanged),s.on(r(d[9]).CryptoEvent.KeyBackupDecryptionKeyCached,this.onBackupStatusChanged)},[{key:"isKeyBackupDownloadConfigured",value:function(){return null!==this.configuration}},{key:"getServerBackupInfo",value:function(){var e=this;return(0,f.default)(function*(){return yield e.backupManager.getServerBackupInfo()})()}},{key:"onDecryptionKeyMissingError",value:function(e,t){this.isAlreadyInQueue(e,t)?this.logger.trace("Not checking key backup for session ".concat(t," as it is already queued")):this.wasRequestedRecently(t)?this.logger.trace("Not checking key backup for session ".concat(t," as it was already requested recently")):(this.queuedRequests.push({roomId:e,megolmSessionId:t}),this.downloadKeysLoop())}},{key:"stop",value:function(){this.stopped=!0,this.backupManager.off(r(d[9]).CryptoEvent.KeyBackupStatus,this.onBackupStatusChanged),this.backupManager.off(r(d[9]).CryptoEvent.KeyBackupFailed,this.onBackupStatusChanged),this.backupManager.off(r(d[9]).CryptoEvent.KeyBackupDecryptionKeyCached,this.onBackupStatusChanged)}},{key:"isAlreadyInQueue",value:function(e,t){return this.queuedRequests.some(function(n){return n.roomId==e&&n.megolmSessionId==t})}},{key:"markAsNotFoundInBackup",value:function(e){var t=Date.now();this.sessionLastCheckAttemptedTime.set(e,t),this.sessionLastCheckAttemptedTime.size>100&&(this.sessionLastCheckAttemptedTime=new Map(Array.from(this.sessionLastCheckAttemptedTime).filter(function(e,n){return Math.max(t-n,0)<y})))}},{key:"wasRequestedRecently",value:function(e){var t=this.sessionLastCheckAttemptedTime.get(e);return!!t&&Math.max(Date.now()-t,0)<y}},{key:"getBackupDecryptionKey",value:function(){var e=this;return(0,f.default)(function*(){try{return yield e.olmMachine.getBackupKeys()}catch(e){return null}})()}},{key:"requestRoomKeyFromBackup",value:function(e,t,n){var o=this;return(0,f.default)(function*(){var u=(0,r(d[10]).encodeUri)("/room_keys/keys/$roomId/$sessionId",{$roomId:t,$sessionId:n});return yield o.http.authedRequest(r(d[11]).Method.Get,u,{version:e},void 0,{prefix:r(d[11]).ClientPrefix.V3})})()}},{key:"downloadKeysLoop",value:function(){var e=this;return(0,f.default)(function*(){if(!e.downloadLoopRunning&&!e.hasConfigurationProblem){e.downloadLoopRunning=!0;try{for(;e.queuedRequests.length>0;){var t=e.queuedRequests[0];try{var n=yield e.getOrCreateBackupConfiguration();if(!n)return void(e.downloadLoopRunning=!1);var o=yield e.queryKeyBackup(t.roomId,t.megolmSessionId,n);if(e.stopped)return;try{yield e.decryptAndImport(t,o,n)}catch(n){e.logger.error("Error while decrypting and importing key backup for session ".concat(t.megolmSessionId),n)}e.queuedRequests.shift()}catch(n){if(n instanceof v)switch(n.code){case k.MISSING_DECRYPTION_KEY:e.markAsNotFoundInBackup(t.megolmSessionId),e.queuedRequests.shift();break;case k.NETWORK_ERROR:yield(0,r(d[10]).sleep)(y);break;case k.STOPPED:return void(e.downloadLoopRunning=!1)}else n instanceof b&&(yield(0,r(d[10]).sleep)(n.retryMillis))}}}finally{e.downloadLoopRunning=!1}}})()}},{key:"queryKeyBackup",value:function(e,t,n){var o=this;return(0,f.default)(function*(){if(o.logger.debug("Checking key backup for session ".concat(t)),o.stopped)throw new v(k.STOPPED);try{var u=yield o.requestRoomKeyFromBackup(n.backupVersion,e,t);return o.logger.debug("Got key from backup for sessionId:".concat(t)),u}catch(e){if(o.stopped)throw new v(k.STOPPED);if(o.logger.info("No luck requesting key backup for session ".concat(t,": ").concat(e)),e instanceof r(d[11]).MatrixError){if("M_NOT_FOUND"==e.data.errcode)throw new v(k.MISSING_DECRYPTION_KEY);if(e.isRateLimitError()){var c;try{var s;c=null!==(s=e.getRetryAfterMs())&&void 0!==s?s:void 0}catch(e){o.logger.warn("Error while retrieving a rate-limit retry delay",e)}throw c&&c>0&&o.logger.info("Rate limited by server, waiting ".concat(c,"ms")),new b(null!=c?c:y)}}throw new v(k.NETWORK_ERROR)}})()}},{key:"decryptAndImport",value:function(e,n,o){var u=this;return(0,f.default)(function*(){var c=(0,t.default)({},e.megolmSessionId,n),s=yield o.decryptor.decryptSessions(c);for(var l of s)l.room_id=e.roomId;yield u.backupManager.importBackedUpRoomKeys(s,o.backupVersion)})()}},{key:"getOrCreateBackupConfiguration",value:function(){var e=this;return(0,f.default)(function*(){if(e.configuration)return e.configuration;if(e.hasConfigurationProblem)return null;if(null!=e.currentBackupVersionCheck)return e.logger.debug("Already checking server version, use current promise"),yield e.currentBackupVersionCheck;e.currentBackupVersionCheck=e.internalCheckFromServer();try{return yield e.currentBackupVersionCheck}finally{e.currentBackupVersionCheck=null}})()}},{key:"internalCheckFromServer",value:function(){var e=this;return(0,f.default)(function*(){var t,n,o,u,c=null;try{c=yield e.backupManager.getServerBackupInfo()}catch(t){return e.logger.debug("Backup: error while checking server version: ".concat(t)),e.hasConfigurationProblem=!0,null}if(e.logger.debug("Got current backup version from server: ".concat(null===(t=c)||void 0===t?void 0:t.version)),"m.megolm_backup.v1.curve25519-aes-sha2"!=(null===(n=c)||void 0===n?void 0:n.algorithm))return e.logger.info("Unsupported algorithm ".concat(null===(u=c)||void 0===u?void 0:u.algorithm)),e.hasConfigurationProblem=!0,null;if(null===(o=c)||void 0===o||!o.version)return e.logger.info("No current key backup"),e.hasConfigurationProblem=!0,null;var s=yield e.backupManager.getActiveBackupVersion();if(null==s||c.version!=s)return e.logger.info("The current backup version on the server (".concat(c.version,") is not trusted. Version we are currently backing up to: ").concat(s)),e.hasConfigurationProblem=!0,null;var l=yield e.getBackupDecryptionKey();if(null==l||!l.decryptionKey)return e.logger.debug("Not checking key backup for session (no decryption key)"),e.hasConfigurationProblem=!0,null;if(s!=l.backupVersion)return e.logger.debug("Version for which we have a decryption key (".concat(l.backupVersion,") doesn't match the version we are backing up to (").concat(s,")")),e.hasConfigurationProblem=!0,null;if(c.auth_data.public_key!=l.decryptionKey.megolmV1PublicKey.publicKeyBase64)return e.logger.debug("Key backup on server does not match our decryption key"),e.hasConfigurationProblem=!0,null;var f=e.backupManager.createBackupDecryptor(l.decryptionKey);return e.hasConfigurationProblem=!1,e.configuration={decryptor:f,backupVersion:s},e.configuration})()}}])})()},891,[1,739,12,11,18,20,23,144,743,877,748,814]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.CrossSigningIdentity=void 0;var n=s(r(d[1])),t=s(r(d[2])),o=s(r(d[3]));e.CrossSigningIdentity=(function(){return(0,t.default)(function s(t,o,l,u){(0,n.default)(this,s),this.logger=t,this.olmMachine=o,this.outgoingRequestProcessor=l,this.secretStorage=u},[{key:"bootstrapCrossSigning",value:function(s){var n=this;return(0,o.default)(function*(){if(s.setupNewCrossSigning)yield n.resetCrossSigning(s.authUploadDeviceSigningKeys);else{var t=yield n.olmMachine.crossSigningStatus(),o=yield n.secretStorage.get("m.cross_signing.master"),l=yield n.secretStorage.get("m.cross_signing.self_signing"),u=yield n.secretStorage.get("m.cross_signing.user_signing"),y=Boolean(o&&l&&u),c=t.hasMaster&&t.hasUserSigning&&t.hasSelfSigning;if(n.logger.debug("bootstrapCrossSigning: starting",{setupNewCrossSigning:s.setupNewCrossSigning,olmDeviceHasMaster:t.hasMaster,olmDeviceHasUserSigning:t.hasUserSigning,olmDeviceHasSelfSigning:t.hasSelfSigning,privateKeysInSecretStorage:y}),c)(yield n.secretStorage.hasKey())?y?n.logger.debug("bootstrapCrossSigning: Olm device has private keys and they are saved in secret storage; doing nothing"):(n.logger.debug("bootstrapCrossSigning: Olm device has private keys: exporting to secret storage"),yield n.exportCrossSigningKeysToStorage()):n.logger.warn("bootstrapCrossSigning: Olm device has private keys, but secret storage is not yet set up; doing nothing for now.");else if(y){n.logger.debug("bootstrapCrossSigning: Cross-signing private keys not found locally, but they are available in secret storage, reading storage and caching locally");var S=yield n.olmMachine.importCrossSigningKeys(o,l,u);if(!S.hasMaster||!S.hasSelfSigning||!S.hasUserSigning)throw new Error("importCrossSigningKeys failed to import the keys");var p=yield n.olmMachine.getDevice(n.olmMachine.userId,n.olmMachine.deviceId);try{var v=yield p.verify();yield n.outgoingRequestProcessor.makeOutgoingRequest(v)}finally{p.free()}}else n.logger.debug("bootstrapCrossSigning: Cross-signing private keys not found locally or in secret storage, creating new keys"),yield n.resetCrossSigning(s.authUploadDeviceSigningKeys);n.logger.debug("bootstrapCrossSigning: complete")}})()}},{key:"resetCrossSigning",value:function(s){var n=this;return(0,o.default)(function*(){var t=yield n.olmMachine.bootstrapCrossSigning(!0);for(var o of((yield n.secretStorage.hasKey())?(n.logger.debug("resetCrossSigning: exporting private keys to secret storage"),yield n.exportCrossSigningKeysToStorage()):n.logger.warn("resetCrossSigning: Secret storage is not yet set up; not exporting keys to secret storage yet."),n.logger.debug("resetCrossSigning: publishing public keys to server"),[t.uploadKeysRequest,t.uploadSigningKeysRequest,t.uploadSignaturesRequest]))o&&(yield n.outgoingRequestProcessor.makeOutgoingRequest(o,s))})()}},{key:"exportCrossSigningKeysToStorage",value:function(){var s=this;return(0,o.default)(function*(){var n=yield s.olmMachine.exportCrossSigningKeys();null!=n&&n.masterKey?yield s.secretStorage.store("m.cross_signing.master",n.masterKey):s.logger.error("Cannot export MSK to secret storage, private key unknown"),null!=n&&n.self_signing_key?yield s.secretStorage.store("m.cross_signing.self_signing",n.self_signing_key):s.logger.error("Cannot export SSK to secret storage, private key unknown"),null!=n&&n.userSigningKey?yield s.secretStorage.store("m.cross_signing.user_signing",n.userSigningKey):s.logger.error("Cannot export USK to secret storage, private key unknown")})()}}])})()},892,[1,11,12,743]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.deviceKeysToDeviceMap=function(e){return new Map(Object.entries(e).map(function(e){var r=(0,i.default)(e,2);return[r[0],t(r[1])]}))},_e.downloadDeviceToJsDevice=t,_e.rustDeviceToJsDevice=function(e,t){var n=new Map;for(var s of e.keys.entries()){var o=(0,i.default)(s,2),c=o[0],f=o[1];n.set(c.toString(),f.toBase64())}var u=_r(d[3]).DeviceVerification.Unverified;e.isBlacklisted()?u=_r(d[3]).DeviceVerification.Blocked:e.isVerified()&&(u=_r(d[3]).DeviceVerification.Verified);var v=new Map,l=e.signatures.get(t);if(l){var p=new Map;for(var y of l.entries()){var h=(0,i.default)(y,2),w=h[0],M=h[1];M.isValid()&&M.signature&&p.set(w,M.signature.toBase64())}v.set(t.toString(),p)}var _=e.algorithms,D=new Set;return _.forEach(function(e){switch(e){case r.EncryptionAlgorithm.MegolmV1AesSha2:D.add("m.megolm.v1.aes-sha2");break;case r.EncryptionAlgorithm.OlmV1Curve25519AesSha2:default:D.add("m.olm.v1.curve25519-aes-sha2")}}),new(_r(d[3]).Device)({deviceId:e.deviceId.toString(),userId:t.toString(),keys:n,algorithms:Array.from(D),verified:u,signatures:v,displayName:e.displayName,dehydrated:e.isDehydrated})};var i=e(_r(d[1])),r=(function(e,i){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,i){if(!i&&e&&e.__esModule)return e;var n,s,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(n=i?t:r){if(n.has(e))return n.get(e);n.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((s=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(s.get||s.set)?n(o,c,s):o[c]=e[c]);return o})(e,i)})(_r(d[2]));function t(e){var i,r=new Map(Object.entries(e.keys)),t=null===(i=e.unsigned)||void 0===i?void 0:i.device_display_name,n=new Map;if(e.signatures)for(var s in e.signatures)n.set(s,new Map(Object.entries(e.signatures[s])));return new(_r(d[3]).Device)({deviceId:e.device_id,userId:e.user_id,keys:r,algorithms:e.algorithms,verified:_r(d[3]).DeviceVerification.Unverified,signatures:n,displayName:t})}},893,[1,34,867,894]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.DeviceVerification=e.Device=void 0;var s=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),v=e.DeviceVerification=(function(t){return t[t.Blocked=-1]="Blocked",t[t.Unverified=0]="Unverified",t[t.Verified=1]="Verified",t})({});e.Device=(function(){return(0,n.default)(function t(n){(0,s.default)(this,t),(0,u.default)(this,"deviceId",void 0),(0,u.default)(this,"userId",void 0),(0,u.default)(this,"algorithms",void 0),(0,u.default)(this,"keys",void 0),(0,u.default)(this,"verified",void 0),(0,u.default)(this,"signatures",void 0),(0,u.default)(this,"displayName",void 0),(0,u.default)(this,"dehydrated",!1),this.deviceId=n.deviceId,this.userId=n.userId,this.algorithms=n.algorithms,this.keys=n.keys,this.verified=n.verified||v.Unverified,this.signatures=n.signatures||new Map,this.displayName=n.displayName,this.dehydrated=!!n.dehydrated},[{key:"getFingerprint",value:function(){return this.keys.get("ed25519:".concat(this.deviceId))}},{key:"getIdentityKey",value:function(){return this.keys.get("curve25519:".concat(this.deviceId))}}])})()},894,[1,11,12,739]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.secretStorageCanAccessSecrets=u,e.secretStorageContainsCrossSigningKeys=function(n){return s.apply(this,arguments)};var t=n(r(d[1]));function s(){return(s=(0,t.default)(function*(n){return u(n,["m.cross_signing.master","m.cross_signing.user_signing","m.cross_signing.self_signing"])})).apply(this,arguments)}function u(n,t){return o.apply(this,arguments)}function o(){return(o=(0,t.default)(function*(n,t){var s=yield n.getDefaultKeyId();if(!s)return!1;for(var u of t){if(!(s in((yield n.isStored(u))||{})))return!1}return!0})).apply(this,arguments)}},895,[1,743]);
__d(function(g,_r,_i,a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RustVerificationRequest=_e.RustSASVerifier=_e.RustQrCodeVerifier=void 0,_e.isVerificationEvent=function(e){switch(e.getType()){case _r(d[15]).EventType.KeyVerificationCancel:case _r(d[15]).EventType.KeyVerificationDone:case _r(d[15]).EventType.KeyVerificationMac:case _r(d[15]).EventType.KeyVerificationStart:case _r(d[15]).EventType.KeyVerificationKey:case _r(d[15]).EventType.KeyVerificationReady:case _r(d[15]).EventType.KeyVerificationAccept:return!0;case _r(d[15]).EventType.RoomMessage:return e.getContent().msgtype===_r(d[15]).MsgType.KeyVerificationRequest;default:return!1}},_e.verificationMethodIdentifierToMethod=C;var t=e(_r(d[1])),i=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),c=e(_r(d[6])),s=e(_r(d[7])),u=e(_r(d[8])),f=e(_r(d[9])),l=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(r=t?n:i){if(r.has(e))return r.get(e);r.set(e,c)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?r(c,s,o):c[s]=e[s]);return c})(e,t)})(_r(d[10])),h=l;function v(e,t,n,r){var o=(0,i.default)((0,s.default)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function y(e,t,i){return t=(0,s.default)(t),(0,c.default)(e,p()?Reflect.construct(t,i||[],(0,s.default)(e).constructor):t.apply(e,i))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}_e.RustVerificationRequest=(function(e){function i(e,n,o,c,s){var u;(0,r.default)(this,i),(u=y(this,i)).logger=e,u.olmMachine=n,u.inner=o,u.outgoingRequestProcessor=c,u.supportedVerificationMethods=s,(0,t.default)(u,"reEmitter",void 0),(0,t.default)(u,"_accepting",!1),(0,t.default)(u,"_cancelling",!1),(0,t.default)(u,"_verifier",void 0),u.reEmitter=new(_r(d[11]).TypedReEmitter)(u);var l=new WeakRef(u);return o.registerChangesCallback((0,f.default)(function*(){var e;return null===(e=l.deref())||void 0===e?void 0:e.onChange()})),u}return(0,u.default)(i,e),(0,o.default)(i,[{key:"onChange",value:function(){var e=this.inner.getVerification();e instanceof h.Sas?void 0===this._verifier||this._verifier instanceof R?this.setVerifier(new m(e,this,this.outgoingRequestProcessor)):this._verifier instanceof m&&this._verifier.replaceInner(e):e instanceof h.Qr&&void 0===this._verifier&&this.setVerifier(new R(e,this.outgoingRequestProcessor)),this.emit(_r(d[12]).VerificationRequestEvent.Change)}},{key:"setVerifier",value:function(e){this._verifier&&this.reEmitter.stopReEmitting(this._verifier,[_r(d[12]).VerificationRequestEvent.Change]),this._verifier=e,this.reEmitter.reEmit(this._verifier,[_r(d[12]).VerificationRequestEvent.Change])}},{key:"transactionId",get:function(){return this.inner.flowId}},{key:"roomId",get:function(){var e;return null===(e=this.inner.roomId)||void 0===e?void 0:e.toString()}},{key:"initiatedByMe",get:function(){return this.inner.weStarted()}},{key:"otherUserId",get:function(){return this.inner.otherUserId.toString()}},{key:"otherDeviceId",get:function(){var e;return null===(e=this.inner.otherDeviceId)||void 0===e?void 0:e.toString()}},{key:"getOtherDevice",value:function(){var e=this;return(0,f.default)(function*(){var t=e.inner.otherDeviceId;if(t)return yield e.olmMachine.getDevice(e.inner.otherUserId,t,5)})()}},{key:"isSelfVerification",get:function(){return this.inner.isSelfVerification()}},{key:"phase",get:function(){var e=this.inner.phase();switch(e){case h.VerificationRequestPhase.Created:case h.VerificationRequestPhase.Requested:return _r(d[12]).VerificationPhase.Requested;case h.VerificationRequestPhase.Ready:return this._accepting?_r(d[12]).VerificationPhase.Requested:_r(d[12]).VerificationPhase.Ready;case h.VerificationRequestPhase.Transitioned:if(!this._verifier)throw new Error("VerificationRequest: inner phase == Transitioned but no verifier!");return this._verifier.verificationPhase;case h.VerificationRequestPhase.Done:return _r(d[12]).VerificationPhase.Done;case h.VerificationRequestPhase.Cancelled:return _r(d[12]).VerificationPhase.Cancelled}throw new Error("Unknown verification phase ".concat(e))}},{key:"pending",get:function(){if(this.inner.isPassive())return!1;var e=this.phase;return e!==_r(d[12]).VerificationPhase.Done&&e!==_r(d[12]).VerificationPhase.Cancelled}},{key:"accepting",get:function(){return this._accepting}},{key:"declining",get:function(){return this._cancelling}},{key:"timeout",get:function(){return this.inner.timeRemainingMillis()}},{key:"methods",get:function(){throw new Error("not implemented")}},{key:"chosenMethod",get:function(){if(this.phase!==_r(d[12]).VerificationPhase.Started)return null;var e=this.inner.getVerification();return e instanceof h.Sas?_r(d[13]).VerificationMethod.Sas:e instanceof h.Qr?_r(d[13]).VerificationMethod.Reciprocate:null}},{key:"otherPartySupportsMethod",value:function(e){var t=this.inner.theirSupportedMethods;if(void 0===t)return!1;var i=V[e];return t.some(function(e){return e===i})}},{key:"accept",value:function(){var e=this;return(0,f.default)(function*(){if(e.inner.phase()!==h.VerificationRequestPhase.Requested||e._accepting)throw new Error("Cannot accept a verification request in phase ".concat(e.phase));e._accepting=!0;try{var t=e.inner.acceptWithMethods(e.supportedVerificationMethods.map(C));t&&(yield e.outgoingRequestProcessor.makeOutgoingRequest(t))}finally{e._accepting=!1}e.emit(_r(d[12]).VerificationRequestEvent.Change)})()}},{key:"cancel",value:function(e){var t=this;return(0,f.default)(function*(){if(!t._cancelling){t.logger.info("Cancelling verification request with params:",e),t._cancelling=!0;try{var i=t.inner.cancel();i&&(yield t.outgoingRequestProcessor.makeOutgoingRequest(i))}finally{t._cancelling=!1}}})()}},{key:"beginKeyVerification",value:function(e,t){throw new Error("not implemented")}},{key:"startVerification",value:function(e){var t=this;return(0,f.default)(function*(){if(e!==_r(d[13]).VerificationMethod.Sas)throw new Error("Unsupported verification method ".concat(e));if(!(yield t.getOtherDevice()))throw new Error("startVerification(): other device is unknown");var i=yield t.inner.startSas();if(i){var r=(0,n.default)(i,2)[1];yield t.outgoingRequestProcessor.makeOutgoingRequest(r)}if(!t._verifier)throw new Error("Still no verifier after startSas() call");return t._verifier})()}},{key:"scanQRCode",value:function(e){var t=this;return(0,f.default)(function*(){var i=h.QrCodeScan.fromBytes(e),n=yield t.inner.scanQrCode(i);if(!t._verifier)throw new Error("Still no verifier after scanQrCode() call");var r=n.reciprocate();return r&&(yield t.outgoingRequestProcessor.makeOutgoingRequest(r)),t._verifier})()}},{key:"verifier",get:function(){return this.phase===_r(d[12]).VerificationPhase.Started?this._verifier:void 0}},{key:"getQRCodeBytes",value:function(){throw new Error("getQRCodeBytes() unsupported in Rust Crypto; use generateQRCode() instead.")}},{key:"generateQRCode",value:function(){var e=this;return(0,f.default)(function*(){if(!(yield e.getOtherDevice()))throw new Error("generateQRCode(): other device is unknown");var t=yield e.inner.generateQrCode();if(t)return t.toBytes()})()}},{key:"cancellationCode",get:function(){var e,t;return null!==(e=null===(t=this.inner.cancelInfo)||void 0===t?void 0:t.cancelCode())&&void 0!==e?e:null}},{key:"cancellingUserId",get:function(){var e=this.inner.cancelInfo;return e?e.cancelledbyUs()?this.olmMachine.userId.toString():this.inner.otherUserId.toString():void 0}}])})(_r(d[14]).TypedEventEmitter);var k=(function(e){function i(e,n){var o;(0,r.default)(this,i),(o=y(this,i)).inner=e,o.outgoingRequestProcessor=n,(0,t.default)(o,"completionDeferred",void 0),o.completionDeferred=Promise.withResolvers();var c=new WeakRef(o);return e.registerChangesCallback((0,f.default)(function*(){var e;return null===(e=c.deref())||void 0===e?void 0:e.onChange()})),o.completionDeferred.promise.catch(function(){return null}),o}return(0,u.default)(i,e),(0,o.default)(i,[{key:"onChange",value:function(){if(this.inner.isDone())this.completionDeferred.resolve(void 0);else if(this.inner.isCancelled()){var e=this.inner.cancelInfo();this.completionDeferred.reject(new Error("Verification cancelled by ".concat(e.cancelledbyUs()?"us":"them"," with code ").concat(e.cancelCode(),": ").concat(e.reason())))}this.emit(_r(d[12]).VerificationRequestEvent.Change)}},{key:"hasBeenCancelled",get:function(){return this.inner.isCancelled()}},{key:"userId",get:function(){return this.inner.otherUserId.toString()}},{key:"cancel",value:function(e){var t=this.inner.cancel();t&&this.outgoingRequestProcessor.makeOutgoingRequest(t)}},{key:"getShowSasCallbacks",value:function(){return null}},{key:"getReciprocateQrCodeCallbacks",value:function(){return null}}])})(_r(d[14]).TypedEventEmitter),R=_e.RustQrCodeVerifier=(function(e){function i(e,n){var o;return(0,r.default)(this,i),o=y(this,i,[e,n]),(0,t.default)(o,"callbacks",null),o}return(0,u.default)(i,e),(0,o.default)(i,[{key:"onChange",value:function(){var e=this;null===this.callbacks&&this.inner.hasBeenScanned()&&(this.callbacks={confirm:function(){e.confirmScanning()},cancel:function(){return e.cancel()}}),v(i,"onChange",this,3)([])}},{key:"verify",value:function(){var e=this;return(0,f.default)(function*(){null!==e.callbacks&&e.emit(_r(d[12]).VerifierEvent.ShowReciprocateQr,e.callbacks),yield e.completionDeferred.promise})()}},{key:"verificationPhase",get:function(){switch(this.inner.state()){case l.QrState.Created:return _r(d[12]).VerificationPhase.Ready;case l.QrState.Scanned:case l.QrState.Confirmed:case l.QrState.Reciprocated:return _r(d[12]).VerificationPhase.Started;case l.QrState.Done:return _r(d[12]).VerificationPhase.Done;case l.QrState.Cancelled:return _r(d[12]).VerificationPhase.Cancelled;default:throw new Error("Unknown qr code state ".concat(this.inner.state()))}}},{key:"getReciprocateQrCodeCallbacks",value:function(){return this.callbacks}},{key:"confirmScanning",value:function(){var e=this;return(0,f.default)(function*(){var t=e.inner.confirmScanning();t&&(yield e.outgoingRequestProcessor.makeOutgoingRequest(t))})()}}])})(k),m=_e.RustSASVerifier=(function(e){function i(e,n,o){var c;return(0,r.default)(this,i),c=y(this,i,[e,o]),(0,t.default)(c,"callbacks",null),c}return(0,u.default)(i,e),(0,o.default)(i,[{key:"verify",value:function(){var e=this;return(0,f.default)(function*(){yield e.sendAccept(),yield e.completionDeferred.promise})()}},{key:"sendAccept",value:function(){var e=this;return(0,f.default)(function*(){var t=e.inner.accept();t&&(yield e.outgoingRequestProcessor.makeOutgoingRequest(t))})()}},{key:"onChange",value:function(){var e,t=this,n=this;if(v(i,"onChange",this,3)([]),null===this.callbacks){var r=this.inner.emoji(),o=this.inner.decimals();if(void 0===r&&void 0===o)return;var c={};r&&(c.emoji=r.map(function(e){return[e.symbol,e.description]})),o&&(c.decimal=[o[0],o[1],o[2]]),this.callbacks={sas:c,confirm:(e=(0,f.default)(function*(){var e=yield n.inner.confirm();for(var t of e)yield n.outgoingRequestProcessor.makeOutgoingRequest(t)}),function(){return e.apply(this,arguments)}),mismatch:function(){var e=t.inner.cancelWithCode("m.mismatched_sas");e&&t.outgoingRequestProcessor.makeOutgoingRequest(e)},cancel:function(){var e=t.inner.cancelWithCode("m.user");e&&t.outgoingRequestProcessor.makeOutgoingRequest(e)}},this.emit(_r(d[12]).VerifierEvent.ShowSas,this.callbacks)}}},{key:"verificationPhase",get:function(){return _r(d[12]).VerificationPhase.Started}},{key:"getShowSasCallbacks",value:function(){return this.callbacks}},{key:"replaceInner",value:function(e){if(this.inner!=e){this.inner=e;var t=new WeakRef(this);e.registerChangesCallback((0,f.default)(function*(){var e;return null===(e=t.deref())||void 0===e?void 0:e.onChange()})),this.sendAccept(),this.onChange()}}}])})(k),V=(0,t.default)((0,t.default)((0,t.default)((0,t.default)({},_r(d[13]).VerificationMethod.Sas,h.VerificationMethod.SasV1),_r(d[13]).VerificationMethod.ScanQrCode,h.VerificationMethod.QrCodeScanV1),_r(d[13]).VerificationMethod.ShowQrCode,h.VerificationMethod.QrCodeShowV1),_r(d[13]).VerificationMethod.Reciprocate,h.VerificationMethod.ReciprocateV1);function C(e){var t=V[e];if(void 0===t)throw new Error("Unknown verification method ".concat(e));return t}},896,[1,739,21,34,11,12,18,20,23,743,867,764,878,886,762,765]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.keyFromAuthData=function(t,o){if(!t.private_key_salt||!t.private_key_iterations)throw new Error("Salt and/or iterations not found: this backup cannot be restored with a passphrase");return(0,r(d[0]).deriveRecoveryKeyFromPassphrase)(o,t.private_key_salt,t.private_key_iterations,t.private_key_bits)}},897,[877]);
__d(function(g,_r,_i,a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RoomEncryptor=void 0,_e.toRustHistoryVisibility=u;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),i=e(_r(d[4])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?i(s,u,o):s[u]=e[u]);return s})(e,t)})(_r(d[5])),s=o;_e.RoomEncryptor=(function(){return(0,n.default)(function e(n,r,o,u,c,l){var y=this;(0,t.default)(this,e),this.prefixedLogger=n,this.olmMachine=r,this.keyClaimManager=o,this.outgoingRequestManager=u,this.room=c,this.encryptionSettings=l,(0,i.default)(this,"lazyLoadedMembersResolved",!1),(0,i.default)(this,"currentEncryptionPromise",Promise.resolve());var p=c.getJoinedMembers();this.olmMachine.updateTrackedUsers(p.map(function(e){return new s.UserId(e.userId)})).catch(function(e){return y.prefixedLogger.error("Error initializing tracked users",e)})},[{key:"onCryptoEvent",value:function(e){if(JSON.stringify(this.encryptionSettings)!=JSON.stringify(e))throw new Error("Cannot reconfigure an active RoomEncryptor")}},{key:"onRoomMembership",value:function(e){var t=this;(e.membership==_r(d[6]).KnownMembership.Join||e.membership==_r(d[6]).KnownMembership.Invite&&this.room.shouldEncryptForInvitedMembers())&&this.olmMachine.updateTrackedUsers([new o.UserId(e.userId)]).catch(function(e){t.prefixedLogger.error("Unable to update tracked users",e)})}},{key:"prepareForEncryption",value:function(e,t){var n=this;return(0,r.default)(function*(){yield n.encryptEvent(null,e,t)})()}},{key:"encryptEvent",value:function(e,t,n){var i,o=this,s=new(_r(d[7]).LogSpan)(this.prefixedLogger,e?null!==(i=e.getTxnId())&&void 0!==i?i:"":"prepareForEncryption"),u=this.currentEncryptionPromise.catch(function(){}).then((0,r.default)(function*(){yield(0,_r(d[8]).logDuration)(s,"ensureEncryptionSession",(0,r.default)(function*(){yield o.ensureEncryptionSession(s,t,n)})),e&&(yield(0,_r(d[8]).logDuration)(s,"encryptEventInner",(0,r.default)(function*(){yield o.encryptEventInner(s,e)})))}));return this.currentEncryptionPromise=u,u}},{key:"ensureEncryptionSession",value:function(e,t,n){var i=this;return(0,r.default)(function*(){if("m.megolm.v1.aes-sha2"!==i.encryptionSettings.algorithm)throw new Error("Cannot encrypt in ".concat(i.room.roomId," for unsupported algorithm '").concat(i.encryptionSettings.algorithm,"'"));e.debug("Starting encryption");var c=yield i.room.getEncryptionTargetMembers();i.lazyLoadedMembersResolved?(e.debug("Processing outgoing requests in background"),i.outgoingRequestManager.doProcessOutgoingRequests()):(yield(0,_r(d[8]).logDuration)(e,"loadMembersIfNeeded: updateTrackedUsers",(0,r.default)(function*(){yield i.olmMachine.updateTrackedUsers(c.map(function(e){return new s.UserId(e.userId)}))})),e.debug("Updated tracked users"),i.lazyLoadedMembersResolved=!0,e.debug("Processing outgoing requests"),yield(0,_r(d[8]).logDuration)(e,"doProcessOutgoingRequests",(0,r.default)(function*(){yield i.outgoingRequestManager.doProcessOutgoingRequests()}))),e.debug("Encrypting for users (shouldEncryptForInvitedMembers: ".concat(i.room.shouldEncryptForInvitedMembers(),"):"),c.map(function(e){return"".concat(e.userId," (").concat(e.membership,")")}));var l=c.map(function(e){return new o.UserId(e.userId)});yield(0,_r(d[8]).logDuration)(e,"ensureSessionsForUsers",(0,r.default)(function*(){yield i.keyClaimManager.ensureSessionsForUsers(e,l)}));var y=new o.EncryptionSettings;switch(y.historyVisibility=u(i.room.getHistoryVisibility()),y.algorithm=o.EncryptionAlgorithm.MegolmV1AesSha2,"number"==typeof i.encryptionSettings.rotation_period_ms&&(y.rotationPeriod=BigInt(1e3*i.encryptionSettings.rotation_period_ms)),"number"==typeof i.encryptionSettings.rotation_period_msgs&&(y.rotationPeriodMessages=BigInt(i.encryptionSettings.rotation_period_msgs)),n.kind){case _r(d[9]).DeviceIsolationModeKind.AllDevicesIsolationMode:var p,f=null!==(p=i.room.getBlacklistUnverifiedDevices())&&void 0!==p?p:t;y.sharingStrategy=o.CollectStrategy.deviceBasedStrategy(f,n.errorOnVerifiedUserProblems);break;case _r(d[9]).DeviceIsolationModeKind.OnlySignedDevicesIsolationMode:y.sharingStrategy=o.CollectStrategy.identityBasedStrategy()}yield(0,_r(d[8]).logDuration)(e,"shareRoomKey",(0,r.default)(function*(){var e=yield i.olmMachine.shareRoomKey(new o.RoomId(i.room.roomId),l,y);if(e)for(var t of e)yield i.outgoingRequestManager.outgoingRequestProcessor.makeOutgoingRequest(t)}))})()}},{key:"forceDiscardSession",value:function(){var e=this;return(0,r.default)(function*(){(yield e.olmMachine.invalidateGroupSession(new o.RoomId(e.room.roomId)))&&e.prefixedLogger.info("Discarded existing group session")})()}},{key:"encryptEventInner",value:function(e,t){var n=this;return(0,r.default)(function*(){e.debug("Encrypting actual message content");var r,i=new o.RoomId(n.room.roomId),s=t.getType(),u=JSON.stringify(t.getContent());r=t.isState()?yield n.olmMachine.encryptStateEvent(i,s,t.getStateKey(),u):yield n.olmMachine.encryptRoomEvent(i,s,u),t.makeEncrypted(_r(d[10]).EventType.RoomMessageEncrypted,JSON.parse(r),n.olmMachine.identityKeys.curve25519.toBase64(),n.olmMachine.identityKeys.ed25519.toBase64()),e.debug("Encrypted event successfully")})()}}])})();function u(e){switch(e){case _r(d[11]).HistoryVisibility.Invited:return o.HistoryVisibility.Invited;case _r(d[11]).HistoryVisibility.Joined:return o.HistoryVisibility.Joined;case _r(d[11]).HistoryVisibility.Shared:return o.HistoryVisibility.Shared;case _r(d[11]).HistoryVisibility.WorldReadable:return o.HistoryVisibility.WorldReadable}}},898,[1,11,12,743,739,867,767,746,748,877,765,858]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.DecryptionError=void 0;var e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=t(r(d[6])),l=t(r(d[7]));function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}_e.DecryptionError=(function(t){function f(t,e,c){var v,y,E,_;return(0,n.default)(this,f),y=this,E=f,_=[e],E=(0,u.default)(E),(v=(0,o.default)(y,s()?Reflect.construct(E,_||[],(0,u.default)(y).constructor):E.apply(y,_))).code=t,(0,l.default)(v,"detailedString",void 0),v.name="DecryptionError",v.detailedString=p(v,c),v}return(0,c.default)(f,t),(0,e.default)(f)})((0,f.default)(Error));function p(t,e){var n=t.name+"[msg: "+t.message;return e&&(n+=", "+Object.keys(e).map(function(t){return t+": "+e[t]}).join(", ")),n+="]"}},899,[1,12,11,18,20,23,144,739]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);function t(n,t){var u=g[`${__METRO_GLOBAL_PREFIX__}__loadBundleAsync`];if(null!=u){var l=String(n);if(null!=t){var c=t[l];if(null!=c)return u(c)}}}function u(n,u){var l=t(n,u),c=function(){return r.importAll(n)};return null!=l?l.then(c):c()}function l(n,t,u){return c.apply(this,arguments)}function c(){return(c=n(function*(n,t,l){return u(n,t)})).apply(this,arguments)}l.unstable_importMaybeSync=function(n,t){return u(n,t)},l.prefetch=function(n,u,l){var c;null==(c=t(n,u))||c.then(function(){},function(){})},m.exports=l},900,[356]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateDelayedEventAction=void 0,e.isSendDelayedEventRequestOpts=function(n){if("parent_delay_id"in n&&"string"!=typeof n.parent_delay_id)return!1;if("delay"in n&&"number"!=typeof n.delay)return!0;return"delay"in n||"parent_delay_id"in n};e.UpdateDelayedEventAction=(function(n){return n.Cancel="cancel",n.Restart="restart",n.Send="send",n})({})},901,[]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.eventMapperFor=function(e,t){var r=Boolean(t.preventReEmit),o=!1!==t.decrypt;return function t(c){var v,p=e.getRoom(c.room_id);p&&void 0===c.state_key&&(v=p.findEventById(c.event_id)),!v||v.status?v=new(_r(d[2]).MatrixEvent)(c):(v.setUnsigned(n(n({},v.getUnsigned()),c.unsigned)),r=!0);var l=v.getServerAggregatedRelation(_r(d[3]).RelationType.Replace);if(null!=l&&l.content){var u=t(l);v.makeReplaced(u)}var f=null==p?void 0:p.findThreadForEvent(v);return f&&v.setThread(f),v.isEncrypted()&&(r||e.reEmitter.reEmit(v,[_r(d[2]).MatrixEventEvent.Decrypted]),o&&e.decryptEventIfNeeded(v)),r||(e.reEmitter.reEmit(v,[_r(d[2]).MatrixEventEvent.Replaced,_r(d[2]).MatrixEventEvent.VisibilityChange]),null==p||p.reEmitter.reEmit(v,[_r(d[2]).MatrixEventEvent.BeforeRedaction])),v}};var t=e(_r(d[1]));function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach(function(r){(0,t.default)(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}},902,[1,739,771,765]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.getRelationsThreadFilter=function(e){return function(n){var t,o;return(null===(t=n.content)||void 0===t||null===(t=t["m.relates_to"])||void 0===t?void 0:t.event_id)!==e||(null===(o=n.content)||void 0===o||null===(o=o["m.relates_to"])||void 0===o?void 0:o.rel_type)===r(d[0]).THREAD_RELATION_TYPE.name}}},903,[795]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SearchOrderBy=void 0;e.SearchOrderBy=(function(n){return n.Recent="recent",n.Rank="rank",n})({})},904,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SearchResult=void 0;var t=e(r(d[1])),n=e(r(d[2]));_e.SearchResult=(function(){function e(n,o){(0,t.default)(this,e),this.rank=n,this.context=o}return(0,n.default)(e,null,[{key:"fromJson",value:function(t,n){var o=t.context||{},u=(o.events_before||[]).map(n),s=(o.events_after||[]).map(n),f=new(r(d[3]).EventContext)(n(t.result)),l=f.ourEvent.threadRootId;return u=u.filter(function(e){return e.threadRootId===l}),s=s.filter(function(e){return e.threadRootId===l}),f.setPaginateToken(o.start,!0),f.addEvents(u,!0),f.addEvents(s,!1),f.setPaginateToken(o.end,!1),new e(t.rank,f)}}])})()},905,[1,11,12,906]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.EventContext=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3]));e.EventContext=(function(){return(0,u.default)(function t(u){(0,o.default)(this,t),this.ourEvent=u,(0,n.default)(this,"timeline",void 0),(0,n.default)(this,"ourEventIndex",0),(0,n.default)(this,"paginateTokens",(0,n.default)((0,n.default)({},r(d[4]).Direction.Backward,null),r(d[4]).Direction.Forward,null)),this.timeline=[u]},[{key:"getEvent",value:function(){return this.timeline[this.ourEventIndex]}},{key:"getTimeline",value:function(){return this.timeline}},{key:"getOurEventIndex",value:function(){return this.ourEventIndex}},{key:"getPaginateToken",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.paginateTokens[t?r(d[4]).Direction.Backward:r(d[4]).Direction.Forward]}},{key:"setPaginateToken",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.paginateTokens[n?r(d[4]).Direction.Backward:r(d[4]).Direction.Forward]=null!=t?t:null}},{key:"addEvents",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(this.timeline=t.concat(this.timeline),this.ourEventIndex+=t.length):this.timeline=this.timeline.concat(t)}}])})()},906,[1,739,11,12,810]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AutoDiscoveryError=_e.AutoDiscoveryAction=_e.AutoDiscovery=void 0;var o=e(r(d[1])),t=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),l=_e.AutoDiscoveryAction=(function(e){return e.SUCCESS="SUCCESS",e.IGNORE="IGNORE",e.PROMPT="PROMPT",e.FAIL_PROMPT="FAIL_PROMPT",e.FAIL_ERROR="FAIL_ERROR",e})({}),R=_e.AutoDiscoveryError=(function(e){return e.Invalid="Invalid homeserver discovery response",e.GenericFailure="Failed to get autodiscovery configuration from server",e.InvalidHsBaseUrl="Invalid base_url for m.homeserver",e.InvalidHomeserver="Homeserver URL does not appear to be a valid Matrix homeserver",e.InvalidIsBaseUrl="Invalid base_url for m.identity_server",e.InvalidIdentityServer="Identity server URL does not appear to be a valid identity server",e.InvalidIs="Invalid identity server discovery response",e.MissingWellknown="No .well-known JSON file found",e.InvalidJson="Invalid JSON",e.UnsupportedHomeserverSpecVersion="The homeserver does not meet the version requirements",e})({}),v=_e.AutoDiscovery=(function(){function e(){(0,o.default)(this,e)}return(0,t.default)(e,null,[{key:"fromDiscoveryConfig",value:function(o){var t=this;return(0,n.default)(function*(){var n,s={"m.homeserver":{state:e.FAIL_ERROR,error:e.ERROR_INVALID,base_url:null},"m.identity_server":{state:e.PROMPT,error:null,base_url:null}};if(null==o||!o["m.homeserver"])return r(d[5]).logger.error("No m.homeserver key in config"),s["m.homeserver"].state=e.FAIL_PROMPT,s["m.homeserver"].error=e.ERROR_INVALID,Promise.resolve(s);if(!o["m.homeserver"].base_url)return r(d[5]).logger.error("No m.homeserver base_url in config"),s["m.homeserver"].state=e.FAIL_PROMPT,s["m.homeserver"].error=e.ERROR_INVALID_HS_BASE_URL,Promise.resolve(s);var R=t.sanitizeWellKnownUrl(o["m.homeserver"].base_url);if(!R)return r(d[5]).logger.error("Invalid base_url for m.homeserver"),s["m.homeserver"].error=e.ERROR_INVALID_HS_BASE_URL,Promise.resolve(s);var v=yield t.fetchWellKnownObject("".concat(R,"/_matrix/client/versions"));if(!v||!Array.isArray(null===(n=v.raw)||void 0===n?void 0:n.versions))return r(d[5]).logger.error("Invalid /versions response"),s["m.homeserver"].error=e.ERROR_INVALID_HOMESERVER,s["m.homeserver"].base_url=R,Promise.resolve(s);var u=new Set(v.raw.versions),_=!1;for(var I of r(d[6]).SUPPORTED_MATRIX_VERSIONS)if(u.has(I)){_=!0;break}if(!_)return r(d[5]).logger.error("Homeserver does not meet version requirements"),s["m.homeserver"].error=e.ERROR_UNSUPPORTED_HOMESERVER_SPEC_VERSION,s["m.homeserver"].base_url=R,Promise.resolve(s);s["m.homeserver"]={state:e.SUCCESS,error:null,base_url:R};var c="";if(o["m.identity_server"]){var f={"m.homeserver":s["m.homeserver"],"m.identity_server":{state:e.FAIL_PROMPT,error:e.ERROR_INVALID_IS,base_url:null}};if(!(c=t.sanitizeWellKnownUrl(o["m.identity_server"].base_url)))return r(d[5]).logger.error("Invalid base_url for m.identity_server"),f["m.identity_server"].error=e.ERROR_INVALID_IS_BASE_URL,Promise.resolve(f);var E=yield t.fetchWellKnownObject("".concat(c,"/_matrix/identity/v2"));if(null==E||!E.raw||E.action!==l.SUCCESS)return r(d[5]).logger.error("Invalid /v2 response"),f["m.identity_server"].error=e.ERROR_INVALID_IDENTITY_SERVER,f["m.identity_server"].base_url=c,Promise.resolve(f)}return c&&c.toString().length>0&&(s["m.identity_server"]={state:e.SUCCESS,error:null,base_url:c}),Object.keys(o).forEach(function(e){if("m.homeserver"===e||"m.identity_server"===e){var t=["error","state","base_url"];for(var n of Object.keys(o[e]))t.includes(n)||(s[e][n]=o[e][n])}else s[e]=o[e]}),Promise.resolve(s)})()}},{key:"findClientConfig",value:function(o){var t=this;return(0,n.default)(function*(){if(!o||"string"!=typeof o||0===o.length)throw new Error("'domain' must be a string of non-zero length");var n={"m.homeserver":{state:e.FAIL_ERROR,error:e.ERROR_INVALID,base_url:null},"m.identity_server":{state:e.PROMPT,error:null,base_url:null}},s=o.includes("://")?o:"https://".concat(o),R=yield t.fetchWellKnownObject("".concat(s,"/.well-known/matrix/client"));return R&&R.action===l.SUCCESS?e.fromDiscoveryConfig(R.raw):(r(d[5]).logger.error("No response or error when parsing .well-known"),R.reason&&r(d[5]).logger.error(R.reason),R.action===l.IGNORE?n["m.homeserver"]={state:e.PROMPT,error:null,base_url:null}:(n["m.homeserver"].state=e.FAIL_PROMPT,n["m.homeserver"].error=e.ERROR_INVALID),Promise.resolve(n))})()}},{key:"getRawClientConfig",value:function(e){var o=this;return(0,n.default)(function*(){var t;if(!e||"string"!=typeof e||0===e.length)throw new Error("'domain' must be a string of non-zero length");var n=yield o.fetchWellKnownObject("https://".concat(e,"/.well-known/matrix/client"));return n&&null!==(t=n.raw)&&void 0!==t?t:{}})()}},{key:"sanitizeWellKnownUrl",value:function(e){if(!e)return!1;try{var o,t;try{t=new URL(e)}catch(e){r(d[5]).logger.error("Could not parse url",e)}if(null===(o=t)||void 0===o||!o.hostname)return!1;if("http:"!==t.protocol&&"https:"!==t.protocol)return!1;var n=t.port?":".concat(t.port):"",s=t.pathname?t.pathname:"",l="".concat(t.protocol,"//").concat(t.hostname).concat(n).concat(s);return l.endsWith("/")&&(l=l.substring(0,l.length-1)),l}catch(e){return r(d[5]).logger.error(e),!1}}},{key:"fetch",value:function(e,o){return this.fetchFn?this.fetchFn(e,o):globalThis.fetch(e,o)}},{key:"setFetchFn",value:function(o){e.fetchFn=o}},{key:"fetchWellKnownObject",value:function(o){return(0,n.default)(function*(){var t;try{if(404===(t=yield e.fetch(o,{method:r(d[7]).Method.Get,signal:(0,r(d[7]).timeoutSignal)(5e3)})).status)return{raw:{},action:l.IGNORE,reason:e.ERROR_MISSING_WELLKNOWN};if(200!==t.status)return{raw:{},action:l.FAIL_PROMPT,reason:"General failure"}}catch(e){var n=e,s="";return"object"==typeof n&&(s=null==n?void 0:n.message),{error:n,raw:{},action:l.FAIL_PROMPT,reason:s||"General failure"}}try{return{raw:yield t.json(),action:l.SUCCESS}}catch(o){var R=o;return{error:R,raw:{},action:l.FAIL_PROMPT,reason:"SyntaxError"===(null==R?void 0:R.name)?e.ERROR_INVALID_JSON:e.ERROR_INVALID}}})()}}])})();(0,s.default)(v,"ERROR_INVALID",R.Invalid),(0,s.default)(v,"ERROR_GENERIC_FAILURE",R.GenericFailure),(0,s.default)(v,"ERROR_INVALID_HS_BASE_URL",R.InvalidHsBaseUrl),(0,s.default)(v,"ERROR_INVALID_HOMESERVER",R.InvalidHomeserver),(0,s.default)(v,"ERROR_INVALID_IS_BASE_URL",R.InvalidIsBaseUrl),(0,s.default)(v,"ERROR_INVALID_IDENTITY_SERVER",R.InvalidIdentityServer),(0,s.default)(v,"ERROR_INVALID_IS",R.InvalidIs),(0,s.default)(v,"ERROR_MISSING_WELLKNOWN",R.MissingWellknown),(0,s.default)(v,"ERROR_INVALID_JSON",R.InvalidJson),(0,s.default)(v,"ERROR_UNSUPPORTED_HOMESERVER_SPEC_VERSION",R.UnsupportedHomeserverSpecVersion),(0,s.default)(v,"ALL_ERRORS",Object.keys(R)),(0,s.default)(v,"FAIL_ERROR",l.FAIL_ERROR),(0,s.default)(v,"FAIL_PROMPT",l.FAIL_PROMPT),(0,s.default)(v,"PROMPT",l.PROMPT),(0,s.default)(v,"SUCCESS",l.SUCCESS),(0,s.default)(v,"fetchFn",void 0)},907,[1,11,12,743,739,746,908,814]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SUPPORTED_MATRIX_VERSIONS=e.MINIMUM_MATRIX_VERSION=e.MAXIMUM_MATRIX_VERSION=void 0;var M=e.SUPPORTED_MATRIX_VERSIONS=["v1.1","v1.2","v1.3","v1.4","v1.5","v1.6","v1.7","v1.8","v1.9"];e.MINIMUM_MATRIX_VERSION=M[0],e.MAXIMUM_MATRIX_VERSION=M[M.length-1]},908,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SERVICE_TYPES=void 0;e.SERVICE_TYPES=(function(E){return E.IS="SERVICE_TYPE_IS",E.IM="SERVICE_TYPE_IM",E})({})},909,[]);
__d(function(g,_r,_i,_a,m,_e,_d){var e=_r(_d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TreePermissions=_e.MSC3089TreeSpace=_e.DEFAULT_TREE_POWER_LEVELS_TEMPLATE=void 0;var t=e(_r(_d[1])),r=e(_r(_d[2])),n=e(_r(_d[3])),o=e(_r(_d[4])),i=e(_r(_d[5]));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}_e.DEFAULT_TREE_POWER_LEVELS_TEMPLATE={invite:100,kick:100,ban:100,redact:50,state_default:50,events_default:50,users_default:0,events:(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},_r(_d[6]).EventType.RoomPowerLevels,100),_r(_d[6]).EventType.RoomHistoryVisibility,100),_r(_d[6]).EventType.RoomTombstone,100),_r(_d[6]).EventType.RoomEncryption,100),_r(_d[6]).EventType.RoomName,50),_r(_d[6]).EventType.RoomMessage,50),_r(_d[6]).EventType.RoomMessageEncrypted,50),_r(_d[6]).EventType.Sticker,50),users:{}};var u=_e.TreePermissions=(function(e){return e.Viewer="viewer",e.Editor="editor",e.Owner="owner",e})({});_e.MSC3089TreeSpace=(function(){return(0,n.default)(function e(t,n){if((0,r.default)(this,e),this.client=t,this.roomId=n,(0,o.default)(this,"room",void 0),this.room=this.client.getRoom(this.roomId),!this.room)throw new Error("Unknown room")},[{key:"id",get:function(){return this.roomId}},{key:"isTopLevel",get:function(){var e=this.room.currentState.getStateEvents(_r(_d[6]).EventType.SpaceParent);return null==e||!e.length||e.every(function(e){var t;return!(null!==(t=e.getContent())&&void 0!==t&&t.via)})}},{key:"setName",value:function(e){var t=this;return(0,i.default)(function*(){yield t.client.sendStateEvent(t.roomId,_r(_d[6]).EventType.RoomName,{name:e},"")})()}},{key:"invite",value:function(e){var r=arguments,n=this;return(0,i.default)(function*(){var o=!(r.length>1&&void 0!==r[1])||r[1],i=[n.retryInvite(e)];o&&i.push.apply(i,(0,t.default)(n.getDirectories().map(function(t){return t.invite(e,o)}))),yield Promise.all(i)})()}},{key:"retryInvite",value:function(e){var t=this;return(0,i.default)(function*(){yield(0,_r(_d[7]).simpleRetryOperation)(function(){return t.client.invite(t.roomId,e)},function(e){return!(e instanceof _r(_d[8]).MatrixError&&"M_FORBIDDEN"===e.errcode)})})()}},{key:"setPermissions",value:function(e,t){var r=this;return(0,i.default)(function*(){var n,o=r.room.currentState.getStateEvents(_r(_d[6]).EventType.RoomPowerLevels,"");if(Array.isArray(o))throw new Error("Unexpected return type for power levels");var i=(null==o?void 0:o.getContent())||{},a=i.users_default||0,l=i.events_default||50,v=(null===(n=i.events)||void 0===n?void 0:n[_r(_d[6]).EventType.RoomPowerLevels])||100,d=i.users||{};switch(t){case u.Viewer:d[e]=a;break;case u.Editor:d[e]=l;break;case u.Owner:d[e]=v;break;default:throw new Error("Invalid role: "+t)}i.users=d,yield r.client.sendStateEvent(r.roomId,_r(_d[6]).EventType.RoomPowerLevels,i,"")})()}},{key:"getPermissions",value:function(e){var t,r,n=this.room.currentState.getStateEvents(_r(_d[6]).EventType.RoomPowerLevels,"");if(Array.isArray(n))throw new Error("Unexpected return type for power levels");var o=(null==n?void 0:n.getContent())||{},i=o.users_default||0,a=o.events_default||50,l=(null===(t=o.events)||void 0===t?void 0:t[_r(_d[6]).EventType.RoomPowerLevels])||100,v=(null===(r=o.users)||void 0===r?void 0:r[e])||i;return v>=l?u.Owner:v>=a?u.Editor:u.Viewer}},{key:"createDirectory",value:function(e){var t=this;return(0,i.default)(function*(){var r=yield t.client.unstableCreateFileTree(e);return yield t.client.sendStateEvent(t.roomId,_r(_d[6]).EventType.SpaceChild,{via:[t.client.getDomain()]},r.roomId),yield t.client.sendStateEvent(r.roomId,_r(_d[6]).EventType.SpaceParent,{via:[t.client.getDomain()]},t.roomId),r})()}},{key:"getDirectories",value:function(){var e=[],t=this.room.currentState.getStateEvents(_r(_d[6]).EventType.SpaceChild);for(var r of t)try{var n=r.getStateKey();if(n){var o=this.client.unstableGetFileTreeSpace(n);o&&e.push(o)}}catch(e){_r(_d[9]).logger.warn("Unable to create tree space instance for listing. Are we joined?",e)}return e}},{key:"getDirectory",value:function(e){return this.getDirectories().find(function(t){return t.roomId===e})}},{key:"delete",value:function(){var e=this;return(0,i.default)(function*(){var t=e.getDirectories();for(var r of t)yield r.delete();var n=[_r(_d[10]).KnownMembership.Invite,_r(_d[10]).KnownMembership.Knock,_r(_d[10]).KnownMembership.Join],o=e.room.currentState.getStateEvents(_r(_d[6]).EventType.RoomMember);for(var i of o){if(i.getStateKey()!==e.client.getUserId()&&n.includes(i.getContent().membership)){var a=i.getStateKey();if(!a)throw new Error("State key not found for branch");yield e.client.kick(e.roomId,a,"Room deleted")}}yield e.client.leave(e.roomId)})()}},{key:"getOrderedChildren",value:function(e){var t=this,r=e.map(function(e){return{roomId:e.getStateKey(),order:e.getContent().order}}).filter(function(e){return e.roomId});return r.sort(function(e,r){if(e.order&&!r.order)return-1;if(!e.order&&r.order)return 1;if(e.order||r.order)return(0,_r(_d[7]).lexicographicCompare)(e.order,r.order);var n,o,i,a,l=t.client.getRoom(e.roomId),u=t.client.getRoom(r.roomId);if(!l||!u)return(0,_r(_d[7]).lexicographicCompare)(e.roomId,r.roomId);var v=null!==(n=null===(o=l.currentState.getStateEvents(_r(_d[6]).EventType.RoomCreate,""))||void 0===o?void 0:o.getTs())&&void 0!==n?n:0,d=null!==(i=null===(a=u.currentState.getStateEvents(_r(_d[6]).EventType.RoomCreate,""))||void 0===a?void 0:a.getTs())&&void 0!==i?i:0;return v===d?(0,_r(_d[7]).lexicographicCompare)(e.roomId,r.roomId):v-d}),r}},{key:"getParentRoom",value:function(){var e=this.room.currentState.getStateEvents(_r(_d[6]).EventType.SpaceParent)[0];if(!e)throw new Error("Expected to have a parent in a non-top level space");var t=e.getStateKey();if(!t)throw new Error("No state key found for parent");var r=this.client.getRoom(t);if(!r)throw new Error("Unable to locate room for parent");return r}},{key:"getOrder",value:function(){var e=this;if(this.isTopLevel)return-1;var t=this.getParentRoom().currentState.getStateEvents(_r(_d[6]).EventType.SpaceChild);return this.getOrderedChildren(t).findIndex(function(t){return t.roomId===e.roomId})}},{key:"setOrder",value:function(e){var t=this;return(0,i.default)(function*(){var r;if(t.isTopLevel)throw new Error("Cannot set order of top level spaces currently");var n=t.getParentRoom(),o=n.currentState.getStateEvents(_r(_d[6]).EventType.SpaceChild),i=t.getOrderedChildren(o);e=Math.max(Math.min(e,i.length-1),0);var a=t.getOrder()<e;a&&e===i.length-1?e--:a||0!==e||e++;var u=i[a?e:e-1],v=i[a?e+1:e],d=_r(_d[7]).DEFAULT_ALPHABET[0],s=!1;if(u)if(e===i.length-1)null!=v&&v.order&&(d=(0,_r(_d[7]).nextString)(v.order));else{var c=null==u?void 0:u.order,f=null==v?void 0:v.order;c&&f?d=c===f?(0,_r(_d[7]).nextString)(c):(0,_r(_d[7]).averageBetweenStrings)(c,f):c?d=(0,_r(_d[7]).nextString)(c):f?d=(0,_r(_d[7]).prevString)(f):s=!0}else null!=v&&v.order&&(d=(0,_r(_d[7]).prevString)(v.order));if(s){for(var y,p=0;p<=e;p++){var E=i[p];if(0===p&&(y=E.order),E.order)y=E.order;else{var h;y=y?(0,_r(_d[7]).nextString)(y):_r(_d[7]).DEFAULT_ALPHABET[0];var S=n.currentState.getStateEvents(_r(_d[6]).EventType.SpaceChild,E.roomId),T=null!==(h=null==S?void 0:S.getContent())&&void 0!==h?h:{via:[t.client.getDomain()]};yield t.client.sendStateEvent(n.roomId,_r(_d[6]).EventType.SpaceChild,l(l({},T),{},{order:y}),E.roomId)}}y&&(d=(0,_r(_d[7]).nextString)(y))}var w=n.currentState.getStateEvents(_r(_d[6]).EventType.SpaceChild,t.roomId),I=null!==(r=null==w?void 0:w.getContent())&&void 0!==r?r:{via:[t.client.getDomain()]};yield t.client.sendStateEvent(n.roomId,_r(_d[6]).EventType.SpaceChild,l(l({},I),{},{order:d}),t.roomId)})()}},{key:"createFile",value:function(e,t,r,n){var a=this;return(0,i.default)(function*(){var i=(yield a.client.uploadContent(t,{includeFilename:!1})).content_uri;r.url=i;var u={msgtype:_r(_d[6]).MsgType.File,body:e,url:i,file:r};(n=null!=n?n:{})["m.new_content"]&&(n["m.new_content"]=u);var v=yield a.client.sendMessage(a.roomId,l(l(l({},n),u),{},(0,o.default)({},_r(_d[6]).UNSTABLE_MSC3089_LEAF.name,{})));return yield a.client.sendStateEvent(a.roomId,_r(_d[6]).UNSTABLE_MSC3089_BRANCH.name,{active:!0,name:e},v.event_id),v})()}},{key:"getFile",value:function(e){var t=this.room.currentState.getStateEvents(_r(_d[6]).UNSTABLE_MSC3089_BRANCH.name,e);return t?new(_r(_d[11]).MSC3089Branch)(this.client,t,this):null}},{key:"listFiles",value:function(){return this.listAllFiles().filter(function(e){return e.isActive})}},{key:"listAllFiles",value:function(){var e,t=this;return(null!==(e=this.room.currentState.getStateEvents(_r(_d[6]).UNSTABLE_MSC3089_BRANCH.name))&&void 0!==e?e:[]).map(function(e){return new(_r(_d[11]).MSC3089Branch)(t.client,e,t)})}}])})()},910,[1,42,11,12,739,743,765,748,814,746,767,911]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MSC3089Branch=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),l=e(_r(d[5]));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}_e.MSC3089Branch=(function(){return(0,r.default)(function e(t,r,o){(0,n.default)(this,e),this.client=t,this.indexEvent=r,this.directory=o},[{key:"id",get:function(){var e=this.indexEvent.getStateKey();if(!e)throw new Error("State key not found for branch");return e}},{key:"isActive",get:function(){return!0===this.indexEvent.getContent().active}},{key:"version",get:function(){var e;return null!==(e=this.indexEvent.getContent().version)&&void 0!==e?e:1}},{key:"roomId",get:function(){return this.indexEvent.getRoomId()}},{key:"delete",value:function(){var e=this;return(0,l.default)(function*(){yield e.client.sendStateEvent(e.roomId,_r(d[6]).UNSTABLE_MSC3089_BRANCH.name,{},e.id),yield e.client.redactEvent(e.roomId,e.id);var t=(yield e.getVersionHistory())[1];t&&(yield t.delete())})()}},{key:"getName",value:function(){return this.indexEvent.getContent().name||"Unnamed File"}},{key:"setName",value:function(e){var t=this;return(0,l.default)(function*(){yield t.client.sendStateEvent(t.roomId,_r(d[6]).UNSTABLE_MSC3089_BRANCH.name,u(u({},t.indexEvent.getContent()),{},{name:e}),t.id)})()}},{key:"isLocked",value:function(){return this.indexEvent.getContent().locked||!1}},{key:"setLocked",value:function(e){var t=this;return(0,l.default)(function*(){yield t.client.sendStateEvent(t.roomId,_r(d[6]).UNSTABLE_MSC3089_BRANCH.name,u(u({},t.indexEvent.getContent()),{},{locked:e}),t.id)})()}},{key:"getFileInfo",value:function(){var e=this;return(0,l.default)(function*(){var t=(yield e.getFileEvent()).getOriginalContent().file,n=e.client.mxcUrlToHttp(t.url);if(!n)throw new Error("No HTTP URL available for ".concat(t.url));return{info:t,httpUrl:n}})()}},{key:"getFileEvent",value:function(){var e=this;return(0,l.default)(function*(){var t=e.client.getRoom(e.roomId);if(!t)throw new Error("Unknown room");for(var n=t.getUnfilteredTimelineSet().findEventById(e.id);!n&&t.getLiveTimeline().getState(_r(d[7]).EventTimeline.BACKWARDS).paginationToken;)yield e.client.scrollback(t,100),n=t.getUnfilteredTimelineSet().findEventById(e.id);if(!n)throw new Error("Failed to find event");return yield e.client.decryptEventIfNeeded(n),n})()}},{key:"createNewVersion",value:function(e,t,n,r){var o=this;return(0,l.default)(function*(){var l=yield o.directory.createFile(e,t,n,u(u({},null!=r?r:{}),{},{"m.new_content":!0,"m.relates_to":{rel_type:_r(d[6]).RelationType.Replace,event_id:o.id}}));return yield o.client.sendStateEvent(o.roomId,_r(d[6]).UNSTABLE_MSC3089_BRANCH.name,{active:!0,name:e,version:o.version+1},l.event_id),yield o.client.sendStateEvent(o.roomId,_r(d[6]).UNSTABLE_MSC3089_BRANCH.name,u(u({},o.indexEvent.getContent()),{},{active:!1}),o.id),l})()}},{key:"getVersionHistory",value:function(){var e=this;return(0,l.default)(function*(){var n=[];n.push(e);var r=e.client.getRoom(e.roomId);if(!r)throw new Error("Invalid or unknown room");var o,l=(0,t.default)(r.getLiveTimeline().getEvents()).reverse(),c=yield e.getFileEvent();do{if(o=l.find(function(e){return e.replacingEventId()===c.getId()})){var u=e.directory.getFile(o.getId());if(!u)break;n.push(u),c=o}}while(o);return n})()}}])})()},911,[1,42,11,12,739,743,765,810]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))}),Object.keys(r(d[1])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[1])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[1])[n]}}))}),Object.keys(r(d[2])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[2])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[2])[n]}}))}),Object.keys(r(d[3])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[3])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[3])[n]}}))}),Object.keys(r(d[4])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[4])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[4])[n]}}))}),Object.keys(r(d[5])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[5])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[5])[n]}}))})},912,[913,918,916,919,920,917]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.generateScope=_e.generateOidcAuthorizationUrl=_e.generateAuthorizationUrl=_e.generateAuthorizationParams=_e.completeAuthorizationCodeGrant=void 0;var r=e(_r(d[1])),t=e(_r(d[2]));function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}var s=_e.generateScope=function(e){var r=null!=e?e:(0,_r(d[3]).secureRandomString)(10);return"openid urn:matrix:org.matrix.msc2967.client:api:* urn:matrix:org.matrix.msc2967.client:device:".concat(r)},c=(function(){var e=(0,t.default)(function*(e){if(!globalThis.crypto.subtle)return _r(d[4]).logger.warn("A secure context is required to generate code challenge. Using plain text code challenge"),e;var r=yield(0,_r(d[5]).sha256)(e);return(0,_r(d[6]).encodeUnpaddedBase64Url)(r)});return function(r){return e.apply(this,arguments)}})(),l=(_e.generateAuthorizationParams=function(e){var r=e.redirectUri;return{scope:s(),redirectUri:r,state:(0,_r(d[3]).secureRandomString)(8),nonce:(0,_r(d[3]).secureRandomString)(8),codeVerifier:(0,_r(d[3]).secureRandomString)(64)}},_e.generateAuthorizationUrl=(function(){var e=(0,t.default)(function*(e,r,t){var n=t.scope,o=t.redirectUri,s=t.state,l=t.nonce,u=t.codeVerifier,p=new URL(e);return p.searchParams.append("response_mode","query"),p.searchParams.append("response_type","code"),p.searchParams.append("redirect_uri",o),p.searchParams.append("client_id",r),p.searchParams.append("state",s),p.searchParams.append("scope",n),p.searchParams.append("nonce",l),p.searchParams.append("code_challenge_method","S256"),p.searchParams.append("code_challenge",yield c(u)),p.toString()});return function(r,t,n){return e.apply(this,arguments)}})(),_e.generateOidcAuthorizationUrl=(function(){var e=(0,t.default)(function*(e){var r=e.metadata,t=e.redirectUri,n=e.clientId,c=e.homeserverUrl,l=e.identityServerUrl,u=e.nonce,p=e.prompt,h=e.urlState,f=e.loginHint,S=s(),v=new(_r(d[7]).OidcClient)(o(o({},r),{},{client_id:n,redirect_uri:t,authority:r.issuer,response_mode:"query",response_type:"code",scope:S,stateStore:new(_r(d[7]).WebStorageStateStore)({prefix:"mx_oidc_",store:window.sessionStorage})})),y={homeserverUrl:c,nonce:u,identityServerUrl:l};return(yield v.createSigninRequest({state:y,nonce:u,prompt:p,url_state:h,login_hint:f})).url});return function(r){return e.apply(this,arguments)}})(),function(e){return{id_token:e.id_token,scope:e.scope,expires_at:e.expires_at,refresh_token:e.refresh_token,access_token:e.access_token,token_type:"Bearer"}});_e.completeAuthorizationCodeGrant=(function(){var e=(0,t.default)(function*(e,r){var t=new URL(window.location.origin);t.searchParams.append("code",e),t.searchParams.append("state",r),_r(d[7]).Log.setLogger(_r(d[4]).logger);try{var n=new(_r(d[7]).SigninResponse)(t.searchParams),s=new(_r(d[7]).WebStorageStateStore)({prefix:"mx_oidc_",store:window.sessionStorage}),c=yield s.get(n.state);if(!c)throw new Error(_r(d[8]).OidcError.MissingOrInvalidStoredState);var u=yield _r(d[7]).SigninState.fromStorageString(c),p=new(_r(d[7]).OidcClient)(o(o({},u),{},{stateStore:s})),h=yield p.processSigninResponse(t.href),f=h.userState;(0,_r(d[9]).validateStoredUserState)(f),(0,_r(d[9]).validateBearerTokenResponse)(h),(0,_r(d[9]).validateIdToken)(h.id_token,p.settings.authority,p.settings.client_id,f.nonce);var S=l(h);return{oidcClientSettings:{clientId:p.settings.client_id,issuer:p.settings.authority},tokenResponse:S,homeserverUrl:f.homeserverUrl,identityServerUrl:f.identityServerUrl,idTokenClaims:h.profile}}catch(e){_r(d[4]).logger.error("Oidc login failed",e);var v=e.message;if(Object.values(_r(d[8]).OidcError).includes(v))throw e;throw new Error(_r(d[8]).OidcError.CodeExchangeFailed)}});return function(r,t){return e.apply(this,arguments)}})()},913,[1,739,743,744,746,842,745,914,916,917]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.WebStorageStateStore=_e.Version=_e.UserManagerSettingsStore=_e.UserManager=_e.User=_e.State=_e.SignoutResponse=_e.SigninState=_e.SigninResponse=_e.SessionMonitor=_e.OidcClientSettingsStore=_e.OidcClient=_e.MetadataService=_e.Logger=_e.Log=_e.IndexedDbDPoPStore=_e.InMemoryWebStorage=_e.ErrorTimeout=_e.ErrorResponse=_e.DPoPState=_e.CheckSessionIFrame=_e.AccessTokenEvents=void 0;var t=e(_r(d[1])),i=e(_r(d[2])),r=e(_r(d[3])),n=e(_r(d[4])),s=e(_r(d[5])),o=e(_r(d[6])),u=e(_r(d[7])),l=e(_r(d[8])),c=e(_r(d[9])),h=e(_r(d[10])),p=e(_r(d[11])),f=e(_r(d[12])),_=["timeoutInSeconds"],v=["grant_type","redirect_uri","client_id","client_secret","extraHeaders"],y=["grant_type","client_id","client_secret","scope"],w=["grant_type","client_id","client_secret","timeoutInSeconds","extraHeaders"],k=["url","authority","client_id","redirect_uri","response_type","scope","state_data","response_mode","request_type","client_secret","nonce","url_state","resource","skipUserInfo","extraQueryParams","extraTokenParams","disablePKCE","dpopJkt","omitScopeWhenRequesting"],S=["redirectMethod"],b=["popupWindowFeatures","popupWindowTarget","popupSignal","popupAbortOnClose"],T=["silentRequestTimeoutInSeconds"],E=["silentRequestTimeoutInSeconds"],I=["redirectMethod"],P=["popupWindowFeatures","popupWindowTarget","popupSignal"],x=["silentRequestTimeoutInSeconds"];function R(e,t,i){return t=(0,s.default)(t),(0,r.default)(e,C()?Reflect.construct(t,i||[],(0,s.default)(e).constructor):t.apply(e,i))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function U(e,t,i,r){var n=(0,o.default)((0,s.default)(1&r?e.prototype:e),t,i);return 2&r&&"function"==typeof n?function(e){return n.apply(i,e)}:n}var O,A,q,j={debug:function(){},info:function(){},warn:function(){},error:function(){}},N=_e.Log=(function(e){return e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e})(N||{});(q=N||(_e.Log=N={})).reset=function(){O=3,A=j},q.setLevel=function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");O=e},q.setLogger=function(e){A=e};var H=_e.Logger=(function(){function e(t){(0,p.default)(this,e),this._name=t}return(0,f.default)(e,[{key:"debug",value:function(){if(O>=4){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];(t=A).debug.apply(t,[e._format(this._name,this._method)].concat(r))}}},{key:"info",value:function(){if(O>=3){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];(t=A).info.apply(t,[e._format(this._name,this._method)].concat(r))}}},{key:"warn",value:function(){if(O>=2){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];(t=A).warn.apply(t,[e._format(this._name,this._method)].concat(r))}}},{key:"error",value:function(){if(O>=1){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];(t=A).error.apply(t,[e._format(this._name,this._method)].concat(r))}}},{key:"throw",value:function(e){throw this.error(e),e}},{key:"create",value:function(e){var t=Object.create(this);return t._method=e,t.debug("begin"),t}}],[{key:"createStatic",value:function(t,i){var r=new e(`${t}.${i}`);return r.debug("begin"),r}},{key:"_format",value:function(e,t){var i=`[${e}]`;return t?`${i} ${t}:`:i}},{key:"debug",value:function(t){if(O>=4){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];(i=A).debug.apply(i,[e._format(t)].concat(n))}}},{key:"info",value:function(t){if(O>=3){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];(i=A).info.apply(i,[e._format(t)].concat(n))}}},{key:"warn",value:function(t){if(O>=2){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];(i=A).warn.apply(i,[e._format(t)].concat(n))}}},{key:"error",value:function(t){if(O>=1){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];(i=A).error.apply(i,[e._format(t)].concat(n))}}}])})();N.reset();var M=(function(){return(0,f.default)(function e(){(0,p.default)(this,e)},null,[{key:"decode",value:function(e){try{return(0,_r(d[13]).jwtDecode)(e)}catch(e){throw H.error("JwtUtils.decode",e),e}}},{key:"generateSignedJwt",value:(t=(0,h.default)(function*(e,t,i){var r=`${$.encodeBase64Url((new TextEncoder).encode(JSON.stringify(e)))}.${$.encodeBase64Url((new TextEncoder).encode(JSON.stringify(t)))}`,n=yield window.crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},i,(new TextEncoder).encode(r));return`${r}.${$.encodeBase64Url(new Uint8Array(n))}`}),function(e,i,r){return t.apply(this,arguments)})},{key:"generateSignedJwtWithHmac",value:(e=(0,h.default)(function*(e,t,i){var r=`${$.encodeBase64Url((new TextEncoder).encode(JSON.stringify(e)))}.${$.encodeBase64Url((new TextEncoder).encode(JSON.stringify(t)))}`,n=yield window.crypto.subtle.sign("HMAC",i,(new TextEncoder).encode(r));return`${r}.${$.encodeBase64Url(new Uint8Array(n))}`}),function(t,i,r){return e.apply(this,arguments)})}]);var e,t})(),W=function(e){return btoa((0,c.default)(new Uint8Array(e)).map(function(e){return String.fromCharCode(e)}).join(""))},J=(function(){function e(){(0,p.default)(this,e)}return(0,f.default)(e,null,[{key:"_randomWord",value:function(){var e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}},{key:"generateUUIDv4",value:function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(t){return(+t^e._randomWord()&15>>+t/4).toString(16)}).replace(/-/g,"")}},{key:"generateCodeVerifier",value:function(){return e.generateUUIDv4()+e.generateUUIDv4()+e.generateUUIDv4()}},{key:"generateCodeChallenge",value:(u=(0,h.default)(function*(e){if(!crypto.subtle)throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");try{var t=(new TextEncoder).encode(e),i=yield crypto.subtle.digest("SHA-256",t);return W(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){throw H.error("CryptoUtils.generateCodeChallenge",e),e}}),function(e){return u.apply(this,arguments)})},{key:"generateBasicAuth",value:function(e,t){var i=(new TextEncoder).encode([e,t].join(":"));return W(i)}},{key:"hash",value:(o=(0,h.default)(function*(e,t){var i=(new TextEncoder).encode(t),r=yield crypto.subtle.digest(e,i);return new Uint8Array(r)}),function(e,t){return o.apply(this,arguments)})},{key:"customCalculateJwkThumbprint",value:(s=(0,h.default)(function*(t){var i;switch(t.kty){case"RSA":i={e:t.e,kty:t.kty,n:t.n};break;case"EC":i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":i={crv:t.crv,kty:t.kty,x:t.x};break;case"oct":i={crv:t.k,kty:t.kty};break;default:throw new Error("Unknown jwk type")}var r=yield e.hash("SHA-256",JSON.stringify(i));return e.encodeBase64Url(r)}),function(e){return s.apply(this,arguments)})},{key:"generateDPoPProof",value:(n=(0,h.default)(function*(t){var i,r,n=t.url,s=t.accessToken,o=t.httpMethod,u=t.keyPair,l=t.nonce,c={jti:window.crypto.randomUUID(),htm:null!=o?o:"GET",htu:n,iat:Math.floor(Date.now()/1e3)};s&&(i=yield e.hash("SHA-256",s),r=e.encodeBase64Url(i),c.ath=r),l&&(c.nonce=l);try{var h=yield crypto.subtle.exportKey("jwk",u.publicKey),p={alg:"ES256",typ:"dpop+jwt",jwk:{crv:h.crv,kty:h.kty,x:h.x,y:h.y}};return yield M.generateSignedJwt(p,c,u.privateKey)}catch(e){throw e instanceof TypeError?new Error(`Error exporting dpop public key: ${e.message}`):e}}),function(e){return n.apply(this,arguments)})},{key:"generateDPoPJkt",value:(r=(0,h.default)(function*(t){try{var i=yield crypto.subtle.exportKey("jwk",t.publicKey);return yield e.customCalculateJwkThumbprint(i)}catch(e){throw e instanceof TypeError?new Error(`Could not retrieve dpop keys from storage: ${e.message}`):e}}),function(e){return r.apply(this,arguments)})},{key:"generateDPoPKeys",value:(i=(0,h.default)(function*(){return yield window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"])}),function(){return i.apply(this,arguments)})},{key:"generateClientAssertionJwt",value:(t=(0,h.default)(function*(t,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"HS256",s=Math.floor(Date.now()/1e3),o={alg:n,typ:"JWT"},u={iss:t,sub:t,aud:r,jti:e.generateUUIDv4(),exp:s+300,iat:s},l={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[n];if(!l)throw new Error(`Unsupported algorithm: ${n}. Supported algorithms are: HS256, HS384, HS512`);var c=new TextEncoder,h=yield crypto.subtle.importKey("raw",c.encode(i),{name:"HMAC",hash:l},!1,["sign"]);return yield M.generateSignedJwtWithHmac(o,u,h)}),function(e,i,r){return t.apply(this,arguments)})}]);var t,i,r,n,s,o,u})();J.encodeBase64Url=function(e){return W(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};var $=J,D=(function(){return(0,f.default)(function e(t){(0,p.default)(this,e),this._name=t,this._callbacks=[],this._logger=new H(`Event('${this._name}')`)},[{key:"addHandler",value:function(e){var t=this;return this._callbacks.push(e),function(){return t.removeHandler(e)}}},{key:"removeHandler",value:function(e){var t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}},{key:"raise",value:(e=(0,h.default)(function*(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];for(var n of((e=this._logger).debug.apply(e,["raise:"].concat(i)),this._callbacks))yield n.apply(void 0,i)}),function(){return e.apply(this,arguments)})}]);var e})(),K=(function(){return(0,f.default)(function e(){(0,p.default)(this,e)},null,[{key:"center",value:function(e){var t,i=Object.assign({},((0,l.default)(e),e));return null==i.width&&(i.width=null!=(t=[800,720,600,480].find(function(e){return e<=window.outerWidth/1.618}))?t:360),null!=i.left||(i.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-i.width)/2))),null!=i.height&&(null!=i.top||(i.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-i.height)/2)))),i}},{key:"serialize",value:function(e){return Object.entries(e).filter(function(e){return null!=(0,u.default)(e,2)[1]}).map(function(e){var t=(0,u.default)(e,2),i=t[0],r=t[1];return`${i}=${"boolean"!=typeof r?r:r?"yes":"no"}`}).join(",")}}])})(),L=(function(e){function t(){var e;return(0,p.default)(this,t),(e=R(this,t,arguments))._logger=new H(`Timer('${e._name}')`),e._timerHandle=null,e._expiration=0,e._callback=function(){var i=e._expiration-t.getEpochTime();e._logger.debug("timer completes in",i),e._expiration<=t.getEpochTime()&&(e.cancel(),U(t,"raise",e,3)([]))},e}return(0,n.default)(t,e),(0,f.default)(t,[{key:"init",value:function(e){var i=this._logger.create("init");e=Math.max(Math.floor(e),1);var r=t.getEpochTime()+e;if(this.expiration===r&&this._timerHandle)i.debug("skipping since already initialized for expiration at",this.expiration);else{this.cancel(),i.debug("using duration",e),this._expiration=r;var n=Math.min(e,5);this._timerHandle=setInterval(this._callback,1e3*n)}}},{key:"expiration",get:function(){return this._expiration}},{key:"cancel",value:function(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}}],[{key:"getEpochTime",value:function(){return Math.floor(Date.now()/1e3)}}])})(D),F=(function(){return(0,f.default)(function e(){(0,p.default)(this,e)},null,[{key:"readParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"query";if(!e)throw new TypeError("Invalid URL");var i=new URL(e,"http://127.0.0.1")["fragment"===t?"hash":"search"];return new URLSearchParams(i.slice(1))}}])})(),z=";",B=_e.ErrorResponse=(function(e){function t(e,i){var r,n,s,o;if((0,p.default)(this,t),(r=R(this,t,[e.error_description||e.error||""])).form=i,r.name="ErrorResponse",!e.error)throw H.error("ErrorResponse","No error passed"),new Error("No error passed");return r.error=e.error,r.error_description=null!=(n=e.error_description)?n:null,r.error_uri=null!=(s=e.error_uri)?s:null,r.state=e.userState,r.session_state=null!=(o=e.session_state)?o:null,r.url_state=e.url_state,r}return(0,n.default)(t,e),(0,f.default)(t)})((0,i.default)(Error)),Q=_e.ErrorTimeout=(function(e){function t(e){var i;return(0,p.default)(this,t),(i=R(this,t,[e])).name="ErrorTimeout",i}return(0,n.default)(t,e),(0,f.default)(t)})((0,i.default)(Error)),V=_e.AccessTokenEvents=(function(){return(0,f.default)(function e(t){(0,p.default)(this,e),this._logger=new H("AccessTokenEvents"),this._expiringTimer=new L("Access token expiring"),this._expiredTimer=new L("Access token expired"),this._expiringNotificationTimeInSeconds=t.expiringNotificationTimeInSeconds},[{key:"load",value:(t=(0,h.default)(function*(e){var t=this._logger.create("load");if(e.access_token&&void 0!==e.expires_in){var i=e.expires_in;if(t.debug("access token present, remaining duration:",i),i>0){var r=i-this._expiringNotificationTimeInSeconds;r<=0&&(r=1),t.debug("registering expiring timer, raising in",r,"seconds"),this._expiringTimer.init(r)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();var n=i+1;t.debug("registering expired timer, raising in",n,"seconds"),this._expiredTimer.init(n)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}),function(e){return t.apply(this,arguments)})},{key:"unload",value:(e=(0,h.default)(function*(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}),function(){return e.apply(this,arguments)})},{key:"addAccessTokenExpiring",value:function(e){return this._expiringTimer.addHandler(e)}},{key:"removeAccessTokenExpiring",value:function(e){this._expiringTimer.removeHandler(e)}},{key:"addAccessTokenExpired",value:function(e){return this._expiredTimer.addHandler(e)}},{key:"removeAccessTokenExpired",value:function(e){this._expiredTimer.removeHandler(e)}}]);var e,t})(),G=_e.CheckSessionIFrame=(function(){return(0,f.default)(function e(t,i,r,n,s){var o=this;(0,p.default)(this,e),this._callback=t,this._client_id=i,this._intervalInSeconds=n,this._stopOnError=s,this._logger=new H("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=function(e){e.origin===o._frame_origin&&e.source===o._frame.contentWindow&&("error"===e.data?(o._logger.error("error message from check session op iframe"),o._stopOnError&&o.stop()):"changed"===e.data?(o._logger.debug("changed message from check session op iframe"),o.stop(),o._callback()):o._logger.debug(e.data+" message from check session op iframe"))};var u=new URL(r);this._frame_origin=u.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=u.href},[{key:"load",value:function(){var e=this;return new Promise(function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),window.addEventListener("message",e._message,!1)})}},{key:"start",value:function(e){var t=this;if(this._session_state!==e){this._logger.create("start"),this.stop(),this._session_state=e;var i=function(){t._frame.contentWindow&&t._session_state&&t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};i(),this._timer=setInterval(i,1e3*this._intervalInSeconds)}}},{key:"stop",value:function(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}}])})(),X=_e.InMemoryWebStorage=(function(){return(0,f.default)(function e(){(0,p.default)(this,e),this._logger=new H("InMemoryWebStorage"),this._data={}},[{key:"clear",value:function(){this._logger.create("clear"),this._data={}}},{key:"getItem",value:function(e){return this._logger.create(`getItem('${e}')`),this._data[e]}},{key:"setItem",value:function(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}},{key:"removeItem",value:function(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}},{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}},{key:"key",value:function(e){return Object.getOwnPropertyNames(this._data)[e]}}])})(),Y=(function(e){function t(e,i){var r;return(0,p.default)(this,t),(r=R(this,t,[i])).name="ErrorDPoPNonce",r.nonce=e,r}return(0,n.default)(t,e),(0,f.default)(t)})((0,i.default)(Error)),Z=(function(){return(0,f.default)(function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,p.default)(this,e),this._jwtHandler=r,this._extraHeaders=n,this._logger=new H("JsonService"),this._contentTypes=[],(t=this._contentTypes).push.apply(t,(0,c.default)(i).concat(["application/json"])),r&&this._contentTypes.push("application/jwt")},[{key:"fetchWithTimeout",value:(r=(0,h.default)(function*(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.timeoutInSeconds,n=(0,t.default)(i,_);if(!r)return yield fetch(e,n);var s=new AbortController,o=setTimeout(function(){return s.abort()},1e3*r);try{return yield fetch(e,Object.assign({},i,{signal:s.signal}))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)throw new Q("Network timed out");throw e}finally{clearTimeout(o)}}),function(e){return r.apply(this,arguments)})},{key:"getJson",value:(i=(0,h.default)(function*(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.token,n=i.credentials,s=i.timeoutInSeconds,o=this._logger.create("getJson"),u={Accept:this._contentTypes.join(", ")};r&&(o.debug("token passed, setting Authorization header"),u.Authorization="Bearer "+r),this._appendExtraHeaders(u);try{o.debug("url:",e),t=yield this.fetchWithTimeout(e,{method:"GET",headers:u,timeoutInSeconds:s,credentials:n})}catch(e){throw o.error("Network Error"),e}o.debug("HTTP response received, status",t.status);var l,c=t.headers.get("Content-Type");if(c&&!this._contentTypes.find(function(e){return c.startsWith(e)})&&o.throw(new Error(`Invalid response Content-Type: ${null!=c?c:"undefined"}, from URL: ${e}`)),t.ok&&this._jwtHandler&&(null==c?void 0:c.startsWith("application/jwt")))return yield this._jwtHandler(yield t.text());try{l=yield t.json()}catch(e){if(o.error("Error parsing JSON response",e),t.ok)throw e;throw new Error(`${t.statusText} (${t.status})`)}if(!t.ok){if(o.error("Error from server:",l),l.error)throw new B(l);throw new Error(`${t.statusText} (${t.status}): ${JSON.stringify(l)}`)}return l}),function(e){return i.apply(this,arguments)})},{key:"postForm",value:(e=(0,h.default)(function*(e,t){var i,r=t.body,n=t.basicAuth,s=t.timeoutInSeconds,o=t.initCredentials,u=t.extraHeaders,l=this._logger.create("postForm"),c=Object.assign({Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"},u);void 0!==n&&(c.Authorization="Basic "+n),this._appendExtraHeaders(c);try{l.debug("url:",e),i=yield this.fetchWithTimeout(e,{method:"POST",headers:c,body:r,timeoutInSeconds:s,credentials:o})}catch(e){throw l.error("Network error"),e}l.debug("HTTP response received, status",i.status);var h=i.headers.get("Content-Type");if(h&&!this._contentTypes.find(function(e){return h.startsWith(e)}))throw new Error(`Invalid response Content-Type: ${null!=h?h:"undefined"}, from URL: ${e}`);var p=yield i.text(),f={};if(p)try{f=JSON.parse(p)}catch(e){if(l.error("Error parsing JSON response",e),i.ok)throw e;throw new Error(`${i.statusText} (${i.status})`)}if(!i.ok){if(l.error("Error from server:",f),i.headers.has("dpop-nonce")){var _=i.headers.get("dpop-nonce");throw new Y(_,`${JSON.stringify(f)}`)}if(f.error)throw new B(f,r);throw new Error(`${i.statusText} (${i.status}): ${JSON.stringify(f)}`)}return f}),function(t,i){return e.apply(this,arguments)})},{key:"_appendExtraHeaders",value:function(e){var t=this,i=this._logger.create("appendExtraHeaders"),r=Object.keys(this._extraHeaders),n=["accept","content-type"],s=["authorization"];0!==r.length&&r.forEach(function(r){if(n.includes(r.toLocaleLowerCase()))i.warn("Protected header could not be set",r,n);else if(s.includes(r.toLocaleLowerCase())&&Object.keys(e).includes(r))i.warn("Header could not be overridden",r,s);else{var o="function"==typeof t._extraHeaders[r]?t._extraHeaders[r]():t._extraHeaders[r];o&&""!==o&&(e[r]=o)}})}}]);var e,i,r})(),ee=_e.MetadataService=(function(){return(0,f.default)(function e(t){(0,p.default)(this,e),this._settings=t,this._logger=new H("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new Z(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)},[{key:"resetSigningKeys",value:function(){this._signingKeys=null}},{key:"getMetadata",value:(i=(0,h.default)(function*(){var e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);var t=yield this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},t,this._settings.metadataSeed),this._metadata}),function(){return i.apply(this,arguments)})},{key:"getIssuer",value:function(){return this._getMetadataProperty("issuer")}},{key:"getAuthorizationEndpoint",value:function(){return this._getMetadataProperty("authorization_endpoint")}},{key:"getUserInfoEndpoint",value:function(){return this._getMetadataProperty("userinfo_endpoint")}},{key:"getTokenEndpoint",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)}},{key:"getCheckSessionIframe",value:function(){return this._getMetadataProperty("check_session_iframe",!0)}},{key:"getEndSessionEndpoint",value:function(){return this._getMetadataProperty("end_session_endpoint",!0)}},{key:"getRevocationEndpoint",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("revocation_endpoint",e)}},{key:"getKeysEndpoint",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("jwks_uri",e)}},{key:"_getMetadataProperty",value:(t=(0,h.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._logger.create(`_getMetadataProperty('${e}')`),r=yield this.getMetadata();if(i.debug("resolved"),void 0===r[e]){if(!0===t)return void i.warn("Metadata does not contain optional property");i.throw(new Error("Metadata does not contain property "+e))}return r[e]}),function(e){return t.apply(this,arguments)})},{key:"getSigningKeys",value:(e=(0,h.default)(function*(){var e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;var t=yield this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);var i=yield this._jsonService.getJson(t,{timeoutInSeconds:this._settings.requestTimeoutInSeconds});if(e.debug("got key set",i),!Array.isArray(i.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=i.keys,this._signingKeys}),function(){return e.apply(this,arguments)})}]);var e,t,i})(),te=_e.WebStorageStateStore=(function(){return(0,f.default)(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.prefix,r=void 0===i?"oidc.":i,n=t.store,s=void 0===n?localStorage:n;(0,p.default)(this,e),this._logger=new H("WebStorageStateStore"),this._store=s,this._prefix=r},[{key:"set",value:(r=(0,h.default)(function*(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,yield this._store.setItem(e,t)}),function(e,t){return r.apply(this,arguments)})},{key:"get",value:(i=(0,h.default)(function*(e){return this._logger.create(`get('${e}')`),e=this._prefix+e,yield this._store.getItem(e)}),function(e){return i.apply(this,arguments)})},{key:"remove",value:(t=(0,h.default)(function*(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;var t=yield this._store.getItem(e);return yield this._store.removeItem(e),t}),function(e){return t.apply(this,arguments)})},{key:"getAllKeys",value:(e=(0,h.default)(function*(){this._logger.create("getAllKeys");for(var e=yield this._store.length,t=[],i=0;i<e;i++){var r=yield this._store.key(i);r&&0===r.indexOf(this._prefix)&&t.push(r.substr(this._prefix.length))}return t}),function(){return e.apply(this,arguments)})}]);var e,t,i,r})(),ie=_e.OidcClientSettingsStore=(0,f.default)(function e(t){var i,r=t.authority,n=t.metadataUrl,s=t.metadata,o=t.signingKeys,u=t.metadataSeed,l=t.client_id,c=t.client_secret,h=t.response_type,f=void 0===h?"code":h,_=t.scope,v=void 0===_?"openid":_,y=t.redirect_uri,w=t.post_logout_redirect_uri,k=t.client_authentication,S=void 0===k?"client_secret_post":k,b=t.token_endpoint_auth_signing_alg,T=void 0===b?"HS256":b,E=t.prompt,I=t.display,P=t.max_age,x=t.ui_locales,R=t.acr_values,C=t.resource,U=t.response_mode,O=t.filterProtocolClaims,A=void 0===O||O,q=t.loadUserInfo,j=void 0!==q&&q,N=t.requestTimeoutInSeconds,H=t.staleStateAgeInSeconds,M=void 0===H?900:H,W=t.mergeClaimsStrategy,J=void 0===W?{array:"replace"}:W,$=t.disablePKCE,D=void 0!==$&&$,K=t.stateStore,L=t.revokeTokenAdditionalContentTypes,F=t.fetchRequestCredentials,z=t.refreshTokenAllowedScope,B=t.extraQueryParams,Q=void 0===B?{}:B,V=t.extraTokenParams,G=void 0===V?{}:V,Y=t.extraHeaders,Z=void 0===Y?{}:Y,ee=t.dpop,ie=t.omitScopeWhenRequesting,re=void 0!==ie&&ie;if((0,p.default)(this,e),this.authority=r,n?this.metadataUrl=n:(this.metadataUrl=r,r&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=s,this.metadataSeed=u,this.signingKeys=o,this.client_id=l,this.client_secret=c,this.response_type=f,this.scope=v,this.redirect_uri=y,this.post_logout_redirect_uri=w,this.client_authentication=S,this.token_endpoint_auth_signing_alg=T,this.prompt=E,this.display=I,this.max_age=P,this.ui_locales=x,this.acr_values=R,this.resource=C,this.response_mode=U,this.filterProtocolClaims=null==A||A,this.loadUserInfo=!!j,this.staleStateAgeInSeconds=M,this.mergeClaimsStrategy=J,this.omitScopeWhenRequesting=re,this.disablePKCE=!!D,this.revokeTokenAdditionalContentTypes=L,this.fetchRequestCredentials=F||"same-origin",this.requestTimeoutInSeconds=N,K)this.stateStore=K;else{var ne="undefined"!=typeof window?window.localStorage:new X;this.stateStore=new te({store:ne})}if(this.refreshTokenAllowedScope=z,this.extraQueryParams=Q,this.extraTokenParams=G,this.extraHeaders=Z,this.dpop=ee,this.dpop&&!(null==(i=this.dpop)?void 0:i.store))throw new Error("A DPoPStore is required when dpop is enabled")}),re=(function(){return(0,f.default)(function e(t,i){var r=this;(0,p.default)(this,e),this._settings=t,this._metadataService=i,this._logger=new H("UserInfoService"),this._getClaimsFromJwt=(function(){var e=(0,h.default)(function*(e){var t=r._logger.create("_getClaimsFromJwt");try{var i=M.decode(e);return t.debug("JWT decoding successful"),i}catch(e){throw t.error("Error parsing JWT response"),e}});return function(t){return e.apply(this,arguments)}})(),this._jsonService=new Z(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)},[{key:"getClaims",value:(e=(0,h.default)(function*(e){var t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));var i=yield this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",i);var r=yield this._jsonService.getJson(i,{token:e,credentials:this._settings.fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return t.debug("got claims",r),r}),function(t){return e.apply(this,arguments)})}]);var e})(),ne=(function(){return(0,f.default)(function e(t,i){(0,p.default)(this,e),this._settings=t,this._metadataService=i,this._logger=new H("TokenClient"),this._jsonService=new Z(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)},[{key:"exchangeCode",value:(n=(0,h.default)(function*(e){var i=e.grant_type,r=void 0===i?"authorization_code":i,n=e.redirect_uri,s=void 0===n?this._settings.redirect_uri:n,o=e.client_id,l=void 0===o?this._settings.client_id:o,c=e.client_secret,h=void 0===c?this._settings.client_secret:c,p=e.extraHeaders,f=(0,t.default)(e,v),_=this._logger.create("exchangeCode");l||_.throw(new Error("A client_id is required")),s||_.throw(new Error("A redirect_uri is required")),f.code||_.throw(new Error("A code is required"));var y,w=new URLSearchParams({grant_type:r,redirect_uri:s});for(var k of Object.entries(f)){var S=(0,u.default)(k,2),b=S[0],T=S[1];null!=T&&w.set(b,T)}if(("client_secret_basic"===this._settings.client_authentication||"client_secret_jwt"===this._settings.client_authentication)&&null==h)throw _.throw(new Error("A client_secret is required")),null;var E=yield this._metadataService.getTokenEndpoint(!1);switch(this._settings.client_authentication){case"client_secret_basic":y=$.generateBasicAuth(l,h);break;case"client_secret_post":w.append("client_id",l),h&&w.append("client_secret",h);break;case"client_secret_jwt":var I=yield $.generateClientAssertionJwt(l,h,E,this._settings.token_endpoint_auth_signing_alg);w.append("client_id",l),w.append("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),w.append("client_assertion",I)}_.debug("got token endpoint");var P=yield this._jsonService.postForm(E,{body:w,basicAuth:y,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:p});return _.debug("got response"),P}),function(e){return n.apply(this,arguments)})},{key:"exchangeCredentials",value:(r=(0,h.default)(function*(e){var i=e.grant_type,r=void 0===i?"password":i,n=e.client_id,s=void 0===n?this._settings.client_id:n,o=e.client_secret,l=void 0===o?this._settings.client_secret:o,c=e.scope,h=void 0===c?this._settings.scope:c,p=(0,t.default)(e,y),f=this._logger.create("exchangeCredentials");s||f.throw(new Error("A client_id is required"));var _,v=new URLSearchParams({grant_type:r});for(var w of(this._settings.omitScopeWhenRequesting||v.set("scope",h),Object.entries(p))){var k=(0,u.default)(w,2),S=k[0],b=k[1];null!=b&&v.set(S,b)}if(("client_secret_basic"===this._settings.client_authentication||"client_secret_jwt"===this._settings.client_authentication)&&null==l)throw f.throw(new Error("A client_secret is required")),null;var T=yield this._metadataService.getTokenEndpoint(!1);switch(this._settings.client_authentication){case"client_secret_basic":_=$.generateBasicAuth(s,l);break;case"client_secret_post":v.append("client_id",s),l&&v.append("client_secret",l);break;case"client_secret_jwt":var E=yield $.generateClientAssertionJwt(s,l,T,this._settings.token_endpoint_auth_signing_alg);v.append("client_id",s),v.append("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),v.append("client_assertion",E)}f.debug("got token endpoint");var I=yield this._jsonService.postForm(T,{body:v,basicAuth:_,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials});return f.debug("got response"),I}),function(e){return r.apply(this,arguments)})},{key:"exchangeRefreshToken",value:(i=(0,h.default)(function*(e){var i=e.grant_type,r=void 0===i?"refresh_token":i,n=e.client_id,s=void 0===n?this._settings.client_id:n,o=e.client_secret,l=void 0===o?this._settings.client_secret:o,c=e.timeoutInSeconds,h=e.extraHeaders,p=(0,t.default)(e,w),f=this._logger.create("exchangeRefreshToken");s||f.throw(new Error("A client_id is required")),p.refresh_token||f.throw(new Error("A refresh_token is required"));var _,v=new URLSearchParams({grant_type:r}),y=function*(e){Array.isArray(T)?T.forEach(function(t){return v.append(e,t)}):null!=T&&v.set(e,T)};for(var k of Object.entries(p)){var S=(0,u.default)(k,2),b=S[0],T=S[1];yield*y(b)}if(("client_secret_basic"===this._settings.client_authentication||"client_secret_jwt"===this._settings.client_authentication)&&null==l)throw f.throw(new Error("A client_secret is required")),null;var E=yield this._metadataService.getTokenEndpoint(!1);switch(this._settings.client_authentication){case"client_secret_basic":_=$.generateBasicAuth(s,l);break;case"client_secret_post":v.append("client_id",s),l&&v.append("client_secret",l);break;case"client_secret_jwt":var I=yield $.generateClientAssertionJwt(s,l,E,this._settings.token_endpoint_auth_signing_alg);v.append("client_id",s),v.append("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),v.append("client_assertion",I)}f.debug("got token endpoint");var P=yield this._jsonService.postForm(E,{body:v,basicAuth:_,timeoutInSeconds:c,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:h});return f.debug("got response"),P}),function(e){return i.apply(this,arguments)})},{key:"revoke",value:(e=(0,h.default)(function*(e){var t,i=this._logger.create("revoke");e.token||i.throw(new Error("A token is required"));var r=yield this._metadataService.getRevocationEndpoint(!1);i.debug(`got revocation endpoint, revoking ${null!=(t=e.token_type_hint)?t:"default token type"}`);var n=new URLSearchParams;for(var s of Object.entries(e)){var o=(0,u.default)(s,2),l=o[0],c=o[1];null!=c&&n.set(l,c)}n.set("client_id",this._settings.client_id),this._settings.client_secret&&n.set("client_secret",this._settings.client_secret),yield this._jsonService.postForm(r,{body:n,timeoutInSeconds:this._settings.requestTimeoutInSeconds}),i.debug("got response")}),function(t){return e.apply(this,arguments)})}]);var e,i,r,n})(),se=(function(){return(0,f.default)(function e(t,i,r){(0,p.default)(this,e),this._settings=t,this._metadataService=i,this._claimsService=r,this._logger=new H("ResponseValidator"),this._userInfoService=new re(this._settings,this._metadataService),this._tokenClient=new ne(this._settings,this._metadataService)},[{key:"validateSigninResponse",value:(n=(0,h.default)(function*(e,t,i){var r=this._logger.create("validateSigninResponse");this._processSigninState(e,t),r.debug("state processed"),yield this._processCode(e,t,i),r.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),r.debug("tokens validated"),yield this._processClaims(e,null==t?void 0:t.skipUserInfo,e.isOpenId),r.debug("claims processed")}),function(e,t,i){return n.apply(this,arguments)})},{key:"validateCredentialsResponse",value:(r=(0,h.default)(function*(e,t){var i=this._logger.create("validateCredentialsResponse"),r=e.isOpenId&&!!e.id_token;r&&this._validateIdTokenAttributes(e),i.debug("tokens validated"),yield this._processClaims(e,t,r),i.debug("claims processed")}),function(e,t){return r.apply(this,arguments)})},{key:"validateRefreshResponse",value:(i=(0,h.default)(function*(e,t){var i=this._logger.create("validateRefreshResponse");e.userState=t.data,null!=e.session_state||(e.session_state=t.session_state),null!=e.scope||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),i.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);var r=e.isOpenId&&!!e.id_token;yield this._processClaims(e,!1,r),i.debug("claims processed")}),function(e,t){return i.apply(this,arguments)})},{key:"validateSignoutResponse",value:function(e,t){var i=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&i.throw(new Error("State does not match")),i.debug("state validated"),e.userState=t.data,e.error)throw i.warn("Response was error",e.error),new B(e)}},{key:"_processSigninState",value:function(e,t){var i=this._logger.create("_processSigninState");if(t.id!==e.state&&i.throw(new Error("State does not match")),t.client_id||i.throw(new Error("No client_id on state")),t.authority||i.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&i.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&i.throw(new Error("client_id mismatch on settings vs. signin state")),i.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,null!=e.scope||(e.scope=t.scope),e.error)throw i.warn("Response was error",e.error),new B(e);t.code_verifier&&!e.code&&i.throw(new Error("Expected code in response"))}},{key:"_processClaims",value:(t=(0,h.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),!t&&this._settings.loadUserInfo&&e.access_token){r.debug("loading user info");var n=yield this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),i&&n.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(n)),r.debug("user info claims received, updated profile:",e.profile)}else r.debug("not loading user info")}),function(e){return t.apply(this,arguments)})},{key:"_processCode",value:(e=(0,h.default)(function*(e,t,i){var r=this._logger.create("_processCode");if(e.code){r.debug("Validating code");var n=yield this._tokenClient.exchangeCode(Object.assign({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,extraHeaders:i},t.extraTokenParams));Object.assign(e,n)}else r.debug("No code to process")}),function(t,i,r){return e.apply(this,arguments)})},{key:"_validateIdTokenAttributes",value:function(e,t){var i,r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");var n=M.decode(null!=(i=e.id_token)?i:"");if(n.sub||r.throw(new Error("ID Token is missing a subject claim")),t){var s=M.decode(t);n.sub!==s.sub&&r.throw(new Error("sub in id_token does not match current sub")),n.auth_time&&n.auth_time!==s.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),n.azp&&n.azp!==s.azp&&r.throw(new Error("azp in id_token does not match original azp")),!n.azp&&s.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=n}}]);var e,t,i,r,n})(),oe=_e.State=(function(){function e(t){(0,p.default)(this,e),this.id=t.id||$.generateUUIDv4(),this.data=t.data,t.created&&t.created>0?this.created=t.created:this.created=L.getEpochTime(),this.request_type=t.request_type,this.url_state=t.url_state}return(0,f.default)(e,[{key:"toStorageString",value:function(){return new H("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}}],[{key:"fromStorageString",value:function(t){return H.createStatic("State","fromStorageString"),Promise.resolve(new e(JSON.parse(t)))}},{key:"clearStaleState",value:(t=(0,h.default)(function*(t,i){var r=H.createStatic("State","clearStaleState"),n=L.getEpochTime()-i,s=yield t.getAllKeys();r.debug("got keys",s);for(var o=0;o<s.length;o++){var u=s[o],l=yield t.get(u),c=!1;if(l)try{var h=yield e.fromStorageString(l);r.debug("got item from key:",u,h.created),h.created<=n&&(c=!0)}catch(e){r.error("Error parsing state for key:",u,e),c=!0}else r.debug("no item in storage for key:",u),c=!0;c&&(r.debug("removed item for key:",u),t.remove(u))}}),function(e,i){return t.apply(this,arguments)})}]);var t})(),ae=_e.SigninState=(function(e){function t(e){var i;return(0,p.default)(this,t),(i=R(this,t,[e])).code_verifier=e.code_verifier,i.code_challenge=e.code_challenge,i.authority=e.authority,i.client_id=e.client_id,i.redirect_uri=e.redirect_uri,i.scope=e.scope,i.client_secret=e.client_secret,i.extraTokenParams=e.extraTokenParams,i.response_mode=e.response_mode,i.skipUserInfo=e.skipUserInfo,i}return(0,n.default)(t,e),(0,f.default)(t,[{key:"toStorageString",value:function(){return new H("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}}],[{key:"create",value:(i=(0,h.default)(function*(e){var i=!0===e.code_verifier?$.generateCodeVerifier():e.code_verifier||void 0,r=i?yield $.generateCodeChallenge(i):void 0;return new t(Object.assign({},e,{code_verifier:i,code_challenge:r}))}),function(e){return i.apply(this,arguments)})},{key:"fromStorageString",value:function(e){H.createStatic("SigninState","fromStorageString");var i=JSON.parse(e);return t.create(i)}}]);var i})(oe),ue=(function(){function e(t){(0,p.default)(this,e),this.url=t.url,this.state=t.state}return(0,f.default)(e,null,[{key:"create",value:(i=(0,h.default)(function*(i){var r=i.url,n=i.authority,s=i.client_id,o=i.redirect_uri,l=i.response_type,c=i.scope,h=i.state_data,p=i.response_mode,f=i.request_type,_=i.client_secret,v=i.nonce,y=i.url_state,w=i.resource,S=i.skipUserInfo,b=i.extraQueryParams,T=i.extraTokenParams,E=i.disablePKCE,I=i.dpopJkt,P=i.omitScopeWhenRequesting,x=(0,t.default)(i,k);if(!r)throw this._logger.error("create: No url passed"),new Error("url");if(!s)throw this._logger.error("create: No client_id passed"),new Error("client_id");if(!o)throw this._logger.error("create: No redirect_uri passed"),new Error("redirect_uri");if(!l)throw this._logger.error("create: No response_type passed"),new Error("response_type");if(!c)throw this._logger.error("create: No scope passed"),new Error("scope");if(!n)throw this._logger.error("create: No authority passed"),new Error("authority");var R=yield ae.create({data:h,request_type:f,url_state:y,code_verifier:!E,client_id:s,authority:n,redirect_uri:o,response_mode:p,client_secret:_,scope:c,extraTokenParams:T,skipUserInfo:S}),C=new URL(r);C.searchParams.append("client_id",s),C.searchParams.append("redirect_uri",o),C.searchParams.append("response_type",l),P||C.searchParams.append("scope",c),v&&C.searchParams.append("nonce",v),I&&C.searchParams.append("dpop_jkt",I);var U=R.id;for(var O of(y&&(U=`${U}${z}${y}`),C.searchParams.append("state",U),R.code_challenge&&(C.searchParams.append("code_challenge",R.code_challenge),C.searchParams.append("code_challenge_method","S256")),w&&(Array.isArray(w)?w:[w]).forEach(function(e){return C.searchParams.append("resource",e)}),Object.entries(Object.assign({response_mode:p},x,b)))){var A=(0,u.default)(O,2),q=A[0],j=A[1];null!=j&&C.searchParams.append(q,j.toString())}return new e({url:C.href,state:R})}),function(e){return i.apply(this,arguments)})}]);var i})();ue._logger=new H("SigninRequest");var le=ue,de=_e.SigninResponse=(function(){return(0,f.default)(function e(t){if((0,p.default)(this,e),this.access_token="",this.token_type="",this.profile={},this.state=t.get("state"),this.session_state=t.get("session_state"),this.state){var i=decodeURIComponent(this.state).split(z);this.state=i[0],i.length>1&&(this.url_state=i.slice(1).join(z))}this.error=t.get("error"),this.error_description=t.get("error_description"),this.error_uri=t.get("error_uri"),this.code=t.get("code")},[{key:"expires_in",get:function(){if(void 0!==this.expires_at)return this.expires_at-L.getEpochTime()},set:function(e){"string"==typeof e&&(e=Number(e)),void 0!==e&&e>=0&&(this.expires_at=Math.floor(e)+L.getEpochTime())}},{key:"isOpenId",get:function(){var e;return(null==(e=this.scope)?void 0:e.split(" ").includes("openid"))||!!this.id_token}}])})(),ce=(0,f.default)(function e(t){var i=t.url,r=t.state_data,n=t.id_token_hint,s=t.post_logout_redirect_uri,o=t.extraQueryParams,l=t.request_type,c=t.client_id,h=t.url_state;if((0,p.default)(this,e),this._logger=new H("SignoutRequest"),!i)throw this._logger.error("ctor: No url passed"),new Error("url");var f=new URL(i);if(n&&f.searchParams.append("id_token_hint",n),c&&f.searchParams.append("client_id",c),s&&(f.searchParams.append("post_logout_redirect_uri",s),r||h)){this.state=new oe({data:r,request_type:l,url_state:h});var _=this.state.id;h&&(_=`${_}${z}${h}`),f.searchParams.append("state",_)}for(var v of Object.entries(Object.assign({},o))){var y=(0,u.default)(v,2),w=y[0],k=y[1];null!=k&&f.searchParams.append(w,k.toString())}this.url=f.href}),he=_e.SignoutResponse=(0,f.default)(function e(t){if((0,p.default)(this,e),this.state=t.get("state"),this.state){var i=decodeURIComponent(this.state).split(z);this.state=i[0],i.length>1&&(this.url_state=i.slice(1).join(z))}this.error=t.get("error"),this.error_description=t.get("error_description"),this.error_uri=t.get("error_uri")}),ge=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],pe=["sub","iss","aud","exp","iat"],fe=(function(){return(0,f.default)(function e(t){(0,p.default)(this,e),this._settings=t,this._logger=new H("ClaimsService")},[{key:"filterProtocolClaims",value:function(e){var t=Object.assign({},e);if(this._settings.filterProtocolClaims)for(var i of Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:ge)pe.includes(i)||delete t[i];return t}},{key:"mergeClaims",value:function(e,t){var i=Object.assign({},e);for(var r of Object.entries(t)){var n=(0,u.default)(r,2),s=n[0],o=n[1];if(i[s]!==o)if(Array.isArray(i[s])||Array.isArray(o))if("replace"==this._settings.mergeClaimsStrategy.array)i[s]=o;else{var l=Array.isArray(i[s])?i[s]:[i[s]];for(var c of Array.isArray(o)?o:[o])l.includes(c)||l.push(c);i[s]=l}else"object"==typeof i[s]&&"object"==typeof o?i[s]=this.mergeClaims(i[s],o):i[s]=o}return i}}])})(),ve=_e.DPoPState=(0,f.default)(function e(t,i){(0,p.default)(this,e),this.keys=t,this.nonce=i}),ye=_e.OidcClient=(function(){return(0,f.default)(function e(t,i){(0,p.default)(this,e),this._logger=new H("OidcClient"),this.settings=t instanceof ie?t:new ie(t),this.metadataService=null!=i?i:new ee(this.settings),this._claimsService=new fe(this.settings),this._validator=new se(this.settings,this.metadataService,this._claimsService),this._tokenClient=new ne(this.settings,this.metadataService)},[{key:"createSigninRequest",value:(c=(0,h.default)(function*(e){var t=e.state,i=e.request,r=e.request_uri,n=e.request_type,s=e.id_token_hint,o=e.login_hint,u=e.skipUserInfo,l=e.nonce,c=e.url_state,h=e.response_type,p=void 0===h?this.settings.response_type:h,f=e.scope,_=void 0===f?this.settings.scope:f,v=e.redirect_uri,y=void 0===v?this.settings.redirect_uri:v,w=e.prompt,k=void 0===w?this.settings.prompt:w,S=e.display,b=void 0===S?this.settings.display:S,T=e.max_age,E=void 0===T?this.settings.max_age:T,I=e.ui_locales,P=void 0===I?this.settings.ui_locales:I,x=e.acr_values,R=void 0===x?this.settings.acr_values:x,C=e.resource,U=void 0===C?this.settings.resource:C,O=e.response_mode,A=void 0===O?this.settings.response_mode:O,q=e.extraQueryParams,j=void 0===q?this.settings.extraQueryParams:q,N=e.extraTokenParams,H=void 0===N?this.settings.extraTokenParams:N,M=e.dpopJkt,W=e.omitScopeWhenRequesting,J=void 0===W?this.settings.omitScopeWhenRequesting:W,$=this._logger.create("createSigninRequest");if("code"!==p)throw new Error("Only the Authorization Code flow (with PKCE) is supported");var D=yield this.metadataService.getAuthorizationEndpoint();$.debug("Received authorization endpoint",D);var K=yield le.create({url:D,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:y,response_type:p,scope:_,state_data:t,url_state:c,prompt:k,display:b,max_age:E,ui_locales:P,id_token_hint:s,login_hint:o,acr_values:R,dpopJkt:M,resource:U,request:i,request_uri:r,extraQueryParams:j,extraTokenParams:H,request_type:n,response_mode:A,client_secret:this.settings.client_secret,skipUserInfo:u,nonce:l,disablePKCE:this.settings.disablePKCE,omitScopeWhenRequesting:J});yield this.clearStaleState();var L=K.state;return yield this.settings.stateStore.set(L.id,L.toStorageString()),K}),function(e){return c.apply(this,arguments)})},{key:"readSigninResponseState",value:(l=(0,h.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._logger.create("readSigninResponseState"),r=new de(F.readParams(e,this.settings.response_mode));if(!r.state)throw i.throw(new Error("No state in response")),null;var n=yield this.settings.stateStore[t?"remove":"get"](r.state);if(!n)throw i.throw(new Error("No matching state found in storage")),null;return{state:yield ae.fromStorageString(n),response:r}}),function(e){return l.apply(this,arguments)})},{key:"processSigninResponse",value:(u=(0,h.default)(function*(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._logger.create("processSigninResponse"),n=yield this.readSigninResponseState(e,i),s=n.state,o=n.response;if(r.debug("received state from storage; validating response"),this.settings.dpop&&this.settings.dpop.store){var u=yield this.getDpopProof(this.settings.dpop.store);t=Object.assign({},t,{DPoP:u})}try{yield this._validator.validateSigninResponse(o,s,t)}catch(e){if(!(e instanceof Y&&this.settings.dpop))throw e;var l=yield this.getDpopProof(this.settings.dpop.store,e.nonce);t.DPoP=l,yield this._validator.validateSigninResponse(o,s,t)}return o}),function(e,t){return u.apply(this,arguments)})},{key:"getDpopProof",value:(o=(0,h.default)(function*(e,t){var i,r;return(yield e.getAllKeys()).includes(this.settings.client_id)?(r=yield e.get(this.settings.client_id)).nonce!==t&&t&&(r.nonce=t,yield e.set(this.settings.client_id,r)):(i=yield $.generateDPoPKeys(),r=new ve(i,t),yield e.set(this.settings.client_id,r)),yield $.generateDPoPProof({url:yield this.metadataService.getTokenEndpoint(!1),httpMethod:"POST",keyPair:r.keys,nonce:r.nonce})}),function(e,t){return o.apply(this,arguments)})},{key:"processResourceOwnerPasswordCredentials",value:(s=(0,h.default)(function*(e){var t=e.username,i=e.password,r=e.skipUserInfo,n=void 0!==r&&r,s=e.extraTokenParams,o=void 0===s?{}:s,u=yield this._tokenClient.exchangeCredentials(Object.assign({username:t,password:i},o)),l=new de(new URLSearchParams);return Object.assign(l,u),yield this._validator.validateCredentialsResponse(l,n),l}),function(e){return s.apply(this,arguments)})},{key:"useRefreshToken",value:(n=(0,h.default)(function*(e){var t,i,r,n=e.state,s=e.redirect_uri,o=e.resource,u=e.timeoutInSeconds,l=e.extraHeaders,c=e.extraTokenParams,h=this._logger.create("useRefreshToken");if(void 0===this.settings.refreshTokenAllowedScope)i=n.scope;else{var p=this.settings.refreshTokenAllowedScope.split(" ");i=((null==(t=n.scope)?void 0:t.split(" "))||[]).filter(function(e){return p.includes(e)}).join(" ")}if(this.settings.dpop&&this.settings.dpop.store){var f=yield this.getDpopProof(this.settings.dpop.store);l=Object.assign({},l,{DPoP:f})}try{r=yield this._tokenClient.exchangeRefreshToken(Object.assign({refresh_token:n.refresh_token,scope:i,redirect_uri:s,resource:o,timeoutInSeconds:u,extraHeaders:l},c))}catch(e){if(!(e instanceof Y&&this.settings.dpop))throw e;l.DPoP=yield this.getDpopProof(this.settings.dpop.store,e.nonce),r=yield this._tokenClient.exchangeRefreshToken(Object.assign({refresh_token:n.refresh_token,scope:i,redirect_uri:s,resource:o,timeoutInSeconds:u,extraHeaders:l},c))}var _=new de(new URLSearchParams);return Object.assign(_,r),h.debug("validating response",_),yield this._validator.validateRefreshResponse(_,Object.assign({},n,{scope:i})),_}),function(e){return n.apply(this,arguments)})},{key:"createSignoutRequest",value:(r=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,i=e.id_token_hint,r=e.client_id,n=e.request_type,s=e.url_state,o=e.post_logout_redirect_uri,u=void 0===o?this.settings.post_logout_redirect_uri:o,l=e.extraQueryParams,c=void 0===l?this.settings.extraQueryParams:l,h=this._logger.create("createSignoutRequest"),p=yield this.metadataService.getEndSessionEndpoint();if(!p)throw h.throw(new Error("No end session endpoint")),null;h.debug("Received end session endpoint",p),r||!u||i||(r=this.settings.client_id);var f=new ce({url:p,id_token_hint:i,client_id:r,post_logout_redirect_uri:u,state_data:t,extraQueryParams:c,request_type:n,url_state:s});yield this.clearStaleState();var _=f.state;return _&&(h.debug("Signout request has state to persist"),yield this.settings.stateStore.set(_.id,_.toStorageString())),f}),function(){return r.apply(this,arguments)})},{key:"readSignoutResponseState",value:(i=(0,h.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._logger.create("readSignoutResponseState"),r=new he(F.readParams(e,this.settings.response_mode));if(!r.state){if(i.debug("No state in response"),r.error)throw i.warn("Response was error:",r.error),new B(r);return{state:void 0,response:r}}var n=yield this.settings.stateStore[t?"remove":"get"](r.state);if(!n)throw i.throw(new Error("No matching state found in storage")),null;return{state:yield oe.fromStorageString(n),response:r}}),function(e){return i.apply(this,arguments)})},{key:"processSignoutResponse",value:(t=(0,h.default)(function*(e){var t=this._logger.create("processSignoutResponse"),i=yield this.readSignoutResponseState(e,!0),r=i.state,n=i.response;return r?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(n,r)):t.debug("No state from storage; skipping response validation"),n}),function(e){return t.apply(this,arguments)})},{key:"clearStaleState",value:function(){return this._logger.create("clearStaleState"),oe.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}},{key:"revokeToken",value:(e=(0,h.default)(function*(e,t){return this._logger.create("revokeToken"),yield this._tokenClient.revoke({token:e,token_type_hint:t})}),function(t,i){return e.apply(this,arguments)})}]);var e,t,i,r,n,s,o,u,l,c})(),me=_e.SessionMonitor=(function(){return(0,f.default)(function e(t){var i=this;(0,p.default)(this,e),this._userManager=t,this._logger=new H("SessionMonitor"),this._start=(function(){var e=(0,h.default)(function*(e){var t=e.session_state;if(t){var r=i._logger.create("_start");if(e.profile?(i._sub=e.profile.sub,r.debug("session_state",t,", sub",i._sub)):(i._sub=void 0,r.debug("session_state",t,", anonymous user")),i._checkSessionIFrame)i._checkSessionIFrame.start(t);else try{var n=yield i._userManager.metadataService.getCheckSessionIframe();if(n){r.debug("initializing check session iframe");var s=i._userManager.settings.client_id,o=i._userManager.settings.checkSessionIntervalInSeconds,u=i._userManager.settings.stopCheckSessionOnError,l=new G(i._callback,s,n,o,u);yield l.load(),i._checkSessionIFrame=l,l.start(t)}else r.warn("no check session iframe found in the metadata")}catch(e){r.error("Error from getCheckSessionIframe:",e instanceof Error?e.message:e)}}});return function(t){return e.apply(this,arguments)}})(),this._stop=function(){var e=i._logger.create("_stop");if(i._sub=void 0,i._checkSessionIFrame&&i._checkSessionIFrame.stop(),i._userManager.settings.monitorAnonymousSession)var t=setInterval((0,h.default)(function*(){clearInterval(t);try{var r=yield i._userManager.querySessionStatus();if(r){var n={session_state:r.session_state,profile:r.sub?{sub:r.sub}:null};i._start(n)}}catch(t){e.error("error from querySessionStatus",t instanceof Error?t.message:t)}}),1e3)},this._callback=(0,h.default)(function*(){var e=i._logger.create("_callback");try{var t=yield i._userManager.querySessionStatus(),r=!0;t&&i._checkSessionIFrame?t.sub===i._sub?(r=!1,i._checkSessionIFrame.start(t.session_state),e.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",t.session_state),yield i._userManager.events._raiseUserSessionChanged()):e.debug("different subject signed into OP",t.sub):e.debug("subject no longer signed into OP"),r?i._sub?yield i._userManager.events._raiseUserSignedOut():yield i._userManager.events._raiseUserSignedIn():e.debug("no change in session detected, no event to raise")}catch(t){i._sub&&(e.debug("Error calling queryCurrentSigninSession; raising signed out event",t),yield i._userManager.events._raiseUserSignedOut())}}),t||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(function(e){i._logger.error(e)})},[{key:"_init",value:(e=(0,h.default)(function*(){this._logger.create("_init");var e=yield this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){var t=yield this._userManager.querySessionStatus();if(t){var i={session_state:t.session_state,profile:t.sub?{sub:t.sub}:null};this._start(i)}}}),function(){return e.apply(this,arguments)})}]);var e})(),we=_e.User=(function(){function e(t){var i;(0,p.default)(this,e),this.id_token=t.id_token,this.session_state=null!=(i=t.session_state)?i:null,this.access_token=t.access_token,this.refresh_token=t.refresh_token,this.token_type=t.token_type,this.scope=t.scope,this.profile=t.profile,this.expires_at=t.expires_at,this.state=t.userState,this.url_state=t.url_state}return(0,f.default)(e,[{key:"expires_in",get:function(){if(void 0!==this.expires_at)return this.expires_at-L.getEpochTime()},set:function(e){void 0!==e&&(this.expires_at=Math.floor(e)+L.getEpochTime())}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){var e,t;return null!=(t=null==(e=this.scope)?void 0:e.split(" "))?t:[]}},{key:"toStorageString",value:function(){return new H("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}}],[{key:"fromStorageString",value:function(t){return H.createStatic("User","fromStorageString"),new e(JSON.parse(t))}}])})(),ke="oidc-client",Se=(function(){return(0,f.default)(function e(){(0,p.default)(this,e),this._abort=new D("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null},[{key:"navigate",value:(e=(0,h.default)(function*(e){var t=this,i=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");i.debug("setting URL in window"),this._window.location.replace(e.url);var r=yield new Promise(function(r,n){var s=function(s){var o,u=s.data,l=null!=(o=e.scriptOrigin)?o:window.location.origin;if(s.origin===l&&(null==u?void 0:u.source)===ke){try{var c=F.readParams(u.url,e.response_mode).get("state");if(c||i.warn("no state found in response url"),s.source!==t._window&&c!==e.state)return}catch(e){t._dispose(),n(new Error("Invalid response from window"))}r(u)}};window.addEventListener("message",s,!1),t._disposeHandlers.add(function(){return window.removeEventListener("message",s,!1)});var o=new BroadcastChannel(`oidc-client-popup-${e.state}`);o.addEventListener("message",s,!1),t._disposeHandlers.add(function(){return o.close()}),t._disposeHandlers.add(t._abort.addHandler(function(e){t._dispose(),n(e)}))}),n=r.url,s=r.keepOpen;return i.debug("got response from window"),this._dispose(),s||this.close(),{url:n}}),function(t){return e.apply(this,arguments)})},{key:"_dispose",value:function(){for(var e of(this._logger.create("_dispose"),this._disposeHandlers))e();this._disposeHandlers.clear()}}],[{key:"_notifyParent",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.origin,n={source:ke,url:t,keepOpen:i},s=new H("_notifyParent");if(e)s.debug("With parent. Using parent.postMessage."),e.postMessage(n,r);else{s.debug("No parent. Using BroadcastChannel.");var o=new URL(t).searchParams.get("state");if(!o)throw new Error("No parent and no state in URL. Can't complete notification.");var u=new BroadcastChannel(`oidc-client-popup-${o}`);u.postMessage(n),u.close()}}}]);var e})(),be={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Te="_blank",Ee=_e.UserManagerSettingsStore=(function(e){function t(e){var i;(0,p.default)(this,t);var r=e.popup_redirect_uri,n=void 0===r?e.redirect_uri:r,s=e.popup_post_logout_redirect_uri,o=void 0===s?e.post_logout_redirect_uri:s,u=e.popupWindowFeatures,l=void 0===u?be:u,c=e.popupWindowTarget,h=void 0===c?Te:c,f=e.redirectMethod,_=void 0===f?"assign":f,v=e.redirectTarget,y=void 0===v?"self":v,w=e.iframeNotifyParentOrigin,k=void 0===w?e.iframeNotifyParentOrigin:w,S=e.iframeScriptOrigin,b=void 0===S?e.iframeScriptOrigin:S,T=e.requestTimeoutInSeconds,E=e.silent_redirect_uri,I=void 0===E?e.redirect_uri:E,P=e.silentRequestTimeoutInSeconds,x=e.automaticSilentRenew,C=void 0===x||x,U=e.validateSubOnSilentRenew,O=void 0===U||U,A=e.includeIdTokenInSilentRenew,q=void 0!==A&&A,j=e.monitorSession,N=void 0!==j&&j,H=e.monitorAnonymousSession,M=void 0!==H&&H,W=e.checkSessionIntervalInSeconds,J=void 0===W?2:W,$=e.query_status_response_type,D=void 0===$?"code":$,K=e.stopCheckSessionOnError,L=void 0===K||K,F=e.revokeTokenTypes,z=void 0===F?["access_token","refresh_token"]:F,B=e.revokeTokensOnSignout,Q=void 0!==B&&B,V=e.includeIdTokenInSilentSignout,G=void 0!==V&&V,Y=e.accessTokenExpiringNotificationTimeInSeconds,Z=void 0===Y?60:Y,ee=e.userStore;if((i=R(this,t,[e])).popup_redirect_uri=n,i.popup_post_logout_redirect_uri=o,i.popupWindowFeatures=l,i.popupWindowTarget=h,i.redirectMethod=_,i.redirectTarget=y,i.iframeNotifyParentOrigin=k,i.iframeScriptOrigin=b,i.silent_redirect_uri=I,i.silentRequestTimeoutInSeconds=P||T||10,i.automaticSilentRenew=C,i.validateSubOnSilentRenew=O,i.includeIdTokenInSilentRenew=q,i.monitorSession=N,i.monitorAnonymousSession=M,i.checkSessionIntervalInSeconds=J,i.stopCheckSessionOnError=L,i.query_status_response_type=D,i.revokeTokenTypes=z,i.revokeTokensOnSignout=Q,i.includeIdTokenInSilentSignout=G,i.accessTokenExpiringNotificationTimeInSeconds=Z,ee)i.userStore=ee;else{var ie="undefined"!=typeof window?window.sessionStorage:new X;i.userStore=new te({store:ie})}return i}return(0,n.default)(t,e),(0,f.default)(t)})(ie),Ie=(function(e){function t(e){var i,r=e.silentRequestTimeoutInSeconds,n=void 0===r?10:r;return(0,p.default)(this,t),(i=R(this,t))._logger=new H("IFrameWindow"),i._timeoutInSeconds=n,i._frame=t.createHiddenIframe(),i._window=i._frame.contentWindow,i}return(0,n.default)(t,e),(0,f.default)(t,[{key:"navigate",value:(i=(0,h.default)(function*(e){var i=this;this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);var r=setTimeout(function(){i._abort.raise(new Q("IFrame timed out without a response"))},1e3*this._timeoutInSeconds);return this._disposeHandlers.add(function(){return clearTimeout(r)}),yield U(t,"navigate",this,3)([e])}),function(e){return i.apply(this,arguments)})},{key:"close",value:function(){var e,t=this;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",function(e){var i,r=e.target;null==(i=r.parentNode)||i.removeChild(r),t._abort.raise(new Error("IFrame removed from DOM"))},!0),null==(e=this._frame.contentWindow)||e.location.replace("about:blank")),this._frame=null),this._window=null}}],[{key:"createHiddenIframe",value:function(){var e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}},{key:"notifyParent",value:function(e,i){return U(t,"_notifyParent",this,2)([window.parent,e,!1,i])}}]);var i})(Se),Pe=(function(){return(0,f.default)(function e(t){(0,p.default)(this,e),this._settings=t,this._logger=new H("IFrameNavigator")},[{key:"prepare",value:(t=(0,h.default)(function*(e){var t=e.silentRequestTimeoutInSeconds,i=void 0===t?this._settings.silentRequestTimeoutInSeconds:t;return new Ie({silentRequestTimeoutInSeconds:i})}),function(e){return t.apply(this,arguments)})},{key:"callback",value:(e=(0,h.default)(function*(e){this._logger.create("callback"),Ie.notifyParent(e,this._settings.iframeNotifyParentOrigin)}),function(t){return e.apply(this,arguments)})}]);var e,t})(),xe=(function(e){function t(e){var i,r=e.popupWindowTarget,n=void 0===r?Te:r,s=e.popupWindowFeatures,o=void 0===s?{}:s,u=e.popupSignal,l=e.popupAbortOnClose;(0,p.default)(this,t),(i=R(this,t))._logger=new H("PopupWindow");var c=K.center(Object.assign({},be,o));return i._window=window.open(void 0,n,K.serialize(c)),i.abortOnClose=Boolean(l),u&&u.addEventListener("abort",function(){var e;i._abort.raise(new Error(null!=(e=u.reason)?e:"Popup aborted"))}),o.closePopupWindowAfterInSeconds&&o.closePopupWindowAfterInSeconds>0&&setTimeout(function(){i._window&&"boolean"==typeof i._window.closed&&!i._window.closed?i.close():i._abort.raise(new Error("Popup blocked by user"))},1e3*o.closePopupWindowAfterInSeconds),i}return(0,n.default)(t,e),(0,f.default)(t,[{key:"navigate",value:(i=(0,h.default)(function*(e){var i,r=this;null==(i=this._window)||i.focus();var n=setInterval(function(){r._window&&!r._window.closed||(r._logger.debug("Popup closed by user or isolated by redirect"),s(),r._disposeHandlers.delete(s),r.abortOnClose&&r._abort.raise(new Error("Popup closed by user")))},500),s=function(){return clearInterval(n)};return this._disposeHandlers.add(s),yield U(t,"navigate",this,3)([e])}),function(e){return i.apply(this,arguments)})},{key:"close",value:function(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}}],[{key:"notifyOpener",value:function(e,i){U(t,"_notifyParent",this,2)([window.opener,e,i]),i||window.opener||window.close()}}]);var i})(Se),Re=(function(){return(0,f.default)(function e(t){(0,p.default)(this,e),this._settings=t,this._logger=new H("PopupNavigator")},[{key:"prepare",value:(t=(0,h.default)(function*(e){var t=e.popupWindowFeatures,i=void 0===t?this._settings.popupWindowFeatures:t,r=e.popupWindowTarget,n=void 0===r?this._settings.popupWindowTarget:r,s=e.popupSignal,o=e.popupAbortOnClose;return new xe({popupWindowFeatures:i,popupWindowTarget:n,popupSignal:s,popupAbortOnClose:o})}),function(e){return t.apply(this,arguments)})},{key:"callback",value:(e=(0,h.default)(function*(e,t){var i=t.keepOpen,r=void 0!==i&&i;this._logger.create("callback"),xe.notifyOpener(e,r)}),function(t,i){return e.apply(this,arguments)})}]);var e,t})(),Ce=(function(){return(0,f.default)(function e(t){(0,p.default)(this,e),this._settings=t,this._logger=new H("RedirectNavigator")},[{key:"prepare",value:(t=(0,h.default)(function*(e){var t,i=this,r=e.redirectMethod,n=void 0===r?this._settings.redirectMethod:r,s=e.redirectTarget,o=void 0===s?this._settings.redirectTarget:s;this._logger.create("prepare");var u=window.self;"top"===o&&(u=null!=(t=window.top)?t:window.self);var l,c,p=u.location[n].bind(u.location);return{navigate:(c=(0,h.default)(function*(e){i._logger.create("navigate");var t=new Promise(function(t,i){l=i,window.addEventListener("pageshow",function(){return t(window.location.href)}),p(e.url)});return yield t}),function(e){return c.apply(this,arguments)}),close:function(){i._logger.create("close"),null==l||l(new Error("Redirect aborted")),u.stop()}}}),function(e){return t.apply(this,arguments)})},{key:"callback",value:(e=(0,h.default)(function*(){}),function(){return e.apply(this,arguments)})}]);var e,t})(),Ue=(function(e){function t(e){var i;return(0,p.default)(this,t),(i=R(this,t,[{expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}]))._logger=new H("UserManagerEvents"),i._userLoaded=new D("User loaded"),i._userUnloaded=new D("User unloaded"),i._silentRenewError=new D("Silent renew error"),i._userSignedIn=new D("User signed in"),i._userSignedOut=new D("User signed out"),i._userSessionChanged=new D("User session changed"),i}return(0,n.default)(t,e),(0,f.default)(t,[{key:"load",value:(l=(0,h.default)(function*(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];yield U(t,"load",this,3)([e]),i&&(yield this._userLoaded.raise(e))}),function(e){return l.apply(this,arguments)})},{key:"unload",value:(u=(0,h.default)(function*(){yield U(t,"unload",this,3)([]),yield this._userUnloaded.raise()}),function(){return u.apply(this,arguments)})},{key:"addUserLoaded",value:function(e){return this._userLoaded.addHandler(e)}},{key:"removeUserLoaded",value:function(e){return this._userLoaded.removeHandler(e)}},{key:"addUserUnloaded",value:function(e){return this._userUnloaded.addHandler(e)}},{key:"removeUserUnloaded",value:function(e){return this._userUnloaded.removeHandler(e)}},{key:"addSilentRenewError",value:function(e){return this._silentRenewError.addHandler(e)}},{key:"removeSilentRenewError",value:function(e){return this._silentRenewError.removeHandler(e)}},{key:"_raiseSilentRenewError",value:(o=(0,h.default)(function*(e){yield this._silentRenewError.raise(e)}),function(e){return o.apply(this,arguments)})},{key:"addUserSignedIn",value:function(e){return this._userSignedIn.addHandler(e)}},{key:"removeUserSignedIn",value:function(e){this._userSignedIn.removeHandler(e)}},{key:"_raiseUserSignedIn",value:(s=(0,h.default)(function*(){yield this._userSignedIn.raise()}),function(){return s.apply(this,arguments)})},{key:"addUserSignedOut",value:function(e){return this._userSignedOut.addHandler(e)}},{key:"removeUserSignedOut",value:function(e){this._userSignedOut.removeHandler(e)}},{key:"_raiseUserSignedOut",value:(r=(0,h.default)(function*(){yield this._userSignedOut.raise()}),function(){return r.apply(this,arguments)})},{key:"addUserSessionChanged",value:function(e){return this._userSessionChanged.addHandler(e)}},{key:"removeUserSessionChanged",value:function(e){this._userSessionChanged.removeHandler(e)}},{key:"_raiseUserSessionChanged",value:(i=(0,h.default)(function*(){yield this._userSessionChanged.raise()}),function(){return i.apply(this,arguments)})}]);var i,r,s,o,u,l})(V),Oe=(function(){return(0,f.default)(function e(t){var i=this;(0,p.default)(this,e),this._userManager=t,this._logger=new H("SilentRenewService"),this._isStarted=!1,this._retryTimer=new L("Retry Silent Renew"),this._tokenExpiring=(0,h.default)(function*(){var e=i._logger.create("_tokenExpiring");try{yield i._userManager.signinSilent(),e.debug("silent token renewal successful")}catch(t){if(t instanceof Q)return e.warn("ErrorTimeout from signinSilent:",t,"retry in 5s"),void i._retryTimer.init(5);e.error("Error from signinSilent:",t),yield i._userManager.events._raiseSilentRenewError(t)}})},[{key:"start",value:(e=(0,h.default)(function*(){var e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{yield this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}),function(){return e.apply(this,arguments)})},{key:"stop",value:function(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}}]);var e})(),Ae=(0,f.default)(function e(t){(0,p.default)(this,e),this.refresh_token=t.refresh_token,this.id_token=t.id_token,this.session_state=t.session_state,this.scope=t.scope,this.profile=t.profile,this.data=t.state});_e.UserManager=(function(){return(0,f.default)(function e(t,i,r,n){(0,p.default)(this,e),this._logger=new H("UserManager"),this.settings=new Ee(t),this._client=new ye(t),this._redirectNavigator=null!=i?i:new Ce(this.settings),this._popupNavigator=null!=r?r:new Re(this.settings),this._iframeNavigator=null!=n?n:new Pe(this.settings),this._events=new Ue(this.settings),this._silentRenewService=new Oe(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new me(this))},[{key:"events",get:function(){return this._events}},{key:"metadataService",get:function(){return this._client.metadataService}},{key:"getUser",value:(G=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._logger.create("getUser"),i=yield this._loadUser();return i?(t.info("user loaded"),yield this._events.load(i,e),i):(t.info("user not found in storage"),null)}),function(){return G.apply(this,arguments)})},{key:"removeUser",value:(V=(0,h.default)(function*(){var e=this._logger.create("removeUser");yield this.storeUser(null),e.info("user removed from storage"),yield this._events.unload()}),function(){return V.apply(this,arguments)})},{key:"signinRedirect",value:(Q=(0,h.default)(function*(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._logger.create("signinRedirect");var r,n=i.redirectMethod,s=(0,t.default)(i,S);(null==(e=this.settings.dpop)?void 0:e.bind_authorization_code)&&(r=yield this.generateDPoPJkt(this.settings.dpop));var o=yield this._redirectNavigator.prepare({redirectMethod:n});yield this._signinStart(Object.assign({request_type:"si:r",dpopJkt:r},s),o)}),function(){return Q.apply(this,arguments)})},{key:"signinRedirectCallback",value:(z=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=this._logger.create("signinRedirectCallback"),i=yield this._signinEnd(e);return i.profile&&i.profile.sub?t.info("success, signed in subject",i.profile.sub):t.info("no subject"),i}),function(){return z.apply(this,arguments)})},{key:"signinResourceOwnerCredentials",value:(F=(0,h.default)(function*(e){var t=e.username,i=e.password,r=e.skipUserInfo,n=void 0!==r&&r,s=this._logger.create("signinResourceOwnerCredential"),o=yield this._client.processResourceOwnerPasswordCredentials({username:t,password:i,skipUserInfo:n,extraTokenParams:this.settings.extraTokenParams});s.debug("got signin response");var u=yield this._buildUser(o);return u.profile&&u.profile.sub?s.info("success, signed in subject",u.profile.sub):s.info("no subject"),u}),function(e){return F.apply(this,arguments)})},{key:"signinPopup",value:(L=(0,h.default)(function*(){var e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._logger.create("signinPopup");(null==(e=this.settings.dpop)?void 0:e.bind_authorization_code)&&(i=yield this.generateDPoPJkt(this.settings.dpop));var s=r.popupWindowFeatures,o=r.popupWindowTarget,u=r.popupSignal,l=r.popupAbortOnClose,c=(0,t.default)(r,b),h=this.settings.popup_redirect_uri;h||n.throw(new Error("No popup_redirect_uri configured"));var p=yield this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:o,popupSignal:u,popupAbortOnClose:l}),f=yield this._signin(Object.assign({request_type:"si:p",redirect_uri:h,display:"popup",dpopJkt:i},c),p);return f&&(f.profile&&f.profile.sub?n.info("success, signed in subject",f.profile.sub):n.info("no subject")),f}),function(){return L.apply(this,arguments)})},{key:"signinPopupCallback",value:(K=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._logger.create("signinPopupCallback");yield this._popupNavigator.callback(e,{keepOpen:t}),i.info("success")}),function(){return K.apply(this,arguments)})},{key:"signinSilent",value:(D=(0,h.default)(function*(){var e,i,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=this._logger.create("signinSilent"),o=n.silentRequestTimeoutInSeconds,u=(0,t.default)(n,T),l=yield this._loadUser();if(!n.forceIframeAuth&&(null==l?void 0:l.refresh_token)){s.debug("using refresh token");var c=new Ae(l);return yield this._useRefreshToken({state:c,redirect_uri:u.redirect_uri,resource:u.resource,extraTokenParams:u.extraTokenParams,timeoutInSeconds:o})}(null==(e=this.settings.dpop)?void 0:e.bind_authorization_code)&&(r=yield this.generateDPoPJkt(this.settings.dpop));var h,p=this.settings.silent_redirect_uri;p||s.throw(new Error("No silent_redirect_uri configured")),l&&this.settings.validateSubOnSilentRenew&&(s.debug("subject prior to silent renew:",l.profile.sub),h=l.profile.sub);var f=yield this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:o});return(l=yield this._signin(Object.assign({request_type:"si:s",redirect_uri:p,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==l?void 0:l.id_token:void 0,dpopJkt:r},u),f,h))&&((null==(i=l.profile)?void 0:i.sub)?s.info("success, signed in subject",l.profile.sub):s.info("no subject")),l}),function(){return D.apply(this,arguments)})},{key:"_useRefreshToken",value:(J=(0,h.default)(function*(e){var t=yield this._client.useRefreshToken(Object.assign({timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds},e)),i=new we(Object.assign({},e.state,t));return yield this.storeUser(i),yield this._events.load(i),i}),function(e){return J.apply(this,arguments)})},{key:"signinSilentCallback",value:(W=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=this._logger.create("signinSilentCallback");yield this._iframeNavigator.callback(e),t.info("success")}),function(){return W.apply(this,arguments)})},{key:"signinCallback",value:(M=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;switch((yield this._client.readSigninResponseState(e)).state.request_type){case"si:r":return yield this.signinRedirectCallback(e);case"si:p":yield this.signinPopupCallback(e);break;case"si:s":yield this.signinSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}),function(){return M.apply(this,arguments)})},{key:"signoutCallback",value:(N=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(yield this._client.readSignoutResponseState(e)).state;if(i)switch(i.request_type){case"so:r":return yield this.signoutRedirectCallback(e);case"so:p":yield this.signoutPopupCallback(e,t);break;case"so:s":yield this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}),function(){return N.apply(this,arguments)})},{key:"querySessionStatus",value:(j=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._logger.create("querySessionStatus"),r=e.silentRequestTimeoutInSeconds,n=(0,t.default)(e,E),s=this.settings.silent_redirect_uri;s||i.throw(new Error("No silent_redirect_uri configured"));var o=yield this._loadUser(),u=yield this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r}),l=yield this._signinStart(Object.assign({request_type:"si:s",redirect_uri:s,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==o?void 0:o.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0},n),u);try{var c=yield this._client.processSigninResponse(l.url,{});return i.debug("got signin response"),c.session_state&&c.profile.sub?(i.info("success for subject",c.profile.sub),{session_state:c.session_state,sub:c.profile.sub}):(i.info("success, user not authenticated"),null)}catch(e){if(this.settings.monitorAnonymousSession&&e instanceof B)switch(e.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return i.info("success for anonymous user"),{session_state:e.session_state}}throw e}}),function(){return j.apply(this,arguments)})},{key:"_signin",value:(q=(0,h.default)(function*(e,t,i){var r=yield this._signinStart(e,t);return yield this._signinEnd(r.url,i)}),function(e,t,i){return q.apply(this,arguments)})},{key:"_signinStart",value:(A=(0,h.default)(function*(e,t){var i=this._logger.create("_signinStart");try{var r=yield this._client.createSigninRequest(e);return i.debug("got signin request"),yield t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw i.debug("error after preparing navigator, closing navigator window"),t.close(),e}}),function(e,t){return A.apply(this,arguments)})},{key:"_signinEnd",value:(O=(0,h.default)(function*(e,t){var i=this._logger.create("_signinEnd"),r=yield this._client.processSigninResponse(e,{});return i.debug("got signin response"),yield this._buildUser(r,t)}),function(e,t){return O.apply(this,arguments)})},{key:"_buildUser",value:(U=(0,h.default)(function*(e,t){var i=this._logger.create("_buildUser"),r=new we(e);if(t){if(t!==r.profile.sub)throw i.debug("current user does not match user returned from signin. sub from signin:",r.profile.sub),new B(Object.assign({},e,{error:"login_required"}));i.debug("current user matches user returned from signin")}return yield this.storeUser(r),i.debug("user stored"),yield this._events.load(r),r}),function(e,t){return U.apply(this,arguments)})},{key:"signoutRedirect",value:(C=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._logger.create("signoutRedirect"),r=e.redirectMethod,n=(0,t.default)(e,I),s=yield this._redirectNavigator.prepare({redirectMethod:r});yield this._signoutStart(Object.assign({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri},n),s),i.info("success")}),function(){return C.apply(this,arguments)})},{key:"signoutRedirectCallback",value:(R=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=this._logger.create("signoutRedirectCallback"),i=yield this._signoutEnd(e);return t.info("success"),i}),function(){return R.apply(this,arguments)})},{key:"signoutPopup",value:(k=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._logger.create("signoutPopup"),r=e.popupWindowFeatures,n=e.popupWindowTarget,s=e.popupSignal,o=(0,t.default)(e,P),u=this.settings.popup_post_logout_redirect_uri,l=yield this._popupNavigator.prepare({popupWindowFeatures:r,popupWindowTarget:n,popupSignal:s});yield this._signout(Object.assign({request_type:"so:p",post_logout_redirect_uri:u,state:null==u?void 0:{}},o),l),i.info("success")}),function(){return k.apply(this,arguments)})},{key:"signoutPopupCallback",value:(w=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._logger.create("signoutPopupCallback");yield this._popupNavigator.callback(e,{keepOpen:t}),i.info("success")}),function(){return w.apply(this,arguments)})},{key:"_signout",value:(y=(0,h.default)(function*(e,t){var i=yield this._signoutStart(e,t);return yield this._signoutEnd(i.url)}),function(e,t){return y.apply(this,arguments)})},{key:"_signoutStart",value:(v=(0,h.default)(function*(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,r=this._logger.create("_signoutStart");try{var n=yield this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&(yield this._revokeInternal(n));var s=t.id_token_hint||n&&n.id_token;s&&(r.debug("setting id_token_hint in signout request"),t.id_token_hint=s),yield this.removeUser(),r.debug("user removed, creating signout request");var o=yield this._client.createSignoutRequest(t);return r.debug("got signout request"),yield i.navigate({url:o.url,state:null==(e=o.state)?void 0:e.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw r.debug("error after preparing navigator, closing navigator window"),i.close(),e}}),function(){return v.apply(this,arguments)})},{key:"_signoutEnd",value:(_=(0,h.default)(function*(e){var t=this._logger.create("_signoutEnd"),i=yield this._client.processSignoutResponse(e);return t.debug("got signout response"),i}),function(e){return _.apply(this,arguments)})},{key:"signoutSilent",value:(c=(0,h.default)(function*(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this._logger.create("signoutSilent"),n=i.silentRequestTimeoutInSeconds,s=(0,t.default)(i,x),o=this.settings.includeIdTokenInSilentSignout?null==(e=yield this._loadUser())?void 0:e.id_token:void 0,u=this.settings.popup_post_logout_redirect_uri,l=yield this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});yield this._signout(Object.assign({request_type:"so:s",post_logout_redirect_uri:u,id_token_hint:o},s),l),r.info("success")}),function(){return c.apply(this,arguments)})},{key:"signoutSilentCallback",value:(l=(0,h.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=this._logger.create("signoutSilentCallback");yield this._iframeNavigator.callback(e),t.info("success")}),function(){return l.apply(this,arguments)})},{key:"revokeTokens",value:(u=(0,h.default)(function*(e){var t=yield this._loadUser();yield this._revokeInternal(t,e)}),function(e){return u.apply(this,arguments)})},{key:"_revokeInternal",value:(o=(0,h.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.revokeTokenTypes,i=this._logger.create("_revokeInternal");if(e){var r=t.filter(function(t){return"string"==typeof e[t]});if(r.length){for(var n of r)yield this._client.revokeToken(e[n],n),i.info(`${n} revoked successfully`),"access_token"!==n&&(e[n]=null);yield this.storeUser(e),i.debug("user stored"),yield this._events.load(e)}else i.debug("no need to revoke due to no token(s)")}}),function(e){return o.apply(this,arguments)})},{key:"startSilentRenew",value:function(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}},{key:"stopSilentRenew",value:function(){this._silentRenewService.stop()}},{key:"_userStoreKey",get:function(){return`user:${this.settings.authority}:${this.settings.client_id}`}},{key:"_loadUser",value:(s=(0,h.default)(function*(){var e=this._logger.create("_loadUser"),t=yield this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),we.fromStorageString(t)):(e.debug("no user storageString"),null)}),function(){return s.apply(this,arguments)})},{key:"storeUser",value:(n=(0,h.default)(function*(e){var t=this._logger.create("storeUser");if(e){t.debug("storing user");var i=e.toStorageString();yield this.settings.userStore.set(this._userStoreKey,i)}else this._logger.debug("removing user"),yield this.settings.userStore.remove(this._userStoreKey),this.settings.dpop&&(yield this.settings.dpop.store.remove(this.settings.client_id))}),function(e){return n.apply(this,arguments)})},{key:"clearStaleState",value:(r=(0,h.default)(function*(){yield this._client.clearStaleState()}),function(){return r.apply(this,arguments)})},{key:"dpopProof",value:(i=(0,h.default)(function*(e,t,i,r){var n,s,o=yield null==(s=null==(n=this.settings.dpop)?void 0:n.store)?void 0:s.get(this.settings.client_id);if(o)return yield $.generateDPoPProof({url:e,accessToken:null==t?void 0:t.access_token,httpMethod:i,keyPair:o.keys,nonce:r})}),function(e,t,r,n){return i.apply(this,arguments)})},{key:"generateDPoPJkt",value:(e=(0,h.default)(function*(e){var t=yield e.store.get(this.settings.client_id);if(!t){var i=yield $.generateDPoPKeys();t=new ve(i),yield e.store.set(this.settings.client_id,t)}return yield $.generateDPoPJkt(t.keys)}),function(t){return e.apply(this,arguments)})}]);var e,i,r,n,s,o,u,l,c,_,v,y,w,k,R,C,U,O,A,q,j,N,M,W,J,D,K,L,F,z,Q,V,G})(),_e.Version="3.4.1",_e.IndexedDbDPoPStore=(function(){return(0,f.default)(function e(){(0,p.default)(this,e),this._dbName="oidc",this._storeName="dpop"},[{key:"set",value:(n=(0,h.default)(function*(e,t){var i=this,r=yield this.createStore(this._dbName,this._storeName);yield r("readwrite",function(r){return r.put(t,e),i.promisifyRequest(r.transaction)})}),function(e,t){return n.apply(this,arguments)})},{key:"get",value:(r=(0,h.default)(function*(e){var t=this,i=yield this.createStore(this._dbName,this._storeName);return yield i("readonly",function(i){return t.promisifyRequest(i.get(e))})}),function(e){return r.apply(this,arguments)})},{key:"remove",value:(i=(0,h.default)(function*(e){var t=this,i=yield this.get(e),r=yield this.createStore(this._dbName,this._storeName);return yield r("readwrite",function(i){return t.promisifyRequest(i.delete(e))}),i}),function(e){return i.apply(this,arguments)})},{key:"getAllKeys",value:(t=(0,h.default)(function*(){var e=this,t=yield this.createStore(this._dbName,this._storeName);return yield t("readonly",function(t){return e.promisifyRequest(t.getAllKeys())})}),function(){return t.apply(this,arguments)})},{key:"promisifyRequest",value:function(e){return new Promise(function(t,i){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return i(e.error)}})}},{key:"createStore",value:(e=(0,h.default)(function*(e,t){var i=indexedDB.open(e);i.onupgradeneeded=function(){return i.result.createObjectStore(t)};var r=yield this.promisifyRequest(i);return(function(){var e=(0,h.default)(function*(e,i){var n=r.transaction(t,e).objectStore(t);return yield i(n)});return function(t,i){return e.apply(this,arguments)}})()}),function(t,i){return e.apply(this,arguments)})}]);var e,t,i,r,n})()},914,[1,4,144,18,23,20,21,34,73,42,356,11,12,915]);
__d(function(g,r,i,a,_m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.InvalidTokenError=void 0,_e.jwtDecode=function(e,t){if("string"!=typeof e)throw new s("Invalid token specified: must be a string");t||(t={});var n,o=!0===t.header?0:1,c=e.split(".")[o];if("string"!=typeof c)throw new s(`Invalid token specified: missing part #${o+1}`);try{n=v(c)}catch(e){throw new s(`Invalid token specified: invalid base64 for part #${o+1} (${e.message})`)}try{return JSON.parse(n)}catch(e){throw new s(`Invalid token specified: invalid json for part #${o+1} (${e.message})`)}};var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),c=e(r(d[4])),l=e(r(d[5])),u=e(r(d[6]));function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var s=_e.InvalidTokenError=(function(e){function u(){return(0,n.default)(this,u),e=this,t=u,l=arguments,t=(0,c.default)(t),(0,o.default)(e,f()?Reflect.construct(t,l||[],(0,c.default)(e).constructor):t.apply(e,l));var e,t,l}return(0,l.default)(u,e),(0,t.default)(u)})((0,u.default)(Error));function p(e){return decodeURIComponent(atob(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function v(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return p(t)}catch(e){return atob(t)}}s.prototype.name="InvalidTokenError"},915,[1,12,11,18,20,23,144]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.OidcError=void 0;e.OidcError=(function(n){return n.NotSupported="OIDC authentication not supported",n.Misconfigured="OIDC is misconfigured",n.General="Something went wrong with OIDC discovery",n.OpSupport="Configured OIDC OP does not support required functions",n.DynamicRegistrationNotSupported="Dynamic registration not supported",n.DynamicRegistrationFailed="Dynamic registration failed",n.DynamicRegistrationInvalid="Dynamic registration invalid response",n.CodeExchangeFailed="Failed to exchange code for token",n.InvalidBearerTokenResponse="Invalid bearer token response",n.InvalidIdToken="Invalid ID token",n.MissingOrInvalidStoredState="State required to finish logging in is not found in storage.",n})({})},916,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.validateAuthMetadata=e.decodeIdToken=void 0,e.validateBearerTokenResponse=function(o){if(!p(o))throw new Error(r(d[1]).OidcError.InvalidBearerTokenResponse)},e.validateIdToken=void 0,e.validateStoredUserState=function(c){if(!o(c))throw r(d[0]).logger.error("Stored user state not found"),new Error(r(d[1]).OidcError.MissingOrInvalidStoredState);if([n(c,"homeserverUrl"),n(c,"nonce"),t(c,"identityServerUrl")].some(function(o){return!o}))throw new Error(r(d[1]).OidcError.MissingOrInvalidStoredState)};var o=function(o){return!!o&&"object"==typeof o&&!Array.isArray(o)},n=function(o,n){return!(!o[n]||!t(o,n))||(r(d[0]).logger.error("Missing or invalid property: ".concat(n)),!1)},t=function(o,n){return!o[n]||"string"==typeof o[n]||(r(d[0]).logger.error("Invalid property: ".concat(n)),!1)},c=function(o,n){return!!(!o[n]||Array.isArray(o[n])&&o[n].every(function(o){return"string"==typeof o}))||(r(d[0]).logger.error("Invalid property: ".concat(n)),!1)},u=function(o,n,t){var c=o[n];return!!(c&&Array.isArray(c)&&c.includes(t))||(r(d[0]).logger.error("Invalid property: ".concat(n,". ").concat(t," is required.")),!1)},s=(e.validateAuthMetadata=function(s){if(!o(s))throw r(d[0]).logger.error("Issuer configuration not found or malformed"),new Error(r(d[1]).OidcError.OpSupport);if(![n(s,"issuer"),n(s,"authorization_endpoint"),n(s,"token_endpoint"),n(s,"revocation_endpoint"),t(s,"registration_endpoint"),t(s,"account_management_uri"),t(s,"device_authorization_endpoint"),c(s,"account_management_actions_supported"),u(s,"response_types_supported","code"),u(s,"grant_types_supported","authorization_code"),u(s,"code_challenge_methods_supported","S256"),c(s,"prompt_values_supported")].some(function(o){return!o}))return s;throw r(d[0]).logger.error("Issuer configuration not valid"),new Error(r(d[1]).OidcError.OpSupport)},e.decodeIdToken=function(o){try{return(0,r(d[2]).jwtDecode)(o)}catch(o){throw r(d[0]).logger.error("Could not decode id_token",o),o}});e.validateIdToken=function(o,n,t,c){try{if(!o)throw new Error("No ID token");var u=s(o);if(u.iss!==n)throw new Error("Invalid issuer");if(!("string"==typeof u.aud?[u.aud]:u.aud).includes(t))throw new Error("Invalid audience");if(void 0!==c&&u.nonce!==c)throw new Error("Invalid nonce");if(!u.exp||Date.now()>1e3*u.exp)throw new Error("Invalid expiry")}catch(o){throw r(d[0]).logger.error("Invalid ID token",o),new Error(r(d[1]).OidcError.InvalidIdToken)}};var p=function(t){return o(t)&&n(t,"token_type")&&"bearer"===t.token_type.toLowerCase()&&n(t,"access_token")&&n(t,"refresh_token")&&(!("expires_in"in t)||"number"==typeof t.expires_in)}},917,[746,916,915]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.validateAuthMetadataAndKeys=_e.discoverAndValidateOIDCIssuerWellKnown=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach(function(r){(0,t.default)(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}_e.discoverAndValidateOIDCIssuerWellKnown=(function(){var e=(0,r.default)(function*(e){var t=new URL(".well-known/openid-configuration",e),r=yield fetch(t,{method:_r(d[3]).Method.Get,signal:(0,_r(d[3]).timeoutSignal)(5e3)}),n=yield r.json();return u(n)});return function(t){return e.apply(this,arguments)}})();var u=_e.validateAuthMetadataAndKeys=(function(){var e=(0,r.default)(function*(e){var t=(0,_r(d[4]).validateAuthMetadata)(e),r=new(_r(d[5]).OidcClientSettingsStore)({authority:t.issuer,metadata:t,redirect_uri:"",client_id:""}),n=new(_r(d[5]).MetadataService)(r);return o(o({},t),{},{signingKeys:yield n.getSigningKeys()})});return function(t){return e.apply(this,arguments)}})()},918,[1,739,743,814,917,914]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.registerOidcClient=e.DEVICE_CODE_SCOPE=void 0;var o=t(r(d[1])),n=(e.DEVICE_CODE_SCOPE="urn:ietf:params:oauth:grant-type:device_code",function(t,o){if(!o)return!1;var n=new URL(o);return n.protocol===t.protocol&&!(n.hostname!==t.hostname&&!n.hostname.endsWith(".".concat(t.hostname)))});e.registerOidcClient=(function(){var t=(0,o.default)(function*(t,o){if(!t.registration_endpoint)throw new Error(r(d[2]).OidcError.DynamicRegistrationNotSupported);var c=["authorization_code","refresh_token"];if(c.some(function(o){return!t.grant_types_supported.includes(o)}))throw new Error(r(d[2]).OidcError.DynamicRegistrationNotSupported);var s=new URL(o.clientUri),p={client_name:o.clientName,client_uri:o.clientUri,response_types:["code"],grant_types:c,redirect_uris:o.redirectUris,id_token_signed_response_alg:"RS256",token_endpoint_auth_method:"none",application_type:o.applicationType,contacts:o.contacts,logo_uri:n(s,o.logoUri)?o.logoUri:void 0,policy_uri:n(s,o.policyUri)?o.policyUri:void 0,tos_uri:n(s,o.tosUri)?o.tosUri:void 0};try{var l=yield fetch(t.registration_endpoint,{method:r(d[3]).Method.Post,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(p)});if(l.status>=400)throw new Error(r(d[2]).OidcError.DynamicRegistrationFailed);var u=(yield l.json()).client_id;if(!u||"string"!=typeof u)throw new Error(r(d[2]).OidcError.DynamicRegistrationInvalid);return u}catch(t){throw Object.values(r(d[2]).OidcError).includes(t.message)?t:(r(d[4]).logger.error("Dynamic registration request failed",t),new Error(r(d[2]).OidcError.DynamicRegistrationFailed))}});return function(o,n){return t.apply(this,arguments)}})()},919,[1,743,916,814,746]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.OidcTokenRefresher=void 0;var t=e(r(d[1])),n=e(r(d[2])),s=e(r(d[3])),o=e(r(d[4]));_e.OidcTokenRefresher=(function(){return(0,n.default)(function e(n,s,l,u,c){(0,t.default)(this,e),this.issuer=n,this.clientId=s,this.redirectUri=l,this.deviceId=u,this.idTokenClaims=c,(0,o.default)(this,"oidcClientReady",void 0),(0,o.default)(this,"initPromise",void 0),(0,o.default)(this,"oidcClient",void 0),(0,o.default)(this,"inflightRefreshRequest",void 0),this.oidcClientReady=Promise.resolve()},[{key:"ensureInit",value:function(){var e=this;return(0,s.default)(function*(){if(!e.oidcClient){if(e.initPromise)return e.initPromise;e.initPromise=e.initialiseOidcClient(e.issuer,e.clientId,e.deviceId,e.redirectUri);try{yield e.initPromise}finally{e.initPromise=void 0}}})()}},{key:"initialiseOidcClient",value:function(e,t,n,o){var l=this;return(0,s.default)(function*(){try{var s,u=yield(0,r(d[5]).discoverAndValidateOIDCIssuerWellKnown)(e),c=(0,r(d[6]).generateScope)(n);l.oidcClient=new(r(d[7]).OidcClient)({metadata:u,signingKeys:null!==(s=u.signingKeys)&&void 0!==s?s:void 0,client_id:t,scope:c,redirect_uri:o,authority:u.issuer,stateStore:new(r(d[7]).WebStorageStateStore)({prefix:"mx_oidc_",store:window.sessionStorage})})}catch(e){throw r(d[8]).logger.error("Failed to initialise OIDC client.",e),new Error("Failed to initialise OIDC client.")}})()}},{key:"doRefreshAccessToken",value:function(e){var t=this;return(0,s.default)(function*(){yield t.ensureInit(),t.inflightRefreshRequest||(t.inflightRefreshRequest=t.getNewTokens(e));try{return yield t.inflightRefreshRequest}catch(e){if(e instanceof r(d[7]).ErrorResponse)throw new(r(d[9]).TokenRefreshLogoutError)(e);throw e}finally{t.inflightRefreshRequest=void 0}})()}},{key:"persistTokens",value:function(e){return(0,s.default)(function*(){})()}},{key:"getNewTokens",value:function(e){var t=this;return(0,s.default)(function*(){if(!t.oidcClient)throw new Error("Cannot get new token before OIDC client is initialised.");var n={refresh_token:e,session_state:"test",data:void 0,profile:t.idTokenClaims},s=Date.now(),o=yield t.oidcClient.useRefreshToken({state:n,timeoutInSeconds:300}),l={accessToken:o.access_token,refreshToken:o.refresh_token,expiry:o.expires_in?new Date(s+1e3*o.expires_in):void 0};return yield t.persistTokens(l),l})()}}])})()},920,[1,11,12,743,739,918,913,914,746,814]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseHydraForRoomVersion=function(n){return!o.includes(n)};var o=["1","2","3","4","5","6","7","8","9","10","11"]},921,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.GroupCallStats=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3]));e.GroupCallStats=(function(){return(0,n.default)(function t(n,u){(0,s.default)(this,t);var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;this.groupCallId=n,this.userId=u,this.interval=h,(0,o.default)(this,"timer",void 0),(0,o.default)(this,"gatherers",new Map),(0,o.default)(this,"reports",new(r(d[4]).StatsReportEmitter)),(0,o.default)(this,"summaryStatsReportGatherer",new(r(d[5]).SummaryStatsReportGatherer)(this.reports))},[{key:"start",value:function(){var t=this;void 0===this.timer&&this.interval>0&&(this.timer=setInterval(function(){t.processStats()},this.interval))}},{key:"stop",value:function(){void 0!==this.timer&&(clearInterval(this.timer),this.gatherers.forEach(function(t){return t.stopProcessingStats()}))}},{key:"hasStatsReportGatherer",value:function(t){return this.gatherers.has(t)}},{key:"addStatsReportGatherer",value:function(t,s,n){return!this.hasStatsReportGatherer(t)&&(this.gatherers.set(t,new(r(d[6]).CallStatsReportGatherer)(t,s,n,this.reports)),!0)}},{key:"removeStatsReportGatherer",value:function(t){return this.gatherers.delete(t)}},{key:"getStatsReportGatherer",value:function(t){return this.hasStatsReportGatherer(t)?this.gatherers.get(t):void 0}},{key:"updateOpponentMember",value:function(t,s){var n;null===(n=this.getStatsReportGatherer(t))||void 0===n||n.setOpponentMemberId(s)}},{key:"processStats",value:function(){var t=this,s=[];this.gatherers.forEach(function(n){s.push(n.processStats(t.groupCallId,t.userId))}),Promise.all(s).then(function(s){return t.summaryStatsReportGatherer.build(s)}).catch(function(t){r(d[7]).logger.error("Could not build summary stats report",t)})}},{key:"setInterval",value:function(t){this.interval=t}}])})()},922,[1,11,12,739,923,758,925,746]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.StatsReportEmitter=void 0;var e=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5]));function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}_e.StatsReportEmitter=(function(t){function f(){return(0,e.default)(this,f),t=this,n=f,c=arguments,n=(0,u.default)(n),(0,o.default)(t,l()?Reflect.construct(n,c||[],(0,u.default)(t).constructor):n.apply(t,c));var t,n,c}return(0,c.default)(f,t),(0,n.default)(f,[{key:"emitByteSendReport",value:function(t){this.emit(r(d[6]).StatsReport.BYTE_SENT_STATS,t)}},{key:"emitConnectionStatsReport",value:function(t){this.emit(r(d[6]).StatsReport.CONNECTION_STATS,t)}},{key:"emitCallFeedReport",value:function(t){this.emit(r(d[6]).StatsReport.CALL_FEED_REPORT,t)}},{key:"emitSummaryStatsReport",value:function(t){this.emit(r(d[6]).StatsReport.SUMMARY_STATS,t)}}])})(r(d[7]).TypedEventEmitter)},923,[1,11,12,18,20,23,924,762]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsReport=void 0;e.StatsReport=(function(t){return t.CONNECTION_STATS="StatsReport.connection_stats",t.CALL_FEED_REPORT="StatsReport.call_feed_report",t.BYTE_SENT_STATS="StatsReport.byte_sent_stats",t.SUMMARY_STATS="StatsReport.summary_stats",t})({})},924,[]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.CallStatsReportGatherer=void 0;var e=t(_r(d[1])),r=t(_r(d[2])),n=t(_r(d[3])),o=t(_r(d[4]));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){(0,o.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}_e.CallStatsReportGatherer=(function(){return(0,r.default)(function t(r,n,s,c){(0,e.default)(this,t);var u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.callId=r,this.opponentMemberId=n,this.pc=s,this.emitter=c,this.isFocus=u,(0,o.default)(this,"isActive",!0),(0,o.default)(this,"previousStatsReport",void 0),(0,o.default)(this,"currentStatsReport",void 0),(0,o.default)(this,"connectionStats",new(_r(d[5]).ConnectionStats)),(0,o.default)(this,"trackStats",void 0),s.addEventListener("signalingstatechange",this.onSignalStateChange.bind(this)),this.trackStats=new(_r(d[6]).MediaTrackStatsHandler)(new(_r(d[7]).MediaSsrcHandler),new(_r(d[8]).MediaTrackHandler)(s))},[{key:"processStats",value:function(t,e){var r=this;return(0,n.default)(function*(){var n={isFirstCollection:void 0===r.previousStatsReport,receivedMedia:0,receivedAudioMedia:0,receivedVideoMedia:0,audioTrackSummary:{count:0,muted:0,maxPacketLoss:0,maxJitter:0,concealedAudio:0,totalAudio:0},videoTrackSummary:{count:0,muted:0,maxPacketLoss:0,maxJitter:0,concealedAudio:0,totalAudio:0}};if(r.isActive){var o=r.pc.getStats();if("function"==typeof(null==o?void 0:o.then))return o.then(function(o){var s,u;r.currentStatsReport="function"==typeof(null==o?void 0:o.result)?o.result():o;try{r.processStatsReport(t,e)}catch(t){return r.handleError(t),n}r.previousStatsReport=r.currentStatsReport,n.receivedMedia=r.connectionStats.bitrate.download,n.receivedAudioMedia=(null===(s=r.connectionStats.bitrate.audio)||void 0===s?void 0:s.download)||0,n.receivedVideoMedia=(null===(u=r.connectionStats.bitrate.video)||void 0===u?void 0:u.download)||0;var l=_r(d[9]).TrackStatsBuilder.buildTrackSummary(Array.from(r.trackStats.getTrack2stats().values()));return c(c({},n),{},{audioTrackSummary:l.audioTrackSummary,videoTrackSummary:l.videoTrackSummary})}).catch(function(t){return r.handleError(t),n});r.isActive=!1}return Promise.resolve(n)})()}},{key:"processStatsReport",value:function(t,e){var r,n=this,o=new Map;o.callId=this.callId,o.opponentMemberId=this.opponentMemberId,null===(r=this.currentStatsReport)||void 0===r||r.forEach(function(t){var e=n.previousStatsReport?n.previousStatsReport.get(t.id):null;if("candidate-pair"===t.type&&t.nominated&&"succeeded"===t.state)n.connectionStats.bandwidth=_r(d[10]).ConnectionStatsBuilder.buildBandwidthReport(t),n.connectionStats.transport=_r(d[11]).TransportStatsBuilder.buildReport(n.currentStatsReport,t,n.connectionStats.transport,n.isFocus);else if("inbound-rtp"===t.type||"outbound-rtp"===t.type){var r=n.trackStats.findTrack2Stats(t,"inbound-rtp"===t.type?"remote":"local");if(!r)return;if(e&&_r(d[9]).TrackStatsBuilder.buildPacketsLost(r,t,e),"inbound-rtp"===t.type){_r(d[9]).TrackStatsBuilder.buildFramerateResolution(r,t),e&&_r(d[9]).TrackStatsBuilder.buildBitrateReceived(r,t,e);var s=n.trackStats.findTransceiverByTrackId(r.trackId);_r(d[9]).TrackStatsBuilder.setTrackStatsState(r,s),_r(d[9]).TrackStatsBuilder.buildJitter(r,t),_r(d[9]).TrackStatsBuilder.buildAudioConcealment(r,t)}else e&&(o.set(r.trackId,_r(d[12]).ValueFormatter.getNonNegativeValue(t.bytesSent)),_r(d[9]).TrackStatsBuilder.buildBitrateSend(r,t,e));_r(d[9]).TrackStatsBuilder.buildCodec(n.currentStatsReport,r,t)}else if("track"===t.type&&"video"===t.kind&&!t.remoteSource){var c=n.trackStats.findLocalVideoTrackStats(t);if(!c)return;_r(d[9]).TrackStatsBuilder.buildFramerateResolution(c,t),_r(d[9]).TrackStatsBuilder.calculateSimulcastFramerate(c,t,e,n.trackStats.mediaTrackHandler.getActiveSimulcastStreams())}}),this.emitter.emitByteSendReport(o),this.emitter.emitCallFeedReport(_r(d[13]).CallFeedStatsReporter.buildCallFeedReport(this.callId,this.opponentMemberId,this.pc)),this.processAndEmitConnectionStatsReport()}},{key:"setActive",value:function(t){this.isActive=t}},{key:"getActive",value:function(){return this.isActive}},{key:"handleError",value:function(t){this.isActive=!1,_r(d[14]).logger.warn("CallStatsReportGatherer ".concat(this.callId," processStatsReport fails and set to inactive ").concat(t))}},{key:"processAndEmitConnectionStatsReport",value:function(){var t=_r(d[15]).ConnectionStatsReportBuilder.build(this.trackStats.getTrack2stats());t.callId=this.callId,t.opponentMemberId=this.opponentMemberId,this.connectionStats.bandwidth=t.bandwidth,this.connectionStats.bitrate=t.bitrate,this.connectionStats.packetLoss=t.packetLoss,this.emitter.emitConnectionStatsReport(c(c({},t),{},{transport:this.connectionStats.transport})),this.connectionStats.transport=[]}},{key:"stopProcessingStats",value:function(){}},{key:"onSignalStateChange",value:function(){"stable"===this.pc.signalingState&&(this.pc.currentRemoteDescription&&this.trackStats.mediaSsrcHandler.parse(this.pc.currentRemoteDescription.sdp,"remote"),this.pc.currentLocalDescription&&this.trackStats.mediaSsrcHandler.parse(this.pc.currentLocalDescription.sdp,"local"))}},{key:"setOpponentMemberId",value:function(t){this.opponentMemberId=t}}])})()},925,[1,11,12,743,739,926,927,929,934,935,937,938,936,759,746,939]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionStats=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3]));e.ConnectionStats=(0,n.default)(function t(){(0,o.default)(this,t),(0,s.default)(this,"bandwidth",{}),(0,s.default)(this,"bitrate",{}),(0,s.default)(this,"packetLoss",{}),(0,s.default)(this,"transport",[])})},926,[1,12,11,739]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.MediaTrackStatsHandler=void 0;var c=t(r(d[1])),n=t(r(d[2])),s=t(r(d[3]));e.MediaTrackStatsHandler=(function(){return(0,n.default)(function t(n,k){(0,c.default)(this,t),this.mediaSsrcHandler=n,this.mediaTrackHandler=k,(0,s.default)(this,"track2stats",new Map)},[{key:"findTrack2Stats",value:function(t,c){var n;if(t.trackIdentifier)n=t.trackIdentifier;else if(t.mid)n="remote"===c?this.mediaTrackHandler.getRemoteTrackIdByMid(t.mid):this.mediaTrackHandler.getLocalTrackIdByMid(t.mid);else if(t.ssrc){if(!this.mediaSsrcHandler.findMidBySsrc(t.ssrc,c))return;n="remote"===c?this.mediaTrackHandler.getRemoteTrackIdByMid(t.mid):this.mediaTrackHandler.getLocalTrackIdByMid(t.mid)}if(n){var s=this.track2stats.get(n);if(!s){var k=this.mediaTrackHandler.getTackById(n);if(void 0===k)return;var l="audio"===k.kind?k.kind:"video";s=new(r(d[4]).MediaTrackStats)(n,c,l),this.track2stats.set(n,s)}return s}}},{key:"findLocalVideoTrackStats",value:function(t){if(0!==this.mediaTrackHandler.getLocalTracks("video").length)return this.findTrack2Stats(t,"local")}},{key:"getTrack2stats",value:function(){return this.track2stats}},{key:"findTransceiverByTrackId",value:function(t){return this.mediaTrackHandler.getTransceiverByTrackId(t)}}])})()},927,[1,11,12,739,928]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.MediaTrackStats=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3]));e.MediaTrackStats=(function(){return(0,u.default)(function t(u,s,l){(0,n.default)(this,t),this.trackId=u,this.type=s,this.kind=l,(0,o.default)(this,"loss",{packetsTotal:0,packetsLost:0,isDownloadStream:!1}),(0,o.default)(this,"bitrate",{download:0,upload:0}),(0,o.default)(this,"resolution",{width:-1,height:-1}),(0,o.default)(this,"audioConcealment",{concealedAudio:0,totalAudioDuration:0}),(0,o.default)(this,"framerate",0),(0,o.default)(this,"jitter",0),(0,o.default)(this,"codec",""),(0,o.default)(this,"isAlive",!0),(0,o.default)(this,"isMuted",!1),(0,o.default)(this,"isEnabled",!0)},[{key:"getType",value:function(){return this.type}},{key:"setLoss",value:function(t){this.loss=t}},{key:"getLoss",value:function(){return this.loss}},{key:"setResolution",value:function(t){this.resolution=t}},{key:"getResolution",value:function(){return this.resolution}},{key:"setFramerate",value:function(t){this.framerate=t}},{key:"getFramerate",value:function(){return this.framerate}},{key:"setBitrate",value:function(t){this.bitrate=t}},{key:"getBitrate",value:function(){return this.bitrate}},{key:"setCodec",value:function(t){return this.codec=t,!0}},{key:"getCodec",value:function(){return this.codec}},{key:"resetBitrate",value:function(){this.bitrate={download:0,upload:0}}},{key:"alive",get:function(){return this.isAlive},set:function(t){this.isAlive=t}},{key:"muted",get:function(){return this.isMuted},set:function(t){this.isMuted=t}},{key:"enabled",get:function(){return this.isEnabled},set:function(t){this.isEnabled=t}},{key:"setJitter",value:function(t){this.jitter=t}},{key:"getJitter",value:function(){return this.jitter}},{key:"setAudioConcealment",value:function(t,n){this.audioConcealment.concealedAudio=t,this.audioConcealment.totalAudioDuration=n}},{key:"getAudioConcealment",value:function(){return this.audioConcealment}}])})()},928,[1,11,12,739]);
__d(function(g,r,i,a,_m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.MediaSsrcHandler=void 0;var t=n(r(d[1])),c=n(r(d[2])),o=n(r(d[3]));e.MediaSsrcHandler=(function(){return(0,c.default)(function n(){(0,t.default)(this,n),(0,o.default)(this,"ssrcToMid",{local:new Map,remote:new Map})},[{key:"findMidBySsrc",value:function(n,t){var c;return this.ssrcToMid[t].forEach(function(t,o){t.find(function(t){return t==n})&&(c=o)}),c}},{key:"parse",value:function(n,t){var c=(0,r(d[4]).parse)(n),o=new Map;c.media.forEach(function(n){if(n.mid&&"video"===n.type||"audio"===n.type){var t,c=[];null===(t=n.ssrcs)||void 0===t||t.forEach(function(n){"cname"===n.attribute&&c.push("".concat(n.id))}),o.set("".concat(n.mid),c)}}),this.ssrcToMid[t]=o}},{key:"getSsrcToMidMap",value:function(n){return this.ssrcToMid[n]}}])})()},929,[1,11,12,739,930]);
__d(function(g,r,i,a,m,e,d){e.grammar=r(d[0]),e.write=r(d[1]),e.parse=r(d[2]).parse,e.parseParams=r(d[2]).parseParams,e.parseFmtpConfig=r(d[2]).parseFmtpConfig,e.parsePayloads=r(d[2]).parsePayloads,e.parseRemoteCandidates=r(d[2]).parseRemoteCandidates,e.parseImageAttributes=r(d[2]).parseImageAttributes,e.parseSimulcastStreamList=r(d[2]).parseSimulcastStreamList},930,[931,932,933]);
__d(function(g,r,i,a,m,e,d){var s=m.exports={v:[{name:'version',reg:/^(\d*)$/}],o:[{name:'origin',reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:['username','sessionId','sessionVersion','netType','ipVer','address'],format:'%s %s %d %s IP%d %s'}],s:[{name:'name'}],i:[{name:'description'}],u:[{name:'uri'}],e:[{name:'email'}],p:[{name:'phone'}],z:[{name:'timezones'}],r:[{name:'repeats'}],t:[{name:'timing',reg:/^(\d*) (\d*)/,names:['start','stop'],format:'%d %d'}],c:[{name:'connection',reg:/^IN IP(\d) (\S*)/,names:['version','ip'],format:'IN IP%d %s'}],b:[{push:'bandwidth',reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:['type','limit'],format:'%s:%s'}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:['type','port','protocol','payloads'],format:'%s %d %s %s'}],a:[{push:'rtp',reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:['payload','codec','rate','encoding'],format:function(s){return s.encoding?'rtpmap:%d %s/%s/%s':s.rate?'rtpmap:%d %s/%s':'rtpmap:%d %s'}},{push:'fmtp',reg:/^fmtp:(\d*) ([\S| ]*)/,names:['payload','config'],format:'fmtp:%d %s'},{name:'control',reg:/^control:(.*)/,format:'control:%s'},{name:'rtcp',reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:['port','netType','ipVer','address'],format:function(s){return null!=s.address?'rtcp:%d %s IP%d %s':'rtcp:%d'}},{push:'rtcpFbTrrInt',reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:['payload','value'],format:'rtcp-fb:%s trr-int %d'},{push:'rtcpFb',reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:['payload','type','subtype'],format:function(s){return null!=s.subtype?'rtcp-fb:%s %s %s':'rtcp-fb:%s %s'}},{push:'ext',reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:['value','direction','encrypt-uri','uri','config'],format:function(s){return'extmap:%d'+(s.direction?'/%s':'%v')+(s['encrypt-uri']?' %s':'%v')+' %s'+(s.config?' %s':'')}},{name:'extmapAllowMixed',reg:/^(extmap-allow-mixed)/},{push:'crypto',reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:['id','suite','config','sessionConfig'],format:function(s){return null!=s.sessionConfig?'crypto:%d %s %s %s':'crypto:%d %s %s'}},{name:'setup',reg:/^setup:(\w*)/,format:'setup:%s'},{name:'connectionType',reg:/^connection:(new|existing)/,format:'connection:%s'},{name:'mid',reg:/^mid:([^\s]*)/,format:'mid:%s'},{push:'msid',reg:/^msid:([\w-]+)(?: ([\w-]+))?/,names:['id','appdata'],format:'msid:%s %s'},{name:'ptime',reg:/^ptime:(\d*(?:\.\d*)*)/,format:'ptime:%d'},{name:'maxptime',reg:/^maxptime:(\d*(?:\.\d*)*)/,format:'maxptime:%d'},{name:'direction',reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:'icelite',reg:/^(ice-lite)/},{name:'iceUfrag',reg:/^ice-ufrag:(\S*)/,format:'ice-ufrag:%s'},{name:'icePwd',reg:/^ice-pwd:(\S*)/,format:'ice-pwd:%s'},{name:'fingerprint',reg:/^fingerprint:(\S*) (\S*)/,names:['type','hash'],format:'fingerprint:%s %s'},{push:'candidates',reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:['foundation','component','transport','priority','ip','port','type','raddr','rport','tcptype','generation','network-id','network-cost'],format:function(s){var t='candidate:%s %d %s %d %s %d typ %s';return t+=null!=s.raddr?' raddr %s rport %d':'%v%v',t+=null!=s.tcptype?' tcptype %s':'%v',null!=s.generation&&(t+=' generation %d'),t+=null!=s['network-id']?' network-id %d':'%v',t+=null!=s['network-cost']?' network-cost %d':'%v'}},{name:'endOfCandidates',reg:/^(end-of-candidates)/},{name:'remoteCandidates',reg:/^remote-candidates:(.*)/,format:'remote-candidates:%s'},{name:'iceOptions',reg:/^ice-options:(\S*)/,format:'ice-options:%s'},{push:'ssrcs',reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:['id','attribute','value'],format:function(s){var t='ssrc:%d';return null!=s.attribute&&(t+=' %s',null!=s.value&&(t+=':%s')),t}},{push:'ssrcGroups',reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:['semantics','ssrcs'],format:'ssrc-group:%s %s'},{name:'msidSemantic',reg:/^msid-semantic:\s?(\w*) (\S*)/,names:['semantic','token'],format:'msid-semantic: %s %s'},{push:'groups',reg:/^group:(\w*) (.*)/,names:['type','mids'],format:'group:%s %s'},{name:'rtcpMux',reg:/^(rtcp-mux)/},{name:'rtcpRsize',reg:/^(rtcp-rsize)/},{name:'sctpmap',reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:['sctpmapNumber','app','maxMessageSize'],format:function(s){return null!=s.maxMessageSize?'sctpmap:%s %s %s':'sctpmap:%s %s'}},{name:'xGoogleFlag',reg:/^x-google-flag:([^\s]*)/,format:'x-google-flag:%s'},{push:'rids',reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:['id','direction','params'],format:function(s){return s.params?'rid:%s %s %s':'rid:%s %s'}},{push:'imageattrs',reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:['pt','dir1','attrs1','dir2','attrs2'],format:function(s){return'imageattr:%s %s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast',reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:['dir1','list1','dir2','list2'],format:function(s){return'simulcast:%s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast_03',reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:['value'],format:'simulcast: %s'},{name:'framerate',reg:/^framerate:(\d+(?:$|\.\d+))/,format:'framerate:%s'},{name:'sourceFilter',reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:['filterMode','netType','addressTypes','destAddress','srcList'],format:'source-filter: %s %s %s %s %s'},{name:'bundleOnly',reg:/^(bundle-only)/},{name:'label',reg:/^label:(.+)/,format:'label:%s'},{name:'sctpPort',reg:/^sctp-port:(\d+)$/,format:'sctp-port:%s'},{name:'maxMessageSize',reg:/^max-message-size:(\d+)$/,format:'max-message-size:%s'},{push:'tsRefClocks',reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:['clksrc','clksrcExt'],format:function(s){return'ts-refclk:%s'+(null!=s.clksrcExt?'=%s':'')}},{name:'mediaClk',reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:['id','mediaClockName','mediaClockValue','rateNumerator','rateDenominator'],format:function(s){var t='mediaclk:';return t+=null!=s.id?'id=%s %s':'%v%s',t+=null!=s.mediaClockValue?'=%s':'',t+=null!=s.rateNumerator?' rate=%s':'',t+=null!=s.rateDenominator?'/%s':''}},{name:'keywords',reg:/^keywds:(.+)$/,format:'keywds:%s'},{name:'content',reg:/^content:(.+)/,format:'content:%s'},{name:'bfcpFloorCtrl',reg:/^floorctrl:(c-only|s-only|c-s)/,format:'floorctrl:%s'},{name:'bfcpConfId',reg:/^confid:(\d+)/,format:'confid:%s'},{name:'bfcpUserId',reg:/^userid:(\d+)/,format:'userid:%s'},{name:'bfcpFloorId',reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:['id','mStream'],format:'floorid:%s mstrm:%s'},{push:'invalid',names:['value']}]};Object.keys(s).forEach(function(t){s[t].forEach(function(s){s.reg||(s.reg=/(.*)/),s.format||(s.format='%s')})})},931,[]);
__d(function(g,r,_i,a,m,e,d){var n=/%[sdv%]/g,u=function(u){var o=1,s=arguments,t=s.length;return u.replace(n,function(n){if(o>=t)return n;var u=s[o];switch(o+=1,n){case'%%':return'%';case'%s':return String(u);case'%d':return Number(u);case'%v':return''}})},o=function(n,o,s){var t=[n+'='+(o.format instanceof Function?o.format(o.push?s:s[o.name]):o.format)];if(o.names)for(var c=0;c<o.names.length;c+=1){var i=o.names[c];o.name?t.push(s[o.name][i]):t.push(s[o.names[c]])}else t.push(s[o.name]);return u.apply(null,t)},s=['v','o','s','i','u','e','p','c','b','t','r','z','a'],t=['i','c','b','a'];m.exports=function(n,u){u=u||{},null==n.version&&(n.version=0),null==n.name&&(n.name=' '),n.media.forEach(function(n){null==n.payloads&&(n.payloads='')});var c=u.outerOrder||s,i=u.innerOrder||t,f=[];return c.forEach(function(u){r(d[0])[u].forEach(function(s){s.name in n&&null!=n[s.name]?f.push(o(u,s,n)):s.push in n&&null!=n[s.push]&&n[s.push].forEach(function(n){f.push(o(u,s,n))})})}),n.media.forEach(function(n){f.push(o('m',r(d[0]).m[0],n)),i.forEach(function(u){r(d[0])[u].forEach(function(s){s.name in n&&null!=n[s.name]?f.push(o(u,s,n)):s.push in n&&null!=n[s.push]&&n[s.push].forEach(function(n){f.push(o(u,s,n))})})})}),f.join('\r\n')+'\r\n'}},932,[931]);
__d(function(g,r,_i,a,m,e,d){var t=function(t){return String(Number(t))===t?Number(t):t},n=function(n,u,s,i){if(i&&!s)u[i]=t(n[1]);else for(var p=0;p<s.length;p+=1)null!=n[p+1]&&(u[s[p]]=t(n[p+1]))},u=function(t,u,s){var i=t.name&&t.names;t.push&&!u[t.push]?u[t.push]=[]:i&&!u[t.name]&&(u[t.name]={});var p=t.push?{}:i?u[t.name]:u;n(s.match(t.reg),p,t.names,t.name),t.push&&u[t.push].push(p)},s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(t){var n={},i=[],p=n;return t.split(/(\r\n|\r|\n)/).filter(s).forEach(function(t){var n=t[0],s=t.slice(2);'m'===n&&(i.push({rtp:[],fmtp:[]}),p=i[i.length-1]);for(var o=0;o<(r(d[0])[n]||[]).length;o+=1){var l=r(d[0])[n][o];if(l.reg.test(s))return u(l,p,s)}}),n.media=i,n};var i=function(n,u){var s=u.split(/=(.+)/,2);return 2===s.length?n[s[0]]=t(s[1]):1===s.length&&u.length>1&&(n[s[0]]=void 0),n};e.parseParams=function(t){return t.split(/;\s?/).reduce(i,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(t){return t.toString().split(' ').map(Number)},e.parseRemoteCandidates=function(n){for(var u=[],s=n.split(' ').map(t),i=0;i<s.length;i+=3)u.push({component:s[i],ip:s[i+1],port:s[i+2]});return u},e.parseImageAttributes=function(t){return t.split(' ').map(function(t){return t.substring(1,t.length-1).split(',').reduce(i,{})})},e.parseSimulcastStreamList=function(n){return n.split(';').map(function(n){return n.split(',').map(function(n){var u,s=!1;return'~'!==n[0]?u=t(n):(u=t(n.substring(1,n.length)),s=!0),{scid:u,paused:s}})})}},933,[931]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.MediaTrackHandler=void 0;var t=n(r(d[1])),c=n(r(d[2]));e.MediaTrackHandler=(function(){return(0,c.default)(function n(c){(0,t.default)(this,n),this.pc=c},[{key:"getLocalTracks",value:function(n){return this.pc.getTransceivers().filter(function(n){return"sendonly"===n.currentDirection||"sendrecv"===n.currentDirection}).filter(function(n){return null!==n.sender}).map(function(n){return n.sender}).map(function(n){return n.track}).filter(function(t){return null!==t&&t.kind===n})}},{key:"getTackById",value:function(n){return this.pc.getTransceivers().map(function(t){return null!==(null==t?void 0:t.sender.track)&&t.sender.track.id===n?t.sender.track:null!==(null==t?void 0:t.receiver.track)&&t.receiver.track.id===n?t.receiver.track:void 0}).find(function(n){return void 0!==n})}},{key:"getLocalTrackIdByMid",value:function(n){var t,c=this.pc.getTransceivers().find(function(t){return t.mid===n});return null==c||null===(t=c.sender)||void 0===t||null===(t=t.track)||void 0===t?void 0:t.id}},{key:"getRemoteTrackIdByMid",value:function(n){var t,c=this.pc.getTransceivers().find(function(t){return t.mid===n});return null==c||null===(t=c.receiver)||void 0===t||null===(t=t.track)||void 0===t?void 0:t.id}},{key:"getActiveSimulcastStreams",value:function(){return 3}},{key:"getTransceiverByTrackId",value:function(n){return this.pc.getTransceivers().find(function(t){return t.receiver.track.id===n||null!==t.sender.track&&t.sender.track.id===n})}}])})()},934,[1,11,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.TrackStatsBuilder=void 0;var o=t(r(d[1])),u=t(r(d[2]));e.TrackStatsBuilder=(function(){function t(){(0,o.default)(this,t)}return(0,u.default)(t,null,[{key:"buildFramerateResolution",value:function(t,o){var u={height:o.frameHeight,width:o.frameWidth},l=o.framesPerSecond;u.height&&u.width&&t.setResolution(u),t.setFramerate(Math.round(l||0))}},{key:"calculateSimulcastFramerate",value:function(t,o,u,l){var n=t.getFramerate();if(!n){if(u){var c=o.timestamp-u.timestamp;if(c>0&&o.framesSent)n=(o.framesSent-u.framesSent)/c*1e3}if(!n)return}n=l?Math.round(n/l):0,t.setFramerate(n)}},{key:"buildCodec",value:function(t,o,u){var l=null==t?void 0:t.get(u.codecId);if(l){var n=l.mimeType.split("/")[1];n&&o.setCodec(n)}}},{key:"buildBitrateReceived",value:function(o,u,l){o.setBitrate({download:t.calculateBitrate(u.bytesReceived,l.bytesReceived,u.timestamp,l.timestamp),upload:0})}},{key:"buildBitrateSend",value:function(t,o,u){t.setBitrate({download:0,upload:this.calculateBitrate(o.bytesSent,u.bytesSent,o.timestamp,u.timestamp)})}},{key:"buildPacketsLost",value:function(t,o,u){var l="outbound-rtp"===o.type?"packetsSent":"packetsReceived",n=o[l];(!n||n<0)&&(n=0);var c=r(d[3]).ValueFormatter.getNonNegativeValue(u[l]),s=Math.max(0,n-c),v=r(d[3]).ValueFormatter.getNonNegativeValue(o.packetsLost),f=r(d[3]).ValueFormatter.getNonNegativeValue(u.packetsLost),k=Math.max(0,v-f);t.setLoss({packetsTotal:s+k,packetsLost:k,isDownloadStream:"outbound-rtp"!==o.type})}},{key:"calculateBitrate",value:function(t,o,u,l){var n=r(d[3]).ValueFormatter.getNonNegativeValue(t),c=r(d[3]).ValueFormatter.getNonNegativeValue(o),s=Math.max(0,n-c),v=u-l,f=0;return v>0&&(f=Math.round(8*s/v)),f}},{key:"setTrackStatsState",value:function(t,o){var u;if(void 0!==o){var l="remote"===t.getType()?o.receiver.track:null==o||null===(u=o.sender)||void 0===u?void 0:u.track;null!=l&&"ended"!==l.readyState?(t.muted=l.muted,t.enabled=l.enabled,t.alive=!0):t.alive=!1}else t.alive=!1}},{key:"buildTrackSummary",value:function(t){var o={count:0,muted:0,maxJitter:0,maxPacketLoss:0,concealedAudio:0,totalAudio:0},u={count:0,muted:0,maxJitter:0,maxPacketLoss:0,concealedAudio:0,totalAudio:0},l=t.filter(function(t){return"remote"===t.getType()}),n=l.filter(function(t){return"audio"===t.kind});return l.forEach(function(t){var l,c,s="video"===t.kind?o:u;(s.count++,t.alive&&t.muted&&s.muted++,s.maxJitter<t.getJitter()&&(s.maxJitter=t.getJitter()),s.maxPacketLoss<t.getLoss().packetsLost&&(s.maxPacketLoss=t.getLoss().packetsLost),n.length>0)&&(s.concealedAudio+=null===(l=t.getAudioConcealment())||void 0===l?void 0:l.concealedAudio,s.totalAudio+=null===(c=t.getAudioConcealment())||void 0===c?void 0:c.totalAudioDuration)}),{audioTrackSummary:u,videoTrackSummary:o}}},{key:"buildJitter",value:function(t,o){if("inbound-rtp"===o.type){var u=null==o?void 0:o.jitter;if(void 0!==u){var l=r(d[3]).ValueFormatter.getNonNegativeValue(u);t.setJitter(Math.round(1e3*l))}else t.setJitter(-1)}}},{key:"buildAudioConcealment",value:function(t,o){if("inbound-rtp"===o.type){var u=1e3*(null==o?void 0:o.totalSamplesDuration)/(null==o?void 0:o.totalSamplesReceived)*(null==o?void 0:o.concealedSamples),l=1e3*(null==o?void 0:o.totalSamplesDuration);t.setAudioConcealment(u,l)}}}])})()},935,[1,11,12,936]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ValueFormatter=void 0;var u=t(r(d[1])),n=t(r(d[2]));e.ValueFormatter=(function(){return(0,n.default)(function t(){(0,u.default)(this,t)},null,[{key:"getNonNegativeValue",value:function(t){var u=t;return"number"!=typeof u&&(u=Number(u)),isNaN(u)?0:Math.max(0,u)}}])})()},936,[1,11,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionStatsBuilder=void 0;var n=t(r(d[1])),o=t(r(d[2]));e.ConnectionStatsBuilder=(function(){return(0,o.default)(function t(){(0,n.default)(this,t)},null,[{key:"buildBandwidthReport",value:function(t){var n=t.availableIncomingBitrate,o=t.availableOutgoingBitrate;return{download:n?Math.round(n/1e3):0,upload:o?Math.round(o/1e3):0}}}])})()},937,[1,11,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.TransportStatsBuilder=void 0;var o=t(r(d[1])),n=t(r(d[2]));e.TransportStatsBuilder=(function(){return(0,n.default)(function t(){(0,o.default)(this,t)},null,[{key:"buildReport",value:function(t,o,n,p){var u=null==t?void 0:t.get(o.localCandidateId),c=null==t?void 0:t.get(o.remoteCandidateId);if(c&&u){var l=void 0!==c.ip?c.ip:c.address,s=c.port,T="".concat(l,":").concat(s),v=void 0!==u.ip?u.ip:u.address,y=u.port,f="".concat(v,":").concat(y),C=c.protocol;n.some(function(t){return t.ip===T&&t.type===C&&t.localIp===f})||n.push({ip:T,type:C,localIp:f,isFocus:p,localCandidateType:u.candidateType,remoteCandidateType:c.candidateType,networkType:u.networkType,rtt:o.currentRoundTripTime?1e3*o.currentRoundTripTime:NaN})}return n}}])})()},938,[1,11,12]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionStatsReportBuilder=void 0;var t=o(r(d[1])),l=o(r(d[2])),n=o(r(d[3]));e.ConnectionStatsReportBuilder=(function(){function o(){(0,l.default)(this,o)}return(0,n.default)(o,null,[{key:"build",value:function(l){var n={},u={download:0,upload:0},c={download:0,upload:0},p=0,s=0,w={local:new Map,remote:new Map},f={local:new Map,remote:new Map},k={local:new Map,remote:new Map},v=new Map,M=new Map,B=0,y=0,A=0,C=0,L=0,b=0;for(var P of l){var T=(0,t.default)(P,2),_=T[0],D=T[1],R=D.getLoss(),S=R.isDownloadStream?"download":"upload";if(u[S]+=R.packetsTotal,c[S]+=R.packetsLost,p+=D.getBitrate().download,s+=D.getBitrate().upload,"audio"===D.kind){var h=D.getAudioConcealment();L+=h.concealedAudio,b+=h.totalAudioDuration,B+=D.getBitrate().download,y+=D.getBitrate().upload}else A+=D.getBitrate().download,C+=D.getBitrate().upload;w[D.getType()].set(_,D.getResolution()),f[D.getType()].set(_,D.getFramerate()),k[D.getType()].set(_,D.getCodec()),"remote"===D.getType()&&(v.set(_,D.getJitter()),"audio"===D.kind&&M.set(_,D.getAudioConcealment())),D.resetBitrate()}return n.bitrate={upload:s,download:p},n.bitrate.audio={upload:y,download:B},n.bitrate.video={upload:C,download:A},n.packetLoss={total:o.calculatePacketLoss(c.download+c.upload,u.download+u.upload),download:o.calculatePacketLoss(c.download,u.download),upload:o.calculatePacketLoss(c.upload,u.upload)},n.audioConcealment=M,n.totalAudioConcealment={concealedAudio:L,totalAudioDuration:b},n.framerate=f,n.resolution=w,n.codec=k,n.jitter=v,n}},{key:"calculatePacketLoss",value:function(o,t){return!t||t<=0||!o||o<=0?0:Math.round(o/t*100)}}])})()},939,[1,34,11,12]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MAX",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v1ToV6",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"v6",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"v6ToV1",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"v7",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.default}});var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6])),b=t(r(d[7])),p=t(r(d[8])),y=t(r(d[9])),j=t(r(d[10])),O=t(r(d[11])),P=t(r(d[12])),v=t(r(d[13])),s=t(r(d[14]))},940,[1,941,942,943,946,947,949,950,953,955,957,958,959,944,960]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default='ffffffff-ffff-ffff-ffff-ffffffffffff'},941,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default='00000000-0000-0000-0000-000000000000'},942,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));e.default=function(t){if(!(0,n.default)(t))throw TypeError('Invalid UUID');var l;return Uint8Array.of((l=parseInt(t.slice(0,8),16))>>>24,l>>>16&255,l>>>8&255,255&l,(l=parseInt(t.slice(9,13),16))>>>8,255&l,(l=parseInt(t.slice(14,18),16))>>>8,255&l,(l=parseInt(t.slice(19,23),16))>>>8,255&l,(l=parseInt(t.slice(24,36),16))/1099511627776&255,l/4294967296&255,l>>>24&255,l>>>16&255,l>>>8&255,255&l)}},943,[1,944]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=function(t){return'string'==typeof t&&u.default.test(t)}},944,[1,945]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},945,[]);
__d(function(g,r,_i,a,m,e,d){var i=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.unsafeStringify=f;for(var t=i(r(d[1])),n=[],o=0;o<256;++o)n.push((o+256).toString(16).slice(1));function f(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n[i[t+0]]+n[i[t+1]]+n[i[t+2]]+n[i[t+3]]+'-'+n[i[t+4]]+n[i[t+5]]+'-'+n[i[t+6]]+n[i[t+7]]+'-'+n[i[t+8]]+n[i[t+9]]+'-'+n[i[t+10]]+n[i[t+11]]+n[i[t+12]]+n[i[t+13]]+n[i[t+14]]+n[i[t+15]]).toLowerCase()}e.default=function(i){var n=f(i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,t.default)(n))throw TypeError('Stringified UUID is invalid');return n}},946,[1,944]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.updateV1State=o;var s=n(r(d[1])),l={};function o(n,s,l){return null!=n.msecs||(n.msecs=-1/0),null!=n.nsecs||(n.nsecs=0),s===n.msecs?(n.nsecs++,n.nsecs>=1e4&&(n.node=void 0,n.nsecs=0)):s>n.msecs?n.nsecs=0:s<n.msecs&&(n.node=void 0),n.node||(n.node=l.slice(10,16),n.node[0]|=1,n.clockseq=16383&(l[8]<<8|l[9])),n.msecs=s,n}function t(n,s,l,o,t,u){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(n.length<16)throw new Error('Random bytes length must be >= 16');if(u){if(c<0||c+16>u.length)throw new RangeError(`UUID byte range ${c}:${c+15} is out of buffer bounds`)}else u=new Uint8Array(16),c=0;null!=s||(s=Date.now()),null!=l||(l=0),null!=o||(o=16383&(n[8]<<8|n[9])),null!=t||(t=n.slice(10,16));var v=(1e4*(268435455&(s+=122192928e5))+l)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var f=s/4294967296*1e4&268435455;u[c++]=f>>>8&255,u[c++]=255&f,u[c++]=f>>>24&15|16,u[c++]=f>>>16&255,u[c++]=o>>>8|128,u[c++]=255&o;for(var b=0;b<6;++b)u[c++]=t[b];return u}e.default=function(n,u,c){var v,f,b,h=null!=(v=null==(f=n)?void 0:f._v6)&&v;if(n){var w=Object.keys(n);1===w.length&&'_v6'===w[0]&&(n=void 0)}if(n){var y,_;b=t(null!=(y=null!=(_=n.random)?_:null==n.rng?void 0:n.rng())?y:(0,s.default)(),n.msecs,n.nsecs,n.clockseq,n.node,u,c)}else{var k=Date.now(),q=(0,s.default)();o(l,k,q),b=t(q,l.msecs,l.nsecs,h?void 0:l.clockseq,h?void 0:l.node,u,c)}return null!=u?u:(0,r(d[2]).unsafeStringify)(b)}},947,[1,948,946]);
__d(function(g,r,i,a,m,e,d){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!t){if('undefined'==typeof crypto||!crypto.getRandomValues)throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');t=crypto.getRandomValues.bind(crypto)}return t(o)};var o=new Uint8Array(16)},948,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=f('string'==typeof t?(0,n.default)(t):t);return'string'==typeof t?(0,r(d[2]).unsafeStringify)(u):u};var n=t(r(d[1]));function f(t){return Uint8Array.of((15&t[6])<<4|t[7]>>4&15,(15&t[7])<<4|(240&t[4])>>4,(15&t[4])<<4|(240&t[5])>>4,(15&t[5])<<4|(240&t[0])>>4,(15&t[0])<<4|(240&t[1])>>4,(15&t[1])<<4|(240&t[2])>>4,96|15&t[2],t[3],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},949,[1,943,946]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"DNS",{enumerable:!0,get:function(){return r.DNS}}),Object.defineProperty(_e,"URL",{enumerable:!0,get:function(){return r.URL}}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?u(o,i,f):o[i]=e[i]);return o})(e,t)})(_r(d[2]));function n(e,n,u,f){return(0,r.default)(48,t.default,e,n,u,f)}n.DNS=r.DNS,n.URL=r.URL;_e.default=n},950,[1,951,952]);
__d(function(g,r,_i,_a,m,e,_d){function n(n){for(var t=new Uint8Array(4*n.length),u=0;u<4*n.length;u++)t[u]=n[u>>2]>>>u%4*8&255;return t}function t(n){return 14+(n+64>>>9<<4)+1}function u(n,u){var f=new Uint32Array(t(u)).fill(0);f.set(n),f[u>>5]|=128<<u%32,f[f.length-1]=u,n=f;for(var o=1732584193,h=-271733879,d=-1732584194,y=271733878,A=0;A<n.length;A+=16){var U=o,w=h,_=d,s=y;o=l(o,h,d,y,n[A],7,-680876936),y=l(y,o,h,d,n[A+1],12,-389564586),d=l(d,y,o,h,n[A+2],17,606105819),h=l(h,d,y,o,n[A+3],22,-1044525330),o=l(o,h,d,y,n[A+4],7,-176418897),y=l(y,o,h,d,n[A+5],12,1200080426),d=l(d,y,o,h,n[A+6],17,-1473231341),h=l(h,d,y,o,n[A+7],22,-45705983),o=l(o,h,d,y,n[A+8],7,1770035416),y=l(y,o,h,d,n[A+9],12,-1958414417),d=l(d,y,o,h,n[A+10],17,-42063),h=l(h,d,y,o,n[A+11],22,-1990404162),o=l(o,h,d,y,n[A+12],7,1804603682),y=l(y,o,h,d,n[A+13],12,-40341101),d=l(d,y,o,h,n[A+14],17,-1502002290),o=a(o,h=l(h,d,y,o,n[A+15],22,1236535329),d,y,n[A+1],5,-165796510),y=a(y,o,h,d,n[A+6],9,-1069501632),d=a(d,y,o,h,n[A+11],14,643717713),h=a(h,d,y,o,n[A],20,-373897302),o=a(o,h,d,y,n[A+5],5,-701558691),y=a(y,o,h,d,n[A+10],9,38016083),d=a(d,y,o,h,n[A+15],14,-660478335),h=a(h,d,y,o,n[A+4],20,-405537848),o=a(o,h,d,y,n[A+9],5,568446438),y=a(y,o,h,d,n[A+14],9,-1019803690),d=a(d,y,o,h,n[A+3],14,-187363961),h=a(h,d,y,o,n[A+8],20,1163531501),o=a(o,h,d,y,n[A+13],5,-1444681467),y=a(y,o,h,d,n[A+2],9,-51403784),d=a(d,y,o,h,n[A+7],14,1735328473),o=c(o,h=a(h,d,y,o,n[A+12],20,-1926607734),d,y,n[A+5],4,-378558),y=c(y,o,h,d,n[A+8],11,-2022574463),d=c(d,y,o,h,n[A+11],16,1839030562),h=c(h,d,y,o,n[A+14],23,-35309556),o=c(o,h,d,y,n[A+1],4,-1530992060),y=c(y,o,h,d,n[A+4],11,1272893353),d=c(d,y,o,h,n[A+7],16,-155497632),h=c(h,d,y,o,n[A+10],23,-1094730640),o=c(o,h,d,y,n[A+13],4,681279174),y=c(y,o,h,d,n[A],11,-358537222),d=c(d,y,o,h,n[A+3],16,-722521979),h=c(h,d,y,o,n[A+6],23,76029189),o=c(o,h,d,y,n[A+9],4,-640364487),y=c(y,o,h,d,n[A+12],11,-421815835),d=c(d,y,o,h,n[A+15],16,530742520),o=v(o,h=c(h,d,y,o,n[A+2],23,-995338651),d,y,n[A],6,-198630844),y=v(y,o,h,d,n[A+7],10,1126891415),d=v(d,y,o,h,n[A+14],15,-1416354905),h=v(h,d,y,o,n[A+5],21,-57434055),o=v(o,h,d,y,n[A+12],6,1700485571),y=v(y,o,h,d,n[A+3],10,-1894986606),d=v(d,y,o,h,n[A+10],15,-1051523),h=v(h,d,y,o,n[A+1],21,-2054922799),o=v(o,h,d,y,n[A+8],6,1873313359),y=v(y,o,h,d,n[A+15],10,-30611744),d=v(d,y,o,h,n[A+6],15,-1560198380),h=v(h,d,y,o,n[A+13],21,1309151649),o=v(o,h,d,y,n[A+4],6,-145523070),y=v(y,o,h,d,n[A+11],10,-1120210379),d=v(d,y,o,h,n[A+2],15,718787259),h=v(h,d,y,o,n[A+9],21,-343485551),o=i(o,U),h=i(h,w),d=i(d,_),y=i(y,s)}return Uint32Array.of(o,h,d,y)}function f(n){if(0===n.length)return new Uint32Array;for(var u=new Uint32Array(t(8*n.length)).fill(0),f=0;f<n.length;f++)u[f>>2]|=(255&n[f])<<f%4*8;return u}function i(n,t){var u=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(u>>16)<<16|65535&u}function o(n,t,u,f,o,l){return i((a=i(i(t,n),i(f,l)))<<(c=o)|a>>>32-c,u);var a,c}function l(n,t,u,f,i,l,a){return o(t&u|~t&f,n,t,i,l,a)}function a(n,t,u,f,i,l,a){return o(t&f|u&~f,n,t,i,l,a)}function c(n,t,u,f,i,l,a){return o(t^u^f,n,t,i,l,a)}function v(n,t,u,f,i,l,a){return o(u^(t|~f),n,t,i,l,a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return n(u(f(t),8*t.length))}},951,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0,e.default=function(t,o,f,u,l,s){var c,v='string'==typeof f?i(f):f,y='string'==typeof u?(0,n.default)(u):u;'string'==typeof u&&(u=(0,n.default)(u));if(16!==(null==(c=u)?void 0:c.length))throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');var b=new Uint8Array(16+v.length);if(b.set(y),b.set(v,y.length),(b=o(b))[6]=15&b[6]|t,b[8]=63&b[8]|128,l){s=s||0;for(var p=0;p<16;++p)l[s+p]=b[p];return l}return(0,r(d[2]).unsafeStringify)(b)},e.stringToBytes=i;var n=t(r(d[1]));function i(t){t=unescape(encodeURIComponent(t));for(var n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}e.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',e.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8'},952,[1,943,946]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),u=n(r(d[2]));function o(n,t,o){var f,l,i=null!=(f=null!=(l=(n=n||{}).random)?l:null==n.rng?void 0:n.rng())?f:(0,u.default)();if(i.length<16)throw new Error('Random bytes length must be >= 16');if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((o=o||0)<0||o+16>t.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);for(var v=0;v<16;++v)t[o+v]=i[v];return t}return(0,r(d[3]).unsafeStringify)(i)}e.default=function(n,u,f){return!t.default.randomUUID||u||n?o(n,u,f):t.default.randomUUID()}},953,[1,954,948,946]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o='undefined'!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);e.default={randomUUID:o}},954,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"DNS",{enumerable:!0,get:function(){return r.DNS}}),Object.defineProperty(_e,"URL",{enumerable:!0,get:function(){return r.URL}}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?u(o,i,f):o[i]=e[i]);return o})(e,t)})(_r(d[2]));function n(e,n,u,f){return(0,r.default)(80,t.default,e,n,u,f)}n.DNS=r.DNS,n.URL=r.URL;_e.default=n},955,[1,956,952]);
__d(function(g,r,_i2,_a,m,_e,_d){function e(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:case 3:return t^n^a;case 2:return t&n^t&a^n&a}}function t(e,t){return e<<t|e>>>32-t}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;_e.default=function(n){var a=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520],f=new Uint8Array(n.length+1);f.set(n),f[n.length]=128;for(var u=(n=f).length/4+2,i=Math.ceil(u/16),l=new Array(i),c=0;c<i;++c){for(var h=new Uint32Array(16),v=0;v<16;++v)h[v]=n[64*c+4*v]<<24|n[64*c+4*v+1]<<16|n[64*c+4*v+2]<<8|n[64*c+4*v+3];l[c]=h}l[i-1][14]=8*(n.length-1)/Math.pow(2,32),l[i-1][14]=Math.floor(l[i-1][14]),l[i-1][15]=8*(n.length-1)&4294967295;for(var s=0;s<i;++s){for(var d=new Uint32Array(80),w=0;w<16;++w)d[w]=l[s][w];for(var y=16;y<80;++y)d[y]=t(d[y-3]^d[y-8]^d[y-14]^d[y-16],1);for(var A=o[0],M=o[1],U=o[2],_=o[3],p=o[4],b=0;b<80;++b){var j=Math.floor(b/20),O=t(A,5)+e(j,M,U,_)+p+a[j]+d[b]>>>0;p=_,_=U,U=t(M,30)>>>0,M=A,A=O}o[0]=o[0]+A>>>0,o[1]=o[1]+M>>>0,o[2]=o[2]+U>>>0,o[3]=o[3]+_>>>0,o[4]=o[4]+p>>>0}return Uint8Array.of(o[0]>>24,o[0]>>16,o[0]>>8,o[0],o[1]>>24,o[1]>>16,o[1]>>8,o[1],o[2]>>24,o[2]>>16,o[2]>>8,o[2],o[3]>>24,o[3]>>16,o[3]>>8,o[3],o[4]>>24,o[4]>>16,o[4]>>8,o[4])}},956,[]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),u=n(r(d[2]));e.default=function(n,f,l){null!=n||(n={}),null!=l||(l=0);var i=(0,t.default)(Object.assign({},n,{_v6:!0}),new Uint8Array(16));if(i=(0,u.default)(i),f){for(var v=0;v<16;v++)f[l+v]=i[v];return f}return(0,r(d[3]).unsafeStringify)(i)}},957,[1,947,949,946]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=f('string'==typeof t?(0,n.default)(t):t);return'string'==typeof t?(0,r(d[2]).unsafeStringify)(u):u};var n=t(r(d[1]));function f(t){return Uint8Array.of((15&t[3])<<4|t[4]>>4&15,(15&t[4])<<4|(240&t[5])>>4,(15&t[5])<<4|15&t[6],t[7],(15&t[1])<<4|(240&t[2])>>4,(15&t[2])<<4|(240&t[3])>>4,16|(240&t[0])>>4,(15&t[0])<<4|(240&t[1])>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},958,[1,943,946]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.updateV7State=l;var s=n(r(d[1])),t={};function l(n,s,t){return null!=n.msecs||(n.msecs=-1/0),null!=n.seq||(n.seq=0),s>n.msecs?(n.seq=t[6]<<23|t[7]<<16|t[8]<<8|t[9],n.msecs=s):(n.seq=n.seq+1|0,0===n.seq&&n.msecs++),n}function u(n,s,t,l){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(n.length<16)throw new Error('Random bytes length must be >= 16');if(l){if(u<0||u+16>l.length)throw new RangeError(`UUID byte range ${u}:${u+15} is out of buffer bounds`)}else l=new Uint8Array(16),u=0;return null!=s||(s=Date.now()),null!=t||(t=127*n[6]<<24|n[7]<<16|n[8]<<8|n[9]),l[u++]=s/1099511627776&255,l[u++]=s/4294967296&255,l[u++]=s/16777216&255,l[u++]=s/65536&255,l[u++]=s/256&255,l[u++]=255&s,l[u++]=112|t>>>28&15,l[u++]=t>>>20&255,l[u++]=128|t>>>14&63,l[u++]=t>>>6&255,l[u++]=t<<2&255|3&n[10],l[u++]=n[11],l[u++]=n[12],l[u++]=n[13],l[u++]=n[14],l[u++]=n[15],l}e.default=function(n,o,f){var c;if(n){var v,q;c=u(null!=(v=null!=(q=n.random)?q:null==n.rng?void 0:n.rng())?v:(0,s.default)(),n.msecs,n.seq,o,f)}else{var w=Date.now(),b=(0,s.default)();l(t,w,b),c=u(b,t.msecs,t.seq,o,f)}return null!=o?o:(0,r(d[2]).unsafeStringify)(c)}},959,[1,948,946]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));e.default=function(t){if(!(0,n.default)(t))throw TypeError('Invalid UUID');return parseInt(t.slice(14,15),16)}},960,[1,944]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SSOAction=e.IdentityProviderBrand=e.DELEGATED_OIDC_COMPATIBILITY=void 0;e.DELEGATED_OIDC_COMPATIBILITY=new(r(d[0]).UnstableValue)("delegated_oidc_compatibility","org.matrix.msc3824.delegated_oidc_compatibility"),e.IdentityProviderBrand=(function(t){return t.Gitlab="gitlab",t.Github="github",t.Apple="apple",t.Google="google",t.Facebook="facebook",t.Twitter="twitter",t})({}),e.SSOAction=(function(t){return t.LOGIN="login",t.REGISTER="register",t})({})},961,[754]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.localStorageErrorsEventsEmitter=_e.LocalStorageErrors=void 0;var t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5]));function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}_e.LocalStorageErrors=(function(e){return e.Global="Global",e.SetItemError="setItem",e.GetItemError="getItem",e.RemoveItemError="removeItem",e.ClearError="clear",e.QuotaExceededError="QuotaExceededError",e})({});var E=(function(e){function E(){return(0,o.default)(this,E),e=this,t=E,c=arguments,t=(0,l.default)(t),(0,n.default)(e,u()?Reflect.construct(t,c||[],(0,l.default)(e).constructor):t.apply(e,c));var e,t,c}return(0,c.default)(E,e),(0,t.default)(E)})(r(d[6]).TypedEventEmitter);_e.localStorageErrorsEventsEmitter=new E},962,[1,12,11,18,20,23,762]);
__d(function(g,r,i,a,_m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryStore=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4]));function l(t){return"string"==typeof t&&!!t&&"undefined"!==t&&"null"!==t||"number"==typeof t}e.MemoryStore=(function(){return(0,o.default)(function t(){var o=this;(0,n.default)(this,t);var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,"rooms",{}),(0,u.default)(this,"users",{}),(0,u.default)(this,"syncToken",null),(0,u.default)(this,"filters",new(r(d[5]).MapWithDefault)(function(){return new Map})),(0,u.default)(this,"accountData",new Map),(0,u.default)(this,"localStorage",void 0),(0,u.default)(this,"oobMembers",new Map),(0,u.default)(this,"pendingEvents",{}),(0,u.default)(this,"clientOptions",void 0),(0,u.default)(this,"pendingToDeviceBatches",[]),(0,u.default)(this,"nextToDeviceBatchId",0),(0,u.default)(this,"createUser",void 0),(0,u.default)(this,"onRoomMember",function(t,n,s){var u;if(s.membership!==r(d[6]).KnownMembership.Invite){var l=o.users[s.userId]||(null===(u=o.createUser)||void 0===u?void 0:u.call(o,s.userId));s.name&&(l.setDisplayName(s.name),s.events.member&&l.setRawDisplayName(s.events.member.getDirectionalContent().displayname)),s.events.member&&s.events.member.getContent().avatar_url&&l.setAvatarUrl(s.events.member.getContent().avatar_url),o.users[l.userId]=l}}),this.localStorage=s.localStorage},[{key:"getSyncToken",value:function(){return this.syncToken}},{key:"isNewlyCreated",value:function(){return Promise.resolve(!0)}},{key:"setSyncToken",value:function(t){this.syncToken=t}},{key:"storeRoom",value:function(t){var n=this;this.rooms[t.roomId]=t,t.currentState.on(r(d[7]).RoomStateEvent.Members,this.onRoomMember),t.currentState.getMembers().forEach(function(o){n.onRoomMember(null,t.currentState,o)})}},{key:"setUserCreator",value:function(t){this.createUser=t}},{key:"getRoom",value:function(t){return this.rooms[t]||null}},{key:"getRooms",value:function(){return Object.values(this.rooms)}},{key:"removeRoom",value:function(t){this.rooms[t]&&this.rooms[t].currentState.removeListener(r(d[7]).RoomStateEvent.Members,this.onRoomMember),delete this.rooms[t]}},{key:"getRoomSummaries",value:function(){return Object.values(this.rooms).map(function(t){return t.summary})}},{key:"storeUser",value:function(t){this.users[t.userId]=t}},{key:"getUser",value:function(t){return this.users[t]||null}},{key:"getUsers",value:function(){return Object.values(this.users)}},{key:"scrollback",value:function(t,n){return[]}},{key:"storeEvents",value:function(t,n,o,s){}},{key:"storeFilter",value:function(t){null!=t&&t.userId&&null!=t&&t.filterId&&this.filters.getOrCreate(t.userId).set(t.filterId,t)}},{key:"getFilter",value:function(t,n){var o;return(null===(o=this.filters.get(t))||void 0===o?void 0:o.get(n))||null}},{key:"getFilterIdByName",value:function(t){if(!this.localStorage)return null;var n="mxjssdk_memory_filter_"+t;try{var o=this.localStorage.getItem(n);if(l(o))return o}catch(t){}return null}},{key:"setFilterIdByName",value:function(t,n){if(this.localStorage){var o="mxjssdk_memory_filter_"+t;try{l(n)?this.localStorage.setItem(o,n):this.localStorage.removeItem(o)}catch(t){}}}},{key:"storeAccountDataEvents",value:function(t){var n=this;t.forEach(function(t){!Object.keys(t.getContent()).length?n.accountData.delete(t.getType()):n.accountData.set(t.getType(),t)})}},{key:"getAccountData",value:function(t){return this.accountData.get(t)}},{key:"setSyncData",value:function(t){return Promise.resolve()}},{key:"wantsSave",value:function(){return!1}},{key:"save",value:function(t){return Promise.resolve()}},{key:"startup",value:function(){return Promise.resolve()}},{key:"getSavedSync",value:function(){return Promise.resolve(null)}},{key:"getSavedSyncToken",value:function(){return Promise.resolve(null)}},{key:"deleteAllData",value:function(){return this.rooms={},this.users={},this.syncToken=null,this.filters=new(r(d[5]).MapWithDefault)(function(){return new Map}),this.accountData=new Map,Promise.resolve()}},{key:"getOutOfBandMembers",value:function(t){return Promise.resolve(this.oobMembers.get(t)||null)}},{key:"setOutOfBandMembers",value:function(t,n){return this.oobMembers.set(t,n),Promise.resolve()}},{key:"clearOutOfBandMembers",value:function(t){return this.oobMembers.delete(t),Promise.resolve()}},{key:"getClientOptions",value:function(){return Promise.resolve(this.clientOptions)}},{key:"storeClientOptions",value:function(t){return this.clientOptions=Object.assign({},t),Promise.resolve()}},{key:"getPendingEvents",value:function(t){var n=this;return(0,s.default)(function*(){var o;return null!==(o=n.pendingEvents[t])&&void 0!==o?o:[]})()}},{key:"setPendingEvents",value:function(t,n){var o=this;return(0,s.default)(function*(){o.pendingEvents[t]=n})()}},{key:"saveToDeviceBatches",value:function(t){for(var n of t)this.pendingToDeviceBatches.push({id:this.nextToDeviceBatchId++,eventType:n.eventType,txnId:n.txnId,batch:n.batch});return Promise.resolve()}},{key:"getOldestToDeviceBatch",value:function(){var t=this;return(0,s.default)(function*(){return 0===t.pendingToDeviceBatches.length?null:t.pendingToDeviceBatches[0]})()}},{key:"removeToDeviceBatch",value:function(t){return this.pendingToDeviceBatches=this.pendingToDeviceBatches.filter(function(n){return n.id!==t}),Promise.resolve()}},{key:"destroy",value:function(){return(0,s.default)(function*(){})()}}])})()},963,[1,11,12,743,739,748,767,766]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.RoomWidgetClientEvent=_e.RoomWidgetClient=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),c=e(_r(d[5])),s=e(_r(d[6])),l=e(_r(d[7])),u=e(_r(d[8]));function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new E(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function E(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return E=function(e){this.s=e,this.n=e.next},E.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new E(e)}var S=_e.RoomWidgetClientEvent=(function(e){return e.PendingEventsChanged="PendingEvent.pendingEventsChanged",e})({});_e.RoomWidgetClient=(function(e){function p(e,n,c,s,f){var E,A,w,T,_,b,D,C,I,M,U,R,k,x,P,O,j,W;(0,t.default)(this,p),O=this,j=p,W=[s],j=(0,o.default)(j),E=(0,r.default)(O,v()?Reflect.construct(j,W||[],(0,o.default)(O).constructor):j.apply(O,W)),A=E,E.widgetApi=e,E.capabilities=n,E.roomId=c,(0,u.default)(E,"room",void 0),(0,u.default)(E,"widgetApiReady",void 0),(0,u.default)(E,"roomStateSynced",void 0),(0,u.default)(E,"lifecycle",void 0),(0,u.default)(E,"syncState",null),(0,u.default)(E,"pendingSendingEventsTxId",[]),(0,u.default)(E,"eventEmitter",new(_r(d[9]).TypedEventEmitter)),(0,u.default)(E,"updateTxId",(function(){var e=(0,l.default)(function*(e){if(e.getSender()===A.getUserId()&&A.pendingSendingEventsTxId.some(function(t){return e.getType()===t.type})){for(var t,n=null===(t=A.pendingSendingEventsTxId.find(function(t){return t.id===e.getId()}))||void 0===t?void 0:t.txId;!n&&A.pendingSendingEventsTxId.length>0;){var r;yield new Promise(function(e){return A.eventEmitter.once(S.PendingEventsChanged,function(){return e()})}),n=null===(r=A.pendingSendingEventsTxId.find(function(t){return t.id===e.getId()}))||void 0===r?void 0:r.txId}n&&(e.setTxnId(n),e.setUnsigned(y(y({},e.getUnsigned()),{},{transaction_id:n}))),A.pendingSendingEventsTxId=A.pendingSendingEventsTxId.filter(function(t){return t.id!==e.getId()}),0===A.pendingSendingEventsTxId.length&&A.eventEmitter.emit(S.PendingEventsChanged)}});return function(t){return e.apply(this,arguments)}})()),(0,u.default)(E,"onEvent",(function(){var e=(0,l.default)(function*(e){if(e.preventDefault(),e.detail.data.room_id===A.roomId){var t=new(_r(d[10]).MatrixEvent)(e.detail.data);yield A.updateTxId(t),A.syncApi instanceof _r(d[11]).SyncApi?(yield A.supportUpdateState())?yield A.syncApi.injectRoomEvents(A.room,void 0,[],[t]):yield A.syncApi.injectRoomEvents(A.room,[],void 0,[t]):(yield A.supportUpdateState())?yield A.syncApi.injectRoomEvents(A.room,[],[t]):_r(d[12]).logger.error("slididng sync cannot be used in widget mode if the client widget driver does not support the version: 'org.matrix.msc2762_update_state'"),A.emit(_r(d[13]).ClientEvent.Event,t),A.setSyncState(_r(d[11]).SyncState.Syncing),_r(d[12]).logger.info("Received event ".concat(t.getId()," ").concat(t.getType()))}else{var n=e.detail.data,r=n.event_id,o=n.room_id;_r(d[12]).logger.info("Received event ".concat(r," for a different room ").concat(o,"; discarding"))}yield A.ack(e)});return function(t){return e.apply(this,arguments)}})()),(0,u.default)(E,"onToDevice",(function(){var e=(0,l.default)(function*(e){e.preventDefault();var t=new(_r(d[10]).MatrixEvent)({type:e.detail.data.type,sender:e.detail.data.sender,content:e.detail.data.content});e.detail.data.encrypted&&t.makeEncrypted(_r(d[14]).EventType.RoomMessageEncrypted,{},"",""),A.emit(_r(d[13]).ClientEvent.ToDeviceEvent,t),A.setSyncState(_r(d[11]).SyncState.Syncing),yield A.ack(e)});return function(t){return e.apply(this,arguments)}})()),(0,u.default)(E,"onStateUpdate",(function(){var e=(0,l.default)(function*(e){for(var t of(e.preventDefault(),(yield A.supportUpdateState())||_r(d[12]).logger.warn("received update_state widget action but the widget driver did not claim to support 'org.matrix.msc2762_update_state'"),e.detail.data.state))if(t.room_id===A.roomId){var n=new(_r(d[10]).MatrixEvent)(t);A.syncApi instanceof _r(d[11]).SyncApi?yield A.syncApi.injectRoomEvents(A.room,void 0,[n]):yield A.syncApi.injectRoomEvents(A.room,[n]),_r(d[12]).logger.info("Updated state entry ".concat(n.getType()," ").concat(n.getStateKey()," to ").concat(n.getId()))}else{var r=e.detail.data,o=r.event_id,c=r.room_id;_r(d[12]).logger.info("Received state entry ".concat(o," for a different room ").concat(c,"; discarding"))}yield A.ack(e)});return function(t){return e.apply(this,arguments)}})());var q=E.widgetApi.transport.send.bind(E.widgetApi.transport);E.widgetApi.transport.send=(function(){var e=(0,l.default)(function*(e,t){try{return yield q(e,t)}catch(e){h(e)}});return function(t,n){return e.apply(this,arguments)}})();var N=E.widgetApi.transport.sendComplete.bind(E.widgetApi.transport);return E.widgetApi.transport.sendComplete=(function(){var e=(0,l.default)(function*(e,t){try{return yield N(e,t)}catch(e){h(e)}});return function(t,n){return e.apply(this,arguments)}})(),E.widgetApiReady=new Promise(function(e){return E.widgetApi.once("ready",e)}),E.roomStateSynced=null!==(w=n.receiveState)&&void 0!==w&&w.length?new Promise(function(e){return E.widgetApi.once("action:".concat(_r(d[15]).WidgetApiToWidgetAction.UpdateState),e)}):Promise.resolve(),(null!==(T=n.sendEvent)&&void 0!==T&&T.length||null!==(_=n.receiveEvent)&&void 0!==_&&_.length||!0===n.sendMessage||Array.isArray(n.sendMessage)&&n.sendMessage.length||!0===n.receiveMessage||Array.isArray(n.receiveMessage)&&n.receiveMessage.length||null!==(b=n.sendState)&&void 0!==b&&b.length||null!==(D=n.receiveState)&&void 0!==D&&D.length)&&e.requestCapabilityForRoomTimeline(c),null===(C=n.sendEvent)||void 0===C||C.forEach(function(t){return e.requestCapabilityToSendEvent(t)}),null===(I=n.receiveEvent)||void 0===I||I.forEach(function(t){return e.requestCapabilityToReceiveEvent(t)}),!0===n.sendMessage?e.requestCapabilityToSendMessage():Array.isArray(n.sendMessage)&&n.sendMessage.forEach(function(t){return e.requestCapabilityToSendMessage(t)}),!0===n.receiveMessage?e.requestCapabilityToReceiveMessage():Array.isArray(n.receiveMessage)&&n.receiveMessage.forEach(function(t){return e.requestCapabilityToReceiveMessage(t)}),null===(M=n.sendState)||void 0===M||M.forEach(function(t){var n=t.eventType,r=t.stateKey;return e.requestCapabilityToSendState(n,r)}),null===(U=n.receiveState)||void 0===U||U.forEach(function(t){var n=t.eventType,r=t.stateKey;return e.requestCapabilityToReceiveState(n,r)}),null===(R=n.sendToDevice)||void 0===R||R.forEach(function(t){return e.requestCapabilityToSendToDevice(t)}),null===(k=n.receiveToDevice)||void 0===k||k.forEach(function(t){return e.requestCapabilityToReceiveToDevice(t)}),n.sendDelayedEvents&&(null!==(x=n.sendEvent)&&void 0!==x&&x.length||!0===n.sendMessage||Array.isArray(n.sendMessage)&&n.sendMessage.length||null!==(P=n.sendState)&&void 0!==P&&P.length)&&e.requestCapability(_r(d[15]).MatrixCapabilities.MSC4157SendDelayedEvent),n.updateDelayedEvents&&e.requestCapability(_r(d[15]).MatrixCapabilities.MSC4157UpdateDelayedEvent),n.turnServers&&e.requestCapability(_r(d[15]).MatrixCapabilities.MSC3846TurnServers),e.on("action:".concat(_r(d[15]).WidgetApiToWidgetAction.SendEvent),E.onEvent),e.on("action:".concat(_r(d[15]).WidgetApiToWidgetAction.SendToDevice),E.onToDevice),e.on("action:".concat(_r(d[15]).WidgetApiToWidgetAction.UpdateState),E.onStateUpdate),e.start(),f&&e.sendContentLoaded(),E}return(0,s.default)(p,e),(0,n.default)(p,[{key:"supportUpdateState",value:function(){var e=this;return(0,l.default)(function*(){return(yield e.widgetApi.getClientVersions()).includes(_r(d[15]).UnstableApiVersion.MSC2762_UPDATE_STATE)})()}},{key:"startClient",value:function(){var e=arguments,t=this;return(0,l.default)(function*(){var n=e.length>0&&void 0!==e[0]?e[0]:{};t.lifecycle=new AbortController;var r,o,c=t.getUserId();(c&&t.store.storeUser(new(_r(d[16]).User)(c)),n.slidingSync?t.syncApi=new(_r(d[17]).SlidingSyncSdk)(n.slidingSync,t,n,t.buildSyncApiOptions()):t.syncApi=new(_r(d[11]).SyncApi)(t,n,t.buildSyncApiOptions()),t.room=t.syncApi.createRoom(t.roomId),t.store.storeRoom(t.room),yield t.widgetApiReady,yield t.supportUpdateState())?yield t.roomStateSynced:yield Promise.all(null!==(r=null===(o=t.capabilities.receiveState)||void 0===o?void 0:o.map((function(){var e=(0,l.default)(function*(e){var n=e.eventType,r=e.stateKey,o=(yield t.widgetApi.readStateEvents(n,void 0,r,[t.roomId])).map(function(e){return new(_r(d[10]).MatrixEvent)(e)});t.syncApi instanceof _r(d[11]).SyncApi?yield t.syncApi.injectRoomEvents(t.room,void 0,o):yield t.syncApi.injectRoomEvents(t.room,o),o.forEach(function(e){t.emit(_r(d[13]).ClientEvent.Event,e),_r(d[12]).logger.info("Backfilled event ".concat(e.getId()," ").concat(e.getType()," ").concat(e.getStateKey()))})});return function(t){return e.apply(this,arguments)}})()))&&void 0!==r?r:[]);void 0!==n.clientWellKnownPollPeriod&&(t.clientWellKnownIntervalID=setInterval(function(){t.fetchClientWellKnown()},1e3*n.clientWellKnownPollPeriod),t.fetchClientWellKnown()),t.setSyncState(_r(d[11]).SyncState.Syncing),_r(d[12]).logger.info("Finished initial sync"),t.matrixRTC.start(),t.capabilities.turnServers&&t.watchTurnServers()})()}},{key:"stopClient",value:function(){var e,t,n,r,s;this.widgetApi.off("action:".concat(_r(d[15]).WidgetApiToWidgetAction.SendEvent),this.onEvent),this.widgetApi.off("action:".concat(_r(d[15]).WidgetApiToWidgetAction.SendToDevice),this.onToDevice),this.widgetApi.off("action:".concat(_r(d[15]).WidgetApiToWidgetAction.UpdateState),this.onStateUpdate),(e=p,t="stopClient",n=this,r=3,s=(0,c.default)((0,o.default)(1&r?e.prototype:e),t,n),2&r&&"function"==typeof s?function(e){return s.apply(n,e)}:s)([]),this.lifecycle.abort()}},{key:"joinRoom",value:function(e){var t=this;return(0,l.default)(function*(){if(e===t.roomId)return t.room;throw new Error("Unknown room: ".concat(e))})()}},{key:"encryptAndSendEvent",value:function(e,t,n){var r=this;return(0,l.default)(function*(){var o=t.event.redacts?y(y({},t.getContent()),{},{redacts:t.event.redacts}):t.getContent();if(n){var c=yield r.widgetApi.sendRoomEvent(t.getType(),o,e.roomId,"delay"in n?n.delay:void 0,"parent_delay_id"in n?n.parent_delay_id:void 0).catch(A);return r.validateSendDelayedEventResponse(c)}var s,l=t.getTxnId();l&&r.pendingSendingEventsTxId.push({type:t.getType(),id:void 0,txId:l});try{s=yield r.widgetApi.sendRoomEvent(t.getType(),o,e.roomId).catch(A)}catch(n){throw r.updatePendingEventStatus(e,t,_r(d[10]).EventStatus.NOT_SENT),n}return e.updatePendingEvent(t,_r(d[10]).EventStatus.SENT,s.event_id),r.pendingSendingEventsTxId.forEach(function(e){e.txId===l&&(e.id=s.event_id)}),r.eventEmitter.emit(S.PendingEventsChanged),{event_id:s.event_id}})()}},{key:"sendStateEvent",value:function(e,t,n){var r=arguments,o=this;return(0,l.default)(function*(){var c=r.length>3&&void 0!==r[3]?r[3]:"",s=yield o.widgetApi.sendStateEvent(t,c,n,e).catch(A);if(void 0===s.event_id)throw new Error("'event_id' absent from response to an event request");return{event_id:s.event_id}})()}},{key:"_unstable_sendDelayedStateEvent",value:function(e,t,n,r){var o=arguments,c=this;return(0,l.default)(function*(){var s=o.length>4&&void 0!==o[4]?o[4]:"";if(!(yield c.doesServerSupportUnstableFeature(_r(d[13]).UNSTABLE_MSC4140_DELAYED_EVENTS)))throw new(_r(d[9]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","sendDelayedStateEvent");var l=yield c.widgetApi.sendStateEvent(n,s,r,e,"delay"in t?t.delay:void 0,"parent_delay_id"in t?t.parent_delay_id:void 0).catch(A);return c.validateSendDelayedEventResponse(l)})()}},{key:"validateSendDelayedEventResponse",value:function(e){if(void 0===e.delay_id)throw new Error("'delay_id' absent from response to a delayed event request");return{delay_id:e.delay_id}}},{key:"_unstable_updateDelayedEvent",value:function(e,t){var n=this;return(0,l.default)(function*(){if(!(yield n.doesServerSupportUnstableFeature(_r(d[13]).UNSTABLE_MSC4140_DELAYED_EVENTS)))throw new(_r(d[9]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","updateDelayedEvent");var r;switch(t){case _r(d[18]).UpdateDelayedEventAction.Cancel:case _r(d[18]).UpdateDelayedEventAction.Restart:r=n.widgetApi.cancelScheduledDelayedEvent;break;case _r(d[18]).UpdateDelayedEventAction.Send:r=n.widgetApi.sendScheduledDelayedEvent}return yield r.call(n.widgetApi,e).catch(A),{}})()}},{key:"_unstable_cancelScheduledDelayedEvent",value:function(e){var t=this;return(0,l.default)(function*(){if(!(yield t.doesServerSupportUnstableFeature(_r(d[13]).UNSTABLE_MSC4140_DELAYED_EVENTS)))throw new(_r(d[9]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","cancelScheduledDelayedEvent");return yield t.widgetApi.cancelScheduledDelayedEvent(e).catch(A),{}})()}},{key:"_unstable_restartScheduledDelayedEvent",value:function(e){var t=this;return(0,l.default)(function*(){if(!(yield t.doesServerSupportUnstableFeature(_r(d[13]).UNSTABLE_MSC4140_DELAYED_EVENTS)))throw new(_r(d[9]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","restartScheduledDelayedEvent");return yield t.widgetApi.restartScheduledDelayedEvent(e).catch(A),{}})()}},{key:"_unstable_sendScheduledDelayedEvent",value:function(e){var t=this;return(0,l.default)(function*(){if(!(yield t.doesServerSupportUnstableFeature(_r(d[13]).UNSTABLE_MSC4140_DELAYED_EVENTS)))throw new(_r(d[9]).UnsupportedDelayedEventsEndpointError)("Server does not support the delayed events API","sendScheduledDelayedEvent");return yield t.widgetApi.sendScheduledDelayedEvent(e).catch(A),{}})()}},{key:"encryptAndSendToDevice",value:function(e,t,n){var r=this;return(0,l.default)(function*(){var o=new(_r(d[19]).MapWithDefault)(function(){return new Map});for(var c of t){var s=c.userId,l=c.deviceId;o.getOrCreate(s).set(l,n)}yield r.widgetApi.sendToDevice(e,!0,(0,_r(d[19]).recursiveMapToObject)(o)).catch(A)})()}},{key:"sendToDevice",value:function(e,t){var n=this;return(0,l.default)(function*(){return yield n.widgetApi.sendToDevice(e,!1,(0,_r(d[19]).recursiveMapToObject)(t)).catch(A),{}})()}},{key:"getOpenIdToken",value:function(){var e=this;return(0,l.default)(function*(){var t=yield e.widgetApi.requestOpenIDConnectToken().catch(A);return{access_token:t.access_token,expires_in:t.expires_in,matrix_server_name:t.matrix_server_name,token_type:t.token_type}})()}},{key:"queueToDevice",value:function(e){var t=this;return(0,l.default)(function*(){var n=e.eventType,r=e.batch,o=new(_r(d[19]).MapWithDefault)(function(){return new Map});for(var c of r){var s=c.userId,l=c.deviceId,u=c.payload;o.getOrCreate(s).set(l,u)}yield t.widgetApi.sendToDevice(n,!1,(0,_r(d[19]).recursiveMapToObject)(o)).catch(A)})()}},{key:"sendToDeviceViaWidgetApi",value:function(e,t,n){var r=this;return(0,l.default)(function*(){yield r.widgetApi.sendToDevice(e,t,(0,_r(d[19]).recursiveMapToObject)(n)).catch(A)})()}},{key:"checkTurnServers",value:function(){var e=this;return(0,l.default)(function*(){return e.turnServers.length>0})()}},{key:"getSyncState",value:function(){return this.syncState}},{key:"setSyncState",value:function(e){var t=this.syncState;this.syncState=e,this.emit(_r(d[13]).ClientEvent.Sync,e,t)}},{key:"ack",value:function(e){var t=this;return(0,l.default)(function*(){yield t.widgetApi.transport.reply(e.detail,{})})()}},{key:"watchTurnServers",value:function(){var e=this;return(0,l.default)(function*(){var t=e.widgetApi.getTurnServers(),n=function(){t.return(void 0)};e.lifecycle.signal.addEventListener("abort",n);try{var r,o=!1,c=!1;try{for(var s,l=f(t);o=!(s=yield l.next()).done;o=!1){var u=s.value;e.turnServers=[{urls:u.uris,username:u.username,credential:u.password}],e.emit(_r(d[13]).ClientEvent.TurnServers,e.turnServers),_r(d[12]).logger.log("Received TURN server: ".concat(u.uris))}}catch(e){c=!0,r=e}finally{try{o&&null!=l.return&&(yield l.return())}finally{if(c)throw r}}}catch(e){_r(d[12]).logger.warn("Error watching TURN servers",e)}finally{e.lifecycle.signal.removeEventListener("abort",n)}})()}}])})(_r(d[13]).MatrixClient);function h(e){throw e instanceof _r(d[15]).WidgetApiResponseError&&e.data.matrix_api_error?_r(d[20]).MatrixError.fromWidgetApiErrorData(e.data.matrix_api_error):e}function A(e){if(e instanceof Error&&"Request timed out"===e.message)throw new(_r(d[20]).ConnectionError)("widget api timeout");throw e}},964,[1,11,12,18,20,21,23,743,739,737,771,836,746,796,765,965,838,863,901,748,818]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[0])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[0])[t]}}))}),Object.keys(r(d[1])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[1])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[1])[t]}}))}),Object.keys(r(d[2])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[2])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[2])[t]}}))}),Object.keys(r(d[3])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[3])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[3])[t]}}))}),Object.keys(r(d[4])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[4])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[4])[t]}}))}),Object.keys(r(d[5])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[5])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[5])[t]}}))}),Object.keys(r(d[6])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[6])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[6])[t]}}))}),Object.keys(r(d[7])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[7])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[7])[t]}}))}),Object.keys(r(d[8])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[8])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[8])[t]}}))}),Object.keys(r(d[9])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[9])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[9])[t]}}))}),Object.keys(r(d[10])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[10])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[10])[t]}}))}),Object.keys(r(d[11])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[11])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[11])[t]}}))}),Object.keys(r(d[12])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[12])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[12])[t]}}))}),Object.keys(r(d[13])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[13])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[13])[t]}}))}),Object.keys(r(d[14])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[14])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[14])[t]}}))}),Object.keys(r(d[15])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[15])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[15])[t]}}))}),Object.keys(r(d[16])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[16])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[16])[t]}}))}),Object.keys(r(d[17])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[17])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[17])[t]}}))}),Object.keys(r(d[18])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[18])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[18])[t]}}))}),Object.keys(r(d[19])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[19])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[19])[t]}}))}),Object.keys(r(d[20])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[20])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[20])[t]}}))}),Object.keys(r(d[21])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[21])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[21])[t]}}))}),Object.keys(r(d[22])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r(d[22])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[22])[t]}}))})},965,[966,977,974,967,972,980,970,968,975,978,971,981,982,976,973,969,983,984,985,986,987,979,988]);
__d(function(g,_r,_i,_a,m,_e3,d){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e=function(){return n};var n={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=p;var v={};function h(){}function y(){}function b(){}var w={};l(w,s,function(){return this});var A=Object.getPrototypeOf,C=A&&A(A(R([])));C&&C!==r&&i.call(C,s)&&(w=C);var E=b.prototype=h.prototype=Object.create(w);function S(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function W(e,n){function r(o,a,s,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==t(p)&&i.call(p,"__await")?n.resolve(p.__await).then(function(t){r("next",t,s,c)},function(t){r("throw",t,s,c)}):n.resolve(p).then(function(t){l.value=t,s(l)},function(t){return r("throw",t,s,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,e){function i(){return new n(function(n,i){r(t,e,n,i)})}return a=a?a.then(i,i):i()}})}function k(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:D}}function D(){return{value:void 0,done:!0}}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},S(W.prototype),l(W.prototype,c,function(){return this}),n.AsyncIterator=W,n.async=function(t,e,r,i,o){void 0===o&&(o=Promise);var a=new W(p(t,e,r,i),o);return n.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},S(E),l(E,u,"Generator"),l(E,s,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=R,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:R(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},n}function n(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,c,"next",t)}function c(t){n(a,i,o,s,c,"throw",t)}s(void 0)})}}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function p(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(e){var n=v(e,"string");return"symbol"===t(n)?n:String(n)}function v(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}function b(t){var e=S();return function(){var n,r=k(t);if(e){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){var e="function"==typeof Map?new Map:void 0;return C=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return E(t,arguments,k(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),W(r,t)},C(t)}function E(t,e,n){return E=S()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&W(i,n.prototype),i},E.apply(null,arguments)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function x(t){return new _(t,0)}function O(t){var e,n;function r(e,n){try{var o=t[e](n),a=o.value,s=a instanceof _;Promise.resolve(s?a.v:a).then(function(n){if(s){var c="return"===e?"return":"next";if(!a.k||n.done)return r(c,n);n=t[c](n).value}i(o.done?"return":"normal",n)},function(t){r("throw",t)})}catch(t){i("throw",t)}}function i(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,i){return new Promise(function(o,a){var s={key:t,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(e=n=s,r(t,i))})},"function"!=typeof t.return&&(this.return=void 0)}function _(t,e){this.v=t,this.k=e}Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.WidgetApiResponseError=_e3.WidgetApi=void 0,O.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},O.prototype.next=function(t){return this._invoke("next",t)},O.prototype.throw=function(t){return this._invoke("throw",t)},O.prototype.return=function(t){return this._invoke("return",t)};var T=(function(t){y(n,t);var e=b(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).data=r,i}return p(n)})(C(Error));_e3.WidgetApiResponseError=T,T.prototype.name=T.name;var R=(function(t){y(v,t);var n,i,s,c,l,f=b(v);function v(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(h(this,v),u(A(t=f.call(this)),"transport",void 0),u(A(t),"capabilitiesFinished",!1),u(A(t),"supportsMSC2974Renegotiate",!1),u(A(t),"requestedCapabilities",[]),u(A(t),"approvedCapabilities",void 0),u(A(t),"cachedClientVersions",void 0),u(A(t),"turnServerWatchers",0),!globalThis.parent)throw new Error("No parent window. This widget doesn't appear to be embedded properly.");return t.transport=new(_r(d[0]).PostmessageTransport)(_r(d[1]).WidgetApiDirection.FromWidget,e,globalThis.parent,globalThis),t.transport.targetOrigin=n,t.transport.on("message",t.handleMessage.bind(A(t))),t}return p(v,[{key:"hasCapability",value:function(t){return Array.isArray(this.approvedCapabilities)?this.approvedCapabilities.includes(t):this.requestedCapabilities.includes(t)}},{key:"requestCapability",value:function(t){if(this.capabilitiesFinished&&!this.supportsMSC2974Renegotiate)throw new Error("Capabilities have already been negotiated");this.requestedCapabilities.push(t)}},{key:"requestCapabilities",value:function(t){var e,n=a(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.requestCapability(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"requestCapabilityForRoomTimeline",value:function(t){this.requestCapability("org.matrix.msc2762.timeline:".concat(t))}},{key:"requestCapabilityToSendState",value:function(t,e){this.requestCapability(_r(d[2]).WidgetEventCapability.forStateEvent(_r(d[2]).EventDirection.Send,t,e).raw)}},{key:"requestCapabilityToReceiveState",value:function(t,e){this.requestCapability(_r(d[2]).WidgetEventCapability.forStateEvent(_r(d[2]).EventDirection.Receive,t,e).raw)}},{key:"requestCapabilityToSendToDevice",value:function(t){this.requestCapability(_r(d[2]).WidgetEventCapability.forToDeviceEvent(_r(d[2]).EventDirection.Send,t).raw)}},{key:"requestCapabilityToReceiveToDevice",value:function(t){this.requestCapability(_r(d[2]).WidgetEventCapability.forToDeviceEvent(_r(d[2]).EventDirection.Receive,t).raw)}},{key:"requestCapabilityToSendEvent",value:function(t){this.requestCapability(_r(d[2]).WidgetEventCapability.forRoomEvent(_r(d[2]).EventDirection.Send,t).raw)}},{key:"requestCapabilityToReceiveEvent",value:function(t){this.requestCapability(_r(d[2]).WidgetEventCapability.forRoomEvent(_r(d[2]).EventDirection.Receive,t).raw)}},{key:"requestCapabilityToSendMessage",value:function(t){this.requestCapability(_r(d[2]).WidgetEventCapability.forRoomMessageEvent(_r(d[2]).EventDirection.Send,t).raw)}},{key:"requestCapabilityToReceiveMessage",value:function(t){this.requestCapability(_r(d[2]).WidgetEventCapability.forRoomMessageEvent(_r(d[2]).EventDirection.Receive,t).raw)}},{key:"requestCapabilityToReceiveRoomAccountData",value:function(t){this.requestCapability(_r(d[2]).WidgetEventCapability.forRoomAccountData(_r(d[2]).EventDirection.Receive,t).raw)}},{key:"requestOpenIDConnectToken",value:function(){var t=this;return new Promise(function(e,n){t.transport.sendComplete(_r(d[3]).WidgetApiFromWidgetAction.GetOpenIDCredentials,{}).then(function(r){var i=r.response;if(i.state===_r(d[4]).OpenIDRequestState.Allowed)e(i);else if(i.state===_r(d[4]).OpenIDRequestState.Blocked)n(new Error("User declined to verify their identity"));else if(i.state===_r(d[4]).OpenIDRequestState.PendingUserConfirmation){t.on("action:".concat(_r(d[3]).WidgetApiToWidgetAction.OpenIDCredentials),function o(a){a.preventDefault();var s=a.detail;s.data.original_request_id===r.requestId&&(s.data.state===_r(d[4]).OpenIDRequestState.Allowed?(e(s.data),t.transport.reply(s,{})):s.data.state===_r(d[4]).OpenIDRequestState.Blocked?(n(new Error("User declined to verify their identity")),t.transport.reply(s,{})):(n(new Error("Invalid state on reply: "+i.state)),t.transport.reply(s,{error:{message:"Invalid state"}})),t.off("action:".concat(_r(d[3]).WidgetApiToWidgetAction.OpenIDCredentials),o))})}else n(new Error("Invalid state: "+i.state))}).catch(n)})}},{key:"updateRequestedCapabilities",value:function(){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC2974RenegotiateCapabilities,{capabilities:this.requestedCapabilities}).then()}},{key:"sendContentLoaded",value:function(){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.ContentLoaded,{}).then()}},{key:"sendSticker",value:function(t){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.SendSticker,t).then()}},{key:"setAlwaysOnScreen",value:function(t){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.UpdateAlwaysOnScreen,{value:t}).then(function(t){return t.success})}},{key:"openModalWidget",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_r(d[5]).MatrixWidgetType.Custom;return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.OpenModalWidget,{type:i,url:t,name:e,buttons:n,data:r}).then()}},{key:"closeModalWidget",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.CloseModalWidget,t).then()}},{key:"sendRoomEvent",value:function(t,e,n,r,i,o){return this.sendEvent(t,void 0,e,n,r,i,o)}},{key:"sendStateEvent",value:function(t,e,n,r,i,o){return this.sendEvent(t,e,n,r,i,o)}},{key:"sendEvent",value:function(t,e,n,r,i,a,s){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.SendEvent,o(o(o(o(o({type:t,content:n},void 0!==e&&{state_key:e}),void 0!==r&&{room_id:r}),void 0!==i&&{delay:i}),void 0!==a&&{parent_delay_id:a}),void 0!==s&&{sticky_duration_ms:s}))}},{key:"cancelScheduledDelayedEvent",value:function(t){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC4157UpdateDelayedEvent,{delay_id:t,action:_r(d[6]).UpdateDelayedEventAction.Cancel})}},{key:"restartScheduledDelayedEvent",value:function(t){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC4157UpdateDelayedEvent,{delay_id:t,action:_r(d[6]).UpdateDelayedEventAction.Restart})}},{key:"sendScheduledDelayedEvent",value:function(t){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC4157UpdateDelayedEvent,{delay_id:t,action:_r(d[6]).UpdateDelayedEventAction.Send})}},{key:"sendToDevice",value:function(t,e,n){return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.SendToDevice,{type:t,encrypted:e,messages:n})}},{key:"readRoomAccountData",value:function(t,e){var n={type:t};return e&&(e.includes(_r(d[7]).Symbols.AnyRoom)?n.room_ids=_r(d[7]).Symbols.AnyRoom:n.room_ids=e),this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.BeeperReadRoomAccountData,n).then(function(t){return t.events})}},{key:"readRoomEvents",value:function(t,e,n,r,i){var o={type:t,msgtype:n};return void 0!==e&&(o.limit=e),r&&(r.includes(_r(d[7]).Symbols.AnyRoom)?o.room_ids=_r(d[7]).Symbols.AnyRoom:o.room_ids=r),i&&(o.since=i),this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC2876ReadEvents,o).then(function(t){return t.events})}},{key:"readEventRelations",value:(l=r(e().mark(function t(n,r,i,o,a,s,c,u){var l;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClientVersions();case 2:if(t.sent.includes(_r(d[8]).UnstableApiVersion.MSC3869)){t.next=5;break}throw new Error("The read_relations action is not supported by the client.");case 5:return l={event_id:n,rel_type:i,event_type:o,room_id:r,to:c,from:s,limit:a,direction:u},t.abrupt("return",this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC3869ReadRelations,l));case 7:case"end":return t.stop()}},t,this)})),function(t,e,n,r,i,o,a,s){return l.apply(this,arguments)})},{key:"readStateEvents",value:function(t,e,n,r){var i={type:t,state_key:void 0===n||n};return void 0!==e&&(i.limit=e),r&&(r.includes(_r(d[7]).Symbols.AnyRoom)?i.room_ids=_r(d[7]).Symbols.AnyRoom:i.room_ids=r),this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC2876ReadEvents,i).then(function(t){return t.events})}},{key:"setModalButtonEnabled",value:function(t,e){if(t===_r(d[9]).BuiltInModalButtonID.Close)throw new Error("The close button cannot be disabled");return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.SetModalButtonEnabled,{button:t,enabled:e}).then()}},{key:"navigateTo",value:function(t){if(!t||!t.startsWith("https://matrix.to/#"))throw new Error("Invalid matrix.to URI");return this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC2931Navigate,{uri:t}).then()}},{key:"getTurnServers",value:function(){var t,n=this;return(t=e().mark(function t(){var i,o;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(function(){var t=r(e().mark(function t(r){return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),i(r.detail.data),n.transport.reply(r.detail,{});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}})(),n.on("action:".concat(_r(d[3]).WidgetApiToWidgetAction.UpdateTurnServers),o),0!==n.turnServerWatchers){t.next=12;break}return t.prev=3,t.next=6,x(n.transport.send(_r(d[3]).WidgetApiFromWidgetAction.WatchTurnServers,{}));case 6:t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(3),n.off("action:".concat(_r(d[3]).WidgetApiToWidgetAction.UpdateTurnServers),o),t.t0;case 12:n.turnServerWatchers++,t.prev=13;case 14:return t.next=17,x(new Promise(function(t){return i=t}));case 17:return t.next=19,t.sent;case 19:t.next=14;break;case 21:if(t.prev=21,n.off("action:".concat(_r(d[3]).WidgetApiToWidgetAction.UpdateTurnServers),o),n.turnServerWatchers--,0!==n.turnServerWatchers){t.next=27;break}return t.next=27,x(n.transport.send(_r(d[3]).WidgetApiFromWidgetAction.UnwatchTurnServers,{}));case 27:return t.finish(21);case 28:case"end":return t.stop()}},t,null,[[3,8],[13,,21,28]])}),function(){return new O(t.apply(this,arguments))})()}},{key:"searchUserDirectory",value:(c=r(e().mark(function t(n,r){var i;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClientVersions();case 2:if(t.sent.includes(_r(d[8]).UnstableApiVersion.MSC3973)){t.next=5;break}throw new Error("The user_directory_search action is not supported by the client.");case 5:return i={search_term:n,limit:r},t.abrupt("return",this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC3973UserDirectorySearch,i));case 7:case"end":return t.stop()}},t,this)})),function(t,e){return c.apply(this,arguments)})},{key:"getMediaConfig",value:(s=r(e().mark(function t(){var n;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClientVersions();case 2:if(t.sent.includes(_r(d[8]).UnstableApiVersion.MSC4039)){t.next=5;break}throw new Error("The get_media_config action is not supported by the client.");case 5:return n={},t.abrupt("return",this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC4039GetMediaConfigAction,n));case 7:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)})},{key:"uploadFile",value:(i=r(e().mark(function t(n){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClientVersions();case 2:if(t.sent.includes(_r(d[8]).UnstableApiVersion.MSC4039)){t.next=5;break}throw new Error("The upload_file action is not supported by the client.");case 5:return r={file:n},t.abrupt("return",this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC4039UploadFileAction,r));case 7:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"downloadFile",value:(n=r(e().mark(function t(n){var r;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClientVersions();case 2:if(t.sent.includes(_r(d[8]).UnstableApiVersion.MSC4039)){t.next=5;break}throw new Error("The download_file action is not supported by the client.");case 5:return r={content_uri:n},t.abrupt("return",this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.MSC4039DownloadFileAction,r));case 7:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"start",value:function(){var t=this;this.transport.start(),this.getClientVersions().then(function(e){e.includes(_r(d[8]).UnstableApiVersion.MSC2974)&&(t.supportsMSC2974Renegotiate=!0)})}},{key:"handleMessage",value:function(t){var e=new CustomEvent("action:".concat(t.detail.action),{detail:t.detail,cancelable:!0});if(this.emit("action:".concat(t.detail.action),e),!e.defaultPrevented)switch(t.detail.action){case _r(d[3]).WidgetApiToWidgetAction.SupportedApiVersions:return this.replyVersions(t.detail);case _r(d[3]).WidgetApiToWidgetAction.Capabilities:return this.handleCapabilities(t.detail);case _r(d[3]).WidgetApiToWidgetAction.UpdateVisibility:case _r(d[3]).WidgetApiToWidgetAction.NotifyCapabilities:return this.transport.reply(t.detail,{});default:return this.transport.reply(t.detail,{error:{message:"Unknown or unsupported action: "+t.detail.action}})}}},{key:"replyVersions",value:function(t){this.transport.reply(t,{supported_versions:_r(d[8]).CurrentApiVersions})}},{key:"getClientVersions",value:function(){var t=this;return Array.isArray(this.cachedClientVersions)?Promise.resolve(this.cachedClientVersions):this.transport.send(_r(d[3]).WidgetApiFromWidgetAction.SupportedApiVersions,{}).then(function(e){return t.cachedClientVersions=e.supported_versions,e.supported_versions}).catch(function(t){return console.warn("non-fatal error getting supported client versions: ",t),[]})}},{key:"handleCapabilities",value:function(t){var e=this;return this.capabilitiesFinished?this.transport.reply(t,{error:{message:"Capability negotiation already completed"}}):this.getClientVersions().then(function(n){return n.includes(_r(d[8]).UnstableApiVersion.MSC2871)?e.once("action:".concat(_r(d[3]).WidgetApiToWidgetAction.NotifyCapabilities),function(t){e.approvedCapabilities=t.detail.data.approved,e.emit("ready")}):e.emit("ready"),e.capabilitiesFinished=!0,e.transport.reply(t,{capabilities:e.requestedCapabilities})})}}]),v})(_r(d[10]).EventEmitter);_e3.WidgetApi=R},966,[967,968,969,970,971,972,973,974,975,976,763]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.PostmessageTransport=void 0;var e=["message"];function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){if(null==e)return{};var r,o,i=n(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function h(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var r=w(e,"string");return"symbol"===t(r)?r:String(r)}function w(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var O=(function(t){c(j,t);var n,o,l,v,w,O=(n=j,o=y(),function(){var e,t=b(n);if(o){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return f(this,e)});function j(e,t,r,n){var o;return s(this,j),(o=O.call(this)).sendDirection=e,o.transportWindow=r,o.inboundWindow=n,h(p(o),"strictOriginCheck",!1),h(p(o),"targetOrigin","*"),h(p(o),"timeoutSeconds",10),h(p(o),"_ready",!1),h(p(o),"_widgetId",void 0),h(p(o),"outboundRequests",new Map),h(p(o),"stopController",new AbortController),o._widgetId=t,o}return l=j,(v=[{key:"ready",get:function(){return this._ready}},{key:"widgetId",get:function(){return this._widgetId||null}},{key:"nextRequestId",get:function(){for(var e="widgetapi-".concat(Date.now()),t=0,r=e;this.outboundRequests.has(r);)r="".concat(e,"-").concat(t++);return this.outboundRequests.set(r,null),r}},{key:"sendInternal",value:function(e){console.log("[PostmessageTransport] Sending object to ".concat(this.targetOrigin,": "),e),this.transportWindow.postMessage(e,this.targetOrigin)}},{key:"reply",value:function(e,t){return this.sendInternal(i(i({},e),{},{response:t}))}},{key:"send",value:function(e,t){return this.sendComplete(e,t).then(function(e){return e.response})}},{key:"sendComplete",value:function(e,t){var r=this;if(!this.ready||!this.widgetId)return Promise.reject(new Error("Not ready or unknown widget ID"));var n={api:this.sendDirection,widgetId:this.widgetId,requestId:this.nextRequestId,action:e,data:t};return e===_r(d[0]).WidgetApiToWidgetAction.UpdateVisibility&&(n.visible=t.visible),new Promise(function(e,t){var o=function(e){u(),t(e)},i=setTimeout(function(){return o(new Error("Request timed out"))},1e3*(r.timeoutSeconds||1)),s=function(){return o(new Error("Transport stopped"))};r.stopController.signal.addEventListener("abort",s);var u=function(){r.outboundRequests.delete(n.requestId),clearTimeout(i),r.stopController.signal.removeEventListener("abort",s)};r.outboundRequests.set(n.requestId,{request:n,resolve:function(t){u(),e(t)},reject:o}),r.sendInternal(n)})}},{key:"start",value:function(){var e=this;this.inboundWindow.addEventListener("message",function(t){e.handleMessage(t)}),this._ready=!0}},{key:"stop",value:function(){this._ready=!1,this.stopController.abort()}},{key:"handleMessage",value:function(e){if(!this.stopController.signal.aborted&&e.data&&(!this.strictOriginCheck||e.origin===globalThis.origin)){var t=e.data;if(t.action&&t.requestId&&t.widgetId)if(t.response){if(t.api!==this.sendDirection)return;this.handleResponse(t)}else{var r=t;if(r.api!==(0,_r(d[0]).invertedDirection)(this.sendDirection))return;this.handleRequest(r)}}}},{key:"handleRequest",value:function(e){if(this.widgetId){if(this.widgetId!==e.widgetId)return}else this._widgetId=e.widgetId;this.emit("message",new CustomEvent("message",{detail:e}))}},{key:"handleResponse",value:function(t){if(t.widgetId===this.widgetId){var n=this.outboundRequests.get(t.requestId);if(n)if((0,_r(d[0]).isErrorResponse)(t.response)){var o=t.response.error,i=o.message,s=r(o,e);n.reject(new(_r(d[0]).WidgetApiResponseError)(i,s))}else n.resolve(t)}}}])&&u(l.prototype,v),w&&u(l,w),Object.defineProperty(l,"prototype",{writable:!1}),j})(_r(d[1]).EventEmitter);_e.PostmessageTransport=O},967,[965,763]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetApiDirection=void 0,e.invertedDirection=function(o){if(o===t.ToWidget)return t.FromWidget;if(o===t.FromWidget)return t.ToWidget;throw new Error("Invalid direction")};var t=(function(t){return t.ToWidget="toWidget",t.FromWidget="fromWidget",t})({});e.WidgetApiDirection=t},968,[]);
__d(function(g,r,_i,a,m,_e3,d){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,c=function(){};return{s:c,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,u=!0,v=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return u=t.done,t},e:function(t){v=!0,s=t},f:function(){try{u||null==i.return||i.return()}finally{if(v)throw s}}}}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(e){var n=u(e,"string");return"symbol"===t(n)?n:String(n)}function u(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.WidgetEventCapability=_e3.EventKind=_e3.EventDirection=void 0;var v=(function(t){return t.Event="event",t.State="state_event",t.ToDevice="to_device",t.RoomAccount="room_account",t})({});_e3.EventKind=v;var l=(function(t){return t.Send="send",t.Receive="receive",t})({});_e3.EventDirection=l;var f=(function(){function t(e,n,i,c,s){o(this,t),this.direction=e,this.eventType=n,this.kind=i,this.keyStr=c,this.raw=s}var n,i,s;return n=t,i=[{key:"matchesAsStateEvent",value:function(t,e,n){return this.kind===v.State&&this.direction===t&&this.eventType===e&&(null===this.keyStr||this.keyStr===n)}},{key:"matchesAsToDeviceEvent",value:function(t,e){return this.kind===v.ToDevice&&this.direction===t&&this.eventType===e}},{key:"matchesAsRoomEvent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.kind===v.Event&&this.direction===t&&this.eventType===e&&("m.room.message"!==this.eventType||null===this.keyStr||this.keyStr===n)}},{key:"matchesAsRoomAccountData",value:function(t,e){return this.kind===v.RoomAccount&&this.direction===t&&this.eventType===e}}],s=[{key:"forStateEvent",value:function(e,n,i){n=n.replace(/#/g,"\\#"),i=null!=i?"#".concat(i):"";var o="org.matrix.msc2762.".concat(e,".state_event:").concat(n).concat(i);return t.findEventCapabilities([o])[0]}},{key:"forToDeviceEvent",value:function(e,n){var i="org.matrix.msc3819.".concat(e,".to_device:").concat(n);return t.findEventCapabilities([i])[0]}},{key:"forRoomEvent",value:function(e,n){var i="org.matrix.msc2762.".concat(e,".event:").concat(n);return t.findEventCapabilities([i])[0]}},{key:"forRoomMessageEvent",value:function(e,n){n=null==n?"":n;var i="org.matrix.msc2762.".concat(e,".event:m.room.message#").concat(n);return t.findEventCapabilities([i])[0]}},{key:"forRoomAccountData",value:function(e,n){var i="com.beeper.capabilities.".concat(e,".room_account_data:").concat(n);return t.findEventCapabilities([i])[0]}},{key:"findEventCapabilities",value:function(n){var i,o=[],c=e(n);try{for(c.s();!(i=c.n()).done;){var s=i.value,u=null,f=void 0,y=null;if(s.startsWith("org.matrix.msc2762.send.event:")?(u=l.Send,y=v.Event,f=s.substring(30)):s.startsWith("org.matrix.msc2762.send.state_event:")?(u=l.Send,y=v.State,f=s.substring(36)):s.startsWith("org.matrix.msc3819.send.to_device:")?(u=l.Send,y=v.ToDevice,f=s.substring(34)):s.startsWith("org.matrix.msc2762.receive.event:")?(u=l.Receive,y=v.Event,f=s.substring(33)):s.startsWith("org.matrix.msc2762.receive.state_event:")?(u=l.Receive,y=v.State,f=s.substring(39)):s.startsWith("org.matrix.msc3819.receive.to_device:")?(u=l.Receive,y=v.ToDevice,f=s.substring(37)):s.startsWith("com.beeper.capabilities.receive.room_account_data:")&&(u=l.Receive,y=v.RoomAccount,f=s.substring(50)),null!==u&&null!==y&&void 0!==f){var h=f.startsWith("m.room.message#")||y===v.State,b=null;if(f.includes("#")&&h){var p=f.split("#"),S=p.findIndex(function(t){return!t.endsWith("\\")});f=p.slice(0,S+1).map(function(t){return t.endsWith("\\")?t.substring(0,t.length-1):t}).join("#"),b=p.slice(S+1).join("#")}o.push(new t(u,f,y,b,s))}}}catch(t){c.e(t)}finally{c.f()}return o}}],i&&c(n.prototype,i),s&&c(n,s),Object.defineProperty(n,"prototype",{writable:!1}),t})();_e3.WidgetEventCapability=f},969,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetApiToWidgetAction=e.WidgetApiFromWidgetAction=void 0;var t=(function(t){return t.SupportedApiVersions="supported_api_versions",t.Capabilities="capabilities",t.NotifyCapabilities="notify_capabilities",t.ThemeChange="theme_change",t.LanguageChange="language_change",t.TakeScreenshot="screenshot",t.UpdateVisibility="visibility",t.OpenIDCredentials="openid_credentials",t.WidgetConfig="widget_config",t.CloseModalWidget="close_modal",t.ButtonClicked="button_clicked",t.SendEvent="send_event",t.SendToDevice="send_to_device",t.UpdateState="update_state",t.UpdateTurnServers="update_turn_servers",t})({});e.WidgetApiToWidgetAction=t;var n=(function(t){return t.SupportedApiVersions="supported_api_versions",t.ContentLoaded="content_loaded",t.SendSticker="m.sticker",t.UpdateAlwaysOnScreen="set_always_on_screen",t.GetOpenIDCredentials="get_openid",t.CloseModalWidget="close_modal",t.OpenModalWidget="open_modal",t.SetModalButtonEnabled="set_button_enabled",t.SendEvent="send_event",t.SendToDevice="send_to_device",t.WatchTurnServers="watch_turn_servers",t.UnwatchTurnServers="unwatch_turn_servers",t.BeeperReadRoomAccountData="com.beeper.read_room_account_data",t.MSC2876ReadEvents="org.matrix.msc2876.read_events",t.MSC2931Navigate="org.matrix.msc2931.navigate",t.MSC2974RenegotiateCapabilities="org.matrix.msc2974.request_capabilities",t.MSC3869ReadRelations="org.matrix.msc3869.read_relations",t.MSC3973UserDirectorySearch="org.matrix.msc3973.user_directory_search",t.MSC4039GetMediaConfigAction="org.matrix.msc4039.get_media_config",t.MSC4039UploadFileAction="org.matrix.msc4039.upload_file",t.MSC4039DownloadFileAction="org.matrix.msc4039.download_file",t.MSC4157UpdateDelayedEvent="org.matrix.msc4157.update_delayed_event",t.MSC4354SendStickyEvent="org.matrix.msc4354.send_sticky_event",t})({});e.WidgetApiFromWidgetAction=n},970,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenIDRequestState=void 0;var t=(function(t){return t.Allowed="allowed",t.Blocked="blocked",t.PendingUserConfirmation="request",t})({});e.OpenIDRequestState=t},971,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MatrixWidgetType=void 0;var t=(function(t){return t.Custom="m.custom",t.JitsiMeet="m.jitsi",t.Stickerpicker="m.stickerpicker",t})({});e.MatrixWidgetType=t},972,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateDelayedEventAction=void 0;var t=(function(t){return t.Cancel="cancel",t.Restart="restart",t.Send="send",t})({});e.UpdateDelayedEventAction=t},973,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Symbols=void 0;var o=(function(o){return o.AnyRoom="*",o})({});e.Symbols=o},974,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnstableApiVersion=e.MatrixApiVersion=e.CurrentApiVersions=void 0;var s=(function(s){return s.Prerelease1="0.0.1",s.Prerelease2="0.0.2",s})({});e.MatrixApiVersion=s;var t=(function(s){return s.MSC2762="org.matrix.msc2762",s.MSC2762_UPDATE_STATE="org.matrix.msc2762_update_state",s.MSC2871="org.matrix.msc2871",s.MSC2873="org.matrix.msc2873",s.MSC2931="org.matrix.msc2931",s.MSC2974="org.matrix.msc2974",s.MSC2876="org.matrix.msc2876",s.MSC3819="org.matrix.msc3819",s.MSC3846="town.robin.msc3846",s.MSC3869="org.matrix.msc3869",s.MSC3973="org.matrix.msc3973",s.MSC4039="org.matrix.msc4039",s})({});e.UnstableApiVersion=t;var M=[s.Prerelease1,s.Prerelease2,t.MSC2762,t.MSC2762_UPDATE_STATE,t.MSC2871,t.MSC2873,t.MSC2931,t.MSC2974,t.MSC2876,t.MSC3819,t.MSC3846,t.MSC3869,t.MSC3973,t.MSC4039];e.CurrentApiVersions=M},975,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BuiltInModalButtonID=void 0;var t=(function(t){return t.Close="m.close",t})({});e.BuiltInModalButtonID=t},976,[]);
__d(function(g,_r,_i,a,m,_e3,d){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw o}}}}function i(e){return u(e)||c(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
p=function(){return t};var t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),c=new D(n||[]);return i(s,"_invoke",{value:_(e,r,c)}),s}function v(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var f={};function y(){}function b(){}function w(){}var k={};l(k,s,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(I([])));x&&x!==r&&n.call(x,s)&&(k=x);var E=w.prototype=y.prototype=Object.create(k);function R(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function A(t,r){function o(i,s,c,u){var l=v(t[i],t,s);if("throw"!==l.type){var p=l.arg,h=p.value;return h&&"object"==e(h)&&n.call(h,"__await")?r.resolve(h.__await).then(function(e){o("next",e,c,u)},function(e){o("throw",e,c,u)}):r.resolve(h).then(function(e){p.value=e,c(p)},function(e){return o("throw",e,c,u)})}u(l.arg)}var s;i(this,"_invoke",{value:function(e,t){function n(){return new r(function(r,n){o(e,t,r,n)})}return s=s?s.then(n,n):n()}})}function _(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return O()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=v(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function C(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=v(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function W(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return b.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},R(A.prototype),l(A.prototype,c,function(){return this}),t.AsyncIterator=A,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new A(h(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then(function(e){return e.done?e.value:s.next()})},R(E),l(E,u,"Generator"),l(E,s,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(W),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),W(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;W(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function h(e,t,r,n,i,o,s){try{var c=e[o](s),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){h(o,n,i,s,c,"next",e)}function c(e){h(o,n,i,s,c,"throw",e)}s(void 0)})}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function k(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function R(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(t){var r=_(t,"string");return"symbol"===e(r)?r:String(r)}function _(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function C(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new T(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function T(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return T=function(e){this.s=e,this.n=e.next},T.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new T(e)}Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.ClientWidgetApi=void 0;var W=(function(e){b(N,e);var t,o,s,c,u,l,h,w,A,_,T,W,D,I,O,M,U,L,j,P,F,q=(t=N,o=x(),function(){var e,r=E(t);if(o){var n=E(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return k(this,e)});function N(e,t,r){var n;if(f(this,N),(n=q.call(this)).widget=e,n.driver=r,R(S(n),"transport",void 0),R(S(n),"cachedWidgetVersions",null),R(S(n),"contentLoadedActionSent",!1),R(S(n),"allowedCapabilities",new Set),R(S(n),"allowedEvents",[]),R(S(n),"isStopped",!1),R(S(n),"turnServers",null),R(S(n),"contentLoadedWaitTimer",void 0),R(S(n),"pushRoomStateTasks",new Set),R(S(n),"pushRoomStateResult",new Map),R(S(n),"flushRoomStateTask",null),R(S(n),"viewedRoomId",null),null==t||!t.contentWindow)throw new Error("No iframe supplied");if(!e)throw new Error("Invalid widget");if(!r)throw new Error("Invalid driver");return n.transport=new(_r(d[0]).PostmessageTransport)(_r(d[1]).WidgetApiDirection.ToWidget,e.id,t.contentWindow,globalThis),n.transport.targetOrigin=e.origin,n.transport.on("message",n.handleMessage.bind(S(n))),t.addEventListener("load",n.onIframeLoad.bind(S(n))),n.transport.start(),n}return s=N,c=[{key:"hasCapability",value:function(e){return this.allowedCapabilities.has(e)}},{key:"canUseRoomTimeline",value:function(e){return this.hasCapability("org.matrix.msc2762.timeline:".concat(_r(d[2]).Symbols.AnyRoom))||this.hasCapability("org.matrix.msc2762.timeline:".concat(e))}},{key:"canSendRoomEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.allowedEvents.some(function(r){return r.matchesAsRoomEvent(_r(d[3]).EventDirection.Send,e,t)})}},{key:"canSendStateEvent",value:function(e,t){return this.allowedEvents.some(function(r){return r.matchesAsStateEvent(_r(d[3]).EventDirection.Send,e,t)})}},{key:"canSendToDeviceEvent",value:function(e){return this.allowedEvents.some(function(t){return t.matchesAsToDeviceEvent(_r(d[3]).EventDirection.Send,e)})}},{key:"canReceiveRoomEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.allowedEvents.some(function(r){return r.matchesAsRoomEvent(_r(d[3]).EventDirection.Receive,e,t)})}},{key:"canReceiveStateEvent",value:function(e,t){return this.allowedEvents.some(function(r){return r.matchesAsStateEvent(_r(d[3]).EventDirection.Receive,e,t)})}},{key:"canReceiveToDeviceEvent",value:function(e){return this.allowedEvents.some(function(t){return t.matchesAsToDeviceEvent(_r(d[3]).EventDirection.Receive,e)})}},{key:"canReceiveRoomAccountData",value:function(e){return this.allowedEvents.some(function(t){return t.matchesAsRoomAccountData(_r(d[3]).EventDirection.Receive,e)})}},{key:"stop",value:function(){this.isStopped=!0,this.transport.stop()}},{key:"getWidgetVersions",value:(F=v(p().mark(function e(){var t;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(this.cachedWidgetVersions)){e.next=2;break}return e.abrupt("return",this.cachedWidgetVersions);case 2:return e.prev=2,e.next=5,this.transport.send(_r(d[4]).WidgetApiToWidgetAction.SupportedApiVersions,{});case 5:return t=e.sent,this.cachedWidgetVersions=t.supported_versions,e.abrupt("return",t.supported_versions);case 10:return e.prev=10,e.t0=e.catch(2),console.warn("non-fatal error getting supported widget versions: ",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}},e,this,[[2,10]])})),function(){return F.apply(this,arguments)})},{key:"beginCapabilities",value:function(){var e,t=this;this.emit("preparing"),this.transport.send(_r(d[4]).WidgetApiToWidgetAction.Capabilities,{}).then(function(r){return e=r.capabilities,t.driver.validateCapabilities(new Set(r.capabilities))}).then(function(r){t.allowCapabilities(i(r),e),t.emit("ready")}).catch(function(e){t.emit("error:preparing",e)})}},{key:"allowCapabilities",value:function(e,t){var r,o=this;console.log("Widget ".concat(this.widget.id," is allowed capabilities:"),e);var s,c=n(e);try{for(c.s();!(s=c.n()).done;){var u=s.value;this.allowedCapabilities.add(u)}}catch(e){c.e(e)}finally{c.f()}var l=_r(d[3]).WidgetEventCapability.findEventCapabilities(e);(r=this.allowedEvents).push.apply(r,i(l)),this.transport.send(_r(d[4]).WidgetApiToWidgetAction.NotifyCapabilities,{requested:t,approved:Array.from(this.allowedCapabilities)}).catch(function(e){console.warn("non-fatal error notifying widget of approved capabilities:",e)}).then(function(){o.emit("capabilitiesNotified")});var p,h=n(e);try{for(h.s();!(p=h.n()).done;){var v=p.value;if((0,_r(d[5]).isTimelineCapability)(v)){var f=(0,_r(d[5]).getTimelineRoomIDFromCapability)(v);if(f===_r(d[2]).Symbols.AnyRoom){var y,b=n(this.driver.getKnownRooms());try{for(b.s();!(y=b.n()).done;){var w=y.value;this.pushRoomState(w)}}catch(e){b.e(e)}finally{b.f()}}else this.pushRoomState(f)}}}catch(e){h.e(e)}finally{h.f()}l.length>0&&null!==this.viewedRoomId&&!this.canUseRoomTimeline(this.viewedRoomId)&&this.pushRoomState(this.viewedRoomId)}},{key:"onIframeLoad",value:function(e){this.widget.waitForIframeLoad?this.beginCapabilities():(console.log("waitForIframeLoad is false: waiting for widget to send contentLoaded"),this.contentLoadedWaitTimer=setTimeout(function(){console.error("Widget specified waitForIframeLoad=false but timed out waiting for contentLoaded event!")},1e4),this.contentLoadedActionSent=!1)}},{key:"handleContentLoadedAction",value:function(e){if(void 0!==this.contentLoadedWaitTimer&&(clearTimeout(this.contentLoadedWaitTimer),this.contentLoadedWaitTimer=void 0),this.contentLoadedActionSent)throw new Error("Improper sequence: ContentLoaded Action can only be sent once after the widget loaded and should only be used if waitForIframeLoad is false (default=true)");this.widget.waitForIframeLoad?this.transport.reply(e,{error:{message:"Improper sequence: not expecting ContentLoaded event if waitForIframeLoad is true (default=true)"}}):(this.transport.reply(e,{}),this.beginCapabilities()),this.contentLoadedActionSent=!0}},{key:"replyVersions",value:function(e){this.transport.reply(e,{supported_versions:_r(d[6]).CurrentApiVersions})}},{key:"supportsUpdateState",value:(P=v(p().mark(function e(){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWidgetVersions();case 2:return e.abrupt("return",e.sent.includes(_r(d[6]).UnstableApiVersion.MSC2762_UPDATE_STATE));case 3:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"handleCapabilitiesRenegotiate",value:function(e){var t,r=this;this.transport.reply(e,{});var n=(null===(t=e.data)||void 0===t?void 0:t.capabilities)||[],o=new Set(n.filter(function(e){return!r.hasCapability(e)}));0===o.size&&this.allowCapabilities([],[]),this.driver.validateCapabilities(o).then(function(e){return r.allowCapabilities(i(e),i(o))})}},{key:"handleNavigate",value:function(e){var t,r=this;if(!this.hasCapability(_r(d[5]).MatrixCapabilities.MSC2931Navigate))return this.transport.reply(e,{error:{message:"Missing capability"}});if(null===(t=e.data)||void 0===t||!t.uri.startsWith("https://matrix.to/#"))return this.transport.reply(e,{error:{message:"Invalid matrix.to URI"}});var n=function(t){console.error("[ClientWidgetApi] Failed to handle navigation: ",t),r.handleDriverError(t,e,"Error handling navigation")};try{this.driver.navigate(e.data.uri.toString()).catch(function(e){return n(e)}).then(function(){return r.transport.reply(e,{})})}catch(e){return n(e)}}},{key:"handleOIDC",value:function(e){var t=this,n=1,i=function(i,o){return o=o||{},n>1?t.transport.send(_r(d[4]).WidgetApiToWidgetAction.OpenIDCredentials,r({state:i,original_request_id:e.requestId},o)):t.transport.reply(e,r({state:i},o))},o=function(r){return console.error("[ClientWidgetApi] Failed to handle OIDC: ",r),n>1?i(_r(d[7]).OpenIDRequestState.Blocked):t.transport.reply(e,{error:{message:r}})},s=new(_r(d[8]).SimpleObservable)(function(e){return e.state===_r(d[7]).OpenIDRequestState.PendingUserConfirmation&&n>1?(s.close(),o("client provided out-of-phase response to OIDC flow")):e.state===_r(d[7]).OpenIDRequestState.PendingUserConfirmation?(i(e.state),void n++):e.state!==_r(d[7]).OpenIDRequestState.Allowed||e.token?(e.state===_r(d[7]).OpenIDRequestState.Blocked&&(e.token=void 0),s.close(),i(e.state,e.token)):o("client provided invalid OIDC token for an allowed request")});this.driver.askOpenID(s)}},{key:"handleReadRoomAccountData",value:function(e){var t=this,r=this.driver.readRoomAccountData(e.data.type);return this.canReceiveRoomAccountData(e.data.type)?r.then(function(r){t.transport.reply(e,{events:r})}):this.transport.reply(e,{error:{message:"Cannot read room account data of this type"}})}},{key:"handleReadEvents",value:(j=v(p().mark(function e(t){var r,i,o,s,c,u,l,h,v,f,y=this;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.type){e.next=2;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Invalid request - missing event type"}}));case 2:if(void 0===t.data.limit||t.data.limit&&!(t.data.limit<0)){e.next=4;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Invalid request - limit out of range"}}));case 4:if(void 0!==t.data.room_ids){e.next=8;break}r=null===this.viewedRoomId?[]:[this.viewedRoomId],e.next=30;break;case 8:if(t.data.room_ids!==_r(d[2]).Symbols.AnyRoom){e.next=12;break}r=this.driver.getKnownRooms().filter(function(e){return y.canUseRoomTimeline(e)}),e.next=30;break;case 12:r=t.data.room_ids,i=n(r),e.prev=14,i.s();case 16:if((o=i.n()).done){e.next=22;break}if(s=o.value,this.canUseRoomTimeline(s)){e.next=20;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Unable to access room timeline: ".concat(s)}}));case 20:e.next=16;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(14),i.e(e.t0);case 27:return e.prev=27,i.f(),e.finish(27);case 30:if(c=t.data.limit||0,u=t.data.since,l=void 0,h=void 0,void 0===t.data.state_key){e.next=40;break}if(l=!0===t.data.state_key?void 0:t.data.state_key.toString(),this.canReceiveStateEvent(t.data.type,null!==(v=l)&&void 0!==v?v:null)){e.next=38;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Cannot read state events of this type"}}));case 38:e.next=43;break;case 40:if(h=t.data.msgtype,this.canReceiveRoomEvent(t.data.type,h)){e.next=43;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Cannot read room events of this type"}}));case 43:if(void 0!==t.data.room_ids||0!==r.length){e.next=50;break}return console.warn("The widgetDriver uses deprecated behaviour:\n It does not set the viewedRoomId using `setViewedRoomId`"),e.next=47,void 0===t.data.state_key?this.driver.readRoomEvents(t.data.type,h,c,null,u):this.driver.readStateEvents(t.data.type,l,c,null);case 47:f=e.sent,e.next=68;break;case 50:return e.next=52,this.supportsUpdateState();case 52:if(!e.sent){e.next=58;break}return e.next=55,Promise.all(r.map(function(e){return y.driver.readRoomTimeline(e,t.data.type,h,l,c,u)}));case 55:f=e.sent.flat(1),e.next=68;break;case 58:if(void 0!==t.data.state_key){e.next=64;break}return e.next=61,Promise.all(r.map(function(e){return y.driver.readRoomTimeline(e,t.data.type,h,l,c,u)}));case 61:e.t1=e.sent,e.next=67;break;case 64:return e.next=66,Promise.all(r.map(function(e){return y.driver.readRoomState(e,t.data.type,l)}));case 66:e.t1=e.sent;case 67:f=e.t1.flat(1);case 68:this.transport.reply(t,{events:f});case 69:case"end":return e.stop()}},e,this,[[14,24,27,30]])})),function(e){return j.apply(this,arguments)})},{key:"handleSendEvent",value:function(e){var t=this;if(!e.data.type)return this.transport.reply(e,{error:{message:"Invalid request - missing event type"}});if(e.data.room_id&&!this.canUseRoomTimeline(e.data.room_id))return this.transport.reply(e,{error:{message:"Unable to access room timeline: ".concat(e.data.room_id)}});var n=void 0!==e.data.delay||void 0!==e.data.parent_delay_id;if(n&&!this.hasCapability(_r(d[5]).MatrixCapabilities.MSC4157SendDelayedEvent))return this.transport.reply(e,{error:{message:"Missing capability for ".concat(_r(d[5]).MatrixCapabilities.MSC4157SendDelayedEvent)}});var i,o=void 0!==e.data.sticky_duration_ms;if(o&&!this.hasCapability(_r(d[5]).MatrixCapabilities.MSC4354SendStickyEvent))return this.transport.reply(e,{error:{message:"Missing capability for ".concat(_r(d[5]).MatrixCapabilities.MSC4354SendStickyEvent)}});if(void 0!==e.data.state_key){if(!this.canSendStateEvent(e.data.type,e.data.state_key))return this.transport.reply(e,{error:{message:"Cannot send state events of this type"}});if(o)return this.transport.reply(e,{error:{message:"Cannot send a state event with a sticky duration"}});var s,c;i=n?this.driver.sendDelayedEvent(null!==(s=e.data.delay)&&void 0!==s?s:null,null!==(c=e.data.parent_delay_id)&&void 0!==c?c:null,e.data.type,e.data.content||{},e.data.state_key,e.data.room_id):this.driver.sendEvent(e.data.type,e.data.content||{},e.data.state_key,e.data.room_id)}else{var u=e.data.content||{},l=u.msgtype;if(!this.canSendRoomEvent(e.data.type,l))return this.transport.reply(e,{error:{message:"Cannot send room events of this type"}});var p,h,v=[e.data.type,u,null,e.data.room_id];if(n&&e.data.sticky_duration_ms)i=this.driver.sendDelayedStickyEvent(null!==(p=e.data.delay)&&void 0!==p?p:null,null!==(h=e.data.parent_delay_id)&&void 0!==h?h:null,e.data.sticky_duration_ms,e.data.type,u,e.data.room_id);else if(n){var f,y,b;i=(f=this.driver).sendDelayedEvent.apply(f,[null!==(y=e.data.delay)&&void 0!==y?y:null,null!==(b=e.data.parent_delay_id)&&void 0!==b?b:null].concat(v))}else if(e.data.sticky_duration_ms)i=this.driver.sendStickyEvent(e.data.sticky_duration_ms,e.data.type,u,e.data.room_id);else{var w;i=(w=this.driver).sendEvent.apply(w,v)}}i.then(function(n){return t.transport.reply(e,r({room_id:n.roomId},"eventId"in n?{event_id:n.eventId}:{delay_id:n.delayId}))}).catch(function(r){console.error("error sending event: ",r),t.handleDriverError(r,e,"Error sending event")})}},{key:"handleUpdateDelayedEvent",value:function(e){var t,r=this;if(!e.data.delay_id)return this.transport.reply(e,{error:{message:"Invalid request - missing delay_id"}});if(!this.hasCapability(_r(d[5]).MatrixCapabilities.MSC4157UpdateDelayedEvent))return this.transport.reply(e,{error:{message:"Missing capability"}});switch(e.data.action){case _r(d[9]).UpdateDelayedEventAction.Cancel:t=this.driver.cancelScheduledDelayedEvent;break;case _r(d[9]).UpdateDelayedEventAction.Restart:t=this.driver.restartScheduledDelayedEvent;break;case _r(d[9]).UpdateDelayedEventAction.Send:t=this.driver.sendScheduledDelayedEvent;break;default:return this.transport.reply(e,{error:{message:"Invalid request - unsupported action"}})}t.call(this.driver,e.data.delay_id).then(function(){return r.transport.reply(e,{})}).catch(function(t){console.error("error updating delayed event: ",t),r.handleDriverError(t,e,"Error updating delayed event")})}},{key:"handleSendToDevice",value:(L=v(p().mark(function e(t){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.type){e.next=4;break}this.transport.reply(t,{error:{message:"Invalid request - missing event type"}}),e.next=26;break;case 4:if(t.data.messages){e.next=8;break}this.transport.reply(t,{error:{message:"Invalid request - missing event contents"}}),e.next=26;break;case 8:if("boolean"==typeof t.data.encrypted){e.next=12;break}this.transport.reply(t,{error:{message:"Invalid request - missing encryption flag"}}),e.next=26;break;case 12:if(this.canSendToDeviceEvent(t.data.type)){e.next=16;break}this.transport.reply(t,{error:{message:"Cannot send to-device events of this type"}}),e.next=26;break;case 16:return e.prev=16,e.next=19,this.driver.sendToDevice(t.data.type,t.data.encrypted,t.data.messages);case 19:this.transport.reply(t,{}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(16),console.error("error sending to-device event",e.t0),this.handleDriverError(e.t0,t,"Error sending event");case 26:case"end":return e.stop()}},e,this,[[16,22]])})),function(e){return L.apply(this,arguments)})},{key:"pollTurnServers",value:(U=v(p().mark(function e(t,r){var n,i,o,s,c,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.transport.send(_r(d[4]).WidgetApiToWidgetAction.UpdateTurnServers,r);case 3:n=!1,i=!1,e.prev=5,s=C(t);case 7:return e.next=9,s.next();case 9:if(!(n=!(c=e.sent).done)){e.next=16;break}return u=c.value,e.next=13,this.transport.send(_r(d[4]).WidgetApiToWidgetAction.UpdateTurnServers,u);case 13:n=!1,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),i=!0,o=e.t0;case 22:if(e.prev=22,e.prev=23,!n||null==s.return){e.next=27;break}return e.next=27,s.return();case 27:if(e.prev=27,!i){e.next=30;break}throw o;case 30:return e.finish(27);case 31:return e.finish(22);case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),console.error("error polling for TURN servers",e.t1);case 37:case"end":return e.stop()}},e,this,[[0,34],[5,18,22,32],[23,,27,31]])})),function(e,t){return U.apply(this,arguments)})},{key:"handleWatchTurnServers",value:(M=v(p().mark(function e(t){var r,n,i,o;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCapability(_r(d[5]).MatrixCapabilities.MSC3846TurnServers)){e.next=4;break}this.transport.reply(t,{error:{message:"Missing capability"}}),e.next=26;break;case 4:if(!this.turnServers){e.next=8;break}this.transport.reply(t,{}),e.next=26;break;case 8:return e.prev=8,r=this.driver.getTurnServers(),e.next=12,r.next();case 12:if(n=e.sent,i=n.done,o=n.value,!i){e.next=17;break}throw new Error("Client refuses to provide any TURN servers");case 17:this.transport.reply(t,{}),this.pollTurnServers(r,o),this.turnServers=r,e.next=26;break;case 22:e.prev=22,e.t0=e.catch(8),console.error("error getting first TURN server results",e.t0),this.transport.reply(t,{error:{message:"TURN servers not available"}});case 26:case"end":return e.stop()}},e,this,[[8,22]])})),function(e){return M.apply(this,arguments)})},{key:"handleUnwatchTurnServers",value:(O=v(p().mark(function e(t){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCapability(_r(d[5]).MatrixCapabilities.MSC3846TurnServers)){e.next=4;break}this.transport.reply(t,{error:{message:"Missing capability"}}),e.next=12;break;case 4:if(this.turnServers){e.next=8;break}this.transport.reply(t,{}),e.next=12;break;case 8:return e.next=10,this.turnServers.return(void 0);case 10:this.turnServers=null,this.transport.reply(t,{});case 12:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"handleReadRelations",value:(I=v(p().mark(function e(t){var r,n,i=this;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.event_id){e.next=2;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Invalid request - missing event ID"}}));case 2:if(!(void 0!==t.data.limit&&t.data.limit<0)){e.next=4;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Invalid request - limit out of range"}}));case 4:if(void 0===t.data.room_id||this.canUseRoomTimeline(t.data.room_id)){e.next=6;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Unable to access room timeline: ".concat(t.data.room_id)}}));case 6:return e.prev=6,e.next=9,this.driver.readEventRelations(t.data.event_id,t.data.room_id,t.data.rel_type,t.data.event_type,t.data.from,t.data.to,t.data.limit,t.data.direction);case 9:return r=e.sent,n=r.chunk.filter(function(e){return void 0!==e.state_key?i.canReceiveStateEvent(e.type,e.state_key):i.canReceiveRoomEvent(e.type,e.content.msgtype)}),e.abrupt("return",this.transport.reply(t,{chunk:n,prev_batch:r.prevBatch,next_batch:r.nextBatch}));case 14:e.prev=14,e.t0=e.catch(6),console.error("error getting the relations",e.t0),this.handleDriverError(e.t0,t,"Unexpected error while reading relations");case 18:case"end":return e.stop()}},e,this,[[6,14]])})),function(e){return I.apply(this,arguments)})},{key:"handleUserDirectorySearch",value:(D=v(p().mark(function e(t){var r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCapability(_r(d[5]).MatrixCapabilities.MSC3973UserDirectorySearch)){e.next=2;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Missing capability"}}));case 2:if("string"==typeof t.data.search_term){e.next=4;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Invalid request - missing search term"}}));case 4:if(!(void 0!==t.data.limit&&t.data.limit<0)){e.next=6;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Invalid request - limit out of range"}}));case 6:return e.prev=6,e.next=9,this.driver.searchUserDirectory(t.data.search_term,t.data.limit);case 9:return r=e.sent,e.abrupt("return",this.transport.reply(t,{limited:r.limited,results:r.results.map(function(e){return{user_id:e.userId,display_name:e.displayName,avatar_url:e.avatarUrl}})}));case 13:e.prev=13,e.t0=e.catch(6),console.error("error searching in the user directory",e.t0),this.handleDriverError(e.t0,t,"Unexpected error while searching in the user directory");case 17:case"end":return e.stop()}},e,this,[[6,13]])})),function(e){return D.apply(this,arguments)})},{key:"handleGetMediaConfig",value:(W=v(p().mark(function e(t){var r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCapability(_r(d[5]).MatrixCapabilities.MSC4039UploadFile)){e.next=2;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Missing capability"}}));case 2:return e.prev=2,e.next=5,this.driver.getMediaConfig();case 5:return r=e.sent,e.abrupt("return",this.transport.reply(t,r));case 9:e.prev=9,e.t0=e.catch(2),console.error("error while getting the media configuration",e.t0),this.handleDriverError(e.t0,t,"Unexpected error while getting the media configuration");case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return W.apply(this,arguments)})},{key:"handleUploadFile",value:(T=v(p().mark(function e(t){var r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCapability(_r(d[5]).MatrixCapabilities.MSC4039UploadFile)){e.next=2;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Missing capability"}}));case 2:return e.prev=2,e.next=5,this.driver.uploadFile(t.data.file);case 5:return r=e.sent,e.abrupt("return",this.transport.reply(t,{content_uri:r.contentUri}));case 9:e.prev=9,e.t0=e.catch(2),console.error("error while uploading a file",e.t0),this.handleDriverError(e.t0,t,"Unexpected error while uploading a file");case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return T.apply(this,arguments)})},{key:"handleDownloadFile",value:(_=v(p().mark(function e(t){var r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasCapability(_r(d[5]).MatrixCapabilities.MSC4039DownloadFile)){e.next=2;break}return e.abrupt("return",this.transport.reply(t,{error:{message:"Missing capability"}}));case 2:return e.prev=2,e.next=5,this.driver.downloadFile(t.data.content_uri);case 5:return r=e.sent,e.abrupt("return",this.transport.reply(t,{file:r.file}));case 9:e.prev=9,e.t0=e.catch(2),console.error("error while downloading a file",e.t0),this.handleDriverError(e.t0,t,"Unexpected error while downloading a file");case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return _.apply(this,arguments)})},{key:"handleDriverError",value:function(e,t,n){var i=this.driver.processError(e);this.transport.reply(t,{error:r({message:n},i)})}},{key:"handleMessage",value:function(e){if(!this.isStopped){var t=new CustomEvent("action:".concat(e.detail.action),{detail:e.detail,cancelable:!0});if(this.emit("action:".concat(e.detail.action),t),!t.defaultPrevented)switch(e.detail.action){case _r(d[4]).WidgetApiFromWidgetAction.ContentLoaded:return this.handleContentLoadedAction(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.SupportedApiVersions:return this.replyVersions(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.SendEvent:return this.handleSendEvent(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.SendToDevice:return this.handleSendToDevice(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.GetOpenIDCredentials:return this.handleOIDC(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC2931Navigate:return this.handleNavigate(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC2974RenegotiateCapabilities:return this.handleCapabilitiesRenegotiate(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC2876ReadEvents:return this.handleReadEvents(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.WatchTurnServers:return this.handleWatchTurnServers(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.UnwatchTurnServers:return this.handleUnwatchTurnServers(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC3869ReadRelations:return this.handleReadRelations(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC3973UserDirectorySearch:return this.handleUserDirectorySearch(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.BeeperReadRoomAccountData:return this.handleReadRoomAccountData(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC4039GetMediaConfigAction:return this.handleGetMediaConfig(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC4039UploadFileAction:return this.handleUploadFile(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC4039DownloadFileAction:return this.handleDownloadFile(e.detail);case _r(d[4]).WidgetApiFromWidgetAction.MSC4157UpdateDelayedEvent:return this.handleUpdateDelayedEvent(e.detail);default:return this.transport.reply(e.detail,{error:{message:"Unknown or unsupported action: "+e.detail.action}})}}}},{key:"updateTheme",value:function(e){return this.transport.send(_r(d[4]).WidgetApiToWidgetAction.ThemeChange,e)}},{key:"updateLanguage",value:function(e){return this.transport.send(_r(d[4]).WidgetApiToWidgetAction.LanguageChange,{lang:e})}},{key:"takeScreenshot",value:function(){return this.transport.send(_r(d[4]).WidgetApiToWidgetAction.TakeScreenshot,{})}},{key:"updateVisibility",value:function(e){return this.transport.send(_r(d[4]).WidgetApiToWidgetAction.UpdateVisibility,{visible:e})}},{key:"sendWidgetConfig",value:function(e){return this.transport.send(_r(d[4]).WidgetApiToWidgetAction.WidgetConfig,e).then()}},{key:"notifyModalWidgetButtonClicked",value:function(e){return this.transport.send(_r(d[4]).WidgetApiToWidgetAction.ButtonClicked,{id:e}).then()}},{key:"notifyModalWidgetClose",value:function(e){return this.transport.send(_r(d[4]).WidgetApiToWidgetAction.CloseModalWidget,e).then()}},{key:"feedEvent",value:(A=v(p().mark(function e(t,r){var n;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r&&this.setViewedRoomId(r),t.room_id===this.viewedRoomId||this.canUseRoomTimeline(t.room_id)){e.next=3;break}return e.abrupt("return");case 3:if(void 0===t.state_key||null===t.state_key){e.next=8;break}if(this.canReceiveStateEvent(t.type,t.state_key)){e.next=6;break}return e.abrupt("return");case 6:e.next=10;break;case 8:if(this.canReceiveRoomEvent(t.type,null===(n=t.content)||void 0===n?void 0:n.msgtype)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.transport.send(_r(d[4]).WidgetApiToWidgetAction.SendEvent,t);case 12:case"end":return e.stop()}},e,this)})),function(e,t){return A.apply(this,arguments)})},{key:"feedToDevice",value:(w=v(p().mark(function e(t,n){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canReceiveToDeviceEvent(t.type)){e.next=3;break}return e.next=3,this.transport.send(_r(d[4]).WidgetApiToWidgetAction.SendToDevice,r(r({},t),{},{encrypted:n}));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return w.apply(this,arguments)})},{key:"setViewedRoomId",value:function(e){this.viewedRoomId=e,null===e||this.canUseRoomTimeline(e)||this.pushRoomState(e)}},{key:"flushRoomState",value:(h=v(p().mark(function e(){var t,r,o,s,c,u,l;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:return e.next=3,Promise.all(this.pushRoomStateTasks);case 3:if(this.pushRoomStateTasks.size>0){e.next=1;break}case 4:t=[],r=n(this.pushRoomStateResult.values());try{for(r.s();!(o=r.n()).done;){s=o.value,c=n(s.values());try{for(c.s();!(u=c.n()).done;)l=u.value,t.push.apply(t,i(l.values()))}catch(e){c.e(e)}finally{c.f()}}}catch(e){r.e(e)}finally{r.f()}return e.next=9,this.getWidgetVersions();case 9:if(!e.sent.includes(_r(d[6]).UnstableApiVersion.MSC2762_UPDATE_STATE)){e.next=12;break}return e.next=12,this.transport.send(_r(d[4]).WidgetApiToWidgetAction.UpdateState,{state:t});case 12:return e.prev=12,this.flushRoomStateTask=null,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[0,,12,15]])})),function(){return h.apply(this,arguments)})},{key:"pushRoomState",value:function(e){var t,r=this,i=n(this.allowedEvents);try{var o=function(){var i=t.value;if(i.kind===_r(d[3]).EventKind.State&&i.direction===_r(d[3]).EventDirection.Receive){var o,s,c=r.driver.readRoomState(e,i.eventType,null!==(o=i.keyStr)&&void 0!==o?o:void 0).then(function(t){var o,s=n(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=r.pushRoomStateResult.get(e);void 0===u&&(u=new Map,r.pushRoomStateResult.set(e,u));var l=u.get(i.eventType);void 0===l&&(l=new Map,u.set(i.eventType,l)),l.has(c.state_key)||l.set(c.state_key,c)}}catch(e){s.e(e)}finally{s.f()}},function(t){return console.error("Failed to read room state for ".concat(e," (").concat(i.eventType,", ").concat(i.keyStr,")"),t)}).then(function(){r.pushRoomStateTasks.delete(c)});r.pushRoomStateTasks.add(c),null!==(s=r.flushRoomStateTask)&&void 0!==s||(r.flushRoomStateTask=r.flushRoomState()),r.flushRoomStateTask.catch(function(e){return console.error("Failed to push room state",e)})}};for(i.s();!(t=i.n()).done;)o()}catch(e){i.e(e)}finally{i.f()}}},{key:"feedStateUpdate",value:(l=v(p().mark(function e(t){var r,n;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.state_key){e.next=2;break}throw new Error("Not a state event");case 2:if(t.room_id!==this.viewedRoomId&&!this.canUseRoomTimeline(t.room_id)||!this.canReceiveStateEvent(t.type,t.state_key)){e.next=21;break}if(0!==this.pushRoomStateTasks.size){e.next=11;break}return e.next=6,this.getWidgetVersions();case 6:if(!e.sent.includes(_r(d[6]).UnstableApiVersion.MSC2762_UPDATE_STATE)){e.next=9;break}return e.next=9,this.transport.send(_r(d[4]).WidgetApiToWidgetAction.UpdateState,{state:[t]});case 9:e.next=21;break;case 11:void 0===(r=this.pushRoomStateResult.get(t.room_id))&&(r=new Map,this.pushRoomStateResult.set(t.room_id,r)),void 0===(n=r.get(t.type))&&(n=new Map,r.set(t.type,n)),n.has(t.type)||n.set(t.state_key,t);case 16:return e.next=18,Promise.all(this.pushRoomStateTasks);case 18:if(this.pushRoomStateTasks.size>0){e.next=16;break}case 19:return e.next=21,this.flushRoomStateTask;case 21:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}],c&&y(s.prototype,c),u&&y(s,u),Object.defineProperty(s,"prototype",{writable:!1}),N})(_r(d[10]).EventEmitter);_e3.ClientWidgetApi=W},977,[967,968,974,969,970,978,975,971,979,973,763]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoConferenceCapabilities=e.StickerpickerCapabilities=e.MatrixCapabilities=void 0,e.getTimelineRoomIDFromCapability=function(t){return t.substring(t.indexOf(":")+1)},e.isTimelineCapability=function(t){return null==t?void 0:t.startsWith("org.matrix.msc2762.timeline:")},e.isTimelineCapabilityFor=function(t,n){return t==="org.matrix.msc2762.timeline:".concat(n)};var t=(function(t){return t.Screenshots="m.capability.screenshot",t.StickerSending="m.sticker",t.AlwaysOnScreen="m.always_on_screen",t.RequiresClient="io.element.requires_client",t.MSC2931Navigate="org.matrix.msc2931.navigate",t.MSC3846TurnServers="town.robin.msc3846.turn_servers",t.MSC3973UserDirectorySearch="org.matrix.msc3973.user_directory_search",t.MSC4039UploadFile="org.matrix.msc4039.upload_file",t.MSC4039DownloadFile="org.matrix.msc4039.download_file",t.MSC4157SendDelayedEvent="org.matrix.msc4157.send.delayed_event",t.MSC4157UpdateDelayedEvent="org.matrix.msc4157.update_delayed_event",t.MSC4354SendStickyEvent="org.matrix.msc4354.send_sticky_event",t})({});e.MatrixCapabilities=t;var n=[t.StickerSending];e.StickerpickerCapabilities=n;var s=[t.AlwaysOnScreen];e.VideoConferenceCapabilities=s},978,[]);
__d(function(g,r,_i,a,m,_e3,d){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,u=function(){};return{s:u,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,f=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return f=t.done,t},e:function(t){c=!0,l=t},f:function(){try{f||null==o.return||o.return()}finally{if(c)throw l}}}}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,l(o.key),o)}}function l(e){var n=f(e,"string");return"symbol"===t(n)?n:String(n)}function f(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.SimpleObservable=void 0;var c=(function(){function t(e){var n,o,u;i(this,t),n=this,u=[],(o=l(o="listeners"))in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,e&&this.listeners.push(e)}var n,o,f;return n=t,(o=[{key:"onUpdate",value:function(t){this.listeners.push(t)}},{key:"update",value:function(t){var n,o=e(this.listeners);try{for(o.s();!(n=o.n()).done;)(0,n.value)(t)}catch(t){o.e(t)}finally{o.f()}}},{key:"close",value:function(){this.listeners=[]}}])&&u(n.prototype,o),f&&u(n,f),Object.defineProperty(n,"prototype",{writable:!1}),t})();_e3.SimpleObservable=c},979,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isErrorResponse=function(t){var n=t.error;return"object"===o(n)&&null!==n&&"message"in n&&"string"==typeof n.message}},980,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetKind=void 0;var o=(function(o){return o.Room="room",o.Account="account",o.Modal="modal",o})({});e.WidgetKind=o},981,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModalButtonKind=void 0;var n=(function(n){return n.Primary="m.primary",n.Secondary="m.secondary",n.Warning="m.warning",n.Danger="m.danger",n.Link="m.link",n})({});e.ModalButtonKind=n},982,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.isValidUrl=function(t){if(!t)return!1;try{var e=new URL(t);return"http"===e.protocol||"https"===e.protocol}catch(t){if(t instanceof TypeError)return!1;throw t}}},983,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertPresent=function(t,n){if(!t[n])throw new Error("".concat(String(n)," is required"))}},984,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var i=0;i<n.length;i++){var u=n[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,o(u.key),u)}}function o(n){var i=u(n,"string");return"symbol"===t(i)?i:String(i)}function u(n,i){if("object"!==t(n)||null===n)return n;var o=n[Symbol.toPrimitive];if(void 0!==o){var u=o.call(n,i||"default");if("object"!==t(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;var f=(function(){function t(i){if(n(this,t),this.definition=i,!this.definition)throw new Error("Definition is required");(0,r(d[0]).assertPresent)(i,"id"),(0,r(d[0]).assertPresent)(i,"creatorUserId"),(0,r(d[0]).assertPresent)(i,"type"),(0,r(d[0]).assertPresent)(i,"url")}var o,u,f;return o=t,(u=[{key:"creatorUserId",get:function(){return this.definition.creatorUserId}},{key:"type",get:function(){return this.definition.type}},{key:"id",get:function(){return this.definition.id}},{key:"name",get:function(){return this.definition.name||null}},{key:"title",get:function(){return this.rawData.title||null}},{key:"templateUrl",get:function(){return this.definition.url}},{key:"origin",get:function(){return new URL(this.templateUrl).origin}},{key:"waitForIframeLoad",get:function(){return!1!==this.definition.waitForIframeLoad&&(this.definition.waitForIframeLoad,!0)}},{key:"rawData",get:function(){return this.definition.data||{}}},{key:"getCompleteUrl",value:function(t){return(0,r(d[1]).runTemplate)(this.templateUrl,this.definition,t)}}])&&i(o.prototype,u),f&&i(o,f),Object.defineProperty(o,"prototype",{writable:!1}),t})();e.Widget=f},985,[984,965]);
__d(function(g,r,_i2,a,m,_e3,d){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=n(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0,u=function(){};return{s:u,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,f=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return f=e.done,e},e:function(e){c=!0,l=e},f:function(){try{f||null==o.return||o.return()}finally{if(c)throw l}}}}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,l(o.key),o)}}function l(t){var n=f(t,"string");return"symbol"===e(n)?n:String(n)}function f(t,n){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,n||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.WidgetParser=void 0;var c=(function(){function e(){i(this,e)}var n,o,l;return n=e,l=[{key:"parseAccountData",value:function(t){if(!t)return[];for(var n=[],o=0,i=Object.keys(t);o<i.length;o++){var u=i[o],l=t[u];if(l&&("m.widget"===l.type||"im.vector.modular.widgets"===l.type)&&l.sender&&(l.state_key||l.id)===u){var f={content:l.content,sender:l.sender,type:"m.widget",state_key:u,event_id:"$example",room_id:"!example",origin_server_ts:1},c=e.parseRoomWidget(f);c&&n.push(c)}}return n}},{key:"parseWidgetsFromRoomState",value:function(n){if(!n)return[];var o,i=[],u=t(n);try{for(u.s();!(o=u.n()).done;){var l=o.value,f=e.parseRoomWidget(l);f&&i.push(f)}}catch(e){u.e(e)}finally{u.f()}return i}},{key:"parseRoomWidget",value:function(t){if(!t)return null;if("m.widget"!==t.type&&"im.vector.modular.widgets"!==t.type)return null;var n=t.content||{},o={id:t.state_key,creatorUserId:n.creatorUserId||t.sender,name:n.name,type:n.type,url:n.url,waitForIframeLoad:n.waitForIframeLoad,data:n.data};return e.processEstimatedWidget(o)}},{key:"processEstimatedWidget",value:function(e){return e.id&&e.creatorUserId&&e.type&&(0,r(d[0]).isValidUrl)(e.url)?new(r(d[1]).Widget)(e):null}}],(o=null)&&u(n.prototype,o),l&&u(n,l),Object.defineProperty(n,"prototype",{writable:!1}),e})();_e3.WidgetParser=c},986,[983,985]);
__d(function(g,r,i,_a,m,e,d){"use strict";function t(t){return null==t?"".concat(t):String(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.runTemplate=function(a,n,c){for(var l=Object.assign({},n.data,{matrix_room_id:c.widgetRoomId||"",matrix_user_id:c.currentUserId,matrix_display_name:c.userDisplayName||c.currentUserId,matrix_avatar_url:c.userHttpAvatarUrl||"",matrix_widget_id:n.id,"org.matrix.msc2873.client_id":c.clientId||"","org.matrix.msc2873.client_theme":c.clientTheme||"","org.matrix.msc2873.client_language":c.clientLanguage||"","org.matrix.msc3819.matrix_device_id":c.deviceId||"","org.matrix.msc4039.matrix_base_url":c.baseUrl||""}),o=a,_=0,s=Object.keys(l);_<s.length;_++){var u=s[_],x="$".concat(u).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),p=new RegExp(x,"g");o=o.replace(p,encodeURIComponent(t(l[u])))}return o},e.toString=t},987,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){for(var o=0;o<n.length;o++){var u=n[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,i(u.key),u)}}function i(n){var o=u(n,"string");return"symbol"===t(o)?o:String(o)}function u(n,o){if("object"!==t(n)||null===n)return n;var i=n[Symbol.toPrimitive];if(void 0!==i){var u=i.call(n,o||"default");if("object"!==t(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetDriver=void 0;var l=(function(){function t(){n(this,t)}var i,u,l;return i=t,(u=[{key:"validateCapabilities",value:function(t){return Promise.resolve(new Set)}},{key:"sendEvent",value:function(t,n){return Promise.reject(new Error("Failed to override function"))}},{key:"sendStickyEvent",value:function(t,n,o){throw new Error("Method not implemented.")}},{key:"sendDelayedEvent",value:function(t,n,o,i){return Promise.reject(new Error("Failed to override function"))}},{key:"sendDelayedStickyEvent",value:function(t,n,o,i,u){throw new Error("Method not implemented.")}},{key:"cancelScheduledDelayedEvent",value:function(t){return Promise.reject(new Error("Failed to override function"))}},{key:"restartScheduledDelayedEvent",value:function(t){return Promise.reject(new Error("Failed to override function"))}},{key:"sendScheduledDelayedEvent",value:function(t){return Promise.reject(new Error("Failed to override function"))}},{key:"sendToDevice",value:function(t,n,o){return Promise.reject(new Error("Failed to override function"))}},{key:"readRoomAccountData",value:function(t){return Promise.resolve([])}},{key:"readRoomEvents",value:function(t,n,o){return Promise.resolve([])}},{key:"readStateEvents",value:function(t,n,o){return Promise.resolve([])}},{key:"readRoomTimeline",value:function(t,n,o,i,u,l){return void 0===i?this.readRoomEvents(n,o,u,[t],l):this.readStateEvents(n,i,u,[t])}},{key:"readRoomState",value:function(t,n,o){return this.readStateEvents(n,o,Number.MAX_SAFE_INTEGER,[t])}},{key:"readEventRelations",value:function(t,n,o,i,u,l,c,v){return Promise.resolve({chunk:[]})}},{key:"askOpenID",value:function(t){t.update({state:r(d[0]).OpenIDRequestState.Blocked})}},{key:"navigate",value:function(t){throw new Error("Navigation is not implemented")}},{key:"getTurnServers",value:function(){throw new Error("TURN server support is not implemented")}},{key:"searchUserDirectory",value:function(t,n){return Promise.resolve({limited:!1,results:[]})}},{key:"getMediaConfig",value:function(){throw new Error("Get media config is not implemented")}},{key:"uploadFile",value:function(t){throw new Error("Upload file is not implemented")}},{key:"downloadFile",value:function(t){throw new Error("Download file is not implemented")}},{key:"getKnownRooms",value:function(){throw new Error("Querying known rooms is not implemented")}},{key:"processError",value:function(t){}}])&&o(i.prototype,u),l&&o(i,l),Object.defineProperty(i,"prototype",{writable:!1}),t})();e.WidgetDriver=l},988,[965]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SyncAccumulator=_e.Category=void 0;var t=e(r(d[1])),n=e(r(d[2])),i=e(r(d[3])),o=_e.Category=(function(e){return e.Invite="invite",e.Leave="leave",e.Join="join",e.Knock="knock",e})({});_e.SyncAccumulator=(function(){return(0,n.default)(function e(){(0,t.default)(this,e);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=n,(0,i.default)(this,"accountData",{}),(0,i.default)(this,"inviteRooms",{}),(0,i.default)(this,"knockRooms",{}),(0,i.default)(this,"joinRooms",{}),(0,i.default)(this,"nextBatch",null),this.opts.maxTimelineEntries=this.opts.maxTimelineEntries||50},[{key:"accumulate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.accumulateRooms(e,t),this.accumulateAccountData(e),this.nextBatch=e.next_batch}},{key:"accumulateAccountData",value:function(e){var t=this;e.account_data&&e.account_data.events&&e.account_data.events.forEach(function(e){t.accountData[e.type]=e})}},{key:"accumulateRooms",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.rooms&&(e.rooms.invite&&Object.keys(e.rooms.invite).forEach(function(i){t.accumulateRoom(i,o.Invite,e.rooms.invite[i],n)}),e.rooms.join&&Object.keys(e.rooms.join).forEach(function(i){t.accumulateRoom(i,o.Join,e.rooms.join[i],n)}),e.rooms.leave&&Object.keys(e.rooms.leave).forEach(function(i){t.accumulateRoom(i,o.Leave,e.rooms.leave[i],n)}),e.rooms.knock&&Object.keys(e.rooms.knock).forEach(function(i){t.accumulateRoom(i,o.Knock,e.rooms.knock[i],n)}))}},{key:"accumulateRoom",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(t){case o.Invite:this.knockRooms[e]&&delete this.knockRooms[e],this.accumulateInviteState(e,n);break;case o.Knock:this.accumulateKnockState(e,n);break;case o.Join:this.knockRooms[e]?delete this.knockRooms[e]:this.inviteRooms[e]&&delete this.inviteRooms[e],this.accumulateJoinState(e,n,i);break;case o.Leave:this.knockRooms[e]?delete this.knockRooms[e]:this.inviteRooms[e]?delete this.inviteRooms[e]:delete this.joinRooms[e];break;default:r(d[4]).logger.error("Unknown cateogory: ",t)}}},{key:"accumulateInviteState",value:function(e,t){if(t.invite_state&&t.invite_state.events)if(this.inviteRooms[e]){var n=this.inviteRooms[e];t.invite_state.events.forEach(function(e){for(var t=!1,i=0;i<n.invite_state.events.length;i++){var o=n.invite_state.events[i];o.type===e.type&&o.state_key==e.state_key&&(n.invite_state.events[i]=e,t=!0)}t||n.invite_state.events.push(e)})}else this.inviteRooms[e]={invite_state:t.invite_state}}},{key:"accumulateKnockState",value:function(e,t){if(t.knock_state&&t.knock_state.events)if(this.knockRooms[e]){var n=this.knockRooms[e];t.knock_state.events.forEach(function(e){for(var t=!1,i=0;i<n.knock_state.events.length;i++){var o=n.knock_state.events[i];o.type===e.type&&o.state_key==e.state_key&&(n.knock_state.events[i]=e,t=!0)}t||n.knock_state.events.push(e)})}else this.knockRooms[e]={knock_state:t.knock_state}}},{key:"accumulateJoinState",value:function(e,t){var n,i,o,c,u,v,l,_=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=Date.now();this.joinRooms[e]||(this.joinRooms[e]={_currentState:Object.create(null),_timeline:[],_accountData:Object.create(null),_unreadNotifications:{},_unreadThreadNotifications:{},_summary:{},_receipts:new(r(d[5]).ReceiptAccumulator),_stickyEvents:[]});var k=this.joinRooms[e];if(t.account_data&&t.account_data.events&&t.account_data.events.forEach(function(e){k._accountData[e.type]=e}),t.unread_notifications&&(k._unreadNotifications=t.unread_notifications),k._unreadThreadNotifications=null!==(n=null!==(i=t[r(d[6]).UNREAD_THREAD_NOTIFICATIONS.stable])&&void 0!==i?i:t[r(d[6]).UNREAD_THREAD_NOTIFICATIONS.unstable])&&void 0!==n?n:void 0,t.summary){var f,y,p,R="m.heroes",E="m.invited_member_count",b="m.joined_member_count",j=k._summary,O=t.summary;j[R]=null!==(f=O[R])&&void 0!==f?f:j[R],j[b]=null!==(y=O[b])&&void 0!==y?y:j[b],j[E]=null!==(p=O[E])&&void 0!==p?p:j[E]}if(k._receipts.consumeEphemeralEvents(null===(o=t.ephemeral)||void 0===o?void 0:o.events),t.timeline&&t.timeline.limited&&(k._timeline=[]),null===(c=t.state)||void 0===c||null===(c=c.events)||void 0===c||c.forEach(function(e){s(k._currentState,e)}),null===(u=t["org.matrix.msc4222.state_after"])||void 0===u||null===(u=u.events)||void 0===u||u.forEach(function(e){s(k._currentState,e)}),null===(v=t.timeline)||void 0===v||null===(v=v.events)||void 0===v||v.forEach(function(e,n){var i,o;if(t["org.matrix.msc4222.state_after"]||s(k._currentState,e),_)o=e;else{var c;void 0!==(o=Object.assign({},e)).unsigned&&(o.unsigned=Object.assign({},o.unsigned));var u=null===(c=e.unsigned)||void 0===c?void 0:c.age;void 0!==u&&(o._localTs=Date.now()-u)}k._timeline.push({event:o,token:0===n&&null!==(i=t.timeline.prev_batch)&&void 0!==i?i:null})}),k._stickyEvents=k._stickyEvents.filter(function(e){return e.expiresTs>h}),null!==(l=t.msc4354_sticky)&&void 0!==l&&l.events&&(k._stickyEvents=k._stickyEvents.concat(t.msc4354_sticky.events.map(function(e){return{event:e,expiresTs:Math.min(e.msc4354_sticky.duration_ms,r(d[7]).MAX_STICKY_DURATION_MS)+Math.min(e.origin_server_ts,h)}}))),k._timeline.length>this.opts.maxTimelineEntries)for(var T=k._timeline.length-this.opts.maxTimelineEntries;T<k._timeline.length;T++)if(k._timeline[T].token){k._timeline=k._timeline.slice(T,k._timeline.length);break}}},{key:"getJSON",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={join:{},invite:{},knock:{},leave:{}};Object.keys(this.inviteRooms).forEach(function(t){n.invite[t]=e.inviteRooms[t]}),Object.keys(this.knockRooms).forEach(function(t){n.knock[t]=e.knockRooms[t]}),Object.keys(this.joinRooms).forEach(function(i){var o,c=e.joinRooms[i],u={ephemeral:{events:[]},account_data:{events:[]},state:{events:[]},"org.matrix.msc4222.state_after":{events:[]},timeline:{events:[],prev_batch:null},unread_notifications:c._unreadNotifications,unread_thread_notifications:c._unreadThreadNotifications,summary:c._summary,msc4354_sticky:null!==(o=c._stickyEvents)&&void 0!==o&&o.length?{events:c._stickyEvents.map(function(e){return e.event})}:void 0};Object.keys(c._accountData).forEach(function(e){u.account_data.events.push(c._accountData[e])});var v=c._receipts.buildAccumulatedReceiptEvent(i);v&&u.ephemeral.events.push(v),c._timeline.forEach(function(e){if(!u.timeline.prev_batch){if(!e.token)return;u.timeline.prev_batch=e.token}var n,i;!t&&("_localTs"in(i=e.event)&&void 0!==i._localTs)?(void 0!==(n=Object.assign({},e.event)).unsigned&&(n.unsigned=Object.assign({},n.unsigned)),delete n._localTs,n.unsigned=n.unsigned||{},n.unsigned.age=Date.now()-e.event._localTs):n=e.event,u.timeline.events.push(n)});for(var l=Object.create(null),_=u.timeline.events.length-1;_>=0;_--){var h=u.timeline.events[_];if(null!==h.state_key&&void 0!==h.state_key){var k=(0,r(d[8]).deepCopy)(h);k.unsigned&&(k.unsigned.prev_content&&(k.content=k.unsigned.prev_content),k.unsigned.prev_sender&&(k.sender=k.unsigned.prev_sender)),s(l,k)}}Object.keys(c._currentState).forEach(function(e){Object.keys(c._currentState[e]).forEach(function(t){var n=c._currentState[e][t];u["org.matrix.msc4222.state_after"].events.push(n),l[e]&&l[e][t]&&(n=l[e][t]),u.state.events.push(n)})}),n.join[i]=u});var i=[];return Object.keys(this.accountData).forEach(function(t){i.push(e.accountData[t])}),{nextBatch:this.nextBatch,roomsData:n,accountData:i}}},{key:"getNextBatchToken",value:function(){return this.nextBatch}}])})();function s(e,t){null!==t.state_key&&void 0!==t.state_key&&t.type&&(e[t.type]||(e[t.type]=Object.create(null)),e[t.type][t.state_key]=t)}},989,[1,11,12,739,746,990,827,771,748]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ReceiptAccumulator=void 0;var t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),c=e(r(d[4]));_e.ReceiptAccumulator=(function(){return(0,u.default)(function e(){(0,n.default)(this,e),(0,c.default)(this,"unthreadedReadReceipts",new Map),(0,c.default)(this,"threadedReadReceipts",new(r(d[5]).MapWithDefault)(function(){return new Map}))},[{key:"setUnthreaded",value:function(e,t){this.unthreadedReadReceipts.set(e,t)}},{key:"setThreaded",value:function(e,t,n){this.threadedReadReceipts.getOrCreate(e).set(t,n)}},{key:"allUnthreaded",value:function(){return this.unthreadedReadReceipts.entries()}},{key:"allThreaded",value:function*(){for(var e of this.threadedReadReceipts.values())for(var t of e.entries())yield t}},{key:"consumeEphemeralEvents",value:function(e){var n=this;null==e||e.forEach(function(e){e.type===r(d[6]).EventType.Receipt&&e.content&&Object.keys(e.content).forEach(function(u){Object.entries(e.content[u]).forEach(function(c){var o=(0,t.default)(c,2),f=o[0],l=o[1];if((0,r(d[5]).isSupportedReceiptType)(f))for(var s of Object.keys(l)){var h=e.content[u][f][s],p={data:e.content[u][f][s],type:f,eventId:u};h.thread_id?n.setThreaded(h.thread_id,s,p):n.setUnthreaded(s,p)}})})})}},{key:"buildAccumulatedReceiptEvent",value:function(e){var n={type:r(d[6]).EventType.Receipt,room_id:e,content:{}},u=new(r(d[5]).MapWithDefault)(function(){return new(r(d[5]).MapWithDefault)(function(){return new Map})});for(var c of this.allUnthreaded()){var o=(0,t.default)(c,2),f=o[0],l=o[1];u.getOrCreate(l.eventId).getOrCreate(l.type).set(f,l.data)}for(var s of this.allThreaded()){var h=(0,t.default)(s,2),p=h[0],v=h[1];u.getOrCreate(v.eventId).getOrCreate(v.type).set(p,v.data)}return n.content=(0,r(d[5]).recursiveMapToObject)(u),u.size>0?n:null}}])})()},990,[1,34,11,12,739,748,765]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TimelineWindow=_e.TimelineIndex=void 0;var n=e(_r(d[1])),t=e(_r(d[2])),i=e(_r(d[3])),r=e(_r(d[4])),l=function(){},o=(_e.TimelineWindow=(function(){return(0,t.default)(function e(t,i){var l;(0,n.default)(this,e);var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.client=t,this.timelineSet=i,(0,r.default)(this,"windowLimit",void 0),(0,r.default)(this,"start",void 0),(0,r.default)(this,"end",void 0),(0,r.default)(this,"eventCount",0),this.windowLimit=o.windowLimit||1e3,null===(l=i.room)||void 0===l||l.on(_r(d[5]).RoomEvent.Timeline,this.onTimelineEvent.bind(this))},[{key:"load",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=function(i){if(!i)throw new Error("No timeline given to initFields");var r,l=i.getEvents();if(e){if((r=l.findIndex(function(n){return n.getId()===e}))<0)throw new Error("getEventTimeline result didn't include requested event")}else r=l.length;var u=Math.min(l.length,r+Math.ceil(t/2)),v=Math.max(0,u-t);n.start=new o(i,v-i.getBaseIndex()),n.end=new o(i,u-i.getBaseIndex()),n.eventCount=u-v};return this.timelineSet.getTimelineForEvent(e)?(i(this.timelineSet.getTimelineForEvent(e)),Promise.resolve()):e?this.client.getEventTimeline(this.timelineSet,e).then(i):(i(this.timelineSet.getLiveTimeline()),Promise.resolve())}},{key:"getTimelineIndex",value:function(e){var n,t;if(e==_r(d[6]).EventTimeline.BACKWARDS)return null!==(n=this.start)&&void 0!==n?n:null;if(e==_r(d[6]).EventTimeline.FORWARDS)return null!==(t=this.end)&&void 0!==t?t:null;throw new Error("Invalid direction '"+e+"'")}},{key:"extend",value:function(e,n){var t=this.getTimelineIndex(e);if(!t)return!1;var i=e==_r(d[6]).EventTimeline.BACKWARDS?t.retreat(n):t.advance(n);if(i){this.eventCount+=i,this.eventCount;var r=this.eventCount-this.windowLimit;return r>0&&this.unpaginate(r,e!=_r(d[6]).EventTimeline.BACKWARDS),!0}return!1}},{key:"onTimelineEvent",value:function(e,n,t,i){i&&this.onEventRemoved()}},{key:"onEventRemoved",value:function(){var e=this.getEvents();e.length>0&&void 0===e[e.length-1]&&this.end&&this.end.index--}},{key:"canPaginate",value:function(e){var n=this.getTimelineIndex(e);if(!n)return!1;if(e==_r(d[6]).EventTimeline.BACKWARDS){if(n.index>n.minIndex())return!0}else if(n.index<n.maxIndex())return!0;var t=n.timeline.getNeighbouringTimeline(e),i=n.timeline.getPaginationToken(e);return Boolean(t)||Boolean(i)}},{key:"paginate",value:function(e,n){var t=arguments,r=this;return(0,i.default)(function*(){var i=!(t.length>2&&void 0!==t[2])||t[2],l=t.length>3&&void 0!==t[3]?t[3]:10,o=r.getTimelineIndex(e);if(!o)return!1;if(o.pendingPaginate)return o.pendingPaginate;if(r.extend(e,n))return!0;if(!i||0===l)return!1;if(!o.timeline.getPaginationToken(e))return!1;var u=r.client.paginateEventTimeline(o.timeline,{backwards:e==_r(d[6]).EventTimeline.BACKWARDS,limit:n}).finally(function(){o.pendingPaginate=void 0}).then(function(t){return t?r.paginate(e,n,!0,l-1):r.paginate(e,n,!1,0)});return o.pendingPaginate=u,u})()}},{key:"unpaginate",value:function(e,n){var t=n?this.start:this.end;if(!t)throw new Error("Attempting to unpaginate startOfTimeline=".concat(n," but don't have this direction"));if(e>this.eventCount||e<0)throw new Error("Attemting to unpaginate ".concat(e," events, but only have ").concat(this.eventCount," in the timeline"));for(;e>0;){var i=n?t.advance(e):t.retreat(e);if(i<=0)throw new Error("Unable to unpaginate any further, but still have "+this.eventCount+" events");e-=i,this.eventCount-=i,l(this.eventCount)}}},{key:"getEvents",value:function(){if(!this.start)return[];for(var e=[],n=this.start.timeline;n;){var t,i,r=n.getEvents(),l=0,o=r.length;n===this.start.timeline&&(l=this.start.index+n.getBaseIndex()),n===(null===(t=this.end)||void 0===t?void 0:t.timeline)&&(o=this.end.index+n.getBaseIndex());for(var u=l;u<o;u++)e.push(r[u]);if(n===(null===(i=this.end)||void 0===i?void 0:i.timeline))break;n=n.getNeighbouringTimeline(_r(d[6]).EventTimeline.FORWARDS)}return e}}])})(),_e.TimelineIndex=(function(){return(0,t.default)(function e(t,i){(0,n.default)(this,e),this.timeline=t,this.index=i,(0,r.default)(this,"pendingPaginate",void 0)},[{key:"minIndex",value:function(){return-1*this.timeline.getBaseIndex()}},{key:"maxIndex",value:function(){return this.timeline.getEvents().length-this.timeline.getBaseIndex()}},{key:"advance",value:function(e){if(!e)return 0;var n;if(e<0){if((n=Math.max(e,this.minIndex()-this.index))<0)return this.index+=n,n}else if((n=Math.min(e,this.maxIndex()-this.index))>0)return this.index+=n,n;var t=this.timeline.getNeighbouringTimeline(e<0?_r(d[6]).EventTimeline.BACKWARDS:_r(d[6]).EventTimeline.FORWARDS);return t?(this.timeline=t,this.index=e<0?this.maxIndex():this.minIndex(),this.advance(e)):0}},{key:"retreat",value:function(e){return-1*this.advance(-1*e)}}])})())},991,[1,11,12,743,739,806,810]);
__d(function(g,r,i,_a,_m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NoAuthFlowFoundError=_e.InteractiveAuth=_e.AuthType=void 0;var e=t(r(d[1])),a=t(r(d[2])),l=t(r(d[3])),s=t(r(d[4])),o=t(r(d[5])),n=t(r(d[6])),u=t(r(d[7])),h=t(r(d[8]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}var f="m.login.email.identity",m="m.login.msisdn",v=_e.AuthType=(function(t){return t.Password="m.login.password",t.Recaptcha="m.login.recaptcha",t.Terms="m.login.terms",t.Email="m.login.email.identity",t.Msisdn="m.login.msisdn",t.Sso="m.login.sso",t.SsoUnstable="org.matrix.login.sso",t.Dummy="m.login.dummy",t.RegistrationToken="m.login.registration_token",t.UnstableRegistrationToken="org.matrix.msc3231.login.registration_token",t})({}),p=_e.NoAuthFlowFoundError=(function(t){function n(t,e,o){var u,f,m,v;return(0,a.default)(this,n),f=this,m=n,v=[t],m=(0,s.default)(m),(u=(0,l.default)(f,c()?Reflect.construct(m,v||[],(0,s.default)(f).constructor):m.apply(f,v))).required_stages=e,u.flows=o,(0,h.default)(u,"name","NoAuthFlowFoundError"),u}return(0,o.default)(n,t),(0,e.default)(n)})((0,n.default)(Error));_e.InteractiveAuth=(function(){return(0,e.default)(function t(e){(0,a.default)(this,t);var l=this;(0,h.default)(this,"matrixClient",void 0),(0,h.default)(this,"inputs",void 0),(0,h.default)(this,"clientSecret",void 0),(0,h.default)(this,"requestCallback",void 0),(0,h.default)(this,"busyChangedCallback",void 0),(0,h.default)(this,"stateUpdatedCallback",void 0),(0,h.default)(this,"requestEmailTokenCallback",void 0),(0,h.default)(this,"supportedStages",void 0),(0,h.default)(this,"data",void 0),(0,h.default)(this,"emailSid",void 0),(0,h.default)(this,"requestingEmailToken",!1),(0,h.default)(this,"attemptAuthDeferred",null),(0,h.default)(this,"chosenFlow",null),(0,h.default)(this,"currentStage",null),(0,h.default)(this,"emailAttempt",1),(0,h.default)(this,"submitPromise",null),(0,h.default)(this,"requestEmailToken",(0,u.default)(function*(){if(l.requestingEmailToken)r(d[9]).logger.warn("Could not request email token: Already requesting");else{r(d[9]).logger.trace("Requesting email token. Attempt: "+l.emailAttempt),l.requestingEmailToken=!0;try{var t=yield l.requestEmailTokenCallback(l.inputs.emailAddress,l.clientSecret,l.emailAttempt++,l.data.session);l.emailSid=t.sid,r(d[9]).logger.trace("Email token request succeeded")}finally{l.requestingEmailToken=!1}}})),this.matrixClient=e.matrixClient,this.data=e.authData||{flows:[]},this.requestCallback=e.doRequest,this.busyChangedCallback=e.busyChanged,this.stateUpdatedCallback=e.stateUpdated||e.startAuthStage,this.requestEmailTokenCallback=e.requestEmailToken,this.inputs=e.inputs||{},e.sessionId&&(this.data.session=e.sessionId),this.clientSecret=e.clientSecret||this.matrixClient.generateClientSecret(),this.emailSid=e.emailSid,void 0!==e.supportedStages&&(this.supportedStages=new Set(e.supportedStages))},[{key:"attemptAuth",value:function(){var t=this;return(0,u.default)(function*(){var e;t.attemptAuthDeferred=Promise.withResolvers();var a=t.attemptAuthDeferred.promise;if(null!==(e=t.data)&&void 0!==e&&null!==(e=e.flows)&&void 0!==e&&e.length)t.startNextAuthStage();else{var l;null===(l=t.busyChangedCallback)||void 0===l||l.call(t,!0);var s=t.data.session?{session:t.data.session}:null;t.doRequest(s).finally(function(){var e;null===(e=t.busyChangedCallback)||void 0===e||e.call(t,!1)})}return a})()}},{key:"poll",value:function(){var t=this;return(0,u.default)(function*(){if(t.data.session&&t.attemptAuthDeferred&&!t.submitPromise){var e={};if(t.currentStage==f&&t.emailSid){var a={sid:t.emailSid,client_secret:t.clientSecret},l=t.matrixClient.getIdentityServerUrl();l&&(a.id_server=new URL(l).host),e={type:f,threepid_creds:a}}t.submitAuthDict(e,!0)}})()}},{key:"getSessionId",value:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.session}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getStageParams",value:function(t){var e;return null===(e=this.data)||void 0===e||null===(e=e.params)||void 0===e?void 0:e[t]}},{key:"getChosenFlow",value:function(){return this.chosenFlow}},{key:"submitAuthDict",value:function(t){var e=arguments,a=this;return(0,u.default)(function*(){var l,s,o,n=e.length>1&&void 0!==e[1]&&e[1];if(!a.attemptAuthDeferred)throw new Error("submitAuthDict() called before attemptAuth()");n||(null===(s=a.busyChangedCallback)||void 0===s||s.call(a,!0));for(;a.submitPromise;)try{yield a.submitPromise}catch(t){}o=null!==(l=a.data)&&void 0!==l&&l.session?Object.assign({session:a.data.session},t):t;try{a.submitPromise=a.doRequest(o,n),yield a.submitPromise}finally{var u;if(a.submitPromise=null,!n)null===(u=a.busyChangedCallback)||void 0===u||u.call(a,!1)}})()}},{key:"getEmailSid",value:function(){return this.emailSid}},{key:"setEmailSid",value:function(t){this.emailSid=t}},{key:"doRequest",value:function(t){var e=arguments,a=this;return(0,u.default)(function*(){var l=e.length>1&&void 0!==e[1]&&e[1];try{var s=yield a.requestCallback(t,l);a.attemptAuthDeferred.resolve(s),a.attemptAuthDeferred=null}catch(t){var o,n,u,h,c,f=t instanceof r(d[10]).MatrixError?t:null,m=null!==(o=null==f||null===(n=f.data)||void 0===n?void 0:n.flows)&&void 0!==o?o:null,p=(null===(u=a.data)||void 0===u?void 0:u.flows)||Boolean(m);if(!f||401!==f.httpStatus||!f.data||!p)if(l)r(d[9]).logger.log("Background poll request failed doing UI auth: ignoring",t);else null===(c=a.attemptAuthDeferred)||void 0===c||c.reject(t);f&&!f.data&&(f.data={}),!f||f.data.flows||f.data.completed||f.data.session||(f.data.flows=a.data.flows,f.data.completed=a.data.completed,f.data.session=a.data.session),f&&(a.data=f.data);try{a.startNextAuthStage()}catch(t){return a.attemptAuthDeferred.reject(t),void(a.attemptAuthDeferred=null)}if(!a.emailSid&&null!==(h=a.chosenFlow)&&void 0!==h&&h.stages.includes(v.Email))try{yield a.requestEmailToken()}catch(t){a.attemptAuthDeferred.reject(t),a.attemptAuthDeferred=null}}})()}},{key:"startNextAuthStage",value:function(){var t,e,a,l,s=this.chooseStage();if(!s)throw new Error("No incomplete flows from the server");(this.currentStage=s,s!==v.Dummy)?null!==(t=this.data)&&void 0!==t&&t.errcode||null!==(e=this.data)&&void 0!==e&&e.error?this.stateUpdatedCallback(s,{errcode:(null===(a=this.data)||void 0===a?void 0:a.errcode)||"",error:(null===(l=this.data)||void 0===l?void 0:l.error)||""}):this.stateUpdatedCallback(s,s===f?{emailSid:this.emailSid}:{}):this.submitAuthDict({type:"m.login.dummy"})}},{key:"chooseStage",value:function(){null===this.chosenFlow&&(this.chosenFlow=this.chooseFlow()),r(d[9]).logger.log("Active flow => %s",JSON.stringify(this.chosenFlow));var t=this.firstUncompletedStage(this.chosenFlow);return r(d[9]).logger.log("Next stage: %s",t),t}},{key:"scoreFlow",value:function(t){var e=this,a=t.stages.length;return void 0!==this.supportedStages&&(a+=10*t.stages.filter(function(t){return!e.supportedStages.has(t)}).length),a}},{key:"chooseFlow",value:function(){var t,e=this,a=(null===(t=this.data)||void 0===t?void 0:t.flows)||[],l=Boolean(this.inputs.emailAddress)||Boolean(this.emailSid),s=Boolean(this.inputs.phoneCountry)&&Boolean(this.inputs.phoneNumber);for(var o of(a.sort(function(t,a){return e.scoreFlow(t)-e.scoreFlow(a)}),a)){var n=!1,u=!1;for(var h of o.stages)h===f?n=!0:h==m&&(u=!0);if(n==l&&u==s)return o}var c=[];throw l&&c.push(f),s&&c.push(m),new p("No appropriate authentication flow found",c,a)}},{key:"firstUncompletedStage",value:function(t){var e,a=(null===(e=this.data)||void 0===e?void 0:e.completed)||[];return t.stages.find(function(t){return!a.includes(t)})}}])})()},992,[1,12,11,18,20,23,144,743,739,746,814]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.IndexedDBStore=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),l=e(_r(d[5])),u=e(_r(d[6])),c=e(_r(d[7])),s=e(_r(d[8])),f=e(_r(d[9]));function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function b(e,t,n,r){var o=(0,c.default)((0,u.default)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}_e.IndexedDBStore=(function(e){function c(e){var t,r,l,s;if((0,n.default)(this,c),r=this,l=c,s=[e],l=(0,u.default)(l),t=(0,o.default)(r,v()?Reflect.construct(l,s||[],(0,u.default)(r).constructor):l.apply(r,s)),(0,f.default)(t,"backend",void 0),(0,f.default)(t,"startedUp",!1),(0,f.default)(t,"syncTs",0),(0,f.default)(t,"userModifiedMap",{}),(0,f.default)(t,"emitter",new(_r(d[10]).TypedEventEmitter)),(0,f.default)(t,"onClose",function(){t.emitter.emit("closed")}),(0,f.default)(t,"getSavedSync",t.degradable(function(){return t.backend.getSavedSync()},"getSavedSync")),(0,f.default)(t,"isNewlyCreated",t.degradable(function(){return t.backend.isNewlyCreated()},"isNewlyCreated")),(0,f.default)(t,"getSavedSyncToken",t.degradable(function(){return t.backend.getNextBatchToken()},"getSavedSyncToken")),(0,f.default)(t,"deleteAllData",t.degradable(function(){return b(c,"deleteAllData",t,3)([]),t.backend.clearDatabase().then(function(){_r(d[11]).logger.log("Deleted indexeddb data.")},function(e){throw _r(d[11]).logger.error("Failed to delete indexeddb data: ".concat(e)),e})},null)),(0,f.default)(t,"reallySave",t.degradable(function(){t.syncTs=Date.now();var e=[];for(var n of t.getUsers())t.userModifiedMap[n.userId]!==n.getLastModifiedTime()&&n.events.presence&&(e.push([n.userId,n.events.presence.event]),t.userModifiedMap[n.userId]=n.getLastModifiedTime());return t.backend.syncToDatabase(e)},null)),(0,f.default)(t,"setSyncData",t.degradable(function(e){return t.backend.setSyncData(e)},"setSyncData")),(0,f.default)(t,"getOutOfBandMembers",t.degradable(function(e){return t.backend.getOutOfBandMembers(e)},"getOutOfBandMembers")),(0,f.default)(t,"setOutOfBandMembers",t.degradable(function(e,n){return b(c,"setOutOfBandMembers",t,3)([e,n]),t.backend.setOutOfBandMembers(e,n)},"setOutOfBandMembers")),(0,f.default)(t,"clearOutOfBandMembers",t.degradable(function(e){return b(c,"clearOutOfBandMembers",t,3)([e]),t.backend.clearOutOfBandMembers(e)},"clearOutOfBandMembers")),(0,f.default)(t,"getClientOptions",t.degradable(function(){return t.backend.getClientOptions()},"getClientOptions")),(0,f.default)(t,"storeClientOptions",t.degradable(function(e){return b(c,"storeClientOptions",t,3)([e]),t.backend.storeClientOptions(e)},"storeClientOptions")),!e.indexedDB)throw new Error("Missing required option: indexedDB");return e.workerFactory?t.backend=new(_r(d[12]).RemoteIndexedDBStoreBackend)(e.workerFactory,e.dbName):t.backend=new(_r(d[13]).LocalIndexedDBStoreBackend)(e.indexedDB,e.dbName),t}return(0,l.default)(c,e),(0,r.default)(c,[{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"startup",value:function(){var e=this;return this.startedUp?(_r(d[11]).logger.log("IndexedDBStore.startup: already started"),Promise.resolve()):(_r(d[11]).logger.log("IndexedDBStore.startup: connecting to backend"),this.backend.connect(this.onClose).then(function(){return _r(d[11]).logger.log("IndexedDBStore.startup: loading presence events"),e.backend.getUserPresenceEvents()}).then(function(n){_r(d[11]).logger.log("IndexedDBStore.startup: processing presence events"),n.forEach(function(n){var r=(0,t.default)(n,2),o=r[0],l=r[1];if(!e.createUser)throw new Error("`IndexedDBStore.startup` must be called after assigning it to the client, not before!");var u=e.createUser(o);l&&u.setPresenceEvent(new(_r(d[14]).MatrixEvent)(l)),e.userModifiedMap[u.userId]=u.getLastModifiedTime(),e.storeUser(u)}),e.startedUp=!0}))}},{key:"destroy",value:function(){return this.backend.destroy()}},{key:"wantsSave",value:function(){return Date.now()-this.syncTs>3e5}},{key:"save",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.wantsSave()?this.reallySave():Promise.resolve()}},{key:"degradable",value:function(e,t){var n=this,r=t?b(c,t,this,1):null;return(0,s.default)(function*(){for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];try{return yield e.call.apply(e,[n].concat(o))}catch(e){_r(d[11]).logger.error("IndexedDBStore failure, degrading to MemoryStore",e),n.emitter.emit("degraded",e);try{_r(d[11]).logger.log("IndexedDBStore trying to delete degraded data"),yield n.backend.clearDatabase(),_r(d[11]).logger.log("IndexedDBStore delete after degrading succeeded")}catch(e){_r(d[11]).logger.warn("IndexedDBStore delete after degrading failed",e)}if(r)return r.call.apply(r,[n].concat(o))}})}},{key:"getPendingEvents",value:function(e){var t=this,n=this;return(0,s.default)(function*(){if(!n.localStorage)return b(c,"getPendingEvents",t,1).call(n,e);var r=n.localStorage.getItem(y(e));if(r)try{return JSON.parse(r)}catch(e){_r(d[11]).logger.error("Could not parse persisted pending events",e)}return[]})()}},{key:"setPendingEvents",value:function(e,t){var n=this,r=this;return(0,s.default)(function*(){if(!r.localStorage)return b(c,"setPendingEvents",n,1).call(r,e,t);t.length>0?r.localStorage.setItem(y(e),JSON.stringify(t)):r.localStorage.removeItem(y(e))})()}},{key:"saveToDeviceBatches",value:function(e){return this.backend.saveToDeviceBatches(e)}},{key:"getOldestToDeviceBatch",value:function(){return this.backend.getOldestToDeviceBatch()}},{key:"removeToDeviceBatch",value:function(e){return this.backend.removeToDeviceBatch(e)}}],[{key:"exists",value:function(e,t){return _r(d[13]).LocalIndexedDBStoreBackend.exists(e,t)}}])})(_r(d[15]).MemoryStore);function y(e){return"mx_pending_events_".concat(e)}},993,[1,34,11,12,18,23,20,21,743,739,762,746,994,995,771,963]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteIndexedDBStoreBackend=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4]));e.RemoteIndexedDBStoreBackend=(function(){return(0,o.default)(function t(o,s){var c=this;(0,n.default)(this,t),this.workerFactory=o,this.dbName=s,(0,u.default)(this,"worker",void 0),(0,u.default)(this,"nextSeq",0),(0,u.default)(this,"inFlight",{}),(0,u.default)(this,"startPromise",void 0),(0,u.default)(this,"onWorkerMessage",function(t){var n,o=t.data;if("closed"==o.command)null===(n=c.onClose)||void 0===n||n.call(c);else if("cmd_success"==o.command||"cmd_fail"==o.command){if(void 0===o.seq)return void r(d[5]).logger.error("Got reply from worker with no seq");var s=c.inFlight[o.seq];if(void 0===s)return void r(d[5]).logger.error("Got reply for unknown seq "+o.seq);if(delete c.inFlight[o.seq],"cmd_success"==o.command)s.resolve(o.result);else{var u=new Error(o.error.message);u.name=o.error.name,s.reject(u)}}else r(d[5]).logger.warn("Unrecognised message from worker: ",o)})},[{key:"connect",value:function(t){var n=this;return this.onClose=t,this.ensureStarted().then(function(){return n.doCmd("connect")})}},{key:"clearDatabase",value:function(){var t=this;return this.ensureStarted().then(function(){return t.doCmd("clearDatabase")})}},{key:"isNewlyCreated",value:function(){return this.doCmd("isNewlyCreated")}},{key:"getSavedSync",value:function(){return this.doCmd("getSavedSync")}},{key:"getNextBatchToken",value:function(){return this.doCmd("getNextBatchToken")}},{key:"setSyncData",value:function(t){return this.doCmd("setSyncData",[t])}},{key:"syncToDatabase",value:function(t){return this.doCmd("syncToDatabase",[t])}},{key:"getOutOfBandMembers",value:function(t){return this.doCmd("getOutOfBandMembers",[t])}},{key:"setOutOfBandMembers",value:function(t,n){return this.doCmd("setOutOfBandMembers",[t,n])}},{key:"clearOutOfBandMembers",value:function(t){return this.doCmd("clearOutOfBandMembers",[t])}},{key:"getClientOptions",value:function(){return this.doCmd("getClientOptions")}},{key:"storeClientOptions",value:function(t){return this.doCmd("storeClientOptions",[t])}},{key:"getUserPresenceEvents",value:function(){return this.doCmd("getUserPresenceEvents")}},{key:"saveToDeviceBatches",value:function(t){var n=this;return(0,s.default)(function*(){return n.doCmd("saveToDeviceBatches",[t])})()}},{key:"getOldestToDeviceBatch",value:function(){var t=this;return(0,s.default)(function*(){return t.doCmd("getOldestToDeviceBatch")})()}},{key:"removeToDeviceBatch",value:function(t){var n=this;return(0,s.default)(function*(){return n.doCmd("removeToDeviceBatch",[t])})()}},{key:"ensureStarted",value:function(){return this.startPromise||(this.worker=this.workerFactory(),this.worker.onmessage=this.onWorkerMessage,this.startPromise=this.doCmd("setupWorker",[this.dbName]).then(function(){r(d[5]).logger.log("IndexedDB worker is ready")})),this.startPromise}},{key:"doCmd",value:function(t,n){var o=this;return Promise.resolve().then(function(){var s,u=o.nextSeq++,c=Promise.withResolvers();return o.inFlight[u]=c,null===(s=o.worker)||void 0===s||s.postMessage({command:t,seq:u,args:n}),c.promise})}},{key:"destroy",value:function(){var t=this;return(0,s.default)(function*(){var n;null===(n=t.worker)||void 0===n||n.terminate()})()}}])})()},994,[1,11,12,743,739,746]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.LocalIndexedDBStoreBackend=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),c=e(r(d[4])),u=e(r(d[5])),s=e(r(d[6])),l=[function(e){e.createObjectStore("users",{keyPath:["userId"]}),e.createObjectStore("accountData",{keyPath:["type"]}),e.createObjectStore("sync",{keyPath:["clobber"]})},function(e){e.createObjectStore("oob_membership_events",{keyPath:["room_id","state_key"]}).createIndex("room","room_id")},function(e){e.createObjectStore("client_options",{keyPath:["clobber"]})},function(e){e.createObjectStore("to_device_queue",{autoIncrement:!0})}],v=l.length;function f(e,t,n){var o=e.openCursor(t);return new Promise(function(e,t){var c=[];o.onerror=function(){var e;t(new Error("Query failed: "+(null===(e=o.error)||void 0===e?void 0:e.name)))},o.onsuccess=function(){var t=o.result;t?(c.push(n(t)),t.continue()):e(c)}})}function y(e){return new Promise(function(t,n){e.oncomplete=function(e){t(e)},e.onerror=function(){n(e.error)}})}function b(e){return new Promise(function(t,n){e.onsuccess=function(e){t(e)},e.onerror=function(){n(e.error)}})}function h(e){return b(e).then(function(t){return e.result})}_e.LocalIndexedDBStoreBackend=(function(){return(0,c.default)(function e(t){(0,o.default)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.indexedDB=t,(0,s.default)(this,"dbName",void 0),(0,s.default)(this,"syncAccumulator",void 0),(0,s.default)(this,"db",void 0),(0,s.default)(this,"disconnected",!0),(0,s.default)(this,"_isNewlyCreated",!1),(0,s.default)(this,"syncToDatabasePromise",void 0),(0,s.default)(this,"pendingUserPresenceData",[]),this.dbName="matrix-js-sdk:"+n,this.syncAccumulator=new(r(d[7]).SyncAccumulator)},[{key:"connect",value:function(e){var t=this,n=this;if(!this.disconnected)return r(d[8]).logger.log("LocalIndexedDBStoreBackend.connect: already connected or connecting"),Promise.resolve();this.disconnected=!1,r(d[8]).logger.log("LocalIndexedDBStoreBackend.connect: connecting...");var o=this.indexedDB.open(this.dbName,v);return o.onupgradeneeded=function(e){var n=o.result,c=e.oldVersion;r(d[8]).logger.log("LocalIndexedDBStoreBackend.connect: upgrading from ".concat(c)),c<1&&(t._isNewlyCreated=!0),l.forEach(function(e,t){c<=t&&e(n)})},o.onblocked=function(){r(d[8]).logger.log("can't yet open LocalIndexedDBStoreBackend because it is open elsewhere")},r(d[8]).logger.log("LocalIndexedDBStoreBackend.connect: awaiting connection..."),b(o).then((0,u.default)(function*(){r(d[8]).logger.log("LocalIndexedDBStoreBackend.connect: connected"),n.db=o.result,n.db.onversionchange=function(){var e;null===(e=n.db)||void 0===e||e.close(),n.disconnected=!0,n.db=void 0},n.db.onclose=function(){n.disconnected=!0,n.db=void 0,null==e||e()},yield n.init()}))}},{key:"isNewlyCreated",value:function(){return Promise.resolve(this._isNewlyCreated)}},{key:"init",value:function(){var e=this;return Promise.all([this.loadAccountData(),this.loadSyncData()]).then(function(t){var o=(0,n.default)(t,2),c=o[0],u=o[1];r(d[8]).logger.log("LocalIndexedDBStoreBackend: loaded initial data"),e.syncAccumulator.accumulate({next_batch:u.nextBatch,rooms:u.roomsData,account_data:{events:c}},!0)})}},{key:"getOutOfBandMembers",value:function(e){var t=this;return new Promise(function(n,o){var c=t.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),u=IDBKeyRange.only(e),s=c.openCursor(u),l=[],v=!1;s.onsuccess=function(){var e=s.result;if(!e)return l.length||v?n(l):n(null);var t=e.value;t.oob_written?v=!0:l.push(t),e.continue()},s.onerror=function(e){o(e)}}).then(function(t){return r(d[8]).logger.log("LL: got ".concat(null==t?void 0:t.length," membershipEvents from storage for room ").concat(e," ...")),t})}},{key:"setOutOfBandMembers",value:function(e,t){var n=this;return(0,u.default)(function*(){r(d[8]).logger.log("LL: backend about to store ".concat(t.length)+" members for ".concat(e));var o=n.db.transaction(["oob_membership_events"],"readwrite"),c=o.objectStore("oob_membership_events");t.forEach(function(e){c.put(e)});var u={room_id:e,oob_written:!0,state_key:0};c.put(u),yield y(o),r(d[8]).logger.log("LL: backend done storing for ".concat(e,"!"))})()}},{key:"clearOutOfBandMembers",value:function(e){var t=this;return(0,u.default)(function*(){var o,c=t.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),u=IDBKeyRange.only(e),s=h(c.openKeyCursor(u,"next")).then(function(e){return(null==e?void 0:e.primaryKey)[1]}),l=h(c.openKeyCursor(u,"prev")).then(function(e){return(null==e?void 0:e.primaryKey)[1]}),v=yield Promise.all([s,l]),f=(0,n.default)(v,2),y=f[0],b=f[1],p=t.db.transaction(["oob_membership_events"],"readwrite").objectStore("oob_membership_events"),k=IDBKeyRange.bound([e,y],[e,b]);r(d[8]).logger.log("LL: Deleting all users + marker in storage for room ".concat(e,", with key range:"),[e,y],[e,b]),yield(o=p.delete(k),new Promise(function(e,t){o.onsuccess=function(){return e(o)},o.onerror=function(e){return t(e)}}))})()}},{key:"clearDatabase",value:function(){var e=this;return new Promise(function(t){var n;r(d[8]).logger.log("Removing indexeddb instance: ".concat(e.dbName)),null===(n=e.db)||void 0===n||n.close();var o=e.indexedDB.deleteDatabase(e.dbName);o.onblocked=function(){r(d[8]).logger.log("can't yet delete indexeddb ".concat(e.dbName," because it is open elsewhere"))},o.onerror=function(){var e;r(d[8]).logger.warn("unable to delete js-sdk store indexeddb: ".concat(null===(e=o.error)||void 0===e?void 0:e.name)),t()},o.onsuccess=function(){r(d[8]).logger.log("Removed indexeddb instance: ".concat(e.dbName)),t()}})}},{key:"getSavedSync",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.syncAccumulator.getJSON();return t.nextBatch?e?Promise.resolve((0,r(d[9]).deepCopy)(t)):Promise.resolve(t):Promise.resolve(null)}},{key:"getNextBatchToken",value:function(){return Promise.resolve(this.syncAccumulator.getNextBatchToken())}},{key:"setSyncData",value:function(e){var t=this;return Promise.resolve().then(function(){t.syncAccumulator.accumulate(e)})}},{key:"syncToDatabase",value:function(e){var n=this;return(0,u.default)(function*(){var o;return n.syncToDatabasePromise?(r(d[8]).logger.warn("Skipping syncToDatabase() as persist already in flight"),(o=n.pendingUserPresenceData).push.apply(o,(0,t.default)(e)),n.syncToDatabasePromise):(e.unshift.apply(e,(0,t.default)(n.pendingUserPresenceData)),n.syncToDatabasePromise=n.doSyncToDatabase(e),n.syncToDatabasePromise)})()}},{key:"doSyncToDatabase",value:function(e){var t=this;return(0,u.default)(function*(){try{var n=t.syncAccumulator.getJSON(!0);yield Promise.all([t.persistUserPresenceEvents(e),t.persistAccountData(n.accountData),t.persistSyncData(n.nextBatch,n.roomsData)])}finally{t.syncToDatabasePromise=void 0}})()}},{key:"persistSyncData",value:function(e,t){var n=this;return r(d[8]).logger.log("Persisting sync data up to",e),(0,r(d[9]).promiseTry)(function(){var o=n.db.transaction(["sync"],"readwrite");return o.objectStore("sync").put({clobber:"-",nextBatch:e,roomsData:t}),y(o).then(function(){r(d[8]).logger.log("Persisted sync data up to",e)})})}},{key:"persistAccountData",value:function(e){var t=this;return(0,r(d[9]).promiseTry)(function(){var n=t.db.transaction(["accountData"],"readwrite"),o=n.objectStore("accountData");for(var c of e)o.put(c);return y(n).then()})}},{key:"persistUserPresenceEvents",value:function(e){var t=this;return(0,r(d[9]).promiseTry)(function(){var n=t.db.transaction(["users"],"readwrite"),o=n.objectStore("users");for(var c of e)o.put({userId:c[0],event:c[1]});return y(n).then()})}},{key:"getUserPresenceEvents",value:function(){var e=this;return(0,r(d[9]).promiseTry)(function(){return f(e.db.transaction(["users"],"readonly").objectStore("users"),void 0,function(e){return[e.value.userId,e.value.event]})})}},{key:"loadAccountData",value:function(){var e=this;return r(d[8]).logger.log("LocalIndexedDBStoreBackend: loading account data..."),(0,r(d[9]).promiseTry)(function(){return f(e.db.transaction(["accountData"],"readonly").objectStore("accountData"),void 0,function(e){return e.value}).then(function(e){return r(d[8]).logger.log("LocalIndexedDBStoreBackend: loaded account data"),e})})}},{key:"loadSyncData",value:function(){var e=this;return r(d[8]).logger.log("LocalIndexedDBStoreBackend: loading sync data..."),(0,r(d[9]).promiseTry)(function(){return f(e.db.transaction(["sync"],"readonly").objectStore("sync"),void 0,function(e){return e.value}).then(function(e){return r(d[8]).logger.log("LocalIndexedDBStoreBackend: loaded sync data"),e.length>1&&r(d[8]).logger.warn("loadSyncData: More than 1 sync row found."),e.length>0?e[0]:{}})})}},{key:"getClientOptions",value:function(){var e=this;return Promise.resolve().then(function(){return f(e.db.transaction(["client_options"],"readonly").objectStore("client_options"),void 0,function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.options}).then(function(e){return e[0]})})}},{key:"storeClientOptions",value:function(e){var t=this;return(0,u.default)(function*(){var n=t.db.transaction(["client_options"],"readwrite");n.objectStore("client_options").put({clobber:"-",options:e}),yield y(n)})()}},{key:"saveToDeviceBatches",value:function(e){var t=this;return(0,u.default)(function*(){var n=t.db.transaction(["to_device_queue"],"readwrite"),o=n.objectStore("to_device_queue");for(var c of e)o.add(c);yield y(n)})()}},{key:"getOldestToDeviceBatch",value:function(){var e=this;return(0,u.default)(function*(){var t=e.db.transaction(["to_device_queue"],"readonly").objectStore("to_device_queue"),n=yield h(t.openCursor());if(!n)return null;var o=n.value;return{id:n.key,txnId:o.txnId,eventType:o.eventType,batch:o.batch}})()}},{key:"removeToDeviceBatch",value:function(e){var t=this;return(0,u.default)(function*(){var n=t.db.transaction(["to_device_queue"],"readwrite");n.objectStore("to_device_queue").delete(e),yield y(n)})()}},{key:"destroy",value:function(){var e=this;return(0,u.default)(function*(){var t;null===(t=e.db)||void 0===t||t.close()})()}}],[{key:"exists",value:function(e,t){return t="matrix-js-sdk:"+(t||"default"),(0,r(d[10]).exists)(e,t)}}])})()},995,[1,42,34,11,12,743,739,989,746,748,873]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ThreepidMedium=void 0;e.ThreepidMedium=(function(n){return n.Email="email",n.Phone="msisdn",n})({})},996,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileKeyTimezone=e.ProfileKeyMSC4175Timezone=void 0;e.ProfileKeyTimezone="m.tz",e.ProfileKeyMSC4175Timezone="us.cloke.msc4175.tz"},997,[]);
__d(function(g,_r,i,a,m,e,d){var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RelatedRelations=void 0;var n=t(_r(d[1])),o=t(_r(d[2])),u=t(_r(d[3])),r=t(_r(d[4]));e.RelatedRelations=(function(){return(0,u.default)(function t(n){(0,o.default)(this,t),(0,r.default)(this,"relations",void 0),this.relations=n.filter(function(t){return!!t})},[{key:"getRelations",value:function(){return this.relations.reduce(function(t,o){return[].concat((0,n.default)(t),(0,n.default)(o.getRelations()))},[])}},{key:"on",value:function(t,n){this.relations.forEach(function(o){return o.on(t,n)})}},{key:"off",value:function(t,n){this.relations.forEach(function(o){return o.off(t,n)})}}])})()},998,[1,42,11,12,739]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]).NativeModules.RNFSManager,n=new(0,r(d[0]).NativeEventEmitter)(e),o=e.RNFSFileTypeRegular,t=e.RNFSFileTypeDirectory,s=0,l=function(){return s+=1},c=function(e){return e.startsWith('file://')?e.slice(7):e};function u(e,n,o){var t={encoding:'utf8'};return n&&('string'==typeof n?t.encoding=n:'object'==typeof n&&(t=n)),o(c(e)).then(function(e){var n;if('utf8'===t.encoding)n=r(d[1]).decode(r(d[2]).decode(e));else if('ascii'===t.encoding)n=r(d[2]).decode(e);else{if('base64'!==t.encoding)throw new Error('Invalid encoding type "'+String(t.encoding)+'"');n=e}return n})}function f(e,n){return n(c(e)).then(function(e){return e.map(function(e){return{ctime:e.ctime&&new Date(1e3*e.ctime)||null,mtime:e.mtime&&new Date(1e3*e.mtime)||null,name:e.name,path:e.path,size:e.size,isFile:function(){return e.type===o},isDirectory:function(){return e.type===t}}})})}var p={mkdir:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.mkdir(c(n),o).then(function(){})},moveFile:function(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.moveFile(c(n),c(o),t).then(function(){})},copyFile:function(n,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.copyFile(c(n),c(o),t).then(function(){})},pathForBundle:function(n){return e.pathForBundle(n)},pathForGroup:function(n){return e.pathForGroup(n)},getFSInfo:function(){return e.getFSInfo()},getAllExternalFilesDirs:function(){return e.getAllExternalFilesDirs()},unlink:function(n){return e.unlink(c(n)).then(function(){})},exists:function(n){return e.exists(c(n))},stopDownload:function(n){e.stopDownload(n)},resumeDownload:function(n){e.resumeDownload(n)},isResumable:function(n){return e.isResumable(n)},stopUpload:function(n){e.stopUpload(n)},completeHandlerIOS:function(n){return e.completeHandlerIOS(n)},readDir:function(n){return f(n,e.readDir)},readDirAssets:function(n){if(!e.readDirAssets)throw new Error('readDirAssets is not available on this platform');return f(n,e.readDirAssets)},existsAssets:function(n){if(!e.existsAssets)throw new Error('existsAssets is not available on this platform');return e.existsAssets(n)},existsRes:function(n){if(!e.existsRes)throw new Error('existsRes is not available on this platform');return e.existsRes(n)},readdir:function(e){return p.readDir(c(e)).then(function(e){return e.map(function(e){return e.name})})},setReadable:function(n,o,t){return e.setReadable(n,o,t).then(function(e){return e})},stat:function(n){return e.stat(c(n)).then(function(e){return{path:n,ctime:new Date(1e3*e.ctime),mtime:new Date(1e3*e.mtime),size:e.size,mode:e.mode,originalFilepath:e.originalFilepath,isFile:function(){return e.type===o},isDirectory:function(){return e.type===t}}})},readFile:function(n,o){return u(n,o,e.readFile)},read:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3?arguments[3]:void 0,l={encoding:'utf8'};return s&&('string'==typeof s?l.encoding=s:'object'==typeof s&&(l=s)),e.read(c(n),o,t).then(function(e){var n;if('utf8'===l.encoding)n=r(d[1]).decode(r(d[2]).decode(e));else if('ascii'===l.encoding)n=r(d[2]).decode(e);else{if('base64'!==l.encoding)throw new Error('Invalid encoding type "'+String(l.encoding)+'"');n=e}return n})},readFileAssets:function(n,o){if(!e.readFileAssets)throw new Error('readFileAssets is not available on this platform');return u(n,o,e.readFileAssets)},readFileRes:function(n,o){if(!e.readFileRes)throw new Error('readFileRes is not available on this platform');return u(n,o,e.readFileRes)},hash:function(n,o){return e.hash(c(n),o)},copyFileAssets:function(n,o){if(!e.copyFileAssets)throw new Error('copyFileAssets is not available on this platform');return e.copyFileAssets(c(n),c(o)).then(function(){})},copyFileRes:function(n,o){if(!e.copyFileRes)throw new Error('copyFileRes is not available on this platform');return e.copyFileRes(n,c(o)).then(function(){})},copyAssetsFileIOS:function(n,o,t,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:'contain';return e.copyAssetsFileIOS(n,o,t,s,l,c,u)},copyAssetsVideoIOS:function(n,o){return e.copyAssetsVideoIOS(n,o)},writeFile:function(n,o,t){var s,l={encoding:'utf8'};if(t&&('string'==typeof t?l.encoding=t:'object'==typeof t&&(l=Object.assign({},l,t))),'utf8'===l.encoding)s=r(d[2]).encode(r(d[1]).encode(o));else if('ascii'===l.encoding)s=r(d[2]).encode(o);else{if('base64'!==l.encoding)throw new Error('Invalid encoding type "'+l.encoding+'"');s=o}return e.writeFile(c(n),s,l).then(function(){})},appendFile:function(n,o,t){var s,l={encoding:'utf8'};if(t&&('string'==typeof t?l.encoding=t:'object'==typeof t&&(l=t)),'utf8'===l.encoding)s=r(d[2]).encode(r(d[1]).encode(o));else if('ascii'===l.encoding)s=r(d[2]).encode(o);else{if('base64'!==l.encoding)throw new Error('Invalid encoding type "'+l.encoding+'"');s=o}return e.appendFile(c(n),s)},write:function(n,o,t,s){var l,u={encoding:'utf8'};if(s&&('string'==typeof s?u.encoding=s:'object'==typeof s&&(u=s)),'utf8'===u.encoding)l=r(d[2]).encode(r(d[1]).encode(o));else if('ascii'===u.encoding)l=r(d[2]).encode(o);else{if('base64'!==u.encoding)throw new Error('Invalid encoding type "'+u.encoding+'"');l=o}return void 0===t&&(t=-1),e.write(c(n),l,t).then(function(){})},downloadFile:function(o){if('object'!=typeof o)throw new Error('downloadFile: Invalid value for argument `options`');if('string'!=typeof o.fromUrl)throw new Error('downloadFile: Invalid value for property `fromUrl`');if('string'!=typeof o.toFile)throw new Error('downloadFile: Invalid value for property `toFile`');if(o.headers&&'object'!=typeof o.headers)throw new Error('downloadFile: Invalid value for property `headers`');if(o.background&&'boolean'!=typeof o.background)throw new Error('downloadFile: Invalid value for property `background`');if(o.progressDivider&&'number'!=typeof o.progressDivider)throw new Error('downloadFile: Invalid value for property `progressDivider`');if(o.progressInterval&&'number'!=typeof o.progressInterval)throw new Error('downloadFile: Invalid value for property `progressInterval`');if(o.readTimeout&&'number'!=typeof o.readTimeout)throw new Error('downloadFile: Invalid value for property `readTimeout`');if(o.connectionTimeout&&'number'!=typeof o.connectionTimeout)throw new Error('downloadFile: Invalid value for property `connectionTimeout`');if(o.backgroundTimeout&&'number'!=typeof o.backgroundTimeout)throw new Error('downloadFile: Invalid value for property `backgroundTimeout`');var t=l(),s=[];o.begin&&s.push(n.addListener('DownloadBegin',function(e){e.jobId===t&&o.begin(e)})),o.progress&&s.push(n.addListener('DownloadProgress',function(e){e.jobId===t&&o.progress(e)})),o.resumable&&s.push(n.addListener('DownloadResumable',function(e){e.jobId===t&&o.resumable(e)}));var u={jobId:t,fromUrl:o.fromUrl,toFile:c(o.toFile),headers:o.headers||{},background:!!o.background,progressDivider:o.progressDivider||0,progressInterval:o.progressInterval||0,readTimeout:o.readTimeout||15e3,connectionTimeout:o.connectionTimeout||5e3,backgroundTimeout:o.backgroundTimeout||36e5,hasBeginCallback:o.begin instanceof Function,hasProgressCallback:o.progress instanceof Function,hasResumableCallback:o.resumable instanceof Function};return{jobId:t,promise:e.downloadFile(u).then(function(e){return s.forEach(function(e){return e.remove()}),e}).catch(function(e){return Promise.reject(e)})}},uploadFiles:function(o){if(!e.uploadFiles)return{jobId:-1,promise:Promise.reject(new Error('`uploadFiles` is unsupported on this platform'))};var t=l(),s=[];if('object'!=typeof o)throw new Error('uploadFiles: Invalid value for argument `options`');if('string'!=typeof o.toUrl)throw new Error('uploadFiles: Invalid value for property `toUrl`');if(!Array.isArray(o.files))throw new Error('uploadFiles: Invalid value for property `files`');if(o.headers&&'object'!=typeof o.headers)throw new Error('uploadFiles: Invalid value for property `headers`');if(o.fields&&'object'!=typeof o.fields)throw new Error('uploadFiles: Invalid value for property `fields`');if(o.method&&'string'!=typeof o.method)throw new Error('uploadFiles: Invalid value for property `method`');o.begin?s.push(n.addListener('UploadBegin',o.begin)):o.beginCallback&&s.push(n.addListener('UploadBegin',o.beginCallback)),o.progress?s.push(n.addListener('UploadProgress',o.progress)):o.progressCallback&&s.push(n.addListener('UploadProgress',o.progressCallback));var c={jobId:t,toUrl:o.toUrl,files:o.files,binaryStreamOnly:o.binaryStreamOnly||!1,headers:o.headers||{},fields:o.fields||{},method:o.method||'POST',hasBeginCallback:o.begin instanceof Function||o.beginCallback instanceof Function,hasProgressCallback:o.progress instanceof Function||o.progressCallback instanceof Function};return{jobId:t,promise:e.uploadFiles(c).then(function(e){return s.forEach(function(e){return e.remove()}),e})}},touch:function(n,o,t){if(t&&!(t instanceof Date))throw new Error('touch: Invalid value for argument `ctime`');if(o&&!(o instanceof Date))throw new Error('touch: Invalid value for argument `mtime`');return e.touch(c(n),o&&o.getTime(),0)},scanFile:function(n){return e.scanFile(n)},MainBundlePath:e.RNFSMainBundlePath,CachesDirectoryPath:e.RNFSCachesDirectoryPath,ExternalCachesDirectoryPath:e.RNFSExternalCachesDirectoryPath,DocumentDirectoryPath:e.RNFSDocumentDirectoryPath,DownloadDirectoryPath:e.RNFSDownloadDirectoryPath,ExternalDirectoryPath:e.RNFSExternalDirectoryPath,ExternalStorageDirectoryPath:e.RNFSExternalStorageDirectoryPath,TemporaryDirectoryPath:e.RNFSTemporaryDirectoryPath,LibraryDirectoryPath:e.RNFSLibraryDirectoryPath,PicturesDirectoryPath:e.RNFSPicturesDirectoryPath,FileProtectionKeys:e.RNFSFileProtectionKeys};m.exports=p},999,[2,1000,1001]);
__d(function(g,r,i,a,m,e,d){!(function(n){var t,o,u,f=String.fromCharCode;function c(n){for(var t,o,u=[],f=0,c=n.length;f<c;)(t=n.charCodeAt(f++))>=55296&&t<=56319&&f<c?56320==(64512&(o=n.charCodeAt(f++)))?u.push(((1023&t)<<10)+(1023&o)+65536):(u.push(t),f--):u.push(t);return u}function h(n){for(var t,o=n.length,u=-1,c='';++u<o;)(t=n[u])>65535&&(c+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),c+=f(t);return c}function v(n){if(n>=55296&&n<=57343)throw Error('Lone surrogate U+'+n.toString(16).toUpperCase()+' is not a scalar value')}function l(n,t){return f(n>>t&63|128)}function s(n){if(!(4294967168&n))return f(n);var t='';return 4294965248&n?4294901760&n?4292870144&n||(t=f(n>>18&7|240),t+=l(n,12),t+=l(n,6)):(v(n),t=f(n>>12&15|224),t+=l(n,6)):t=f(n>>6&31|192),t+=f(63&n|128)}function w(){if(u>=o)throw Error('Invalid byte index');var n=255&t[u];if(u++,128==(192&n))return 63&n;throw Error('Invalid continuation byte')}function E(){var n,f;if(u>o)throw Error('Invalid byte index');if(u==o)return!1;if(n=255&t[u],u++,!(128&n))return n;if(192==(224&n)){if((f=(31&n)<<6|w())>=128)return f;throw Error('Invalid continuation byte')}if(224==(240&n)){if((f=(15&n)<<12|w()<<6|w())>=2048)return v(f),f;throw Error('Invalid continuation byte')}if(240==(248&n)&&(f=(7&n)<<18|w()<<12|w()<<6|w())>=65536&&f<=1114111)return f;throw Error('Invalid UTF-8 detected')}n.version='3.0.0',n.encode=function(n){for(var t=c(n),o=t.length,u=-1,f='';++u<o;)f+=s(t[u]);return f},n.decode=function(n){t=c(n),o=t.length,u=0;for(var f,v=[];!1!==(f=E());)v.push(f);return h(v)}})(void 0===e?this.utf8={}:e)},1000,[]);
__d(function(g,r,i,_a,m,e,_d){!(function(t){var n='object'==typeof e&&e,o='object'==typeof m&&m&&m.exports==n&&m,a='object'==typeof g&&g;a.global!==a&&a.window!==a||(t=a);var c=function(t){this.message=t};(c.prototype=new Error).name='InvalidCharacterError';var h=function(t){throw new c(t)},d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',f=/[\t\n\f\r ]/g,s={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&h("The string to be encoded contains characters outside of the Latin1 range.");for(var n,o,a,c,f=t.length%3,s='',A=-1,l=t.length-f;++A<l;)n=t.charCodeAt(A)<<16,o=t.charCodeAt(++A)<<8,a=t.charCodeAt(++A),s+=d.charAt((c=n+o+a)>>18&63)+d.charAt(c>>12&63)+d.charAt(c>>6&63)+d.charAt(63&c);return 2==f?(n=t.charCodeAt(A)<<8,o=t.charCodeAt(++A),s+=d.charAt((c=n+o)>>10)+d.charAt(c>>4&63)+d.charAt(c<<2&63)+'='):1==f&&(c=t.charCodeAt(A),s+=d.charAt(c>>2)+d.charAt(c<<4&63)+'=='),s},decode:function(t){var n=(t=String(t).replace(f,'')).length;n%4==0&&(n=(t=t.replace(/==?$/,'')).length),(n%4==1||/[^+a-zA-Z0-9/]/.test(t))&&h('Invalid character: the string to be decoded is not correctly encoded.');for(var o,a,c=0,s='',A=-1;++A<n;)a=d.indexOf(t.charAt(A)),o=c%4?64*o+a:a,c++%4&&(s+=String.fromCharCode(255&o>>(-2*c&6)));return s},version:'0.1.0'};if('function'==typeof define&&'object'==typeof define.amd&&define.amd)define(function(){return s});else if(n&&!n.nodeType)if(o)o.exports=s;else for(var A in s)s.hasOwnProperty(A)&&(n[A]=s[A]);else t.base64=s})(this)},1001,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t={setGenericPassword:!0,getGenericPassword:!0,hasGenericPassword:!0,resetGenericPassword:!0,getAllGenericPasswordServices:!0,hasInternetCredentials:!0,setInternetCredentials:!0,getInternetCredentials:!0,resetInternetCredentials:!0,getSupportedBiometryType:!0,requestSharedWebCredentials:!0,setSharedWebCredentials:!0,canImplyAuthentication:!0,getSecurityLevel:!0,isPasscodeAuthAvailable:!0};e.canImplyAuthentication=A,e.default=void 0,e.getAllGenericPasswordServices=c,e.getGenericPassword=l,e.getInternetCredentials=S,e.getSecurityLevel=y,e.getSupportedBiometryType=C,e.hasGenericPassword=function(t){return s.hasGenericPasswordForOptions(t)},e.hasInternetCredentials=function(t){return s.hasInternetCredentialsForOptions(t)},e.isPasscodeAuthAvailable=O,e.requestSharedWebCredentials=h,e.resetGenericPassword=u,e.resetInternetCredentials=p,e.setGenericPassword=o,e.setInternetCredentials=P,e.setSharedWebCredentials=f;var n=r(d[0]);Object.keys(r(d[1])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r(d[1])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[1])[n]}}))}),Object.keys(r(d[2])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r(d[2])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[2])[n]}}))});var s=n.NativeModules.RNKeychainManager;function o(t,n,o){return s.setGenericPasswordForOptions((0,r(d[3]).normalizeAuthPrompt)(o),t,n)}function l(t){return s.getGenericPasswordForOptions((0,r(d[3]).normalizeAuthPrompt)(t))}function u(t){return s.resetGenericPasswordForOptions(t)}function c(t){return s.getAllGenericPasswordServices(t)}function P(t,n,o,l){return s.setInternetCredentialsForServer(t,n,o,(0,r(d[3]).normalizeAuthPrompt)(l))}function S(t,n){return s.getInternetCredentialsForServer(t,(0,r(d[3]).normalizeAuthPrompt)(n))}function p(t){return s.resetInternetCredentialsForOptions(t)}function C(){return s.getSupportedBiometryType?s.getSupportedBiometryType():Promise.resolve(null)}function h(){return'ios'!==n.Platform.OS?Promise.reject(new Error(`requestSharedWebCredentials() is not supported on ${n.Platform.OS} yet`)):s.requestSharedWebCredentials()}function f(t,o,l){return'ios'!==n.Platform.OS?Promise.reject(new Error(`setSharedWebCredentials() is not supported on ${n.Platform.OS} yet`)):s.setSharedWebCredentialsForServer(t,o,l)}function A(t){return s.canCheckAuthentication?s.canCheckAuthentication(t):Promise.resolve(!1)}function y(t){return s.getSecurityLevel?s.getSecurityLevel(t):Promise.resolve(null)}function O(){return s.isPasscodeAuthAvailable?s.isPasscodeAuthAvailable():Promise.resolve(!1)}e.default={SECURITY_LEVEL:r(d[1]).SECURITY_LEVEL,ACCESSIBLE:r(d[1]).ACCESSIBLE,ACCESS_CONTROL:r(d[1]).ACCESS_CONTROL,AUTHENTICATION_TYPE:r(d[1]).AUTHENTICATION_TYPE,BIOMETRY_TYPE:r(d[1]).BIOMETRY_TYPE,STORAGE_TYPE:r(d[1]).STORAGE_TYPE,getSecurityLevel:y,canImplyAuthentication:A,getSupportedBiometryType:C,setInternetCredentials:P,isPasscodeAuthAvailable:O,getInternetCredentials:S,resetInternetCredentials:p,setGenericPassword:o,getGenericPassword:l,getAllGenericPasswordServices:c,resetGenericPassword:u,requestSharedWebCredentials:h,setSharedWebCredentials:f}},1002,[2,1003,1004,1005]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.STORAGE_TYPE=e.SECURITY_LEVEL=e.BIOMETRY_TYPE=e.AUTHENTICATION_TYPE=e.ACCESS_CONTROL=e.ACCESSIBLE=void 0;var E=r(d[0]).NativeModules.RNKeychainManager;e.ACCESSIBLE=(function(E){return E.WHEN_UNLOCKED="AccessibleWhenUnlocked",E.AFTER_FIRST_UNLOCK="AccessibleAfterFirstUnlock",E.ALWAYS="AccessibleAlways",E.WHEN_PASSCODE_SET_THIS_DEVICE_ONLY="AccessibleWhenPasscodeSetThisDeviceOnly",E.WHEN_UNLOCKED_THIS_DEVICE_ONLY="AccessibleWhenUnlockedThisDeviceOnly",E.AFTER_FIRST_UNLOCK_THIS_DEVICE_ONLY="AccessibleAfterFirstUnlockThisDeviceOnly",E})({}),e.ACCESS_CONTROL=(function(E){return E.USER_PRESENCE="UserPresence",E.BIOMETRY_ANY="BiometryAny",E.BIOMETRY_CURRENT_SET="BiometryCurrentSet",E.DEVICE_PASSCODE="DevicePasscode",E.APPLICATION_PASSWORD="ApplicationPassword",E.BIOMETRY_ANY_OR_DEVICE_PASSCODE="BiometryAnyOrDevicePasscode",E.BIOMETRY_CURRENT_SET_OR_DEVICE_PASSCODE="BiometryCurrentSetOrDevicePasscode",E})({}),e.AUTHENTICATION_TYPE=(function(E){return E.DEVICE_PASSCODE_OR_BIOMETRICS="AuthenticationWithBiometricsDevicePasscode",E.BIOMETRICS="AuthenticationWithBiometrics",E})({}),e.SECURITY_LEVEL=(function(_){return _[_.SECURE_SOFTWARE=E&&E.SECURITY_LEVEL_SECURE_SOFTWARE]="SECURE_SOFTWARE",_[_.SECURE_HARDWARE=E&&E.SECURITY_LEVEL_SECURE_HARDWARE]="SECURE_HARDWARE",_[_.ANY=E&&E.SECURITY_LEVEL_ANY]="ANY",_})({}),e.BIOMETRY_TYPE=(function(E){return E.TOUCH_ID="TouchID",E.FACE_ID="FaceID",E.OPTIC_ID="OpticID",E.FINGERPRINT="Fingerprint",E.FACE="Face",E.IRIS="Iris",E})({}),e.STORAGE_TYPE=(function(E){return E.AES_CBC="KeystoreAESCBC",E.AES_GCM_NO_AUTH="KeystoreAESGCM_NoAuth",E.AES_GCM="KeystoreAESGCM",E.RSA="KeystoreRSAECB",E})({})},1003,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},1004,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.AUTH_PROMPT_DEFAULTS=void 0,e.normalizeAuthPrompt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.authenticationPrompt;return n.authenticationPrompt=Object.assign({},t,o),n};var t=e.AUTH_PROMPT_DEFAULTS={title:'Authenticate to retrieve secret',cancel:'Cancel'}},1005,[]);
__d(function(g,r,_i,_a,_m,_e,d){
/*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */
'use strict';var t=r(d[0]),e=r(d[1]),n=r(d[2]),i=r(d[3]),o=r(d[4]);function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}var u='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;_e.Buffer=a,_e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},_e.INSPECT_MAX_BYTES=50;var s=2147483647;function h(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,n){if('number'==typeof t){if('string'==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return y(t)}return p(t,e,n)}function p(t,e,n){if('string'==typeof t)return w(t,e);if(ArrayBuffer.isView(t))return b(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(st(t,ArrayBuffer)||t&&st(t.buffer,ArrayBuffer))return B(t,e,n);if('undefined'!=typeof SharedArrayBuffer&&(st(t,SharedArrayBuffer)||t&&st(t.buffer,SharedArrayBuffer)))return B(t,e,n);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return a.from(i,e,n);var o=E(t);if(o)return o;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]('string'),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t,e,n){return c(t),t<=0?h(t):void 0!==e?'string'==typeof n?h(t).fill(e,n):h(t).fill(e):h(t)}function y(t){return c(t),h(t<0?0:0|m(t))}function w(t,e){if('string'==typeof e&&''!==e||(e='utf8'),!a.isEncoding(e))throw new TypeError('Unknown encoding: '+e);var n=0|I(t,e),i=h(n),o=i.write(t,e);return o!==n&&(i=i.slice(0,o)),i}function v(t){for(var e=t.length<0?0:0|m(t.length),n=h(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function b(t){if(st(t,Uint8Array)){var e=new Uint8Array(t);return B(e.buffer,e.byteOffset,e.byteLength)}return v(t)}function B(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,a.prototype),i}function E(t){if(a.isBuffer(t)){var e=0|m(t.length),n=h(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?'number'!=typeof t.length||ht(t.length)?h(0):v(t):'Buffer'===t.type&&Array.isArray(t.data)?v(t.data):void 0}function m(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+' bytes');return 0|t}function I(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||st(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(e){case'ascii':case'latin1':case'binary':return n;case'utf8':case'utf-8':return nt(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n;case'hex':return n>>>1;case'base64':return ft(t).length;default:if(o)return i?-1:nt(t).length;e=(''+e).toLowerCase(),o=!0}}function U(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),n<=0)return'';if((n>>>=0)<=(e>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return M(this,e,n);case'utf8':case'utf-8':return P(this,e,n);case'ascii':return N(this,e,n);case'latin1':case'binary':return F(this,e,n);case'base64':return x(this,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return j(this,e,n);default:if(i)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),i=!0}}function A(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function R(t,e,n,i,o){if(0===t.length)return-1;if('string'==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),ht(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if('string'==typeof e&&(e=a.from(e,i)),a.isBuffer(e))return 0===e.length?-1:T(t,e,n,i,o);if('number'==typeof e)return e&=255,'function'==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):T(t,[e],n,i,o);throw new TypeError('val must be string, number or Buffer')}function T(t,e,n,i,o){var f,u=1,s=t.length,h=e.length;if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(t.length<2||e.length<2)return-1;u=2,s/=2,h/=2,n/=2}function a(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(o){var p=-1;for(f=n;f<s;f++)if(a(t,f)===a(e,-1===p?0:f-p)){if(-1===p&&(p=f),f-p+1===h)return p*u}else-1!==p&&(f-=f-p),p=-1}else for(n+h>s&&(n=s-h),f=n;f>=0;f--){for(var c=!0,l=0;l<h;l++)if(a(t,f+l)!==a(e,l)){c=!1;break}if(c)return f}return-1}function O(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var f,u=e.length;for(i>u/2&&(i=u/2),f=0;f<i;++f){var s=parseInt(e.substr(2*f,2),16);if(ht(s))return f;t[n+f]=s}return f}function L(t,e,n,i){return ut(nt(e,t.length-n),t,n,i)}function _(t,e,n,i){return ut(it(e),t,n,i)}function S(t,e,n,i){return ut(ft(e),t,n,i)}function $(t,e,n,i){return ut(ot(e,t.length-n),t,n,i)}function x(t,e,n){return 0===e&&n===t.length?r(d[5]).fromByteArray(t):r(d[5]).fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var f=t[o],u=null,s=f>239?4:f>223?3:f>191?2:1;if(o+s<=n){var h=void 0,a=void 0,p=void 0,c=void 0;switch(s){case 1:f<128&&(u=f);break;case 2:128==(192&(h=t[o+1]))&&(c=(31&f)<<6|63&h)>127&&(u=c);break;case 3:h=t[o+1],a=t[o+2],128==(192&h)&&128==(192&a)&&(c=(15&f)<<12|(63&h)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:h=t[o+1],a=t[o+2],p=t[o+3],128==(192&h)&&128==(192&a)&&128==(192&p)&&(c=(15&f)<<18|(63&h)<<12|(63&a)<<6|63&p)>65535&&c<1114112&&(u=c)}}null===u?(u=65533,s=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=s}return C(i)}_e.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=(function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}})(),a.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,'parent',{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,'offset',{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,n){return p(t,e,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,n){return l(t,e,n)},a.allocUnsafe=function(t){return y(t)},a.allocUnsafeSlow=function(t){return y(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(st(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),st(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,o=0,f=Math.min(n,i);o<f;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=a.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var f=t[n];if(st(f,Uint8Array))o+f.length>i.length?(a.isBuffer(f)||(f=a.from(f)),f.copy(i,o)):Uint8Array.prototype.set.call(i,f,o);else{if(!a.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(i,o)}o+=f.length}return i},a.byteLength=I,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var e=0;e<t;e+=2)A(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var e=0;e<t;e+=4)A(this,e,e+3),A(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var e=0;e<t;e+=8)A(this,e,e+7),A(this,e+1,e+6),A(this,e+2,e+5),A(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?'':0===arguments.length?P(this,0,t):U.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t='',e=_e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,e).replace(/(.{2})/g,'$1 ').trim(),this.length>e&&(t+=' ... '),'<Buffer '+t+'>'},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(t,e,n,i,o){if(st(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError('out of range index');if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var f=(o>>>=0)-(i>>>=0),u=(n>>>=0)-(e>>>=0),s=Math.min(f,u),h=this.slice(i,o),p=t.slice(e,n),c=0;c<s;++c)if(h[c]!==p[c]){f=h[c],u=p[c];break}return f<u?-1:u<f?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return R(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return R(this,t,e,n,!1)},a.prototype.write=function(t,e,n,i){if(void 0===e)i='utf8',n=this.length,e=0;else if(void 0===n&&'string'==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');for(var f=!1;;)switch(i){case'hex':return O(this,t,e,n);case'utf8':case'utf-8':return L(this,t,e,n);case'ascii':case'latin1':case'binary':return _(this,t,e,n);case'base64':return S(this,t,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return $(this,t,e,n);default:if(f)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function C(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);for(var n='',i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=k));return n}function N(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function F(t,e,n){var i='';n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function M(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o='',f=e;f<n;++f)o+=at[t[f]];return o}function j(t,e,n){for(var i=t.slice(e,n),o='',f=0;f<i.length-1;f+=2)o+=String.fromCharCode(i[f]+256*i[f+1]);return o}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+e>n)throw new RangeError('Trying to access beyond buffer length')}function z(t,e,n,i,o,f){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<f)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError('Index out of range')}function Y(t,e,n,i,o){K(e,i,o,t,n,7);var f=Number(e&BigInt(4294967295));t[n++]=f,f>>=8,t[n++]=f,f>>=8,t[n++]=f,f>>=8,t[n++]=f;var u=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=u,u>>=8,t[n++]=u,u>>=8,t[n++]=u,u>>=8,t[n++]=u,n}function G(t,e,n,i,o){K(e,i,o,t,n,7);var f=Number(e&BigInt(4294967295));t[n+7]=f,f>>=8,t[n+6]=f,f>>=8,t[n+5]=f,f>>=8,t[n+4]=f;var u=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=u,u>>=8,t[n+2]=u,u>>=8,t[n+1]=u,u>>=8,t[n]=u,n+8}function V(t,e,n,i,o,f){if(n+i>t.length)throw new RangeError('Index out of range');if(n<0)throw new RangeError('Index out of range')}function q(t,e,n,i,o){return e=+e,n>>>=0,o||V(t,0,n,4),r(d[6]).write(t,e,n,i,23,4),n+4}function W(t,e,n,i,o){return e=+e,n>>>=0,o||V(t,0,n,8),r(d[6]).write(t,e,n,i,52,8),n+8}a.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,a.prototype),i},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=pt(function(t){Q(t>>>=0,'offset');var e=this[t],n=this[t+7];void 0!==e&&void 0!==n||tt(t,this.length-8);var i=e+256*this[++t]+65536*this[++t]+16777216*this[++t],o=this[++t]+256*this[++t]+65536*this[++t]+16777216*n;return BigInt(i)+(BigInt(o)<<BigInt(32))}),a.prototype.readBigUInt64BE=pt(function(t){Q(t>>>=0,'offset');var e=this[t],n=this[t+7];void 0!==e&&void 0!==n||tt(t,this.length-8);var i=16777216*e+65536*this[++t]+256*this[++t]+this[++t],o=16777216*this[++t]+65536*this[++t]+256*this[++t]+n;return(BigInt(i)<<BigInt(32))+BigInt(o)}),a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);for(var i=this[t],o=1,f=0;++f<e&&(o*=256);)i+=this[t+f]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);for(var i=e,o=1,f=this[t+--i];i>0&&(o*=256);)f+=this[t+--i]*o;return f>=(o*=128)&&(f-=Math.pow(2,8*e)),f},a.prototype.readInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=pt(function(t){Q(t>>>=0,'offset');var e=this[t],n=this[t+7];void 0!==e&&void 0!==n||tt(t,this.length-8);var i=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),a.prototype.readBigInt64BE=pt(function(t){Q(t>>>=0,'offset');var e=this[t],n=this[t+7];void 0!==e&&void 0!==n||tt(t,this.length-8);var i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+n)}),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||D(t,4,this.length),r(d[6]).read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||D(t,4,this.length),r(d[6]).read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||D(t,8,this.length),r(d[6]).read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||D(t,8,this.length),r(d[6]).read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||z(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,f=0;for(this[e]=255&t;++f<n&&(o*=256);)this[e+f]=t/o&255;return e+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||z(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,f=1;for(this[e+o]=255&t;--o>=0&&(f*=256);)this[e+o]=t/f&255;return e+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=pt(function(t){return Y(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt('0xffffffffffffffff'))}),a.prototype.writeBigUInt64BE=pt(function(t){return G(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt('0xffffffffffffffff'))}),a.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var f=0,u=1,s=0;for(this[e]=255&t;++f<n&&(u*=256);)t<0&&0===s&&0!==this[e+f-1]&&(s=1),this[e+f]=(t/u|0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var o=Math.pow(2,8*n-1);z(this,t,e,n,o-1,-o)}var f=n-1,u=1,s=0;for(this[e+f]=255&t;--f>=0&&(u*=256);)t<0&&0===s&&0!==this[e+f+1]&&(s=1),this[e+f]=(t/u|0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=pt(function(t){return Y(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt('0x8000000000000000'),BigInt('0x7fffffffffffffff'))}),a.prototype.writeBigInt64BE=pt(function(t){return G(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt('0x8000000000000000'),BigInt('0x7fffffffffffffff'))}),a.prototype.writeFloatLE=function(t,e,n){return q(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return q(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return W(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return W(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,i){if(!a.isBuffer(t))throw new TypeError('argument should be a Buffer');if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError('targetStart out of bounds');if(n<0||n>=this.length)throw new RangeError('Index out of range');if(i<0)throw new RangeError('sourceEnd out of bounds');i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o},a.prototype.fill=function(t,e,n,i){if('string'==typeof t){if('string'==typeof e?(i=e,e=0,n=this.length):'string'==typeof n&&(i=n,n=this.length),void 0!==i&&'string'!=typeof i)throw new TypeError('encoding must be a string');if('string'==typeof i&&!a.isEncoding(i))throw new TypeError('Unknown encoding: '+i);if(1===t.length){var o=t.charCodeAt(0);('utf8'===i&&o<128||'latin1'===i)&&(t=o)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError('Out of range index');if(n<=e)return this;var f;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),'number'==typeof t)for(f=e;f<n;++f)this[f]=t;else{var u=a.isBuffer(t)?t:a.from(t,i),s=u.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(f=0;f<n-e;++f)this[f+e]=u[f%s]}return this};var X={};function J(u,s,h){X[u]=(function(h){function a(){var e,o,h,p;return t(this,a),o=this,h=i(h=a),e=n(o,f()?Reflect.construct(h,p||[],i(o).constructor):h.apply(o,p)),Object.defineProperty(e,'message',{value:s.apply(e,arguments),writable:!0,configurable:!0}),e.name=`${e.name} [${u}]`,e.stack,delete e.name,e}return o(a,h),e(a,[{key:"code",get:function(){return u},set:function(t){Object.defineProperty(this,'code',{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"toString",value:function(){return`${this.name} [${u}]: ${this.message}`}}])})(h)}function Z(t){for(var e='',n=t.length,i='-'===t[0]?1:0;n>=i+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function H(t,e,n){Q(e,'offset'),void 0!==t[e]&&void 0!==t[e+n]||tt(e,t.length-(n+1))}function K(t,e,n,i,o,f){if(t>n||t<e){var u,s='bigint'==typeof e?'n':'';throw u=f>3?0===e||e===BigInt(0)?`>= 0${s} and < 2${s} ** ${8*(f+1)}${s}`:`>= -(2${s} ** ${8*(f+1)-1}${s}) and < 2 ** ${8*(f+1)-1}${s}`:`>= ${e}${s} and <= ${n}${s}`,new X.ERR_OUT_OF_RANGE('value',u,t)}H(i,o,f)}function Q(t,e){if('number'!=typeof t)throw new X.ERR_INVALID_ARG_TYPE(e,'number',t)}function tt(t,e,n){if(Math.floor(t)!==t)throw Q(t,n),new X.ERR_OUT_OF_RANGE(n||'offset','an integer',t);if(e<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(n||'offset',`>= ${n?1:0} and <= ${e}`,t)}J('ERR_BUFFER_OUT_OF_BOUNDS',function(t){return t?`${t} is outside of buffer bounds`:'Attempt to access memory outside buffer bounds'},RangeError),J('ERR_INVALID_ARG_TYPE',function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),J('ERR_OUT_OF_RANGE',function(t,e,n){var i=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?o=Z(String(n)):'bigint'==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=Z(o)),o+='n'),i+=` It must be ${e}. Received ${o}`},RangeError);var rt=/[^+/0-9A-Za-z-_]/g;function et(t){if((t=(t=t.split('=')[0]).trim().replace(rt,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function nt(t,e){var n;e=e||1/0;for(var i=t.length,o=null,f=[],u=0;u<i;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(u+1===i){(e-=3)>-1&&f.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&f.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&f.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;f.push(n)}else if(n<2048){if((e-=2)<0)break;f.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;f.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error('Invalid code point');if((e-=4)<0)break;f.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return f}function it(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function ot(t,e){for(var n,i,o,f=[],u=0;u<t.length&&!((e-=2)<0);++u)i=(n=t.charCodeAt(u))>>8,o=n%256,f.push(o),f.push(i);return f}function ft(t){return r(d[5]).toByteArray(et(t))}function ut(t,e,n,i){var o;for(o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function st(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function ht(t){return t!=t}var at=(function(){for(var t='0123456789abcdef',e=new Array(256),n=0;n<16;++n)for(var i=16*n,o=0;o<16;++o)e[i+o]=t[n]+t[o];return e})();function pt(t){return'undefined'==typeof BigInt?ct:t}function ct(){throw new Error('BigInt not supported')}},1006,[11,12,18,20,23,199,1007]);
__d(function(g,r,_i,a,_m,_e,_d){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
_e.read=function(o,t,h,M,f){var w,p,i=8*f-M-1,n=(1<<i)-1,N=n>>1,e=-7,u=h?f-1:0,s=h?-1:1,c=o[t+u];for(u+=s,w=c&(1<<-e)-1,c>>=-e,e+=i;e>0;w=256*w+o[t+u],u+=s,e-=8);for(p=w&(1<<-e)-1,w>>=-e,e+=M;e>0;p=256*p+o[t+u],u+=s,e-=8);if(0===w)w=1-N;else{if(w===n)return p?NaN:1/0*(c?-1:1);p+=Math.pow(2,M),w-=N}return(c?-1:1)*p*Math.pow(2,w-M)},_e.write=function(o,t,h,M,f,w){var p,i,n,N=8*w-f-1,e=(1<<N)-1,u=e>>1,s=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,c=M?0:w-1,l=M?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,p=e):(p=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-p))<1&&(p--,n*=2),(t+=p+u>=1?s/n:s*Math.pow(2,1-u))*n>=2&&(p++,n/=2),p+u>=e?(i=0,p=e):p+u>=1?(i=(t*n-1)*Math.pow(2,f),p+=u):(i=t*Math.pow(2,u-1)*Math.pow(2,f),p=0));f>=8;o[h+c]=255&i,c+=l,i/=256,f-=8);for(p=p<<f|i,N+=f;N>0;o[h+c]=255&p,c+=l,p/=256,N-=8);o[h+c-l]|=128*d}},1007,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.typography=e.spacing=e.focusStyle=e.components=e.colors=void 0;var t=r(d[0]),o=e.colors={bg:'#000000',bgSecondary:'#1a1a1a',bgHighlight:'#333333',text:'#FFFFFF',textSecondary:'#AAAAAA',textMuted:'#666666',primary:'#00AAFF',primaryDark:'#0088CC',recording:'#FF3333',playing:'#33FF33',error:'#FF6666',focus:'#FFAA00'},n=e.typography={title:{fontSize:24,fontWeight:'bold',color:o.text},header:{fontSize:20,fontWeight:'600',color:o.text},large:{fontSize:18,color:o.text},body:{fontSize:16,color:o.text},small:{fontSize:14,color:o.textSecondary},status:{fontSize:20,fontWeight:'bold',color:o.text}},l=e.spacing={xs:4,sm:8,md:12,lg:16};e.focusStyle={borderWidth:3,borderColor:o.focus},e.components=t.StyleSheet.create({screen:{flex:1,backgroundColor:o.bg},listItem:{backgroundColor:o.bgSecondary,paddingVertical:l.md,paddingHorizontal:l.md,borderWidth:2,borderColor:'transparent',marginBottom:l.xs},listItemFocused:{borderColor:o.focus,backgroundColor:o.bgHighlight},listItemText:Object.assign({},n.large),button:{backgroundColor:o.primary,paddingVertical:l.md,paddingHorizontal:l.lg,alignItems:'center',justifyContent:'center',borderWidth:2,borderColor:'transparent'},buttonFocused:{borderColor:o.focus,backgroundColor:o.primaryDark},buttonText:Object.assign({},n.large,{fontWeight:'600'}),input:{backgroundColor:o.bgSecondary,paddingVertical:l.sm,paddingHorizontal:l.md,fontSize:18,color:o.text,borderWidth:2,borderColor:'transparent',marginBottom:l.sm},inputFocused:{borderColor:o.focus},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',paddingVertical:l.sm,paddingHorizontal:l.md,backgroundColor:o.bgSecondary,borderBottomWidth:1,borderBottomColor:o.bgHighlight},headerTitle:Object.assign({},n.header,{flex:1,textAlign:'center'}),statusBar:{paddingVertical:l.sm,paddingHorizontal:l.md,alignItems:'center'},statusText:Object.assign({},n.status),emptyState:{flex:1,justifyContent:'center',alignItems:'center',padding:l.lg},emptyText:Object.assign({},n.body,{color:o.textMuted,textAlign:'center'}),loading:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:o.bg},loadingText:Object.assign({},n.body,{marginTop:l.md})})},1008,[2]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.LoginScreen=function(e){var u=e.onLoginSuccess,l=(0,r.useState)(''),c=(0,n.default)(l,2),p=c[0],f=c[1],y=(0,r.useState)(''),x=(0,n.default)(y,2),b=x[0],h=x[1],j=(0,r.useState)(null),T=(0,n.default)(j,2),O=T[0],v=T[1],w=(0,_r(d[6]).useAuth)(),S=w.login,F=w.isLoading,_=w.error,C=(0,r.useRef)(null),M=(function(){var e=(0,t.default)(function*(){if(p.trim()&&b.trim())try{yield S(p.trim(),b),u()}catch(e){}});return function(){return e.apply(this,arguments)}})();return(0,s.jsxs)(o.View,{style:i.container,children:[(0,s.jsx)(o.View,{style:i.header,children:(0,s.jsx)(o.Text,{style:i.title,children:"WATA"})}),(0,s.jsxs)(o.View,{style:i.form,children:[(0,s.jsx)(o.TextInput,{style:[i.input,'username'===O&&i.inputFocused],placeholder:"Username",placeholderTextColor:_r(d[7]).colors.textMuted,value:p,onChangeText:f,autoCapitalize:"none",autoCorrect:!1,editable:!F,onFocus:function(){return v('username')},onBlur:function(){return v(null)},onSubmitEditing:function(){var e;return null==(e=C.current)?void 0:e.focus()},returnKeyType:"next"}),(0,s.jsx)(o.TextInput,{ref:C,style:[i.input,'password'===O&&i.inputFocused],placeholder:"Password",placeholderTextColor:_r(d[7]).colors.textMuted,value:b,onChangeText:h,secureTextEntry:!0,editable:!F,onFocus:function(){return v('password')},onBlur:function(){return v(null)},onSubmitEditing:M,returnKeyType:"go"}),_&&(0,s.jsx)(o.Text,{style:i.error,children:_}),(0,s.jsx)(_r(d[8]).FocusablePressable,{style:[i.button,F&&i.buttonDisabled],focusedStyle:i.buttonFocused,onPress:M,disabled:F||!p.trim()||!b.trim(),children:F?(0,s.jsx)(o.ActivityIndicator,{color:_r(d[7]).colors.text,size:"small"}):(0,s.jsx)(o.Text,{style:i.buttonText,children:"CONNECT"})})]}),(0,s.jsx)(o.View,{style:i.footer,children:(0,s.jsx)(o.Text,{style:i.hint,children:"matrix.org"})})]})};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,s,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(s.get||s.set)?o(i,u,s):i[u]=e[u]);return i})(e,t)})(_r(d[3])),o=_r(d[4]),s=_r(d[5]);var i=o.StyleSheet.create({container:Object.assign({},_r(d[7]).components.screen,{paddingHorizontal:_r(d[7]).spacing.md}),header:{paddingVertical:_r(d[7]).spacing.lg,alignItems:'center'},title:Object.assign({},_r(d[7]).typography.title,{letterSpacing:4}),form:{flex:1,justifyContent:'center'},input:Object.assign({},_r(d[7]).components.input),inputFocused:Object.assign({},_r(d[7]).components.inputFocused),button:Object.assign({},_r(d[7]).components.button,{marginTop:_r(d[7]).spacing.md}),buttonFocused:Object.assign({},_r(d[7]).components.buttonFocused),buttonDisabled:{opacity:.5},buttonText:Object.assign({},_r(d[7]).components.buttonText),error:Object.assign({},_r(d[7]).typography.small,{color:_r(d[7]).colors.error,textAlign:'center',marginBottom:_r(d[7]).spacing.sm}),footer:{paddingVertical:_r(d[7]).spacing.md,alignItems:'center'},hint:Object.assign({},_r(d[7]).typography.small,{color:_r(d[7]).colors.textMuted})})},1009,[1,356,34,75,2,244,1010,1008,1011]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useAuth=function(){var t=(0,c.useState)(!1),u=(0,o.default)(t,2),f=u[0],s=u[1],l=(0,c.useState)(!0),S=(0,o.default)(l,2),v=S[0],y=S[1],x=(0,c.useState)(null),E=(0,o.default)(x,2),h=E[0],p=E[1];(0,c.useEffect)(function(){var t=(function(){var t=(0,n.default)(function*(){try{var t=yield r(d[5]).matrixService.restoreSession();s(t)}catch(t){s(!1)}finally{y(!1)}});return function(){return t.apply(this,arguments)}})();t()},[]);var R=(0,c.useCallback)((function(){var t=(0,n.default)(function*(t,n){y(!0),p(null);try{yield r(d[5]).matrixService.login(t,n),s(!0)}catch(t){throw p(t instanceof Error?t.message:'Login failed'),t}finally{y(!1)}});return function(n,u){return t.apply(this,arguments)}})(),[]),M=(0,c.useCallback)((0,n.default)(function*(){y(!0);try{yield r(d[5]).matrixService.logout(),s(!1)}finally{y(!1)}}),[]);return{isLoggedIn:f,isLoading:v,error:h,login:R,logout:M}},e.useMatrixSync=function(){var t=(0,c.useState)('STOPPED'),n=(0,o.default)(t,2),u=n[0],f=n[1],s=(0,c.useState)(!1),l=(0,o.default)(s,2),S=l[0],v=l[1];return(0,c.useEffect)(function(){return r(d[5]).matrixService.onSyncStateChange(function(t){f(t),v('PREPARED'===t||'SYNCING'===t)})},[]),{syncState:u,isReady:S}},e.useRooms=function(){var t=(0,c.useState)([]),n=(0,o.default)(t,2),u=n[0],f=n[1];return(0,c.useEffect)(function(){return f(r(d[5]).matrixService.getDirectRooms()),r(d[5]).matrixService.onRoomUpdate(function(t){f(t)})},[]),u},e.useVoiceMessages=function(t){var n=(0,c.useState)([]),f=(0,o.default)(n,2),s=f[0],l=f[1];return(0,c.useEffect)(function(){return l(r(d[5]).matrixService.getVoiceMessages(t)),r(d[5]).matrixService.onNewVoiceMessage(function(n,o){n===t&&l(function(t){return[].concat((0,u.default)(t),[o])})})},[t]),s};var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=r(d[4])},1010,[1,356,42,34,75,735]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.FocusablePressable=function(e){var c=e.style,s=e.focusedStyle,f=e.children,i=e.onFocus,p=e.onBlur,y=(0,n.default)(e,o),b=(0,r.useState)(!1),_=(0,t.default)(b,2),v=_[0],j=_[1],O=(0,r.useCallback)(function(e){j(!0),null==i||i(e)},[i]),P=(0,r.useCallback)(function(e){j(!1),null==p||p(e)},[p]);return(0,l.jsx)(u.Pressable,Object.assign({style:[c,v&&s],onFocus:O,onBlur:P},y,{children:f}))};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((l=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(l.get||l.set)?u(o,c,l):o[c]=e[c]);return o})(e,t)})(_r(d[3])),u=_r(d[4]),l=_r(d[5]),o=["style","focusedStyle","children","onFocus","onBlur"]},1011,[1,34,4,75,2,244]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ContactListScreen=function(t){var c=t.onSelectContact,l=t.onLogout,y=(0,r(d[4]).useRooms)(),p=(0,r(d[4]).useMatrixSync)(),u=p.isReady,x=p.syncState,j=y.filter(function(t){return t.isDirect});if(!u)return(0,n.jsxs)(s.View,{style:o.loading,children:[(0,n.jsx)(s.ActivityIndicator,{size:"large",color:r(d[6]).colors.primary}),(0,n.jsx)(s.Text,{style:o.loadingText,children:"Syncing..."}),(0,n.jsx)(s.Text,{style:o.syncState,children:x})]});return(0,n.jsxs)(s.View,{style:o.container,children:[(0,n.jsxs)(s.View,{style:o.header,children:[(0,n.jsx)(s.Text,{style:o.title,children:"Contacts"}),(0,n.jsx)(r(d[5]).FocusablePressable,{style:o.logoutButton,focusedStyle:o.logoutButtonFocused,onPress:l,children:(0,n.jsx)(s.Text,{style:o.logoutText,children:"Exit"})})]}),0===j.length?(0,n.jsxs)(s.View,{style:o.emptyContainer,children:[(0,n.jsx)(s.Text,{style:o.emptyText,children:"No contacts"}),(0,n.jsx)(s.Text,{style:o.emptyHint,children:"Start chat in Element"})]}):(0,n.jsx)(s.FlatList,{data:j,keyExtractor:function(t){return t.roomId},renderItem:function(t){var l=t.item;return(0,n.jsxs)(r(d[5]).FocusablePressable,{style:o.contactItem,focusedStyle:o.contactItemFocused,onPress:function(){return c(l.roomId,l.name)},children:[(0,n.jsx)(s.Text,{style:o.contactName,numberOfLines:1,children:l.name}),l.lastMessage&&(0,n.jsx)(s.Text,{style:o.lastMessage,numberOfLines:1,children:l.lastMessage})]})},contentContainerStyle:o.list})]})};t(r(d[1]));var s=r(d[2]),n=r(d[3]);var o=s.StyleSheet.create({container:Object.assign({},r(d[6]).components.screen),loading:Object.assign({},r(d[6]).components.loading),loadingText:Object.assign({},r(d[6]).components.loadingText),syncState:Object.assign({},r(d[6]).typography.small,{color:r(d[6]).colors.textMuted,marginTop:r(d[6]).spacing.xs}),header:Object.assign({},r(d[6]).components.header),title:Object.assign({},r(d[6]).typography.header),logoutButton:{paddingVertical:r(d[6]).spacing.xs,paddingHorizontal:r(d[6]).spacing.sm,borderWidth:2,borderColor:'transparent'},logoutButtonFocused:{borderColor:r(d[6]).colors.focus},logoutText:Object.assign({},r(d[6]).typography.body,{color:r(d[6]).colors.primary}),list:{paddingVertical:r(d[6]).spacing.sm,paddingHorizontal:r(d[6]).spacing.sm},contactItem:Object.assign({},r(d[6]).components.listItem),contactItemFocused:Object.assign({},r(d[6]).components.listItemFocused),contactName:Object.assign({},r(d[6]).typography.large,{fontWeight:'600'}),lastMessage:Object.assign({},r(d[6]).typography.small,{marginTop:r(d[6]).spacing.xs}),emptyContainer:Object.assign({},r(d[6]).components.emptyState),emptyText:Object.assign({},r(d[6]).typography.body,{color:r(d[6]).colors.textSecondary}),emptyHint:Object.assign({},r(d[6]).typography.small,{marginTop:r(d[6]).spacing.xs})})},1012,[1,75,2,244,1010,1011,1008]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ChatScreen=function(e){var i=e.roomId,c=e.roomName,l=e.onBack,u=(0,_r(d[5]).useVoiceMessages)(i),p=(0,_r(d[6]).useAudioRecorder)(),y=p.isRecording,f=p.recordingDuration,h=p.startRecording,x=p.stopRecording,b=p.formatDuration,j=(0,_r(d[6]).useAudioPlayer)(),v=j.isPlaying,w=j.currentUri,T=j.play,V=j.stop,k=(0,r.useRef)(new n.Animated.Value(1)).current,C=(0,r.useRef)(null);(0,r.useEffect)(function(){y?n.Animated.loop(n.Animated.sequence([n.Animated.timing(k,{toValue:.3,duration:400,useNativeDriver:!0}),n.Animated.timing(k,{toValue:1,duration:400,useNativeDriver:!0})])).start():k.setValue(1)},[y,k]),(0,r.useEffect)(function(){u.length>0&&setTimeout(function(){var e;null==(e=C.current)||e.scrollToEnd({animated:!0})},100)},[u.length]);var O=(function(){var e=(0,t.default)(function*(){try{yield h()}catch(e){console.error('Failed to start recording:',e)}});return function(){return e.apply(this,arguments)}})(),I=(function(){var e=(0,t.default)(function*(){try{var e=yield x();yield _r(d[7]).matrixService.sendVoiceMessage(i,e.uri,e.mimeType,e.duration,e.size)}catch(e){console.error('Failed to send voice message:',e)}});return function(){return e.apply(this,arguments)}})();(0,r.useEffect)(function(){return g.pttPress=O,g.pttRelease=I,function(){delete g.pttPress,delete g.pttRelease}});var R=(function(){var e=(0,t.default)(function*(e){v&&w===e.audioUrl?yield V():yield T(e.audioUrl)});return function(t){return e.apply(this,arguments)}})();return(0,o.jsxs)(n.View,{style:s.container,children:[(0,o.jsxs)(n.View,{style:s.header,children:[(0,o.jsx)(_r(d[8]).FocusablePressable,{style:s.backButton,focusedStyle:s.backButtonFocused,onPress:l,children:(0,o.jsx)(n.Text,{style:s.backText,children:'<'})}),(0,o.jsx)(n.Text,{style:s.title,numberOfLines:1,children:c})]}),y?(0,o.jsx)(n.Animated.View,{style:[s.recordingBar,{opacity:k}],children:(0,o.jsxs)(n.Text,{style:s.recordingText,children:["REC ",b(f)]})}):(0,o.jsx)(n.View,{style:s.statusBar,children:(0,o.jsx)(n.Text,{style:s.statusText,children:"PTT to record"})}),(0,o.jsx)(n.FlatList,{ref:C,data:u,keyExtractor:function(e){return e.eventId},renderItem:function(e){var t=e.item,r=v&&w===t.audioUrl;return(0,o.jsx)(_r(d[8]).FocusablePressable,{style:[s.messageItem,t.isOwn?s.ownMessage:s.otherMessage],focusedStyle:s.messageItemFocused,onPress:function(){return R(t)},children:(0,o.jsxs)(n.View,{style:s.messageRow,children:[(0,o.jsx)(n.View,{style:[s.playIcon,r&&s.playIconActive]}),(0,o.jsx)(n.Text,{style:s.duration,children:b(t.duration)}),(0,o.jsx)(n.Text,{style:s.sender,numberOfLines:1,children:t.isOwn?'You':t.senderName})]})})},contentContainerStyle:s.messageList,ListEmptyComponent:(0,o.jsx)(n.View,{style:s.emptyContainer,children:(0,o.jsx)(n.Text,{style:s.emptyText,children:"No messages"})})})]})};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,s,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,i)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(s.get||s.set)?o(i,c,s):i[c]=e[c]);return i})(e,t)})(_r(d[2])),n=_r(d[3]),o=_r(d[4]);var s=n.StyleSheet.create({container:Object.assign({},_r(d[9]).components.screen),header:{flexDirection:'row',alignItems:'center',paddingVertical:_r(d[9]).spacing.sm,paddingHorizontal:_r(d[9]).spacing.sm,backgroundColor:_r(d[9]).colors.bgSecondary,borderBottomWidth:1,borderBottomColor:_r(d[9]).colors.bgHighlight},backButton:{paddingVertical:_r(d[9]).spacing.xs,paddingHorizontal:_r(d[9]).spacing.sm,borderWidth:2,borderColor:'transparent'},backButtonFocused:{borderColor:_r(d[9]).colors.focus},backText:Object.assign({},_r(d[9]).typography.large,{color:_r(d[9]).colors.primary,fontWeight:'bold'}),title:Object.assign({},_r(d[9]).typography.header,{flex:1,marginLeft:_r(d[9]).spacing.sm}),recordingBar:{backgroundColor:_r(d[9]).colors.recording,paddingVertical:_r(d[9]).spacing.md,alignItems:'center'},recordingText:Object.assign({},_r(d[9]).typography.status,{color:_r(d[9]).colors.text}),statusBar:{backgroundColor:_r(d[9]).colors.bgSecondary,paddingVertical:_r(d[9]).spacing.sm,alignItems:'center'},statusText:Object.assign({},_r(d[9]).typography.small,{color:_r(d[9]).colors.textMuted}),messageList:{paddingVertical:_r(d[9]).spacing.sm,paddingHorizontal:_r(d[9]).spacing.sm,flexGrow:1},messageItem:{paddingVertical:_r(d[9]).spacing.sm,paddingHorizontal:_r(d[9]).spacing.md,marginBottom:_r(d[9]).spacing.xs,borderWidth:2,borderColor:'transparent'},messageItemFocused:{borderColor:_r(d[9]).colors.focus},ownMessage:{backgroundColor:_r(d[9]).colors.primary,alignSelf:'flex-end',maxWidth:'85%'},otherMessage:{backgroundColor:_r(d[9]).colors.bgSecondary,alignSelf:'flex-start',maxWidth:'85%'},messageRow:{flexDirection:'row',alignItems:'center'},playIcon:{width:10,height:10,borderRadius:5,backgroundColor:_r(d[9]).colors.textSecondary,marginRight:_r(d[9]).spacing.sm},playIconActive:{backgroundColor:_r(d[9]).colors.playing},duration:Object.assign({},_r(d[9]).typography.body,{marginRight:_r(d[9]).spacing.sm}),sender:Object.assign({},_r(d[9]).typography.small,{flex:1}),emptyContainer:Object.assign({},_r(d[9]).components.emptyState),emptyText:Object.assign({},_r(d[9]).components.emptyText)})},1013,[1,356,75,2,244,1010,1014,735,1011,1008]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useAudioPlayer=function(){var u=(0,o.useState)(!1),c=(0,n.default)(u,2),l=c[0],f=c[1],s=(0,o.useState)(0),v=(0,n.default)(s,2),y=v[0],S=v[1],b=(0,o.useState)(0),k=(0,n.default)(b,2),P=k[0],p=k[1],R=(0,o.useState)(null),C=(0,n.default)(R,2),D=C[0],_=C[1];(0,o.useEffect)(function(){var u=r(d[4]).audioService.onPlaybackProgress(function(u,t){S(u),p(t)}),t=r(d[4]).audioService.onPlaybackComplete(function(){f(!1),S(0)});return function(){u(),t()}},[]);var A=(0,o.useCallback)((function(){var u=(0,t.default)(function*(u){yield r(d[4]).audioService.startPlayback(u),f(!0),_(u)});return function(t){return u.apply(this,arguments)}})(),[]),E=(0,o.useCallback)((0,t.default)(function*(){yield r(d[4]).audioService.stopPlayback(),f(!1),S(0),_(null)}),[]),h=(0,o.useCallback)((0,t.default)(function*(){yield r(d[4]).audioService.pausePlayback(),f(!1)}),[]),j=(0,o.useCallback)((0,t.default)(function*(){yield r(d[4]).audioService.resumePlayback(),f(!0)}),[]);return{isPlaying:l,currentPosition:y,duration:P,currentUri:D,play:A,stop:E,pause:h,resume:j,formatDuration:r(d[4]).audioService.formatDuration}},e.useAudioRecorder=function(){var u=(0,o.useState)(!1),c=(0,n.default)(u,2),l=c[0],f=c[1],s=(0,o.useState)(0),v=(0,n.default)(s,2),y=v[0],S=v[1];(0,o.useEffect)(function(){return r(d[4]).audioService.onRecordingProgress(function(u){S(u)})},[]);var b=(0,o.useCallback)((0,t.default)(function*(){yield r(d[4]).audioService.startRecording(),f(!0),S(0)}),[]),k=(0,o.useCallback)((0,t.default)(function*(){var u=yield r(d[4]).audioService.stopRecording();return f(!1),u}),[]),P=(0,o.useCallback)((0,t.default)(function*(){yield r(d[4]).audioService.cancelRecording(),f(!1),S(0)}),[]);return{isRecording:l,recordingDuration:y,startRecording:b,stopRecording:k,cancelRecording:P,formatDuration:r(d[4]).audioService.formatDuration}};var t=u(r(d[1])),n=u(r(d[2])),o=r(d[3])},1014,[1,356,34,75,1015]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.audioService=void 0;var r=e(_r(d[1])),t=e(_r(d[2])),i=e(_r(d[3])),n=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var n,o,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(n=r?i:t){if(n.has(e))return n.get(e);n.set(e,c)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?n(c,u,o):c[u]=e[u]);return c})(e,r)})(_r(d[4])),o=e(_r(d[5]));var c=(function(){return(0,i.default)(function e(){(0,t.default)(this,e),this.audioRecorderPlayer=n.default,this.isRecording=!1,this.isPlaying=!1,this.currentRecordingPath=null,this.recordingStartTime=0,this.recordingCallbacks=[],this.playbackCallbacks=[],this.playbackCompleteCallbacks=[],this.audioRecorderPlayer.setSubscriptionDuration(.1)},[{key:"startRecording",value:(f=(0,r.default)(function*(){var e=this;if(this.isRecording)throw new Error('Already recording');var r=Date.now(),t=`${o.default.CachesDirectoryPath}/voice_${r}.m4a`,i={AudioEncoderAndroid:n.AudioEncoderAndroidType.AAC,AudioSourceAndroid:n.AudioSourceAndroidType.MIC,AVEncoderAudioQualityKeyIOS:n.AVEncoderAudioQualityIOSType.medium,AVNumberOfChannelsKeyIOS:1,AVFormatIDKeyIOS:'aac',OutputFormatAndroid:n.OutputFormatAndroidType.AAC_ADTS};this.currentRecordingPath=t,this.recordingStartTime=Date.now(),this.isRecording=!0,yield this.audioRecorderPlayer.startRecorder(t,i),this.audioRecorderPlayer.addRecordBackListener(function(r){var t=r.currentPosition;e.recordingCallbacks.forEach(function(e){return e(t)})})}),function(){return f.apply(this,arguments)})},{key:"stopRecording",value:(h=(0,r.default)(function*(){if(!this.isRecording||!this.currentRecordingPath)throw new Error('Not recording');yield this.audioRecorderPlayer.stopRecorder(),this.audioRecorderPlayer.removeRecordBackListener(),this.isRecording=!1;var e=Date.now()-this.recordingStartTime,r=yield o.default.stat(this.currentRecordingPath),t={uri:this.currentRecordingPath,duration:e,size:Number(r.size),mimeType:'audio/mp4'};return this.currentRecordingPath=null,t}),function(){return h.apply(this,arguments)})},{key:"cancelRecording",value:(y=(0,r.default)(function*(){if(this.isRecording){if(yield this.audioRecorderPlayer.stopRecorder(),this.audioRecorderPlayer.removeRecordBackListener(),this.isRecording=!1,this.currentRecordingPath)try{yield o.default.unlink(this.currentRecordingPath)}catch(e){}this.currentRecordingPath=null}}),function(){return y.apply(this,arguments)})},{key:"startPlayback",value:(s=(0,r.default)(function*(e){var r=this;this.isPlaying&&(yield this.stopPlayback()),this.isPlaying=!0,yield this.audioRecorderPlayer.startPlayer(e),this.audioRecorderPlayer.addPlayBackListener(function(e){var t=e.currentPosition,i=e.duration;r.playbackCallbacks.forEach(function(e){return e(t,i)}),t>=i-100&&(r.stopPlayback(),r.playbackCompleteCallbacks.forEach(function(e){return e()}))})}),function(e){return s.apply(this,arguments)})},{key:"stopPlayback",value:(l=(0,r.default)(function*(){this.isPlaying&&(yield this.audioRecorderPlayer.stopPlayer(),this.audioRecorderPlayer.removePlayBackListener(),this.isPlaying=!1)}),function(){return l.apply(this,arguments)})},{key:"pausePlayback",value:(u=(0,r.default)(function*(){this.isPlaying&&(yield this.audioRecorderPlayer.pausePlayer())}),function(){return u.apply(this,arguments)})},{key:"resumePlayback",value:(c=(0,r.default)(function*(){yield this.audioRecorderPlayer.resumePlayer()}),function(){return c.apply(this,arguments)})},{key:"seekTo",value:(e=(0,r.default)(function*(e){yield this.audioRecorderPlayer.seekToPlayer(e)}),function(r){return e.apply(this,arguments)})},{key:"getIsRecording",value:function(){return this.isRecording}},{key:"getIsPlaying",value:function(){return this.isPlaying}},{key:"onRecordingProgress",value:function(e){var r=this;return this.recordingCallbacks.push(e),function(){r.recordingCallbacks=r.recordingCallbacks.filter(function(r){return r!==e})}}},{key:"onPlaybackProgress",value:function(e){var r=this;return this.playbackCallbacks.push(e),function(){r.playbackCallbacks=r.playbackCallbacks.filter(function(r){return r!==e})}}},{key:"onPlaybackComplete",value:function(e){var r=this;return this.playbackCompleteCallbacks.push(e),function(){r.playbackCompleteCallbacks=r.playbackCompleteCallbacks.filter(function(r){return r!==e})}}},{key:"formatDuration",value:function(e){var r=Math.floor(e/1e3);return`${Math.floor(r/60)}:${(r%60).toString().padStart(2,'0')}`}}]);var e,c,u,l,s,y,h,f})();_e.audioService=new c},1015,[1,356,11,12,1016,999]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n={};e.default=void 0;var c=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3]));Object.keys(r(d[4])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[4])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[4])[t]}}))});var s=(function(){return(0,o.default)(function t(){(0,u.default)(this,t),this.hybridObject=null},[{key:"getHybridObject",value:function(){if(!this.hybridObject)try{console.log('\ud83d\udd27 Creating AudioRecorderPlayer HybridObject...'),this.hybridObject=r(d[5]).NitroModules.createHybridObject('AudioRecorderPlayer'),console.log('\ud83d\udd27 HybridObject created successfully:',!!this.hybridObject)}catch(t){throw console.error('\ud83d\udd27 Failed to create HybridObject:',t),new Error(`Failed to create AudioRecorderPlayer HybridObject: ${t}`)}return this.hybridObject}},{key:"startRecorder",value:(O=(0,c.default)(function*(t,n,c){try{console.log('\ud83d\udd27 Getting HybridObject for startRecorder...');var u=this.getHybridObject();console.log('\ud83d\udd27 HybridObject obtained, calling startRecorder...'),console.log('\ud83d\udd27 Parameters:',{uri:t,audioSets:n,meteringEnabled:c});var o=yield u.startRecorder(t,n,c);return console.log('\ud83d\udd27 startRecorder completed with result:',o),o}catch(t){throw console.error('\ud83d\udd27 startRecorder failed:',t),t}}),function(t,n,c){return O.apply(this,arguments)})},{key:"pauseRecorder",value:(k=(0,c.default)(function*(){return this.getHybridObject().pauseRecorder()}),function(){return k.apply(this,arguments)})},{key:"resumeRecorder",value:(p=(0,c.default)(function*(){return this.getHybridObject().resumeRecorder()}),function(){return p.apply(this,arguments)})},{key:"stopRecorder",value:(h=(0,c.default)(function*(){return this.getHybridObject().stopRecorder()}),function(){return h.apply(this,arguments)})},{key:"startPlayer",value:(f=(0,c.default)(function*(t,n){return this.getHybridObject().startPlayer(t,n)}),function(t,n){return f.apply(this,arguments)})},{key:"stopPlayer",value:(b=(0,c.default)(function*(){return this.getHybridObject().stopPlayer()}),function(){return b.apply(this,arguments)})},{key:"pausePlayer",value:(y=(0,c.default)(function*(){return this.getHybridObject().pausePlayer()}),function(){return y.apply(this,arguments)})},{key:"resumePlayer",value:(l=(0,c.default)(function*(){return this.getHybridObject().resumePlayer()}),function(){return l.apply(this,arguments)})},{key:"seekToPlayer",value:(s=(0,c.default)(function*(t){return this.getHybridObject().seekToPlayer(t)}),function(t){return s.apply(this,arguments)})},{key:"setVolume",value:(n=(0,c.default)(function*(t){return this.getHybridObject().setVolume(t)}),function(t){return n.apply(this,arguments)})},{key:"setPlaybackSpeed",value:(t=(0,c.default)(function*(t){return this.getHybridObject().setPlaybackSpeed(t)}),function(n){return t.apply(this,arguments)})},{key:"setSubscriptionDuration",value:function(t){this.getHybridObject().setSubscriptionDuration(t)}},{key:"addRecordBackListener",value:function(t){this.getHybridObject().addRecordBackListener(t)}},{key:"removeRecordBackListener",value:function(){this.getHybridObject().removeRecordBackListener()}},{key:"addPlayBackListener",value:function(t){this.getHybridObject().addPlayBackListener(t)}},{key:"removePlayBackListener",value:function(){this.getHybridObject().removePlayBackListener()}},{key:"addPlaybackEndListener",value:function(t){this.getHybridObject().addPlaybackEndListener(t)}},{key:"removePlaybackEndListener",value:function(){this.getHybridObject().removePlaybackEndListener()}},{key:"mmss",value:function(t){return this.getHybridObject().mmss(t)}},{key:"mmssss",value:function(t){return this.getHybridObject().mmssss(t)}}]);var t,n,s,l,y,b,f,h,p,k,O})(),l=new s;e.default=l},1016,[1,356,11,12,1017,1018]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputFormatAndroidType=e.AudioSourceAndroidType=e.AudioEncoderAndroidType=e.AVLinearPCMBitDepthKeyIOSType=e.AVEncoderAudioQualityIOSType=void 0;e.AudioSourceAndroidType=(function(A){return A[A.DEFAULT=0]="DEFAULT",A[A.MIC=1]="MIC",A[A.VOICE_UPLINK=2]="VOICE_UPLINK",A[A.VOICE_DOWNLINK=3]="VOICE_DOWNLINK",A[A.VOICE_CALL=4]="VOICE_CALL",A[A.CAMCORDER=5]="CAMCORDER",A[A.VOICE_RECOGNITION=6]="VOICE_RECOGNITION",A[A.VOICE_COMMUNICATION=7]="VOICE_COMMUNICATION",A[A.REMOTE_SUBMIX=8]="REMOTE_SUBMIX",A[A.UNPROCESSED=9]="UNPROCESSED",A[A.RADIO_TUNER=1998]="RADIO_TUNER",A[A.HOTWORD=1999]="HOTWORD",A})({}),e.OutputFormatAndroidType=(function(A){return A[A.DEFAULT=0]="DEFAULT",A[A.THREE_GPP=1]="THREE_GPP",A[A.MPEG_4=2]="MPEG_4",A[A.AMR_NB=3]="AMR_NB",A[A.AMR_WB=4]="AMR_WB",A[A.AAC_ADIF=5]="AAC_ADIF",A[A.AAC_ADTS=6]="AAC_ADTS",A[A.OUTPUT_FORMAT_RTP_AVP=7]="OUTPUT_FORMAT_RTP_AVP",A[A.MPEG_2_TS=8]="MPEG_2_TS",A[A.WEBM=9]="WEBM",A})({}),e.AudioEncoderAndroidType=(function(A){return A[A.DEFAULT=0]="DEFAULT",A[A.AMR_NB=1]="AMR_NB",A[A.AMR_WB=2]="AMR_WB",A[A.AAC=3]="AAC",A[A.HE_AAC=4]="HE_AAC",A[A.AAC_ELD=5]="AAC_ELD",A[A.VORBIS=6]="VORBIS",A})({}),e.AVEncoderAudioQualityIOSType=(function(A){return A[A.min=0]="min",A[A.low=32]="low",A[A.medium=64]="medium",A[A.high=96]="high",A[A.max=127]="max",A})({}),e.AVLinearPCMBitDepthKeyIOSType=(function(A){return A[A.bit8=8]="bit8",A[A.bit16=16]="bit16",A[A.bit24=24]="bit24",A[A.bit32=32]="bit32",A})({})},1017,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))}),Object.keys(r(d[1])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[1])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[1])[n]}}))}),Object.keys(r(d[2])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[2])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[2])[n]}}))}),Object.keys(r(d[3])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[3])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[3])[n]}}))}),Object.keys(r(d[4])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[4])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[4])[n]}}))}),Object.keys(r(d[5])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[5])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[5])[n]}}))}),Object.keys(r(d[6])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[6])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[6])[n]}}))}),Object.keys(r(d[7])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[7])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[7])[n]}}))}),Object.keys(r(d[8])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[8])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[8])[n]}}))}),Object.keys(r(d[9])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[9])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[9])[n]}}))})},1018,[1019,1020,1021,1022,1023,1027,1024,1028,1029,1030]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},1019,[]);
__d(function(g,r,i,a,m,e,d){},1020,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},1021,[]);
__d(function(g,r,i,a,m,e,d){},1022,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getHybridObjectConstructor=function(o){if(t.has(o))return t.get(o);var n=function(){var t=r(d[0]).NitroModules.createHybridObject(o),p=Object.getPrototypeOf(t);return n.prototype!==p&&(n.prototype=p,n.prototypeInitialized=!0),t};return n.prototypeInitialized=!1,Object.defineProperty(n,Symbol.hasInstance,{value:function(t){if(!n.prototypeInitialized){var p=r(d[0]).NitroModules.createHybridObject(o);n.prototype=Object.getPrototypeOf(p),n.prototypeInitialized=!0}for(var y=Object.getPrototypeOf(t);null!=y;){if(y===n.prototype)return!0;y=Object.getPrototypeOf(y)}return!1}}),t.set(o,n),n};var t=new Map},1023,[1024]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))})},1024,[1025]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.NitroModules=void 0,_e.isRuntimeAlive=function(){var o=globalThis.__nitroJsiCache,l=globalThis.__nitroDispatcher;return null!=o&&null!=l};var o,l=r(d[0]);try{o=l.TurboModuleRegistry.getEnforcing('NitroModules')}catch(o){throw new(r(d[1]).ModuleNotFoundError)(o)}var t=o.install();if(null!=t)throw new Error(`Failed to install Nitro: ${t}`);if(null==(_e.NitroModules=g.NitroModulesProxy)){var e=new Error('NitroModules was installed, but `global.NitroModulesProxy` was null!');throw new(r(d[1]).ModuleNotFoundError)(e)}},1025,[2,1026]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ModuleNotFoundError=void 0;var o=e(r(d[1])),t=e(r(d[2])),u=e(r(d[3])),n=e(r(d[4])),s=e(r(d[5])),l=e(r(d[6])),c=r(d[7]);function p(e,o,t){return o=(0,n.default)(o),(0,u.default)(e,f()?Reflect.construct(o,t||[],(0,n.default)(e).constructor):o.apply(e,t))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function h(e,o){return e+"\n* "+o.join("\n* ")}_e.ModuleNotFoundError=(function(e){function n(e){var o;(0,t.default)(this,n);var s,l,f=null!=(l=null==(s=c.NativeModules.NativeUnimoduleProxy)||null==(s=s.modulesConstants)?void 0:s.ExponentConstants)?'expo'===l.appOwnership?'expo-go':'expo':'react-native';if('expo-go'===f)return o=p(this,n,['NitroModules are not supported in Expo Go! Use EAS (`expo prebuild`) or eject to a bare workflow instead.']),(0,u.default)(o);var v=[];switch(v.push('Make sure react-native-nitro-modules/NitroModules is correctly autolinked (run `npx react-native config` to verify)'),v.push('Make sure you enabled the new architecture (TurboModules) and CodeGen properly generated the "NativeNitroModules"/NitroModules specs. See https://github.com/reactwg/react-native-new-architecture/blob/main/docs/enable-apps.md'),v.push('Make sure you are using react-native 0.75.0 or higher.'),v.push('Make sure you rebuilt the app.'),'expo'===f&&v.push('Make sure you ran `expo prebuild`.'),c.Platform.OS){case'ios':case'macos':v.push('Make sure you ran `pod install` in the ios/ directory.');break;case'android':v.push('Make sure gradle is synced.');break;default:throw new Error(`NitroModules are not yet supported on ${c.Platform.OS}!`)}return p(this,n,[h('Failed to get NitroModules: The native "NitroModules" Turbo/Native-Module could not be found.',v),{cause:e}])}return(0,s.default)(n,e),(0,o.default)(n)})((0,l.default)(Error))},1026,[1,12,11,18,20,23,144,2]);
__d(function(g,r,i,a,m,e,d){},1027,[]);
__d(function(g,r,i,a,m,e,d){},1028,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},1029,[]);
__d(function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.callback=function(t){if('function'==typeof t)return{f:t};return t},_e.getHostComponent=function(r,o){if(null==e)throw new Error(`NativeComponentRegistry is not available on ${t.Platform.OS}!`);return e.get(r,function(){var t=o();return t.validAttributes=n(t.validAttributes),t})};var t=_r(d[0]),e=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var o,f,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(o=e?r:n){if(o.has(t))return o.get(t);o.set(t,u)}for(var i in t)"default"!==i&&{}.hasOwnProperty.call(t,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,i))&&(f.get||f.set)?o(u,i,f):u[i]=t[i]);return u})(t,e)})(_r(d[1]));function n(t){var e=Object.keys(t);for(var n of e)t[n]={diff:function(t,e){return t!==e},process:function(t){return t}};return t}},1030,[2,78]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDebugOverlay=function(){var t=(0,r(d[4]).useKeyEvents)(8),y=t.lastKey,n=t.keyHistory;return(0,s.jsxs)(o.View,{style:l.container,children:[(0,s.jsxs)(o.View,{style:l.currentKey,children:[(0,s.jsx)(o.Text,{style:l.label,children:"LAST KEY:"}),y?(0,s.jsxs)(o.Text,{style:l.keyCode,children:[y.keyName," (",y.keyCode,")"]}):(0,s.jsx)(o.Text,{style:l.keyCode,children:"Press any key..."})]}),(0,s.jsxs)(o.View,{style:l.history,children:[(0,s.jsx)(o.Text,{style:l.label,children:"HISTORY:"}),(0,s.jsx)(o.ScrollView,{style:l.historyList,children:n.map(function(t,y){return(0,s.jsxs)(o.Text,{style:l.historyItem,children:[t.keyCode," ",t.keyName.replace('KEYCODE_','')]},`${t.timestamp}-${y}`)})})]})]})};t(r(d[1]));var o=r(d[2]),s=r(d[3]);var l=o.StyleSheet.create({container:{position:'absolute',bottom:0,left:0,right:0,backgroundColor:'rgba(0, 0, 0, 0.9)',padding:r(d[5]).spacing.sm,borderTopWidth:2,borderTopColor:r(d[5]).colors.focus},currentKey:{marginBottom:r(d[5]).spacing.sm},label:Object.assign({},r(d[5]).typography.small,{color:r(d[5]).colors.focus,marginBottom:r(d[5]).spacing.xs}),keyCode:Object.assign({},r(d[5]).typography.title,{color:r(d[5]).colors.text}),history:{maxHeight:100},historyList:{flexGrow:0},historyItem:Object.assign({},r(d[5]).typography.small,{color:r(d[5]).colors.textSecondary,marginBottom:2})})},1031,[1,75,2,244,1032,1008]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useKeyEvents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,f=(0,u.useState)(null),v=(0,o.default)(f,2),s=v[0],l=v[1],y=(0,u.useState)([]),k=(0,o.default)(y,2),E=k[0],_=k[1];return(0,u.useEffect)(function(){var o=c.DeviceEventEmitter.addListener('onKeyEvent',function(o){var u={keyCode:o.keyCode,action:o.action,keyName:o.keyName,timestamp:Date.now()};l(u),'DOWN'===o.action&&_(function(o){return[u].concat((0,n.default)(o)).slice(0,t)})});return function(){o.remove()}},[t]),{lastKey:s,keyHistory:E}};var n=t(r(d[1])),o=t(r(d[2])),u=r(d[3]),c=r(d[4])},1032,[1,42,34,75,2]);
__d(function(a,t,e,n,d,i,m){d.exports={name:"wata",displayName:"wata"}},1033,[]);
__r(112);
__r(0);